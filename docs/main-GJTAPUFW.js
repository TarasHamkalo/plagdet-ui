import"./chunk-6FLCXGAT.js";import{$ as bt,$a as Aj,$b as fe,A as ii,Aa as Oe,Ab as ke,Ac as Gj,B as jA,Ba as gh,Bb as z,Bc as Ke,C as mc,Ca as Ue,Cb as bo,Cc as Yi,D as qs,Da as _h,Db as Se,Dc as Yr,E as dl,Ea as yj,Eb as Ao,Ec as Ri,F as UA,Fa as vh,Fb as zj,Fc as cn,G as _o,Ga as wj,Gb as Xe,Gc as yx,H as qA,Ha as Ia,Hb as Bj,I as uj,Ia as Ei,Ib as Gs,J as GA,Ja as rv,Jb as $r,Jc as aO,K as pc,Ka as xj,Kb as Kr,Kc as lO,L as ul,La as QA,Lb as w,M as $A,Ma as _x,Mb as x,Mc as GC,N as hj,Na as To,Nb as Y,Nc as cO,O as KA,Oa as sv,Ob as sn,P as mj,Pa as mp,Pb as an,Q as pj,Qa as pp,Qb as ln,R as YA,Ra as Cj,Rb as Ft,S as fx,Sa as Sj,Sb as fs,T as Ji,Ta as Dj,Tb as gs,U as En,Ua as Ij,Ub as no,V as Ct,Va as Ej,Vb as de,W as gx,Wa as Mj,Wb as X,X as on,Xa as kj,Xb as wt,Y as si,Ya as ps,Yb as Fe,Z as pr,Za as av,Zb as xt,_ as se,_a as Tj,_b as st,a as _n,aa as fj,ab as fp,ac as ge,b as aj,ba as ae,bb as D,bc as Hj,c as mr,ca as XA,cb as gp,cc as Vj,d as HA,da as Je,db as vo,dc as bx,e as tv,ea as y,eb as Qo,ec as oo,f as De,fa as fc,fb as Li,fc as P,g as go,ga as gj,gb as J,gc as xe,h as mx,ha as kr,hb as JA,hc as ni,i as VA,ia as Da,ib as io,ic as lv,j as xa,ja as fi,jb as Rj,jc as Ea,k as lj,ka as et,kb as Oj,kc as Ma,l as Pn,la as tt,lb as vx,lc as ka,m as Ve,ma as gi,mb as Pj,mc as Wj,n as Ca,na as nv,nb as eR,nc as At,o as iv,oa as Xt,ob as Z,oc as $s,p as cj,pa as ZA,pb as yt,pc as yh,q as rt,qa as _i,qb as me,qc as Ni,r as hc,ra as hp,rb as gc,rc as Fi,s as Zo,sa as _j,sb as ut,sc as wh,t as WA,ta as vj,tb as Lj,tc as iR,u as px,ua as ov,ub as ee,uc as jj,v as Sa,va as Le,vb as tR,vc as Uj,w as Sd,wa as Ye,wb as _p,wc as nR,x as fh,xa as Dd,xb as Nj,xc as Gt,y as dj,ya as bj,yb as Fj,yc as _c,z as nn,za as rn,zb as bh,zc as qj}from"./chunk-YBNVS3CB.js";import{$ as gr,$a as fv,$b as Fn,$c as so,$d as Hx,$e as Gn,$f as R5,$g as Rc,$h as MU,$i as wr,$j as CC,$k as FC,A as _,Aa as bc,Ab as C4,Ac as Nx,Ad as X4,Ae as Ec,Af as Mue,Ag as LR,Ah as Tue,Ai as Hp,Aj as qp,Ak as RC,Al as sO,B as Ne,Ba as a4,Bb as S4,Bc as V4,Bd as yl,Be as n5,Bf as kn,Bg as j5,Bh as ea,Bi as fC,Bj as lt,Bk as OC,Bl as P8,C as Re,Ca as xp,Cb as Ax,Cc as bR,Cd as jn,Ce as Na,Cf as f5,Cg as tC,Ch as bU,Ci as Vd,Cj as wn,Ck as $p,Cl as L8,D as Ed,Da as Tx,Db as D4,Dc as W4,Dd as $t,De as o5,Df as Zs,Dg as Tc,Dh as zd,Di as PU,Dj as Il,Dk as Nv,Dl as N8,E as fr,Ea as l4,Eb as Rx,Ec as ci,Ed as $i,Ee as wue,Ef as Sl,Eg as U5,Eh as Mv,Ei as Aue,Ej as QU,Ek as Fv,El as Hue,F as Jj,Fa as mt,Fb as gR,Fc as Eh,Fd as Un,Fe as ER,Ff as g5,Fg as iC,Fh as Kn,Fi as gC,Fj as Go,Fk as y8,Fl as Ud,G as Md,Ga as Ln,Gb as zi,Gc as Ra,Gd as Oa,Ge as r5,Gf as Oh,Gg as nC,Gh as za,Gi as LU,Gj as wC,Gk as PC,H as e4,Ha as pe,Hb as I4,Hc as Ce,Hd as ws,He as Wx,Hf as $x,Hg as q5,Hh as Bd,Hi as co,Hj as JU,Hk as Bc,I as cv,Ia as hi,Ib as pue,Ic as Mh,Id as Tp,Ie as s5,If as _5,Ig as G5,Ih as yU,Ii as _C,Ij as e8,Ik as zh,J as t4,Ja as A,Jb as _R,Jc as ye,Jd as zx,Je as a5,Jf as v5,Jg as $5,Jh as zp,Ji as Wd,Jj as t8,Jk as LC,K as yp,Ka as qe,Kb as fue,Kc as j4,Kd as Ki,Ke as wv,Kf as b5,Kg as K5,Kh as mi,Ki as Av,Kj as i8,Kk as JR,L as i4,La as Be,Lb as _v,Lc as ir,Ld as Q,Le as l5,Lf as y5,Lg as $n,Lh as Oc,Li as NU,Lj as n8,Lk as w8,M as tr,Ma as Nn,Mb as E4,Mc as Ro,Md as xR,Me as xue,Mf as w5,Mg as oC,Mh as wU,Mi as Vp,Mj as o8,Mk as T,N as Xr,Na as Ge,Nb as M4,Nc as U4,Nd as Pr,Ne as Rh,Nf as Dv,Ng as Y5,Nh as Cs,Ni as Rv,Nj as r8,Nk as Kt,O as dv,Oa as Wn,Ob as gue,Oc as br,Od as ao,Oe as MR,Of as x5,Og as rC,Oh as Pc,Oi as FU,Oj as qR,Ok as Kp,P as Dx,Pa as Tr,Pb as Ci,Pc as kh,Pd as ze,Pe as jx,Pf as C5,Pg as X5,Ph as xU,Pi as Fr,Pj as Fc,Pk as x8,Q as n4,Qa as mv,Qb as fl,Qc as _t,Qd as V,Qe as Nr,Qf as TR,Qg as Z5,Qh as Lc,Qi as Wp,Qj as GR,Qk as eO,R as aR,Ra as vs,Rb as Ar,Rc as q4,Rd as CR,Re as Fa,Rf as S5,Rg as Q5,Rh as FR,Ri as VR,Rj as s8,Rk as tO,S as hue,Sa as c4,Sb as Td,Sc as Fx,Sd as Z4,Se as xv,Sf as D5,Sg as J5,Sh as CU,Si as WR,Sj as Lv,Sk as iO,T as o4,Ta as pv,Tb as wc,Tc as kp,Td as Te,Te as It,Tf as I5,Tg as eU,Th as SU,Ti as zU,Tj as $R,Tk as C8,U as Ix,Ua as Ta,Ub as vv,Uc as Me,Ud as Q4,Ue as xl,Uf as E5,Ug as tU,Uh as zR,Ui as BU,Uj as a8,Uk as El,V as Ex,Va as Cp,Vb as gl,Vc as jo,Vd as it,Ve as c5,Vf as Kx,Vg as iU,Vh as DU,Vi as vC,Vj as xC,Vk as S8,W as hl,Wa as d4,Wb as ai,Wc as Ot,Wd as Bx,We as ce,Wf as M5,Wg as Ph,Wh as IU,Wi as jp,Wj as KR,Wk as D8,X as wp,Xa as u4,Xb as Ad,Xc as Zt,Xd as yv,Xe as Lt,Xf as AR,Xg as Ac,Xh as BR,Xi as bC,Xj as YR,Xk as I8,Y as uv,Ya as h4,Yb as _r,Yc as Uo,Yd as vue,Ye as Mc,Yf as k5,Yg as sC,Yh as EU,Yi as HU,Yj as XR,Yk as E8,Z as ht,Za as Sp,Zb as k4,Zc as Ui,Zd as J4,Ze as kR,Zf as T5,Zg as aC,Zh as HR,Zi as VU,Zj as l8,Zk as NC,_ as zt,_a as m4,_b as Ht,_c as bs,_d as bue,_e as Ux,_f as A5,_g as nU,_h as lC,_i as Nc,_j as c8,_k as Yp,a as Jo,aa as kd,ab as p4,ac as T4,ad as vl,ae as e5,af as Bi,ag as O5,ah as oU,ai as Nh,aj as Fh,ak as SC,al as zC,b as xh,ba as _s,bb as dR,bc as A4,bd as bl,be as vt,bf as Ld,bg as P5,bh as kue,bi as kU,bj as wo,bk as Gp,bl as BC,c as $j,ca as ml,cb as Dp,cc as Ih,cd as xc,ce as bn,cf as Oo,cg as L5,ch as rU,ci as kv,cj as jR,ck as Ii,cl as Xp,d as oR,da as Bt,db as uR,dc as Ox,dd as yR,de as qn,df as Cv,dg as N5,dh as NR,di as TU,dj as Ov,dk as DC,dl as HC,e as er,ea as Mx,eb as vn,ec as R4,ed as G4,ee as Pa,ef as Rp,eg as F5,eh as Lh,ei as AU,ej as WU,ek as d8,el as VC,f as Kj,fa as r4,fb as f4,fc as Aa,fd as Th,fe as qo,ff as Op,fg as Yx,fh as sU,fi as cC,fj as yC,fk as u8,fl as Zp,g as Mn,ga as kx,gb as mue,gc as Rr,gd as Dt,ge as Sc,gf as Hi,gg as RR,gh as yr,gi as dC,gj as UR,gk as h8,gl as M8,h as wx,ha as dn,hb as Ip,hc as St,hd as nr,he as zn,hf as d5,hg as OR,hh as aU,hi as Ss,hj as jU,hk as m8,hl as zv,i as xx,ia as lR,ib as hR,ic as vr,id as di,ie as SR,if as Cue,ig as Iv,ih as Np,ii as uC,ij as UU,ik as IC,il as WC,j as vc,ja as kt,jb as g4,jc as O4,jd as Pt,je as Od,jf as u5,jg as PR,jh as lU,ji as Bp,jj as Rue,jk as p8,jl as zr,k as Ch,ka as G,kb as Ep,kc as P4,kd as qi,ke as DR,kf as Sue,kg as z5,kh as cU,ki as Yn,kj as qU,kk as Va,kl as nO,l as Yj,la as U,lb as yc,lc as Px,ld as K,le as Dc,lf as yn,lg as B5,lh as Ev,li as Tv,lj as Oue,lk as EC,ll as k8,m as Xj,ma as un,mb as _4,mc as vR,md as $4,me as Vx,mf as Xs,mg as Xx,mh as Zr,mi as RU,mj as GU,mk as MC,ml as Bv,n as Oi,na as s4,nb as v4,nc as L4,nd as ot,ne as yi,nf as Pp,ng as Lp,nh as mn,ni as qt,nj as Up,nk as ta,nl as T8,o as Cx,oa as ue,ob as Dh,oc as _l,od as Ze,oe as rr,of as Due,og as Zx,oh as Fd,oi as hC,oj as Pue,ok as jd,ol as Bue,p as Sx,pa as Xi,pb as b4,pc as li,pd as pt,pe as t5,pf as h5,pg as Qx,ph as Fp,pi as Ds,pj as $U,pk as kC,pl as A8,q as rR,qa as Ks,qb as gv,qc as N4,qd as K4,qe as Ah,qf as Iue,qg as H5,qh as Js,qi as mC,qj as Lue,qk as TC,ql as oO,r as Sh,ra as xi,rb as hn,rc as F4,rd as _ue,re as IR,rf as qx,rg as Jx,rh as dU,ri as pC,rj as KU,rk as ZR,rl as Qp,s as vp,sa as je,sb as Mp,sc as Gi,sd as yo,se as La,sf as Sv,sg as V5,sh as uU,si as Is,sj as Nue,sk as AC,sl as jC,t as Tt,ta as cR,tb as mR,tc as Or,td as Cc,te as wl,tf as m5,tg as eC,th as hU,ti as Hd,tj as YU,tk as f8,tl as Ml,u as Id,ua as oi,ub as y4,uc as Rd,ud as ys,ue as i5,uf as Eue,ug as Po,uh as mU,ui as ti,uj as Fue,uk as QR,ul as R8,v as Zj,va as Qe,vb as pR,vc as z4,vd as wR,ve as Ic,vf as p5,vg as kc,vh as pU,vi as OU,vj as XU,vk as g8,vl as Bh,w as ro,wa as vi,wb as fR,wc as B4,wd as Y4,we as Pd,wf as Cl,wg as W5,wh as fU,wi as Dl,wj as zue,wk as _8,wl as rO,x as Qj,xa as hv,xb as pl,xc as Lx,xd as be,xe as yue,xf as Pe,xg as Nd,xh as gU,xi as Qr,xj as Pv,xk as v8,xl as UC,y as bp,ya as bi,yb as w4,yc as H4,yd as Ys,ye as Lr,yf as xs,yg as Qs,yh as _U,yi as lo,yj as ZU,yk as zc,yl as qC,z as sR,za as Pi,zb as x4,zc as bv,zd as or,ze as Ap,zf as Gx,zg as Vt,zh as vU,zi as Ba,zj as Ha,zk as b8,zl as O8}from"./chunk-72WQYDLT.js";import{a as j,b as Ae,c as wa,e as ux,f as O,g as BA,h as up,i as rj,j as M,k as sj,l as hx}from"./chunk-EJUJSVO6.js";var rG=O((oG,EP)=>{"use strict";(function(n){typeof oG=="object"&&typeof EP<"u"?EP.exports=n():typeof define=="function"&&define.amd?define([],n):(typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this).JSZip=n()})(function(){return function n(t,e,i){function o(a,l){if(!e[a]){if(!t[a]){var c=typeof wa=="function"&&wa;if(!l&&c)return c(a,!0);if(r)return r(a,!0);var d=new Error("Cannot find module '"+a+"'");throw d.code="MODULE_NOT_FOUND",d}var u=e[a]={exports:{}};t[a][0].call(u.exports,function(h){var m=t[a][1][h];return o(m||h)},u,u.exports,n,t,e,i)}return e[a].exports}for(var r=typeof wa=="function"&&wa,s=0;s<i.length;s++)o(i[s]);return o}({1:[function(n,t,e){"use strict";var i=n("./utils"),o=n("./support"),r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";e.encode=function(s){for(var a,l,c,d,u,h,m,f=[],p=0,g=s.length,v=g,b=i.getTypeOf(s)!=="string";p<s.length;)v=g-p,c=b?(a=s[p++],l=p<g?s[p++]:0,p<g?s[p++]:0):(a=s.charCodeAt(p++),l=p<g?s.charCodeAt(p++):0,p<g?s.charCodeAt(p++):0),d=a>>2,u=(3&a)<<4|l>>4,h=1<v?(15&l)<<2|c>>6:64,m=2<v?63&c:64,f.push(r.charAt(d)+r.charAt(u)+r.charAt(h)+r.charAt(m));return f.join("")},e.decode=function(s){var a,l,c,d,u,h,m=0,f=0,p="data:";if(s.substr(0,p.length)===p)throw new Error("Invalid base64 input, it looks like a data url.");var g,v=3*(s=s.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(s.charAt(s.length-1)===r.charAt(64)&&v--,s.charAt(s.length-2)===r.charAt(64)&&v--,v%1!=0)throw new Error("Invalid base64 input, bad content length.");for(g=o.uint8array?new Uint8Array(0|v):new Array(0|v);m<s.length;)a=r.indexOf(s.charAt(m++))<<2|(d=r.indexOf(s.charAt(m++)))>>4,l=(15&d)<<4|(u=r.indexOf(s.charAt(m++)))>>2,c=(3&u)<<6|(h=r.indexOf(s.charAt(m++))),g[f++]=a,u!==64&&(g[f++]=l),h!==64&&(g[f++]=c);return g}},{"./support":30,"./utils":32}],2:[function(n,t,e){"use strict";var i=n("./external"),o=n("./stream/DataWorker"),r=n("./stream/Crc32Probe"),s=n("./stream/DataLengthProbe");function a(l,c,d,u,h){this.compressedSize=l,this.uncompressedSize=c,this.crc32=d,this.compression=u,this.compressedContent=h}a.prototype={getContentWorker:function(){var l=new o(i.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new s("data_length")),c=this;return l.on("end",function(){if(this.streamInfo.data_length!==c.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),l},getCompressedWorker:function(){return new o(i.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},a.createWorkerFrom=function(l,c,d){return l.pipe(new r).pipe(new s("uncompressedSize")).pipe(c.compressWorker(d)).pipe(new s("compressedSize")).withStreamInfo("compression",c)},t.exports=a},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,t,e){"use strict";var i=n("./stream/GenericWorker");e.STORE={magic:"\0\0",compressWorker:function(){return new i("STORE compression")},uncompressWorker:function(){return new i("STORE decompression")}},e.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,t,e){"use strict";var i=n("./utils"),o=function(){for(var r,s=[],a=0;a<256;a++){r=a;for(var l=0;l<8;l++)r=1&r?3988292384^r>>>1:r>>>1;s[a]=r}return s}();t.exports=function(r,s){return r!==void 0&&r.length?i.getTypeOf(r)!=="string"?function(a,l,c,d){var u=o,h=d+c;a^=-1;for(var m=d;m<h;m++)a=a>>>8^u[255&(a^l[m])];return-1^a}(0|s,r,r.length,0):function(a,l,c,d){var u=o,h=d+c;a^=-1;for(var m=d;m<h;m++)a=a>>>8^u[255&(a^l.charCodeAt(m))];return-1^a}(0|s,r,r.length,0):0}},{"./utils":32}],5:[function(n,t,e){"use strict";e.base64=!1,e.binary=!1,e.dir=!1,e.createFolders=!0,e.date=null,e.compression=null,e.compressionOptions=null,e.comment=null,e.unixPermissions=null,e.dosPermissions=null},{}],6:[function(n,t,e){"use strict";var i=null;i=typeof Promise<"u"?Promise:n("lie"),t.exports={Promise:i}},{lie:37}],7:[function(n,t,e){"use strict";var i=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",o=n("pako"),r=n("./utils"),s=n("./stream/GenericWorker"),a=i?"uint8array":"array";function l(c,d){s.call(this,"FlateWorker/"+c),this._pako=null,this._pakoAction=c,this._pakoOptions=d,this.meta={}}e.magic="\b\0",r.inherits(l,s),l.prototype.processChunk=function(c){this.meta=c.meta,this._pako===null&&this._createPako(),this._pako.push(r.transformTo(a,c.data),!1)},l.prototype.flush=function(){s.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},l.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this._pako=null},l.prototype._createPako=function(){this._pako=new o[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var c=this;this._pako.onData=function(d){c.push({data:d,meta:c.meta})}},e.compressWorker=function(c){return new l("Deflate",c)},e.uncompressWorker=function(){return new l("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,t,e){"use strict";function i(u,h){var m,f="";for(m=0;m<h;m++)f+=String.fromCharCode(255&u),u>>>=8;return f}function o(u,h,m,f,p,g){var v,b,C=u.file,k=u.compression,E=g!==a.utf8encode,F=r.transformTo("string",g(C.name)),L=r.transformTo("string",a.utf8encode(C.name)),H=C.comment,re=r.transformTo("string",g(H)),R=r.transformTo("string",a.utf8encode(H)),W=L.length!==C.name.length,I=R.length!==H.length,ne="",Et="",ve="",Mt=C.dir,Ie=C.date,Nt={crc32:0,compressedSize:0,uncompressedSize:0};h&&!m||(Nt.crc32=u.crc32,Nt.compressedSize=u.compressedSize,Nt.uncompressedSize=u.uncompressedSize);var oe=0;h&&(oe|=8),E||!W&&!I||(oe|=2048);var te=0,gt=0;Mt&&(te|=16),p==="UNIX"?(gt=798,te|=function($e,Jn){var hr=$e;return $e||(hr=Jn?16893:33204),(65535&hr)<<16}(C.unixPermissions,Mt)):(gt=20,te|=function($e){return 63&($e||0)}(C.dosPermissions)),v=Ie.getUTCHours(),v<<=6,v|=Ie.getUTCMinutes(),v<<=5,v|=Ie.getUTCSeconds()/2,b=Ie.getUTCFullYear()-1980,b<<=4,b|=Ie.getUTCMonth()+1,b<<=5,b|=Ie.getUTCDate(),W&&(Et=i(1,1)+i(l(F),4)+L,ne+="up"+i(Et.length,2)+Et),I&&(ve=i(1,1)+i(l(re),4)+R,ne+="uc"+i(ve.length,2)+ve);var nt="";return nt+=`
\0`,nt+=i(oe,2),nt+=k.magic,nt+=i(v,2),nt+=i(b,2),nt+=i(Nt.crc32,4),nt+=i(Nt.compressedSize,4),nt+=i(Nt.uncompressedSize,4),nt+=i(F.length,2),nt+=i(ne.length,2),{fileRecord:c.LOCAL_FILE_HEADER+nt+F+ne,dirRecord:c.CENTRAL_FILE_HEADER+i(gt,2)+nt+i(re.length,2)+"\0\0\0\0"+i(te,4)+i(f,4)+F+ne+re}}var r=n("../utils"),s=n("../stream/GenericWorker"),a=n("../utf8"),l=n("../crc32"),c=n("../signature");function d(u,h,m,f){s.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=h,this.zipPlatform=m,this.encodeFileName=f,this.streamFiles=u,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}r.inherits(d,s),d.prototype.push=function(u){var h=u.meta.percent||0,m=this.entriesCount,f=this._sources.length;this.accumulate?this.contentBuffer.push(u):(this.bytesWritten+=u.data.length,s.prototype.push.call(this,{data:u.data,meta:{currentFile:this.currentFile,percent:m?(h+100*(m-f-1))/m:100}}))},d.prototype.openedSource=function(u){this.currentSourceOffset=this.bytesWritten,this.currentFile=u.file.name;var h=this.streamFiles&&!u.file.dir;if(h){var m=o(u,h,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:m.fileRecord,meta:{percent:0}})}else this.accumulate=!0},d.prototype.closedSource=function(u){this.accumulate=!1;var h=this.streamFiles&&!u.file.dir,m=o(u,h,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(m.dirRecord),h)this.push({data:function(f){return c.DATA_DESCRIPTOR+i(f.crc32,4)+i(f.compressedSize,4)+i(f.uncompressedSize,4)}(u),meta:{percent:100}});else for(this.push({data:m.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},d.prototype.flush=function(){for(var u=this.bytesWritten,h=0;h<this.dirRecords.length;h++)this.push({data:this.dirRecords[h],meta:{percent:100}});var m=this.bytesWritten-u,f=function(p,g,v,b,C){var k=r.transformTo("string",C(b));return c.CENTRAL_DIRECTORY_END+"\0\0\0\0"+i(p,2)+i(p,2)+i(g,4)+i(v,4)+i(k.length,2)+k}(this.dirRecords.length,m,u,this.zipComment,this.encodeFileName);this.push({data:f,meta:{percent:100}})},d.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},d.prototype.registerPrevious=function(u){this._sources.push(u);var h=this;return u.on("data",function(m){h.processChunk(m)}),u.on("end",function(){h.closedSource(h.previous.streamInfo),h._sources.length?h.prepareNextSource():h.end()}),u.on("error",function(m){h.error(m)}),this},d.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},d.prototype.error=function(u){var h=this._sources;if(!s.prototype.error.call(this,u))return!1;for(var m=0;m<h.length;m++)try{h[m].error(u)}catch{}return!0},d.prototype.lock=function(){s.prototype.lock.call(this);for(var u=this._sources,h=0;h<u.length;h++)u[h].lock()},t.exports=d},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,t,e){"use strict";var i=n("../compressions"),o=n("./ZipFileWorker");e.generateWorker=function(r,s,a){var l=new o(s.streamFiles,a,s.platform,s.encodeFileName),c=0;try{r.forEach(function(d,u){c++;var h=function(g,v){var b=g||v,C=i[b];if(!C)throw new Error(b+" is not a valid compression method !");return C}(u.options.compression,s.compression),m=u.options.compressionOptions||s.compressionOptions||{},f=u.dir,p=u.date;u._compressWorker(h,m).withStreamInfo("file",{name:d,dir:f,date:p,comment:u.comment||"",unixPermissions:u.unixPermissions,dosPermissions:u.dosPermissions}).pipe(l)}),l.entriesCount=c}catch(d){l.error(d)}return l}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,t,e){"use strict";function i(){if(!(this instanceof i))return new i;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var o=new i;for(var r in this)typeof this[r]!="function"&&(o[r]=this[r]);return o}}(i.prototype=n("./object")).loadAsync=n("./load"),i.support=n("./support"),i.defaults=n("./defaults"),i.version="3.10.1",i.loadAsync=function(o,r){return new i().loadAsync(o,r)},i.external=n("./external"),t.exports=i},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,t,e){"use strict";var i=n("./utils"),o=n("./external"),r=n("./utf8"),s=n("./zipEntries"),a=n("./stream/Crc32Probe"),l=n("./nodejsUtils");function c(d){return new o.Promise(function(u,h){var m=d.decompressed.getContentWorker().pipe(new a);m.on("error",function(f){h(f)}).on("end",function(){m.streamInfo.crc32!==d.decompressed.crc32?h(new Error("Corrupted zip : CRC32 mismatch")):u()}).resume()})}t.exports=function(d,u){var h=this;return u=i.extend(u||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:r.utf8decode}),l.isNode&&l.isStream(d)?o.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):i.prepareContent("the loaded zip file",d,!0,u.optimizedBinaryString,u.base64).then(function(m){var f=new s(u);return f.load(m),f}).then(function(m){var f=[o.Promise.resolve(m)],p=m.files;if(u.checkCRC32)for(var g=0;g<p.length;g++)f.push(c(p[g]));return o.Promise.all(f)}).then(function(m){for(var f=m.shift(),p=f.files,g=0;g<p.length;g++){var v=p[g],b=v.fileNameStr,C=i.resolve(v.fileNameStr);h.file(C,v.decompressed,{binary:!0,optimizedBinaryString:!0,date:v.date,dir:v.dir,comment:v.fileCommentStr.length?v.fileCommentStr:null,unixPermissions:v.unixPermissions,dosPermissions:v.dosPermissions,createFolders:u.createFolders}),v.dir||(h.file(C).unsafeOriginalName=b)}return f.zipComment.length&&(h.comment=f.zipComment),h})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,t,e){"use strict";var i=n("../utils"),o=n("../stream/GenericWorker");function r(s,a){o.call(this,"Nodejs stream input adapter for "+s),this._upstreamEnded=!1,this._bindStream(a)}i.inherits(r,o),r.prototype._bindStream=function(s){var a=this;(this._stream=s).pause(),s.on("data",function(l){a.push({data:l,meta:{percent:0}})}).on("error",function(l){a.isPaused?this.generatedError=l:a.error(l)}).on("end",function(){a.isPaused?a._upstreamEnded=!0:a.end()})},r.prototype.pause=function(){return!!o.prototype.pause.call(this)&&(this._stream.pause(),!0)},r.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},t.exports=r},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,t,e){"use strict";var i=n("readable-stream").Readable;function o(r,s,a){i.call(this,s),this._helper=r;var l=this;r.on("data",function(c,d){l.push(c)||l._helper.pause(),a&&a(d)}).on("error",function(c){l.emit("error",c)}).on("end",function(){l.push(null)})}n("../utils").inherits(o,i),o.prototype._read=function(){this._helper.resume()},t.exports=o},{"../utils":32,"readable-stream":16}],14:[function(n,t,e){"use strict";t.exports={isNode:typeof Buffer<"u",newBufferFrom:function(i,o){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(i,o);if(typeof i=="number")throw new Error('The "data" argument must not be a number');return new Buffer(i,o)},allocBuffer:function(i){if(Buffer.alloc)return Buffer.alloc(i);var o=new Buffer(i);return o.fill(0),o},isBuffer:function(i){return Buffer.isBuffer(i)},isStream:function(i){return i&&typeof i.on=="function"&&typeof i.pause=="function"&&typeof i.resume=="function"}}},{}],15:[function(n,t,e){"use strict";function i(C,k,E){var F,L=r.getTypeOf(k),H=r.extend(E||{},l);H.date=H.date||new Date,H.compression!==null&&(H.compression=H.compression.toUpperCase()),typeof H.unixPermissions=="string"&&(H.unixPermissions=parseInt(H.unixPermissions,8)),H.unixPermissions&&16384&H.unixPermissions&&(H.dir=!0),H.dosPermissions&&16&H.dosPermissions&&(H.dir=!0),H.dir&&(C=p(C)),H.createFolders&&(F=f(C))&&g.call(this,F,!0);var re=L==="string"&&H.binary===!1&&H.base64===!1;E&&E.binary!==void 0||(H.binary=!re),(k instanceof c&&k.uncompressedSize===0||H.dir||!k||k.length===0)&&(H.base64=!1,H.binary=!0,k="",H.compression="STORE",L="string");var R=null;R=k instanceof c||k instanceof s?k:h.isNode&&h.isStream(k)?new m(C,k):r.prepareContent(C,k,H.binary,H.optimizedBinaryString,H.base64);var W=new d(C,R,H);this.files[C]=W}var o=n("./utf8"),r=n("./utils"),s=n("./stream/GenericWorker"),a=n("./stream/StreamHelper"),l=n("./defaults"),c=n("./compressedObject"),d=n("./zipObject"),u=n("./generate"),h=n("./nodejsUtils"),m=n("./nodejs/NodejsStreamInputAdapter"),f=function(C){C.slice(-1)==="/"&&(C=C.substring(0,C.length-1));var k=C.lastIndexOf("/");return 0<k?C.substring(0,k):""},p=function(C){return C.slice(-1)!=="/"&&(C+="/"),C},g=function(C,k){return k=k!==void 0?k:l.createFolders,C=p(C),this.files[C]||i.call(this,C,null,{dir:!0,createFolders:k}),this.files[C]};function v(C){return Object.prototype.toString.call(C)==="[object RegExp]"}var b={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(C){var k,E,F;for(k in this.files)F=this.files[k],(E=k.slice(this.root.length,k.length))&&k.slice(0,this.root.length)===this.root&&C(E,F)},filter:function(C){var k=[];return this.forEach(function(E,F){C(E,F)&&k.push(F)}),k},file:function(C,k,E){if(arguments.length!==1)return C=this.root+C,i.call(this,C,k,E),this;if(v(C)){var F=C;return this.filter(function(H,re){return!re.dir&&F.test(H)})}var L=this.files[this.root+C];return L&&!L.dir?L:null},folder:function(C){if(!C)return this;if(v(C))return this.filter(function(L,H){return H.dir&&C.test(L)});var k=this.root+C,E=g.call(this,k),F=this.clone();return F.root=E.name,F},remove:function(C){C=this.root+C;var k=this.files[C];if(k||(C.slice(-1)!=="/"&&(C+="/"),k=this.files[C]),k&&!k.dir)delete this.files[C];else for(var E=this.filter(function(L,H){return H.name.slice(0,C.length)===C}),F=0;F<E.length;F++)delete this.files[E[F].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(C){var k,E={};try{if((E=r.extend(C||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:o.utf8encode})).type=E.type.toLowerCase(),E.compression=E.compression.toUpperCase(),E.type==="binarystring"&&(E.type="string"),!E.type)throw new Error("No output type specified.");r.checkSupport(E.type),E.platform!=="darwin"&&E.platform!=="freebsd"&&E.platform!=="linux"&&E.platform!=="sunos"||(E.platform="UNIX"),E.platform==="win32"&&(E.platform="DOS");var F=E.comment||this.comment||"";k=u.generateWorker(this,E,F)}catch(L){(k=new s("error")).error(L)}return new a(k,E.type||"string",E.mimeType)},generateAsync:function(C,k){return this.generateInternalStream(C).accumulate(k)},generateNodeStream:function(C,k){return(C=C||{}).type||(C.type="nodebuffer"),this.generateInternalStream(C).toNodejsStream(k)}};t.exports=b},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,t,e){"use strict";t.exports=n("stream")},{stream:void 0}],17:[function(n,t,e){"use strict";var i=n("./DataReader");function o(r){i.call(this,r);for(var s=0;s<this.data.length;s++)r[s]=255&r[s]}n("../utils").inherits(o,i),o.prototype.byteAt=function(r){return this.data[this.zero+r]},o.prototype.lastIndexOfSignature=function(r){for(var s=r.charCodeAt(0),a=r.charCodeAt(1),l=r.charCodeAt(2),c=r.charCodeAt(3),d=this.length-4;0<=d;--d)if(this.data[d]===s&&this.data[d+1]===a&&this.data[d+2]===l&&this.data[d+3]===c)return d-this.zero;return-1},o.prototype.readAndCheckSignature=function(r){var s=r.charCodeAt(0),a=r.charCodeAt(1),l=r.charCodeAt(2),c=r.charCodeAt(3),d=this.readData(4);return s===d[0]&&a===d[1]&&l===d[2]&&c===d[3]},o.prototype.readData=function(r){if(this.checkOffset(r),r===0)return[];var s=this.data.slice(this.zero+this.index,this.zero+this.index+r);return this.index+=r,s},t.exports=o},{"../utils":32,"./DataReader":18}],18:[function(n,t,e){"use strict";var i=n("../utils");function o(r){this.data=r,this.length=r.length,this.index=0,this.zero=0}o.prototype={checkOffset:function(r){this.checkIndex(this.index+r)},checkIndex:function(r){if(this.length<this.zero+r||r<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+r+"). Corrupted zip ?")},setIndex:function(r){this.checkIndex(r),this.index=r},skip:function(r){this.setIndex(this.index+r)},byteAt:function(){},readInt:function(r){var s,a=0;for(this.checkOffset(r),s=this.index+r-1;s>=this.index;s--)a=(a<<8)+this.byteAt(s);return this.index+=r,a},readString:function(r){return i.transformTo("string",this.readData(r))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var r=this.readInt(4);return new Date(Date.UTC(1980+(r>>25&127),(r>>21&15)-1,r>>16&31,r>>11&31,r>>5&63,(31&r)<<1))}},t.exports=o},{"../utils":32}],19:[function(n,t,e){"use strict";var i=n("./Uint8ArrayReader");function o(r){i.call(this,r)}n("../utils").inherits(o,i),o.prototype.readData=function(r){this.checkOffset(r);var s=this.data.slice(this.zero+this.index,this.zero+this.index+r);return this.index+=r,s},t.exports=o},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,t,e){"use strict";var i=n("./DataReader");function o(r){i.call(this,r)}n("../utils").inherits(o,i),o.prototype.byteAt=function(r){return this.data.charCodeAt(this.zero+r)},o.prototype.lastIndexOfSignature=function(r){return this.data.lastIndexOf(r)-this.zero},o.prototype.readAndCheckSignature=function(r){return r===this.readData(4)},o.prototype.readData=function(r){this.checkOffset(r);var s=this.data.slice(this.zero+this.index,this.zero+this.index+r);return this.index+=r,s},t.exports=o},{"../utils":32,"./DataReader":18}],21:[function(n,t,e){"use strict";var i=n("./ArrayReader");function o(r){i.call(this,r)}n("../utils").inherits(o,i),o.prototype.readData=function(r){if(this.checkOffset(r),r===0)return new Uint8Array(0);var s=this.data.subarray(this.zero+this.index,this.zero+this.index+r);return this.index+=r,s},t.exports=o},{"../utils":32,"./ArrayReader":17}],22:[function(n,t,e){"use strict";var i=n("../utils"),o=n("../support"),r=n("./ArrayReader"),s=n("./StringReader"),a=n("./NodeBufferReader"),l=n("./Uint8ArrayReader");t.exports=function(c){var d=i.getTypeOf(c);return i.checkSupport(d),d!=="string"||o.uint8array?d==="nodebuffer"?new a(c):o.uint8array?new l(i.transformTo("uint8array",c)):new r(i.transformTo("array",c)):new s(c)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,t,e){"use strict";e.LOCAL_FILE_HEADER="PK",e.CENTRAL_FILE_HEADER="PK",e.CENTRAL_DIRECTORY_END="PK",e.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",e.ZIP64_CENTRAL_DIRECTORY_END="PK",e.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,t,e){"use strict";var i=n("./GenericWorker"),o=n("../utils");function r(s){i.call(this,"ConvertWorker to "+s),this.destType=s}o.inherits(r,i),r.prototype.processChunk=function(s){this.push({data:o.transformTo(this.destType,s.data),meta:s.meta})},t.exports=r},{"../utils":32,"./GenericWorker":28}],25:[function(n,t,e){"use strict";var i=n("./GenericWorker"),o=n("../crc32");function r(){i.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(r,i),r.prototype.processChunk=function(s){this.streamInfo.crc32=o(s.data,this.streamInfo.crc32||0),this.push(s)},t.exports=r},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,t,e){"use strict";var i=n("../utils"),o=n("./GenericWorker");function r(s){o.call(this,"DataLengthProbe for "+s),this.propName=s,this.withStreamInfo(s,0)}i.inherits(r,o),r.prototype.processChunk=function(s){if(s){var a=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=a+s.data.length}o.prototype.processChunk.call(this,s)},t.exports=r},{"../utils":32,"./GenericWorker":28}],27:[function(n,t,e){"use strict";var i=n("../utils"),o=n("./GenericWorker");function r(s){o.call(this,"DataWorker");var a=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,s.then(function(l){a.dataIsReady=!0,a.data=l,a.max=l&&l.length||0,a.type=i.getTypeOf(l),a.isPaused||a._tickAndRepeat()},function(l){a.error(l)})}i.inherits(r,o),r.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this.data=null},r.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,i.delay(this._tickAndRepeat,[],this)),!0)},r.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(i.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},r.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var s=null,a=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":s=this.data.substring(this.index,a);break;case"uint8array":s=this.data.subarray(this.index,a);break;case"array":case"nodebuffer":s=this.data.slice(this.index,a)}return this.index=a,this.push({data:s,meta:{percent:this.max?this.index/this.max*100:0}})},t.exports=r},{"../utils":32,"./GenericWorker":28}],28:[function(n,t,e){"use strict";function i(o){this.name=o||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}i.prototype={push:function(o){this.emit("data",o)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(o){this.emit("error",o)}return!0},error:function(o){return!this.isFinished&&(this.isPaused?this.generatedError=o:(this.isFinished=!0,this.emit("error",o),this.previous&&this.previous.error(o),this.cleanUp()),!0)},on:function(o,r){return this._listeners[o].push(r),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(o,r){if(this._listeners[o])for(var s=0;s<this._listeners[o].length;s++)this._listeners[o][s].call(this,r)},pipe:function(o){return o.registerPrevious(this)},registerPrevious:function(o){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=o.streamInfo,this.mergeStreamInfo(),this.previous=o;var r=this;return o.on("data",function(s){r.processChunk(s)}),o.on("end",function(){r.end()}),o.on("error",function(s){r.error(s)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var o=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),o=!0),this.previous&&this.previous.resume(),!o},flush:function(){},processChunk:function(o){this.push(o)},withStreamInfo:function(o,r){return this.extraStreamInfo[o]=r,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var o in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,o)&&(this.streamInfo[o]=this.extraStreamInfo[o])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var o="Worker "+this.name;return this.previous?this.previous+" -> "+o:o}},t.exports=i},{}],29:[function(n,t,e){"use strict";var i=n("../utils"),o=n("./ConvertWorker"),r=n("./GenericWorker"),s=n("../base64"),a=n("../support"),l=n("../external"),c=null;if(a.nodestream)try{c=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function d(h,m){return new l.Promise(function(f,p){var g=[],v=h._internalType,b=h._outputType,C=h._mimeType;h.on("data",function(k,E){g.push(k),m&&m(E)}).on("error",function(k){g=[],p(k)}).on("end",function(){try{var k=function(E,F,L){switch(E){case"blob":return i.newBlob(i.transformTo("arraybuffer",F),L);case"base64":return s.encode(F);default:return i.transformTo(E,F)}}(b,function(E,F){var L,H=0,re=null,R=0;for(L=0;L<F.length;L++)R+=F[L].length;switch(E){case"string":return F.join("");case"array":return Array.prototype.concat.apply([],F);case"uint8array":for(re=new Uint8Array(R),L=0;L<F.length;L++)re.set(F[L],H),H+=F[L].length;return re;case"nodebuffer":return Buffer.concat(F);default:throw new Error("concat : unsupported type '"+E+"'")}}(v,g),C);f(k)}catch(E){p(E)}g=[]}).resume()})}function u(h,m,f){var p=m;switch(m){case"blob":case"arraybuffer":p="uint8array";break;case"base64":p="string"}try{this._internalType=p,this._outputType=m,this._mimeType=f,i.checkSupport(p),this._worker=h.pipe(new o(p)),h.lock()}catch(g){this._worker=new r("error"),this._worker.error(g)}}u.prototype={accumulate:function(h){return d(this,h)},on:function(h,m){var f=this;return h==="data"?this._worker.on(h,function(p){m.call(f,p.data,p.meta)}):this._worker.on(h,function(){i.delay(m,arguments,f)}),this},resume:function(){return i.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(h){if(i.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new c(this,{objectMode:this._outputType!=="nodebuffer"},h)}},t.exports=u},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,t,e){"use strict";if(e.base64=!0,e.array=!0,e.string=!0,e.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",e.nodebuffer=typeof Buffer<"u",e.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")e.blob=!1;else{var i=new ArrayBuffer(0);try{e.blob=new Blob([i],{type:"application/zip"}).size===0}catch{try{var o=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);o.append(i),e.blob=o.getBlob("application/zip").size===0}catch{e.blob=!1}}}try{e.nodestream=!!n("readable-stream").Readable}catch{e.nodestream=!1}},{"readable-stream":16}],31:[function(n,t,e){"use strict";for(var i=n("./utils"),o=n("./support"),r=n("./nodejsUtils"),s=n("./stream/GenericWorker"),a=new Array(256),l=0;l<256;l++)a[l]=252<=l?6:248<=l?5:240<=l?4:224<=l?3:192<=l?2:1;a[254]=a[254]=1;function c(){s.call(this,"utf-8 decode"),this.leftOver=null}function d(){s.call(this,"utf-8 encode")}e.utf8encode=function(u){return o.nodebuffer?r.newBufferFrom(u,"utf-8"):function(h){var m,f,p,g,v,b=h.length,C=0;for(g=0;g<b;g++)(64512&(f=h.charCodeAt(g)))==55296&&g+1<b&&(64512&(p=h.charCodeAt(g+1)))==56320&&(f=65536+(f-55296<<10)+(p-56320),g++),C+=f<128?1:f<2048?2:f<65536?3:4;for(m=o.uint8array?new Uint8Array(C):new Array(C),g=v=0;v<C;g++)(64512&(f=h.charCodeAt(g)))==55296&&g+1<b&&(64512&(p=h.charCodeAt(g+1)))==56320&&(f=65536+(f-55296<<10)+(p-56320),g++),f<128?m[v++]=f:(f<2048?m[v++]=192|f>>>6:(f<65536?m[v++]=224|f>>>12:(m[v++]=240|f>>>18,m[v++]=128|f>>>12&63),m[v++]=128|f>>>6&63),m[v++]=128|63&f);return m}(u)},e.utf8decode=function(u){return o.nodebuffer?i.transformTo("nodebuffer",u).toString("utf-8"):function(h){var m,f,p,g,v=h.length,b=new Array(2*v);for(m=f=0;m<v;)if((p=h[m++])<128)b[f++]=p;else if(4<(g=a[p]))b[f++]=65533,m+=g-1;else{for(p&=g===2?31:g===3?15:7;1<g&&m<v;)p=p<<6|63&h[m++],g--;1<g?b[f++]=65533:p<65536?b[f++]=p:(p-=65536,b[f++]=55296|p>>10&1023,b[f++]=56320|1023&p)}return b.length!==f&&(b.subarray?b=b.subarray(0,f):b.length=f),i.applyFromCharCode(b)}(u=i.transformTo(o.uint8array?"uint8array":"array",u))},i.inherits(c,s),c.prototype.processChunk=function(u){var h=i.transformTo(o.uint8array?"uint8array":"array",u.data);if(this.leftOver&&this.leftOver.length){if(o.uint8array){var m=h;(h=new Uint8Array(m.length+this.leftOver.length)).set(this.leftOver,0),h.set(m,this.leftOver.length)}else h=this.leftOver.concat(h);this.leftOver=null}var f=function(g,v){var b;for((v=v||g.length)>g.length&&(v=g.length),b=v-1;0<=b&&(192&g[b])==128;)b--;return b<0||b===0?v:b+a[g[b]]>v?b:v}(h),p=h;f!==h.length&&(o.uint8array?(p=h.subarray(0,f),this.leftOver=h.subarray(f,h.length)):(p=h.slice(0,f),this.leftOver=h.slice(f,h.length))),this.push({data:e.utf8decode(p),meta:u.meta})},c.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:e.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},e.Utf8DecodeWorker=c,i.inherits(d,s),d.prototype.processChunk=function(u){this.push({data:e.utf8encode(u.data),meta:u.meta})},e.Utf8EncodeWorker=d},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,t,e){"use strict";var i=n("./support"),o=n("./base64"),r=n("./nodejsUtils"),s=n("./external");function a(m){return m}function l(m,f){for(var p=0;p<m.length;++p)f[p]=255&m.charCodeAt(p);return f}n("setimmediate"),e.newBlob=function(m,f){e.checkSupport("blob");try{return new Blob([m],{type:f})}catch{try{var p=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return p.append(m),p.getBlob(f)}catch{throw new Error("Bug : can't construct the Blob.")}}};var c={stringifyByChunk:function(m,f,p){var g=[],v=0,b=m.length;if(b<=p)return String.fromCharCode.apply(null,m);for(;v<b;)f==="array"||f==="nodebuffer"?g.push(String.fromCharCode.apply(null,m.slice(v,Math.min(v+p,b)))):g.push(String.fromCharCode.apply(null,m.subarray(v,Math.min(v+p,b)))),v+=p;return g.join("")},stringifyByChar:function(m){for(var f="",p=0;p<m.length;p++)f+=String.fromCharCode(m[p]);return f},applyCanBeUsed:{uint8array:function(){try{return i.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return i.nodebuffer&&String.fromCharCode.apply(null,r.allocBuffer(1)).length===1}catch{return!1}}()}};function d(m){var f=65536,p=e.getTypeOf(m),g=!0;if(p==="uint8array"?g=c.applyCanBeUsed.uint8array:p==="nodebuffer"&&(g=c.applyCanBeUsed.nodebuffer),g)for(;1<f;)try{return c.stringifyByChunk(m,p,f)}catch{f=Math.floor(f/2)}return c.stringifyByChar(m)}function u(m,f){for(var p=0;p<m.length;p++)f[p]=m[p];return f}e.applyFromCharCode=d;var h={};h.string={string:a,array:function(m){return l(m,new Array(m.length))},arraybuffer:function(m){return h.string.uint8array(m).buffer},uint8array:function(m){return l(m,new Uint8Array(m.length))},nodebuffer:function(m){return l(m,r.allocBuffer(m.length))}},h.array={string:d,array:a,arraybuffer:function(m){return new Uint8Array(m).buffer},uint8array:function(m){return new Uint8Array(m)},nodebuffer:function(m){return r.newBufferFrom(m)}},h.arraybuffer={string:function(m){return d(new Uint8Array(m))},array:function(m){return u(new Uint8Array(m),new Array(m.byteLength))},arraybuffer:a,uint8array:function(m){return new Uint8Array(m)},nodebuffer:function(m){return r.newBufferFrom(new Uint8Array(m))}},h.uint8array={string:d,array:function(m){return u(m,new Array(m.length))},arraybuffer:function(m){return m.buffer},uint8array:a,nodebuffer:function(m){return r.newBufferFrom(m)}},h.nodebuffer={string:d,array:function(m){return u(m,new Array(m.length))},arraybuffer:function(m){return h.nodebuffer.uint8array(m).buffer},uint8array:function(m){return u(m,new Uint8Array(m.length))},nodebuffer:a},e.transformTo=function(m,f){if(f=f||"",!m)return f;e.checkSupport(m);var p=e.getTypeOf(f);return h[p][m](f)},e.resolve=function(m){for(var f=m.split("/"),p=[],g=0;g<f.length;g++){var v=f[g];v==="."||v===""&&g!==0&&g!==f.length-1||(v===".."?p.pop():p.push(v))}return p.join("/")},e.getTypeOf=function(m){return typeof m=="string"?"string":Object.prototype.toString.call(m)==="[object Array]"?"array":i.nodebuffer&&r.isBuffer(m)?"nodebuffer":i.uint8array&&m instanceof Uint8Array?"uint8array":i.arraybuffer&&m instanceof ArrayBuffer?"arraybuffer":void 0},e.checkSupport=function(m){if(!i[m.toLowerCase()])throw new Error(m+" is not supported by this platform")},e.MAX_VALUE_16BITS=65535,e.MAX_VALUE_32BITS=-1,e.pretty=function(m){var f,p,g="";for(p=0;p<(m||"").length;p++)g+="\\x"+((f=m.charCodeAt(p))<16?"0":"")+f.toString(16).toUpperCase();return g},e.delay=function(m,f,p){setImmediate(function(){m.apply(p||null,f||[])})},e.inherits=function(m,f){function p(){}p.prototype=f.prototype,m.prototype=new p},e.extend=function(){var m,f,p={};for(m=0;m<arguments.length;m++)for(f in arguments[m])Object.prototype.hasOwnProperty.call(arguments[m],f)&&p[f]===void 0&&(p[f]=arguments[m][f]);return p},e.prepareContent=function(m,f,p,g,v){return s.Promise.resolve(f).then(function(b){return i.blob&&(b instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(b))!==-1)&&typeof FileReader<"u"?new s.Promise(function(C,k){var E=new FileReader;E.onload=function(F){C(F.target.result)},E.onerror=function(F){k(F.target.error)},E.readAsArrayBuffer(b)}):b}).then(function(b){var C=e.getTypeOf(b);return C?(C==="arraybuffer"?b=e.transformTo("uint8array",b):C==="string"&&(v?b=o.decode(b):p&&g!==!0&&(b=function(k){return l(k,i.uint8array?new Uint8Array(k.length):new Array(k.length))}(b))),b):s.Promise.reject(new Error("Can't read the data of '"+m+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,t,e){"use strict";var i=n("./reader/readerFor"),o=n("./utils"),r=n("./signature"),s=n("./zipEntry"),a=n("./support");function l(c){this.files=[],this.loadOptions=c}l.prototype={checkSignature:function(c){if(!this.reader.readAndCheckSignature(c)){this.reader.index-=4;var d=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+o.pretty(d)+", expected "+o.pretty(c)+")")}},isSignature:function(c,d){var u=this.reader.index;this.reader.setIndex(c);var h=this.reader.readString(4)===d;return this.reader.setIndex(u),h},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var c=this.reader.readData(this.zipCommentLength),d=a.uint8array?"uint8array":"array",u=o.transformTo(d,c);this.zipComment=this.loadOptions.decodeFileName(u)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var c,d,u,h=this.zip64EndOfCentralSize-44;0<h;)c=this.reader.readInt(2),d=this.reader.readInt(4),u=this.reader.readData(d),this.zip64ExtensibleData[c]={id:c,length:d,value:u}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var c,d;for(c=0;c<this.files.length;c++)d=this.files[c],this.reader.setIndex(d.localHeaderOffset),this.checkSignature(r.LOCAL_FILE_HEADER),d.readLocalPart(this.reader),d.handleUTF8(),d.processAttributes()},readCentralDir:function(){var c;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(r.CENTRAL_FILE_HEADER);)(c=new s({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(c);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var c=this.reader.lastIndexOfSignature(r.CENTRAL_DIRECTORY_END);if(c<0)throw this.isSignature(0,r.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(c);var d=c;if(this.checkSignature(r.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,(c=this.reader.lastIndexOfSignature(r.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(c),this.checkSignature(r.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,r.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(r.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(r.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var u=this.centralDirOffset+this.centralDirSize;this.zip64&&(u+=20,u+=12+this.zip64EndOfCentralSize);var h=d-u;if(0<h)this.isSignature(d,r.CENTRAL_FILE_HEADER)||(this.reader.zero=h);else if(h<0)throw new Error("Corrupted zip: missing "+Math.abs(h)+" bytes.")},prepareReader:function(c){this.reader=i(c)},load:function(c){this.prepareReader(c),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},t.exports=l},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,t,e){"use strict";var i=n("./reader/readerFor"),o=n("./utils"),r=n("./compressedObject"),s=n("./crc32"),a=n("./utf8"),l=n("./compressions"),c=n("./support");function d(u,h){this.options=u,this.loadOptions=h}d.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(u){var h,m;if(u.skip(22),this.fileNameLength=u.readInt(2),m=u.readInt(2),this.fileName=u.readData(this.fileNameLength),u.skip(m),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((h=function(f){for(var p in l)if(Object.prototype.hasOwnProperty.call(l,p)&&l[p].magic===f)return l[p];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+o.transformTo("string",this.fileName)+")");this.decompressed=new r(this.compressedSize,this.uncompressedSize,this.crc32,h,u.readData(this.compressedSize))},readCentralPart:function(u){this.versionMadeBy=u.readInt(2),u.skip(2),this.bitFlag=u.readInt(2),this.compressionMethod=u.readString(2),this.date=u.readDate(),this.crc32=u.readInt(4),this.compressedSize=u.readInt(4),this.uncompressedSize=u.readInt(4);var h=u.readInt(2);if(this.extraFieldsLength=u.readInt(2),this.fileCommentLength=u.readInt(2),this.diskNumberStart=u.readInt(2),this.internalFileAttributes=u.readInt(2),this.externalFileAttributes=u.readInt(4),this.localHeaderOffset=u.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");u.skip(h),this.readExtraFields(u),this.parseZIP64ExtraField(u),this.fileComment=u.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var u=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),u==0&&(this.dosPermissions=63&this.externalFileAttributes),u==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var u=i(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=u.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=u.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=u.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=u.readInt(4))}},readExtraFields:function(u){var h,m,f,p=u.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});u.index+4<p;)h=u.readInt(2),m=u.readInt(2),f=u.readData(m),this.extraFields[h]={id:h,length:m,value:f};u.setIndex(p)},handleUTF8:function(){var u=c.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=a.utf8decode(this.fileName),this.fileCommentStr=a.utf8decode(this.fileComment);else{var h=this.findExtraFieldUnicodePath();if(h!==null)this.fileNameStr=h;else{var m=o.transformTo(u,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(m)}var f=this.findExtraFieldUnicodeComment();if(f!==null)this.fileCommentStr=f;else{var p=o.transformTo(u,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(p)}}},findExtraFieldUnicodePath:function(){var u=this.extraFields[28789];if(u){var h=i(u.value);return h.readInt(1)!==1||s(this.fileName)!==h.readInt(4)?null:a.utf8decode(h.readData(u.length-5))}return null},findExtraFieldUnicodeComment:function(){var u=this.extraFields[25461];if(u){var h=i(u.value);return h.readInt(1)!==1||s(this.fileComment)!==h.readInt(4)?null:a.utf8decode(h.readData(u.length-5))}return null}},t.exports=d},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,t,e){"use strict";function i(h,m,f){this.name=h,this.dir=f.dir,this.date=f.date,this.comment=f.comment,this.unixPermissions=f.unixPermissions,this.dosPermissions=f.dosPermissions,this._data=m,this._dataBinary=f.binary,this.options={compression:f.compression,compressionOptions:f.compressionOptions}}var o=n("./stream/StreamHelper"),r=n("./stream/DataWorker"),s=n("./utf8"),a=n("./compressedObject"),l=n("./stream/GenericWorker");i.prototype={internalStream:function(h){var m=null,f="string";try{if(!h)throw new Error("No output type specified.");var p=(f=h.toLowerCase())==="string"||f==="text";f!=="binarystring"&&f!=="text"||(f="string"),m=this._decompressWorker();var g=!this._dataBinary;g&&!p&&(m=m.pipe(new s.Utf8EncodeWorker)),!g&&p&&(m=m.pipe(new s.Utf8DecodeWorker))}catch(v){(m=new l("error")).error(v)}return new o(m,f,"")},async:function(h,m){return this.internalStream(h).accumulate(m)},nodeStream:function(h,m){return this.internalStream(h||"nodebuffer").toNodejsStream(m)},_compressWorker:function(h,m){if(this._data instanceof a&&this._data.compression.magic===h.magic)return this._data.getCompressedWorker();var f=this._decompressWorker();return this._dataBinary||(f=f.pipe(new s.Utf8EncodeWorker)),a.createWorkerFrom(f,h,m)},_decompressWorker:function(){return this._data instanceof a?this._data.getContentWorker():this._data instanceof l?this._data:new r(this._data)}};for(var c=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],d=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},u=0;u<c.length;u++)i.prototype[c[u]]=d;t.exports=i},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,t,e){(function(i){"use strict";var o,r,s=i.MutationObserver||i.WebKitMutationObserver;if(s){var a=0,l=new s(h),c=i.document.createTextNode("");l.observe(c,{characterData:!0}),o=function(){c.data=a=++a%2}}else if(i.setImmediate||i.MessageChannel===void 0)o="document"in i&&"onreadystatechange"in i.document.createElement("script")?function(){var m=i.document.createElement("script");m.onreadystatechange=function(){h(),m.onreadystatechange=null,m.parentNode.removeChild(m),m=null},i.document.documentElement.appendChild(m)}:function(){setTimeout(h,0)};else{var d=new i.MessageChannel;d.port1.onmessage=h,o=function(){d.port2.postMessage(0)}}var u=[];function h(){var m,f;r=!0;for(var p=u.length;p;){for(f=u,u=[],m=-1;++m<p;)f[m]();p=u.length}r=!1}t.exports=function(m){u.push(m)!==1||r||o()}}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,t,e){"use strict";var i=n("immediate");function o(){}var r={},s=["REJECTED"],a=["FULFILLED"],l=["PENDING"];function c(p){if(typeof p!="function")throw new TypeError("resolver must be a function");this.state=l,this.queue=[],this.outcome=void 0,p!==o&&m(this,p)}function d(p,g,v){this.promise=p,typeof g=="function"&&(this.onFulfilled=g,this.callFulfilled=this.otherCallFulfilled),typeof v=="function"&&(this.onRejected=v,this.callRejected=this.otherCallRejected)}function u(p,g,v){i(function(){var b;try{b=g(v)}catch(C){return r.reject(p,C)}b===p?r.reject(p,new TypeError("Cannot resolve promise with itself")):r.resolve(p,b)})}function h(p){var g=p&&p.then;if(p&&(typeof p=="object"||typeof p=="function")&&typeof g=="function")return function(){g.apply(p,arguments)}}function m(p,g){var v=!1;function b(E){v||(v=!0,r.reject(p,E))}function C(E){v||(v=!0,r.resolve(p,E))}var k=f(function(){g(C,b)});k.status==="error"&&b(k.value)}function f(p,g){var v={};try{v.value=p(g),v.status="success"}catch(b){v.status="error",v.value=b}return v}(t.exports=c).prototype.finally=function(p){if(typeof p!="function")return this;var g=this.constructor;return this.then(function(v){return g.resolve(p()).then(function(){return v})},function(v){return g.resolve(p()).then(function(){throw v})})},c.prototype.catch=function(p){return this.then(null,p)},c.prototype.then=function(p,g){if(typeof p!="function"&&this.state===a||typeof g!="function"&&this.state===s)return this;var v=new this.constructor(o);return this.state!==l?u(v,this.state===a?p:g,this.outcome):this.queue.push(new d(v,p,g)),v},d.prototype.callFulfilled=function(p){r.resolve(this.promise,p)},d.prototype.otherCallFulfilled=function(p){u(this.promise,this.onFulfilled,p)},d.prototype.callRejected=function(p){r.reject(this.promise,p)},d.prototype.otherCallRejected=function(p){u(this.promise,this.onRejected,p)},r.resolve=function(p,g){var v=f(h,g);if(v.status==="error")return r.reject(p,v.value);var b=v.value;if(b)m(p,b);else{p.state=a,p.outcome=g;for(var C=-1,k=p.queue.length;++C<k;)p.queue[C].callFulfilled(g)}return p},r.reject=function(p,g){p.state=s,p.outcome=g;for(var v=-1,b=p.queue.length;++v<b;)p.queue[v].callRejected(g);return p},c.resolve=function(p){return p instanceof this?p:r.resolve(new this(o),p)},c.reject=function(p){var g=new this(o);return r.reject(g,p)},c.all=function(p){var g=this;if(Object.prototype.toString.call(p)!=="[object Array]")return this.reject(new TypeError("must be an array"));var v=p.length,b=!1;if(!v)return this.resolve([]);for(var C=new Array(v),k=0,E=-1,F=new this(o);++E<v;)L(p[E],E);return F;function L(H,re){g.resolve(H).then(function(R){C[re]=R,++k!==v||b||(b=!0,r.resolve(F,C))},function(R){b||(b=!0,r.reject(F,R))})}},c.race=function(p){var g=this;if(Object.prototype.toString.call(p)!=="[object Array]")return this.reject(new TypeError("must be an array"));var v=p.length,b=!1;if(!v)return this.resolve([]);for(var C=-1,k=new this(o);++C<v;)E=p[C],g.resolve(E).then(function(F){b||(b=!0,r.resolve(k,F))},function(F){b||(b=!0,r.reject(k,F))});var E;return k}},{immediate:36}],38:[function(n,t,e){"use strict";var i={};(0,n("./lib/utils/common").assign)(i,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),t.exports=i},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,t,e){"use strict";var i=n("./zlib/deflate"),o=n("./utils/common"),r=n("./utils/strings"),s=n("./zlib/messages"),a=n("./zlib/zstream"),l=Object.prototype.toString,c=0,d=-1,u=0,h=8;function m(p){if(!(this instanceof m))return new m(p);this.options=o.assign({level:d,method:h,chunkSize:16384,windowBits:15,memLevel:8,strategy:u,to:""},p||{});var g=this.options;g.raw&&0<g.windowBits?g.windowBits=-g.windowBits:g.gzip&&0<g.windowBits&&g.windowBits<16&&(g.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new a,this.strm.avail_out=0;var v=i.deflateInit2(this.strm,g.level,g.method,g.windowBits,g.memLevel,g.strategy);if(v!==c)throw new Error(s[v]);if(g.header&&i.deflateSetHeader(this.strm,g.header),g.dictionary){var b;if(b=typeof g.dictionary=="string"?r.string2buf(g.dictionary):l.call(g.dictionary)==="[object ArrayBuffer]"?new Uint8Array(g.dictionary):g.dictionary,(v=i.deflateSetDictionary(this.strm,b))!==c)throw new Error(s[v]);this._dict_set=!0}}function f(p,g){var v=new m(g);if(v.push(p,!0),v.err)throw v.msg||s[v.err];return v.result}m.prototype.push=function(p,g){var v,b,C=this.strm,k=this.options.chunkSize;if(this.ended)return!1;b=g===~~g?g:g===!0?4:0,typeof p=="string"?C.input=r.string2buf(p):l.call(p)==="[object ArrayBuffer]"?C.input=new Uint8Array(p):C.input=p,C.next_in=0,C.avail_in=C.input.length;do{if(C.avail_out===0&&(C.output=new o.Buf8(k),C.next_out=0,C.avail_out=k),(v=i.deflate(C,b))!==1&&v!==c)return this.onEnd(v),!(this.ended=!0);C.avail_out!==0&&(C.avail_in!==0||b!==4&&b!==2)||(this.options.to==="string"?this.onData(r.buf2binstring(o.shrinkBuf(C.output,C.next_out))):this.onData(o.shrinkBuf(C.output,C.next_out)))}while((0<C.avail_in||C.avail_out===0)&&v!==1);return b===4?(v=i.deflateEnd(this.strm),this.onEnd(v),this.ended=!0,v===c):b!==2||(this.onEnd(c),!(C.avail_out=0))},m.prototype.onData=function(p){this.chunks.push(p)},m.prototype.onEnd=function(p){p===c&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=p,this.msg=this.strm.msg},e.Deflate=m,e.deflate=f,e.deflateRaw=function(p,g){return(g=g||{}).raw=!0,f(p,g)},e.gzip=function(p,g){return(g=g||{}).gzip=!0,f(p,g)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,t,e){"use strict";var i=n("./zlib/inflate"),o=n("./utils/common"),r=n("./utils/strings"),s=n("./zlib/constants"),a=n("./zlib/messages"),l=n("./zlib/zstream"),c=n("./zlib/gzheader"),d=Object.prototype.toString;function u(m){if(!(this instanceof u))return new u(m);this.options=o.assign({chunkSize:16384,windowBits:0,to:""},m||{});var f=this.options;f.raw&&0<=f.windowBits&&f.windowBits<16&&(f.windowBits=-f.windowBits,f.windowBits===0&&(f.windowBits=-15)),!(0<=f.windowBits&&f.windowBits<16)||m&&m.windowBits||(f.windowBits+=32),15<f.windowBits&&f.windowBits<48&&(15&f.windowBits)==0&&(f.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var p=i.inflateInit2(this.strm,f.windowBits);if(p!==s.Z_OK)throw new Error(a[p]);this.header=new c,i.inflateGetHeader(this.strm,this.header)}function h(m,f){var p=new u(f);if(p.push(m,!0),p.err)throw p.msg||a[p.err];return p.result}u.prototype.push=function(m,f){var p,g,v,b,C,k,E=this.strm,F=this.options.chunkSize,L=this.options.dictionary,H=!1;if(this.ended)return!1;g=f===~~f?f:f===!0?s.Z_FINISH:s.Z_NO_FLUSH,typeof m=="string"?E.input=r.binstring2buf(m):d.call(m)==="[object ArrayBuffer]"?E.input=new Uint8Array(m):E.input=m,E.next_in=0,E.avail_in=E.input.length;do{if(E.avail_out===0&&(E.output=new o.Buf8(F),E.next_out=0,E.avail_out=F),(p=i.inflate(E,s.Z_NO_FLUSH))===s.Z_NEED_DICT&&L&&(k=typeof L=="string"?r.string2buf(L):d.call(L)==="[object ArrayBuffer]"?new Uint8Array(L):L,p=i.inflateSetDictionary(this.strm,k)),p===s.Z_BUF_ERROR&&H===!0&&(p=s.Z_OK,H=!1),p!==s.Z_STREAM_END&&p!==s.Z_OK)return this.onEnd(p),!(this.ended=!0);E.next_out&&(E.avail_out!==0&&p!==s.Z_STREAM_END&&(E.avail_in!==0||g!==s.Z_FINISH&&g!==s.Z_SYNC_FLUSH)||(this.options.to==="string"?(v=r.utf8border(E.output,E.next_out),b=E.next_out-v,C=r.buf2string(E.output,v),E.next_out=b,E.avail_out=F-b,b&&o.arraySet(E.output,E.output,v,b,0),this.onData(C)):this.onData(o.shrinkBuf(E.output,E.next_out)))),E.avail_in===0&&E.avail_out===0&&(H=!0)}while((0<E.avail_in||E.avail_out===0)&&p!==s.Z_STREAM_END);return p===s.Z_STREAM_END&&(g=s.Z_FINISH),g===s.Z_FINISH?(p=i.inflateEnd(this.strm),this.onEnd(p),this.ended=!0,p===s.Z_OK):g!==s.Z_SYNC_FLUSH||(this.onEnd(s.Z_OK),!(E.avail_out=0))},u.prototype.onData=function(m){this.chunks.push(m)},u.prototype.onEnd=function(m){m===s.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=m,this.msg=this.strm.msg},e.Inflate=u,e.inflate=h,e.inflateRaw=function(m,f){return(f=f||{}).raw=!0,h(m,f)},e.ungzip=h},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,t,e){"use strict";var i=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";e.assign=function(s){for(var a=Array.prototype.slice.call(arguments,1);a.length;){var l=a.shift();if(l){if(typeof l!="object")throw new TypeError(l+"must be non-object");for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])}}return s},e.shrinkBuf=function(s,a){return s.length===a?s:s.subarray?s.subarray(0,a):(s.length=a,s)};var o={arraySet:function(s,a,l,c,d){if(a.subarray&&s.subarray)s.set(a.subarray(l,l+c),d);else for(var u=0;u<c;u++)s[d+u]=a[l+u]},flattenChunks:function(s){var a,l,c,d,u,h;for(a=c=0,l=s.length;a<l;a++)c+=s[a].length;for(h=new Uint8Array(c),a=d=0,l=s.length;a<l;a++)u=s[a],h.set(u,d),d+=u.length;return h}},r={arraySet:function(s,a,l,c,d){for(var u=0;u<c;u++)s[d+u]=a[l+u]},flattenChunks:function(s){return[].concat.apply([],s)}};e.setTyped=function(s){s?(e.Buf8=Uint8Array,e.Buf16=Uint16Array,e.Buf32=Int32Array,e.assign(e,o)):(e.Buf8=Array,e.Buf16=Array,e.Buf32=Array,e.assign(e,r))},e.setTyped(i)},{}],42:[function(n,t,e){"use strict";var i=n("./common"),o=!0,r=!0;try{String.fromCharCode.apply(null,[0])}catch{o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{r=!1}for(var s=new i.Buf8(256),a=0;a<256;a++)s[a]=252<=a?6:248<=a?5:240<=a?4:224<=a?3:192<=a?2:1;function l(c,d){if(d<65537&&(c.subarray&&r||!c.subarray&&o))return String.fromCharCode.apply(null,i.shrinkBuf(c,d));for(var u="",h=0;h<d;h++)u+=String.fromCharCode(c[h]);return u}s[254]=s[254]=1,e.string2buf=function(c){var d,u,h,m,f,p=c.length,g=0;for(m=0;m<p;m++)(64512&(u=c.charCodeAt(m)))==55296&&m+1<p&&(64512&(h=c.charCodeAt(m+1)))==56320&&(u=65536+(u-55296<<10)+(h-56320),m++),g+=u<128?1:u<2048?2:u<65536?3:4;for(d=new i.Buf8(g),m=f=0;f<g;m++)(64512&(u=c.charCodeAt(m)))==55296&&m+1<p&&(64512&(h=c.charCodeAt(m+1)))==56320&&(u=65536+(u-55296<<10)+(h-56320),m++),u<128?d[f++]=u:(u<2048?d[f++]=192|u>>>6:(u<65536?d[f++]=224|u>>>12:(d[f++]=240|u>>>18,d[f++]=128|u>>>12&63),d[f++]=128|u>>>6&63),d[f++]=128|63&u);return d},e.buf2binstring=function(c){return l(c,c.length)},e.binstring2buf=function(c){for(var d=new i.Buf8(c.length),u=0,h=d.length;u<h;u++)d[u]=c.charCodeAt(u);return d},e.buf2string=function(c,d){var u,h,m,f,p=d||c.length,g=new Array(2*p);for(u=h=0;u<p;)if((m=c[u++])<128)g[h++]=m;else if(4<(f=s[m]))g[h++]=65533,u+=f-1;else{for(m&=f===2?31:f===3?15:7;1<f&&u<p;)m=m<<6|63&c[u++],f--;1<f?g[h++]=65533:m<65536?g[h++]=m:(m-=65536,g[h++]=55296|m>>10&1023,g[h++]=56320|1023&m)}return l(g,h)},e.utf8border=function(c,d){var u;for((d=d||c.length)>c.length&&(d=c.length),u=d-1;0<=u&&(192&c[u])==128;)u--;return u<0||u===0?d:u+s[c[u]]>d?u:d}},{"./common":41}],43:[function(n,t,e){"use strict";t.exports=function(i,o,r,s){for(var a=65535&i|0,l=i>>>16&65535|0,c=0;r!==0;){for(r-=c=2e3<r?2e3:r;l=l+(a=a+o[s++]|0)|0,--c;);a%=65521,l%=65521}return a|l<<16|0}},{}],44:[function(n,t,e){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,t,e){"use strict";var i=function(){for(var o,r=[],s=0;s<256;s++){o=s;for(var a=0;a<8;a++)o=1&o?3988292384^o>>>1:o>>>1;r[s]=o}return r}();t.exports=function(o,r,s,a){var l=i,c=a+s;o^=-1;for(var d=a;d<c;d++)o=o>>>8^l[255&(o^r[d])];return-1^o}},{}],46:[function(n,t,e){"use strict";var i,o=n("../utils/common"),r=n("./trees"),s=n("./adler32"),a=n("./crc32"),l=n("./messages"),c=0,d=4,u=0,h=-2,m=-1,f=4,p=2,g=8,v=9,b=286,C=30,k=19,E=2*b+1,F=15,L=3,H=258,re=H+L+1,R=42,W=113,I=1,ne=2,Et=3,ve=4;function Mt(S,_e){return S.msg=l[_e],_e}function Ie(S){return(S<<1)-(4<S?9:0)}function Nt(S){for(var _e=S.length;0<=--_e;)S[_e]=0}function oe(S){var _e=S.state,le=_e.pending;le>S.avail_out&&(le=S.avail_out),le!==0&&(o.arraySet(S.output,_e.pending_buf,_e.pending_out,le,S.next_out),S.next_out+=le,_e.pending_out+=le,S.total_out+=le,S.avail_out-=le,_e.pending-=le,_e.pending===0&&(_e.pending_out=0))}function te(S,_e){r._tr_flush_block(S,0<=S.block_start?S.block_start:-1,S.strstart-S.block_start,_e),S.block_start=S.strstart,oe(S.strm)}function gt(S,_e){S.pending_buf[S.pending++]=_e}function nt(S,_e){S.pending_buf[S.pending++]=_e>>>8&255,S.pending_buf[S.pending++]=255&_e}function $e(S,_e){var le,B,N=S.max_chain_length,q=S.strstart,we=S.prev_length,Ee=S.nice_match,ie=S.strstart>S.w_size-re?S.strstart-(S.w_size-re):0,He=S.window,at=S.w_mask,We=S.prev,Rt=S.strstart+H,tn=He[q+we-1],Ai=He[q+we];S.prev_length>=S.good_match&&(N>>=2),Ee>S.lookahead&&(Ee=S.lookahead);do if(He[(le=_e)+we]===Ai&&He[le+we-1]===tn&&He[le]===He[q]&&He[++le]===He[q+1]){q+=2,le++;do;while(He[++q]===He[++le]&&He[++q]===He[++le]&&He[++q]===He[++le]&&He[++q]===He[++le]&&He[++q]===He[++le]&&He[++q]===He[++le]&&He[++q]===He[++le]&&He[++q]===He[++le]&&q<Rt);if(B=H-(Rt-q),q=Rt-H,we<B){if(S.match_start=_e,Ee<=(we=B))break;tn=He[q+we-1],Ai=He[q+we]}}while((_e=We[_e&at])>ie&&--N!=0);return we<=S.lookahead?we:S.lookahead}function Jn(S){var _e,le,B,N,q,we,Ee,ie,He,at,We=S.w_size;do{if(N=S.window_size-S.lookahead-S.strstart,S.strstart>=We+(We-re)){for(o.arraySet(S.window,S.window,We,We,0),S.match_start-=We,S.strstart-=We,S.block_start-=We,_e=le=S.hash_size;B=S.head[--_e],S.head[_e]=We<=B?B-We:0,--le;);for(_e=le=We;B=S.prev[--_e],S.prev[_e]=We<=B?B-We:0,--le;);N+=We}if(S.strm.avail_in===0)break;if(we=S.strm,Ee=S.window,ie=S.strstart+S.lookahead,He=N,at=void 0,at=we.avail_in,He<at&&(at=He),le=at===0?0:(we.avail_in-=at,o.arraySet(Ee,we.input,we.next_in,at,ie),we.state.wrap===1?we.adler=s(we.adler,Ee,at,ie):we.state.wrap===2&&(we.adler=a(we.adler,Ee,at,ie)),we.next_in+=at,we.total_in+=at,at),S.lookahead+=le,S.lookahead+S.insert>=L)for(q=S.strstart-S.insert,S.ins_h=S.window[q],S.ins_h=(S.ins_h<<S.hash_shift^S.window[q+1])&S.hash_mask;S.insert&&(S.ins_h=(S.ins_h<<S.hash_shift^S.window[q+L-1])&S.hash_mask,S.prev[q&S.w_mask]=S.head[S.ins_h],S.head[S.ins_h]=q,q++,S.insert--,!(S.lookahead+S.insert<L)););}while(S.lookahead<re&&S.strm.avail_in!==0)}function hr(S,_e){for(var le,B;;){if(S.lookahead<re){if(Jn(S),S.lookahead<re&&_e===c)return I;if(S.lookahead===0)break}if(le=0,S.lookahead>=L&&(S.ins_h=(S.ins_h<<S.hash_shift^S.window[S.strstart+L-1])&S.hash_mask,le=S.prev[S.strstart&S.w_mask]=S.head[S.ins_h],S.head[S.ins_h]=S.strstart),le!==0&&S.strstart-le<=S.w_size-re&&(S.match_length=$e(S,le)),S.match_length>=L)if(B=r._tr_tally(S,S.strstart-S.match_start,S.match_length-L),S.lookahead-=S.match_length,S.match_length<=S.max_lazy_match&&S.lookahead>=L){for(S.match_length--;S.strstart++,S.ins_h=(S.ins_h<<S.hash_shift^S.window[S.strstart+L-1])&S.hash_mask,le=S.prev[S.strstart&S.w_mask]=S.head[S.ins_h],S.head[S.ins_h]=S.strstart,--S.match_length!=0;);S.strstart++}else S.strstart+=S.match_length,S.match_length=0,S.ins_h=S.window[S.strstart],S.ins_h=(S.ins_h<<S.hash_shift^S.window[S.strstart+1])&S.hash_mask;else B=r._tr_tally(S,0,S.window[S.strstart]),S.lookahead--,S.strstart++;if(B&&(te(S,!1),S.strm.avail_out===0))return I}return S.insert=S.strstart<L-1?S.strstart:L-1,_e===d?(te(S,!0),S.strm.avail_out===0?Et:ve):S.last_lit&&(te(S,!1),S.strm.avail_out===0)?I:ne}function Ti(S,_e){for(var le,B,N;;){if(S.lookahead<re){if(Jn(S),S.lookahead<re&&_e===c)return I;if(S.lookahead===0)break}if(le=0,S.lookahead>=L&&(S.ins_h=(S.ins_h<<S.hash_shift^S.window[S.strstart+L-1])&S.hash_mask,le=S.prev[S.strstart&S.w_mask]=S.head[S.ins_h],S.head[S.ins_h]=S.strstart),S.prev_length=S.match_length,S.prev_match=S.match_start,S.match_length=L-1,le!==0&&S.prev_length<S.max_lazy_match&&S.strstart-le<=S.w_size-re&&(S.match_length=$e(S,le),S.match_length<=5&&(S.strategy===1||S.match_length===L&&4096<S.strstart-S.match_start)&&(S.match_length=L-1)),S.prev_length>=L&&S.match_length<=S.prev_length){for(N=S.strstart+S.lookahead-L,B=r._tr_tally(S,S.strstart-1-S.prev_match,S.prev_length-L),S.lookahead-=S.prev_length-1,S.prev_length-=2;++S.strstart<=N&&(S.ins_h=(S.ins_h<<S.hash_shift^S.window[S.strstart+L-1])&S.hash_mask,le=S.prev[S.strstart&S.w_mask]=S.head[S.ins_h],S.head[S.ins_h]=S.strstart),--S.prev_length!=0;);if(S.match_available=0,S.match_length=L-1,S.strstart++,B&&(te(S,!1),S.strm.avail_out===0))return I}else if(S.match_available){if((B=r._tr_tally(S,0,S.window[S.strstart-1]))&&te(S,!1),S.strstart++,S.lookahead--,S.strm.avail_out===0)return I}else S.match_available=1,S.strstart++,S.lookahead--}return S.match_available&&(B=r._tr_tally(S,0,S.window[S.strstart-1]),S.match_available=0),S.insert=S.strstart<L-1?S.strstart:L-1,_e===d?(te(S,!0),S.strm.avail_out===0?Et:ve):S.last_lit&&(te(S,!1),S.strm.avail_out===0)?I:ne}function ji(S,_e,le,B,N){this.good_length=S,this.max_lazy=_e,this.nice_length=le,this.max_chain=B,this.func=N}function Wo(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=g,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new o.Buf16(2*E),this.dyn_dtree=new o.Buf16(2*(2*C+1)),this.bl_tree=new o.Buf16(2*(2*k+1)),Nt(this.dyn_ltree),Nt(this.dyn_dtree),Nt(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new o.Buf16(F+1),this.heap=new o.Buf16(2*b+1),Nt(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new o.Buf16(2*b+1),Nt(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function eo(S){var _e;return S&&S.state?(S.total_in=S.total_out=0,S.data_type=p,(_e=S.state).pending=0,_e.pending_out=0,_e.wrap<0&&(_e.wrap=-_e.wrap),_e.status=_e.wrap?R:W,S.adler=_e.wrap===2?0:1,_e.last_flush=c,r._tr_init(_e),u):Mt(S,h)}function ll(S){var _e=eo(S);return _e===u&&function(le){le.window_size=2*le.w_size,Nt(le.head),le.max_lazy_match=i[le.level].max_lazy,le.good_match=i[le.level].good_length,le.nice_match=i[le.level].nice_length,le.max_chain_length=i[le.level].max_chain,le.strstart=0,le.block_start=0,le.lookahead=0,le.insert=0,le.match_length=le.prev_length=L-1,le.match_available=0,le.ins_h=0}(S.state),_e}function ya(S,_e,le,B,N,q){if(!S)return h;var we=1;if(_e===m&&(_e=6),B<0?(we=0,B=-B):15<B&&(we=2,B-=16),N<1||v<N||le!==g||B<8||15<B||_e<0||9<_e||q<0||f<q)return Mt(S,h);B===8&&(B=9);var Ee=new Wo;return(S.state=Ee).strm=S,Ee.wrap=we,Ee.gzhead=null,Ee.w_bits=B,Ee.w_size=1<<Ee.w_bits,Ee.w_mask=Ee.w_size-1,Ee.hash_bits=N+7,Ee.hash_size=1<<Ee.hash_bits,Ee.hash_mask=Ee.hash_size-1,Ee.hash_shift=~~((Ee.hash_bits+L-1)/L),Ee.window=new o.Buf8(2*Ee.w_size),Ee.head=new o.Buf16(Ee.hash_size),Ee.prev=new o.Buf16(Ee.w_size),Ee.lit_bufsize=1<<N+6,Ee.pending_buf_size=4*Ee.lit_bufsize,Ee.pending_buf=new o.Buf8(Ee.pending_buf_size),Ee.d_buf=1*Ee.lit_bufsize,Ee.l_buf=3*Ee.lit_bufsize,Ee.level=_e,Ee.strategy=q,Ee.method=le,ll(S)}i=[new ji(0,0,0,0,function(S,_e){var le=65535;for(le>S.pending_buf_size-5&&(le=S.pending_buf_size-5);;){if(S.lookahead<=1){if(Jn(S),S.lookahead===0&&_e===c)return I;if(S.lookahead===0)break}S.strstart+=S.lookahead,S.lookahead=0;var B=S.block_start+le;if((S.strstart===0||S.strstart>=B)&&(S.lookahead=S.strstart-B,S.strstart=B,te(S,!1),S.strm.avail_out===0)||S.strstart-S.block_start>=S.w_size-re&&(te(S,!1),S.strm.avail_out===0))return I}return S.insert=0,_e===d?(te(S,!0),S.strm.avail_out===0?Et:ve):(S.strstart>S.block_start&&(te(S,!1),S.strm.avail_out),I)}),new ji(4,4,8,4,hr),new ji(4,5,16,8,hr),new ji(4,6,32,32,hr),new ji(4,4,16,16,Ti),new ji(8,16,32,32,Ti),new ji(8,16,128,128,Ti),new ji(8,32,128,256,Ti),new ji(32,128,258,1024,Ti),new ji(32,258,258,4096,Ti)],e.deflateInit=function(S,_e){return ya(S,_e,g,15,8,0)},e.deflateInit2=ya,e.deflateReset=ll,e.deflateResetKeep=eo,e.deflateSetHeader=function(S,_e){return S&&S.state?S.state.wrap!==2?h:(S.state.gzhead=_e,u):h},e.deflate=function(S,_e){var le,B,N,q;if(!S||!S.state||5<_e||_e<0)return S?Mt(S,h):h;if(B=S.state,!S.output||!S.input&&S.avail_in!==0||B.status===666&&_e!==d)return Mt(S,S.avail_out===0?-5:h);if(B.strm=S,le=B.last_flush,B.last_flush=_e,B.status===R)if(B.wrap===2)S.adler=0,gt(B,31),gt(B,139),gt(B,8),B.gzhead?(gt(B,(B.gzhead.text?1:0)+(B.gzhead.hcrc?2:0)+(B.gzhead.extra?4:0)+(B.gzhead.name?8:0)+(B.gzhead.comment?16:0)),gt(B,255&B.gzhead.time),gt(B,B.gzhead.time>>8&255),gt(B,B.gzhead.time>>16&255),gt(B,B.gzhead.time>>24&255),gt(B,B.level===9?2:2<=B.strategy||B.level<2?4:0),gt(B,255&B.gzhead.os),B.gzhead.extra&&B.gzhead.extra.length&&(gt(B,255&B.gzhead.extra.length),gt(B,B.gzhead.extra.length>>8&255)),B.gzhead.hcrc&&(S.adler=a(S.adler,B.pending_buf,B.pending,0)),B.gzindex=0,B.status=69):(gt(B,0),gt(B,0),gt(B,0),gt(B,0),gt(B,0),gt(B,B.level===9?2:2<=B.strategy||B.level<2?4:0),gt(B,3),B.status=W);else{var we=g+(B.w_bits-8<<4)<<8;we|=(2<=B.strategy||B.level<2?0:B.level<6?1:B.level===6?2:3)<<6,B.strstart!==0&&(we|=32),we+=31-we%31,B.status=W,nt(B,we),B.strstart!==0&&(nt(B,S.adler>>>16),nt(B,65535&S.adler)),S.adler=1}if(B.status===69)if(B.gzhead.extra){for(N=B.pending;B.gzindex<(65535&B.gzhead.extra.length)&&(B.pending!==B.pending_buf_size||(B.gzhead.hcrc&&B.pending>N&&(S.adler=a(S.adler,B.pending_buf,B.pending-N,N)),oe(S),N=B.pending,B.pending!==B.pending_buf_size));)gt(B,255&B.gzhead.extra[B.gzindex]),B.gzindex++;B.gzhead.hcrc&&B.pending>N&&(S.adler=a(S.adler,B.pending_buf,B.pending-N,N)),B.gzindex===B.gzhead.extra.length&&(B.gzindex=0,B.status=73)}else B.status=73;if(B.status===73)if(B.gzhead.name){N=B.pending;do{if(B.pending===B.pending_buf_size&&(B.gzhead.hcrc&&B.pending>N&&(S.adler=a(S.adler,B.pending_buf,B.pending-N,N)),oe(S),N=B.pending,B.pending===B.pending_buf_size)){q=1;break}q=B.gzindex<B.gzhead.name.length?255&B.gzhead.name.charCodeAt(B.gzindex++):0,gt(B,q)}while(q!==0);B.gzhead.hcrc&&B.pending>N&&(S.adler=a(S.adler,B.pending_buf,B.pending-N,N)),q===0&&(B.gzindex=0,B.status=91)}else B.status=91;if(B.status===91)if(B.gzhead.comment){N=B.pending;do{if(B.pending===B.pending_buf_size&&(B.gzhead.hcrc&&B.pending>N&&(S.adler=a(S.adler,B.pending_buf,B.pending-N,N)),oe(S),N=B.pending,B.pending===B.pending_buf_size)){q=1;break}q=B.gzindex<B.gzhead.comment.length?255&B.gzhead.comment.charCodeAt(B.gzindex++):0,gt(B,q)}while(q!==0);B.gzhead.hcrc&&B.pending>N&&(S.adler=a(S.adler,B.pending_buf,B.pending-N,N)),q===0&&(B.status=103)}else B.status=103;if(B.status===103&&(B.gzhead.hcrc?(B.pending+2>B.pending_buf_size&&oe(S),B.pending+2<=B.pending_buf_size&&(gt(B,255&S.adler),gt(B,S.adler>>8&255),S.adler=0,B.status=W)):B.status=W),B.pending!==0){if(oe(S),S.avail_out===0)return B.last_flush=-1,u}else if(S.avail_in===0&&Ie(_e)<=Ie(le)&&_e!==d)return Mt(S,-5);if(B.status===666&&S.avail_in!==0)return Mt(S,-5);if(S.avail_in!==0||B.lookahead!==0||_e!==c&&B.status!==666){var Ee=B.strategy===2?function(ie,He){for(var at;;){if(ie.lookahead===0&&(Jn(ie),ie.lookahead===0)){if(He===c)return I;break}if(ie.match_length=0,at=r._tr_tally(ie,0,ie.window[ie.strstart]),ie.lookahead--,ie.strstart++,at&&(te(ie,!1),ie.strm.avail_out===0))return I}return ie.insert=0,He===d?(te(ie,!0),ie.strm.avail_out===0?Et:ve):ie.last_lit&&(te(ie,!1),ie.strm.avail_out===0)?I:ne}(B,_e):B.strategy===3?function(ie,He){for(var at,We,Rt,tn,Ai=ie.window;;){if(ie.lookahead<=H){if(Jn(ie),ie.lookahead<=H&&He===c)return I;if(ie.lookahead===0)break}if(ie.match_length=0,ie.lookahead>=L&&0<ie.strstart&&(We=Ai[Rt=ie.strstart-1])===Ai[++Rt]&&We===Ai[++Rt]&&We===Ai[++Rt]){tn=ie.strstart+H;do;while(We===Ai[++Rt]&&We===Ai[++Rt]&&We===Ai[++Rt]&&We===Ai[++Rt]&&We===Ai[++Rt]&&We===Ai[++Rt]&&We===Ai[++Rt]&&We===Ai[++Rt]&&Rt<tn);ie.match_length=H-(tn-Rt),ie.match_length>ie.lookahead&&(ie.match_length=ie.lookahead)}if(ie.match_length>=L?(at=r._tr_tally(ie,1,ie.match_length-L),ie.lookahead-=ie.match_length,ie.strstart+=ie.match_length,ie.match_length=0):(at=r._tr_tally(ie,0,ie.window[ie.strstart]),ie.lookahead--,ie.strstart++),at&&(te(ie,!1),ie.strm.avail_out===0))return I}return ie.insert=0,He===d?(te(ie,!0),ie.strm.avail_out===0?Et:ve):ie.last_lit&&(te(ie,!1),ie.strm.avail_out===0)?I:ne}(B,_e):i[B.level].func(B,_e);if(Ee!==Et&&Ee!==ve||(B.status=666),Ee===I||Ee===Et)return S.avail_out===0&&(B.last_flush=-1),u;if(Ee===ne&&(_e===1?r._tr_align(B):_e!==5&&(r._tr_stored_block(B,0,0,!1),_e===3&&(Nt(B.head),B.lookahead===0&&(B.strstart=0,B.block_start=0,B.insert=0))),oe(S),S.avail_out===0))return B.last_flush=-1,u}return _e!==d?u:B.wrap<=0?1:(B.wrap===2?(gt(B,255&S.adler),gt(B,S.adler>>8&255),gt(B,S.adler>>16&255),gt(B,S.adler>>24&255),gt(B,255&S.total_in),gt(B,S.total_in>>8&255),gt(B,S.total_in>>16&255),gt(B,S.total_in>>24&255)):(nt(B,S.adler>>>16),nt(B,65535&S.adler)),oe(S),0<B.wrap&&(B.wrap=-B.wrap),B.pending!==0?u:1)},e.deflateEnd=function(S){var _e;return S&&S.state?(_e=S.state.status)!==R&&_e!==69&&_e!==73&&_e!==91&&_e!==103&&_e!==W&&_e!==666?Mt(S,h):(S.state=null,_e===W?Mt(S,-3):u):h},e.deflateSetDictionary=function(S,_e){var le,B,N,q,we,Ee,ie,He,at=_e.length;if(!S||!S.state||(q=(le=S.state).wrap)===2||q===1&&le.status!==R||le.lookahead)return h;for(q===1&&(S.adler=s(S.adler,_e,at,0)),le.wrap=0,at>=le.w_size&&(q===0&&(Nt(le.head),le.strstart=0,le.block_start=0,le.insert=0),He=new o.Buf8(le.w_size),o.arraySet(He,_e,at-le.w_size,le.w_size,0),_e=He,at=le.w_size),we=S.avail_in,Ee=S.next_in,ie=S.input,S.avail_in=at,S.next_in=0,S.input=_e,Jn(le);le.lookahead>=L;){for(B=le.strstart,N=le.lookahead-(L-1);le.ins_h=(le.ins_h<<le.hash_shift^le.window[B+L-1])&le.hash_mask,le.prev[B&le.w_mask]=le.head[le.ins_h],le.head[le.ins_h]=B,B++,--N;);le.strstart=B,le.lookahead=L-1,Jn(le)}return le.strstart+=le.lookahead,le.block_start=le.strstart,le.insert=le.lookahead,le.lookahead=0,le.match_length=le.prev_length=L-1,le.match_available=0,S.next_in=Ee,S.input=ie,S.avail_in=we,le.wrap=q,u},e.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,t,e){"use strict";t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,t,e){"use strict";t.exports=function(i,o){var r,s,a,l,c,d,u,h,m,f,p,g,v,b,C,k,E,F,L,H,re,R,W,I,ne;r=i.state,s=i.next_in,I=i.input,a=s+(i.avail_in-5),l=i.next_out,ne=i.output,c=l-(o-i.avail_out),d=l+(i.avail_out-257),u=r.dmax,h=r.wsize,m=r.whave,f=r.wnext,p=r.window,g=r.hold,v=r.bits,b=r.lencode,C=r.distcode,k=(1<<r.lenbits)-1,E=(1<<r.distbits)-1;e:do{v<15&&(g+=I[s++]<<v,v+=8,g+=I[s++]<<v,v+=8),F=b[g&k];t:for(;;){if(g>>>=L=F>>>24,v-=L,(L=F>>>16&255)===0)ne[l++]=65535&F;else{if(!(16&L)){if((64&L)==0){F=b[(65535&F)+(g&(1<<L)-1)];continue t}if(32&L){r.mode=12;break e}i.msg="invalid literal/length code",r.mode=30;break e}H=65535&F,(L&=15)&&(v<L&&(g+=I[s++]<<v,v+=8),H+=g&(1<<L)-1,g>>>=L,v-=L),v<15&&(g+=I[s++]<<v,v+=8,g+=I[s++]<<v,v+=8),F=C[g&E];i:for(;;){if(g>>>=L=F>>>24,v-=L,!(16&(L=F>>>16&255))){if((64&L)==0){F=C[(65535&F)+(g&(1<<L)-1)];continue i}i.msg="invalid distance code",r.mode=30;break e}if(re=65535&F,v<(L&=15)&&(g+=I[s++]<<v,(v+=8)<L&&(g+=I[s++]<<v,v+=8)),u<(re+=g&(1<<L)-1)){i.msg="invalid distance too far back",r.mode=30;break e}if(g>>>=L,v-=L,(L=l-c)<re){if(m<(L=re-L)&&r.sane){i.msg="invalid distance too far back",r.mode=30;break e}if(W=p,(R=0)===f){if(R+=h-L,L<H){for(H-=L;ne[l++]=p[R++],--L;);R=l-re,W=ne}}else if(f<L){if(R+=h+f-L,(L-=f)<H){for(H-=L;ne[l++]=p[R++],--L;);if(R=0,f<H){for(H-=L=f;ne[l++]=p[R++],--L;);R=l-re,W=ne}}}else if(R+=f-L,L<H){for(H-=L;ne[l++]=p[R++],--L;);R=l-re,W=ne}for(;2<H;)ne[l++]=W[R++],ne[l++]=W[R++],ne[l++]=W[R++],H-=3;H&&(ne[l++]=W[R++],1<H&&(ne[l++]=W[R++]))}else{for(R=l-re;ne[l++]=ne[R++],ne[l++]=ne[R++],ne[l++]=ne[R++],2<(H-=3););H&&(ne[l++]=ne[R++],1<H&&(ne[l++]=ne[R++]))}break}}break}}while(s<a&&l<d);s-=H=v>>3,g&=(1<<(v-=H<<3))-1,i.next_in=s,i.next_out=l,i.avail_in=s<a?a-s+5:5-(s-a),i.avail_out=l<d?d-l+257:257-(l-d),r.hold=g,r.bits=v}},{}],49:[function(n,t,e){"use strict";var i=n("../utils/common"),o=n("./adler32"),r=n("./crc32"),s=n("./inffast"),a=n("./inftrees"),l=1,c=2,d=0,u=-2,h=1,m=852,f=592;function p(R){return(R>>>24&255)+(R>>>8&65280)+((65280&R)<<8)+((255&R)<<24)}function g(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i.Buf16(320),this.work=new i.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function v(R){var W;return R&&R.state?(W=R.state,R.total_in=R.total_out=W.total=0,R.msg="",W.wrap&&(R.adler=1&W.wrap),W.mode=h,W.last=0,W.havedict=0,W.dmax=32768,W.head=null,W.hold=0,W.bits=0,W.lencode=W.lendyn=new i.Buf32(m),W.distcode=W.distdyn=new i.Buf32(f),W.sane=1,W.back=-1,d):u}function b(R){var W;return R&&R.state?((W=R.state).wsize=0,W.whave=0,W.wnext=0,v(R)):u}function C(R,W){var I,ne;return R&&R.state?(ne=R.state,W<0?(I=0,W=-W):(I=1+(W>>4),W<48&&(W&=15)),W&&(W<8||15<W)?u:(ne.window!==null&&ne.wbits!==W&&(ne.window=null),ne.wrap=I,ne.wbits=W,b(R))):u}function k(R,W){var I,ne;return R?(ne=new g,(R.state=ne).window=null,(I=C(R,W))!==d&&(R.state=null),I):u}var E,F,L=!0;function H(R){if(L){var W;for(E=new i.Buf32(512),F=new i.Buf32(32),W=0;W<144;)R.lens[W++]=8;for(;W<256;)R.lens[W++]=9;for(;W<280;)R.lens[W++]=7;for(;W<288;)R.lens[W++]=8;for(a(l,R.lens,0,288,E,0,R.work,{bits:9}),W=0;W<32;)R.lens[W++]=5;a(c,R.lens,0,32,F,0,R.work,{bits:5}),L=!1}R.lencode=E,R.lenbits=9,R.distcode=F,R.distbits=5}function re(R,W,I,ne){var Et,ve=R.state;return ve.window===null&&(ve.wsize=1<<ve.wbits,ve.wnext=0,ve.whave=0,ve.window=new i.Buf8(ve.wsize)),ne>=ve.wsize?(i.arraySet(ve.window,W,I-ve.wsize,ve.wsize,0),ve.wnext=0,ve.whave=ve.wsize):(ne<(Et=ve.wsize-ve.wnext)&&(Et=ne),i.arraySet(ve.window,W,I-ne,Et,ve.wnext),(ne-=Et)?(i.arraySet(ve.window,W,I-ne,ne,0),ve.wnext=ne,ve.whave=ve.wsize):(ve.wnext+=Et,ve.wnext===ve.wsize&&(ve.wnext=0),ve.whave<ve.wsize&&(ve.whave+=Et))),0}e.inflateReset=b,e.inflateReset2=C,e.inflateResetKeep=v,e.inflateInit=function(R){return k(R,15)},e.inflateInit2=k,e.inflate=function(R,W){var I,ne,Et,ve,Mt,Ie,Nt,oe,te,gt,nt,$e,Jn,hr,Ti,ji,Wo,eo,ll,ya,S,_e,le,B,N=0,q=new i.Buf8(4),we=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!R||!R.state||!R.output||!R.input&&R.avail_in!==0)return u;(I=R.state).mode===12&&(I.mode=13),Mt=R.next_out,Et=R.output,Nt=R.avail_out,ve=R.next_in,ne=R.input,Ie=R.avail_in,oe=I.hold,te=I.bits,gt=Ie,nt=Nt,_e=d;e:for(;;)switch(I.mode){case h:if(I.wrap===0){I.mode=13;break}for(;te<16;){if(Ie===0)break e;Ie--,oe+=ne[ve++]<<te,te+=8}if(2&I.wrap&&oe===35615){q[I.check=0]=255&oe,q[1]=oe>>>8&255,I.check=r(I.check,q,2,0),te=oe=0,I.mode=2;break}if(I.flags=0,I.head&&(I.head.done=!1),!(1&I.wrap)||(((255&oe)<<8)+(oe>>8))%31){R.msg="incorrect header check",I.mode=30;break}if((15&oe)!=8){R.msg="unknown compression method",I.mode=30;break}if(te-=4,S=8+(15&(oe>>>=4)),I.wbits===0)I.wbits=S;else if(S>I.wbits){R.msg="invalid window size",I.mode=30;break}I.dmax=1<<S,R.adler=I.check=1,I.mode=512&oe?10:12,te=oe=0;break;case 2:for(;te<16;){if(Ie===0)break e;Ie--,oe+=ne[ve++]<<te,te+=8}if(I.flags=oe,(255&I.flags)!=8){R.msg="unknown compression method",I.mode=30;break}if(57344&I.flags){R.msg="unknown header flags set",I.mode=30;break}I.head&&(I.head.text=oe>>8&1),512&I.flags&&(q[0]=255&oe,q[1]=oe>>>8&255,I.check=r(I.check,q,2,0)),te=oe=0,I.mode=3;case 3:for(;te<32;){if(Ie===0)break e;Ie--,oe+=ne[ve++]<<te,te+=8}I.head&&(I.head.time=oe),512&I.flags&&(q[0]=255&oe,q[1]=oe>>>8&255,q[2]=oe>>>16&255,q[3]=oe>>>24&255,I.check=r(I.check,q,4,0)),te=oe=0,I.mode=4;case 4:for(;te<16;){if(Ie===0)break e;Ie--,oe+=ne[ve++]<<te,te+=8}I.head&&(I.head.xflags=255&oe,I.head.os=oe>>8),512&I.flags&&(q[0]=255&oe,q[1]=oe>>>8&255,I.check=r(I.check,q,2,0)),te=oe=0,I.mode=5;case 5:if(1024&I.flags){for(;te<16;){if(Ie===0)break e;Ie--,oe+=ne[ve++]<<te,te+=8}I.length=oe,I.head&&(I.head.extra_len=oe),512&I.flags&&(q[0]=255&oe,q[1]=oe>>>8&255,I.check=r(I.check,q,2,0)),te=oe=0}else I.head&&(I.head.extra=null);I.mode=6;case 6:if(1024&I.flags&&(Ie<($e=I.length)&&($e=Ie),$e&&(I.head&&(S=I.head.extra_len-I.length,I.head.extra||(I.head.extra=new Array(I.head.extra_len)),i.arraySet(I.head.extra,ne,ve,$e,S)),512&I.flags&&(I.check=r(I.check,ne,$e,ve)),Ie-=$e,ve+=$e,I.length-=$e),I.length))break e;I.length=0,I.mode=7;case 7:if(2048&I.flags){if(Ie===0)break e;for($e=0;S=ne[ve+$e++],I.head&&S&&I.length<65536&&(I.head.name+=String.fromCharCode(S)),S&&$e<Ie;);if(512&I.flags&&(I.check=r(I.check,ne,$e,ve)),Ie-=$e,ve+=$e,S)break e}else I.head&&(I.head.name=null);I.length=0,I.mode=8;case 8:if(4096&I.flags){if(Ie===0)break e;for($e=0;S=ne[ve+$e++],I.head&&S&&I.length<65536&&(I.head.comment+=String.fromCharCode(S)),S&&$e<Ie;);if(512&I.flags&&(I.check=r(I.check,ne,$e,ve)),Ie-=$e,ve+=$e,S)break e}else I.head&&(I.head.comment=null);I.mode=9;case 9:if(512&I.flags){for(;te<16;){if(Ie===0)break e;Ie--,oe+=ne[ve++]<<te,te+=8}if(oe!==(65535&I.check)){R.msg="header crc mismatch",I.mode=30;break}te=oe=0}I.head&&(I.head.hcrc=I.flags>>9&1,I.head.done=!0),R.adler=I.check=0,I.mode=12;break;case 10:for(;te<32;){if(Ie===0)break e;Ie--,oe+=ne[ve++]<<te,te+=8}R.adler=I.check=p(oe),te=oe=0,I.mode=11;case 11:if(I.havedict===0)return R.next_out=Mt,R.avail_out=Nt,R.next_in=ve,R.avail_in=Ie,I.hold=oe,I.bits=te,2;R.adler=I.check=1,I.mode=12;case 12:if(W===5||W===6)break e;case 13:if(I.last){oe>>>=7&te,te-=7&te,I.mode=27;break}for(;te<3;){if(Ie===0)break e;Ie--,oe+=ne[ve++]<<te,te+=8}switch(I.last=1&oe,te-=1,3&(oe>>>=1)){case 0:I.mode=14;break;case 1:if(H(I),I.mode=20,W!==6)break;oe>>>=2,te-=2;break e;case 2:I.mode=17;break;case 3:R.msg="invalid block type",I.mode=30}oe>>>=2,te-=2;break;case 14:for(oe>>>=7&te,te-=7&te;te<32;){if(Ie===0)break e;Ie--,oe+=ne[ve++]<<te,te+=8}if((65535&oe)!=(oe>>>16^65535)){R.msg="invalid stored block lengths",I.mode=30;break}if(I.length=65535&oe,te=oe=0,I.mode=15,W===6)break e;case 15:I.mode=16;case 16:if($e=I.length){if(Ie<$e&&($e=Ie),Nt<$e&&($e=Nt),$e===0)break e;i.arraySet(Et,ne,ve,$e,Mt),Ie-=$e,ve+=$e,Nt-=$e,Mt+=$e,I.length-=$e;break}I.mode=12;break;case 17:for(;te<14;){if(Ie===0)break e;Ie--,oe+=ne[ve++]<<te,te+=8}if(I.nlen=257+(31&oe),oe>>>=5,te-=5,I.ndist=1+(31&oe),oe>>>=5,te-=5,I.ncode=4+(15&oe),oe>>>=4,te-=4,286<I.nlen||30<I.ndist){R.msg="too many length or distance symbols",I.mode=30;break}I.have=0,I.mode=18;case 18:for(;I.have<I.ncode;){for(;te<3;){if(Ie===0)break e;Ie--,oe+=ne[ve++]<<te,te+=8}I.lens[we[I.have++]]=7&oe,oe>>>=3,te-=3}for(;I.have<19;)I.lens[we[I.have++]]=0;if(I.lencode=I.lendyn,I.lenbits=7,le={bits:I.lenbits},_e=a(0,I.lens,0,19,I.lencode,0,I.work,le),I.lenbits=le.bits,_e){R.msg="invalid code lengths set",I.mode=30;break}I.have=0,I.mode=19;case 19:for(;I.have<I.nlen+I.ndist;){for(;ji=(N=I.lencode[oe&(1<<I.lenbits)-1])>>>16&255,Wo=65535&N,!((Ti=N>>>24)<=te);){if(Ie===0)break e;Ie--,oe+=ne[ve++]<<te,te+=8}if(Wo<16)oe>>>=Ti,te-=Ti,I.lens[I.have++]=Wo;else{if(Wo===16){for(B=Ti+2;te<B;){if(Ie===0)break e;Ie--,oe+=ne[ve++]<<te,te+=8}if(oe>>>=Ti,te-=Ti,I.have===0){R.msg="invalid bit length repeat",I.mode=30;break}S=I.lens[I.have-1],$e=3+(3&oe),oe>>>=2,te-=2}else if(Wo===17){for(B=Ti+3;te<B;){if(Ie===0)break e;Ie--,oe+=ne[ve++]<<te,te+=8}te-=Ti,S=0,$e=3+(7&(oe>>>=Ti)),oe>>>=3,te-=3}else{for(B=Ti+7;te<B;){if(Ie===0)break e;Ie--,oe+=ne[ve++]<<te,te+=8}te-=Ti,S=0,$e=11+(127&(oe>>>=Ti)),oe>>>=7,te-=7}if(I.have+$e>I.nlen+I.ndist){R.msg="invalid bit length repeat",I.mode=30;break}for(;$e--;)I.lens[I.have++]=S}}if(I.mode===30)break;if(I.lens[256]===0){R.msg="invalid code -- missing end-of-block",I.mode=30;break}if(I.lenbits=9,le={bits:I.lenbits},_e=a(l,I.lens,0,I.nlen,I.lencode,0,I.work,le),I.lenbits=le.bits,_e){R.msg="invalid literal/lengths set",I.mode=30;break}if(I.distbits=6,I.distcode=I.distdyn,le={bits:I.distbits},_e=a(c,I.lens,I.nlen,I.ndist,I.distcode,0,I.work,le),I.distbits=le.bits,_e){R.msg="invalid distances set",I.mode=30;break}if(I.mode=20,W===6)break e;case 20:I.mode=21;case 21:if(6<=Ie&&258<=Nt){R.next_out=Mt,R.avail_out=Nt,R.next_in=ve,R.avail_in=Ie,I.hold=oe,I.bits=te,s(R,nt),Mt=R.next_out,Et=R.output,Nt=R.avail_out,ve=R.next_in,ne=R.input,Ie=R.avail_in,oe=I.hold,te=I.bits,I.mode===12&&(I.back=-1);break}for(I.back=0;ji=(N=I.lencode[oe&(1<<I.lenbits)-1])>>>16&255,Wo=65535&N,!((Ti=N>>>24)<=te);){if(Ie===0)break e;Ie--,oe+=ne[ve++]<<te,te+=8}if(ji&&(240&ji)==0){for(eo=Ti,ll=ji,ya=Wo;ji=(N=I.lencode[ya+((oe&(1<<eo+ll)-1)>>eo)])>>>16&255,Wo=65535&N,!(eo+(Ti=N>>>24)<=te);){if(Ie===0)break e;Ie--,oe+=ne[ve++]<<te,te+=8}oe>>>=eo,te-=eo,I.back+=eo}if(oe>>>=Ti,te-=Ti,I.back+=Ti,I.length=Wo,ji===0){I.mode=26;break}if(32&ji){I.back=-1,I.mode=12;break}if(64&ji){R.msg="invalid literal/length code",I.mode=30;break}I.extra=15&ji,I.mode=22;case 22:if(I.extra){for(B=I.extra;te<B;){if(Ie===0)break e;Ie--,oe+=ne[ve++]<<te,te+=8}I.length+=oe&(1<<I.extra)-1,oe>>>=I.extra,te-=I.extra,I.back+=I.extra}I.was=I.length,I.mode=23;case 23:for(;ji=(N=I.distcode[oe&(1<<I.distbits)-1])>>>16&255,Wo=65535&N,!((Ti=N>>>24)<=te);){if(Ie===0)break e;Ie--,oe+=ne[ve++]<<te,te+=8}if((240&ji)==0){for(eo=Ti,ll=ji,ya=Wo;ji=(N=I.distcode[ya+((oe&(1<<eo+ll)-1)>>eo)])>>>16&255,Wo=65535&N,!(eo+(Ti=N>>>24)<=te);){if(Ie===0)break e;Ie--,oe+=ne[ve++]<<te,te+=8}oe>>>=eo,te-=eo,I.back+=eo}if(oe>>>=Ti,te-=Ti,I.back+=Ti,64&ji){R.msg="invalid distance code",I.mode=30;break}I.offset=Wo,I.extra=15&ji,I.mode=24;case 24:if(I.extra){for(B=I.extra;te<B;){if(Ie===0)break e;Ie--,oe+=ne[ve++]<<te,te+=8}I.offset+=oe&(1<<I.extra)-1,oe>>>=I.extra,te-=I.extra,I.back+=I.extra}if(I.offset>I.dmax){R.msg="invalid distance too far back",I.mode=30;break}I.mode=25;case 25:if(Nt===0)break e;if($e=nt-Nt,I.offset>$e){if(($e=I.offset-$e)>I.whave&&I.sane){R.msg="invalid distance too far back",I.mode=30;break}Jn=$e>I.wnext?($e-=I.wnext,I.wsize-$e):I.wnext-$e,$e>I.length&&($e=I.length),hr=I.window}else hr=Et,Jn=Mt-I.offset,$e=I.length;for(Nt<$e&&($e=Nt),Nt-=$e,I.length-=$e;Et[Mt++]=hr[Jn++],--$e;);I.length===0&&(I.mode=21);break;case 26:if(Nt===0)break e;Et[Mt++]=I.length,Nt--,I.mode=21;break;case 27:if(I.wrap){for(;te<32;){if(Ie===0)break e;Ie--,oe|=ne[ve++]<<te,te+=8}if(nt-=Nt,R.total_out+=nt,I.total+=nt,nt&&(R.adler=I.check=I.flags?r(I.check,Et,nt,Mt-nt):o(I.check,Et,nt,Mt-nt)),nt=Nt,(I.flags?oe:p(oe))!==I.check){R.msg="incorrect data check",I.mode=30;break}te=oe=0}I.mode=28;case 28:if(I.wrap&&I.flags){for(;te<32;){if(Ie===0)break e;Ie--,oe+=ne[ve++]<<te,te+=8}if(oe!==(4294967295&I.total)){R.msg="incorrect length check",I.mode=30;break}te=oe=0}I.mode=29;case 29:_e=1;break e;case 30:_e=-3;break e;case 31:return-4;case 32:default:return u}return R.next_out=Mt,R.avail_out=Nt,R.next_in=ve,R.avail_in=Ie,I.hold=oe,I.bits=te,(I.wsize||nt!==R.avail_out&&I.mode<30&&(I.mode<27||W!==4))&&re(R,R.output,R.next_out,nt-R.avail_out)?(I.mode=31,-4):(gt-=R.avail_in,nt-=R.avail_out,R.total_in+=gt,R.total_out+=nt,I.total+=nt,I.wrap&&nt&&(R.adler=I.check=I.flags?r(I.check,Et,nt,R.next_out-nt):o(I.check,Et,nt,R.next_out-nt)),R.data_type=I.bits+(I.last?64:0)+(I.mode===12?128:0)+(I.mode===20||I.mode===15?256:0),(gt==0&&nt===0||W===4)&&_e===d&&(_e=-5),_e)},e.inflateEnd=function(R){if(!R||!R.state)return u;var W=R.state;return W.window&&(W.window=null),R.state=null,d},e.inflateGetHeader=function(R,W){var I;return R&&R.state?(2&(I=R.state).wrap)==0?u:((I.head=W).done=!1,d):u},e.inflateSetDictionary=function(R,W){var I,ne=W.length;return R&&R.state?(I=R.state).wrap!==0&&I.mode!==11?u:I.mode===11&&o(1,W,ne,0)!==I.check?-3:re(R,W,ne,ne)?(I.mode=31,-4):(I.havedict=1,d):u},e.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,t,e){"use strict";var i=n("../utils/common"),o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],r=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],s=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],a=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(l,c,d,u,h,m,f,p){var g,v,b,C,k,E,F,L,H,re=p.bits,R=0,W=0,I=0,ne=0,Et=0,ve=0,Mt=0,Ie=0,Nt=0,oe=0,te=null,gt=0,nt=new i.Buf16(16),$e=new i.Buf16(16),Jn=null,hr=0;for(R=0;R<=15;R++)nt[R]=0;for(W=0;W<u;W++)nt[c[d+W]]++;for(Et=re,ne=15;1<=ne&&nt[ne]===0;ne--);if(ne<Et&&(Et=ne),ne===0)return h[m++]=20971520,h[m++]=20971520,p.bits=1,0;for(I=1;I<ne&&nt[I]===0;I++);for(Et<I&&(Et=I),R=Ie=1;R<=15;R++)if(Ie<<=1,(Ie-=nt[R])<0)return-1;if(0<Ie&&(l===0||ne!==1))return-1;for($e[1]=0,R=1;R<15;R++)$e[R+1]=$e[R]+nt[R];for(W=0;W<u;W++)c[d+W]!==0&&(f[$e[c[d+W]]++]=W);if(E=l===0?(te=Jn=f,19):l===1?(te=o,gt-=257,Jn=r,hr-=257,256):(te=s,Jn=a,-1),R=I,k=m,Mt=W=oe=0,b=-1,C=(Nt=1<<(ve=Et))-1,l===1&&852<Nt||l===2&&592<Nt)return 1;for(;;){for(F=R-Mt,H=f[W]<E?(L=0,f[W]):f[W]>E?(L=Jn[hr+f[W]],te[gt+f[W]]):(L=96,0),g=1<<R-Mt,I=v=1<<ve;h[k+(oe>>Mt)+(v-=g)]=F<<24|L<<16|H|0,v!==0;);for(g=1<<R-1;oe&g;)g>>=1;if(g!==0?(oe&=g-1,oe+=g):oe=0,W++,--nt[R]==0){if(R===ne)break;R=c[d+f[W]]}if(Et<R&&(oe&C)!==b){for(Mt===0&&(Mt=Et),k+=I,Ie=1<<(ve=R-Mt);ve+Mt<ne&&!((Ie-=nt[ve+Mt])<=0);)ve++,Ie<<=1;if(Nt+=1<<ve,l===1&&852<Nt||l===2&&592<Nt)return 1;h[b=oe&C]=Et<<24|ve<<16|k-m|0}}return oe!==0&&(h[k+oe]=R-Mt<<24|64<<16|0),p.bits=Et,0}},{"../utils/common":41}],51:[function(n,t,e){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,t,e){"use strict";var i=n("../utils/common"),o=0,r=1;function s(N){for(var q=N.length;0<=--q;)N[q]=0}var a=0,l=29,c=256,d=c+1+l,u=30,h=19,m=2*d+1,f=15,p=16,g=7,v=256,b=16,C=17,k=18,E=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],F=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],L=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],H=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],re=new Array(2*(d+2));s(re);var R=new Array(2*u);s(R);var W=new Array(512);s(W);var I=new Array(256);s(I);var ne=new Array(l);s(ne);var Et,ve,Mt,Ie=new Array(u);function Nt(N,q,we,Ee,ie){this.static_tree=N,this.extra_bits=q,this.extra_base=we,this.elems=Ee,this.max_length=ie,this.has_stree=N&&N.length}function oe(N,q){this.dyn_tree=N,this.max_code=0,this.stat_desc=q}function te(N){return N<256?W[N]:W[256+(N>>>7)]}function gt(N,q){N.pending_buf[N.pending++]=255&q,N.pending_buf[N.pending++]=q>>>8&255}function nt(N,q,we){N.bi_valid>p-we?(N.bi_buf|=q<<N.bi_valid&65535,gt(N,N.bi_buf),N.bi_buf=q>>p-N.bi_valid,N.bi_valid+=we-p):(N.bi_buf|=q<<N.bi_valid&65535,N.bi_valid+=we)}function $e(N,q,we){nt(N,we[2*q],we[2*q+1])}function Jn(N,q){for(var we=0;we|=1&N,N>>>=1,we<<=1,0<--q;);return we>>>1}function hr(N,q,we){var Ee,ie,He=new Array(f+1),at=0;for(Ee=1;Ee<=f;Ee++)He[Ee]=at=at+we[Ee-1]<<1;for(ie=0;ie<=q;ie++){var We=N[2*ie+1];We!==0&&(N[2*ie]=Jn(He[We]++,We))}}function Ti(N){var q;for(q=0;q<d;q++)N.dyn_ltree[2*q]=0;for(q=0;q<u;q++)N.dyn_dtree[2*q]=0;for(q=0;q<h;q++)N.bl_tree[2*q]=0;N.dyn_ltree[2*v]=1,N.opt_len=N.static_len=0,N.last_lit=N.matches=0}function ji(N){8<N.bi_valid?gt(N,N.bi_buf):0<N.bi_valid&&(N.pending_buf[N.pending++]=N.bi_buf),N.bi_buf=0,N.bi_valid=0}function Wo(N,q,we,Ee){var ie=2*q,He=2*we;return N[ie]<N[He]||N[ie]===N[He]&&Ee[q]<=Ee[we]}function eo(N,q,we){for(var Ee=N.heap[we],ie=we<<1;ie<=N.heap_len&&(ie<N.heap_len&&Wo(q,N.heap[ie+1],N.heap[ie],N.depth)&&ie++,!Wo(q,Ee,N.heap[ie],N.depth));)N.heap[we]=N.heap[ie],we=ie,ie<<=1;N.heap[we]=Ee}function ll(N,q,we){var Ee,ie,He,at,We=0;if(N.last_lit!==0)for(;Ee=N.pending_buf[N.d_buf+2*We]<<8|N.pending_buf[N.d_buf+2*We+1],ie=N.pending_buf[N.l_buf+We],We++,Ee===0?$e(N,ie,q):($e(N,(He=I[ie])+c+1,q),(at=E[He])!==0&&nt(N,ie-=ne[He],at),$e(N,He=te(--Ee),we),(at=F[He])!==0&&nt(N,Ee-=Ie[He],at)),We<N.last_lit;);$e(N,v,q)}function ya(N,q){var we,Ee,ie,He=q.dyn_tree,at=q.stat_desc.static_tree,We=q.stat_desc.has_stree,Rt=q.stat_desc.elems,tn=-1;for(N.heap_len=0,N.heap_max=m,we=0;we<Rt;we++)He[2*we]!==0?(N.heap[++N.heap_len]=tn=we,N.depth[we]=0):He[2*we+1]=0;for(;N.heap_len<2;)He[2*(ie=N.heap[++N.heap_len]=tn<2?++tn:0)]=1,N.depth[ie]=0,N.opt_len--,We&&(N.static_len-=at[2*ie+1]);for(q.max_code=tn,we=N.heap_len>>1;1<=we;we--)eo(N,He,we);for(ie=Rt;we=N.heap[1],N.heap[1]=N.heap[N.heap_len--],eo(N,He,1),Ee=N.heap[1],N.heap[--N.heap_max]=we,N.heap[--N.heap_max]=Ee,He[2*ie]=He[2*we]+He[2*Ee],N.depth[ie]=(N.depth[we]>=N.depth[Ee]?N.depth[we]:N.depth[Ee])+1,He[2*we+1]=He[2*Ee+1]=ie,N.heap[1]=ie++,eo(N,He,1),2<=N.heap_len;);N.heap[--N.heap_max]=N.heap[1],function(Ai,Us){var Q_,cl,J_,to,cx,zA,uc=Us.dyn_tree,nj=Us.max_code,cue=Us.stat_desc.static_tree,due=Us.stat_desc.has_stree,uue=Us.stat_desc.extra_bits,oj=Us.stat_desc.extra_base,ev=Us.stat_desc.max_length,dx=0;for(to=0;to<=f;to++)Ai.bl_count[to]=0;for(uc[2*Ai.heap[Ai.heap_max]+1]=0,Q_=Ai.heap_max+1;Q_<m;Q_++)ev<(to=uc[2*uc[2*(cl=Ai.heap[Q_])+1]+1]+1)&&(to=ev,dx++),uc[2*cl+1]=to,nj<cl||(Ai.bl_count[to]++,cx=0,oj<=cl&&(cx=uue[cl-oj]),zA=uc[2*cl],Ai.opt_len+=zA*(to+cx),due&&(Ai.static_len+=zA*(cue[2*cl+1]+cx)));if(dx!==0){do{for(to=ev-1;Ai.bl_count[to]===0;)to--;Ai.bl_count[to]--,Ai.bl_count[to+1]+=2,Ai.bl_count[ev]--,dx-=2}while(0<dx);for(to=ev;to!==0;to--)for(cl=Ai.bl_count[to];cl!==0;)nj<(J_=Ai.heap[--Q_])||(uc[2*J_+1]!==to&&(Ai.opt_len+=(to-uc[2*J_+1])*uc[2*J_],uc[2*J_+1]=to),cl--)}}(N,q),hr(He,tn,N.bl_count)}function S(N,q,we){var Ee,ie,He=-1,at=q[1],We=0,Rt=7,tn=4;for(at===0&&(Rt=138,tn=3),q[2*(we+1)+1]=65535,Ee=0;Ee<=we;Ee++)ie=at,at=q[2*(Ee+1)+1],++We<Rt&&ie===at||(We<tn?N.bl_tree[2*ie]+=We:ie!==0?(ie!==He&&N.bl_tree[2*ie]++,N.bl_tree[2*b]++):We<=10?N.bl_tree[2*C]++:N.bl_tree[2*k]++,He=ie,tn=(We=0)===at?(Rt=138,3):ie===at?(Rt=6,3):(Rt=7,4))}function _e(N,q,we){var Ee,ie,He=-1,at=q[1],We=0,Rt=7,tn=4;for(at===0&&(Rt=138,tn=3),Ee=0;Ee<=we;Ee++)if(ie=at,at=q[2*(Ee+1)+1],!(++We<Rt&&ie===at)){if(We<tn)for(;$e(N,ie,N.bl_tree),--We!=0;);else ie!==0?(ie!==He&&($e(N,ie,N.bl_tree),We--),$e(N,b,N.bl_tree),nt(N,We-3,2)):We<=10?($e(N,C,N.bl_tree),nt(N,We-3,3)):($e(N,k,N.bl_tree),nt(N,We-11,7));He=ie,tn=(We=0)===at?(Rt=138,3):ie===at?(Rt=6,3):(Rt=7,4)}}s(Ie);var le=!1;function B(N,q,we,Ee){nt(N,(a<<1)+(Ee?1:0),3),function(ie,He,at,We){ji(ie),We&&(gt(ie,at),gt(ie,~at)),i.arraySet(ie.pending_buf,ie.window,He,at,ie.pending),ie.pending+=at}(N,q,we,!0)}e._tr_init=function(N){le||(function(){var q,we,Ee,ie,He,at=new Array(f+1);for(ie=Ee=0;ie<l-1;ie++)for(ne[ie]=Ee,q=0;q<1<<E[ie];q++)I[Ee++]=ie;for(I[Ee-1]=ie,ie=He=0;ie<16;ie++)for(Ie[ie]=He,q=0;q<1<<F[ie];q++)W[He++]=ie;for(He>>=7;ie<u;ie++)for(Ie[ie]=He<<7,q=0;q<1<<F[ie]-7;q++)W[256+He++]=ie;for(we=0;we<=f;we++)at[we]=0;for(q=0;q<=143;)re[2*q+1]=8,q++,at[8]++;for(;q<=255;)re[2*q+1]=9,q++,at[9]++;for(;q<=279;)re[2*q+1]=7,q++,at[7]++;for(;q<=287;)re[2*q+1]=8,q++,at[8]++;for(hr(re,d+1,at),q=0;q<u;q++)R[2*q+1]=5,R[2*q]=Jn(q,5);Et=new Nt(re,E,c+1,d,f),ve=new Nt(R,F,0,u,f),Mt=new Nt(new Array(0),L,0,h,g)}(),le=!0),N.l_desc=new oe(N.dyn_ltree,Et),N.d_desc=new oe(N.dyn_dtree,ve),N.bl_desc=new oe(N.bl_tree,Mt),N.bi_buf=0,N.bi_valid=0,Ti(N)},e._tr_stored_block=B,e._tr_flush_block=function(N,q,we,Ee){var ie,He,at=0;0<N.level?(N.strm.data_type===2&&(N.strm.data_type=function(We){var Rt,tn=4093624447;for(Rt=0;Rt<=31;Rt++,tn>>>=1)if(1&tn&&We.dyn_ltree[2*Rt]!==0)return o;if(We.dyn_ltree[18]!==0||We.dyn_ltree[20]!==0||We.dyn_ltree[26]!==0)return r;for(Rt=32;Rt<c;Rt++)if(We.dyn_ltree[2*Rt]!==0)return r;return o}(N)),ya(N,N.l_desc),ya(N,N.d_desc),at=function(We){var Rt;for(S(We,We.dyn_ltree,We.l_desc.max_code),S(We,We.dyn_dtree,We.d_desc.max_code),ya(We,We.bl_desc),Rt=h-1;3<=Rt&&We.bl_tree[2*H[Rt]+1]===0;Rt--);return We.opt_len+=3*(Rt+1)+5+5+4,Rt}(N),ie=N.opt_len+3+7>>>3,(He=N.static_len+3+7>>>3)<=ie&&(ie=He)):ie=He=we+5,we+4<=ie&&q!==-1?B(N,q,we,Ee):N.strategy===4||He===ie?(nt(N,2+(Ee?1:0),3),ll(N,re,R)):(nt(N,4+(Ee?1:0),3),function(We,Rt,tn,Ai){var Us;for(nt(We,Rt-257,5),nt(We,tn-1,5),nt(We,Ai-4,4),Us=0;Us<Ai;Us++)nt(We,We.bl_tree[2*H[Us]+1],3);_e(We,We.dyn_ltree,Rt-1),_e(We,We.dyn_dtree,tn-1)}(N,N.l_desc.max_code+1,N.d_desc.max_code+1,at+1),ll(N,N.dyn_ltree,N.dyn_dtree)),Ti(N),Ee&&ji(N)},e._tr_tally=function(N,q,we){return N.pending_buf[N.d_buf+2*N.last_lit]=q>>>8&255,N.pending_buf[N.d_buf+2*N.last_lit+1]=255&q,N.pending_buf[N.l_buf+N.last_lit]=255&we,N.last_lit++,q===0?N.dyn_ltree[2*we]++:(N.matches++,q--,N.dyn_ltree[2*(I[we]+c+1)]++,N.dyn_dtree[2*te(q)]++),N.last_lit===N.lit_bufsize-1},e._tr_align=function(N){nt(N,2,3),$e(N,v,re),function(q){q.bi_valid===16?(gt(q,q.bi_buf),q.bi_buf=0,q.bi_valid=0):8<=q.bi_valid&&(q.pending_buf[q.pending++]=255&q.bi_buf,q.bi_buf>>=8,q.bi_valid-=8)}(N)}},{"../utils/common":41}],53:[function(n,t,e){"use strict";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,t,e){(function(i){(function(o,r){"use strict";if(!o.setImmediate){var s,a,l,c,d=1,u={},h=!1,m=o.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(o);f=f&&f.setTimeout?f:o,s={}.toString.call(o.process)==="[object process]"?function(b){process.nextTick(function(){g(b)})}:function(){if(o.postMessage&&!o.importScripts){var b=!0,C=o.onmessage;return o.onmessage=function(){b=!1},o.postMessage("","*"),o.onmessage=C,b}}()?(c="setImmediate$"+Math.random()+"$",o.addEventListener?o.addEventListener("message",v,!1):o.attachEvent("onmessage",v),function(b){o.postMessage(c+b,"*")}):o.MessageChannel?((l=new MessageChannel).port1.onmessage=function(b){g(b.data)},function(b){l.port2.postMessage(b)}):m&&"onreadystatechange"in m.createElement("script")?(a=m.documentElement,function(b){var C=m.createElement("script");C.onreadystatechange=function(){g(b),C.onreadystatechange=null,a.removeChild(C),C=null},a.appendChild(C)}):function(b){setTimeout(g,0,b)},f.setImmediate=function(b){typeof b!="function"&&(b=new Function(""+b));for(var C=new Array(arguments.length-1),k=0;k<C.length;k++)C[k]=arguments[k+1];var E={callback:b,args:C};return u[d]=E,s(d),d++},f.clearImmediate=p}function p(b){delete u[b]}function g(b){if(h)setTimeout(g,0,b);else{var C=u[b];if(C){h=!0;try{(function(k){var E=k.callback,F=k.args;switch(F.length){case 0:E();break;case 1:E(F[0]);break;case 2:E(F[0],F[1]);break;case 3:E(F[0],F[1],F[2]);break;default:E.apply(r,F)}})(C)}finally{p(b),h=!1}}}}function v(b){b.source===o&&typeof b.data=="string"&&b.data.indexOf(c)===0&&g(+b.data.slice(c.length))}})(typeof self>"u"?i===void 0?this:i:self)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})});var s0e,c2,Ru,Fg,e0,t0,rd,d2,zg=ux(()=>{"use strict";Oi();bi();Bt();dv();Ic();hi();qe();Xs();Ot();Sc();bs();ue();Lt();s0e=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},c2=function(n,t){return function(e,i){t(e,i,n)}},Ru=class{remove(){this.parent?.children.delete(this.id)}static findId(t,e){let i;typeof t=="string"?i=`${e.id}/${t}`:(i=`${e.id}/${t.name}`,e.children.get(i)!==void 0&&(i=`${e.id}/${t.name}_${t.range.startLineNumber}_${t.range.startColumn}`));let o=i;for(let r=0;e.children.get(o)!==void 0;r++)o=`${i}_${r}`;return o}static empty(t){return t.children.size===0}},Fg=class extends Ru{constructor(t,e,i){super(),this.id=t,this.parent=e,this.symbol=i,this.children=new Map}},e0=class extends Ru{constructor(t,e,i,o){super(),this.id=t,this.parent=e,this.label=i,this.order=o,this.children=new Map}},t0=class n extends Ru{static create(t,e,i){let o=new vi(i),r=new n(e.uri),s=t.ordered(e),a=s.map((c,d)=>{let u=Ru.findId(`provider_${d}`,r),h=new e0(u,r,c.displayName??"Unknown Outline Provider",d);return Promise.resolve(c.provideDocumentSymbols(e,o.token)).then(m=>{for(let f of m||[])n._makeOutlineElement(f,h);return h},m=>(zt(m),h)).then(m=>{Ru.empty(m)?m.remove():r._groups.set(u,m)})}),l=t.onDidChange(()=>{let c=t.ordered(e);Jo(c,s)||o.cancel()});return Promise.all(a).then(()=>o.token.isCancellationRequested&&!i.isCancellationRequested?n.create(t,e,i):r._compact()).finally(()=>{o.dispose(),l.dispose(),o.dispose()})}static _makeOutlineElement(t,e){let i=Ru.findId(t,e),o=new Fg(i,e,t);if(t.children)for(let r of t.children)n._makeOutlineElement(r,o);e.children.set(o.id,o)}constructor(t){super(),this.uri=t,this.id="root",this.parent=void 0,this._groups=new Map,this.children=new Map,this.id="root",this.parent=void 0}_compact(){let t=0;for(let[e,i]of this._groups)i.children.size===0?this._groups.delete(e):t+=1;if(t!==1)this.children=this._groups;else{let e=Xr.first(this._groups.values());for(let[,i]of e.children)i.parent=this,this.children.set(i.id,i)}return this}getTopLevelSymbols(){let t=[];for(let e of this.children.values())e instanceof Fg?t.push(e.symbol):t.push(...Xr.map(e.children.values(),i=>i.symbol));return t.sort((e,i)=>A.compareRangesUsingStarts(e.range,i.range))}asListOfDocumentSymbols(){let t=this.getTopLevelSymbols(),e=[];return n._flattenDocumentSymbols(e,t,""),e.sort((i,o)=>pe.compare(A.getStartPosition(i.range),A.getStartPosition(o.range))||pe.compare(A.getEndPosition(o.range),A.getEndPosition(i.range)))}static _flattenDocumentSymbols(t,e,i){for(let o of e)t.push({kind:o.kind,tags:o.tags,name:o.name,detail:o.detail,containerName:o.containerName||i,range:o.range,selectionRange:o.selectionRange,children:void 0}),o.children&&n._flattenDocumentSymbols(t,o.children,o.name)}},rd=jo("IOutlineModelService"),d2=class{constructor(t,e,i){this._languageFeaturesService=t,this._disposables=new G,this._cache=new wl(10,.7),this._debounceInformation=e.for(t.documentSymbolProvider,"DocumentSymbols",{min:350}),this._disposables.add(i.onModelRemoved(o=>{this._cache.delete(o.id)}))}dispose(){this._disposables.dispose()}getOrCreate(t,e){return M(this,null,function*(){let i=this._languageFeaturesService.documentSymbolProvider,o=i.ordered(t),r=this._cache.get(t.id);if(!r||r.versionId!==t.getVersionId()||!Jo(r.provider,o)){let a=new vi;r={versionId:t.getVersionId(),provider:o,promiseCnt:0,source:a,promise:t0.create(i,t,a.token),model:void 0},this._cache.set(t.id,r);let l=Date.now();r.promise.then(c=>{r.model=c,this._debounceInformation.update(t,Date.now()-l)}).catch(c=>{this._cache.delete(t.id)})}if(r.model)return r.model;r.promiseCnt+=1;let s=e.onCancellationRequested(()=>{--r.promiseCnt===0&&(r.source.cancel(),this._cache.delete(t.id))});try{return yield r.promise}finally{s.dispose()}})}};d2=s0e([c2(0,ce),c2(1,yn),c2(2,Ui)],d2);qo(rd,d2,1)});var tM,oY=ux(()=>{"use strict";Nn();tM=class{constructor(t,e,i){this._editRange=t,this._originalSelection=e,this._text=i}getEditOperations(t,e){e.addTrackedEditOperation(this._editRange,this._text)}computeCursorState(t,e){let o=e.getInverseEditOperations()[0].range;return this._originalSelection.isEmpty()?new Be(o.endLineNumber,Math.min(this._originalSelection.positionColumn,o.endColumn),o.endLineNumber,Math.min(this._originalSelection.positionColumn,o.endColumn)):new Be(o.endLineNumber,o.endColumn-this._text.length,o.endLineNumber,o.endColumn)}}});var rY=ux(()=>{});var sY=O(I0=>{"use strict";Ht();Bt();Bh();it();qe();Nn();Kt();wn();Fh();Re();oY();rY();var bwe=I0&&I0.__decorate||function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},ywe=I0&&I0.__param||function(n,t){return function(e,i){t(e,i,n)}},iM,t_=class{static{iM=this}static{this.ID="editor.contrib.inPlaceReplaceController"}static get(t){return t.getContribution(iM.ID)}static{this.DECORATION=lt.register({description:"in-place-replace",className:"valueSetReplacement"})}constructor(t,e){this.editor=t,this.editorWorkerService=e,this.decorations=this.editor.createDecorationsCollection()}dispose(){}run(t,e){this.currentRequest?.cancel();let i=this.editor.getSelection(),o=this.editor.getModel();if(!o||!i)return;let r=i;if(r.startLineNumber!==r.endLineNumber)return;let s=new jC(this.editor,5),a=o.uri;return this.editorWorkerService.canNavigateValueSet(a)?(this.currentRequest=Ci(l=>this.editorWorkerService.navigateValueSet(a,r,e)),this.currentRequest.then(l=>{if(!l||!l.range||!l.value||!s.validate(this.editor))return;let c=A.lift(l.range),d=l.range,u=l.value.length-(r.endColumn-r.startColumn);d={startLineNumber:d.startLineNumber,startColumn:d.startColumn,endLineNumber:d.endLineNumber,endColumn:d.startColumn+l.value.length},u>1&&(r=new Be(r.startLineNumber,r.startColumn,r.endLineNumber,r.endColumn+u-1));let h=new tM(c,r,l.value);this.editor.pushUndoStop(),this.editor.executeCommand(t,h),this.editor.pushUndoStop(),this.decorations.set([{range:d,options:iM.DECORATION}]),this.decorationRemover?.cancel(),this.decorationRemover=Td(350),this.decorationRemover.then(()=>this.decorations.clear()).catch(ht)}).catch(ht)):Promise.resolve(void 0)}};t_=iM=bwe([ywe(1,wr)],t_);var mz=class extends Q{constructor(){super({id:"editor.action.inPlaceReplace.up",label:_("InPlaceReplaceAction.previous.label","Replace with Previous Value"),alias:"Replace with Previous Value",precondition:T.writable,kbOpts:{kbExpr:T.editorTextFocus,primary:3159,weight:100}})}run(t,e){let i=t_.get(e);return i?i.run(this.id,!1):Promise.resolve(void 0)}},pz=class extends Q{constructor(){super({id:"editor.action.inPlaceReplace.down",label:_("InPlaceReplaceAction.next.label","Replace with Next Value"),alias:"Replace with Next Value",precondition:T.writable,kbOpts:{kbExpr:T.editorTextFocus,primary:3161,weight:100}})}run(t,e){let i=t_.get(e);return i?i.run(this.id,!0):Promise.resolve(void 0)}};Te(t_.ID,t_,4);V(mz);V(pz)});var eX=O(K0=>{"use strict";Oi();co();Bue();E8();Lt();zg();ue();oi();var Uxe=K0&&K0.__decorate||function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},JY=K0&&K0.__param||function(n,t){return function(e,i){t(e,i,n)}},$H=class extends U{constructor(t,e,i){super(),this._textModel=t,this._languageFeaturesService=e,this._outlineModelService=i,this._currentModel=Yn(this,void 0);let o=Ba("documentSymbolProvider.onDidChange",this._languageFeaturesService.documentSymbolProvider.onDidChange),r=Ba("_textModel.onDidChangeContent",xi.debounce(s=>this._textModel.onDidChangeContent(s),()=>{},100));this._register(Dl((s,a)=>M(this,null,function*(){o.read(s),r.read(s);let l=a.add(new I8),c=yield this._outlineModelService.getOrCreate(this._textModel,l.token);a.isDisposed||this._currentModel.set(c,void 0)})))}getBreadcrumbItems(t,e){let i=this._currentModel.read(e);if(!i)return[];let o=i.asListOfDocumentSymbols().filter(r=>t.contains(r.range.startLineNumber)&&!t.contains(r.range.endLineNumber));return o.sort(Yj(vc(r=>r.range.endLineNumber-r.range.startLineNumber,Ch))),o.map(r=>({name:r.name,kind:r.kind,startLineNumber:r.range.startLineNumber}))}};$H=Uxe([JY(1,ce),JY(2,rd)],$H);T8.setBreadcrumbsSourceFactory((n,t)=>t.createInstance($H,n))});var iX=ux(()=>{});var oX=O(X0=>{"use strict";iX();_t();xl();ue();it();vn();Due();Tue();Pa();p8();Nh();var Gxe=X0&&X0.__decorate||function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},nX=X0&&X0.__param||function(n,t){return function(e,i){t(e,i,n)}},KH,Y0=class extends U{static{KH=this}static{this.ID="editor.contrib.inspectTokens"}static get(e){return e.getContribution(KH.ID)}constructor(e,i,o){super(),this._editor=e,this._languageService=o,this._widget=null,this._register(this._editor.onDidChangeModel(r=>this.stop())),this._register(this._editor.onDidChangeModelLanguage(r=>this.stop())),this._register(Dp.onDidChange(r=>this.stop())),this._register(this._editor.onKeyUp(r=>r.keyCode===9&&this.stop()))}dispose(){this.stop(),super.dispose()}launch(){this._widget||this._editor.hasModel()&&(this._widget=new Yxe(this._editor,this._languageService))}stop(){this._widget&&(this._widget.dispose(),this._widget=null)}};Y0=KH=Gxe([nX(1,IC),nX(2,qn)],Y0);var YH=class extends Q{constructor(){super({id:"editor.action.inspectTokens",label:IU.inspectTokensAction,alias:"Developer: Inspect Tokens",precondition:void 0})}run(t,e){Y0.get(e)?.launch()}};function $xe(n){let t="";for(let e=0,i=n.length;e<i;e++){let o=n.charCodeAt(e);switch(o){case 9:t+="\u2192";break;case 32:t+="\xB7";break;default:t+=String.fromCharCode(o)}}return t}function Kxe(n,t){let e=Dp.get(t);if(e)return e;let i=n.encodeLanguageId(t);return{getInitialState:()=>gU,tokenize:(o,r,s)=>_U(t,s),tokenizeEncoded:(o,r,s)=>vU(i,s)}}var Yxe=(()=>{class n extends U{static{this._ID="editor.contrib.inspectTokensWidget"}constructor(e,i){super(),this.allowEditorOverflow=!0,this._editor=e,this._languageService=i,this._model=this._editor.getModel(),this._domNode=document.createElement("div"),this._domNode.className="tokens-inspect-widget",this._tokenizationSupport=Kxe(this._languageService.languageIdCodec,this._model.getLanguageId()),this._compute(this._editor.getPosition()),this._register(this._editor.onDidChangeCursorPosition(o=>this._compute(this._editor.getPosition()))),this._editor.addContentWidget(this)}dispose(){this._editor.removeContentWidget(this),super.dispose()}getId(){return n._ID}_compute(e){let i=this._getTokensAtLine(e.lineNumber),o=0;for(let c=i.tokens1.length-1;c>=0;c--){let d=i.tokens1[c];if(e.column-1>=d.offset){o=c;break}}let r=0;for(let c=i.tokens2.length>>>1;c>=0;c--)if(e.column-1>=i.tokens2[c<<1]){r=c;break}let s=this._model.getLineContent(e.lineNumber),a="";if(o<i.tokens1.length){let c=i.tokens1[o].offset,d=o+1<i.tokens1.length?i.tokens1[o+1].offset:s.length;a=s.substring(c,d)}Mh(this._domNode,ye("h2.tm-token",void 0,$xe(a),ye("span.tm-token-length",void 0,`${a.length} ${a.length===1?"char":"chars"}`))),Ce(this._domNode,ye("hr.tokens-inspect-separator",{style:"clear:both"}));let l=(r<<1)+1<i.tokens2.length?this._decodeMetadata(i.tokens2[(r<<1)+1]):null;Ce(this._domNode,ye("table.tm-metadata-table",void 0,ye("tbody",void 0,ye("tr",void 0,ye("td.tm-metadata-key",void 0,"language"),ye("td.tm-metadata-value",void 0,`${l?l.languageId:"-?-"}`)),ye("tr",void 0,ye("td.tm-metadata-key",void 0,"token type"),ye("td.tm-metadata-value",void 0,`${l?this._tokenTypeToString(l.tokenType):"-?-"}`)),ye("tr",void 0,ye("td.tm-metadata-key",void 0,"font style"),ye("td.tm-metadata-value",void 0,`${l?this._fontStyleToString(l.fontStyle):"-?-"}`)),ye("tr",void 0,ye("td.tm-metadata-key",void 0,"foreground"),ye("td.tm-metadata-value",void 0,`${l?It.Format.CSS.formatHex(l.foreground):"-?-"}`)),ye("tr",void 0,ye("td.tm-metadata-key",void 0,"background"),ye("td.tm-metadata-value",void 0,`${l?It.Format.CSS.formatHex(l.background):"-?-"}`))))),Ce(this._domNode,ye("hr.tokens-inspect-separator")),o<i.tokens1.length&&Ce(this._domNode,ye("span.tm-token-type",void 0,i.tokens1[o].type)),this._editor.layoutContentWidget(this)}_decodeMetadata(e){let i=Dp.getColorMap(),o=Pp.getLanguageId(e),r=Pp.getTokenType(e),s=Pp.getFontStyle(e),a=Pp.getForeground(e),l=Pp.getBackground(e);return{languageId:this._languageService.languageIdCodec.decodeLanguageId(o),tokenType:r,fontStyle:s,foreground:i[a],background:i[l]}}_tokenTypeToString(e){switch(e){case 0:return"Other";case 1:return"Comment";case 2:return"String";case 3:return"RegEx";default:return"??"}}_fontStyleToString(e){let i="";return e&1&&(i+="italic "),e&2&&(i+="bold "),e&4&&(i+="underline "),e&8&&(i+="strikethrough "),i.length===0&&(i="---"),i}_getTokensAtLine(e){let i=this._getStateBeforeLine(e),o=this._tokenizationSupport.tokenize(this._model.getLineContent(e),!0,i),r=this._tokenizationSupport.tokenizeEncoded(this._model.getLineContent(e),!0,i);return{startState:i,tokens1:o.tokens,tokens2:r.tokens,endState:o.endState}}_getStateBeforeLine(e){let i=this._tokenizationSupport.getInitialState();for(let o=1;o<e;o++)i=this._tokenizationSupport.tokenize(this._model.getLineContent(o),!0,i).endState;return i}getDomNode(){return this._domNode}getPosition(){return{position:this._editor.getPosition(),preference:[2,1]}}}return n})();Te(Y0.ID,Y0,4);V(YH)});var FQ=O((uci,NQ)=>{"use strict";function REe(){this.__data__=[],this.size=0}NQ.exports=REe});var ep=O((hci,zQ)=>{"use strict";function OEe(n,t){return n===t||n!==n&&t!==t}zQ.exports=OEe});var xw=O((mci,BQ)=>{"use strict";var PEe=ep();function LEe(n,t){for(var e=n.length;e--;)if(PEe(n[e][0],t))return e;return-1}BQ.exports=LEe});var VQ=O((pci,HQ)=>{"use strict";var NEe=xw(),FEe=Array.prototype,zEe=FEe.splice;function BEe(n){var t=this.__data__,e=NEe(t,n);if(e<0)return!1;var i=t.length-1;return e==i?t.pop():zEe.call(t,e,1),--this.size,!0}HQ.exports=BEe});var jQ=O((fci,WQ)=>{"use strict";var HEe=xw();function VEe(n){var t=this.__data__,e=HEe(t,n);return e<0?void 0:t[e][1]}WQ.exports=VEe});var qQ=O((gci,UQ)=>{"use strict";var WEe=xw();function jEe(n){return WEe(this.__data__,n)>-1}UQ.exports=jEe});var $Q=O((_ci,GQ)=>{"use strict";var UEe=xw();function qEe(n,t){var e=this.__data__,i=UEe(e,n);return i<0?(++this.size,e.push([n,t])):e[i][1]=t,this}GQ.exports=qEe});var Cw=O((vci,KQ)=>{"use strict";var GEe=FQ(),$Ee=VQ(),KEe=jQ(),YEe=qQ(),XEe=$Q();function S_(n){var t=-1,e=n==null?0:n.length;for(this.clear();++t<e;){var i=n[t];this.set(i[0],i[1])}}S_.prototype.clear=GEe;S_.prototype.delete=$Ee;S_.prototype.get=KEe;S_.prototype.has=YEe;S_.prototype.set=XEe;KQ.exports=S_});var XQ=O((bci,YQ)=>{"use strict";var ZEe=Cw();function QEe(){this.__data__=new ZEe,this.size=0}YQ.exports=QEe});var QQ=O((yci,ZQ)=>{"use strict";function JEe(n){var t=this.__data__,e=t.delete(n);return this.size=t.size,e}ZQ.exports=JEe});var eJ=O((wci,JQ)=>{"use strict";function e1e(n){return this.__data__.get(n)}JQ.exports=e1e});var iJ=O((xci,tJ)=>{"use strict";function t1e(n){return this.__data__.has(n)}tJ.exports=t1e});var U3=O((Cci,nJ)=>{"use strict";var i1e=typeof global=="object"&&global&&global.Object===Object&&global;nJ.exports=i1e});var fa=O((Sci,oJ)=>{"use strict";var n1e=U3(),o1e=typeof self=="object"&&self&&self.Object===Object&&self,r1e=n1e||o1e||Function("return this")();oJ.exports=r1e});var tp=O((Dci,rJ)=>{"use strict";var s1e=fa(),a1e=s1e.Symbol;rJ.exports=a1e});var cJ=O((Ici,lJ)=>{"use strict";var sJ=tp(),aJ=Object.prototype,l1e=aJ.hasOwnProperty,c1e=aJ.toString,Sw=sJ?sJ.toStringTag:void 0;function d1e(n){var t=l1e.call(n,Sw),e=n[Sw];try{n[Sw]=void 0;var i=!0}catch{}var o=c1e.call(n);return i&&(t?n[Sw]=e:delete n[Sw]),o}lJ.exports=d1e});var uJ=O((Eci,dJ)=>{"use strict";var u1e=Object.prototype,h1e=u1e.toString;function m1e(n){return h1e.call(n)}dJ.exports=m1e});var oh=O((Mci,pJ)=>{"use strict";var hJ=tp(),p1e=cJ(),f1e=uJ(),g1e="[object Null]",_1e="[object Undefined]",mJ=hJ?hJ.toStringTag:void 0;function v1e(n){return n==null?n===void 0?_1e:g1e:mJ&&mJ in Object(n)?p1e(n):f1e(n)}pJ.exports=v1e});var zs=O((kci,fJ)=>{"use strict";function b1e(n){var t=typeof n;return n!=null&&(t=="object"||t=="function")}fJ.exports=b1e});var D_=O((Tci,gJ)=>{"use strict";var y1e=oh(),w1e=zs(),x1e="[object AsyncFunction]",C1e="[object Function]",S1e="[object GeneratorFunction]",D1e="[object Proxy]";function I1e(n){if(!w1e(n))return!1;var t=y1e(n);return t==C1e||t==S1e||t==x1e||t==D1e}gJ.exports=I1e});var vJ=O((Aci,_J)=>{"use strict";var E1e=fa(),M1e=E1e["__core-js_shared__"];_J.exports=M1e});var wJ=O((Rci,yJ)=>{"use strict";var q3=vJ(),bJ=function(){var n=/[^.]+$/.exec(q3&&q3.keys&&q3.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function k1e(n){return!!bJ&&bJ in n}yJ.exports=k1e});var G3=O((Oci,xJ)=>{"use strict";var T1e=Function.prototype,A1e=T1e.toString;function R1e(n){if(n!=null){try{return A1e.call(n)}catch{}try{return n+""}catch{}}return""}xJ.exports=R1e});var SJ=O((Pci,CJ)=>{"use strict";var O1e=D_(),P1e=wJ(),L1e=zs(),N1e=G3(),F1e=/[\\^$.*+?()[\]{}|]/g,z1e=/^\[object .+?Constructor\]$/,B1e=Function.prototype,H1e=Object.prototype,V1e=B1e.toString,W1e=H1e.hasOwnProperty,j1e=RegExp("^"+V1e.call(W1e).replace(F1e,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function U1e(n){if(!L1e(n)||P1e(n))return!1;var t=O1e(n)?j1e:z1e;return t.test(N1e(n))}CJ.exports=U1e});var IJ=O((Lci,DJ)=>{"use strict";function q1e(n,t){return n?.[t]}DJ.exports=q1e});var rh=O((Nci,EJ)=>{"use strict";var G1e=SJ(),$1e=IJ();function K1e(n,t){var e=$1e(n,t);return G1e(e)?e:void 0}EJ.exports=K1e});var DT=O((Fci,MJ)=>{"use strict";var Y1e=rh(),X1e=fa(),Z1e=Y1e(X1e,"Map");MJ.exports=Z1e});var Dw=O((zci,kJ)=>{"use strict";var Q1e=rh(),J1e=Q1e(Object,"create");kJ.exports=J1e});var RJ=O((Bci,AJ)=>{"use strict";var TJ=Dw();function eMe(){this.__data__=TJ?TJ(null):{},this.size=0}AJ.exports=eMe});var PJ=O((Hci,OJ)=>{"use strict";function tMe(n){var t=this.has(n)&&delete this.__data__[n];return this.size-=t?1:0,t}OJ.exports=tMe});var NJ=O((Vci,LJ)=>{"use strict";var iMe=Dw(),nMe="__lodash_hash_undefined__",oMe=Object.prototype,rMe=oMe.hasOwnProperty;function sMe(n){var t=this.__data__;if(iMe){var e=t[n];return e===nMe?void 0:e}return rMe.call(t,n)?t[n]:void 0}LJ.exports=sMe});var zJ=O((Wci,FJ)=>{"use strict";var aMe=Dw(),lMe=Object.prototype,cMe=lMe.hasOwnProperty;function dMe(n){var t=this.__data__;return aMe?t[n]!==void 0:cMe.call(t,n)}FJ.exports=dMe});var HJ=O((jci,BJ)=>{"use strict";var uMe=Dw(),hMe="__lodash_hash_undefined__";function mMe(n,t){var e=this.__data__;return this.size+=this.has(n)?0:1,e[n]=uMe&&t===void 0?hMe:t,this}BJ.exports=mMe});var WJ=O((Uci,VJ)=>{"use strict";var pMe=RJ(),fMe=PJ(),gMe=NJ(),_Me=zJ(),vMe=HJ();function I_(n){var t=-1,e=n==null?0:n.length;for(this.clear();++t<e;){var i=n[t];this.set(i[0],i[1])}}I_.prototype.clear=pMe;I_.prototype.delete=fMe;I_.prototype.get=gMe;I_.prototype.has=_Me;I_.prototype.set=vMe;VJ.exports=I_});var qJ=O((qci,UJ)=>{"use strict";var jJ=WJ(),bMe=Cw(),yMe=DT();function wMe(){this.size=0,this.__data__={hash:new jJ,map:new(yMe||bMe),string:new jJ}}UJ.exports=wMe});var $J=O((Gci,GJ)=>{"use strict";function xMe(n){var t=typeof n;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?n!=="__proto__":n===null}GJ.exports=xMe});var Iw=O(($ci,KJ)=>{"use strict";var CMe=$J();function SMe(n,t){var e=n.__data__;return CMe(t)?e[typeof t=="string"?"string":"hash"]:e.map}KJ.exports=SMe});var XJ=O((Kci,YJ)=>{"use strict";var DMe=Iw();function IMe(n){var t=DMe(this,n).delete(n);return this.size-=t?1:0,t}YJ.exports=IMe});var QJ=O((Yci,ZJ)=>{"use strict";var EMe=Iw();function MMe(n){return EMe(this,n).get(n)}ZJ.exports=MMe});var eee=O((Xci,JJ)=>{"use strict";var kMe=Iw();function TMe(n){return kMe(this,n).has(n)}JJ.exports=TMe});var iee=O((Zci,tee)=>{"use strict";var AMe=Iw();function RMe(n,t){var e=AMe(this,n),i=e.size;return e.set(n,t),this.size+=e.size==i?0:1,this}tee.exports=RMe});var IT=O((Qci,nee)=>{"use strict";var OMe=qJ(),PMe=XJ(),LMe=QJ(),NMe=eee(),FMe=iee();function E_(n){var t=-1,e=n==null?0:n.length;for(this.clear();++t<e;){var i=n[t];this.set(i[0],i[1])}}E_.prototype.clear=OMe;E_.prototype.delete=PMe;E_.prototype.get=LMe;E_.prototype.has=NMe;E_.prototype.set=FMe;nee.exports=E_});var ree=O((Jci,oee)=>{"use strict";var zMe=Cw(),BMe=DT(),HMe=IT(),VMe=200;function WMe(n,t){var e=this.__data__;if(e instanceof zMe){var i=e.__data__;if(!BMe||i.length<VMe-1)return i.push([n,t]),this.size=++e.size,this;e=this.__data__=new HMe(i)}return e.set(n,t),this.size=e.size,this}oee.exports=WMe});var Ew=O((edi,see)=>{"use strict";var jMe=Cw(),UMe=XQ(),qMe=QQ(),GMe=eJ(),$Me=iJ(),KMe=ree();function M_(n){var t=this.__data__=new jMe(n);this.size=t.size}M_.prototype.clear=UMe;M_.prototype.delete=qMe;M_.prototype.get=GMe;M_.prototype.has=$Me;M_.prototype.set=KMe;see.exports=M_});var ET=O((tdi,aee)=>{"use strict";function YMe(n,t){for(var e=-1,i=n==null?0:n.length;++e<i&&t(n[e],e,n)!==!1;);return n}aee.exports=YMe});var $3=O((idi,lee)=>{"use strict";var XMe=rh(),ZMe=function(){try{var n=XMe(Object,"defineProperty");return n({},"",{}),n}catch{}}();lee.exports=ZMe});var Mw=O((ndi,dee)=>{"use strict";var cee=$3();function QMe(n,t,e){t=="__proto__"&&cee?cee(n,t,{configurable:!0,enumerable:!0,value:e,writable:!0}):n[t]=e}dee.exports=QMe});var kw=O((odi,uee)=>{"use strict";var JMe=Mw(),eke=ep(),tke=Object.prototype,ike=tke.hasOwnProperty;function nke(n,t,e){var i=n[t];(!(ike.call(n,t)&&eke(i,e))||e===void 0&&!(t in n))&&JMe(n,t,e)}uee.exports=nke});var k_=O((rdi,hee)=>{"use strict";var oke=kw(),rke=Mw();function ske(n,t,e,i){var o=!e;e||(e={});for(var r=-1,s=t.length;++r<s;){var a=t[r],l=i?i(e[a],n[a],a,e,n):void 0;l===void 0&&(l=n[a]),o?rke(e,a,l):oke(e,a,l)}return e}hee.exports=ske});var pee=O((sdi,mee)=>{"use strict";function ake(n,t){for(var e=-1,i=Array(n);++e<n;)i[e]=t(e);return i}mee.exports=ake});var rl=O((adi,fee)=>{"use strict";function lke(n){return n!=null&&typeof n=="object"}fee.exports=lke});var _ee=O((ldi,gee)=>{"use strict";var cke=oh(),dke=rl(),uke="[object Arguments]";function hke(n){return dke(n)&&cke(n)==uke}gee.exports=hke});var T_=O((cdi,yee)=>{"use strict";var vee=_ee(),mke=rl(),bee=Object.prototype,pke=bee.hasOwnProperty,fke=bee.propertyIsEnumerable,gke=vee(function(){return arguments}())?vee:function(n){return mke(n)&&pke.call(n,"callee")&&!fke.call(n,"callee")};yee.exports=gke});var fo=O((ddi,wee)=>{"use strict";var _ke=Array.isArray;wee.exports=_ke});var Cee=O((udi,xee)=>{"use strict";function vke(){return!1}xee.exports=vke});var ip=O((Tw,A_)=>{"use strict";var bke=fa(),yke=Cee(),Iee=typeof Tw=="object"&&Tw&&!Tw.nodeType&&Tw,See=Iee&&typeof A_=="object"&&A_&&!A_.nodeType&&A_,wke=See&&See.exports===Iee,Dee=wke?bke.Buffer:void 0,xke=Dee?Dee.isBuffer:void 0,Cke=xke||yke;A_.exports=Cke});var Aw=O((hdi,Eee)=>{"use strict";var Ske=9007199254740991,Dke=/^(?:0|[1-9]\d*)$/;function Ike(n,t){var e=typeof n;return t=t??Ske,!!t&&(e=="number"||e!="symbol"&&Dke.test(n))&&n>-1&&n%1==0&&n<t}Eee.exports=Ike});var MT=O((mdi,Mee)=>{"use strict";var Eke=9007199254740991;function Mke(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=Eke}Mee.exports=Mke});var Tee=O((pdi,kee)=>{"use strict";var kke=oh(),Tke=MT(),Ake=rl(),Rke="[object Arguments]",Oke="[object Array]",Pke="[object Boolean]",Lke="[object Date]",Nke="[object Error]",Fke="[object Function]",zke="[object Map]",Bke="[object Number]",Hke="[object Object]",Vke="[object RegExp]",Wke="[object Set]",jke="[object String]",Uke="[object WeakMap]",qke="[object ArrayBuffer]",Gke="[object DataView]",$ke="[object Float32Array]",Kke="[object Float64Array]",Yke="[object Int8Array]",Xke="[object Int16Array]",Zke="[object Int32Array]",Qke="[object Uint8Array]",Jke="[object Uint8ClampedArray]",eTe="[object Uint16Array]",tTe="[object Uint32Array]",Sn={};Sn[$ke]=Sn[Kke]=Sn[Yke]=Sn[Xke]=Sn[Zke]=Sn[Qke]=Sn[Jke]=Sn[eTe]=Sn[tTe]=!0;Sn[Rke]=Sn[Oke]=Sn[qke]=Sn[Pke]=Sn[Gke]=Sn[Lke]=Sn[Nke]=Sn[Fke]=Sn[zke]=Sn[Bke]=Sn[Hke]=Sn[Vke]=Sn[Wke]=Sn[jke]=Sn[Uke]=!1;function iTe(n){return Ake(n)&&Tke(n.length)&&!!Sn[kke(n)]}kee.exports=iTe});var Rw=O((fdi,Aee)=>{"use strict";function nTe(n){return function(t){return n(t)}}Aee.exports=nTe});var kT=O((Ow,R_)=>{"use strict";var oTe=U3(),Ree=typeof Ow=="object"&&Ow&&!Ow.nodeType&&Ow,Pw=Ree&&typeof R_=="object"&&R_&&!R_.nodeType&&R_,rTe=Pw&&Pw.exports===Ree,K3=rTe&&oTe.process,sTe=function(){try{var n=Pw&&Pw.require&&Pw.require("util").types;return n||K3&&K3.binding&&K3.binding("util")}catch{}}();R_.exports=sTe});var O_=O((gdi,Lee)=>{"use strict";var aTe=Tee(),lTe=Rw(),Oee=kT(),Pee=Oee&&Oee.isTypedArray,cTe=Pee?lTe(Pee):aTe;Lee.exports=cTe});var Y3=O((_di,Nee)=>{"use strict";var dTe=pee(),uTe=T_(),hTe=fo(),mTe=ip(),pTe=Aw(),fTe=O_(),gTe=Object.prototype,_Te=gTe.hasOwnProperty;function vTe(n,t){var e=hTe(n),i=!e&&uTe(n),o=!e&&!i&&mTe(n),r=!e&&!i&&!o&&fTe(n),s=e||i||o||r,a=s?dTe(n.length,String):[],l=a.length;for(var c in n)(t||_Te.call(n,c))&&!(s&&(c=="length"||o&&(c=="offset"||c=="parent")||r&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||pTe(c,l)))&&a.push(c);return a}Nee.exports=vTe});var Lw=O((vdi,Fee)=>{"use strict";var bTe=Object.prototype;function yTe(n){var t=n&&n.constructor,e=typeof t=="function"&&t.prototype||bTe;return n===e}Fee.exports=yTe});var X3=O((bdi,zee)=>{"use strict";function wTe(n,t){return function(e){return n(t(e))}}zee.exports=wTe});var Hee=O((ydi,Bee)=>{"use strict";var xTe=X3(),CTe=xTe(Object.keys,Object);Bee.exports=CTe});var TT=O((wdi,Vee)=>{"use strict";var STe=Lw(),DTe=Hee(),ITe=Object.prototype,ETe=ITe.hasOwnProperty;function MTe(n){if(!STe(n))return DTe(n);var t=[];for(var e in Object(n))ETe.call(n,e)&&e!="constructor"&&t.push(e);return t}Vee.exports=MTe});var ac=O((xdi,Wee)=>{"use strict";var kTe=D_(),TTe=MT();function ATe(n){return n!=null&&TTe(n.length)&&!kTe(n)}Wee.exports=ATe});var gd=O((Cdi,jee)=>{"use strict";var RTe=Y3(),OTe=TT(),PTe=ac();function LTe(n){return PTe(n)?RTe(n):OTe(n)}jee.exports=LTe});var qee=O((Sdi,Uee)=>{"use strict";var NTe=k_(),FTe=gd();function zTe(n,t){return n&&NTe(t,FTe(t),n)}Uee.exports=zTe});var $ee=O((Ddi,Gee)=>{"use strict";function BTe(n){var t=[];if(n!=null)for(var e in Object(n))t.push(e);return t}Gee.exports=BTe});var Yee=O((Idi,Kee)=>{"use strict";var HTe=zs(),VTe=Lw(),WTe=$ee(),jTe=Object.prototype,UTe=jTe.hasOwnProperty;function qTe(n){if(!HTe(n))return WTe(n);var t=VTe(n),e=[];for(var i in n)i=="constructor"&&(t||!UTe.call(n,i))||e.push(i);return e}Kee.exports=qTe});var sh=O((Edi,Xee)=>{"use strict";var GTe=Y3(),$Te=Yee(),KTe=ac();function YTe(n){return KTe(n)?GTe(n,!0):$Te(n)}Xee.exports=YTe});var Qee=O((Mdi,Zee)=>{"use strict";var XTe=k_(),ZTe=sh();function QTe(n,t){return n&&XTe(t,ZTe(t),n)}Zee.exports=QTe});var Z3=O((Nw,P_)=>{"use strict";var JTe=fa(),ite=typeof Nw=="object"&&Nw&&!Nw.nodeType&&Nw,Jee=ite&&typeof P_=="object"&&P_&&!P_.nodeType&&P_,eAe=Jee&&Jee.exports===ite,ete=eAe?JTe.Buffer:void 0,tte=ete?ete.allocUnsafe:void 0;function tAe(n,t){if(t)return n.slice();var e=n.length,i=tte?tte(e):new n.constructor(e);return n.copy(i),i}P_.exports=tAe});var Q3=O((kdi,nte)=>{"use strict";function iAe(n,t){var e=-1,i=n.length;for(t||(t=Array(i));++e<i;)t[e]=n[e];return t}nte.exports=iAe});var J3=O((Tdi,ote)=>{"use strict";function nAe(n,t){for(var e=-1,i=n==null?0:n.length,o=0,r=[];++e<i;){var s=n[e];t(s,e,n)&&(r[o++]=s)}return r}ote.exports=nAe});var eV=O((Adi,rte)=>{"use strict";function oAe(){return[]}rte.exports=oAe});var AT=O((Rdi,ate)=>{"use strict";var rAe=J3(),sAe=eV(),aAe=Object.prototype,lAe=aAe.propertyIsEnumerable,ste=Object.getOwnPropertySymbols,cAe=ste?function(n){return n==null?[]:(n=Object(n),rAe(ste(n),function(t){return lAe.call(n,t)}))}:sAe;ate.exports=cAe});var cte=O((Odi,lte)=>{"use strict";var dAe=k_(),uAe=AT();function hAe(n,t){return dAe(n,uAe(n),t)}lte.exports=hAe});var RT=O((Pdi,dte)=>{"use strict";function mAe(n,t){for(var e=-1,i=t.length,o=n.length;++e<i;)n[o+e]=t[e];return n}dte.exports=mAe});var Fw=O((Ldi,ute)=>{"use strict";var pAe=X3(),fAe=pAe(Object.getPrototypeOf,Object);ute.exports=fAe});var tV=O((Ndi,hte)=>{"use strict";var gAe=RT(),_Ae=Fw(),vAe=AT(),bAe=eV(),yAe=Object.getOwnPropertySymbols,wAe=yAe?function(n){for(var t=[];n;)gAe(t,vAe(n)),n=_Ae(n);return t}:bAe;hte.exports=wAe});var pte=O((Fdi,mte)=>{"use strict";var xAe=k_(),CAe=tV();function SAe(n,t){return xAe(n,CAe(n),t)}mte.exports=SAe});var iV=O((zdi,fte)=>{"use strict";var DAe=RT(),IAe=fo();function EAe(n,t,e){var i=t(n);return IAe(n)?i:DAe(i,e(n))}fte.exports=EAe});var nV=O((Bdi,gte)=>{"use strict";var MAe=iV(),kAe=AT(),TAe=gd();function AAe(n){return MAe(n,TAe,kAe)}gte.exports=AAe});var vte=O((Hdi,_te)=>{"use strict";var RAe=iV(),OAe=tV(),PAe=sh();function LAe(n){return RAe(n,PAe,OAe)}_te.exports=LAe});var yte=O((Vdi,bte)=>{"use strict";var NAe=rh(),FAe=fa(),zAe=NAe(FAe,"DataView");bte.exports=zAe});var xte=O((Wdi,wte)=>{"use strict";var BAe=rh(),HAe=fa(),VAe=BAe(HAe,"Promise");wte.exports=VAe});var oV=O((jdi,Cte)=>{"use strict";var WAe=rh(),jAe=fa(),UAe=WAe(jAe,"Set");Cte.exports=UAe});var Dte=O((Udi,Ste)=>{"use strict";var qAe=rh(),GAe=fa(),$Ae=qAe(GAe,"WeakMap");Ste.exports=$Ae});var op=O((qdi,Rte)=>{"use strict";var rV=yte(),sV=DT(),aV=xte(),lV=oV(),cV=Dte(),Ate=oh(),L_=G3(),Ite="[object Map]",KAe="[object Object]",Ete="[object Promise]",Mte="[object Set]",kte="[object WeakMap]",Tte="[object DataView]",YAe=L_(rV),XAe=L_(sV),ZAe=L_(aV),QAe=L_(lV),JAe=L_(cV),np=Ate;(rV&&np(new rV(new ArrayBuffer(1)))!=Tte||sV&&np(new sV)!=Ite||aV&&np(aV.resolve())!=Ete||lV&&np(new lV)!=Mte||cV&&np(new cV)!=kte)&&(np=function(n){var t=Ate(n),e=t==KAe?n.constructor:void 0,i=e?L_(e):"";if(i)switch(i){case YAe:return Tte;case XAe:return Ite;case ZAe:return Ete;case QAe:return Mte;case JAe:return kte}return t});Rte.exports=np});var Pte=O((Gdi,Ote)=>{"use strict";var eRe=Object.prototype,tRe=eRe.hasOwnProperty;function iRe(n){var t=n.length,e=new n.constructor(t);return t&&typeof n[0]=="string"&&tRe.call(n,"index")&&(e.index=n.index,e.input=n.input),e}Ote.exports=iRe});var dV=O(($di,Lte)=>{"use strict";var nRe=fa(),oRe=nRe.Uint8Array;Lte.exports=oRe});var OT=O((Kdi,Fte)=>{"use strict";var Nte=dV();function rRe(n){var t=new n.constructor(n.byteLength);return new Nte(t).set(new Nte(n)),t}Fte.exports=rRe});var Bte=O((Ydi,zte)=>{"use strict";var sRe=OT();function aRe(n,t){var e=t?sRe(n.buffer):n.buffer;return new n.constructor(e,n.byteOffset,n.byteLength)}zte.exports=aRe});var Vte=O((Xdi,Hte)=>{"use strict";var lRe=/\w*$/;function cRe(n){var t=new n.constructor(n.source,lRe.exec(n));return t.lastIndex=n.lastIndex,t}Hte.exports=cRe});var Gte=O((Zdi,qte)=>{"use strict";var Wte=tp(),jte=Wte?Wte.prototype:void 0,Ute=jte?jte.valueOf:void 0;function dRe(n){return Ute?Object(Ute.call(n)):{}}qte.exports=dRe});var uV=O((Qdi,$te)=>{"use strict";var uRe=OT();function hRe(n,t){var e=t?uRe(n.buffer):n.buffer;return new n.constructor(e,n.byteOffset,n.length)}$te.exports=hRe});var Yte=O((Jdi,Kte)=>{"use strict";var mRe=OT(),pRe=Bte(),fRe=Vte(),gRe=Gte(),_Re=uV(),vRe="[object Boolean]",bRe="[object Date]",yRe="[object Map]",wRe="[object Number]",xRe="[object RegExp]",CRe="[object Set]",SRe="[object String]",DRe="[object Symbol]",IRe="[object ArrayBuffer]",ERe="[object DataView]",MRe="[object Float32Array]",kRe="[object Float64Array]",TRe="[object Int8Array]",ARe="[object Int16Array]",RRe="[object Int32Array]",ORe="[object Uint8Array]",PRe="[object Uint8ClampedArray]",LRe="[object Uint16Array]",NRe="[object Uint32Array]";function FRe(n,t,e){var i=n.constructor;switch(t){case IRe:return mRe(n);case vRe:case bRe:return new i(+n);case ERe:return pRe(n,e);case MRe:case kRe:case TRe:case ARe:case RRe:case ORe:case PRe:case LRe:case NRe:return _Re(n,e);case yRe:return new i;case wRe:case SRe:return new i(n);case xRe:return fRe(n);case CRe:return new i;case DRe:return gRe(n)}}Kte.exports=FRe});var hV=O((eui,Zte)=>{"use strict";var zRe=zs(),Xte=Object.create,BRe=function(){function n(){}return function(t){if(!zRe(t))return{};if(Xte)return Xte(t);n.prototype=t;var e=new n;return n.prototype=void 0,e}}();Zte.exports=BRe});var mV=O((tui,Qte)=>{"use strict";var HRe=hV(),VRe=Fw(),WRe=Lw();function jRe(n){return typeof n.constructor=="function"&&!WRe(n)?HRe(VRe(n)):{}}Qte.exports=jRe});var eie=O((iui,Jte)=>{"use strict";var URe=op(),qRe=rl(),GRe="[object Map]";function $Re(n){return qRe(n)&&URe(n)==GRe}Jte.exports=$Re});var oie=O((nui,nie)=>{"use strict";var KRe=eie(),YRe=Rw(),tie=kT(),iie=tie&&tie.isMap,XRe=iie?YRe(iie):KRe;nie.exports=XRe});var sie=O((oui,rie)=>{"use strict";var ZRe=op(),QRe=rl(),JRe="[object Set]";function eOe(n){return QRe(n)&&ZRe(n)==JRe}rie.exports=eOe});var die=O((rui,cie)=>{"use strict";var tOe=sie(),iOe=Rw(),aie=kT(),lie=aie&&aie.isSet,nOe=lie?iOe(lie):tOe;cie.exports=nOe});var pV=O((sui,pie)=>{"use strict";var oOe=Ew(),rOe=ET(),sOe=kw(),aOe=qee(),lOe=Qee(),cOe=Z3(),dOe=Q3(),uOe=cte(),hOe=pte(),mOe=nV(),pOe=vte(),fOe=op(),gOe=Pte(),_Oe=Yte(),vOe=mV(),bOe=fo(),yOe=ip(),wOe=oie(),xOe=zs(),COe=die(),SOe=gd(),DOe=sh(),IOe=1,EOe=2,MOe=4,uie="[object Arguments]",kOe="[object Array]",TOe="[object Boolean]",AOe="[object Date]",ROe="[object Error]",hie="[object Function]",OOe="[object GeneratorFunction]",POe="[object Map]",LOe="[object Number]",mie="[object Object]",NOe="[object RegExp]",FOe="[object Set]",zOe="[object String]",BOe="[object Symbol]",HOe="[object WeakMap]",VOe="[object ArrayBuffer]",WOe="[object DataView]",jOe="[object Float32Array]",UOe="[object Float64Array]",qOe="[object Int8Array]",GOe="[object Int16Array]",$Oe="[object Int32Array]",KOe="[object Uint8Array]",YOe="[object Uint8ClampedArray]",XOe="[object Uint16Array]",ZOe="[object Uint32Array]",gn={};gn[uie]=gn[kOe]=gn[VOe]=gn[WOe]=gn[TOe]=gn[AOe]=gn[jOe]=gn[UOe]=gn[qOe]=gn[GOe]=gn[$Oe]=gn[POe]=gn[LOe]=gn[mie]=gn[NOe]=gn[FOe]=gn[zOe]=gn[BOe]=gn[KOe]=gn[YOe]=gn[XOe]=gn[ZOe]=!0;gn[ROe]=gn[hie]=gn[HOe]=!1;function PT(n,t,e,i,o,r){var s,a=t&IOe,l=t&EOe,c=t&MOe;if(e&&(s=o?e(n,i,o,r):e(n)),s!==void 0)return s;if(!xOe(n))return n;var d=bOe(n);if(d){if(s=gOe(n),!a)return dOe(n,s)}else{var u=fOe(n),h=u==hie||u==OOe;if(yOe(n))return cOe(n,a);if(u==mie||u==uie||h&&!o){if(s=l||h?{}:vOe(n),!a)return l?hOe(n,lOe(s,n)):uOe(n,aOe(s,n))}else{if(!gn[u])return o?n:{};s=_Oe(n,u,a)}}r||(r=new oOe);var m=r.get(n);if(m)return m;r.set(n,s),COe(n)?n.forEach(function(g){s.add(PT(g,t,e,g,n,r))}):wOe(n)&&n.forEach(function(g,v){s.set(v,PT(g,t,e,v,n,r))});var f=c?l?pOe:mOe:l?DOe:SOe,p=d?void 0:f(n);return rOe(p||n,function(g,v){p&&(v=g,g=n[v]),sOe(s,v,PT(g,t,e,v,n,r))}),s}pie.exports=PT});var gie=O((aui,fie)=>{"use strict";var QOe=pV(),JOe=4;function ePe(n){return QOe(n,JOe)}fie.exports=ePe});var LT=O((lui,_ie)=>{"use strict";function tPe(n){return function(){return n}}_ie.exports=tPe});var bie=O((cui,vie)=>{"use strict";function iPe(n){return function(t,e,i){for(var o=-1,r=Object(t),s=i(t),a=s.length;a--;){var l=s[n?a:++o];if(e(r[l],l,r)===!1)break}return t}}vie.exports=iPe});var NT=O((dui,yie)=>{"use strict";var nPe=bie(),oPe=nPe();yie.exports=oPe});var FT=O((uui,wie)=>{"use strict";var rPe=NT(),sPe=gd();function aPe(n,t){return n&&rPe(n,t,sPe)}wie.exports=aPe});var Cie=O((hui,xie)=>{"use strict";var lPe=ac();function cPe(n,t){return function(e,i){if(e==null)return e;if(!lPe(e))return n(e,i);for(var o=e.length,r=t?o:-1,s=Object(e);(t?r--:++r<o)&&i(s[r],r,s)!==!1;);return e}}xie.exports=cPe});var zw=O((mui,Sie)=>{"use strict";var dPe=FT(),uPe=Cie(),hPe=uPe(dPe);Sie.exports=hPe});var ah=O((pui,Die)=>{"use strict";function mPe(n){return n}Die.exports=mPe});var fV=O((fui,Iie)=>{"use strict";var pPe=ah();function fPe(n){return typeof n=="function"?n:pPe}Iie.exports=fPe});var gV=O((gui,Eie)=>{"use strict";var gPe=ET(),_Pe=zw(),vPe=fV(),bPe=fo();function yPe(n,t){var e=bPe(n)?gPe:_Pe;return e(n,vPe(t))}Eie.exports=yPe});var _V=O((_ui,Mie)=>{"use strict";Mie.exports=gV()});var Tie=O((vui,kie)=>{"use strict";var wPe=zw();function xPe(n,t){var e=[];return wPe(n,function(i,o,r){t(i,o,r)&&e.push(i)}),e}kie.exports=xPe});var Rie=O((bui,Aie)=>{"use strict";var CPe="__lodash_hash_undefined__";function SPe(n){return this.__data__.set(n,CPe),this}Aie.exports=SPe});var Pie=O((yui,Oie)=>{"use strict";function DPe(n){return this.__data__.has(n)}Oie.exports=DPe});var vV=O((wui,Lie)=>{"use strict";var IPe=IT(),EPe=Rie(),MPe=Pie();function zT(n){var t=-1,e=n==null?0:n.length;for(this.__data__=new IPe;++t<e;)this.add(n[t])}zT.prototype.add=zT.prototype.push=EPe;zT.prototype.has=MPe;Lie.exports=zT});var Fie=O((xui,Nie)=>{"use strict";function kPe(n,t){for(var e=-1,i=n==null?0:n.length;++e<i;)if(t(n[e],e,n))return!0;return!1}Nie.exports=kPe});var bV=O((Cui,zie)=>{"use strict";function TPe(n,t){return n.has(t)}zie.exports=TPe});var yV=O((Sui,Bie)=>{"use strict";var APe=vV(),RPe=Fie(),OPe=bV(),PPe=1,LPe=2;function NPe(n,t,e,i,o,r){var s=e&PPe,a=n.length,l=t.length;if(a!=l&&!(s&&l>a))return!1;var c=r.get(n),d=r.get(t);if(c&&d)return c==t&&d==n;var u=-1,h=!0,m=e&LPe?new APe:void 0;for(r.set(n,t),r.set(t,n);++u<a;){var f=n[u],p=t[u];if(i)var g=s?i(p,f,u,t,n,r):i(f,p,u,n,t,r);if(g!==void 0){if(g)continue;h=!1;break}if(m){if(!RPe(t,function(v,b){if(!OPe(m,b)&&(f===v||o(f,v,e,i,r)))return m.push(b)})){h=!1;break}}else if(!(f===p||o(f,p,e,i,r))){h=!1;break}}return r.delete(n),r.delete(t),h}Bie.exports=NPe});var Vie=O((Dui,Hie)=>{"use strict";function FPe(n){var t=-1,e=Array(n.size);return n.forEach(function(i,o){e[++t]=[o,i]}),e}Hie.exports=FPe});var BT=O((Iui,Wie)=>{"use strict";function zPe(n){var t=-1,e=Array(n.size);return n.forEach(function(i){e[++t]=i}),e}Wie.exports=zPe});var $ie=O((Eui,Gie)=>{"use strict";var jie=tp(),Uie=dV(),BPe=ep(),HPe=yV(),VPe=Vie(),WPe=BT(),jPe=1,UPe=2,qPe="[object Boolean]",GPe="[object Date]",$Pe="[object Error]",KPe="[object Map]",YPe="[object Number]",XPe="[object RegExp]",ZPe="[object Set]",QPe="[object String]",JPe="[object Symbol]",eLe="[object ArrayBuffer]",tLe="[object DataView]",qie=jie?jie.prototype:void 0,wV=qie?qie.valueOf:void 0;function iLe(n,t,e,i,o,r,s){switch(e){case tLe:if(n.byteLength!=t.byteLength||n.byteOffset!=t.byteOffset)return!1;n=n.buffer,t=t.buffer;case eLe:return!(n.byteLength!=t.byteLength||!r(new Uie(n),new Uie(t)));case qPe:case GPe:case YPe:return BPe(+n,+t);case $Pe:return n.name==t.name&&n.message==t.message;case XPe:case QPe:return n==t+"";case KPe:var a=VPe;case ZPe:var l=i&jPe;if(a||(a=WPe),n.size!=t.size&&!l)return!1;var c=s.get(n);if(c)return c==t;i|=UPe,s.set(n,t);var d=HPe(a(n),a(t),i,o,r,s);return s.delete(n),d;case JPe:if(wV)return wV.call(n)==wV.call(t)}return!1}Gie.exports=iLe});var Xie=O((Mui,Yie)=>{"use strict";var Kie=nV(),nLe=1,oLe=Object.prototype,rLe=oLe.hasOwnProperty;function sLe(n,t,e,i,o,r){var s=e&nLe,a=Kie(n),l=a.length,c=Kie(t),d=c.length;if(l!=d&&!s)return!1;for(var u=l;u--;){var h=a[u];if(!(s?h in t:rLe.call(t,h)))return!1}var m=r.get(n),f=r.get(t);if(m&&f)return m==t&&f==n;var p=!0;r.set(n,t),r.set(t,n);for(var g=s;++u<l;){h=a[u];var v=n[h],b=t[h];if(i)var C=s?i(b,v,h,t,n,r):i(v,b,h,n,t,r);if(!(C===void 0?v===b||o(v,b,e,i,r):C)){p=!1;break}g||(g=h=="constructor")}if(p&&!g){var k=n.constructor,E=t.constructor;k!=E&&"constructor"in n&&"constructor"in t&&!(typeof k=="function"&&k instanceof k&&typeof E=="function"&&E instanceof E)&&(p=!1)}return r.delete(n),r.delete(t),p}Yie.exports=sLe});var one=O((kui,nne)=>{"use strict";var xV=Ew(),aLe=yV(),lLe=$ie(),cLe=Xie(),Zie=op(),Qie=fo(),Jie=ip(),dLe=O_(),uLe=1,ene="[object Arguments]",tne="[object Array]",HT="[object Object]",hLe=Object.prototype,ine=hLe.hasOwnProperty;function mLe(n,t,e,i,o,r){var s=Qie(n),a=Qie(t),l=s?tne:Zie(n),c=a?tne:Zie(t);l=l==ene?HT:l,c=c==ene?HT:c;var d=l==HT,u=c==HT,h=l==c;if(h&&Jie(n)){if(!Jie(t))return!1;s=!0,d=!1}if(h&&!d)return r||(r=new xV),s||dLe(n)?aLe(n,t,e,i,o,r):lLe(n,t,l,e,i,o,r);if(!(e&uLe)){var m=d&&ine.call(n,"__wrapped__"),f=u&&ine.call(t,"__wrapped__");if(m||f){var p=m?n.value():n,g=f?t.value():t;return r||(r=new xV),o(p,g,e,i,r)}}return h?(r||(r=new xV),cLe(n,t,e,i,o,r)):!1}nne.exports=mLe});var CV=O((Tui,ane)=>{"use strict";var pLe=one(),rne=rl();function sne(n,t,e,i,o){return n===t?!0:n==null||t==null||!rne(n)&&!rne(t)?n!==n&&t!==t:pLe(n,t,e,i,sne,o)}ane.exports=sne});var cne=O((Aui,lne)=>{"use strict";var fLe=Ew(),gLe=CV(),_Le=1,vLe=2;function bLe(n,t,e,i){var o=e.length,r=o,s=!i;if(n==null)return!r;for(n=Object(n);o--;){var a=e[o];if(s&&a[2]?a[1]!==n[a[0]]:!(a[0]in n))return!1}for(;++o<r;){a=e[o];var l=a[0],c=n[l],d=a[1];if(s&&a[2]){if(c===void 0&&!(l in n))return!1}else{var u=new fLe;if(i)var h=i(c,d,l,n,t,u);if(!(h===void 0?gLe(d,c,_Le|vLe,i,u):h))return!1}}return!0}lne.exports=bLe});var SV=O((Rui,dne)=>{"use strict";var yLe=zs();function wLe(n){return n===n&&!yLe(n)}dne.exports=wLe});var hne=O((Oui,une)=>{"use strict";var xLe=SV(),CLe=gd();function SLe(n){for(var t=CLe(n),e=t.length;e--;){var i=t[e],o=n[i];t[e]=[i,o,xLe(o)]}return t}une.exports=SLe});var DV=O((Pui,mne)=>{"use strict";function DLe(n,t){return function(e){return e==null?!1:e[n]===t&&(t!==void 0||n in Object(e))}}mne.exports=DLe});var fne=O((Lui,pne)=>{"use strict";var ILe=cne(),ELe=hne(),MLe=DV();function kLe(n){var t=ELe(n);return t.length==1&&t[0][2]?MLe(t[0][0],t[0][1]):function(e){return e===n||ILe(e,n,t)}}pne.exports=kLe});var rp=O((Nui,gne)=>{"use strict";var TLe=oh(),ALe=rl(),RLe="[object Symbol]";function OLe(n){return typeof n=="symbol"||ALe(n)&&TLe(n)==RLe}gne.exports=OLe});var VT=O((Fui,_ne)=>{"use strict";var PLe=fo(),LLe=rp(),NLe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,FLe=/^\w*$/;function zLe(n,t){if(PLe(n))return!1;var e=typeof n;return e=="number"||e=="symbol"||e=="boolean"||n==null||LLe(n)?!0:FLe.test(n)||!NLe.test(n)||t!=null&&n in Object(t)}_ne.exports=zLe});var yne=O((zui,bne)=>{"use strict";var vne=IT(),BLe="Expected a function";function IV(n,t){if(typeof n!="function"||t!=null&&typeof t!="function")throw new TypeError(BLe);var e=function(){var i=arguments,o=t?t.apply(this,i):i[0],r=e.cache;if(r.has(o))return r.get(o);var s=n.apply(this,i);return e.cache=r.set(o,s)||r,s};return e.cache=new(IV.Cache||vne),e}IV.Cache=vne;bne.exports=IV});var xne=O((Bui,wne)=>{"use strict";var HLe=yne(),VLe=500;function WLe(n){var t=HLe(n,function(i){return e.size===VLe&&e.clear(),i}),e=t.cache;return t}wne.exports=WLe});var Sne=O((Hui,Cne)=>{"use strict";var jLe=xne(),ULe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,qLe=/\\(\\)?/g,GLe=jLe(function(n){var t=[];return n.charCodeAt(0)===46&&t.push(""),n.replace(ULe,function(e,i,o,r){t.push(o?r.replace(qLe,"$1"):i||e)}),t});Cne.exports=GLe});var Bw=O((Vui,Dne)=>{"use strict";function $Le(n,t){for(var e=-1,i=n==null?0:n.length,o=Array(i);++e<i;)o[e]=t(n[e],e,n);return o}Dne.exports=$Le});var Ane=O((Wui,Tne)=>{"use strict";var Ine=tp(),KLe=Bw(),YLe=fo(),XLe=rp(),ZLe=1/0,Ene=Ine?Ine.prototype:void 0,Mne=Ene?Ene.toString:void 0;function kne(n){if(typeof n=="string")return n;if(YLe(n))return KLe(n,kne)+"";if(XLe(n))return Mne?Mne.call(n):"";var t=n+"";return t=="0"&&1/n==-ZLe?"-0":t}Tne.exports=kne});var EV=O((jui,Rne)=>{"use strict";var QLe=Ane();function JLe(n){return n==null?"":QLe(n)}Rne.exports=JLe});var Hw=O((Uui,One)=>{"use strict";var eNe=fo(),tNe=VT(),iNe=Sne(),nNe=EV();function oNe(n,t){return eNe(n)?n:tNe(n,t)?[n]:iNe(nNe(n))}One.exports=oNe});var N_=O((qui,Pne)=>{"use strict";var rNe=rp(),sNe=1/0;function aNe(n){if(typeof n=="string"||rNe(n))return n;var t=n+"";return t=="0"&&1/n==-sNe?"-0":t}Pne.exports=aNe});var Vw=O((Gui,Lne)=>{"use strict";var lNe=Hw(),cNe=N_();function dNe(n,t){t=lNe(t,n);for(var e=0,i=t.length;n!=null&&e<i;)n=n[cNe(t[e++])];return e&&e==i?n:void 0}Lne.exports=dNe});var Fne=O(($ui,Nne)=>{"use strict";var uNe=Vw();function hNe(n,t,e){var i=n==null?void 0:uNe(n,t);return i===void 0?e:i}Nne.exports=hNe});var Bne=O((Kui,zne)=>{"use strict";function mNe(n,t){return n!=null&&t in Object(n)}zne.exports=mNe});var MV=O((Yui,Hne)=>{"use strict";var pNe=Hw(),fNe=T_(),gNe=fo(),_Ne=Aw(),vNe=MT(),bNe=N_();function yNe(n,t,e){t=pNe(t,n);for(var i=-1,o=t.length,r=!1;++i<o;){var s=bNe(t[i]);if(!(r=n!=null&&e(n,s)))break;n=n[s]}return r||++i!=o?r:(o=n==null?0:n.length,!!o&&vNe(o)&&_Ne(s,o)&&(gNe(n)||fNe(n)))}Hne.exports=yNe});var kV=O((Xui,Vne)=>{"use strict";var wNe=Bne(),xNe=MV();function CNe(n,t){return n!=null&&xNe(n,t,wNe)}Vne.exports=CNe});var jne=O((Zui,Wne)=>{"use strict";var SNe=CV(),DNe=Fne(),INe=kV(),ENe=VT(),MNe=SV(),kNe=DV(),TNe=N_(),ANe=1,RNe=2;function ONe(n,t){return ENe(n)&&MNe(t)?kNe(TNe(n),t):function(e){var i=DNe(e,n);return i===void 0&&i===t?INe(e,n):SNe(t,i,ANe|RNe)}}Wne.exports=ONe});var TV=O((Qui,Une)=>{"use strict";function PNe(n){return function(t){return t?.[n]}}Une.exports=PNe});var Gne=O((Jui,qne)=>{"use strict";var LNe=Vw();function NNe(n){return function(t){return LNe(t,n)}}qne.exports=NNe});var Kne=O((ehi,$ne)=>{"use strict";var FNe=TV(),zNe=Gne(),BNe=VT(),HNe=N_();function VNe(n){return BNe(n)?FNe(HNe(n)):zNe(n)}$ne.exports=VNe});var lc=O((thi,Yne)=>{"use strict";var WNe=fne(),jNe=jne(),UNe=ah(),qNe=fo(),GNe=Kne();function $Ne(n){return typeof n=="function"?n:n==null?UNe:typeof n=="object"?qNe(n)?jNe(n[0],n[1]):WNe(n):GNe(n)}Yne.exports=$Ne});var AV=O((ihi,Xne)=>{"use strict";var KNe=J3(),YNe=Tie(),XNe=lc(),ZNe=fo();function QNe(n,t){var e=ZNe(n)?KNe:YNe;return e(n,XNe(t,3))}Xne.exports=QNe});var Qne=O((nhi,Zne)=>{"use strict";var JNe=Object.prototype,eFe=JNe.hasOwnProperty;function tFe(n,t){return n!=null&&eFe.call(n,t)}Zne.exports=tFe});var RV=O((ohi,Jne)=>{"use strict";var iFe=Qne(),nFe=MV();function oFe(n,t){return n!=null&&nFe(n,t,iFe)}Jne.exports=oFe});var toe=O((rhi,eoe)=>{"use strict";var rFe=TT(),sFe=op(),aFe=T_(),lFe=fo(),cFe=ac(),dFe=ip(),uFe=Lw(),hFe=O_(),mFe="[object Map]",pFe="[object Set]",fFe=Object.prototype,gFe=fFe.hasOwnProperty;function _Fe(n){if(n==null)return!0;if(cFe(n)&&(lFe(n)||typeof n=="string"||typeof n.splice=="function"||dFe(n)||hFe(n)||aFe(n)))return!n.length;var t=sFe(n);if(t==mFe||t==pFe)return!n.size;if(uFe(n))return!rFe(n).length;for(var e in n)if(gFe.call(n,e))return!1;return!0}eoe.exports=_Fe});var OV=O((shi,ioe)=>{"use strict";function vFe(n){return n===void 0}ioe.exports=vFe});var PV=O((ahi,noe)=>{"use strict";var bFe=zw(),yFe=ac();function wFe(n,t){var e=-1,i=yFe(n)?Array(n.length):[];return bFe(n,function(o,r,s){i[++e]=t(o,r,s)}),i}noe.exports=wFe});var LV=O((lhi,ooe)=>{"use strict";var xFe=Bw(),CFe=lc(),SFe=PV(),DFe=fo();function IFe(n,t){var e=DFe(n)?xFe:SFe;return e(n,CFe(t,3))}ooe.exports=IFe});var soe=O((chi,roe)=>{"use strict";function EFe(n,t,e,i){var o=-1,r=n==null?0:n.length;for(i&&r&&(e=n[++o]);++o<r;)e=t(e,n[o],o,n);return e}roe.exports=EFe});var loe=O((dhi,aoe)=>{"use strict";function MFe(n,t,e,i,o){return o(n,function(r,s,a){e=i?(i=!1,r):t(e,r,s,a)}),e}aoe.exports=MFe});var NV=O((uhi,coe)=>{"use strict";var kFe=soe(),TFe=zw(),AFe=lc(),RFe=loe(),OFe=fo();function PFe(n,t,e){var i=OFe(n)?kFe:RFe,o=arguments.length<3;return i(n,AFe(t,4),e,o,TFe)}coe.exports=PFe});var uoe=O((hhi,doe)=>{"use strict";var LFe=oh(),NFe=fo(),FFe=rl(),zFe="[object String]";function BFe(n){return typeof n=="string"||!NFe(n)&&FFe(n)&&LFe(n)==zFe}doe.exports=BFe});var moe=O((mhi,hoe)=>{"use strict";var HFe=TV(),VFe=HFe("length");hoe.exports=VFe});var foe=O((phi,poe)=>{"use strict";var WFe="\\ud800-\\udfff",jFe="\\u0300-\\u036f",UFe="\\ufe20-\\ufe2f",qFe="\\u20d0-\\u20ff",GFe=jFe+UFe+qFe,$Fe="\\ufe0e\\ufe0f",KFe="\\u200d",YFe=RegExp("["+KFe+WFe+GFe+$Fe+"]");function XFe(n){return YFe.test(n)}poe.exports=XFe});var Soe=O((fhi,Coe)=>{"use strict";var _oe="\\ud800-\\udfff",ZFe="\\u0300-\\u036f",QFe="\\ufe20-\\ufe2f",JFe="\\u20d0-\\u20ff",e2e=ZFe+QFe+JFe,t2e="\\ufe0e\\ufe0f",i2e="["+_oe+"]",FV="["+e2e+"]",zV="\\ud83c[\\udffb-\\udfff]",n2e="(?:"+FV+"|"+zV+")",voe="[^"+_oe+"]",boe="(?:\\ud83c[\\udde6-\\uddff]){2}",yoe="[\\ud800-\\udbff][\\udc00-\\udfff]",o2e="\\u200d",woe=n2e+"?",xoe="["+t2e+"]?",r2e="(?:"+o2e+"(?:"+[voe,boe,yoe].join("|")+")"+xoe+woe+")*",s2e=xoe+woe+r2e,a2e="(?:"+[voe+FV+"?",FV,boe,yoe,i2e].join("|")+")",goe=RegExp(zV+"(?="+zV+")|"+a2e+s2e,"g");function l2e(n){for(var t=goe.lastIndex=0;goe.test(n);)++t;return t}Coe.exports=l2e});var Ioe=O((ghi,Doe)=>{"use strict";var c2e=moe(),d2e=foe(),u2e=Soe();function h2e(n){return d2e(n)?u2e(n):c2e(n)}Doe.exports=h2e});var Moe=O((_hi,Eoe)=>{"use strict";var m2e=TT(),p2e=op(),f2e=ac(),g2e=uoe(),_2e=Ioe(),v2e="[object Map]",b2e="[object Set]";function y2e(n){if(n==null)return 0;if(f2e(n))return g2e(n)?_2e(n):n.length;var t=p2e(n);return t==v2e||t==b2e?n.size:m2e(n).length}Eoe.exports=y2e});var Toe=O((vhi,koe)=>{"use strict";var w2e=ET(),x2e=hV(),C2e=FT(),S2e=lc(),D2e=Fw(),I2e=fo(),E2e=ip(),M2e=D_(),k2e=zs(),T2e=O_();function A2e(n,t,e){var i=I2e(n),o=i||E2e(n)||T2e(n);if(t=S2e(t,4),e==null){var r=n&&n.constructor;o?e=i?new r:[]:k2e(n)?e=M2e(r)?x2e(D2e(n)):{}:e={}}return(o?w2e:C2e)(n,function(s,a,l){return t(e,s,a,l)}),e}koe.exports=A2e});var Poe=O((bhi,Ooe)=>{"use strict";var Aoe=tp(),R2e=T_(),O2e=fo(),Roe=Aoe?Aoe.isConcatSpreadable:void 0;function P2e(n){return O2e(n)||R2e(n)||!!(Roe&&n&&n[Roe])}Ooe.exports=P2e});var WT=O((yhi,Noe)=>{"use strict";var L2e=RT(),N2e=Poe();function Loe(n,t,e,i,o){var r=-1,s=n.length;for(e||(e=N2e),o||(o=[]);++r<s;){var a=n[r];t>0&&e(a)?t>1?Loe(a,t-1,e,i,o):L2e(o,a):i||(o[o.length]=a)}return o}Noe.exports=Loe});var zoe=O((whi,Foe)=>{"use strict";function F2e(n,t,e){switch(e.length){case 0:return n.call(t);case 1:return n.call(t,e[0]);case 2:return n.call(t,e[0],e[1]);case 3:return n.call(t,e[0],e[1],e[2])}return n.apply(t,e)}Foe.exports=F2e});var BV=O((xhi,Hoe)=>{"use strict";var z2e=zoe(),Boe=Math.max;function B2e(n,t,e){return t=Boe(t===void 0?n.length-1:t,0),function(){for(var i=arguments,o=-1,r=Boe(i.length-t,0),s=Array(r);++o<r;)s[o]=i[t+o];o=-1;for(var a=Array(t+1);++o<t;)a[o]=i[o];return a[t]=e(s),z2e(n,this,a)}}Hoe.exports=B2e});var joe=O((Chi,Woe)=>{"use strict";var H2e=LT(),Voe=$3(),V2e=ah(),W2e=Voe?function(n,t){return Voe(n,"toString",{configurable:!0,enumerable:!1,value:H2e(t),writable:!0})}:V2e;Woe.exports=W2e});var qoe=O((Shi,Uoe)=>{"use strict";var j2e=800,U2e=16,q2e=Date.now;function G2e(n){var t=0,e=0;return function(){var i=q2e(),o=U2e-(i-e);if(e=i,o>0){if(++t>=j2e)return arguments[0]}else t=0;return n.apply(void 0,arguments)}}Uoe.exports=G2e});var HV=O((Dhi,Goe)=>{"use strict";var $2e=joe(),K2e=qoe(),Y2e=K2e($2e);Goe.exports=Y2e});var Ww=O((Ihi,$oe)=>{"use strict";var X2e=ah(),Z2e=BV(),Q2e=HV();function J2e(n,t){return Q2e(Z2e(n,t,X2e),n+"")}$oe.exports=J2e});var VV=O((Ehi,Koe)=>{"use strict";function eze(n,t,e,i){for(var o=n.length,r=e+(i?1:-1);i?r--:++r<o;)if(t(n[r],r,n))return r;return-1}Koe.exports=eze});var Xoe=O((Mhi,Yoe)=>{"use strict";function tze(n){return n!==n}Yoe.exports=tze});var Qoe=O((khi,Zoe)=>{"use strict";function ize(n,t,e){for(var i=e-1,o=n.length;++i<o;)if(n[i]===t)return i;return-1}Zoe.exports=ize});var ere=O((Thi,Joe)=>{"use strict";var nze=VV(),oze=Xoe(),rze=Qoe();function sze(n,t,e){return t===t?rze(n,t,e):nze(n,oze,e)}Joe.exports=sze});var ire=O((Ahi,tre)=>{"use strict";var aze=ere();function lze(n,t){var e=n==null?0:n.length;return!!e&&aze(n,t,0)>-1}tre.exports=lze});var ore=O((Rhi,nre)=>{"use strict";function cze(n,t,e){for(var i=-1,o=n==null?0:n.length;++i<o;)if(e(t,n[i]))return!0;return!1}nre.exports=cze});var sre=O((Ohi,rre)=>{"use strict";function dze(){}rre.exports=dze});var lre=O((Phi,are)=>{"use strict";var WV=oV(),uze=sre(),hze=BT(),mze=1/0,pze=WV&&1/hze(new WV([,-0]))[1]==mze?function(n){return new WV(n)}:uze;are.exports=pze});var dre=O((Lhi,cre)=>{"use strict";var fze=vV(),gze=ire(),_ze=ore(),vze=bV(),bze=lre(),yze=BT(),wze=200;function xze(n,t,e){var i=-1,o=gze,r=n.length,s=!0,a=[],l=a;if(e)s=!1,o=_ze;else if(r>=wze){var c=t?null:bze(n);if(c)return yze(c);s=!1,o=vze,l=new fze}else l=t?[]:a;e:for(;++i<r;){var d=n[i],u=t?t(d):d;if(d=e||d!==0?d:0,s&&u===u){for(var h=l.length;h--;)if(l[h]===u)continue e;t&&l.push(u),a.push(d)}else o(l,u,e)||(l!==a&&l.push(u),a.push(d))}return a}cre.exports=xze});var jV=O((Nhi,ure)=>{"use strict";var Cze=ac(),Sze=rl();function Dze(n){return Sze(n)&&Cze(n)}ure.exports=Dze});var mre=O((Fhi,hre)=>{"use strict";var Ize=WT(),Eze=Ww(),Mze=dre(),kze=jV(),Tze=Eze(function(n){return Mze(Ize(n,1,kze,!0))});hre.exports=Tze});var fre=O((zhi,pre)=>{"use strict";var Aze=Bw();function Rze(n,t){return Aze(t,function(e){return n[e]})}pre.exports=Rze});var UV=O((Bhi,gre)=>{"use strict";var Oze=fre(),Pze=gd();function Lze(n){return n==null?[]:Oze(n,Pze(n))}gre.exports=Lze});var Bs=O((Hhi,_re)=>{"use strict";var jT;if(typeof wa=="function")try{jT={clone:gie(),constant:LT(),each:_V(),filter:AV(),has:RV(),isArray:fo(),isEmpty:toe(),isFunction:D_(),isUndefined:OV(),keys:gd(),map:LV(),reduce:NV(),size:Moe(),transform:Toe(),union:mre(),values:UV()}}catch{}jT||(jT=window._);_re.exports=jT});var UT=O((Whi,wre)=>{"use strict";var Jt=Bs();wre.exports=Di;var Nze="\0",sp="\0",vre="";function Di(n){this._isDirected=Jt.has(n,"directed")?n.directed:!0,this._isMultigraph=Jt.has(n,"multigraph")?n.multigraph:!1,this._isCompound=Jt.has(n,"compound")?n.compound:!1,this._label=void 0,this._defaultNodeLabelFn=Jt.constant(void 0),this._defaultEdgeLabelFn=Jt.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[sp]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}Di.prototype._nodeCount=0;Di.prototype._edgeCount=0;Di.prototype.isDirected=function(){return this._isDirected};Di.prototype.isMultigraph=function(){return this._isMultigraph};Di.prototype.isCompound=function(){return this._isCompound};Di.prototype.setGraph=function(n){return this._label=n,this};Di.prototype.graph=function(){return this._label};Di.prototype.setDefaultNodeLabel=function(n){return Jt.isFunction(n)||(n=Jt.constant(n)),this._defaultNodeLabelFn=n,this};Di.prototype.nodeCount=function(){return this._nodeCount};Di.prototype.nodes=function(){return Jt.keys(this._nodes)};Di.prototype.sources=function(){var n=this;return Jt.filter(this.nodes(),function(t){return Jt.isEmpty(n._in[t])})};Di.prototype.sinks=function(){var n=this;return Jt.filter(this.nodes(),function(t){return Jt.isEmpty(n._out[t])})};Di.prototype.setNodes=function(n,t){var e=arguments,i=this;return Jt.each(n,function(o){e.length>1?i.setNode(o,t):i.setNode(o)}),this};Di.prototype.setNode=function(n,t){return Jt.has(this._nodes,n)?(arguments.length>1&&(this._nodes[n]=t),this):(this._nodes[n]=arguments.length>1?t:this._defaultNodeLabelFn(n),this._isCompound&&(this._parent[n]=sp,this._children[n]={},this._children[sp][n]=!0),this._in[n]={},this._preds[n]={},this._out[n]={},this._sucs[n]={},++this._nodeCount,this)};Di.prototype.node=function(n){return this._nodes[n]};Di.prototype.hasNode=function(n){return Jt.has(this._nodes,n)};Di.prototype.removeNode=function(n){var t=this;if(Jt.has(this._nodes,n)){var e=function(i){t.removeEdge(t._edgeObjs[i])};delete this._nodes[n],this._isCompound&&(this._removeFromParentsChildList(n),delete this._parent[n],Jt.each(this.children(n),function(i){t.setParent(i)}),delete this._children[n]),Jt.each(Jt.keys(this._in[n]),e),delete this._in[n],delete this._preds[n],Jt.each(Jt.keys(this._out[n]),e),delete this._out[n],delete this._sucs[n],--this._nodeCount}return this};Di.prototype.setParent=function(n,t){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(Jt.isUndefined(t))t=sp;else{t+="";for(var e=t;!Jt.isUndefined(e);e=this.parent(e))if(e===n)throw new Error("Setting "+t+" as parent of "+n+" would create a cycle");this.setNode(t)}return this.setNode(n),this._removeFromParentsChildList(n),this._parent[n]=t,this._children[t][n]=!0,this};Di.prototype._removeFromParentsChildList=function(n){delete this._children[this._parent[n]][n]};Di.prototype.parent=function(n){if(this._isCompound){var t=this._parent[n];if(t!==sp)return t}};Di.prototype.children=function(n){if(Jt.isUndefined(n)&&(n=sp),this._isCompound){var t=this._children[n];if(t)return Jt.keys(t)}else{if(n===sp)return this.nodes();if(this.hasNode(n))return[]}};Di.prototype.predecessors=function(n){var t=this._preds[n];if(t)return Jt.keys(t)};Di.prototype.successors=function(n){var t=this._sucs[n];if(t)return Jt.keys(t)};Di.prototype.neighbors=function(n){var t=this.predecessors(n);if(t)return Jt.union(t,this.successors(n))};Di.prototype.isLeaf=function(n){var t;return this.isDirected()?t=this.successors(n):t=this.neighbors(n),t.length===0};Di.prototype.filterNodes=function(n){var t=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});t.setGraph(this.graph());var e=this;Jt.each(this._nodes,function(r,s){n(s)&&t.setNode(s,r)}),Jt.each(this._edgeObjs,function(r){t.hasNode(r.v)&&t.hasNode(r.w)&&t.setEdge(r,e.edge(r))});var i={};function o(r){var s=e.parent(r);return s===void 0||t.hasNode(s)?(i[r]=s,s):s in i?i[s]:o(s)}return this._isCompound&&Jt.each(t.nodes(),function(r){t.setParent(r,o(r))}),t};Di.prototype.setDefaultEdgeLabel=function(n){return Jt.isFunction(n)||(n=Jt.constant(n)),this._defaultEdgeLabelFn=n,this};Di.prototype.edgeCount=function(){return this._edgeCount};Di.prototype.edges=function(){return Jt.values(this._edgeObjs)};Di.prototype.setPath=function(n,t){var e=this,i=arguments;return Jt.reduce(n,function(o,r){return i.length>1?e.setEdge(o,r,t):e.setEdge(o,r),r}),this};Di.prototype.setEdge=function(){var n,t,e,i,o=!1,r=arguments[0];typeof r=="object"&&r!==null&&"v"in r?(n=r.v,t=r.w,e=r.name,arguments.length===2&&(i=arguments[1],o=!0)):(n=r,t=arguments[1],e=arguments[3],arguments.length>2&&(i=arguments[2],o=!0)),n=""+n,t=""+t,Jt.isUndefined(e)||(e=""+e);var s=jw(this._isDirected,n,t,e);if(Jt.has(this._edgeLabels,s))return o&&(this._edgeLabels[s]=i),this;if(!Jt.isUndefined(e)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(n),this.setNode(t),this._edgeLabels[s]=o?i:this._defaultEdgeLabelFn(n,t,e);var a=Fze(this._isDirected,n,t,e);return n=a.v,t=a.w,Object.freeze(a),this._edgeObjs[s]=a,bre(this._preds[t],n),bre(this._sucs[n],t),this._in[t][s]=a,this._out[n][s]=a,this._edgeCount++,this};Di.prototype.edge=function(n,t,e){var i=arguments.length===1?qV(this._isDirected,arguments[0]):jw(this._isDirected,n,t,e);return this._edgeLabels[i]};Di.prototype.hasEdge=function(n,t,e){var i=arguments.length===1?qV(this._isDirected,arguments[0]):jw(this._isDirected,n,t,e);return Jt.has(this._edgeLabels,i)};Di.prototype.removeEdge=function(n,t,e){var i=arguments.length===1?qV(this._isDirected,arguments[0]):jw(this._isDirected,n,t,e),o=this._edgeObjs[i];return o&&(n=o.v,t=o.w,delete this._edgeLabels[i],delete this._edgeObjs[i],yre(this._preds[t],n),yre(this._sucs[n],t),delete this._in[t][i],delete this._out[n][i],this._edgeCount--),this};Di.prototype.inEdges=function(n,t){var e=this._in[n];if(e){var i=Jt.values(e);return t?Jt.filter(i,function(o){return o.v===t}):i}};Di.prototype.outEdges=function(n,t){var e=this._out[n];if(e){var i=Jt.values(e);return t?Jt.filter(i,function(o){return o.w===t}):i}};Di.prototype.nodeEdges=function(n,t){var e=this.inEdges(n,t);if(e)return e.concat(this.outEdges(n,t))};function bre(n,t){n[t]?n[t]++:n[t]=1}function yre(n,t){--n[t]||delete n[t]}function jw(n,t,e,i){var o=""+t,r=""+e;if(!n&&o>r){var s=o;o=r,r=s}return o+vre+r+vre+(Jt.isUndefined(i)?Nze:i)}function Fze(n,t,e,i){var o=""+t,r=""+e;if(!n&&o>r){var s=o;o=r,r=s}var a={v:o,w:r};return i&&(a.name=i),a}function qV(n,t){return jw(n,t.v,t.w,t.name)}});var Cre=O((jhi,xre)=>{"use strict";xre.exports="2.1.8"});var Dre=O((Uhi,Sre)=>{"use strict";Sre.exports={Graph:UT(),version:Cre()}});var Ere=O((qhi,Ire)=>{"use strict";var cc=Bs(),zze=UT();Ire.exports={write:Bze,read:Wze};function Bze(n){var t={options:{directed:n.isDirected(),multigraph:n.isMultigraph(),compound:n.isCompound()},nodes:Hze(n),edges:Vze(n)};return cc.isUndefined(n.graph())||(t.value=cc.clone(n.graph())),t}function Hze(n){return cc.map(n.nodes(),function(t){var e=n.node(t),i=n.parent(t),o={v:t};return cc.isUndefined(e)||(o.value=e),cc.isUndefined(i)||(o.parent=i),o})}function Vze(n){return cc.map(n.edges(),function(t){var e=n.edge(t),i={v:t.v,w:t.w};return cc.isUndefined(t.name)||(i.name=t.name),cc.isUndefined(e)||(i.value=e),i})}function Wze(n){var t=new zze(n.options).setGraph(n.value);return cc.each(n.nodes,function(e){t.setNode(e.v,e.value),e.parent&&t.setParent(e.v,e.parent)}),cc.each(n.edges,function(e){t.setEdge({v:e.v,w:e.w,name:e.name},e.value)}),t}});var kre=O((Ghi,Mre)=>{"use strict";var qT=Bs();Mre.exports=jze;function jze(n){var t={},e=[],i;function o(r){qT.has(t,r)||(t[r]=!0,i.push(r),qT.each(n.successors(r),o),qT.each(n.predecessors(r),o))}return qT.each(n.nodes(),function(r){i=[],o(r),i.length&&e.push(i)}),e}});var GV=O(($hi,Are)=>{"use strict";var Tre=Bs();Are.exports=ga;function ga(){this._arr=[],this._keyIndices={}}ga.prototype.size=function(){return this._arr.length};ga.prototype.keys=function(){return this._arr.map(function(n){return n.key})};ga.prototype.has=function(n){return Tre.has(this._keyIndices,n)};ga.prototype.priority=function(n){var t=this._keyIndices[n];if(t!==void 0)return this._arr[t].priority};ga.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key};ga.prototype.add=function(n,t){var e=this._keyIndices;if(n=String(n),!Tre.has(e,n)){var i=this._arr,o=i.length;return e[n]=o,i.push({key:n,priority:t}),this._decrease(o),!0}return!1};ga.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var n=this._arr.pop();return delete this._keyIndices[n.key],this._heapify(0),n.key};ga.prototype.decrease=function(n,t){var e=this._keyIndices[n];if(t>this._arr[e].priority)throw new Error("New priority is greater than current priority. Key: "+n+" Old: "+this._arr[e].priority+" New: "+t);this._arr[e].priority=t,this._decrease(e)};ga.prototype._heapify=function(n){var t=this._arr,e=2*n,i=e+1,o=n;e<t.length&&(o=t[e].priority<t[o].priority?e:o,i<t.length&&(o=t[i].priority<t[o].priority?i:o),o!==n&&(this._swap(n,o),this._heapify(o)))};ga.prototype._decrease=function(n){for(var t=this._arr,e=t[n].priority,i;n!==0&&(i=n>>1,!(t[i].priority<e));)this._swap(n,i),n=i};ga.prototype._swap=function(n,t){var e=this._arr,i=this._keyIndices,o=e[n],r=e[t];e[n]=r,e[t]=o,i[r.key]=n,i[o.key]=t}});var $V=O((Khi,Rre)=>{"use strict";var Uze=Bs(),qze=GV();Rre.exports=$ze;var Gze=Uze.constant(1);function $ze(n,t,e,i){return Kze(n,String(t),e||Gze,i||function(o){return n.outEdges(o)})}function Kze(n,t,e,i){var o={},r=new qze,s,a,l=function(c){var d=c.v!==s?c.v:c.w,u=o[d],h=e(c),m=a.distance+h;if(h<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+c+" Weight: "+h);m<u.distance&&(u.distance=m,u.predecessor=s,r.decrease(d,m))};for(n.nodes().forEach(function(c){var d=c===t?0:Number.POSITIVE_INFINITY;o[c]={distance:d},r.add(c,d)});r.size()>0&&(s=r.removeMin(),a=o[s],a.distance!==Number.POSITIVE_INFINITY);)i(s).forEach(l);return o}});var Pre=O((Yhi,Ore)=>{"use strict";var Yze=$V(),Xze=Bs();Ore.exports=Zze;function Zze(n,t,e){return Xze.transform(n.nodes(),function(i,o){i[o]=Yze(n,o,t,e)},{})}});var KV=O((Xhi,Nre)=>{"use strict";var Lre=Bs();Nre.exports=Qze;function Qze(n){var t=0,e=[],i={},o=[];function r(s){var a=i[s]={onStack:!0,lowlink:t,index:t++};if(e.push(s),n.successors(s).forEach(function(d){Lre.has(i,d)?i[d].onStack&&(a.lowlink=Math.min(a.lowlink,i[d].index)):(r(d),a.lowlink=Math.min(a.lowlink,i[d].lowlink))}),a.lowlink===a.index){var l=[],c;do c=e.pop(),i[c].onStack=!1,l.push(c);while(s!==c);o.push(l)}}return n.nodes().forEach(function(s){Lre.has(i,s)||r(s)}),o}});var zre=O((Zhi,Fre)=>{"use strict";var Jze=Bs(),eBe=KV();Fre.exports=tBe;function tBe(n){return Jze.filter(eBe(n),function(t){return t.length>1||t.length===1&&n.hasEdge(t[0],t[0])})}});var Hre=O((Qhi,Bre)=>{"use strict";var iBe=Bs();Bre.exports=oBe;var nBe=iBe.constant(1);function oBe(n,t,e){return rBe(n,t||nBe,e||function(i){return n.outEdges(i)})}function rBe(n,t,e){var i={},o=n.nodes();return o.forEach(function(r){i[r]={},i[r][r]={distance:0},o.forEach(function(s){r!==s&&(i[r][s]={distance:Number.POSITIVE_INFINITY})}),e(r).forEach(function(s){var a=s.v===r?s.w:s.v,l=t(s);i[r][a]={distance:l,predecessor:r}})}),o.forEach(function(r){var s=i[r];o.forEach(function(a){var l=i[a];o.forEach(function(c){var d=l[r],u=s[c],h=l[c],m=d.distance+u.distance;m<h.distance&&(h.distance=m,h.predecessor=u.predecessor)})})}),i}});var YV=O((Jhi,Wre)=>{"use strict";var Uw=Bs();Wre.exports=Vre;Vre.CycleException=GT;function Vre(n){var t={},e={},i=[];function o(r){if(Uw.has(e,r))throw new GT;Uw.has(t,r)||(e[r]=!0,t[r]=!0,Uw.each(n.predecessors(r),o),delete e[r],i.push(r))}if(Uw.each(n.sinks(),o),Uw.size(t)!==n.nodeCount())throw new GT;return i}function GT(){}GT.prototype=new Error});var qre=O((emi,Ure)=>{"use strict";var jre=YV();Ure.exports=sBe;function sBe(n){try{jre(n)}catch(t){if(t instanceof jre.CycleException)return!1;throw t}return!0}});var XV=O((tmi,$re)=>{"use strict";var $T=Bs();$re.exports=aBe;function aBe(n,t,e){$T.isArray(t)||(t=[t]);var i=(n.isDirected()?n.successors:n.neighbors).bind(n),o=[],r={};return $T.each(t,function(s){if(!n.hasNode(s))throw new Error("Graph does not have node: "+s);Gre(n,s,e==="post",r,i,o)}),o}function Gre(n,t,e,i,o,r){$T.has(i,t)||(i[t]=!0,e||r.push(t),$T.each(o(t),function(s){Gre(n,s,e,i,o,r)}),e&&r.push(t))}});var Yre=O((imi,Kre)=>{"use strict";var lBe=XV();Kre.exports=cBe;function cBe(n,t){return lBe(n,t,"post")}});var Zre=O((nmi,Xre)=>{"use strict";var dBe=XV();Xre.exports=uBe;function uBe(n,t){return dBe(n,t,"pre")}});var ese=O((omi,Jre)=>{"use strict";var Qre=Bs(),hBe=UT(),mBe=GV();Jre.exports=pBe;function pBe(n,t){var e=new hBe,i={},o=new mBe,r;function s(l){var c=l.v===r?l.w:l.v,d=o.priority(c);if(d!==void 0){var u=t(l);u<d&&(i[c]=r,o.decrease(c,u))}}if(n.nodeCount()===0)return e;Qre.each(n.nodes(),function(l){o.add(l,Number.POSITIVE_INFINITY),e.setNode(l)}),o.decrease(n.nodes()[0],0);for(var a=!1;o.size()>0;){if(r=o.removeMin(),Qre.has(i,r))e.setEdge(r,i[r]);else{if(a)throw new Error("Input graph is not connected: "+n);a=!0}n.nodeEdges(r).forEach(s)}return e}});var ise=O((rmi,tse)=>{"use strict";tse.exports={components:kre(),dijkstra:$V(),dijkstraAll:Pre(),findCycles:zre(),floydWarshall:Hre(),isAcyclic:qre(),postorder:Yre(),preorder:Zre(),prim:ese(),tarjan:KV(),topsort:YV()}});var rse=O((smi,ose)=>{"use strict";var nse=Dre();ose.exports={Graph:nse.Graph,json:Ere(),alg:ise(),version:nse.version}});var _a=O((ami,sse)=>{"use strict";var KT;if(typeof wa=="function")try{KT=rse()}catch{}KT||(KT=window.graphlib);sse.exports=KT});var lse=O((cmi,ase)=>{"use strict";var fBe=pV(),gBe=1,_Be=4;function vBe(n){return fBe(n,gBe|_Be)}ase.exports=vBe});var qw=O((dmi,cse)=>{"use strict";var bBe=ep(),yBe=ac(),wBe=Aw(),xBe=zs();function CBe(n,t,e){if(!xBe(e))return!1;var i=typeof t;return(i=="number"?yBe(e)&&wBe(t,e.length):i=="string"&&t in e)?bBe(e[t],n):!1}cse.exports=CBe});var hse=O((umi,use)=>{"use strict";var SBe=Ww(),DBe=ep(),IBe=qw(),EBe=sh(),dse=Object.prototype,MBe=dse.hasOwnProperty,kBe=SBe(function(n,t){n=Object(n);var e=-1,i=t.length,o=i>2?t[2]:void 0;for(o&&IBe(t[0],t[1],o)&&(i=1);++e<i;)for(var r=t[e],s=EBe(r),a=-1,l=s.length;++a<l;){var c=s[a],d=n[c];(d===void 0||DBe(d,dse[c])&&!MBe.call(n,c))&&(n[c]=r[c])}return n});use.exports=kBe});var pse=O((hmi,mse)=>{"use strict";var TBe=lc(),ABe=ac(),RBe=gd();function OBe(n){return function(t,e,i){var o=Object(t);if(!ABe(t)){var r=TBe(e,3);t=RBe(t),e=function(a){return r(o[a],a,o)}}var s=n(t,e,i);return s>-1?o[r?t[s]:s]:void 0}}mse.exports=OBe});var gse=O((mmi,fse)=>{"use strict";var PBe=/\s/;function LBe(n){for(var t=n.length;t--&&PBe.test(n.charAt(t)););return t}fse.exports=LBe});var vse=O((pmi,_se)=>{"use strict";var NBe=gse(),FBe=/^\s+/;function zBe(n){return n&&n.slice(0,NBe(n)+1).replace(FBe,"")}_se.exports=zBe});var xse=O((fmi,wse)=>{"use strict";var BBe=vse(),bse=zs(),HBe=rp(),yse=NaN,VBe=/^[-+]0x[0-9a-f]+$/i,WBe=/^0b[01]+$/i,jBe=/^0o[0-7]+$/i,UBe=parseInt;function qBe(n){if(typeof n=="number")return n;if(HBe(n))return yse;if(bse(n)){var t=typeof n.valueOf=="function"?n.valueOf():n;n=bse(t)?t+"":t}if(typeof n!="string")return n===0?n:+n;n=BBe(n);var e=WBe.test(n);return e||jBe.test(n)?UBe(n.slice(2),e?2:8):VBe.test(n)?yse:+n}wse.exports=qBe});var ZV=O((gmi,Sse)=>{"use strict";var GBe=xse(),Cse=1/0,$Be=17976931348623157e292;function KBe(n){if(!n)return n===0?n:0;if(n=GBe(n),n===Cse||n===-Cse){var t=n<0?-1:1;return t*$Be}return n===n?n:0}Sse.exports=KBe});var Ise=O((_mi,Dse)=>{"use strict";var YBe=ZV();function XBe(n){var t=YBe(n),e=t%1;return t===t?e?t-e:t:0}Dse.exports=XBe});var Mse=O((vmi,Ese)=>{"use strict";var ZBe=VV(),QBe=lc(),JBe=Ise(),eHe=Math.max;function tHe(n,t,e){var i=n==null?0:n.length;if(!i)return-1;var o=e==null?0:JBe(e);return o<0&&(o=eHe(i+o,0)),ZBe(n,QBe(t,3),o)}Ese.exports=tHe});var Tse=O((bmi,kse)=>{"use strict";var iHe=pse(),nHe=Mse(),oHe=iHe(nHe);kse.exports=oHe});var QV=O((ymi,Ase)=>{"use strict";var rHe=WT();function sHe(n){var t=n==null?0:n.length;return t?rHe(n,1):[]}Ase.exports=sHe});var Ose=O((wmi,Rse)=>{"use strict";var aHe=NT(),lHe=fV(),cHe=sh();function dHe(n,t){return n==null?n:aHe(n,lHe(t),cHe)}Rse.exports=dHe});var Lse=O((xmi,Pse)=>{"use strict";function uHe(n){var t=n==null?0:n.length;return t?n[t-1]:void 0}Pse.exports=uHe});var Fse=O((Cmi,Nse)=>{"use strict";var hHe=Mw(),mHe=FT(),pHe=lc();function fHe(n,t){var e={};return t=pHe(t,3),mHe(n,function(i,o,r){hHe(e,o,t(i,o,r))}),e}Nse.exports=fHe});var YT=O((Smi,zse)=>{"use strict";var gHe=rp();function _He(n,t,e){for(var i=-1,o=n.length;++i<o;){var r=n[i],s=t(r);if(s!=null&&(a===void 0?s===s&&!gHe(s):e(s,a)))var a=s,l=r}return l}zse.exports=_He});var Hse=O((Dmi,Bse)=>{"use strict";function vHe(n,t){return n>t}Bse.exports=vHe});var Wse=O((Imi,Vse)=>{"use strict";var bHe=YT(),yHe=Hse(),wHe=ah();function xHe(n){return n&&n.length?bHe(n,wHe,yHe):void 0}Vse.exports=xHe});var JV=O((Emi,jse)=>{"use strict";var CHe=Mw(),SHe=ep();function DHe(n,t,e){(e!==void 0&&!SHe(n[t],e)||e===void 0&&!(t in n))&&CHe(n,t,e)}jse.exports=DHe});var Gse=O((Mmi,qse)=>{"use strict";var IHe=oh(),EHe=Fw(),MHe=rl(),kHe="[object Object]",THe=Function.prototype,AHe=Object.prototype,Use=THe.toString,RHe=AHe.hasOwnProperty,OHe=Use.call(Object);function PHe(n){if(!MHe(n)||IHe(n)!=kHe)return!1;var t=EHe(n);if(t===null)return!0;var e=RHe.call(t,"constructor")&&t.constructor;return typeof e=="function"&&e instanceof e&&Use.call(e)==OHe}qse.exports=PHe});var eW=O((kmi,$se)=>{"use strict";function LHe(n,t){if(!(t==="constructor"&&typeof n[t]=="function")&&t!="__proto__")return n[t]}$se.exports=LHe});var Yse=O((Tmi,Kse)=>{"use strict";var NHe=k_(),FHe=sh();function zHe(n){return NHe(n,FHe(n))}Kse.exports=zHe});var tae=O((Ami,eae)=>{"use strict";var Xse=JV(),BHe=Z3(),HHe=uV(),VHe=Q3(),WHe=mV(),Zse=T_(),Qse=fo(),jHe=jV(),UHe=ip(),qHe=D_(),GHe=zs(),$He=Gse(),KHe=O_(),Jse=eW(),YHe=Yse();function XHe(n,t,e,i,o,r,s){var a=Jse(n,e),l=Jse(t,e),c=s.get(l);if(c){Xse(n,e,c);return}var d=r?r(a,l,e+"",n,t,s):void 0,u=d===void 0;if(u){var h=Qse(l),m=!h&&UHe(l),f=!h&&!m&&KHe(l);d=l,h||m||f?Qse(a)?d=a:jHe(a)?d=VHe(a):m?(u=!1,d=BHe(l,!0)):f?(u=!1,d=HHe(l,!0)):d=[]:$He(l)||Zse(l)?(d=a,Zse(a)?d=YHe(a):(!GHe(a)||qHe(a))&&(d=WHe(l))):u=!1}u&&(s.set(l,d),o(d,l,i,r,s),s.delete(l)),Xse(n,e,d)}eae.exports=XHe});var oae=O((Rmi,nae)=>{"use strict";var ZHe=Ew(),QHe=JV(),JHe=NT(),e3e=tae(),t3e=zs(),i3e=sh(),n3e=eW();function iae(n,t,e,i,o){n!==t&&JHe(t,function(r,s){if(o||(o=new ZHe),t3e(r))e3e(n,t,s,e,iae,i,o);else{var a=i?i(n3e(n,s),r,s+"",n,t,o):void 0;a===void 0&&(a=r),QHe(n,s,a)}},i3e)}nae.exports=iae});var sae=O((Omi,rae)=>{"use strict";var o3e=Ww(),r3e=qw();function s3e(n){return o3e(function(t,e){var i=-1,o=e.length,r=o>1?e[o-1]:void 0,s=o>2?e[2]:void 0;for(r=n.length>3&&typeof r=="function"?(o--,r):void 0,s&&r3e(e[0],e[1],s)&&(r=o<3?void 0:r,o=1),t=Object(t);++i<o;){var a=e[i];a&&n(t,a,i,r)}return t})}rae.exports=s3e});var lae=O((Pmi,aae)=>{"use strict";var a3e=oae(),l3e=sae(),c3e=l3e(function(n,t,e){a3e(n,t,e)});aae.exports=c3e});var tW=O((Lmi,cae)=>{"use strict";function d3e(n,t){return n<t}cae.exports=d3e});var uae=O((Nmi,dae)=>{"use strict";var u3e=YT(),h3e=tW(),m3e=ah();function p3e(n){return n&&n.length?u3e(n,m3e,h3e):void 0}dae.exports=p3e});var mae=O((Fmi,hae)=>{"use strict";var f3e=YT(),g3e=lc(),_3e=tW();function v3e(n,t){return n&&n.length?f3e(n,g3e(t,2),_3e):void 0}hae.exports=v3e});var fae=O((zmi,pae)=>{"use strict";var b3e=fa(),y3e=function(){return b3e.Date.now()};pae.exports=y3e});var vae=O((Bmi,_ae)=>{"use strict";var w3e=kw(),x3e=Hw(),C3e=Aw(),gae=zs(),S3e=N_();function D3e(n,t,e,i){if(!gae(n))return n;t=x3e(t,n);for(var o=-1,r=t.length,s=r-1,a=n;a!=null&&++o<r;){var l=S3e(t[o]),c=e;if(l==="__proto__"||l==="constructor"||l==="prototype")return n;if(o!=s){var d=a[l];c=i?i(d,l,a):void 0,c===void 0&&(c=gae(d)?d:C3e(t[o+1])?[]:{})}w3e(a,l,c),a=a[l]}return n}_ae.exports=D3e});var yae=O((Hmi,bae)=>{"use strict";var I3e=Vw(),E3e=vae(),M3e=Hw();function k3e(n,t,e){for(var i=-1,o=t.length,r={};++i<o;){var s=t[i],a=I3e(n,s);e(a,s)&&E3e(r,M3e(s,n),a)}return r}bae.exports=k3e});var xae=O((Vmi,wae)=>{"use strict";var T3e=yae(),A3e=kV();function R3e(n,t){return T3e(n,t,function(e,i){return A3e(n,i)})}wae.exports=R3e});var Sae=O((Wmi,Cae)=>{"use strict";var O3e=QV(),P3e=BV(),L3e=HV();function N3e(n){return L3e(P3e(n,void 0,O3e),n+"")}Cae.exports=N3e});var Iae=O((jmi,Dae)=>{"use strict";var F3e=xae(),z3e=Sae(),B3e=z3e(function(n,t){return n==null?{}:F3e(n,t)});Dae.exports=B3e});var Mae=O((Umi,Eae)=>{"use strict";var H3e=Math.ceil,V3e=Math.max;function W3e(n,t,e,i){for(var o=-1,r=V3e(H3e((t-n)/(e||1)),0),s=Array(r);r--;)s[i?r:++o]=n,n+=e;return s}Eae.exports=W3e});var Tae=O((qmi,kae)=>{"use strict";var j3e=Mae(),U3e=qw(),iW=ZV();function q3e(n){return function(t,e,i){return i&&typeof i!="number"&&U3e(t,e,i)&&(e=i=void 0),t=iW(t),e===void 0?(e=t,t=0):e=iW(e),i=i===void 0?t<e?1:-1:iW(i),j3e(t,e,i,n)}}kae.exports=q3e});var Rae=O((Gmi,Aae)=>{"use strict";var G3e=Tae(),$3e=G3e();Aae.exports=$3e});var Pae=O(($mi,Oae)=>{"use strict";function K3e(n,t){var e=n.length;for(n.sort(t);e--;)n[e]=n[e].value;return n}Oae.exports=K3e});var Fae=O((Kmi,Nae)=>{"use strict";var Lae=rp();function Y3e(n,t){if(n!==t){var e=n!==void 0,i=n===null,o=n===n,r=Lae(n),s=t!==void 0,a=t===null,l=t===t,c=Lae(t);if(!a&&!c&&!r&&n>t||r&&s&&l&&!a&&!c||i&&s&&l||!e&&l||!o)return 1;if(!i&&!r&&!c&&n<t||c&&e&&o&&!i&&!r||a&&e&&o||!s&&o||!l)return-1}return 0}Nae.exports=Y3e});var Bae=O((Ymi,zae)=>{"use strict";var X3e=Fae();function Z3e(n,t,e){for(var i=-1,o=n.criteria,r=t.criteria,s=o.length,a=e.length;++i<s;){var l=X3e(o[i],r[i]);if(l){if(i>=a)return l;var c=e[i];return l*(c=="desc"?-1:1)}}return n.index-t.index}zae.exports=Z3e});var Vae=O((Xmi,Hae)=>{"use strict";var nW=Bw(),Q3e=Vw(),J3e=lc(),eVe=PV(),tVe=Pae(),iVe=Rw(),nVe=Bae(),oVe=ah(),rVe=fo();function sVe(n,t,e){t.length?t=nW(t,function(r){return rVe(r)?function(s){return Q3e(s,r.length===1?r[0]:r)}:r}):t=[oVe];var i=-1;t=nW(t,iVe(J3e));var o=eVe(n,function(r,s,a){var l=nW(t,function(c){return c(r)});return{criteria:l,index:++i,value:r}});return tVe(o,function(r,s){return nVe(r,s,e)})}Hae.exports=sVe});var Uae=O((Zmi,jae)=>{"use strict";var aVe=WT(),lVe=Vae(),cVe=Ww(),Wae=qw(),dVe=cVe(function(n,t){if(n==null)return[];var e=t.length;return e>1&&Wae(n,t[0],t[1])?t=[]:e>2&&Wae(t[0],t[1],t[2])&&(t=[t[0]]),lVe(n,aVe(t,1),[])});jae.exports=dVe});var Gae=O((Qmi,qae)=>{"use strict";var uVe=EV(),hVe=0;function mVe(n){var t=++hVe;return uVe(n)+t}qae.exports=mVe});var Kae=O((Jmi,$ae)=>{"use strict";function pVe(n,t,e){for(var i=-1,o=n.length,r=t.length,s={};++i<o;){var a=i<r?t[i]:void 0;e(s,n[i],a)}return s}$ae.exports=pVe});var Xae=O((epi,Yae)=>{"use strict";var fVe=kw(),gVe=Kae();function _Ve(n,t){return gVe(n||[],t||[],fVe)}Yae.exports=_Ve});var Dn=O((tpi,Zae)=>{"use strict";var XT;if(typeof wa=="function")try{XT={cloneDeep:lse(),constant:LT(),defaults:hse(),each:_V(),filter:AV(),find:Tse(),flatten:QV(),forEach:gV(),forIn:Ose(),has:RV(),isUndefined:OV(),last:Lse(),map:LV(),mapValues:Fse(),max:Wse(),merge:lae(),min:uae(),minBy:mae(),now:fae(),pick:Iae(),range:Rae(),reduce:NV(),sortBy:Uae(),uniqueId:Gae(),values:UV(),zipObject:Xae()}}catch{}XT||(XT=window._);Zae.exports=XT});var ele=O((npi,Jae)=>{"use strict";Jae.exports=ZT;function ZT(){var n={};n._next=n._prev=n,this._sentinel=n}ZT.prototype.dequeue=function(){var n=this._sentinel,t=n._prev;if(t!==n)return Qae(t),t};ZT.prototype.enqueue=function(n){var t=this._sentinel;n._prev&&n._next&&Qae(n),n._next=t._next,t._next._prev=n,t._next=n,n._prev=t};ZT.prototype.toString=function(){for(var n=[],t=this._sentinel,e=t._prev;e!==t;)n.push(JSON.stringify(e,vVe)),e=e._prev;return"["+n.join(", ")+"]"};function Qae(n){n._prev._next=n._next,n._next._prev=n._prev,delete n._next,delete n._prev}function vVe(n,t){if(n!=="_next"&&n!=="_prev")return t}});var ile=O((opi,tle)=>{"use strict";var _d=Dn(),bVe=_a().Graph,yVe=ele();tle.exports=xVe;var wVe=_d.constant(1);function xVe(n,t){if(n.nodeCount()<=1)return[];var e=SVe(n,t||wVe),i=CVe(e.graph,e.buckets,e.zeroIdx);return _d.flatten(_d.map(i,function(o){return n.outEdges(o.v,o.w)}),!0)}function CVe(n,t,e){for(var i=[],o=t[t.length-1],r=t[0],s;n.nodeCount();){for(;s=r.dequeue();)oW(n,t,e,s);for(;s=o.dequeue();)oW(n,t,e,s);if(n.nodeCount()){for(var a=t.length-2;a>0;--a)if(s=t[a].dequeue(),s){i=i.concat(oW(n,t,e,s,!0));break}}}return i}function oW(n,t,e,i,o){var r=o?[]:void 0;return _d.forEach(n.inEdges(i.v),function(s){var a=n.edge(s),l=n.node(s.v);o&&r.push({v:s.v,w:s.w}),l.out-=a,rW(t,e,l)}),_d.forEach(n.outEdges(i.v),function(s){var a=n.edge(s),l=s.w,c=n.node(l);c.in-=a,rW(t,e,c)}),n.removeNode(i.v),r}function SVe(n,t){var e=new bVe,i=0,o=0;_d.forEach(n.nodes(),function(a){e.setNode(a,{v:a,in:0,out:0})}),_d.forEach(n.edges(),function(a){var l=e.edge(a.v,a.w)||0,c=t(a),d=l+c;e.setEdge(a.v,a.w,d),o=Math.max(o,e.node(a.v).out+=c),i=Math.max(i,e.node(a.w).in+=c)});var r=_d.range(o+i+3).map(function(){return new yVe}),s=i+1;return _d.forEach(e.nodes(),function(a){rW(r,s,e.node(a))}),{graph:e,buckets:r,zeroIdx:s}}function rW(n,t,e){e.out?e.in?n[e.out-e.in+t].enqueue(e):n[n.length-1].enqueue(e):n[0].enqueue(e)}});var ole=O((rpi,nle)=>{"use strict";var ap=Dn(),DVe=ile();nle.exports={run:IVe,undo:MVe};function IVe(n){var t=n.graph().acyclicer==="greedy"?DVe(n,e(n)):EVe(n);ap.forEach(t,function(i){var o=n.edge(i);n.removeEdge(i),o.forwardName=i.name,o.reversed=!0,n.setEdge(i.w,i.v,o,ap.uniqueId("rev"))});function e(i){return function(o){return i.edge(o).weight}}}function EVe(n){var t=[],e={},i={};function o(r){ap.has(i,r)||(i[r]=!0,e[r]=!0,ap.forEach(n.outEdges(r),function(s){ap.has(e,s.w)?t.push(s):o(s.w)}),delete e[r])}return ap.forEach(n.nodes(),o),t}function MVe(n){ap.forEach(n.edges(),function(t){var e=n.edge(t);if(e.reversed){n.removeEdge(t);var i=e.forwardName;delete e.reversed,delete e.forwardName,n.setEdge(t.w,t.v,e,i)}})}});var Ur=O((spi,lle)=>{"use strict";var Wi=Dn(),rle=_a().Graph;lle.exports={addDummyNode:sle,simplify:kVe,asNonCompoundGraph:TVe,successorWeights:AVe,predecessorWeights:RVe,intersectRect:OVe,buildLayerMatrix:PVe,normalizeRanks:LVe,removeEmptyRanks:NVe,addBorderNode:FVe,maxRank:ale,partition:zVe,time:BVe,notime:HVe};function sle(n,t,e,i){var o;do o=Wi.uniqueId(i);while(n.hasNode(o));return e.dummy=t,n.setNode(o,e),o}function kVe(n){var t=new rle().setGraph(n.graph());return Wi.forEach(n.nodes(),function(e){t.setNode(e,n.node(e))}),Wi.forEach(n.edges(),function(e){var i=t.edge(e.v,e.w)||{weight:0,minlen:1},o=n.edge(e);t.setEdge(e.v,e.w,{weight:i.weight+o.weight,minlen:Math.max(i.minlen,o.minlen)})}),t}function TVe(n){var t=new rle({multigraph:n.isMultigraph()}).setGraph(n.graph());return Wi.forEach(n.nodes(),function(e){n.children(e).length||t.setNode(e,n.node(e))}),Wi.forEach(n.edges(),function(e){t.setEdge(e,n.edge(e))}),t}function AVe(n){var t=Wi.map(n.nodes(),function(e){var i={};return Wi.forEach(n.outEdges(e),function(o){i[o.w]=(i[o.w]||0)+n.edge(o).weight}),i});return Wi.zipObject(n.nodes(),t)}function RVe(n){var t=Wi.map(n.nodes(),function(e){var i={};return Wi.forEach(n.inEdges(e),function(o){i[o.v]=(i[o.v]||0)+n.edge(o).weight}),i});return Wi.zipObject(n.nodes(),t)}function OVe(n,t){var e=n.x,i=n.y,o=t.x-e,r=t.y-i,s=n.width/2,a=n.height/2;if(!o&&!r)throw new Error("Not possible to find intersection inside of the rectangle");var l,c;return Math.abs(r)*s>Math.abs(o)*a?(r<0&&(a=-a),l=a*o/r,c=a):(o<0&&(s=-s),l=s,c=s*r/o),{x:e+l,y:i+c}}function PVe(n){var t=Wi.map(Wi.range(ale(n)+1),function(){return[]});return Wi.forEach(n.nodes(),function(e){var i=n.node(e),o=i.rank;Wi.isUndefined(o)||(t[o][i.order]=e)}),t}function LVe(n){var t=Wi.min(Wi.map(n.nodes(),function(e){return n.node(e).rank}));Wi.forEach(n.nodes(),function(e){var i=n.node(e);Wi.has(i,"rank")&&(i.rank-=t)})}function NVe(n){var t=Wi.min(Wi.map(n.nodes(),function(r){return n.node(r).rank})),e=[];Wi.forEach(n.nodes(),function(r){var s=n.node(r).rank-t;e[s]||(e[s]=[]),e[s].push(r)});var i=0,o=n.graph().nodeRankFactor;Wi.forEach(e,function(r,s){Wi.isUndefined(r)&&s%o!==0?--i:i&&Wi.forEach(r,function(a){n.node(a).rank+=i})})}function FVe(n,t,e,i){var o={width:0,height:0};return arguments.length>=4&&(o.rank=e,o.order=i),sle(n,"border",o,t)}function ale(n){return Wi.max(Wi.map(n.nodes(),function(t){var e=n.node(t).rank;if(!Wi.isUndefined(e))return e}))}function zVe(n,t){var e={lhs:[],rhs:[]};return Wi.forEach(n,function(i){t(i)?e.lhs.push(i):e.rhs.push(i)}),e}function BVe(n,t){var e=Wi.now();try{return t()}finally{console.log(n+" time: "+(Wi.now()-e)+"ms")}}function HVe(n,t){return t()}});var ule=O((api,dle)=>{"use strict";var cle=Dn(),VVe=Ur();dle.exports={run:WVe,undo:UVe};function WVe(n){n.graph().dummyChains=[],cle.forEach(n.edges(),function(t){jVe(n,t)})}function jVe(n,t){var e=t.v,i=n.node(e).rank,o=t.w,r=n.node(o).rank,s=t.name,a=n.edge(t),l=a.labelRank;if(r!==i+1){n.removeEdge(t);var c,d,u;for(u=0,++i;i<r;++u,++i)a.points=[],d={width:0,height:0,edgeLabel:a,edgeObj:t,rank:i},c=VVe.addDummyNode(n,"edge",d,"_d"),i===l&&(d.width=a.width,d.height=a.height,d.dummy="edge-label",d.labelpos=a.labelpos),n.setEdge(e,c,{weight:a.weight},s),u===0&&n.graph().dummyChains.push(c),e=c;n.setEdge(e,o,{weight:a.weight},s)}}function UVe(n){cle.forEach(n.graph().dummyChains,function(t){var e=n.node(t),i=e.edgeLabel,o;for(n.setEdge(e.edgeObj,i);e.dummy;)o=n.successors(t)[0],n.removeNode(t),i.points.push({x:e.x,y:e.y}),e.dummy==="edge-label"&&(i.x=e.x,i.y=e.y,i.width=e.width,i.height=e.height),t=o,e=n.node(t)})}});var Gw=O((lpi,hle)=>{"use strict";var QT=Dn();hle.exports={longestPath:qVe,slack:GVe};function qVe(n){var t={};function e(i){var o=n.node(i);if(QT.has(t,i))return o.rank;t[i]=!0;var r=QT.min(QT.map(n.outEdges(i),function(s){return e(s.w)-n.edge(s).minlen}));return(r===Number.POSITIVE_INFINITY||r===void 0||r===null)&&(r=0),o.rank=r}QT.forEach(n.sources(),e)}function GVe(n,t){return n.node(t.w).rank-n.node(t.v).rank-n.edge(t).minlen}});var sW=O((cpi,mle)=>{"use strict";var JT=Dn(),$Ve=_a().Graph,eA=Gw().slack;mle.exports=KVe;function KVe(n){var t=new $Ve({directed:!1}),e=n.nodes()[0],i=n.nodeCount();t.setNode(e,{});for(var o,r;YVe(t,n)<i;)o=XVe(t,n),r=t.hasNode(o.v)?eA(n,o):-eA(n,o),ZVe(t,n,r);return t}function YVe(n,t){function e(i){JT.forEach(t.nodeEdges(i),function(o){var r=o.v,s=i===r?o.w:r;!n.hasNode(s)&&!eA(t,o)&&(n.setNode(s,{}),n.setEdge(i,s,{}),e(s))})}return JT.forEach(n.nodes(),e),n.nodeCount()}function XVe(n,t){return JT.minBy(t.edges(),function(e){if(n.hasNode(e.v)!==n.hasNode(e.w))return eA(t,e)})}function ZVe(n,t,e){JT.forEach(n.nodes(),function(i){t.node(i).rank+=e})}});var wle=O((dpi,yle)=>{"use strict";var vd=Dn(),QVe=sW(),JVe=Gw().slack,eWe=Gw().longestPath,tWe=_a().alg.preorder,iWe=_a().alg.postorder,nWe=Ur().simplify;yle.exports=lp;lp.initLowLimValues=lW;lp.initCutValues=aW;lp.calcCutValue=fle;lp.leaveEdge=_le;lp.enterEdge=vle;lp.exchangeEdges=ble;function lp(n){n=nWe(n),eWe(n);var t=QVe(n);lW(t),aW(t,n);for(var e,i;e=_le(t);)i=vle(t,n,e),ble(t,n,e,i)}function aW(n,t){var e=iWe(n,n.nodes());e=e.slice(0,e.length-1),vd.forEach(e,function(i){oWe(n,t,i)})}function oWe(n,t,e){var i=n.node(e),o=i.parent;n.edge(e,o).cutvalue=fle(n,t,e)}function fle(n,t,e){var i=n.node(e),o=i.parent,r=!0,s=t.edge(e,o),a=0;return s||(r=!1,s=t.edge(o,e)),a=s.weight,vd.forEach(t.nodeEdges(e),function(l){var c=l.v===e,d=c?l.w:l.v;if(d!==o){var u=c===r,h=t.edge(l).weight;if(a+=u?h:-h,sWe(n,e,d)){var m=n.edge(e,d).cutvalue;a+=u?-m:m}}}),a}function lW(n,t){arguments.length<2&&(t=n.nodes()[0]),gle(n,{},1,t)}function gle(n,t,e,i,o){var r=e,s=n.node(i);return t[i]=!0,vd.forEach(n.neighbors(i),function(a){vd.has(t,a)||(e=gle(n,t,e,a,i))}),s.low=r,s.lim=e++,o?s.parent=o:delete s.parent,e}function _le(n){return vd.find(n.edges(),function(t){return n.edge(t).cutvalue<0})}function vle(n,t,e){var i=e.v,o=e.w;t.hasEdge(i,o)||(i=e.w,o=e.v);var r=n.node(i),s=n.node(o),a=r,l=!1;r.lim>s.lim&&(a=s,l=!0);var c=vd.filter(t.edges(),function(d){return l===ple(n,n.node(d.v),a)&&l!==ple(n,n.node(d.w),a)});return vd.minBy(c,function(d){return JVe(t,d)})}function ble(n,t,e,i){var o=e.v,r=e.w;n.removeEdge(o,r),n.setEdge(i.v,i.w,{}),lW(n),aW(n,t),rWe(n,t)}function rWe(n,t){var e=vd.find(n.nodes(),function(o){return!t.node(o).parent}),i=tWe(n,e);i=i.slice(1),vd.forEach(i,function(o){var r=n.node(o).parent,s=t.edge(o,r),a=!1;s||(s=t.edge(r,o),a=!0),t.node(o).rank=t.node(r).rank+(a?s.minlen:-s.minlen)})}function sWe(n,t,e){return n.hasEdge(t,e)}function ple(n,t,e){return e.low<=t.lim&&t.lim<=e.lim}});var Dle=O((upi,Sle)=>{"use strict";var aWe=Gw(),Cle=aWe.longestPath,lWe=sW(),cWe=wle();Sle.exports=dWe;function dWe(n){switch(n.graph().ranker){case"network-simplex":xle(n);break;case"tight-tree":hWe(n);break;case"longest-path":uWe(n);break;default:xle(n)}}var uWe=Cle;function hWe(n){Cle(n),lWe(n)}function xle(n){cWe(n)}});var Ele=O((hpi,Ile)=>{"use strict";var cW=Dn();Ile.exports=mWe;function mWe(n){var t=fWe(n);cW.forEach(n.graph().dummyChains,function(e){for(var i=n.node(e),o=i.edgeObj,r=pWe(n,t,o.v,o.w),s=r.path,a=r.lca,l=0,c=s[l],d=!0;e!==o.w;){if(i=n.node(e),d){for(;(c=s[l])!==a&&n.node(c).maxRank<i.rank;)l++;c===a&&(d=!1)}if(!d){for(;l<s.length-1&&n.node(c=s[l+1]).minRank<=i.rank;)l++;c=s[l]}n.setParent(e,c),e=n.successors(e)[0]}})}function pWe(n,t,e,i){var o=[],r=[],s=Math.min(t[e].low,t[i].low),a=Math.max(t[e].lim,t[i].lim),l,c;l=e;do l=n.parent(l),o.push(l);while(l&&(t[l].low>s||a>t[l].lim));for(c=l,l=i;(l=n.parent(l))!==c;)r.push(l);return{path:o.concat(r.reverse()),lca:c}}function fWe(n){var t={},e=0;function i(o){var r=e;cW.forEach(n.children(o),i),t[o]={low:r,lim:e++}}return cW.forEach(n.children(),i),t}});var Tle=O((mpi,kle)=>{"use strict";var bd=Dn(),dW=Ur();kle.exports={run:gWe,cleanup:bWe};function gWe(n){var t=dW.addDummyNode(n,"root",{},"_root"),e=_We(n),i=bd.max(bd.values(e))-1,o=2*i+1;n.graph().nestingRoot=t,bd.forEach(n.edges(),function(s){n.edge(s).minlen*=o});var r=vWe(n)+1;bd.forEach(n.children(),function(s){Mle(n,t,o,r,i,e,s)}),n.graph().nodeRankFactor=o}function Mle(n,t,e,i,o,r,s){var a=n.children(s);if(!a.length){s!==t&&n.setEdge(t,s,{weight:0,minlen:e});return}var l=dW.addBorderNode(n,"_bt"),c=dW.addBorderNode(n,"_bb"),d=n.node(s);n.setParent(l,s),d.borderTop=l,n.setParent(c,s),d.borderBottom=c,bd.forEach(a,function(u){Mle(n,t,e,i,o,r,u);var h=n.node(u),m=h.borderTop?h.borderTop:u,f=h.borderBottom?h.borderBottom:u,p=h.borderTop?i:2*i,g=m!==f?1:o-r[s]+1;n.setEdge(l,m,{weight:p,minlen:g,nestingEdge:!0}),n.setEdge(f,c,{weight:p,minlen:g,nestingEdge:!0})}),n.parent(s)||n.setEdge(t,l,{weight:0,minlen:o+r[s]})}function _We(n){var t={};function e(i,o){var r=n.children(i);r&&r.length&&bd.forEach(r,function(s){e(s,o+1)}),t[i]=o}return bd.forEach(n.children(),function(i){e(i,1)}),t}function vWe(n){return bd.reduce(n.edges(),function(t,e){return t+n.edge(e).weight},0)}function bWe(n){var t=n.graph();n.removeNode(t.nestingRoot),delete t.nestingRoot,bd.forEach(n.edges(),function(e){var i=n.edge(e);i.nestingEdge&&n.removeEdge(e)})}});var Ole=O((ppi,Rle)=>{"use strict";var uW=Dn(),yWe=Ur();Rle.exports=wWe;function wWe(n){function t(e){var i=n.children(e),o=n.node(e);if(i.length&&uW.forEach(i,t),uW.has(o,"minRank")){o.borderLeft=[],o.borderRight=[];for(var r=o.minRank,s=o.maxRank+1;r<s;++r)Ale(n,"borderLeft","_bl",e,o,r),Ale(n,"borderRight","_br",e,o,r)}}uW.forEach(n.children(),t)}function Ale(n,t,e,i,o,r){var s={width:0,height:0,rank:r,borderType:t},a=o[t][r-1],l=yWe.addDummyNode(n,"border",s,e);o[t][r]=l,n.setParent(l,i),a&&n.setEdge(a,l,{weight:1})}});var Fle=O((fpi,Nle)=>{"use strict";var dc=Dn();Nle.exports={adjust:xWe,undo:CWe};function xWe(n){var t=n.graph().rankdir.toLowerCase();(t==="lr"||t==="rl")&&Lle(n)}function CWe(n){var t=n.graph().rankdir.toLowerCase();(t==="bt"||t==="rl")&&SWe(n),(t==="lr"||t==="rl")&&(DWe(n),Lle(n))}function Lle(n){dc.forEach(n.nodes(),function(t){Ple(n.node(t))}),dc.forEach(n.edges(),function(t){Ple(n.edge(t))})}function Ple(n){var t=n.width;n.width=n.height,n.height=t}function SWe(n){dc.forEach(n.nodes(),function(t){hW(n.node(t))}),dc.forEach(n.edges(),function(t){var e=n.edge(t);dc.forEach(e.points,hW),dc.has(e,"y")&&hW(e)})}function hW(n){n.y=-n.y}function DWe(n){dc.forEach(n.nodes(),function(t){mW(n.node(t))}),dc.forEach(n.edges(),function(t){var e=n.edge(t);dc.forEach(e.points,mW),dc.has(e,"x")&&mW(e)})}function mW(n){var t=n.x;n.x=n.y,n.y=t}});var Ble=O((gpi,zle)=>{"use strict";var yd=Dn();zle.exports=IWe;function IWe(n){var t={},e=yd.filter(n.nodes(),function(a){return!n.children(a).length}),i=yd.max(yd.map(e,function(a){return n.node(a).rank})),o=yd.map(yd.range(i+1),function(){return[]});function r(a){if(!yd.has(t,a)){t[a]=!0;var l=n.node(a);o[l.rank].push(a),yd.forEach(n.successors(a),r)}}var s=yd.sortBy(e,function(a){return n.node(a).rank});return yd.forEach(s,r),o}});var Vle=O((_pi,Hle)=>{"use strict";var lh=Dn();Hle.exports=EWe;function EWe(n,t){for(var e=0,i=1;i<t.length;++i)e+=MWe(n,t[i-1],t[i]);return e}function MWe(n,t,e){for(var i=lh.zipObject(e,lh.map(e,function(c,d){return d})),o=lh.flatten(lh.map(t,function(c){return lh.sortBy(lh.map(n.outEdges(c),function(d){return{pos:i[d.w],weight:n.edge(d).weight}}),"pos")}),!0),r=1;r<e.length;)r<<=1;var s=2*r-1;r-=1;var a=lh.map(new Array(s),function(){return 0}),l=0;return lh.forEach(o.forEach(function(c){var d=c.pos+r;a[d]+=c.weight;for(var u=0;d>0;)d%2&&(u+=a[d+1]),d=d-1>>1,a[d]+=c.weight;l+=c.weight*u})),l}});var Ule=O((vpi,jle)=>{"use strict";var Wle=Dn();jle.exports=kWe;function kWe(n,t){return Wle.map(t,function(e){var i=n.inEdges(e);if(i.length){var o=Wle.reduce(i,function(r,s){var a=n.edge(s),l=n.node(s.v);return{sum:r.sum+a.weight*l.order,weight:r.weight+a.weight}},{sum:0,weight:0});return{v:e,barycenter:o.sum/o.weight,weight:o.weight}}else return{v:e}})}});var Gle=O((bpi,qle)=>{"use strict";var Hs=Dn();qle.exports=TWe;function TWe(n,t){var e={};Hs.forEach(n,function(o,r){var s=e[o.v]={indegree:0,in:[],out:[],vs:[o.v],i:r};Hs.isUndefined(o.barycenter)||(s.barycenter=o.barycenter,s.weight=o.weight)}),Hs.forEach(t.edges(),function(o){var r=e[o.v],s=e[o.w];!Hs.isUndefined(r)&&!Hs.isUndefined(s)&&(s.indegree++,r.out.push(e[o.w]))});var i=Hs.filter(e,function(o){return!o.indegree});return AWe(i)}function AWe(n){var t=[];function e(r){return function(s){s.merged||(Hs.isUndefined(s.barycenter)||Hs.isUndefined(r.barycenter)||s.barycenter>=r.barycenter)&&RWe(r,s)}}function i(r){return function(s){s.in.push(r),--s.indegree===0&&n.push(s)}}for(;n.length;){var o=n.pop();t.push(o),Hs.forEach(o.in.reverse(),e(o)),Hs.forEach(o.out,i(o))}return Hs.map(Hs.filter(t,function(r){return!r.merged}),function(r){return Hs.pick(r,["vs","i","barycenter","weight"])})}function RWe(n,t){var e=0,i=0;n.weight&&(e+=n.barycenter*n.weight,i+=n.weight),t.weight&&(e+=t.barycenter*t.weight,i+=t.weight),n.vs=t.vs.concat(n.vs),n.barycenter=e/i,n.weight=i,n.i=Math.min(t.i,n.i),t.merged=!0}});var Yle=O((ypi,Kle)=>{"use strict";var $w=Dn(),OWe=Ur();Kle.exports=PWe;function PWe(n,t){var e=OWe.partition(n,function(d){return $w.has(d,"barycenter")}),i=e.lhs,o=$w.sortBy(e.rhs,function(d){return-d.i}),r=[],s=0,a=0,l=0;i.sort(LWe(!!t)),l=$le(r,o,l),$w.forEach(i,function(d){l+=d.vs.length,r.push(d.vs),s+=d.barycenter*d.weight,a+=d.weight,l=$le(r,o,l)});var c={vs:$w.flatten(r,!0)};return a&&(c.barycenter=s/a,c.weight=a),c}function $le(n,t,e){for(var i;t.length&&(i=$w.last(t)).i<=e;)t.pop(),n.push(i.vs),e++;return e}function LWe(n){return function(t,e){return t.barycenter<e.barycenter?-1:t.barycenter>e.barycenter?1:n?e.i-t.i:t.i-e.i}}});var Qle=O((wpi,Zle)=>{"use strict";var ch=Dn(),NWe=Ule(),FWe=Gle(),zWe=Yle();Zle.exports=Xle;function Xle(n,t,e,i){var o=n.children(t),r=n.node(t),s=r?r.borderLeft:void 0,a=r?r.borderRight:void 0,l={};s&&(o=ch.filter(o,function(f){return f!==s&&f!==a}));var c=NWe(n,o);ch.forEach(c,function(f){if(n.children(f.v).length){var p=Xle(n,f.v,e,i);l[f.v]=p,ch.has(p,"barycenter")&&HWe(f,p)}});var d=FWe(c,e);BWe(d,l);var u=zWe(d,i);if(s&&(u.vs=ch.flatten([s,u.vs,a],!0),n.predecessors(s).length)){var h=n.node(n.predecessors(s)[0]),m=n.node(n.predecessors(a)[0]);ch.has(u,"barycenter")||(u.barycenter=0,u.weight=0),u.barycenter=(u.barycenter*u.weight+h.order+m.order)/(u.weight+2),u.weight+=2}return u}function BWe(n,t){ch.forEach(n,function(e){e.vs=ch.flatten(e.vs.map(function(i){return t[i]?t[i].vs:i}),!0)})}function HWe(n,t){ch.isUndefined(n.barycenter)?(n.barycenter=t.barycenter,n.weight=t.weight):(n.barycenter=(n.barycenter*n.weight+t.barycenter*t.weight)/(n.weight+t.weight),n.weight+=t.weight)}});var ece=O((xpi,Jle)=>{"use strict";var Kw=Dn(),VWe=_a().Graph;Jle.exports=WWe;function WWe(n,t,e){var i=jWe(n),o=new VWe({compound:!0}).setGraph({root:i}).setDefaultNodeLabel(function(r){return n.node(r)});return Kw.forEach(n.nodes(),function(r){var s=n.node(r),a=n.parent(r);(s.rank===t||s.minRank<=t&&t<=s.maxRank)&&(o.setNode(r),o.setParent(r,a||i),Kw.forEach(n[e](r),function(l){var c=l.v===r?l.w:l.v,d=o.edge(c,r),u=Kw.isUndefined(d)?0:d.weight;o.setEdge(c,r,{weight:n.edge(l).weight+u})}),Kw.has(s,"minRank")&&o.setNode(r,{borderLeft:s.borderLeft[t],borderRight:s.borderRight[t]}))}),o}function jWe(n){for(var t;n.hasNode(t=Kw.uniqueId("_root")););return t}});var ice=O((Cpi,tce)=>{"use strict";var UWe=Dn();tce.exports=qWe;function qWe(n,t,e){var i={},o;UWe.forEach(e,function(r){for(var s=n.parent(r),a,l;s;){if(a=n.parent(s),a?(l=i[a],i[a]=s):(l=o,o=s),l&&l!==s){t.setEdge(l,s);return}s=a}})}});var ace=O((Spi,sce)=>{"use strict";var dh=Dn(),GWe=Ble(),$We=Vle(),KWe=Qle(),YWe=ece(),XWe=ice(),ZWe=_a().Graph,nce=Ur();sce.exports=QWe;function QWe(n){var t=nce.maxRank(n),e=oce(n,dh.range(1,t+1),"inEdges"),i=oce(n,dh.range(t-1,-1,-1),"outEdges"),o=GWe(n);rce(n,o);for(var r=Number.POSITIVE_INFINITY,s,a=0,l=0;l<4;++a,++l){JWe(a%2?e:i,a%4>=2),o=nce.buildLayerMatrix(n);var c=$We(n,o);c<r&&(l=0,s=dh.cloneDeep(o),r=c)}rce(n,s)}function oce(n,t,e){return dh.map(t,function(i){return YWe(n,i,e)})}function JWe(n,t){var e=new ZWe;dh.forEach(n,function(i){var o=i.graph().root,r=KWe(i,o,e,t);dh.forEach(r.vs,function(s,a){i.node(s).order=a}),XWe(i,e,r.vs)})}function rce(n,t){dh.forEach(t,function(e){dh.forEach(e,function(i,o){n.node(i).order=o})})}});var _ce=O((Dpi,gce)=>{"use strict";var ei=Dn(),eje=_a().Graph,tje=Ur();gce.exports={positionX:oje,findType1Conflicts:lce,findType2Conflicts:cce,addConflict:pW,hasConflict:dce,verticalAlignment:uce,horizontalCompaction:hce,alignCoordinates:pce,findSmallestWidthAlignment:mce,balance:fce};function lce(n,t){var e={};function i(o,r){var s=0,a=0,l=o.length,c=ei.last(r);return ei.forEach(r,function(d,u){var h=ije(n,d),m=h?n.node(h).order:l;(h||d===c)&&(ei.forEach(r.slice(a,u+1),function(f){ei.forEach(n.predecessors(f),function(p){var g=n.node(p),v=g.order;(v<s||m<v)&&!(g.dummy&&n.node(f).dummy)&&pW(e,p,f)})}),a=u+1,s=m)}),r}return ei.reduce(t,i),e}function cce(n,t){var e={};function i(r,s,a,l,c){var d;ei.forEach(ei.range(s,a),function(u){d=r[u],n.node(d).dummy&&ei.forEach(n.predecessors(d),function(h){var m=n.node(h);m.dummy&&(m.order<l||m.order>c)&&pW(e,h,d)})})}function o(r,s){var a=-1,l,c=0;return ei.forEach(s,function(d,u){if(n.node(d).dummy==="border"){var h=n.predecessors(d);h.length&&(l=n.node(h[0]).order,i(s,c,u,a,l),c=u,a=l)}i(s,c,s.length,l,r.length)}),s}return ei.reduce(t,o),e}function ije(n,t){if(n.node(t).dummy)return ei.find(n.predecessors(t),function(e){return n.node(e).dummy})}function pW(n,t,e){if(t>e){var i=t;t=e,e=i}var o=n[t];o||(n[t]=o={}),o[e]=!0}function dce(n,t,e){if(t>e){var i=t;t=e,e=i}return ei.has(n[t],e)}function uce(n,t,e,i){var o={},r={},s={};return ei.forEach(t,function(a){ei.forEach(a,function(l,c){o[l]=l,r[l]=l,s[l]=c})}),ei.forEach(t,function(a){var l=-1;ei.forEach(a,function(c){var d=i(c);if(d.length){d=ei.sortBy(d,function(p){return s[p]});for(var u=(d.length-1)/2,h=Math.floor(u),m=Math.ceil(u);h<=m;++h){var f=d[h];r[c]===c&&l<s[f]&&!dce(e,c,f)&&(r[f]=c,r[c]=o[c]=o[f],l=s[f])}}})}),{root:o,align:r}}function hce(n,t,e,i,o){var r={},s=nje(n,t,e,o),a=o?"borderLeft":"borderRight";function l(u,h){for(var m=s.nodes(),f=m.pop(),p={};f;)p[f]?u(f):(p[f]=!0,m.push(f),m=m.concat(h(f))),f=m.pop()}function c(u){r[u]=s.inEdges(u).reduce(function(h,m){return Math.max(h,r[m.v]+s.edge(m))},0)}function d(u){var h=s.outEdges(u).reduce(function(f,p){return Math.min(f,r[p.w]-s.edge(p))},Number.POSITIVE_INFINITY),m=n.node(u);h!==Number.POSITIVE_INFINITY&&m.borderType!==a&&(r[u]=Math.max(r[u],h))}return l(c,s.predecessors.bind(s)),l(d,s.successors.bind(s)),ei.forEach(i,function(u){r[u]=r[e[u]]}),r}function nje(n,t,e,i){var o=new eje,r=n.graph(),s=rje(r.nodesep,r.edgesep,i);return ei.forEach(t,function(a){var l;ei.forEach(a,function(c){var d=e[c];if(o.setNode(d),l){var u=e[l],h=o.edge(u,d);o.setEdge(u,d,Math.max(s(n,c,l),h||0))}l=c})}),o}function mce(n,t){return ei.minBy(ei.values(t),function(e){var i=Number.NEGATIVE_INFINITY,o=Number.POSITIVE_INFINITY;return ei.forIn(e,function(r,s){var a=sje(n,s)/2;i=Math.max(r+a,i),o=Math.min(r-a,o)}),i-o})}function pce(n,t){var e=ei.values(t),i=ei.min(e),o=ei.max(e);ei.forEach(["u","d"],function(r){ei.forEach(["l","r"],function(s){var a=r+s,l=n[a],c;if(l!==t){var d=ei.values(l);c=s==="l"?i-ei.min(d):o-ei.max(d),c&&(n[a]=ei.mapValues(l,function(u){return u+c}))}})})}function fce(n,t){return ei.mapValues(n.ul,function(e,i){if(t)return n[t.toLowerCase()][i];var o=ei.sortBy(ei.map(n,i));return(o[1]+o[2])/2})}function oje(n){var t=tje.buildLayerMatrix(n),e=ei.merge(lce(n,t),cce(n,t)),i={},o;ei.forEach(["u","d"],function(s){o=s==="u"?t:ei.values(t).reverse(),ei.forEach(["l","r"],function(a){a==="r"&&(o=ei.map(o,function(u){return ei.values(u).reverse()}));var l=(s==="u"?n.predecessors:n.successors).bind(n),c=uce(n,o,e,l),d=hce(n,o,c.root,c.align,a==="r");a==="r"&&(d=ei.mapValues(d,function(u){return-u})),i[s+a]=d})});var r=mce(n,i);return pce(i,r),fce(i,n.graph().align)}function rje(n,t,e){return function(i,o,r){var s=i.node(o),a=i.node(r),l=0,c;if(l+=s.width/2,ei.has(s,"labelpos"))switch(s.labelpos.toLowerCase()){case"l":c=-s.width/2;break;case"r":c=s.width/2;break}if(c&&(l+=e?c:-c),c=0,l+=(s.dummy?t:n)/2,l+=(a.dummy?t:n)/2,l+=a.width/2,ei.has(a,"labelpos"))switch(a.labelpos.toLowerCase()){case"l":c=a.width/2;break;case"r":c=-a.width/2;break}return c&&(l+=e?c:-c),c=0,l}}function sje(n,t){return n.node(t).width}});var yce=O((Ipi,bce)=>{"use strict";var Yw=Dn(),vce=Ur(),aje=_ce().positionX;bce.exports=lje;function lje(n){n=vce.asNonCompoundGraph(n),cje(n),Yw.forEach(aje(n),function(t,e){n.node(e).x=t})}function cje(n){var t=vce.buildLayerMatrix(n),e=n.graph().ranksep,i=0;Yw.forEach(t,function(o){var r=Yw.max(Yw.map(o,function(s){return n.node(s).height}));Yw.forEach(o,function(s){n.node(s).y=i+r/2}),i+=r+e})}});var Ice=O((Epi,Dce)=>{"use strict";var wi=Dn(),wce=ole(),xce=ule(),dje=Dle(),uje=Ur().normalizeRanks,hje=Ele(),mje=Ur().removeEmptyRanks,Cce=Tle(),pje=Ole(),Sce=Fle(),fje=ace(),gje=yce(),uh=Ur(),_je=_a().Graph;Dce.exports=vje;function vje(n,t){var e=t&&t.debugTiming?uh.time:uh.notime;e("layout",function(){var i=e("  buildLayoutGraph",function(){return kje(n)});e("  runLayout",function(){bje(i,e)}),e("  updateInputGraph",function(){yje(n,i)})})}function bje(n,t){t("    makeSpaceForEdgeLabels",function(){Tje(n)}),t("    removeSelfEdges",function(){Bje(n)}),t("    acyclic",function(){wce.run(n)}),t("    nestingGraph.run",function(){Cce.run(n)}),t("    rank",function(){dje(uh.asNonCompoundGraph(n))}),t("    injectEdgeLabelProxies",function(){Aje(n)}),t("    removeEmptyRanks",function(){mje(n)}),t("    nestingGraph.cleanup",function(){Cce.cleanup(n)}),t("    normalizeRanks",function(){uje(n)}),t("    assignRankMinMax",function(){Rje(n)}),t("    removeEdgeLabelProxies",function(){Oje(n)}),t("    normalize.run",function(){xce.run(n)}),t("    parentDummyChains",function(){hje(n)}),t("    addBorderSegments",function(){pje(n)}),t("    order",function(){fje(n)}),t("    insertSelfEdges",function(){Hje(n)}),t("    adjustCoordinateSystem",function(){Sce.adjust(n)}),t("    position",function(){gje(n)}),t("    positionSelfEdges",function(){Vje(n)}),t("    removeBorderNodes",function(){zje(n)}),t("    normalize.undo",function(){xce.undo(n)}),t("    fixupEdgeLabelCoords",function(){Nje(n)}),t("    undoCoordinateSystem",function(){Sce.undo(n)}),t("    translateGraph",function(){Pje(n)}),t("    assignNodeIntersects",function(){Lje(n)}),t("    reversePoints",function(){Fje(n)}),t("    acyclic.undo",function(){wce.undo(n)})}function yje(n,t){wi.forEach(n.nodes(),function(e){var i=n.node(e),o=t.node(e);i&&(i.x=o.x,i.y=o.y,t.children(e).length&&(i.width=o.width,i.height=o.height))}),wi.forEach(n.edges(),function(e){var i=n.edge(e),o=t.edge(e);i.points=o.points,wi.has(o,"x")&&(i.x=o.x,i.y=o.y)}),n.graph().width=t.graph().width,n.graph().height=t.graph().height}var wje=["nodesep","edgesep","ranksep","marginx","marginy"],xje={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},Cje=["acyclicer","ranker","rankdir","align"],Sje=["width","height"],Dje={width:0,height:0},Ije=["minlen","weight","width","height","labeloffset"],Eje={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},Mje=["labelpos"];function kje(n){var t=new _je({multigraph:!0,compound:!0}),e=gW(n.graph());return t.setGraph(wi.merge({},xje,fW(e,wje),wi.pick(e,Cje))),wi.forEach(n.nodes(),function(i){var o=gW(n.node(i));t.setNode(i,wi.defaults(fW(o,Sje),Dje)),t.setParent(i,n.parent(i))}),wi.forEach(n.edges(),function(i){var o=gW(n.edge(i));t.setEdge(i,wi.merge({},Eje,fW(o,Ije),wi.pick(o,Mje)))}),t}function Tje(n){var t=n.graph();t.ranksep/=2,wi.forEach(n.edges(),function(e){var i=n.edge(e);i.minlen*=2,i.labelpos.toLowerCase()!=="c"&&(t.rankdir==="TB"||t.rankdir==="BT"?i.width+=i.labeloffset:i.height+=i.labeloffset)})}function Aje(n){wi.forEach(n.edges(),function(t){var e=n.edge(t);if(e.width&&e.height){var i=n.node(t.v),o=n.node(t.w),r={rank:(o.rank-i.rank)/2+i.rank,e:t};uh.addDummyNode(n,"edge-proxy",r,"_ep")}})}function Rje(n){var t=0;wi.forEach(n.nodes(),function(e){var i=n.node(e);i.borderTop&&(i.minRank=n.node(i.borderTop).rank,i.maxRank=n.node(i.borderBottom).rank,t=wi.max(t,i.maxRank))}),n.graph().maxRank=t}function Oje(n){wi.forEach(n.nodes(),function(t){var e=n.node(t);e.dummy==="edge-proxy"&&(n.edge(e.e).labelRank=e.rank,n.removeNode(t))})}function Pje(n){var t=Number.POSITIVE_INFINITY,e=0,i=Number.POSITIVE_INFINITY,o=0,r=n.graph(),s=r.marginx||0,a=r.marginy||0;function l(c){var d=c.x,u=c.y,h=c.width,m=c.height;t=Math.min(t,d-h/2),e=Math.max(e,d+h/2),i=Math.min(i,u-m/2),o=Math.max(o,u+m/2)}wi.forEach(n.nodes(),function(c){l(n.node(c))}),wi.forEach(n.edges(),function(c){var d=n.edge(c);wi.has(d,"x")&&l(d)}),t-=s,i-=a,wi.forEach(n.nodes(),function(c){var d=n.node(c);d.x-=t,d.y-=i}),wi.forEach(n.edges(),function(c){var d=n.edge(c);wi.forEach(d.points,function(u){u.x-=t,u.y-=i}),wi.has(d,"x")&&(d.x-=t),wi.has(d,"y")&&(d.y-=i)}),r.width=e-t+s,r.height=o-i+a}function Lje(n){wi.forEach(n.edges(),function(t){var e=n.edge(t),i=n.node(t.v),o=n.node(t.w),r,s;e.points?(r=e.points[0],s=e.points[e.points.length-1]):(e.points=[],r=o,s=i),e.points.unshift(uh.intersectRect(i,r)),e.points.push(uh.intersectRect(o,s))})}function Nje(n){wi.forEach(n.edges(),function(t){var e=n.edge(t);if(wi.has(e,"x"))switch((e.labelpos==="l"||e.labelpos==="r")&&(e.width-=e.labeloffset),e.labelpos){case"l":e.x-=e.width/2+e.labeloffset;break;case"r":e.x+=e.width/2+e.labeloffset;break}})}function Fje(n){wi.forEach(n.edges(),function(t){var e=n.edge(t);e.reversed&&e.points.reverse()})}function zje(n){wi.forEach(n.nodes(),function(t){if(n.children(t).length){var e=n.node(t),i=n.node(e.borderTop),o=n.node(e.borderBottom),r=n.node(wi.last(e.borderLeft)),s=n.node(wi.last(e.borderRight));e.width=Math.abs(s.x-r.x),e.height=Math.abs(o.y-i.y),e.x=r.x+e.width/2,e.y=i.y+e.height/2}}),wi.forEach(n.nodes(),function(t){n.node(t).dummy==="border"&&n.removeNode(t)})}function Bje(n){wi.forEach(n.edges(),function(t){if(t.v===t.w){var e=n.node(t.v);e.selfEdges||(e.selfEdges=[]),e.selfEdges.push({e:t,label:n.edge(t)}),n.removeEdge(t)}})}function Hje(n){var t=uh.buildLayerMatrix(n);wi.forEach(t,function(e){var i=0;wi.forEach(e,function(o,r){var s=n.node(o);s.order=r+i,wi.forEach(s.selfEdges,function(a){uh.addDummyNode(n,"selfedge",{width:a.label.width,height:a.label.height,rank:s.rank,order:r+ ++i,e:a.e,label:a.label},"_se")}),delete s.selfEdges})})}function Vje(n){wi.forEach(n.nodes(),function(t){var e=n.node(t);if(e.dummy==="selfedge"){var i=n.node(e.e.v),o=i.x+i.width/2,r=i.y,s=e.x-o,a=i.height/2;n.setEdge(e.e,e.label),n.removeNode(t),e.label.points=[{x:o+2*s/3,y:r-a},{x:o+5*s/6,y:r-a},{x:o+s,y:r},{x:o+5*s/6,y:r+a},{x:o+2*s/3,y:r+a}],e.label.x=e.x,e.label.y=e.y}})}function fW(n,t){return wi.mapValues(wi.pick(n,t),Number)}function gW(n){var t={};return wi.forEach(n,function(e,i){t[i.toLowerCase()]=e}),t}});var Mce=O((Mpi,Ece)=>{"use strict";var tA=Dn(),Wje=Ur(),jje=_a().Graph;Ece.exports={debugOrdering:Uje};function Uje(n){var t=Wje.buildLayerMatrix(n),e=new jje({compound:!0,multigraph:!0}).setGraph({});return tA.forEach(n.nodes(),function(i){e.setNode(i,{label:i}),e.setParent(i,"layer"+n.node(i).rank)}),tA.forEach(n.edges(),function(i){e.setEdge(i.v,i.w,{},i.name)}),tA.forEach(t,function(i,o){var r="layer"+o;e.setNode(r,{rank:"same"}),tA.reduce(i,function(s,a){return e.setEdge(s,a,{style:"invis"}),a})}),e}});var Tce=O((kpi,kce)=>{"use strict";kce.exports="0.8.5"});var Rce=O((Tpi,Ace)=>{"use strict";Ace.exports={graphlib:_a(),layout:Ice(),debug:Mce(),util:{time:Ur().time,notime:Ur().notime},version:Tce()}});var yW=O(hh=>{"use strict";Object.defineProperty(hh,"__esModule",{value:!0});var bW=function(){function n(t,e,i){this.source=t,this.target=e,this.type=i}return n}();hh.PowerEdge=bW;var rde=function(){function n(t,e,i,o){var r=this;if(this.linkAccessor=i,this.modules=new Array(t),this.roots=[],o)this.initModulesFromGroup(o);else{this.roots.push(new V_);for(var s=0;s<t;++s)this.roots[0].add(this.modules[s]=new Xw(s))}this.R=e.length,e.forEach(function(a){var l=r.modules[i.getSourceIndex(a)],c=r.modules[i.getTargetIndex(a)],d=i.getType(a);l.outgoing.add(d,c),c.incoming.add(d,l)})}return n.prototype.initModulesFromGroup=function(t){var e=new V_;this.roots.push(e);for(var i=0;i<t.leaves.length;++i){var o=t.leaves[i],r=new Xw(o.id);this.modules[o.id]=r,e.add(r)}if(t.groups)for(var s=0;s<t.groups.length;++s){var a=t.groups[s],l={};for(var c in a)c!=="leaves"&&c!=="groups"&&a.hasOwnProperty(c)&&(l[c]=a[c]);e.add(new Xw(-1-s,new Zw,new Zw,this.initModulesFromGroup(a),l))}return e},n.prototype.merge=function(t,e,i){i===void 0&&(i=0);var o=t.incoming.intersection(e.incoming),r=t.outgoing.intersection(e.outgoing),s=new V_;s.add(t),s.add(e);var a=new Xw(this.modules.length,r,o,s);this.modules.push(a);var l=function(c,d,u){c.forAll(function(h,m){h.forAll(function(f){var p=f[d];p.add(m,a),p.remove(m,t),p.remove(m,e),t[u].remove(m,f),e[u].remove(m,f)})})};return l(r,"incoming","outgoing"),l(o,"outgoing","incoming"),this.R-=o.count()+r.count(),this.roots[i].remove(t),this.roots[i].remove(e),this.roots[i].add(a),a},n.prototype.rootMerges=function(t){t===void 0&&(t=0);for(var e=this.roots[t].modules(),i=e.length,o=new Array(i*(i-1)),r=0,s=0,a=i-1;s<a;++s)for(var l=s+1;l<i;++l){var c=e[s],d=e[l];o[r]={id:r,nEdges:this.nEdges(c,d),a:c,b:d},r++}return o},n.prototype.greedyMerge=function(){for(var t=0;t<this.roots.length;++t)if(!(this.roots[t].modules().length<2)){var e=this.rootMerges(t).sort(function(o,r){return o.nEdges==r.nEdges?o.id-r.id:o.nEdges-r.nEdges}),i=e[0];if(!(i.nEdges>=this.R))return this.merge(i.a,i.b,t),!0}},n.prototype.nEdges=function(t,e){var i=t.incoming.intersection(e.incoming),o=t.outgoing.intersection(e.outgoing);return this.R-i.count()-o.count()},n.prototype.getGroupHierarchy=function(t){var e=this,i=[],o={};sde(this.roots[0],o,i);var r=this.allEdges();return r.forEach(function(s){var a=e.modules[s.source],l=e.modules[s.target];t.push(new bW(typeof a.gid>"u"?s.source:i[a.gid],typeof l.gid>"u"?s.target:i[l.gid],s.type))}),i},n.prototype.allEdges=function(){var t=[];return n.getEdges(this.roots[0],t),t},n.getEdges=function(t,e){t.forAll(function(i){i.getEdges(e),n.getEdges(i.children,e)})},n}();hh.Configuration=rde;function sde(n,t,e){n.forAll(function(i){if(i.isLeaf())t.leaves||(t.leaves=[]),t.leaves.push(i.id);else{var o=t;if(i.gid=e.length,!i.isIsland()||i.isPredefined()){if(o={id:i.gid},i.isPredefined())for(var r in i.definition)o[r]=i.definition[r];t.groups||(t.groups=[]),t.groups.push(i.gid),e.push(o)}sde(i.children,o,e)}})}var Xw=function(){function n(t,e,i,o,r){e===void 0&&(e=new Zw),i===void 0&&(i=new Zw),o===void 0&&(o=new V_),this.id=t,this.outgoing=e,this.incoming=i,this.children=o,this.definition=r}return n.prototype.getEdges=function(t){var e=this;this.outgoing.forAll(function(i,o){i.forAll(function(r){t.push(new bW(e.id,r.id,o))})})},n.prototype.isLeaf=function(){return this.children.count()===0},n.prototype.isIsland=function(){return this.outgoing.count()===0&&this.incoming.count()===0},n.prototype.isPredefined=function(){return typeof this.definition<"u"},n}();hh.Module=Xw;function Xje(n,t){var e={};for(var i in n)i in t&&(e[i]=n[i]);return e}var V_=function(){function n(){this.table={}}return n.prototype.count=function(){return Object.keys(this.table).length},n.prototype.intersection=function(t){var e=new n;return e.table=Xje(this.table,t.table),e},n.prototype.intersectionCount=function(t){return this.intersection(t).count()},n.prototype.contains=function(t){return t in this.table},n.prototype.add=function(t){this.table[t.id]=t},n.prototype.remove=function(t){delete this.table[t.id]},n.prototype.forAll=function(t){for(var e in this.table)t(this.table[e])},n.prototype.modules=function(){var t=[];return this.forAll(function(e){e.isPredefined()||t.push(e)}),t},n}();hh.ModuleSet=V_;var Zw=function(){function n(){this.sets={},this.n=0}return n.prototype.count=function(){return this.n},n.prototype.contains=function(t){var e=!1;return this.forAllModules(function(i){!e&&i.id==t&&(e=!0)}),e},n.prototype.add=function(t,e){var i=t in this.sets?this.sets[t]:this.sets[t]=new V_;i.add(e),++this.n},n.prototype.remove=function(t,e){var i=this.sets[t];i.remove(e),i.count()===0&&delete this.sets[t],--this.n},n.prototype.forAll=function(t){for(var e in this.sets)t(this.sets[e],Number(e))},n.prototype.forAllModules=function(t){this.forAll(function(e,i){return e.forAll(t)})},n.prototype.intersection=function(t){var e=new n;return this.forAll(function(i,o){if(o in t.sets){var r=i.intersection(t.sets[o]),s=r.count();s>0&&(e.sets[o]=r,e.n+=s)}}),e},n}();hh.LinkSets=Zw;function Zje(n,t,e,i){for(var o=n.length,r=new rde(o,t,e,i);r.greedyMerge(););var s=[],a=r.getGroupHierarchy(s);return s.forEach(function(l){var c=function(d){var u=l[d];typeof u=="number"&&(l[d]=n[u])};c("source"),c("target")}),{groups:a,powerEdges:s}}hh.getGroups=Zje});var iA=O(W_=>{"use strict";Object.defineProperty(W_,"__esModule",{value:!0});function ade(n,t){var e={};for(var i in n)e[i]={};for(var i in t)e[i]={};return Object.keys(e).length}function lde(n,t){var e=0;for(var i in n)typeof t[i]<"u"&&++e;return e}function Qje(n,t){var e={},i=function(o,r){typeof e[o]>"u"&&(e[o]={}),e[o][r]={}};return n.forEach(function(o){var r=t.getSourceIndex(o),s=t.getTargetIndex(o);i(r,s),i(s,r)}),e}function cde(n,t,e,i){var o=Qje(n,i);n.forEach(function(r){var s=o[i.getSourceIndex(r)],a=o[i.getTargetIndex(r)];i.setLength(r,1+t*e(s,a))})}function Jje(n,t,e){e===void 0&&(e=1),cde(n,e,function(i,o){return Math.sqrt(ade(i,o)-lde(i,o))},t)}W_.symmetricDiffLinkLengths=Jje;function e4e(n,t,e){e===void 0&&(e=1),cde(n,e,function(i,o){return Math.min(Object.keys(i).length,Object.keys(o).length)<1.1?0:lde(i,o)/ade(i,o)},t)}W_.jaccardLinkLengths=e4e;function t4e(n,t,e,i){var o=dde(n,t,i),r={};o.forEach(function(a,l){return a.forEach(function(c){return r[c]=l})});var s=[];return t.forEach(function(a){var l=i.getSourceIndex(a),c=i.getTargetIndex(a),d=r[l],u=r[c];d!==u&&s.push({axis:e,left:l,right:c,gap:i.getMinSeparation(a)})}),s}W_.generateDirectedEdgeConstraints=t4e;function dde(n,t,e){var i=[],o=0,r=[],s=[];function a(v){v.index=v.lowlink=o++,r.push(v),v.onStack=!0;for(var b=0,C=v.out;b<C.length;b++){var k=C[b];typeof k.index>"u"?(a(k),v.lowlink=Math.min(v.lowlink,k.lowlink)):k.onStack&&(v.lowlink=Math.min(v.lowlink,k.index))}if(v.lowlink===v.index){for(var E=[];r.length&&(k=r.pop(),k.onStack=!1,E.push(k),k!==v););s.push(E.map(function(F){return F.id}))}}for(var l=0;l<n;l++)i.push({id:l,out:[]});for(var c=0,d=t;c<d.length;c++){var u=d[c],h=i[e.getSourceIndex(u)],m=i[e.getTargetIndex(u)];h.out.push(m)}for(var f=0,p=i;f<p.length;f++){var g=p[f];typeof g.index>"u"&&a(g)}return s}W_.stronglyConnectedComponents=dde});var nA=O(Qw=>{"use strict";Object.defineProperty(Qw,"__esModule",{value:!0});var ude=function(){function n(){this.locks={}}return n.prototype.add=function(t,e){this.locks[t]=e},n.prototype.clear=function(){this.locks={}},n.prototype.isEmpty=function(){for(var t in this.locks)return!1;return!0},n.prototype.apply=function(t){for(var e in this.locks)t(Number(e),this.locks[e])},n}();Qw.Locks=ude;var i4e=function(){function n(t,e,i){i===void 0&&(i=null),this.D=e,this.G=i,this.threshold=1e-4,this.numGridSnapNodes=0,this.snapGridSize=100,this.snapStrength=1e3,this.scaleSnapByMaxH=!1,this.random=new hde,this.project=null,this.x=t,this.k=t.length;var o=this.n=t[0].length;this.H=new Array(this.k),this.g=new Array(this.k),this.Hd=new Array(this.k),this.a=new Array(this.k),this.b=new Array(this.k),this.c=new Array(this.k),this.d=new Array(this.k),this.e=new Array(this.k),this.ia=new Array(this.k),this.ib=new Array(this.k),this.xtmp=new Array(this.k),this.locks=new ude,this.minD=Number.MAX_VALUE;for(var r=o,s;r--;)for(s=o;--s>r;){var a=e[r][s];a>0&&a<this.minD&&(this.minD=a)}for(this.minD===Number.MAX_VALUE&&(this.minD=1),r=this.k;r--;){for(this.g[r]=new Array(o),this.H[r]=new Array(o),s=o;s--;)this.H[r][s]=new Array(o);this.Hd[r]=new Array(o),this.a[r]=new Array(o),this.b[r]=new Array(o),this.c[r]=new Array(o),this.d[r]=new Array(o),this.e[r]=new Array(o),this.ia[r]=new Array(o),this.ib[r]=new Array(o),this.xtmp[r]=new Array(o)}}return n.createSquareMatrix=function(t,e){for(var i=new Array(t),o=0;o<t;++o){i[o]=new Array(t);for(var r=0;r<t;++r)i[o][r]=e(o,r)}return i},n.prototype.offsetDir=function(){for(var t=this,e=new Array(this.k),i=0,o=0;o<this.k;++o){var r=e[o]=this.random.getNextBetween(.01,1)-.5;i+=r*r}return i=Math.sqrt(i),e.map(function(s){return s*=t.minD/i})},n.prototype.computeDerivatives=function(t){var e=this,i=this.n;if(!(i<1)){for(var o,r=new Array(this.k),s=new Array(this.k),a=new Array(this.k),l=0,c=0;c<i;++c){for(o=0;o<this.k;++o)a[o]=this.g[o][c]=0;for(var d=0;d<i;++d)if(c!==d){for(var u=i;u--;){var h=0;for(o=0;o<this.k;++o){var m=r[o]=t[o][c]-t[o][d];h+=s[o]=m*m}if(h>1e-9)break;var f=this.offsetDir();for(o=0;o<this.k;++o)t[o][d]+=f[o]}var p=Math.sqrt(h),g=this.D[c][d],v=this.G!=null?this.G[c][d]:1;if(v>1&&p>g||!isFinite(g)){for(o=0;o<this.k;++o)this.H[o][c][d]=0;continue}v>1&&(v=1);var b=g*g,C=2*v*(p-g)/(b*p),k=p*p*p,E=2*-v/(b*k);for(isFinite(C)||console.log(C),o=0;o<this.k;++o)this.g[o][c]+=r[o]*C,a[o]-=this.H[o][c][d]=E*(k+g*(s[o]-h)+p*h)}for(o=0;o<this.k;++o)l=Math.max(l,this.H[o][c][c]=a[o])}for(var F=this.snapGridSize/2,L=this.snapGridSize,H=this.snapStrength,re=H/(F*F),R=this.numGridSnapNodes,c=0;c<R;++c)for(o=0;o<this.k;++o){var W=this.x[o][c],I=W/L,ne=I%1,Et=I-ne,ve=Math.abs(ne),m=ve<=.5?W-Et*L:W>0?W-(Et+1)*L:W-(Et-1)*L;-F<m&&m<=F&&(this.scaleSnapByMaxH?(this.g[o][c]+=l*re*m,this.H[o][c][c]+=l*re):(this.g[o][c]+=re*m,this.H[o][c][c]+=re))}this.locks.isEmpty()||this.locks.apply(function(Mt,Ie){for(o=0;o<e.k;++o)e.H[o][Mt][Mt]+=l,e.g[o][Mt]-=l*(Ie[o]-t[o][Mt])})}},n.dotProd=function(t,e){for(var i=0,o=t.length;o--;)i+=t[o]*e[o];return i},n.rightMultiply=function(t,e,i){for(var o=t.length;o--;)i[o]=n.dotProd(t[o],e)},n.prototype.computeStepSize=function(t){for(var e=0,i=0,o=0;o<this.k;++o)e+=n.dotProd(this.g[o],t[o]),n.rightMultiply(this.H[o],t[o],this.Hd[o]),i+=n.dotProd(t[o],this.Hd[o]);return i===0||!isFinite(i)?0:1*e/i},n.prototype.reduceStress=function(){this.computeDerivatives(this.x);for(var t=this.computeStepSize(this.g),e=0;e<this.k;++e)this.takeDescentStep(this.x[e],this.g[e],t);return this.computeStress()},n.copy=function(t,e){for(var i=t.length,o=e[0].length,r=0;r<i;++r)for(var s=0;s<o;++s)e[r][s]=t[r][s]},n.prototype.stepAndProject=function(t,e,i,o){n.copy(t,e),this.takeDescentStep(e[0],i[0],o),this.project&&this.project[0](t[0],t[1],e[0]),this.takeDescentStep(e[1],i[1],o),this.project&&this.project[1](e[0],t[1],e[1]);for(var r=2;r<this.k;r++)this.takeDescentStep(e[r],i[r],o)},n.mApply=function(t,e,i){for(var o=t;o-- >0;)for(var r=e;r-- >0;)i(o,r)},n.prototype.matrixApply=function(t){n.mApply(this.k,this.n,t)},n.prototype.computeNextPosition=function(t,e){var i=this;this.computeDerivatives(t);var o=this.computeStepSize(this.g);if(this.stepAndProject(t,e,this.g,o),this.project){this.matrixApply(function(s,a){return i.e[s][a]=t[s][a]-e[s][a]});var r=this.computeStepSize(this.e);r=Math.max(.2,Math.min(r,1)),this.stepAndProject(t,e,this.e,r)}},n.prototype.run=function(t){for(var e=Number.MAX_VALUE,i=!1;!i&&t-- >0;){var o=this.rungeKutta();i=Math.abs(e/o-1)<this.threshold,e=o}return e},n.prototype.rungeKutta=function(){var t=this;this.computeNextPosition(this.x,this.a),n.mid(this.x,this.a,this.ia),this.computeNextPosition(this.ia,this.b),n.mid(this.x,this.b,this.ib),this.computeNextPosition(this.ib,this.c),this.computeNextPosition(this.c,this.d);var e=0;return this.matrixApply(function(i,o){var r=(t.a[i][o]+2*t.b[i][o]+2*t.c[i][o]+t.d[i][o])/6,s=t.x[i][o]-r;e+=s*s,t.x[i][o]=r}),e},n.mid=function(t,e,i){n.mApply(t.length,t[0].length,function(o,r){return i[o][r]=t[o][r]+(e[o][r]-t[o][r])/2})},n.prototype.takeDescentStep=function(t,e,i){for(var o=0;o<this.n;++o)t[o]=t[o]-i*e[o]},n.prototype.computeStress=function(){for(var t=0,e=0,i=this.n-1;e<i;++e)for(var o=e+1,r=this.n;o<r;++o){for(var s=0,a=0;a<this.k;++a){var l=this.x[a][e]-this.x[a][o];s+=l*l}s=Math.sqrt(s);var c=this.D[e][o];if(isFinite(c)){var d=c-s,u=c*c;t+=d*d/u}}return t},n.zeroDistance=1e-10,n}();Qw.Descent=i4e;var hde=function(){function n(t){t===void 0&&(t=1),this.seed=t,this.a=214013,this.c=2531011,this.m=2147483648,this.range=32767}return n.prototype.getNext=function(){return this.seed=(this.seed*this.a+this.c)%this.m,(this.seed>>16)/this.range},n.prototype.getNextBetween=function(t,e){return t+this.getNext()*(e-t)},n}();Qw.PseudoRandom=hde});var sA=O(wd=>{"use strict";Object.defineProperty(wd,"__esModule",{value:!0});var mde=function(){function n(t){this.scale=t,this.AB=0,this.AD=0,this.A2=0}return n.prototype.addVariable=function(t){var e=this.scale/t.scale,i=t.offset/t.scale,o=t.weight;this.AB+=o*e*i,this.AD+=o*e*t.desiredPosition,this.A2+=o*e*e},n.prototype.getPosn=function(){return(this.AD-this.AB)/this.A2},n}();wd.PositionStats=mde;var oA=function(){function n(t,e,i,o){o===void 0&&(o=!1),this.left=t,this.right=e,this.gap=i,this.equality=o,this.active=!1,this.unsatisfiable=!1,this.left=t,this.right=e,this.gap=i,this.equality=o}return n.prototype.slack=function(){return this.unsatisfiable?Number.MAX_VALUE:this.right.scale*this.right.position()-this.gap-this.left.scale*this.left.position()},n}();wd.Constraint=oA;var rA=function(){function n(t,e,i){e===void 0&&(e=1),i===void 0&&(i=1),this.desiredPosition=t,this.weight=e,this.scale=i,this.offset=0}return n.prototype.dfdv=function(){return 2*this.weight*(this.position()-this.desiredPosition)},n.prototype.position=function(){return(this.block.ps.scale*this.block.posn+this.offset)/this.scale},n.prototype.visitNeighbours=function(t,e){var i=function(o,r){return o.active&&t!==r&&e(o,r)};this.cOut.forEach(function(o){return i(o,o.right)}),this.cIn.forEach(function(o){return i(o,o.left)})},n}();wd.Variable=rA;var wW=function(){function n(t){this.vars=[],t.offset=0,this.ps=new mde(t.scale),this.addVariable(t)}return n.prototype.addVariable=function(t){t.block=this,this.vars.push(t),this.ps.addVariable(t),this.posn=this.ps.getPosn()},n.prototype.updateWeightedPosition=function(){this.ps.AB=this.ps.AD=this.ps.A2=0;for(var t=0,e=this.vars.length;t<e;++t)this.ps.addVariable(this.vars[t]);this.posn=this.ps.getPosn()},n.prototype.compute_lm=function(t,e,i){var o=this,r=t.dfdv();return t.visitNeighbours(e,function(s,a){var l=o.compute_lm(a,t,i);a===s.right?(r+=l*s.left.scale,s.lm=l):(r+=l*s.right.scale,s.lm=-l),i(s)}),r/t.scale},n.prototype.populateSplitBlock=function(t,e){var i=this;t.visitNeighbours(e,function(o,r){r.offset=t.offset+(r===o.right?o.gap:-o.gap),i.addVariable(r),i.populateSplitBlock(r,t)})},n.prototype.traverse=function(t,e,i,o){var r=this;i===void 0&&(i=this.vars[0]),o===void 0&&(o=null),i.visitNeighbours(o,function(s,a){e.push(t(s)),r.traverse(t,e,a,i)})},n.prototype.findMinLM=function(){var t=null;return this.compute_lm(this.vars[0],null,function(e){!e.equality&&(t===null||e.lm<t.lm)&&(t=e)}),t},n.prototype.findMinLMBetween=function(t,e){this.compute_lm(t,null,function(){});var i=null;return this.findPath(t,null,e,function(o,r){!o.equality&&o.right===r&&(i===null||o.lm<i.lm)&&(i=o)}),i},n.prototype.findPath=function(t,e,i,o){var r=this,s=!1;return t.visitNeighbours(e,function(a,l){!s&&(l===i||r.findPath(l,t,i,o))&&(s=!0,o(a,l))}),s},n.prototype.isActiveDirectedPathBetween=function(t,e){if(t===e)return!0;for(var i=t.cOut.length;i--;){var o=t.cOut[i];if(o.active&&this.isActiveDirectedPathBetween(o.right,e))return!0}return!1},n.split=function(t){return t.active=!1,[n.createSplitBlock(t.left),n.createSplitBlock(t.right)]},n.createSplitBlock=function(t){var e=new n(t);return e.populateSplitBlock(t,null),e},n.prototype.splitBetween=function(t,e){var i=this.findMinLMBetween(t,e);if(i!==null){var o=n.split(i);return{constraint:i,lb:o[0],rb:o[1]}}return null},n.prototype.mergeAcross=function(t,e,i){e.active=!0;for(var o=0,r=t.vars.length;o<r;++o){var s=t.vars[o];s.offset+=i,this.addVariable(s)}this.posn=this.ps.getPosn()},n.prototype.cost=function(){for(var t=0,e=this.vars.length;e--;){var i=this.vars[e],o=i.position()-i.desiredPosition;t+=o*o*i.weight}return t},n}();wd.Block=wW;var xW=function(){function n(t){this.vs=t;var e=t.length;for(this.list=new Array(e);e--;){var i=new wW(t[e]);this.list[e]=i,i.blockInd=e}}return n.prototype.cost=function(){for(var t=0,e=this.list.length;e--;)t+=this.list[e].cost();return t},n.prototype.insert=function(t){t.blockInd=this.list.length,this.list.push(t)},n.prototype.remove=function(t){var e=this.list.length-1,i=this.list[e];this.list.length=e,t!==i&&(this.list[t.blockInd]=i,i.blockInd=t.blockInd)},n.prototype.merge=function(t){var e=t.left.block,i=t.right.block,o=t.right.offset-t.left.offset-t.gap;e.vars.length<i.vars.length?(i.mergeAcross(e,t,o),this.remove(e)):(e.mergeAcross(i,t,-o),this.remove(i))},n.prototype.forEach=function(t){this.list.forEach(t)},n.prototype.updateBlockPositions=function(){this.list.forEach(function(t){return t.updateWeightedPosition()})},n.prototype.split=function(t){var e=this;this.updateBlockPositions(),this.list.forEach(function(i){var o=i.findMinLM();o!==null&&o.lm<CW.LAGRANGIAN_TOLERANCE&&(i=o.left.block,wW.split(o).forEach(function(r){return e.insert(r)}),e.remove(i),t.push(o))})},n}();wd.Blocks=xW;var CW=function(){function n(t,e){this.vs=t,this.cs=e,this.vs=t,t.forEach(function(i){i.cIn=[],i.cOut=[]}),this.cs=e,e.forEach(function(i){i.left.cOut.push(i),i.right.cIn.push(i)}),this.inactive=e.map(function(i){return i.active=!1,i}),this.bs=null}return n.prototype.cost=function(){return this.bs.cost()},n.prototype.setStartingPositions=function(t){this.inactive=this.cs.map(function(e){return e.active=!1,e}),this.bs=new xW(this.vs),this.bs.forEach(function(e,i){return e.posn=t[i]})},n.prototype.setDesiredPositions=function(t){this.vs.forEach(function(e,i){return e.desiredPosition=t[i]})},n.prototype.mostViolated=function(){for(var t=Number.MAX_VALUE,e=null,i=this.inactive,o=i.length,r=o,s=0;s<o;++s){var a=i[s];if(!a.unsatisfiable){var l=a.slack();if((a.equality||l<t)&&(t=l,e=a,r=s,a.equality))break}}return r!==o&&(t<n.ZERO_UPPERBOUND&&!e.active||e.equality)&&(i[r]=i[o-1],i.length=o-1),e},n.prototype.satisfy=function(){this.bs==null&&(this.bs=new xW(this.vs)),this.bs.split(this.inactive);for(var t=null;(t=this.mostViolated())&&(t.equality||t.slack()<n.ZERO_UPPERBOUND&&!t.active);){var e=t.left.block,i=t.right.block;if(e!==i)this.bs.merge(t);else{if(e.isActiveDirectedPathBetween(t.right,t.left)){t.unsatisfiable=!0;continue}var o=e.splitBetween(t.left,t.right);if(o!==null)this.bs.insert(o.lb),this.bs.insert(o.rb),this.bs.remove(e),this.inactive.push(o.constraint);else{t.unsatisfiable=!0;continue}t.slack()>=0?this.inactive.push(t):this.bs.merge(t)}}},n.prototype.solve=function(){this.satisfy();for(var t=Number.MAX_VALUE,e=this.bs.cost();Math.abs(t-e)>1e-4;)this.satisfy(),t=e,e=this.bs.cost();return e},n.LAGRANGIAN_TOLERANCE=-1e-4,n.ZERO_UPPERBOUND=-1e-10,n}();wd.Solver=CW;function n4e(n,t,e){for(var i=n.map(function(g){return new rA(g.desiredCenter)}),o=[],r=n.length,s=0;s<r-1;s++){var a=n[s],l=n[s+1];o.push(new oA(i[s],i[s+1],(a.size+l.size)/2))}var c=i[0],d=i[r-1],u=n[0].size/2,h=n[r-1].size/2,m=null,f=null;t&&(m=new rA(t,c.weight*1e3),i.push(m),o.push(new oA(m,c,u))),e&&(f=new rA(e,d.weight*1e3),i.push(f),o.push(new oA(d,f,h)));var p=new CW(i,o);return p.solve(),{newCenters:i.slice(0,n.length).map(function(g){return g.position()}),lowerBound:m?m.position():c.position()-u,upperBound:f?f.position():d.position()+h}}wd.removeOverlapInOneDimension=n4e});var SW=O(dp=>{"use strict";var o4e=dp&&dp.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var r in o)o.hasOwnProperty(r)&&(i[r]=o[r])},n(t,e)};return function(t,e){n(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}();Object.defineProperty(dp,"__esModule",{value:!0});var pde=function(){function n(){this.findIter=function(t){for(var e=this._root,i=this.iterator();e!==null;){var o=this._comparator(t,e.data);if(o===0)return i._cursor=e,i;i._ancestors.push(e),e=e.get_child(o>0)}return null}}return n.prototype.clear=function(){this._root=null,this.size=0},n.prototype.find=function(t){for(var e=this._root;e!==null;){var i=this._comparator(t,e.data);if(i===0)return e.data;e=e.get_child(i>0)}return null},n.prototype.lowerBound=function(t){return this._bound(t,this._comparator)},n.prototype.upperBound=function(t){var e=this._comparator;function i(o,r){return e(r,o)}return this._bound(t,i)},n.prototype.min=function(){var t=this._root;if(t===null)return null;for(;t.left!==null;)t=t.left;return t.data},n.prototype.max=function(){var t=this._root;if(t===null)return null;for(;t.right!==null;)t=t.right;return t.data},n.prototype.iterator=function(){return new fde(this)},n.prototype.each=function(t){for(var e=this.iterator(),i;(i=e.next())!==null;)t(i)},n.prototype.reach=function(t){for(var e=this.iterator(),i;(i=e.prev())!==null;)t(i)},n.prototype._bound=function(t,e){for(var i=this._root,o=this.iterator();i!==null;){var r=this._comparator(t,i.data);if(r===0)return o._cursor=i,o;o._ancestors.push(i),i=i.get_child(r>0)}for(var s=o._ancestors.length-1;s>=0;--s)if(i=o._ancestors[s],e(t,i.data)>0)return o._cursor=i,o._ancestors.length=s,o;return o._ancestors.length=0,o},n}();dp.TreeBase=pde;var fde=function(){function n(t){this._tree=t,this._ancestors=[],this._cursor=null}return n.prototype.data=function(){return this._cursor!==null?this._cursor.data:null},n.prototype.next=function(){if(this._cursor===null){var t=this._tree._root;t!==null&&this._minNode(t)}else if(this._cursor.right===null){var e;do if(e=this._cursor,this._ancestors.length)this._cursor=this._ancestors.pop();else{this._cursor=null;break}while(this._cursor.right===e)}else this._ancestors.push(this._cursor),this._minNode(this._cursor.right);return this._cursor!==null?this._cursor.data:null},n.prototype.prev=function(){if(this._cursor===null){var t=this._tree._root;t!==null&&this._maxNode(t)}else if(this._cursor.left===null){var e;do if(e=this._cursor,this._ancestors.length)this._cursor=this._ancestors.pop();else{this._cursor=null;break}while(this._cursor.left===e)}else this._ancestors.push(this._cursor),this._maxNode(this._cursor.left);return this._cursor!==null?this._cursor.data:null},n.prototype._minNode=function(t){for(;t.left!==null;)this._ancestors.push(t),t=t.left;this._cursor=t},n.prototype._maxNode=function(t){for(;t.right!==null;)this._ancestors.push(t),t=t.right;this._cursor=t},n}();dp.Iterator=fde;var aA=function(){function n(t){this.data=t,this.left=null,this.right=null,this.red=!0}return n.prototype.get_child=function(t){return t?this.right:this.left},n.prototype.set_child=function(t,e){t?this.right=e:this.left=e},n}(),r4e=function(n){o4e(t,n);function t(e){var i=n.call(this)||this;return i._root=null,i._comparator=e,i.size=0,i}return t.prototype.insert=function(e){var i=!1;if(this._root===null)this._root=new aA(e),i=!0,this.size++;else{var o=new aA(void 0),r=!1,s=!1,a=null,l=o,c=null,d=this._root;for(l.right=this._root;;){if(d===null?(d=new aA(e),c.set_child(r,d),i=!0,this.size++):t.is_red(d.left)&&t.is_red(d.right)&&(d.red=!0,d.left.red=!1,d.right.red=!1),t.is_red(d)&&t.is_red(c)){var u=l.right===a;d===c.get_child(s)?l.set_child(u,t.single_rotate(a,!s)):l.set_child(u,t.double_rotate(a,!s))}var h=this._comparator(d.data,e);if(h===0)break;s=r,r=h<0,a!==null&&(l=a),a=c,c=d,d=d.get_child(r)}this._root=o.right}return this._root.red=!1,i},t.prototype.remove=function(e){if(this._root===null)return!1;var i=new aA(void 0),o=i;o.right=this._root;for(var r=null,s=null,a=null,l=!0;o.get_child(l)!==null;){var c=l;s=r,r=o,o=o.get_child(l);var d=this._comparator(e,o.data);if(l=d>0,d===0&&(a=o),!t.is_red(o)&&!t.is_red(o.get_child(l))){if(t.is_red(o.get_child(!l))){var u=t.single_rotate(o,l);r.set_child(c,u),r=u}else if(!t.is_red(o.get_child(!l))){var h=r.get_child(!c);if(h!==null)if(!t.is_red(h.get_child(!c))&&!t.is_red(h.get_child(c)))r.red=!1,h.red=!0,o.red=!0;else{var m=s.right===r;t.is_red(h.get_child(c))?s.set_child(m,t.double_rotate(r,c)):t.is_red(h.get_child(!c))&&s.set_child(m,t.single_rotate(r,c));var f=s.get_child(m);f.red=!0,o.red=!0,f.left.red=!1,f.right.red=!1}}}}return a!==null&&(a.data=o.data,r.set_child(r.right===o,o.get_child(o.left===null)),this.size--),this._root=i.right,this._root!==null&&(this._root.red=!1),a!==null},t.is_red=function(e){return e!==null&&e.red},t.single_rotate=function(e,i){var o=e.get_child(!i);return e.set_child(!i,o.get_child(i)),o.set_child(i,e),e.red=!0,o.red=!1,o},t.double_rotate=function(e,i){return e.set_child(!i,t.single_rotate(e.get_child(!i),!i)),t.single_rotate(e,i)},t}(pde);dp.RBTree=r4e});var j_=O(Gr=>{"use strict";var s4e=Gr&&Gr.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var r in o)o.hasOwnProperty(r)&&(i[r]=o[r])},n(t,e)};return function(t,e){n(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}();Object.defineProperty(Gr,"__esModule",{value:!0});var xd=sA(),a4e=SW();function Jw(n){return n.bounds=typeof n.leaves<"u"?n.leaves.reduce(function(t,e){return e.bounds.union(t)},mh.empty()):mh.empty(),typeof n.groups<"u"&&(n.bounds=n.groups.reduce(function(t,e){return Jw(e).union(t)},n.bounds)),n.bounds=n.bounds.inflate(n.padding),n.bounds}Gr.computeGroupBounds=Jw;var mh=function(){function n(t,e,i,o){this.x=t,this.X=e,this.y=i,this.Y=o}return n.empty=function(){return new n(Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY)},n.prototype.cx=function(){return(this.x+this.X)/2},n.prototype.cy=function(){return(this.y+this.Y)/2},n.prototype.overlapX=function(t){var e=this.cx(),i=t.cx();return e<=i&&t.x<this.X?this.X-t.x:i<=e&&this.x<t.X?t.X-this.x:0},n.prototype.overlapY=function(t){var e=this.cy(),i=t.cy();return e<=i&&t.y<this.Y?this.Y-t.y:i<=e&&this.y<t.Y?t.Y-this.y:0},n.prototype.setXCentre=function(t){var e=t-this.cx();this.x+=e,this.X+=e},n.prototype.setYCentre=function(t){var e=t-this.cy();this.y+=e,this.Y+=e},n.prototype.width=function(){return this.X-this.x},n.prototype.height=function(){return this.Y-this.y},n.prototype.union=function(t){return new n(Math.min(this.x,t.x),Math.max(this.X,t.X),Math.min(this.y,t.y),Math.max(this.Y,t.Y))},n.prototype.lineIntersections=function(t,e,i,o){for(var r=[[this.x,this.y,this.X,this.y],[this.X,this.y,this.X,this.Y],[this.X,this.Y,this.x,this.Y],[this.x,this.Y,this.x,this.y]],s=[],a=0;a<4;++a){var l=n.lineIntersection(t,e,i,o,r[a][0],r[a][1],r[a][2],r[a][3]);l!==null&&s.push({x:l.x,y:l.y})}return s},n.prototype.rayIntersection=function(t,e){var i=this.lineIntersections(this.cx(),this.cy(),t,e);return i.length>0?i[0]:null},n.prototype.vertices=function(){return[{x:this.x,y:this.y},{x:this.X,y:this.y},{x:this.X,y:this.Y},{x:this.x,y:this.Y}]},n.lineIntersection=function(t,e,i,o,r,s,a,l){var c=i-t,d=a-r,u=o-e,h=l-s,m=h*c-d*u;if(m==0)return null;var f=t-r,p=e-s,g=d*p-h*f,v=g/m,b=c*p-u*f,C=b/m;return v>=0&&v<=1&&C>=0&&C<=1?{x:t+v*c,y:e+v*u}:null},n.prototype.inflate=function(t){return new n(this.x-t,this.X+t,this.y-t,this.Y+t)},n}();Gr.Rectangle=mh;function l4e(n,t,e){var i=n.rayIntersection(t.cx(),t.cy())||{x:n.cx(),y:n.cy()},o=t.rayIntersection(n.cx(),n.cy())||{x:t.cx(),y:t.cy()},r=o.x-i.x,s=o.y-i.y,a=Math.sqrt(r*r+s*s),l=a-e;return{sourceIntersection:i,targetIntersection:o,arrowStart:{x:i.x+l*r/a,y:i.y+l*s/a}}}Gr.makeEdgeBetween=l4e;function c4e(n,t,e){var i=t.rayIntersection(n.x,n.y);i||(i={x:t.cx(),y:t.cy()});var o=i.x-n.x,r=i.y-n.y,s=Math.sqrt(o*o+r*r);return{x:i.x-e*o/s,y:i.y-e*r/s}}Gr.makeEdgeTo=c4e;var d4e=function(){function n(t,e,i){this.v=t,this.r=e,this.pos=i,this.prev=DW(),this.next=DW()}return n}(),gde=function(){function n(t,e,i){this.isOpen=t,this.v=e,this.pos=i}return n}();function u4e(n,t){return n.pos>t.pos?1:n.pos<t.pos||n.isOpen?-1:t.isOpen?1:0}function DW(){return new a4e.RBTree(function(n,t){return n.pos-t.pos})}var _de={getCentre:function(n){return n.cx()},getOpen:function(n){return n.y},getClose:function(n){return n.Y},getSize:function(n){return n.width()},makeRect:function(n,t,e,i){return new mh(e-i/2,e+i/2,n,t)},findNeighbours:h4e},vde={getCentre:function(n){return n.cy()},getOpen:function(n){return n.x},getClose:function(n){return n.X},getSize:function(n){return n.height()},makeRect:function(n,t,e,i){return new mh(n,t,e-i/2,e+i/2)},findNeighbours:m4e};function IW(n,t,e,i){i===void 0&&(i=!1);var o=n.padding,r=typeof n.groups<"u"?n.groups.length:0,s=typeof n.leaves<"u"?n.leaves.length:0,a=r?n.groups.reduce(function(E,F){return E.concat(IW(F,t,e,!0))},[]):[],l=(i?2:0)+s+r,c=new Array(l),d=new Array(l),u=0,h=function(E,F){d[u]=E,c[u++]=F};if(i){var m=n.bounds,f=t.getCentre(m),p=t.getSize(m)/2,g=t.getOpen(m),v=t.getClose(m),b=f-p+o/2,C=f+p-o/2;n.minVar.desiredPosition=b,h(t.makeRect(g,v,b,o),n.minVar),n.maxVar.desiredPosition=C,h(t.makeRect(g,v,C,o),n.maxVar)}s&&n.leaves.forEach(function(E){return h(E.bounds,E.variable)}),r&&n.groups.forEach(function(E){var F=E.bounds;h(t.makeRect(t.getOpen(F),t.getClose(F),t.getCentre(F),t.getSize(F)),E.minVar)});var k=EW(d,c,t,e);return r&&(c.forEach(function(E){E.cOut=[],E.cIn=[]}),k.forEach(function(E){E.left.cOut.push(E),E.right.cIn.push(E)}),n.groups.forEach(function(E){var F=(E.padding-t.getSize(E.bounds))/2;E.minVar.cIn.forEach(function(L){return L.gap+=F}),E.minVar.cOut.forEach(function(L){L.left=E.maxVar,L.gap+=F})})),a.concat(k)}function EW(n,t,e,i){var o,r=n.length,s=2*r;console.assert(t.length>=r);var a=new Array(s);for(o=0;o<r;++o){var l=n[o],c=new d4e(t[o],l,e.getCentre(l));a[o]=new gde(!0,c,e.getOpen(l)),a[o+r]=new gde(!1,c,e.getClose(l))}a.sort(u4e);var d=new Array,u=DW();for(o=0;o<s;++o){var h=a[o],c=h.v;if(h.isOpen)u.insert(c),e.findNeighbours(c,u);else{u.remove(c);var m=function(g,v){var b=(e.getSize(g.r)+e.getSize(v.r))/2+i;d.push(new xd.Constraint(g.v,v.v,b))},f=function(g,v,b){for(var C,k=c[g].iterator();(C=k[g]())!==null;)b(C,c),C[v].remove(c)};f("prev","next",function(g,v){return m(g,v)}),f("next","prev",function(g,v){return m(v,g)})}}return console.assert(u.size===0),d}function h4e(n,t){var e=function(i,o){for(var r=t.findIter(n),s;(s=r[i]())!==null;){var a=s.r.overlapX(n.r);if((a<=0||a<=s.r.overlapY(n.r))&&(n[i].insert(s),s[o].insert(n)),a<=0)break}};e("next","prev"),e("prev","next")}function m4e(n,t){var e=function(i,o){var r=t.findIter(n)[i]();r!==null&&r.r.overlapX(n.r)>0&&(n[i].insert(r),r[o].insert(n))};e("next","prev"),e("prev","next")}function bde(n,t){return EW(n,t,_de,1e-6)}Gr.generateXConstraints=bde;function yde(n,t){return EW(n,t,vde,1e-6)}Gr.generateYConstraints=yde;function wde(n){return IW(n,_de,1e-6)}Gr.generateXGroupConstraints=wde;function xde(n){return IW(n,vde,1e-6)}Gr.generateYGroupConstraints=xde;function p4e(n){var t=n.map(function(o){return new xd.Variable(o.cx())}),e=bde(n,t),i=new xd.Solver(t,e);i.solve(),t.forEach(function(o,r){return n[r].setXCentre(o.position())}),t=n.map(function(o){return new xd.Variable(o.cy())}),e=yde(n,t),i=new xd.Solver(t,e),i.solve(),t.forEach(function(o,r){return n[r].setYCentre(o.position())})}Gr.removeOverlaps=p4e;var lA=function(n){s4e(t,n);function t(e,i){var o=n.call(this,0,i)||this;return o.index=e,o}return t}(xd.Variable);Gr.IndexedVariable=lA;var f4e=function(){function n(t,e,i,o,r){var s=this;if(i===void 0&&(i=null),o===void 0&&(o=null),r===void 0&&(r=!1),this.nodes=t,this.groups=e,this.rootGroup=i,this.avoidOverlaps=r,this.variables=t.map(function(l,c){return l.variable=new lA(c,1)}),o&&this.createConstraints(o),r&&i&&typeof i.groups<"u"){t.forEach(function(l){if(!l.width||!l.height){l.bounds=new mh(l.x,l.x,l.y,l.y);return}var c=l.width/2,d=l.height/2;l.bounds=new mh(l.x-c,l.x+c,l.y-d,l.y+d)}),Jw(i);var a=t.length;e.forEach(function(l){s.variables[a]=l.minVar=new lA(a++,typeof l.stiffness<"u"?l.stiffness:.01),s.variables[a]=l.maxVar=new lA(a++,typeof l.stiffness<"u"?l.stiffness:.01)})}}return n.prototype.createSeparation=function(t){return new xd.Constraint(this.nodes[t.left].variable,this.nodes[t.right].variable,t.gap,typeof t.equality<"u"?t.equality:!1)},n.prototype.makeFeasible=function(t){var e=this;if(this.avoidOverlaps){var i="x",o="width";t.axis==="x"&&(i="y",o="height");var r=t.offsets.map(function(a){return e.nodes[a.node]}).sort(function(a,l){return a[i]-l[i]}),s=null;r.forEach(function(a){if(s){var l=s[i]+s[o];l>a[i]&&(a[i]=l)}s=a})}},n.prototype.createAlignment=function(t){var e=this,i=this.nodes[t.offsets[0].node].variable;this.makeFeasible(t);var o=t.axis==="x"?this.xConstraints:this.yConstraints;t.offsets.slice(1).forEach(function(r){var s=e.nodes[r.node].variable;o.push(new xd.Constraint(i,s,r.offset,!0))})},n.prototype.createConstraints=function(t){var e=this,i=function(o){return typeof o.type>"u"||o.type==="separation"};this.xConstraints=t.filter(function(o){return o.axis==="x"&&i(o)}).map(function(o){return e.createSeparation(o)}),this.yConstraints=t.filter(function(o){return o.axis==="y"&&i(o)}).map(function(o){return e.createSeparation(o)}),t.filter(function(o){return o.type==="alignment"}).forEach(function(o){return e.createAlignment(o)})},n.prototype.setupVariablesAndBounds=function(t,e,i,o){this.nodes.forEach(function(r,s){r.fixed?(r.variable.weight=r.fixedWeight?r.fixedWeight:1e3,i[s]=o(r)):r.variable.weight=1;var a=(r.width||0)/2,l=(r.height||0)/2,c=t[s],d=e[s];r.bounds=new mh(c-a,c+a,d-l,d+l)})},n.prototype.xProject=function(t,e,i){!this.rootGroup&&!(this.avoidOverlaps||this.xConstraints)||this.project(t,e,t,i,function(o){return o.px},this.xConstraints,wde,function(o){return o.bounds.setXCentre(i[o.variable.index]=o.variable.position())},function(o){var r=i[o.minVar.index]=o.minVar.position(),s=i[o.maxVar.index]=o.maxVar.position(),a=o.padding/2;o.bounds.x=r-a,o.bounds.X=s+a})},n.prototype.yProject=function(t,e,i){!this.rootGroup&&!this.yConstraints||this.project(t,e,e,i,function(o){return o.py},this.yConstraints,xde,function(o){return o.bounds.setYCentre(i[o.variable.index]=o.variable.position())},function(o){var r=i[o.minVar.index]=o.minVar.position(),s=i[o.maxVar.index]=o.maxVar.position(),a=o.padding/2;o.bounds.y=r-a,o.bounds.Y=s+a})},n.prototype.projectFunctions=function(){var t=this;return[function(e,i,o){return t.xProject(e,i,o)},function(e,i,o){return t.yProject(e,i,o)}]},n.prototype.project=function(t,e,i,o,r,s,a,l,c){this.setupVariablesAndBounds(t,e,o,r),this.rootGroup&&this.avoidOverlaps&&(Jw(this.rootGroup),s=s.concat(a(this.rootGroup))),this.solve(this.variables,s,i,o),this.nodes.forEach(l),this.rootGroup&&this.avoidOverlaps&&(this.groups.forEach(c),Jw(this.rootGroup))},n.prototype.solve=function(t,e,i,o){var r=new xd.Solver(t,e);r.setStartingPositions(i),r.setDesiredPositions(o),r.solve()},n}();Gr.Projection=f4e});var MW=O(cA=>{"use strict";Object.defineProperty(cA,"__esModule",{value:!0});var Cde=function(){function n(t){this.elem=t,this.subheaps=[]}return n.prototype.toString=function(t){for(var e="",i=!1,o=0;o<this.subheaps.length;++o){var r=this.subheaps[o];if(!r.elem){i=!1;continue}i&&(e=e+","),e=e+r.toString(t),i=!0}return e!==""&&(e="("+e+")"),(this.elem?t(this.elem):"")+e},n.prototype.forEach=function(t){this.empty()||(t(this.elem,this),this.subheaps.forEach(function(e){return e.forEach(t)}))},n.prototype.count=function(){return this.empty()?0:1+this.subheaps.reduce(function(t,e){return t+e.count()},0)},n.prototype.min=function(){return this.elem},n.prototype.empty=function(){return this.elem==null},n.prototype.contains=function(t){if(this===t)return!0;for(var e=0;e<this.subheaps.length;e++)if(this.subheaps[e].contains(t))return!0;return!1},n.prototype.isHeap=function(t){var e=this;return this.subheaps.every(function(i){return t(e.elem,i.elem)&&i.isHeap(t)})},n.prototype.insert=function(t,e){return this.merge(new n(t),e)},n.prototype.merge=function(t,e){return this.empty()?t:t.empty()?this:e(this.elem,t.elem)?(this.subheaps.push(t),this):(t.subheaps.push(this),t)},n.prototype.removeMin=function(t){return this.empty()?null:this.mergePairs(t)},n.prototype.mergePairs=function(t){if(this.subheaps.length==0)return new n(null);if(this.subheaps.length==1)return this.subheaps[0];var e=this.subheaps.pop().merge(this.subheaps.pop(),t),i=this.mergePairs(t);return e.merge(i,t)},n.prototype.decreaseKey=function(t,e,i,o){var r=t.removeMin(o);t.elem=r.elem,t.subheaps=r.subheaps,i!==null&&r.elem!==null&&i(t.elem,t);var s=new n(e);return i!==null&&i(e,s),this.merge(s,o)},n}();cA.PairingHeap=Cde;var g4e=function(){function n(t){this.lessThan=t}return n.prototype.top=function(){return this.empty()?null:this.root.elem},n.prototype.push=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var i,o=0,r;r=t[o];++o)i=new Cde(r),this.root=this.empty()?i:this.root.merge(i,this.lessThan);return i},n.prototype.empty=function(){return!this.root||!this.root.elem},n.prototype.isHeap=function(){return this.root.isHeap(this.lessThan)},n.prototype.forEach=function(t){this.root.forEach(t)},n.prototype.pop=function(){if(this.empty())return null;var t=this.root.min();return this.root=this.root.removeMin(this.lessThan),t},n.prototype.reduceKey=function(t,e,i){i===void 0&&(i=null),this.root=this.root.decreaseKey(t,e,i,this.lessThan)},n.prototype.toString=function(t){return this.root.toString(t)},n.prototype.count=function(){return this.root.count()},n}();cA.PriorityQueue=g4e});var ex=O(kW=>{"use strict";Object.defineProperty(kW,"__esModule",{value:!0});var Sde=MW(),Dde=function(){function n(t,e){this.id=t,this.distance=e}return n}(),_4e=function(){function n(t){this.id=t,this.neighbours=[]}return n}(),Ide=function(){function n(t,e,i){this.node=t,this.prev=e,this.d=i}return n}(),v4e=function(){function n(t,e,i,o,r){this.n=t,this.es=e,this.neighbours=new Array(this.n);for(var s=this.n;s--;)this.neighbours[s]=new _4e(s);for(s=this.es.length;s--;){var a=this.es[s],l=i(a),c=o(a),d=r(a);this.neighbours[l].neighbours.push(new Dde(c,d)),this.neighbours[c].neighbours.push(new Dde(l,d))}}return n.prototype.DistanceMatrix=function(){for(var t=new Array(this.n),e=0;e<this.n;++e)t[e]=this.dijkstraNeighbours(e);return t},n.prototype.DistancesFromNode=function(t){return this.dijkstraNeighbours(t)},n.prototype.PathFromNodeToNode=function(t,e){return this.dijkstraNeighbours(t,e)},n.prototype.PathFromNodeToNodeWithPrevCost=function(t,e,i){var o=new Sde.PriorityQueue(function(p,g){return p.d<=g.d}),r=this.neighbours[t],s=new Ide(r,null,0),a={};for(o.push(s);!o.empty()&&(s=o.pop(),r=s.node,r.id!==e);)for(var l=r.neighbours.length;l--;){var c=r.neighbours[l],d=this.neighbours[c.id];if(!(s.prev&&d.id===s.prev.node.id)){var u=d.id+","+r.id;if(!(u in a&&a[u]<=s.d)){var h=s.prev?i(s.prev.node.id,r.id,d.id):0,m=s.d+c.distance+h;a[u]=m,o.push(new Ide(d,s,m))}}}for(var f=[];s.prev;)s=s.prev,f.push(s.node.id);return f},n.prototype.dijkstraNeighbours=function(t,e){e===void 0&&(e=-1);for(var i=new Sde.PriorityQueue(function(h,m){return h.d<=m.d}),o=this.neighbours.length,r=new Array(o);o--;){var s=this.neighbours[o];s.d=o===t?0:Number.POSITIVE_INFINITY,s.q=i.push(s)}for(;!i.empty();){var a=i.pop();if(r[a.id]=a.d,a.id===e){for(var l=[],c=a;typeof c.prev<"u";)l.push(c.prev.id),c=c.prev;return l}for(o=a.neighbours.length;o--;){var d=a.neighbours[o],c=this.neighbours[d.id],u=a.d+d.distance;a.d!==Number.MAX_VALUE&&c.d>u&&(c.d=u,c.prev=a,i.reduceKey(c.q,c,function(m,f){return m.q=f}))}}return r},n}();kW.Calculator=v4e});var OW=O(Vn=>{"use strict";var Mde=Vn&&Vn.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var r in o)o.hasOwnProperty(r)&&(i[r]=o[r])},n(t,e)};return function(t,e){n(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}();Object.defineProperty(Vn,"__esModule",{value:!0});var b4e=j_(),AW=function(){function n(){}return n}();Vn.Point=AW;var RW=function(){function n(t,e,i,o){this.x1=t,this.y1=e,this.x2=i,this.y2=o}return n}();Vn.LineSegment=RW;var y4e=function(n){Mde(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t}(AW);Vn.PolyPoint=y4e;function Vs(n,t,e){return(t.x-n.x)*(e.y-n.y)-(e.x-n.x)*(t.y-n.y)}Vn.isLeft=Vs;function al(n,t,e){return Vs(n,t,e)>0}function va(n,t,e){return Vs(n,t,e)<0}function w4e(n){var t=n.slice(0).sort(function(h,m){return h.x!==m.x?m.x-h.x:m.y-h.y}),e=n.length,i,o=0,r=t[0].x;for(i=1;i<e&&t[i].x===r;++i);var s=i-1,a=[];if(a.push(t[o]),s===e-1)t[s].y!==t[o].y&&a.push(t[s]);else{var l,c=e-1,d=t[e-1].x;for(i=e-2;i>=0&&t[i].x===d;i--);for(l=i+1,i=s;++i<=l;)if(!(Vs(t[o],t[l],t[i])>=0&&i<l)){for(;a.length>1&&!(Vs(a[a.length-2],a[a.length-1],t[i])>0);)a.length-=1;i!=o&&a.push(t[i])}c!=l&&a.push(t[c]);var u=a.length;for(i=l;--i>=s;)if(!(Vs(t[c],t[s],t[i])>=0&&i>s)){for(;a.length>u&&!(Vs(a[a.length-2],a[a.length-1],t[i])>0);)a.length-=1;i!=o&&a.push(t[i])}}return a}Vn.ConvexHull=w4e;function x4e(n,t,e){t.slice(0).sort(function(i,o){return Math.atan2(i.y-n.y,i.x-n.x)-Math.atan2(o.y-n.y,o.x-n.x)}).forEach(e)}Vn.clockwiseRadialSweep=x4e;function C4e(n,t){var e=t.slice(0);return e.push(t[0]),{rtan:uA(n,e),ltan:hA(n,e)}}function uA(n,t){var e=t.length-1,i,o,r,s,a;if(va(n,t[1],t[0])&&!al(n,t[e-1],t[0]))return 0;for(i=0,o=e;;){if(o-i===1)return al(n,t[i],t[o])?i:o;if(r=Math.floor((i+o)/2),a=va(n,t[r+1],t[r]),a&&!al(n,t[r-1],t[r]))return r;s=al(n,t[i+1],t[i]),s?a||al(n,t[i],t[r])?o=r:i=r:a&&va(n,t[i],t[r])?o=r:i=r}}function hA(n,t){var e=t.length-1,i,o,r,s,a;if(al(n,t[e-1],t[0])&&!va(n,t[1],t[0]))return 0;for(i=0,o=e;;){if(o-i===1)return va(n,t[i],t[o])?i:o;if(r=Math.floor((i+o)/2),a=va(n,t[r+1],t[r]),al(n,t[r-1],t[r])&&!a)return r;s=va(n,t[i+1],t[i]),s?a?va(n,t[i],t[r])?o=r:i=r:o=r:a?i=r:al(n,t[i],t[r])?o=r:i=r}}function mA(n,t,e,i,o,r){var s,a;s=e(t[0],n),a=i(n[s],t);for(var l=!1;!l;){for(l=!0;s===n.length-1&&(s=0),!o(t[a],n[s],n[s+1]);)++s;for(;a===0&&(a=t.length-1),!r(n[s],t[a],t[a-1]);)--a,l=!1}return{t1:s,t2:a}}Vn.tangent_PolyPolyC=mA;function S4e(n,t){var e=kde(t,n);return{t1:e.t2,t2:e.t1}}Vn.LRtangent_PolyPolyC=S4e;function kde(n,t){return mA(n,t,uA,hA,al,va)}Vn.RLtangent_PolyPolyC=kde;function D4e(n,t){return mA(n,t,hA,hA,va,va)}Vn.LLtangent_PolyPolyC=D4e;function I4e(n,t){return mA(n,t,uA,uA,al,al)}Vn.RRtangent_PolyPolyC=I4e;var tx=function(){function n(t,e){this.t1=t,this.t2=e}return n}();Vn.BiTangent=tx;var Tde=function(){function n(){}return n}();Vn.BiTangents=Tde;var E4e=function(n){Mde(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t}(AW);Vn.TVGPoint=E4e;var TW=function(){function n(t,e,i,o){this.id=t,this.polyid=e,this.polyvertid=i,this.p=o,o.vv=this}return n}();Vn.VisibilityVertex=TW;var dA=function(){function n(t,e){this.source=t,this.target=e}return n.prototype.length=function(){var t=this.source.p.x-this.target.p.x,e=this.source.p.y-this.target.p.y;return Math.sqrt(t*t+e*e)},n}();Vn.VisibilityEdge=dA;var M4e=function(){function n(t,e){if(this.P=t,this.V=[],this.E=[],e)this.V=e.V.slice(0),this.E=e.E.slice(0);else{for(var i=t.length,o=0;o<i;o++){for(var r=t[o],s=0;s<r.length;++s){var a=r[s],l=new TW(this.V.length,o,s,a);this.V.push(l),s>0&&this.E.push(new dA(r[s-1].vv,l))}r.length>1&&this.E.push(new dA(r[0].vv,r[r.length-1].vv))}for(var o=0;o<i-1;o++)for(var c=t[o],s=o+1;s<i;s++){var d=t[s],u=Rde(c,d);for(var h in u){var m=u[h],f=c[m.t1],p=d[m.t2];this.addEdgeIfVisible(f,p,o,s)}}}}return n.prototype.addEdgeIfVisible=function(t,e,i,o){this.intersectsPolys(new RW(t.x,t.y,e.x,e.y),i,o)||this.E.push(new dA(t.vv,e.vv))},n.prototype.addPoint=function(t,e){var i=this.P.length;this.V.push(new TW(this.V.length,i,0,t));for(var o=0;o<i;++o)if(o!==e){var r=this.P[o],s=C4e(t,r);this.addEdgeIfVisible(t,r[s.ltan],e,o),this.addEdgeIfVisible(t,r[s.rtan],e,o)}return t.vv},n.prototype.intersectsPolys=function(t,e,i){for(var o=0,r=this.P.length;o<r;++o)if(o!=e&&o!=i&&Ade(t,this.P[o]).length>0)return!0;return!1},n}();Vn.TangentVisibilityGraph=M4e;function Ade(n,t){for(var e=[],i=1,o=t.length;i<o;++i){var r=b4e.Rectangle.lineIntersection(n.x1,n.y1,n.x2,n.y2,t[i-1].x,t[i-1].y,t[i].x,t[i].y);r&&e.push(r)}return e}function Rde(n,t){for(var e=n.length-1,i=t.length-1,o=new Tde,r=0;r<e;++r)for(var s=0;s<i;++s){var a=n[r==0?e-1:r-1],l=n[r],c=n[r+1],d=t[s==0?i-1:s-1],u=t[s],h=t[s+1],m=Vs(a,l,u),f=Vs(l,d,u),p=Vs(l,u,h),g=Vs(d,u,l),v=Vs(u,a,l),b=Vs(u,l,c);m>=0&&f>=0&&p<0&&g>=0&&v>=0&&b<0?o.ll=new tx(r,s):m<=0&&f<=0&&p>0&&g<=0&&v<=0&&b>0?o.rr=new tx(r,s):m<=0&&f>0&&p<=0&&g>=0&&v<0&&b>=0?o.rl=new tx(r,s):m>=0&&f<0&&p>=0&&g<=0&&v>0&&b<=0&&(o.lr=new tx(r,s))}return o}Vn.tangents=Rde;function k4e(n,t){for(var e=1,i=t.length;e<i;++e)if(va(t[e-1],t[e],n))return!1;return!0}function Ede(n,t){return!n.every(function(e){return!k4e(e,t)})}function T4e(n,t){if(Ede(n,t)||Ede(t,n))return!0;for(var e=1,i=n.length;e<i;++e){var o=n[e],r=n[e-1];if(Ade(new RW(r.x,r.y,o.x,o.y),t).length>0)return!0}return!1}Vn.polysOverlap=T4e});var PW=O(pA=>{"use strict";Object.defineProperty(pA,"__esModule",{value:!0});var ba={PADDING:10,GOLDEN_SECTION:(1+Math.sqrt(5))/2,FLOAT_EPSILON:1e-4,MAX_INERATIONS:100};function A4e(n,t,e,u,d,r){d===void 0&&(d=1),r===void 0&&(r=!0);var s=0,a=0,l=t,c=e,d=typeof d<"u"?d:1,u=typeof u<"u"?u:0,h=0,m=0,f=0,p=0,g=[];if(n.length==0)return;v(n),C(n,d),r&&b(n);function v(H){H.forEach(function(R){re(R)});function re(R){var W=Number.MAX_VALUE,I=Number.MAX_VALUE,ne=0,Et=0;R.array.forEach(function(ve){var Mt=typeof ve.width<"u"?ve.width:u,Ie=typeof ve.height<"u"?ve.height:u;Mt/=2,Ie/=2,ne=Math.max(ve.x+Mt,ne),W=Math.min(ve.x-Mt,W),Et=Math.max(ve.y+Ie,Et),I=Math.min(ve.y-Ie,I)}),R.width=ne-W,R.height=Et-I}}function b(H){H.forEach(function(re){var R={x:0,y:0};re.array.forEach(function(ne){R.x+=ne.x,R.y+=ne.y}),R.x/=re.array.length,R.y/=re.array.length;var W={x:R.x-re.width/2,y:R.y-re.height/2},I={x:re.x-W.x+l/2-h/2,y:re.y-W.y+c/2-m/2};re.array.forEach(function(ne){ne.x+=I.x,ne.y+=I.y})})}function C(H,re){var R=Number.POSITIVE_INFINITY,W=0;H.sort(function(nt,$e){return $e.height-nt.height}),f=H.reduce(function(nt,$e){return nt.width<$e.width?nt.width:$e.width});for(var I=te=f,ne=gt=F(H),Et=0,ve=Number.MAX_VALUE,Mt=Number.MAX_VALUE,Ie=-1,Nt=Number.MAX_VALUE,oe=Number.MAX_VALUE;Nt>f||oe>ba.FLOAT_EPSILON;){if(Ie!=1)var te=ne-(ne-I)/ba.GOLDEN_SECTION,ve=k(H,te);if(Ie!=0)var gt=I+(ne-I)/ba.GOLDEN_SECTION,Mt=k(H,gt);if(Nt=Math.abs(te-gt),oe=Math.abs(ve-Mt),ve<R&&(R=ve,W=te),Mt<R&&(R=Mt,W=gt),ve>Mt?(I=te,te=gt,ve=Mt,Ie=1):(ne=gt,gt=te,Mt=ve,Ie=0),Et++>100)break}k(H,W)}function k(H,re){g=[],h=0,m=0,p=a;for(var R=0;R<H.length;R++){var W=H[R];E(W,re)}return Math.abs(L()-d)}function E(H,re){for(var R=void 0,W=0;W<g.length;W++)if(g[W].space_left>=H.height&&g[W].x+g[W].width+H.width+ba.PADDING-re<=ba.FLOAT_EPSILON){R=g[W];break}g.push(H),R!==void 0?(H.x=R.x+R.width+ba.PADDING,H.y=R.bottom,H.space_left=H.height,H.bottom=H.y,R.space_left-=H.height+ba.PADDING,R.bottom+=H.height+ba.PADDING):(H.y=p,p+=H.height+ba.PADDING,H.x=s,H.bottom=H.y,H.space_left=H.height),H.y+H.height-m>-ba.FLOAT_EPSILON&&(m=H.y+H.height-a),H.x+H.width-h>-ba.FLOAT_EPSILON&&(h=H.x+H.width-s)}function F(H){var re=0;return H.forEach(function(R){return re+=R.width+ba.PADDING}),re}function L(){return h/m}}pA.applyPacking=A4e;function R4e(n,t){for(var e={},i={},o=[],r=0,s=0;s<t.length;s++){var a=t[s],l=a.source,c=a.target;i[l.index]?i[l.index].push(c):i[l.index]=[c],i[c.index]?i[c.index].push(l):i[c.index]=[l]}for(var s=0;s<n.length;s++){var d=n[s];e[d.index]||u(d,!0)}function u(h,m){if(e[h.index]===void 0){m&&(r++,o.push({array:[]})),e[h.index]=r,o[r-1].array.push(h);var f=i[h.index];if(f)for(var p=0;p<f.length;p++)u(f[p],!1)}}return o}pA.separateGraphs=R4e});var U_=O(nx=>{"use strict";Object.defineProperty(nx,"__esModule",{value:!0});var O4e=yW(),LW=iA(),fA=nA(),gA=j_(),Ode=ex(),Pde=OW(),Lde=PW(),ix;(function(n){n[n.start=0]="start",n[n.tick=1]="tick",n[n.end=2]="end"})(ix=nx.EventType||(nx.EventType={}));function _A(n){return typeof n.leaves<"u"||typeof n.groups<"u"}var P4e=function(){function n(){var t=this;this._canvasSize=[1,1],this._linkDistance=20,this._defaultNodeSize=10,this._linkLengthCalculator=null,this._linkType=null,this._avoidOverlaps=!1,this._handleDisconnected=!0,this._running=!1,this._nodes=[],this._groups=[],this._rootGroup=null,this._links=[],this._constraints=[],this._distanceMatrix=null,this._descent=null,this._directedLinkConstraints=null,this._threshold=.01,this._visibilityGraph=null,this._groupCompactness=1e-6,this.event=null,this.linkAccessor={getSourceIndex:n.getSourceIndex,getTargetIndex:n.getTargetIndex,setLength:n.setLinkLength,getType:function(e){return typeof t._linkType=="function"?t._linkType(e):0}}}return n.prototype.on=function(t,e){return this.event||(this.event={}),typeof t=="string"?this.event[ix[t]]=e:this.event[t]=e,this},n.prototype.trigger=function(t){this.event&&typeof this.event[t.type]<"u"&&this.event[t.type](t)},n.prototype.kick=function(){for(;!this.tick(););},n.prototype.tick=function(){if(this._alpha<this._threshold)return this._running=!1,this.trigger({type:ix.end,alpha:this._alpha=0,stress:this._lastStress}),!0;var t=this._nodes.length,e=this._links.length,i,o;for(this._descent.locks.clear(),o=0;o<t;++o)if(i=this._nodes[o],i.fixed){(typeof i.px>"u"||typeof i.py>"u")&&(i.px=i.x,i.py=i.y);var r=[i.px,i.py];this._descent.locks.add(o,r)}var s=this._descent.rungeKutta();return s===0?this._alpha=0:typeof this._lastStress<"u"&&(this._alpha=s),this._lastStress=s,this.updateNodePositions(),this.trigger({type:ix.tick,alpha:this._alpha,stress:this._lastStress}),!1},n.prototype.updateNodePositions=function(){for(var t=this._descent.x[0],e=this._descent.x[1],i,o=this._nodes.length;o--;)i=this._nodes[o],i.x=t[o],i.y=e[o]},n.prototype.nodes=function(t){if(!t){if(this._nodes.length===0&&this._links.length>0){var e=0;this._links.forEach(function(o){e=Math.max(e,o.source,o.target)}),this._nodes=new Array(++e);for(var i=0;i<e;++i)this._nodes[i]={}}return this._nodes}return this._nodes=t,this},n.prototype.groups=function(t){var e=this;return t?(this._groups=t,this._rootGroup={},this._groups.forEach(function(i){typeof i.padding>"u"&&(i.padding=1),typeof i.leaves<"u"&&i.leaves.forEach(function(o,r){typeof o=="number"&&((i.leaves[r]=e._nodes[o]).parent=i)}),typeof i.groups<"u"&&i.groups.forEach(function(o,r){typeof o=="number"&&((i.groups[r]=e._groups[o]).parent=i)})}),this._rootGroup.leaves=this._nodes.filter(function(i){return typeof i.parent>"u"}),this._rootGroup.groups=this._groups.filter(function(i){return typeof i.parent>"u"}),this):this._groups},n.prototype.powerGraphGroups=function(t){var e=O4e.getGroups(this._nodes,this._links,this.linkAccessor,this._rootGroup);return this.groups(e.groups),t(e),this},n.prototype.avoidOverlaps=function(t){return arguments.length?(this._avoidOverlaps=t,this):this._avoidOverlaps},n.prototype.handleDisconnected=function(t){return arguments.length?(this._handleDisconnected=t,this):this._handleDisconnected},n.prototype.flowLayout=function(t,e){return arguments.length||(t="y"),this._directedLinkConstraints={axis:t,getMinSeparation:typeof e=="number"?function(){return e}:e},this},n.prototype.links=function(t){return arguments.length?(this._links=t,this):this._links},n.prototype.constraints=function(t){return arguments.length?(this._constraints=t,this):this._constraints},n.prototype.distanceMatrix=function(t){return arguments.length?(this._distanceMatrix=t,this):this._distanceMatrix},n.prototype.size=function(t){return t?(this._canvasSize=t,this):this._canvasSize},n.prototype.defaultNodeSize=function(t){return t?(this._defaultNodeSize=t,this):this._defaultNodeSize},n.prototype.groupCompactness=function(t){return t?(this._groupCompactness=t,this):this._groupCompactness},n.prototype.linkDistance=function(t){return t?(this._linkDistance=typeof t=="function"?t:+t,this._linkLengthCalculator=null,this):this._linkDistance},n.prototype.linkType=function(t){return this._linkType=t,this},n.prototype.convergenceThreshold=function(t){return t?(this._threshold=typeof t=="function"?t:+t,this):this._threshold},n.prototype.alpha=function(t){return arguments.length?(t=+t,this._alpha?t>0?this._alpha=t:this._alpha=0:t>0&&(this._running||(this._running=!0,this.trigger({type:ix.start,alpha:this._alpha=t}),this.kick())),this):this._alpha},n.prototype.getLinkLength=function(t){return typeof this._linkDistance=="function"?+this._linkDistance(t):this._linkDistance},n.setLinkLength=function(t,e){t.length=e},n.prototype.getLinkType=function(t){return typeof this._linkType=="function"?this._linkType(t):0},n.prototype.symmetricDiffLinkLengths=function(t,e){var i=this;return e===void 0&&(e=1),this.linkDistance(function(o){return t*o.length}),this._linkLengthCalculator=function(){return LW.symmetricDiffLinkLengths(i._links,i.linkAccessor,e)},this},n.prototype.jaccardLinkLengths=function(t,e){var i=this;return e===void 0&&(e=1),this.linkDistance(function(o){return t*o.length}),this._linkLengthCalculator=function(){return LW.jaccardLinkLengths(i._links,i.linkAccessor,e)},this},n.prototype.start=function(t,e,i,o,r,s){var a=this;t===void 0&&(t=0),e===void 0&&(e=0),i===void 0&&(i=0),o===void 0&&(o=0),r===void 0&&(r=!0),s===void 0&&(s=!0);var l,c,d=this.nodes().length,u=d+2*this._groups.length,h=this._links.length,m=this._canvasSize[0],f=this._canvasSize[1],p=new Array(u),g=new Array(u),v=null,b=this._avoidOverlaps;this._nodes.forEach(function(R,W){R.index=W,typeof R.x>"u"&&(R.x=m/2,R.y=f/2),p[W]=R.x,g[W]=R.y}),this._linkLengthCalculator&&this._linkLengthCalculator();var C;this._distanceMatrix?C=this._distanceMatrix:(C=new Ode.Calculator(u,this._links,n.getSourceIndex,n.getTargetIndex,function(R){return a.getLinkLength(R)}).DistanceMatrix(),v=fA.Descent.createSquareMatrix(u,function(){return 2}),this._links.forEach(function(R){typeof R.source=="number"&&(R.source=a._nodes[R.source]),typeof R.target=="number"&&(R.target=a._nodes[R.target])}),this._links.forEach(function(R){var W=n.getSourceIndex(R),I=n.getTargetIndex(R);v[W][I]=v[I][W]=R.weight||1}));var k=fA.Descent.createSquareMatrix(u,function(R,W){return C[R][W]});if(this._rootGroup&&typeof this._rootGroup.groups<"u"){var l=d,E=function(W,I,ne,Et){v[W][I]=v[I][W]=ne,k[W][I]=k[I][W]=Et};this._groups.forEach(function(W){E(l,l+1,a._groupCompactness,.1),p[l]=0,g[l++]=0,p[l]=0,g[l++]=0})}else this._rootGroup={leaves:this._nodes,groups:[]};var F=this._constraints||[];this._directedLinkConstraints&&(this.linkAccessor.getMinSeparation=this._directedLinkConstraints.getMinSeparation,F=F.concat(LW.generateDirectedEdgeConstraints(d,this._links,this._directedLinkConstraints.axis,this.linkAccessor))),this.avoidOverlaps(!1),this._descent=new fA.Descent([p,g],k),this._descent.locks.clear();for(var l=0;l<d;++l){var L=this._nodes[l];if(L.fixed){L.px=L.x,L.py=L.y;var H=[L.x,L.y];this._descent.locks.add(l,H)}}if(this._descent.threshold=this._threshold,this.initialLayout(t,p,g),F.length>0&&(this._descent.project=new gA.Projection(this._nodes,this._groups,this._rootGroup,F).projectFunctions()),this._descent.run(e),this.separateOverlappingComponents(m,f,s),this.avoidOverlaps(b),b&&(this._nodes.forEach(function(R,W){R.x=p[W],R.y=g[W]}),this._descent.project=new gA.Projection(this._nodes,this._groups,this._rootGroup,F,!0).projectFunctions(),this._nodes.forEach(function(R,W){p[W]=R.x,g[W]=R.y})),this._descent.G=v,this._descent.run(i),o){this._descent.snapStrength=1e3,this._descent.snapGridSize=this._nodes[0].width,this._descent.numGridSnapNodes=d,this._descent.scaleSnapByMaxH=d!=u;var re=fA.Descent.createSquareMatrix(u,function(R,W){return R>=d||W>=d?v[R][W]:0});this._descent.G=re,this._descent.run(o)}return this.updateNodePositions(),this.separateOverlappingComponents(m,f,s),r?this.resume():this},n.prototype.initialLayout=function(t,e,i){if(this._groups.length>0&&t>0){var o=this._nodes.length,r=this._links.map(function(a){return{source:a.source.index,target:a.target.index}}),s=this._nodes.map(function(a){return{index:a.index}});this._groups.forEach(function(a,l){s.push({index:a.index=o+l})}),this._groups.forEach(function(a,l){typeof a.leaves<"u"&&a.leaves.forEach(function(c){return r.push({source:a.index,target:c.index})}),typeof a.groups<"u"&&a.groups.forEach(function(c){return r.push({source:a.index,target:c.index})})}),new n().size(this.size()).nodes(s).links(r).avoidOverlaps(!1).linkDistance(this.linkDistance()).symmetricDiffLinkLengths(5).convergenceThreshold(1e-4).start(t,0,0,0,!1),this._nodes.forEach(function(a){e[a.index]=s[a.index].x,i[a.index]=s[a.index].y})}else this._descent.run(t)},n.prototype.separateOverlappingComponents=function(t,e,i){var o=this;if(i===void 0&&(i=!0),!this._distanceMatrix&&this._handleDisconnected){var r=this._descent.x[0],s=this._descent.x[1];this._nodes.forEach(function(l,c){l.x=r[c],l.y=s[c]});var a=Lde.separateGraphs(this._nodes,this._links);Lde.applyPacking(a,t,e,this._defaultNodeSize,1,i),this._nodes.forEach(function(l,c){o._descent.x[0][c]=l.x,o._descent.x[1][c]=l.y,l.bounds&&(l.bounds.setXCentre(l.x),l.bounds.setYCentre(l.y))})}},n.prototype.resume=function(){return this.alpha(.1)},n.prototype.stop=function(){return this.alpha(0)},n.prototype.prepareEdgeRouting=function(t){t===void 0&&(t=0),this._visibilityGraph=new Pde.TangentVisibilityGraph(this._nodes.map(function(e){return e.bounds.inflate(-t).vertices()}))},n.prototype.routeEdge=function(t,e,i){e===void 0&&(e=5);var o=[],r=new Pde.TangentVisibilityGraph(this._visibilityGraph.P,{V:this._visibilityGraph.V,E:this._visibilityGraph.E}),s={x:t.source.x,y:t.source.y},a={x:t.target.x,y:t.target.y},l=r.addPoint(s,t.source.index),c=r.addPoint(a,t.target.index);r.addEdgeIfVisible(s,a,t.source.index,t.target.index),typeof i<"u"&&i(r);var d=function(k){return k.source.id},u=function(k){return k.target.id},h=function(k){return k.length()},m=new Ode.Calculator(r.V.length,r.E,d,u,h),f=m.PathFromNodeToNode(l.id,c.id);if(f.length===1||f.length===r.V.length){var p=gA.makeEdgeBetween(t.source.innerBounds,t.target.innerBounds,e);o=[p.sourceIntersection,p.arrowStart]}else{for(var g=f.length-2,v=r.V[f[g]].p,b=r.V[f[0]].p,o=[t.source.innerBounds.rayIntersection(v.x,v.y)],C=g;C>=0;--C)o.push(r.V[f[C]].p);o.push(gA.makeEdgeTo(b,t.target.innerBounds,e))}return o},n.getSourceIndex=function(t){return typeof t.source=="number"?t.source:t.source.index},n.getTargetIndex=function(t){return typeof t.target=="number"?t.target:t.target.index},n.linkId=function(t){return n.getSourceIndex(t)+"-"+n.getTargetIndex(t)},n.dragStart=function(t){_A(t)?n.storeOffset(t,n.dragOrigin(t)):(n.stopNode(t),t.fixed|=2)},n.stopNode=function(t){t.px=t.x,t.py=t.y},n.storeOffset=function(t,e){typeof t.leaves<"u"&&t.leaves.forEach(function(i){i.fixed|=2,n.stopNode(i),i._dragGroupOffsetX=i.x-e.x,i._dragGroupOffsetY=i.y-e.y}),typeof t.groups<"u"&&t.groups.forEach(function(i){return n.storeOffset(i,e)})},n.dragOrigin=function(t){return _A(t)?{x:t.bounds.cx(),y:t.bounds.cy()}:t},n.drag=function(t,e){_A(t)?(typeof t.leaves<"u"&&t.leaves.forEach(function(i){t.bounds.setXCentre(e.x),t.bounds.setYCentre(e.y),i.px=i._dragGroupOffsetX+e.x,i.py=i._dragGroupOffsetY+e.y}),typeof t.groups<"u"&&t.groups.forEach(function(i){return n.drag(i,e)})):(t.px=e.x,t.py=e.y)},n.dragEnd=function(t){_A(t)?(typeof t.leaves<"u"&&t.leaves.forEach(function(e){n.dragEnd(e),delete e._dragGroupOffsetX,delete e._dragGroupOffsetY}),typeof t.groups<"u"&&t.groups.forEach(n.dragEnd)):t.fixed&=-7},n.mouseOver=function(t){t.fixed|=4,t.px=t.x,t.py=t.y},n.mouseOut=function(t){t.fixed&=-5},n}();nx.Layout=P4e});var Fde=O(q_=>{"use strict";var L4e=q_&&q_.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var r in o)o.hasOwnProperty(r)&&(i[r]=o[r])},n(t,e)};return function(t,e){n(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}();Object.defineProperty(q_,"__esModule",{value:!0});var NW=U_(),Nde=function(n){L4e(t,n);function t(e){var i=n.call(this)||this,o=i,r=e;return r.trigger&&(i.trigger=r.trigger),r.kick&&(i.kick=r.kick),r.drag&&(i.drag=r.drag),r.on&&(i.on=r.on),i.dragstart=i.dragStart=NW.Layout.dragStart,i.dragend=i.dragEnd=NW.Layout.dragEnd,i}return t.prototype.trigger=function(e){},t.prototype.kick=function(){},t.prototype.drag=function(){},t.prototype.on=function(e,i){return this},t}(NW.Layout);q_.LayoutAdaptor=Nde;function N4e(n){return new Nde(n)}q_.adaptor=N4e});var Bde=O(G_=>{"use strict";var F4e=G_&&G_.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var r in o)o.hasOwnProperty(r)&&(i[r]=o[r])},n(t,e)};return function(t,e){n(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}();Object.defineProperty(G_,"__esModule",{value:!0});var Ws=U_(),zde=function(n){F4e(t,n);function t(){var e=n.call(this)||this;e.event=d3.dispatch(Ws.EventType[Ws.EventType.start],Ws.EventType[Ws.EventType.tick],Ws.EventType[Ws.EventType.end]);var i=e,o;return e.drag=function(){if(!r)var r=d3.behavior.drag().origin(Ws.Layout.dragOrigin).on("dragstart.d3adaptor",Ws.Layout.dragStart).on("drag.d3adaptor",function(s){Ws.Layout.drag(s,d3.event),i.resume()}).on("dragend.d3adaptor",Ws.Layout.dragEnd);if(!arguments.length)return r;this.call(r)},e}return t.prototype.trigger=function(e){var i={type:Ws.EventType[e.type],alpha:e.alpha,stress:e.stress};this.event[i.type](i)},t.prototype.kick=function(){var e=this;d3.timer(function(){return n.prototype.tick.call(e)})},t.prototype.on=function(e,i){return typeof e=="string"?this.event.on(e,i):this.event.on(Ws.EventType[e],i),this},t}(Ws.Layout);G_.D3StyleLayoutAdaptor=zde;function z4e(){return new zde}G_.d3adaptor=z4e});var Hde=O(ox=>{"use strict";var B4e=ox&&ox.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var r in o)o.hasOwnProperty(r)&&(i[r]=o[r])},n(t,e)};return function(t,e){n(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}();Object.defineProperty(ox,"__esModule",{value:!0});var js=U_(),H4e=function(n){B4e(t,n);function t(e){var i=n.call(this)||this;i.d3Context=e,i.event=e.dispatch(js.EventType[js.EventType.start],js.EventType[js.EventType.tick],js.EventType[js.EventType.end]);var o=i,r;return i.drag=function(){if(!s)var s=e.drag().subject(js.Layout.dragOrigin).on("start.d3adaptor",js.Layout.dragStart).on("drag.d3adaptor",function(a){js.Layout.drag(a,e.event),o.resume()}).on("end.d3adaptor",js.Layout.dragEnd);if(!arguments.length)return s;arguments[0].call(s)},i}return t.prototype.trigger=function(e){var i={type:js.EventType[e.type],alpha:e.alpha,stress:e.stress};this.event.call(i.type,i)},t.prototype.kick=function(){var e=this,i=this.d3Context.timer(function(){return n.prototype.tick.call(e)&&i.stop()})},t.prototype.on=function(e,i){return typeof e=="string"?this.event.on(e,i):this.event.on(js.EventType[e],i),this},t}(js.Layout);ox.D3StyleLayoutAdaptor=H4e});var Vde=O(FW=>{"use strict";Object.defineProperty(FW,"__esModule",{value:!0});var V4e=Bde(),W4e=Hde();function j4e(n){return!n||U4e(n)?new V4e.D3StyleLayoutAdaptor:new W4e.D3StyleLayoutAdaptor(n)}FW.d3adaptor=j4e;function U4e(n){var t=/^3\./;return n.version&&n.version.match(t)!==null}});var VW=O($_=>{"use strict";Object.defineProperty($_,"__esModule",{value:!0});var q4e=j_(),zW=sA(),G4e=ex(),Wde=function(){function n(t,e,i){this.id=t,this.rect=e,this.children=i,this.leaf=typeof i>"u"||i.length===0}return n}();$_.NodeWrapper=Wde;var BW=function(){function n(t,e,i,o,r){o===void 0&&(o=null),r===void 0&&(r=null),this.id=t,this.x=e,this.y=i,this.node=o,this.line=r}return n}();$_.Vert=BW;var HW=function(){function n(t,e){this.s=t,this.t=e;var i=n.findMatch(t,e),o=e.slice(0).reverse(),r=n.findMatch(t,o);i.length>=r.length?(this.length=i.length,this.si=i.si,this.ti=i.ti,this.reversed=!1):(this.length=r.length,this.si=r.si,this.ti=e.length-r.ti-r.length,this.reversed=!0)}return n.findMatch=function(t,e){for(var i=t.length,o=e.length,r={length:0,si:-1,ti:-1},s=new Array(i),a=0;a<i;a++){s[a]=new Array(o);for(var l=0;l<o;l++)if(t[a]===e[l]){var c=s[a][l]=a===0||l===0?1:s[a-1][l-1]+1;c>r.length&&(r.length=c,r.si=a-c+1,r.ti=l-c+1)}else s[a][l]=0}return r},n.prototype.getSequence=function(){return this.length>=0?this.s.slice(this.si,this.si+this.length):[]},n}();$_.LongestCommonSubsequence=HW;var $4e=function(){function n(t,e,i){var o=this;i===void 0&&(i=12),this.originalnodes=t,this.groupPadding=i,this.leaves=null,this.nodes=t.map(function(p,g){return new Wde(g,e.getBounds(p),e.getChildren(p))}),this.leaves=this.nodes.filter(function(p){return p.leaf}),this.groups=this.nodes.filter(function(p){return!p.leaf}),this.cols=this.getGridLines("x"),this.rows=this.getGridLines("y"),this.groups.forEach(function(p){return p.children.forEach(function(g){return o.nodes[g].parent=p})}),this.root={children:[]},this.nodes.forEach(function(p){typeof p.parent>"u"&&(p.parent=o.root,o.root.children.push(p.id)),p.ports=[]}),this.backToFront=this.nodes.slice(0),this.backToFront.sort(function(p,g){return o.getDepth(p)-o.getDepth(g)});var r=this.backToFront.slice(0).reverse().filter(function(p){return!p.leaf});r.forEach(function(p){var g=q4e.Rectangle.empty();p.children.forEach(function(v){return g=g.union(o.nodes[v].rect)}),p.rect=g.inflate(o.groupPadding)});var s=this.midPoints(this.cols.map(function(p){return p.pos})),a=this.midPoints(this.rows.map(function(p){return p.pos})),l=s[0],c=s[s.length-1],d=a[0],u=a[a.length-1],h=this.rows.map(function(p){return{x1:l,x2:c,y1:p.pos,y2:p.pos}}).concat(a.map(function(p){return{x1:l,x2:c,y1:p,y2:p}})),m=this.cols.map(function(p){return{x1:p.pos,x2:p.pos,y1:d,y2:u}}).concat(s.map(function(p){return{x1:p,x2:p,y1:d,y2:u}})),f=h.concat(m);f.forEach(function(p){return p.verts=[]}),this.verts=[],this.edges=[],h.forEach(function(p){return m.forEach(function(g){var v=new BW(o.verts.length,g.x1,p.y1);p.verts.push(v),g.verts.push(v),o.verts.push(v);for(var b=o.backToFront.length;b-- >0;){var C=o.backToFront[b],k=C.rect,E=Math.abs(v.x-k.cx()),F=Math.abs(v.y-k.cy());if(E<k.width()/2&&F<k.height()/2){v.node=C;break}}})}),f.forEach(function(p,g){o.nodes.forEach(function(F,L){F.rect.lineIntersections(p.x1,p.y1,p.x2,p.y2).forEach(function(H,re){var R=new BW(o.verts.length,H.x,H.y,F,p);o.verts.push(R),p.verts.push(R),F.ports.push(R)})});var v=Math.abs(p.y1-p.y2)<.1,b=function(F,L){return v?L.x-F.x:L.y-F.y};p.verts.sort(b);for(var C=1;C<p.verts.length;C++){var k=p.verts[C-1],E=p.verts[C];k.node&&k.node===E.node&&k.node.leaf||o.edges.push({source:k.id,target:E.id,length:Math.abs(b(k,E))})}})}return n.prototype.avg=function(t){return t.reduce(function(e,i){return e+i})/t.length},n.prototype.getGridLines=function(t){for(var e=[],i=this.leaves.slice(0,this.leaves.length);i.length>0;){var o=i.filter(function(s){return s.rect["overlap"+t.toUpperCase()](i[0].rect)}),r={nodes:o,pos:this.avg(o.map(function(s){return s.rect["c"+t]()}))};e.push(r),r.nodes.forEach(function(s){return i.splice(i.indexOf(s),1)})}return e.sort(function(s,a){return s.pos-a.pos}),e},n.prototype.getDepth=function(t){for(var e=0;t.parent!==this.root;)e++,t=t.parent;return e},n.prototype.midPoints=function(t){for(var e=t[1]-t[0],i=[t[0]-e/2],o=1;o<t.length;o++)i.push((t[o]+t[o-1])/2);return i.push(t[t.length-1]+e/2),i},n.prototype.findLineage=function(t){var e=[t];do t=t.parent,e.push(t);while(t!==this.root);return e.reverse()},n.prototype.findAncestorPathBetween=function(t,e){for(var i=this.findLineage(t),o=this.findLineage(e),r=0;i[r]===o[r];)r++;return{commonAncestor:i[r-1],lineages:i.slice(r).concat(o.slice(r))}},n.prototype.siblingObstacles=function(t,e){var i=this,o=this.findAncestorPathBetween(t,e),r={};o.lineages.forEach(function(a){return r[a.id]={}});var s=o.commonAncestor.children.filter(function(a){return!(a in r)});return o.lineages.filter(function(a){return a.parent!==o.commonAncestor}).forEach(function(a){return s=s.concat(a.parent.children.filter(function(l){return l!==a.id}))}),s.map(function(a){return i.nodes[a]})},n.getSegmentSets=function(t,e,i){for(var o=[],r=0;r<t.length;r++)for(var s=t[r],a=0;a<s.length;a++){var l=s[a];l.edgeid=r,l.i=a;var c=l[1][e]-l[0][e];Math.abs(c)<.1&&o.push(l)}o.sort(function(m,f){return m[0][e]-f[0][e]});for(var d=[],u=null,h=0;h<o.length;h++){var l=o[h];(!u||Math.abs(l[0][e]-u.pos)>.1)&&(u={pos:l[0][e],segments:[]},d.push(u)),u.segments.push(l)}return d},n.nudgeSegs=function(t,e,i,o,r,s){var a=o.length;if(!(a<=1)){for(var l=o.map(function(C){return new zW.Variable(C[0][t])}),c=[],d=0;d<a;d++)for(var u=0;u<a;u++)if(d!==u){var h=o[d],m=o[u],f=h.edgeid,p=m.edgeid,g=-1,v=-1;t=="x"?r(f,p)&&(h[0][e]<h[1][e]?(g=u,v=d):(g=d,v=u)):r(f,p)&&(h[0][e]<h[1][e]?(g=d,v=u):(g=u,v=d)),g>=0&&c.push(new zW.Constraint(l[g],l[v],s))}var b=new zW.Solver(l,c);b.solve(),l.forEach(function(C,k){var E=o[k],F=C.position();E[0][t]=E[1][t]=F;var L=i[E.edgeid];E.i>0&&(L[E.i-1][1][t]=F),E.i<L.length-1&&(L[E.i+1][0][t]=F)})}},n.nudgeSegments=function(t,e,i,o,r){for(var s=n.getSegmentSets(t,e,i),a=0;a<s.length;a++){for(var l=s[a],c=[],d=0;d<l.segments.length;d++){var u=l.segments[d];c.push({type:0,s:u,pos:Math.min(u[0][i],u[1][i])}),c.push({type:1,s:u,pos:Math.max(u[0][i],u[1][i])})}c.sort(function(f,p){return f.pos-p.pos+f.type-p.type});var h=[],m=0;c.forEach(function(f){f.type===0?(h.push(f.s),m++):m--,m==0&&(n.nudgeSegs(e,i,t,h,o,r),h=[])})}},n.prototype.routeEdges=function(t,e,i,o){var r=this,s=t.map(function(c){return r.route(i(c),o(c))}),a=n.orderEdges(s),l=s.map(function(c){return n.makeSegments(c)});return n.nudgeSegments(l,"x","y",a,e),n.nudgeSegments(l,"y","x",a,e),n.unreverseEdges(l,s),l},n.unreverseEdges=function(t,e){t.forEach(function(i,o){var r=e[o];r.reversed&&(i.reverse(),i.forEach(function(s){s.reverse()}))})},n.angleBetween2Lines=function(t,e){var i=Math.atan2(t[0].y-t[1].y,t[0].x-t[1].x),o=Math.atan2(e[0].y-e[1].y,e[0].x-e[1].x),r=i-o;return(r>Math.PI||r<-Math.PI)&&(r=o-i),r},n.isLeft=function(t,e,i){return(e.x-t.x)*(i.y-t.y)-(e.y-t.y)*(i.x-t.x)<=0},n.getOrder=function(t){for(var e={},i=0;i<t.length;i++){var o=t[i];typeof e[o.l]>"u"&&(e[o.l]={}),e[o.l][o.r]=!0}return function(r,s){return typeof e[r]<"u"&&e[r][s]}},n.orderEdges=function(t){for(var e=[],i=0;i<t.length-1;i++)for(var o=i+1;o<t.length;o++){var r=t[i],s=t[o],a=new HW(r,s),l,c,d;if(a.length!==0){if(a.reversed&&(s.reverse(),s.reversed=!0,a=new HW(r,s)),(a.si<=0||a.ti<=0)&&(a.si+a.length>=r.length||a.ti+a.length>=s.length)){e.push({l:i,r:o});continue}a.si+a.length>=r.length||a.ti+a.length>=s.length?(l=r[a.si+1],d=r[a.si-1],c=s[a.ti-1]):(l=r[a.si+a.length-2],c=r[a.si+a.length],d=s[a.ti+a.length]),n.isLeft(l,c,d)?e.push({l:o,r:i}):e.push({l:i,r:o})}}return n.getOrder(e)},n.makeSegments=function(t){function e(c){return{x:c.x,y:c.y}}for(var i=function(c,d,u){return Math.abs((d.x-c.x)*(u.y-c.y)-(d.y-c.y)*(u.x-c.x))<.001},o=[],r=e(t[0]),s=1;s<t.length;s++){var a=e(t[s]),l=s<t.length-1?t[s+1]:null;(!l||!i(r,a,l))&&(o.push([r,a]),r=a)}return o},n.prototype.route=function(t,e){var i=this,o=this.nodes[t],r=this.nodes[e];this.obstacles=this.siblingObstacles(o,r);var s={};this.obstacles.forEach(function(v){return s[v.id]=v}),this.passableEdges=this.edges.filter(function(v){var b=i.verts[v.source],C=i.verts[v.target];return!(b.node&&b.node.id in s||C.node&&C.node.id in s)});for(var a=1;a<o.ports.length;a++){var l=o.ports[0].id,c=o.ports[a].id;this.passableEdges.push({source:l,target:c,length:0})}for(var a=1;a<r.ports.length;a++){var l=r.ports[0].id,c=r.ports[a].id;this.passableEdges.push({source:l,target:c,length:0})}var d=function(v){return v.source},u=function(v){return v.target},h=function(v){return v.length},m=new G4e.Calculator(this.verts.length,this.passableEdges,d,u,h),f=function(v,b,C){var k=i.verts[v],E=i.verts[b],F=i.verts[C],L=Math.abs(F.x-k.x),H=Math.abs(F.y-k.y);return k.node===o&&k.node===E.node||E.node===r&&E.node===F.node?0:L>1&&H>1?1e3:0},p=m.PathFromNodeToNodeWithPrevCost(o.ports[0].id,r.ports[0].id,f),g=p.reverse().map(function(v){return i.verts[v]});return g.push(this.nodes[r.id].ports[0]),g.filter(function(v,b){return!(b<g.length-1&&g[b+1].node===o&&v.node===o||b>0&&v.node===r&&g[b-1].node===r)})},n.getRoutePath=function(t,e,i,o){var r={routepath:"M "+t[0][0].x+" "+t[0][0].y+" ",arrowpath:""};if(t.length>1)for(var s=0;s<t.length;s++){var a=t[s],l=a[1].x,c=a[1].y,d=l-a[0].x,u=c-a[0].y;if(s<t.length-1){Math.abs(d)>0?l-=d/Math.abs(d)*e:c-=u/Math.abs(u)*e,r.routepath+="L "+l+" "+c+" ";var h=t[s+1],m=h[0].x,f=h[0].y,p=h[1].x,g=h[1].y;d=p-m,u=g-f;var v=n.angleBetween2Lines(a,h)<0?1:0,b,C;Math.abs(d)>0?(b=m+d/Math.abs(d)*e,C=f):(b=m,C=f+u/Math.abs(u)*e);var k=Math.abs(b-l),E=Math.abs(C-c);r.routepath+="A "+k+" "+E+" 0 0 "+v+" "+b+" "+C+" "}else{var F=[l,c],L,H;Math.abs(d)>0?(l-=d/Math.abs(d)*o,L=[l,c+i],H=[l,c-i]):(c-=u/Math.abs(u)*o,L=[l+i,c],H=[l-i,c]),r.routepath+="L "+l+" "+c+" ",o>0&&(r.arrowpath="M "+F[0]+" "+F[1]+" L "+L[0]+" "+L[1]+" L "+H[0]+" "+H[1])}}else{var a=t[0],l=a[1].x,c=a[1].y,d=l-a[0].x,u=c-a[0].y,F=[l,c],L,H;Math.abs(d)>0?(l-=d/Math.abs(d)*o,L=[l,c+i],H=[l,c-i]):(c-=u/Math.abs(u)*o,L=[l+i,c],H=[l-i,c]),r.routepath+="L "+l+" "+c+" ",o>0&&(r.arrowpath="M "+F[0]+" "+F[1]+" L "+L[0]+" "+L[1]+" L "+H[0]+" "+H[1])}return r},n}();$_.GridRouter=$4e});var jde=O(rx=>{"use strict";Object.defineProperty(rx,"__esModule",{value:!0});var K4e=ex(),WW=nA(),Y4e=j_(),X4e=iA(),Z4e=function(){function n(t,e){this.source=t,this.target=e}return n.prototype.actualLength=function(t){var e=this;return Math.sqrt(t.reduce(function(i,o){var r=o[e.target]-o[e.source];return i+r*r},0))},n}();rx.Link3D=Z4e;var Q4e=function(){function n(t,e,i){t===void 0&&(t=0),e===void 0&&(e=0),i===void 0&&(i=0),this.x=t,this.y=e,this.z=i}return n}();rx.Node3D=Q4e;var J4e=function(){function n(t,e,i){var o=this;i===void 0&&(i=1),this.nodes=t,this.links=e,this.idealLinkLength=i,this.constraints=null,this.useJaccardLinkLengths=!0,this.result=new Array(n.k);for(var r=0;r<n.k;++r)this.result[r]=new Array(t.length);t.forEach(function(s,a){for(var l=0,c=n.dims;l<c.length;l++){var d=c[l];typeof s[d]>"u"&&(s[d]=Math.random())}o.result[0][a]=s.x,o.result[1][a]=s.y,o.result[2][a]=s.z})}return n.prototype.linkLength=function(t){return t.actualLength(this.result)},n.prototype.start=function(t){var e=this;t===void 0&&(t=100);var i=this.nodes.length,o=new e5e;this.useJaccardLinkLengths&&X4e.jaccardLinkLengths(this.links,o,1.5),this.links.forEach(function(d){return d.length*=e.idealLinkLength});var r=new K4e.Calculator(i,this.links,function(d){return d.source},function(d){return d.target},function(d){return d.length}).DistanceMatrix(),s=WW.Descent.createSquareMatrix(i,function(d,u){return r[d][u]}),a=WW.Descent.createSquareMatrix(i,function(){return 2});this.links.forEach(function(d){var u=d.source,h=d.target;return a[u][h]=a[h][u]=1}),this.descent=new WW.Descent(this.result,s),this.descent.threshold=.001,this.descent.G=a,this.constraints&&(this.descent.project=new Y4e.Projection(this.nodes,null,null,this.constraints).projectFunctions());for(var l=0;l<this.nodes.length;l++){var c=this.nodes[l];c.fixed&&this.descent.locks.add(l,[c.x,c.y,c.z])}return this.descent.run(t),this},n.prototype.tick=function(){this.descent.locks.clear();for(var t=0;t<this.nodes.length;t++){var e=this.nodes[t];e.fixed&&this.descent.locks.add(t,[e.x,e.y,e.z])}return this.descent.rungeKutta()},n.dims=["x","y","z"],n.k=n.dims.length,n}();rx.Layout3D=J4e;var e5e=function(){function n(){}return n.prototype.getSourceIndex=function(t){return t.source},n.prototype.getTargetIndex=function(t){return t.target},n.prototype.getLength=function(t){return t.length},n.prototype.setLength=function(t,e){t.length=e},n}()});var Ude=O(vA=>{"use strict";Object.defineProperty(vA,"__esModule",{value:!0});var jW=U_(),t5e=VW();function i5e(n,t,e,i){n.cola.start(0,0,0,10,!1);var o=n5e(n.cola.nodes(),n.cola.groups(),e,i);return o.routeEdges(n.powerGraph.powerEdges,t,function(r){return r.source.routerNode.id},function(r){return r.target.routerNode.id})}vA.gridify=i5e;function n5e(n,t,e,i){n.forEach(function(r){r.routerNode={name:r.name,bounds:r.bounds.inflate(-e)}}),t.forEach(function(r){r.routerNode={bounds:r.bounds.inflate(-i),children:(typeof r.groups<"u"?r.groups.map(function(s){return n.length+s.id}):[]).concat(typeof r.leaves<"u"?r.leaves.map(function(s){return s.index}):[])}});var o=n.concat(t).map(function(r,s){return r.routerNode.id=s,r.routerNode});return new t5e.GridRouter(o,{getChildren:function(r){return r.children},getBounds:function(r){return r.bounds}},e-i)}function o5e(n,t,e){var i;n.nodes.forEach(function(a,l){return a.index=l}),new jW.Layout().avoidOverlaps(!1).nodes(n.nodes).links(n.links).powerGraphGroups(function(a){i=a,i.groups.forEach(function(l){return l.padding=e})});var o=n.nodes.length,r=[],s=n.nodes.slice(0);return s.forEach(function(a,l){return a.index=l}),i.groups.forEach(function(a){var l=a.index=a.id+o;s.push(a),typeof a.leaves<"u"&&a.leaves.forEach(function(c){return r.push({source:l,target:c.index})}),typeof a.groups<"u"&&a.groups.forEach(function(c){return r.push({source:l,target:c.id+o})})}),i.powerEdges.forEach(function(a){r.push({source:a.source.index,target:a.target.index})}),new jW.Layout().size(t).nodes(s).links(r).avoidOverlaps(!1).linkDistance(30).symmetricDiffLinkLengths(5).convergenceThreshold(1e-4).start(100,0,0,0,!1),{cola:new jW.Layout().convergenceThreshold(.001).size(t).avoidOverlaps(!0).nodes(n.nodes).links(n.links).groupCompactness(1e-4).linkDistance(30).symmetricDiffLinkLengths(5).powerGraphGroups(function(a){i=a,i.groups.forEach(function(l){l.padding=e})}).start(50,0,100,0,!1),powerGraph:i}}vA.powerGraphGridLayout=o5e});var qde=O(bA=>{"use strict";function Mr(n){for(var t in n)bA.hasOwnProperty(t)||(bA[t]=n[t])}Object.defineProperty(bA,"__esModule",{value:!0});Mr(Fde());Mr(Vde());Mr(nA());Mr(OW());Mr(VW());Mr(PW());Mr(U_());Mr(jde());Mr(iA());Mr(yW());Mr(MW());Mr(SW());Mr(j_());Mr(ex());Mr(sA());Mr(Ude())});var dt=new ae("");var B8=null;function ia(){return B8}function dO(n){B8??=n}var Hv=class{},uO=(()=>{class n{historyGo(e){throw new Error("")}static \u0275fac=function(i){return new(i||n)};static \u0275prov=se({token:n,factory:()=>y(H8),providedIn:"platform"})}return n})();var H8=(()=>{class n extends uO{_location;_history;_doc=y(dt);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ia().getBaseHref(this._doc)}onPopState(e){let i=ia().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){let i=ia().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,i,o){this._history.pushState(e,i,o)}replaceState(e,i,o){this._history.replaceState(e,i,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static \u0275fac=function(i){return new(i||n)};static \u0275prov=se({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function V8(n,t){return n?t?n.endsWith("/")?t.startsWith("/")?n+t.slice(1):n+t:t.startsWith("/")?n+t:`${n}/${t}`:n:t}function F8(n){let t=n.search(/#|\?|$/);return n[t-1]==="/"?n.slice(0,t-1)+n.slice(t):n}function qd(n){return n&&n[0]!=="?"?`?${n}`:n}var Jp=(()=>{class n{historyGo(e){throw new Error("")}static \u0275fac=function(i){return new(i||n)};static \u0275prov=se({token:n,factory:()=>y(j8),providedIn:"root"})}return n})(),W8=new ae(""),j8=(()=>{class n extends Jp{_platformLocation;_baseHref;_removeListenerFns=[];constructor(e,i){super(),this._platformLocation=e,this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??y(dt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return V8(this._baseHref,e)}path(e=!1){let i=this._platformLocation.pathname+qd(this._platformLocation.search),o=this._platformLocation.hash;return o&&e?`${i}${o}`:i}pushState(e,i,o,r){let s=this.prepareExternalUrl(o+qd(r));this._platformLocation.pushState(e,i,s)}replaceState(e,i,o,r){let s=this.prepareExternalUrl(o+qd(r));this._platformLocation.replaceState(e,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static \u0275fac=function(i){return new(i||n)(Je(uO),Je(W8,8))};static \u0275prov=se({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Gd=(()=>{class n{_subject=new De;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(e){this._locationStrategy=e;let i=this._locationStrategy.getBaseHref();this._basePath=jue(F8(z8(i))),this._locationStrategy.onPopState(o=>{this._subject.next({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+qd(i))}normalize(e){return n.stripTrailingSlash(Wue(this._basePath,z8(e)))}prepareExternalUrl(e){return e&&e[0]!=="/"&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",o=null){this._locationStrategy.pushState(o,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+qd(i)),o)}replaceState(e,i="",o=null){this._locationStrategy.replaceState(o,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+qd(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(o=>o(e,i))}subscribe(e,i,o){return this._subject.subscribe({next:e,error:i??void 0,complete:o??void 0})}static normalizeQueryParams=qd;static joinWithSlash=V8;static stripTrailingSlash=F8;static \u0275fac=function(i){return new(i||n)(Je(Jp))};static \u0275prov=se({token:n,factory:()=>Vue(),providedIn:"root"})}return n})();function Vue(){return new Gd(Je(Jp))}function Wue(n,t){if(!n||!t.startsWith(n))return t;let e=t.substring(n.length);return e===""||["/",";","?","#"].includes(e[0])?e:t}function z8(n){return n.replace(/\/index.html$/,"")}function jue(n){if(new RegExp("^(https?:)?//").test(n)){let[,e]=n.split(/\/\/[^\/]+/);return e}return n}var yO=function(n){return n[n.Decimal=0]="Decimal",n[n.Percent=1]="Percent",n[n.Currency=2]="Currency",n[n.Scientific=3]="Scientific",n}(yO||{});var xr=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(xr||{}),Zi=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(Zi||{}),Jr=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(Jr||{}),es={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function X8(n){return gs(n)[no.LocaleId]}function Z8(n,t,e){let i=gs(n),o=[i[no.DayPeriodsFormat],i[no.DayPeriodsStandalone]],r=na(o,t);return na(r,e)}function Q8(n,t,e){let i=gs(n),o=[i[no.DaysFormat],i[no.DaysStandalone]],r=na(o,t);return na(r,e)}function J8(n,t,e){let i=gs(n),o=[i[no.MonthsFormat],i[no.MonthsStandalone]],r=na(o,t);return na(r,e)}function e6(n,t){let i=gs(n)[no.Eras];return na(i,t)}function Vv(n,t){let e=gs(n);return na(e[no.DateFormat],t)}function Wv(n,t){let e=gs(n);return na(e[no.TimeFormat],t)}function jv(n,t){let i=gs(n)[no.DateTimeFormat];return na(i,t)}function kl(n,t){let e=gs(n),i=e[no.NumberSymbols][t];if(typeof i>"u"){if(t===es.CurrencyDecimal)return e[no.NumberSymbols][es.Decimal];if(t===es.CurrencyGroup)return e[no.NumberSymbols][es.Group]}return i}function t6(n,t){return gs(n)[no.NumberFormats][t]}function i6(n){if(!n[no.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[no.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function n6(n){let t=gs(n);return i6(t),(t[no.ExtraData][2]||[]).map(i=>typeof i=="string"?hO(i):[hO(i[0]),hO(i[1])])}function o6(n,t,e){let i=gs(n);i6(i);let o=[i[no.ExtraData][0],i[no.ExtraData][1]],r=na(o,t)||[];return na(r,e)||[]}function na(n,t){for(let e=t;e>-1;e--)if(typeof n[e]<"u")return n[e];throw new Error("Locale data API: locale data undefined")}function hO(n){let[t,e]=n.split(":");return{hours:+t,minutes:+e}}var Uue=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,$C={},que=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function r6(n,t,e,i){let o=ehe(n);t=Hc(e,t)||t;let s=[],a;for(;t;)if(a=que.exec(t),a){s=s.concat(a.slice(1));let d=s.pop();if(!d)break;t=d}else{s.push(t);break}let l=o.getTimezoneOffset();i&&(l=a6(i,l),o=Jue(o,i));let c="";return s.forEach(d=>{let u=Zue(d);c+=u?u(o,e,l):d==="''"?"'":d.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function QC(n,t,e){let i=new Date(0);return i.setFullYear(n,t,e),i.setHours(0,0,0),i}function Hc(n,t){let e=X8(n);if($C[e]??={},$C[e][t])return $C[e][t];let i="";switch(t){case"shortDate":i=Vv(n,Jr.Short);break;case"mediumDate":i=Vv(n,Jr.Medium);break;case"longDate":i=Vv(n,Jr.Long);break;case"fullDate":i=Vv(n,Jr.Full);break;case"shortTime":i=Wv(n,Jr.Short);break;case"mediumTime":i=Wv(n,Jr.Medium);break;case"longTime":i=Wv(n,Jr.Long);break;case"fullTime":i=Wv(n,Jr.Full);break;case"short":let o=Hc(n,"shortTime"),r=Hc(n,"shortDate");i=KC(jv(n,Jr.Short),[o,r]);break;case"medium":let s=Hc(n,"mediumTime"),a=Hc(n,"mediumDate");i=KC(jv(n,Jr.Medium),[s,a]);break;case"long":let l=Hc(n,"longTime"),c=Hc(n,"longDate");i=KC(jv(n,Jr.Long),[l,c]);break;case"full":let d=Hc(n,"fullTime"),u=Hc(n,"fullDate");i=KC(jv(n,Jr.Full),[d,u]);break}return i&&($C[e][t]=i),i}function KC(n,t){return t&&(n=n.replace(/\{([^}]+)}/g,function(e,i){return t!=null&&i in t?t[i]:e})),n}function Wa(n,t,e="-",i,o){let r="";(n<0||o&&n<=0)&&(o?n=-n+1:(n=-n,r=e));let s=String(n);for(;s.length<t;)s="0"+s;return i&&(s=s.slice(s.length-t)),r+s}function Gue(n,t){return Wa(n,3).substring(0,t)}function xo(n,t,e=0,i=!1,o=!1){return function(r,s){let a=$ue(n,r);if((e>0||a>-e)&&(a+=e),n===3)a===0&&e===-12&&(a=12);else if(n===6)return Gue(a,t);let l=kl(s,es.MinusSign);return Wa(a,t,l,i,o)}}function $ue(n,t){switch(n){case 0:return t.getFullYear();case 1:return t.getMonth();case 2:return t.getDate();case 3:return t.getHours();case 4:return t.getMinutes();case 5:return t.getSeconds();case 6:return t.getMilliseconds();case 7:return t.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}function pn(n,t,e=xr.Format,i=!1){return function(o,r){return Kue(o,r,n,t,e,i)}}function Kue(n,t,e,i,o,r){switch(e){case 2:return J8(t,o,i)[n.getMonth()];case 1:return Q8(t,o,i)[n.getDay()];case 0:let s=n.getHours(),a=n.getMinutes();if(r){let c=n6(t),d=o6(t,o,i),u=c.findIndex(h=>{if(Array.isArray(h)){let[m,f]=h,p=s>=m.hours&&a>=m.minutes,g=s<f.hours||s===f.hours&&a<f.minutes;if(m.hours<f.hours){if(p&&g)return!0}else if(p||g)return!0}else if(h.hours===s&&h.minutes===a)return!0;return!1});if(u!==-1)return d[u]}return Z8(t,o,i)[s<12?0:1];case 3:return e6(t,i)[n.getFullYear()<=0?0:1];default:let l=e;throw new Error(`unexpected translation type ${l}`)}}function YC(n){return function(t,e,i){let o=-1*i,r=kl(e,es.MinusSign),s=o>0?Math.floor(o/60):Math.ceil(o/60);switch(n){case 0:return(o>=0?"+":"")+Wa(s,2,r)+Wa(Math.abs(o%60),2,r);case 1:return"GMT"+(o>=0?"+":"")+Wa(s,1,r);case 2:return"GMT"+(o>=0?"+":"")+Wa(s,2,r)+":"+Wa(Math.abs(o%60),2,r);case 3:return i===0?"Z":(o>=0?"+":"")+Wa(s,2,r)+":"+Wa(Math.abs(o%60),2,r);default:throw new Error(`Unknown zone width "${n}"`)}}}var Yue=0,ZC=4;function Xue(n){let t=QC(n,Yue,1).getDay();return QC(n,0,1+(t<=ZC?ZC:ZC+7)-t)}function s6(n){let t=n.getDay(),e=t===0?-3:ZC-t;return QC(n.getFullYear(),n.getMonth(),n.getDate()+e)}function mO(n,t=!1){return function(e,i){let o;if(t){let r=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,s=e.getDate();o=1+Math.floor((s+r)/7)}else{let r=s6(e),s=Xue(r.getFullYear()),a=r.getTime()-s.getTime();o=1+Math.round(a/6048e5)}return Wa(o,n,kl(i,es.MinusSign))}}function XC(n,t=!1){return function(e,i){let r=s6(e).getFullYear();return Wa(r,n,kl(i,es.MinusSign),t)}}var pO={};function Zue(n){if(pO[n])return pO[n];let t;switch(n){case"G":case"GG":case"GGG":t=pn(3,Zi.Abbreviated);break;case"GGGG":t=pn(3,Zi.Wide);break;case"GGGGG":t=pn(3,Zi.Narrow);break;case"y":t=xo(0,1,0,!1,!0);break;case"yy":t=xo(0,2,0,!0,!0);break;case"yyy":t=xo(0,3,0,!1,!0);break;case"yyyy":t=xo(0,4,0,!1,!0);break;case"Y":t=XC(1);break;case"YY":t=XC(2,!0);break;case"YYY":t=XC(3);break;case"YYYY":t=XC(4);break;case"M":case"L":t=xo(1,1,1);break;case"MM":case"LL":t=xo(1,2,1);break;case"MMM":t=pn(2,Zi.Abbreviated);break;case"MMMM":t=pn(2,Zi.Wide);break;case"MMMMM":t=pn(2,Zi.Narrow);break;case"LLL":t=pn(2,Zi.Abbreviated,xr.Standalone);break;case"LLLL":t=pn(2,Zi.Wide,xr.Standalone);break;case"LLLLL":t=pn(2,Zi.Narrow,xr.Standalone);break;case"w":t=mO(1);break;case"ww":t=mO(2);break;case"W":t=mO(1,!0);break;case"d":t=xo(2,1);break;case"dd":t=xo(2,2);break;case"c":case"cc":t=xo(7,1);break;case"ccc":t=pn(1,Zi.Abbreviated,xr.Standalone);break;case"cccc":t=pn(1,Zi.Wide,xr.Standalone);break;case"ccccc":t=pn(1,Zi.Narrow,xr.Standalone);break;case"cccccc":t=pn(1,Zi.Short,xr.Standalone);break;case"E":case"EE":case"EEE":t=pn(1,Zi.Abbreviated);break;case"EEEE":t=pn(1,Zi.Wide);break;case"EEEEE":t=pn(1,Zi.Narrow);break;case"EEEEEE":t=pn(1,Zi.Short);break;case"a":case"aa":case"aaa":t=pn(0,Zi.Abbreviated);break;case"aaaa":t=pn(0,Zi.Wide);break;case"aaaaa":t=pn(0,Zi.Narrow);break;case"b":case"bb":case"bbb":t=pn(0,Zi.Abbreviated,xr.Standalone,!0);break;case"bbbb":t=pn(0,Zi.Wide,xr.Standalone,!0);break;case"bbbbb":t=pn(0,Zi.Narrow,xr.Standalone,!0);break;case"B":case"BB":case"BBB":t=pn(0,Zi.Abbreviated,xr.Format,!0);break;case"BBBB":t=pn(0,Zi.Wide,xr.Format,!0);break;case"BBBBB":t=pn(0,Zi.Narrow,xr.Format,!0);break;case"h":t=xo(3,1,-12);break;case"hh":t=xo(3,2,-12);break;case"H":t=xo(3,1);break;case"HH":t=xo(3,2);break;case"m":t=xo(4,1);break;case"mm":t=xo(4,2);break;case"s":t=xo(5,1);break;case"ss":t=xo(5,2);break;case"S":t=xo(6,1);break;case"SS":t=xo(6,2);break;case"SSS":t=xo(6,3);break;case"Z":case"ZZ":case"ZZZ":t=YC(0);break;case"ZZZZZ":t=YC(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=YC(1);break;case"OOOO":case"ZZZZ":case"zzzz":t=YC(2);break;default:return null}return pO[n]=t,t}function a6(n,t){n=n.replace(/:/g,"");let e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?t:e}function Que(n,t){return n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+t),n}function Jue(n,t,e){let o=n.getTimezoneOffset(),r=a6(t,o);return Que(n,-1*(r-o))}function ehe(n){if(U8(n))return n;if(typeof n=="number"&&!isNaN(n))return new Date(n);if(typeof n=="string"){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){let[o,r=1,s=1]=n.split("-").map(a=>+a);return QC(o,r-1,s)}let e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let i;if(i=n.match(Uue))return the(i)}let t=new Date(n);if(!U8(t))throw new Error(`Unable to convert "${n}" into a date`);return t}function the(n){let t=new Date(0),e=0,i=0,o=n[8]?t.setUTCFullYear:t.setFullYear,r=n[8]?t.setUTCHours:t.setHours;n[9]&&(e=Number(n[9]+n[10]),i=Number(n[9]+n[11])),o.call(t,Number(n[1]),Number(n[2])-1,Number(n[3]));let s=Number(n[4]||0)-e,a=Number(n[5]||0)-i,l=Number(n[6]||0),c=Math.floor(parseFloat("0."+(n[7]||0))*1e3);return r.call(t,s,a,l,c),t}function U8(n){return n instanceof Date&&!isNaN(n.valueOf())}var ihe=/^(\d+)?\.((\d+)(-(\d+))?)?$/,q8=22,JC=".",Uv="0",nhe=";",ohe=",",fO="#";function rhe(n,t,e,i,o,r,s=!1){let a="",l=!1;if(!isFinite(n))a=kl(e,es.Infinity);else{let c=lhe(n);s&&(c=ahe(c));let d=t.minInt,u=t.minFrac,h=t.maxFrac;if(r){let b=r.match(ihe);if(b===null)throw new Error(`${r} is not a valid digit info`);let C=b[1],k=b[3],E=b[5];C!=null&&(d=gO(C)),k!=null&&(u=gO(k)),E!=null?h=gO(E):k!=null&&u>h&&(h=u)}che(c,u,h);let m=c.digits,f=c.integerLen,p=c.exponent,g=[];for(l=m.every(b=>!b);f<d;f++)m.unshift(0);for(;f<0;f++)m.unshift(0);f>0?g=m.splice(f,m.length):(g=m,m=[0]);let v=[];for(m.length>=t.lgSize&&v.unshift(m.splice(-t.lgSize,m.length).join(""));m.length>t.gSize;)v.unshift(m.splice(-t.gSize,m.length).join(""));m.length&&v.unshift(m.join("")),a=v.join(kl(e,i)),g.length&&(a+=kl(e,o)+g.join("")),p&&(a+=kl(e,es.Exponential)+"+"+p)}return n<0&&!l?a=t.negPre+a+t.negSuf:a=t.posPre+a+t.posSuf,a}function l6(n,t,e){let i=t6(t,yO.Decimal),o=she(i,kl(t,es.MinusSign));return rhe(n,o,t,es.Group,es.Decimal,e)}function she(n,t="-"){let e={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=n.split(nhe),o=i[0],r=i[1],s=o.indexOf(JC)!==-1?o.split(JC):[o.substring(0,o.lastIndexOf(Uv)+1),o.substring(o.lastIndexOf(Uv)+1)],a=s[0],l=s[1]||"";e.posPre=a.substring(0,a.indexOf(fO));for(let d=0;d<l.length;d++){let u=l.charAt(d);u===Uv?e.minFrac=e.maxFrac=d+1:u===fO?e.maxFrac=d+1:e.posSuf+=u}let c=a.split(ohe);if(e.gSize=c[1]?c[1].length:0,e.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,r){let d=o.length-e.posPre.length-e.posSuf.length,u=r.indexOf(fO);e.negPre=r.substring(0,u).replace(/'/g,""),e.negSuf=r.slice(u+d).replace(/'/g,"")}else e.negPre=t+e.posPre,e.negSuf=e.posSuf;return e}function ahe(n){if(n.digits[0]===0)return n;let t=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(t===0?n.digits.push(0,0):t===1&&n.digits.push(0),n.integerLen+=2),n}function lhe(n){let t=Math.abs(n)+"",e=0,i,o,r,s,a;for((o=t.indexOf(JC))>-1&&(t=t.replace(JC,"")),(r=t.search(/e/i))>0?(o<0&&(o=r),o+=+t.slice(r+1),t=t.substring(0,r)):o<0&&(o=t.length),r=0;t.charAt(r)===Uv;r++);if(r===(a=t.length))i=[0],o=1;else{for(a--;t.charAt(a)===Uv;)a--;for(o-=r,i=[],s=0;r<=a;r++,s++)i[s]=Number(t.charAt(r))}return o>q8&&(i=i.splice(0,q8-1),e=o-1,o=1),{digits:i,exponent:e,integerLen:o}}function che(n,t,e){if(t>e)throw new Error(`The minimum number of digits after fraction (${t}) is higher than the maximum (${e}).`);let i=n.digits,o=i.length-n.integerLen,r=Math.min(Math.max(t,o),e),s=r+n.integerLen,a=i[s];if(s>0){i.splice(Math.max(n.integerLen,s));for(let u=s;u<i.length;u++)i[u]=0}else{o=Math.max(0,o),n.integerLen=1,i.length=Math.max(1,s=r+1),i[0]=0;for(let u=1;u<s;u++)i[u]=0}if(a>=5)if(s-1<0){for(let u=0;u>s;u--)i.unshift(0),n.integerLen++;i.unshift(1),n.integerLen++}else i[s-1]++;for(;o<Math.max(0,r);o++)i.push(0);let l=r!==0,c=t+n.integerLen,d=i.reduceRight(function(u,h,m,f){return h=h+u,f[m]=h<10?h:h-10,l&&(f[m]===0&&m>=c?f.pop():l=!1),h>=10?1:0},0);d&&(i.unshift(d),n.integerLen++)}function gO(n){let t=parseInt(n);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+n);return t}var _O=/\s+/,G8=[],qv=(()=>{class n{_ngEl;_renderer;initialClasses=G8;rawClass;stateMap=new Map;constructor(e,i){this._ngEl=e,this._renderer=i}set klass(e){this.initialClasses=e!=null?e.trim().split(_O):G8}set ngClass(e){this.rawClass=typeof e=="string"?e.trim().split(_O):e}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(let i of e)this._updateState(i,!0);else if(e!=null)for(let i of Object.keys(e))this._updateState(i,!!e[i]);this._applyStateDiff()}_updateState(e,i){let o=this.stateMap.get(e);o!==void 0?(o.enabled!==i&&(o.changed=!0,o.enabled=i),o.touched=!0):this.stateMap.set(e,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let e of this.stateMap){let i=e[0],o=e[1];o.changed?(this._toggleClass(i,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),o.touched=!1}}_toggleClass(e,i){e=e.trim(),e.length>0&&e.split(_O).forEach(o=>{i?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}static \u0275fac=function(i){return new(i||n)(J(Oe),J(Li))};static \u0275dir=me({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return n})();var eS=class{$implicit;ngForOf;index;count;constructor(t,e,i,o){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=o}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},ef=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(e,i,o){this._viewContainer=e,this._template=i,this._differs=o}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){let e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){let i=this._viewContainer;e.forEachOperation((o,r,s)=>{if(o.previousIndex==null)i.createEmbeddedView(this._template,new eS(o.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)i.remove(r===null?void 0:r);else if(r!==null){let a=i.get(r);i.move(a,s),$8(a,o)}});for(let o=0,r=i.length;o<r;o++){let a=i.get(o).context;a.index=o,a.count=r,a.ngForOf=this._ngForOf}e.forEachIdentityChange(o=>{let r=i.get(o.currentIndex);$8(r,o)})}static ngTemplateContextGuard(e,i){return!0}static \u0275fac=function(i){return new(i||n)(J(io),J(vo),J(_c))};static \u0275dir=me({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function $8(n,t){n.context.$implicit=t.item}var uo=(()=>{class n{_viewContainer;_context=new tS;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(e,i){this._viewContainer=e,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){K8(e,!1),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){K8(e,!1),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(e,i){return!0}static \u0275fac=function(i){return new(i||n)(J(io),J(vo))};static \u0275dir=me({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),tS=class{$implicit=null;ngIf=null};function K8(n,t){if(n&&!n.createEmbeddedView)throw new si(2020,!1)}var Hh=(()=>{class n{_viewContainerRef;_viewRef=null;ngTemplateOutletContext=null;ngTemplateOutlet=null;ngTemplateOutletInjector=null;constructor(e){this._viewContainerRef=e}ngOnChanges(e){if(this._shouldRecreateView(e)){let i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let o=this._createContextForwardProxy();this._viewRef=i.createEmbeddedView(this.ngTemplateOutlet,o,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(e){return!!e.ngTemplateOutlet||!!e.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(e,i,o)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,i,o):!1,get:(e,i,o)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,i,o)}})}static \u0275fac=function(i){return new(i||n)(J(io))};static \u0275dir=me({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},features:[fi]})}return n})();function wO(n,t){return new si(2100,!1)}var vO=class{createSubscription(t,e){return Yr(()=>t.subscribe({next:e,error:i=>{throw i}}))}dispose(t){Yr(()=>t.unsubscribe())}},bO=class{createSubscription(t,e){return t.then(e,i=>{throw i})}dispose(t){}},dhe=new bO,uhe=new vO,xO=(()=>{class n{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;constructor(e){this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){if(!this._obj){if(e)try{this.markForCheckOnValueUpdate=!1,this._subscribe(e)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,i=>this._updateLatestValue(e,i))}_selectStrategy(e){if(_p(e))return dhe;if(Nj(e))return uhe;throw wO(n,e)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,i){e===this._obj&&(this._latestValue=i,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(i){return new(i||n)(J(Gt,16))};static \u0275pipe=gc({name:"async",type:n,pure:!1})}return n})();var hhe="mediumDate",c6=new ae(""),d6=new ae(""),Gv=(()=>{class n{locale;defaultTimezone;defaultOptions;constructor(e,i,o){this.locale=e,this.defaultTimezone=i,this.defaultOptions=o}transform(e,i,o,r){if(e==null||e===""||e!==e)return null;try{let s=i??this.defaultOptions?.dateFormat??hhe,a=o??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return r6(e,s,r||this.locale,a)}catch(s){throw wO(n,s.message)}}static \u0275fac=function(i){return new(i||n)(J(nR,16),J(c6,24),J(d6,24))};static \u0275pipe=gc({name:"date",type:n,pure:!0})}return n})();function mhe(n,t){return{key:n,value:t}}var CO=(()=>{class n{differs;constructor(e){this.differs=e}differ;keyValues=[];compareFn=Y8;transform(e,i=Y8){if(!e||!(e instanceof Map)&&typeof e!="object")return null;this.differ??=this.differs.find(e).create();let o=this.differ.diff(e),r=i!==this.compareFn;return o&&(this.keyValues=[],o.forEachItem(s=>{this.keyValues.push(mhe(s.key,s.currentValue))})),(o||r)&&(i&&this.keyValues.sort(i),this.compareFn=i),this.keyValues}static \u0275fac=function(i){return new(i||n)(J(qj,16))};static \u0275pipe=gc({name:"keyvalue",type:n,pure:!1})}return n})();function Y8(n,t){let e=n.key,i=t.key;if(e===i)return 0;if(e==null)return 1;if(i==null)return-1;if(typeof e=="string"&&typeof i=="string")return e<i?-1:1;if(typeof e=="number"&&typeof i=="number")return e-i;if(typeof e=="boolean"&&typeof i=="boolean")return e<i?-1:1;let o=String(e),r=String(i);return o==r?0:o<r?-1:1}var SO=(()=>{class n{_locale;constructor(e){this._locale=e}transform(e,i,o){if(!phe(e))return null;o||=this._locale;try{let r=fhe(e);return l6(r,o,i)}catch(r){throw wO(n,r.message)}}static \u0275fac=function(i){return new(i||n)(J(nR,16))};static \u0275pipe=gc({name:"number",type:n,pure:!0})}return n})();function phe(n){return!(n==null||n===""||n!==n)}function fhe(n){if(typeof n=="string"&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if(typeof n!="number")throw new Error(`${n} is not a number`);return n}var $v=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=yt({type:n});static \u0275inj=bt({})}return n})();function Kv(n,t){t=encodeURIComponent(t);for(let e of n.split(";")){let i=e.indexOf("="),[o,r]=i==-1?[e,""]:[e.slice(0,i),e.slice(i+1)];if(o.trim()===t)return decodeURIComponent(r)}return null}var iS="browser",u6="server";function Yv(n){return n===iS}function nS(n){return n===u6}var Vh=class{};var sS=new ae(""),MO=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(e,i){this._zone=i,e.forEach(o=>{o.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,i,o,r){return this._findPluginFor(i).addEventListener(e,i,o,r)}getZone(){return this._zone}_findPluginFor(e){let i=this._eventNameToPlugin.get(e);if(i)return i;if(i=this._plugins.find(r=>r.supports(e)),!i)throw new si(5101,!1);return this._eventNameToPlugin.set(e,i),i}static \u0275fac=function(i){return new(i||n)(Je(sS),Je(Ye))};static \u0275prov=se({token:n,factory:n.\u0275fac})}return n})(),Xv=class{_doc;constructor(t){this._doc=t}manager},oS="ng-app-id";function m6(n){for(let t of n)t.remove()}function p6(n,t){let e=t.createElement("style");return e.textContent=n,e}function ghe(n,t,e,i){let o=n.head?.querySelectorAll(`style[${oS}="${t}"],link[${oS}="${t}"]`);if(o)for(let r of o)r.removeAttribute(oS),r instanceof HTMLLinkElement?i.set(r.href.slice(r.href.lastIndexOf("/")+1),{usage:0,elements:[r]}):r.textContent&&e.set(r.textContent,{usage:0,elements:[r]})}function IO(n,t){let e=t.createElement("link");return e.setAttribute("rel","stylesheet"),e.setAttribute("href",n),e}var kO=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(e,i,o,r={}){this.doc=e,this.appId=i,this.nonce=o,this.isServer=nS(r),ghe(e,i,this.inline,this.external),this.hosts.add(e.head)}addStyles(e,i){for(let o of e)this.addUsage(o,this.inline,p6);i?.forEach(o=>this.addUsage(o,this.external,IO))}removeStyles(e,i){for(let o of e)this.removeUsage(o,this.inline);i?.forEach(o=>this.removeUsage(o,this.external))}addUsage(e,i,o){let r=i.get(e);r?r.usage++:i.set(e,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,o(e,this.doc)))})}removeUsage(e,i){let o=i.get(e);o&&(o.usage--,o.usage<=0&&(m6(o.elements),i.delete(e)))}ngOnDestroy(){for(let[,{elements:e}]of[...this.inline,...this.external])m6(e);this.hosts.clear()}addHost(e){this.hosts.add(e);for(let[i,{elements:o}]of this.inline)o.push(this.addElement(e,p6(i,this.doc)));for(let[i,{elements:o}]of this.external)o.push(this.addElement(e,IO(i,this.doc)))}removeHost(e){this.hosts.delete(e)}addElement(e,i){return this.nonce&&i.setAttribute("nonce",this.nonce),this.isServer&&i.setAttribute(oS,this.appId),e.appendChild(i)}static \u0275fac=function(i){return new(i||n)(Je(dt),Je(vh),Je(rv,8),Je(Ia))};static \u0275prov=se({token:n,factory:n.\u0275fac})}return n})(),DO={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},TO=/%COMP%/g;var g6="%COMP%",_he=`_nghost-${g6}`,vhe=`_ngcontent-${g6}`,bhe=!0,yhe=new ae("",{providedIn:"root",factory:()=>bhe});function whe(n){return vhe.replace(TO,n)}function xhe(n){return _he.replace(TO,n)}function _6(n,t){return t.map(e=>e.replace(TO,n))}var Jv=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(e,i,o,r,s,a,l,c=null,d=null){this.eventManager=e,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=r,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=c,this.tracingService=d,this.platformIsServer=nS(a),this.defaultRenderer=new Zv(e,s,l,this.platformIsServer,this.tracingService)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===sv.ShadowDom&&(i=Ae(j({},i),{encapsulation:sv.Emulated}));let o=this.getOrCreateRenderer(e,i);return o instanceof rS?o.applyToHost(e):o instanceof Qv&&o.applyStyles(),o}getOrCreateRenderer(e,i){let o=this.rendererByCompId,r=o.get(i.id);if(!r){let s=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,u=this.platformIsServer,h=this.tracingService;switch(i.encapsulation){case sv.Emulated:r=new rS(l,c,i,this.appId,d,s,a,u,h);break;case sv.ShadowDom:return new EO(l,c,e,i,s,a,this.nonce,u,h);default:r=new Qv(l,c,i,d,s,a,u,h);break}o.set(i.id,r)}return r}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(e){this.rendererByCompId.delete(e)}static \u0275fac=function(i){return new(i||n)(Je(MO),Je(kO),Je(vh),Je(yhe),Je(dt),Je(Ia),Je(Ye),Je(rv),Je(xj,8))};static \u0275prov=se({token:n,factory:n.\u0275fac})}return n})(),Zv=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,e,i,o,r){this.eventManager=t,this.doc=e,this.ngZone=i,this.platformIsServer=o,this.tracingService=r}destroy(){}destroyNode=null;createElement(t,e){return e?this.doc.createElementNS(DO[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(f6(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(f6(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){e.remove()}selectRootElement(t,e){let i=typeof t=="string"?this.doc.querySelector(t):t;if(!i)throw new si(-5104,!1);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,o){if(o){e=o+":"+e;let r=DO[o];r?t.setAttributeNS(r,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){let o=DO[i];o?t.removeAttributeNS(o,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,o){o&(gp.DashCase|gp.Important)?t.style.setProperty(e,i,o&gp.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&gp.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t!=null&&(t[e]=i)}setValue(t,e){t.nodeValue=e}listen(t,e,i,o){if(typeof t=="string"&&(t=ia().getGlobalEventTarget(this.doc,t),!t))throw new si(5102,!1);let r=this.decoratePreventDefault(i);return this.tracingService?.wrapEventListener&&(r=this.tracingService.wrapEventListener(t,e,r)),this.eventManager.addEventListener(t,e,r,o)}decoratePreventDefault(t){return e=>{if(e==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(e)):t(e))===!1&&e.preventDefault()}}};function f6(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var EO=class extends Zv{sharedStylesHost;hostEl;shadowRoot;constructor(t,e,i,o,r,s,a,l,c){super(t,r,s,l,c),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let d=o.styles;d=_6(o.id,d);for(let h of d){let m=document.createElement("style");a&&m.setAttribute("nonce",a),m.textContent=h,this.shadowRoot.appendChild(m)}let u=o.getExternalStyles?.();if(u)for(let h of u){let m=IO(h,r);a&&m.setAttribute("nonce",a),this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(null,e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Qv=class extends Zv{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,e,i,o,r,s,a,l,c){super(t,r,s,a,l),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=o;let d=i.styles;this.styles=c?_6(c,d):d,this.styleUrls=i.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},rS=class extends Qv{contentAttr;hostAttr;constructor(t,e,i,o,r,s,a,l,c){let d=o+"-"+i.id;super(t,e,i,r,s,a,l,c,d),this.contentAttr=whe(d),this.hostAttr=xhe(d)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){let i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}};var aS=class n extends Hv{supportsDOMEvents=!0;static makeCurrent(){dO(new n)}onAndCancel(t,e,i,o){return t.addEventListener(e,i,o),()=>{t.removeEventListener(e,i,o)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.remove()}createElement(t,e){return e=e||this.getDefaultDocument(),e.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return e==="window"?window:e==="document"?t:e==="body"?t.body:null}getBaseHref(t){let e=She();return e==null?null:Dhe(e)}resetBaseElement(){eb=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Kv(document.cookie,t)}},eb=null;function She(){return eb=eb||document.querySelector("base"),eb?eb.getAttribute("href"):null}function Dhe(n){return new URL(n,document.baseURI).pathname}var Ihe=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(i){return new(i||n)};static \u0275prov=se({token:n,factory:n.\u0275fac})}return n})(),b6=(()=>{class n extends Xv{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,o,r){return e.addEventListener(i,o,r),()=>this.removeEventListener(e,i,o,r)}removeEventListener(e,i,o,r){return e.removeEventListener(i,o,r)}static \u0275fac=function(i){return new(i||n)(Je(dt))};static \u0275prov=se({token:n,factory:n.\u0275fac})}return n})(),v6=["alt","control","meta","shift"],Ehe={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Mhe={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},y6=(()=>{class n extends Xv{constructor(e){super(e)}supports(e){return n.parseEventName(e)!=null}addEventListener(e,i,o,r){let s=n.parseEventName(i),a=n.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ia().onAndCancel(e,s.domEventName,a,r))}static parseEventName(e){let i=e.toLowerCase().split("."),o=i.shift();if(i.length===0||!(o==="keydown"||o==="keyup"))return null;let r=n._normalizeKey(i.pop()),s="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),s="code."),v6.forEach(c=>{let d=i.indexOf(c);d>-1&&(i.splice(d,1),s+=c+".")}),s+=r,i.length!=0||r.length===0)return null;let l={};return l.domEventName=o,l.fullKey=s,l}static matchEventFullKeyCode(e,i){let o=Ehe[e.key]||e.key,r="";return i.indexOf("code.")>-1&&(o=e.code,r="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),v6.forEach(s=>{if(s!==o){let a=Mhe[s];a(e)&&(r+=s+".")}}),r+=o,r===i)}static eventCallback(e,i,o){return r=>{n.matchEventFullKeyCode(r,e)&&o.runGuarded(()=>i(r))}}static _normalizeKey(e){return e==="esc"?"escape":e}static \u0275fac=function(i){return new(i||n)(Je(dt))};static \u0275prov=se({token:n,factory:n.\u0275fac})}return n})();function AO(n,t){return Gj(j({rootComponent:n},khe(t)))}function khe(n){return{appProviders:[...Phe,...n?.providers??[]],platformProviders:Ohe}}function The(){aS.makeCurrent()}function Ahe(){return new Dd}function Rhe(){return yj(document),document}var Ohe=[{provide:Ia,useValue:iS},{provide:wj,useValue:The,multi:!0},{provide:dt,useFactory:Rhe}];var Phe=[{provide:gj,useValue:"root"},{provide:Dd,useFactory:Ahe},{provide:sS,useClass:b6,multi:!0,deps:[dt]},{provide:sS,useClass:y6,multi:!0,deps:[dt]},Jv,kO,MO,{provide:Qo,useExisting:Jv},{provide:Vh,useClass:Ihe},[]];var nf=class{},tb=class{},$d=class n{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(t){t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(e=>{let i=e.indexOf(":");if(i>0){let o=e.slice(0,i),r=e.slice(i+1).trim();this.addHeaderEntry(o,r)}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((e,i)=>{this.addHeaderEntry(i,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([e,i])=>{this.setHeaderEntries(e,i)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){let e=new n;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){let e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if(typeof i=="string"&&(i=[i]),i.length===0)return;this.maybeSetNormalizedName(t.name,e);let o=(t.op==="a"?this.headers.get(e):void 0)||[];o.push(...i),this.headers.set(e,o);break;case"d":let r=t.value;if(!r)this.headers.delete(e),this.normalizedNames.delete(e);else{let s=this.headers.get(e);if(!s)return;s=s.filter(a=>r.indexOf(a)===-1),s.length===0?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,s)}break}}addHeaderEntry(t,e){let i=t.toLowerCase();this.maybeSetNormalizedName(t,i),this.headers.has(i)?this.headers.get(i).push(e):this.headers.set(i,[e])}setHeaderEntries(t,e){let i=(Array.isArray(e)?e:[e]).map(r=>r.toString()),o=t.toLowerCase();this.headers.set(o,i),this.maybeSetNormalizedName(t,o)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}};var cS=class{encodeKey(t){return w6(t)}encodeValue(t){return w6(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};function Lhe(n,t){let e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(o=>{let r=o.indexOf("="),[s,a]=r==-1?[t.decodeKey(o),""]:[t.decodeKey(o.slice(0,r)),t.decodeValue(o.slice(r+1))],l=e.get(s)||[];l.push(a),e.set(s,l)}),e}var Nhe=/%(\d[a-f0-9])/gi,Fhe={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function w6(n){return encodeURIComponent(n).replace(Nhe,(t,e)=>Fhe[e]??t)}function lS(n){return`${n}`}var Vc=class n{map;encoder;updates=null;cloneFrom=null;constructor(t={}){if(this.encoder=t.encoder||new cS,t.fromString){if(t.fromObject)throw new si(2805,!1);this.map=Lhe(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{let i=t.fromObject[e],o=Array.isArray(i)?i.map(lS):[lS(i)];this.map.set(e,o)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();let e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){let e=[];return Object.keys(t).forEach(i=>{let o=t[i];Array.isArray(o)?o.forEach(r=>{e.push({param:i,value:r,op:"a"})}):e.push({param:i,value:o,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{let e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>t!=="").join("&")}clone(t){let e=new n({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let e=(t.op==="a"?this.map.get(t.param):void 0)||[];e.push(lS(t.value)),this.map.set(t.param,e);break;case"d":if(t.value!==void 0){let i=this.map.get(t.param)||[],o=i.indexOf(lS(t.value));o!==-1&&i.splice(o,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}else{this.map.delete(t.param);break}}}),this.cloneFrom=this.updates=null)}};var dS=class{map=new Map;set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}};function zhe(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function x6(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function C6(n){return typeof Blob<"u"&&n instanceof Blob}function S6(n){return typeof FormData<"u"&&n instanceof FormData}function Bhe(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var D6="Content-Type",I6="Accept",M6="X-Request-URL",k6="text/plain",T6="application/json",Hhe=`${T6}, ${k6}, */*`,tf=class n{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(t,e,i,o){this.url=e,this.method=t.toUpperCase();let r;if(zhe(this.method)||o?(this.body=i!==void 0?i:null,r=o):r=i,r&&(this.reportProgress=!!r.reportProgress,this.withCredentials=!!r.withCredentials,r.responseType&&(this.responseType=r.responseType),r.headers&&(this.headers=r.headers),r.context&&(this.context=r.context),r.params&&(this.params=r.params),this.transferCache=r.transferCache),this.headers??=new $d,this.context??=new dS,!this.params)this.params=new Vc,this.urlWithParams=e;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=e;else{let a=e.indexOf("?"),l=a===-1?"?":a<e.length-1?"&":"";this.urlWithParams=e+l+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||x6(this.body)||C6(this.body)||S6(this.body)||Bhe(this.body)?this.body:this.body instanceof Vc?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||S6(this.body)?null:C6(this.body)?this.body.type||null:x6(this.body)?null:typeof this.body=="string"?k6:this.body instanceof Vc?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?T6:null}clone(t={}){let e=t.method||this.method,i=t.url||this.url,o=t.responseType||this.responseType,r=t.transferCache??this.transferCache,s=t.body!==void 0?t.body:this.body,a=t.withCredentials??this.withCredentials,l=t.reportProgress??this.reportProgress,c=t.headers||this.headers,d=t.params||this.params,u=t.context??this.context;return t.setHeaders!==void 0&&(c=Object.keys(t.setHeaders).reduce((h,m)=>h.set(m,t.setHeaders[m]),c)),t.setParams&&(d=Object.keys(t.setParams).reduce((h,m)=>h.set(m,t.setParams[m]),d)),new n(e,i,s,{params:d,headers:c,context:u,reportProgress:l,responseType:o,withCredentials:a,transferCache:r})}},Wh=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(Wh||{}),of=class{headers;status;statusText;url;ok;type;constructor(t,e=200,i="OK"){this.headers=t.headers||new $d,this.status=t.status!==void 0?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}},uS=class n extends of{constructor(t={}){super(t)}type=Wh.ResponseHeader;clone(t={}){return new n({headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},ib=class n extends of{body;constructor(t={}){super(t),this.body=t.body!==void 0?t.body:null}type=Wh.Response;clone(t={}){return new n({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},nb=class extends of{name="HttpErrorResponse";message;error;ok=!1;constructor(t){super(t,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${t.url||"(unknown url)"}`:this.message=`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}},Vhe=200,Whe=204;function RO(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var rf=(()=>{class n{handler;constructor(e){this.handler=e}request(e,i,o={}){let r;if(e instanceof tf)r=e;else{let l;o.headers instanceof $d?l=o.headers:l=new $d(o.headers);let c;o.params&&(o.params instanceof Vc?c=o.params:c=new Vc({fromObject:o.params})),r=new tf(e,i,o.body!==void 0?o.body:null,{headers:l,context:o.context,params:c,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache})}let s=Ve(r).pipe(qs(l=>this.handler.handle(l)));if(e instanceof tf||o.observe==="events")return s;let a=s.pipe(ii(l=>l instanceof ib));switch(o.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return a.pipe(rt(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new si(2806,!1);return l.body}));case"blob":return a.pipe(rt(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new si(2807,!1);return l.body}));case"text":return a.pipe(rt(l=>{if(l.body!==null&&typeof l.body!="string")throw new si(2808,!1);return l.body}));case"json":default:return a.pipe(rt(l=>l.body))}case"response":return a;default:throw new si(2809,!1)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:new Vc().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,o={}){return this.request("PATCH",e,RO(o,i))}post(e,i,o={}){return this.request("POST",e,RO(o,i))}put(e,i,o={}){return this.request("PUT",e,RO(o,i))}static \u0275fac=function(i){return new(i||n)(Je(nf))};static \u0275prov=se({token:n,factory:n.\u0275fac})}return n})();var jhe=new ae("");function A6(n,t){return t(n)}function Uhe(n,t){return(e,i)=>t.intercept(e,{handle:o=>n(o,i)})}function qhe(n,t,e){return(i,o)=>Da(e,()=>t(i,r=>n(r,o)))}var R6=new ae(""),PO=new ae(""),O6=new ae(""),LO=new ae("",{providedIn:"root",factory:()=>!0});function Ghe(){let n=null;return(t,e)=>{n===null&&(n=(y(R6,{optional:!0})??[]).reduceRight(Uhe,A6));let i=y(ov);if(y(LO)){let r=i.add();return n(t,e).pipe(pc(()=>i.remove(r)))}else return n(t,e)}}var hS=(()=>{class n extends nf{backend;injector;chain=null;pendingTasks=y(ov);contributeToStability=y(LO);constructor(e,i){super(),this.backend=e,this.injector=i}handle(e){if(this.chain===null){let i=Array.from(new Set([...this.injector.get(PO),...this.injector.get(O6,[])]));this.chain=i.reduceRight((o,r)=>qhe(o,r,this.injector),A6)}if(this.contributeToStability){let i=this.pendingTasks.add();return this.chain(e,o=>this.backend.handle(o)).pipe(pc(()=>this.pendingTasks.remove(i)))}else return this.chain(e,i=>this.backend.handle(i))}static \u0275fac=function(i){return new(i||n)(Je(tb),Je(kr))};static \u0275prov=se({token:n,factory:n.\u0275fac})}return n})();var $he=/^\)\]\}',?\n/,Khe=RegExp(`^${M6}:`,"m");function Yhe(n){return"responseURL"in n&&n.responseURL?n.responseURL:Khe.test(n.getAllResponseHeaders())?n.getResponseHeader(M6):null}var OO=(()=>{class n{xhrFactory;constructor(e){this.xhrFactory=e}handle(e){if(e.method==="JSONP")throw new si(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?Pn(i.\u0275loadImpl()):Ve(null)).pipe(En(()=>new mr(r=>{let s=i.build();if(s.open(e.method,e.urlWithParams),e.withCredentials&&(s.withCredentials=!0),e.headers.forEach((p,g)=>s.setRequestHeader(p,g.join(","))),e.headers.has(I6)||s.setRequestHeader(I6,Hhe),!e.headers.has(D6)){let p=e.detectContentTypeHeader();p!==null&&s.setRequestHeader(D6,p)}if(e.responseType){let p=e.responseType.toLowerCase();s.responseType=p!=="json"?p:"text"}let a=e.serializeBody(),l=null,c=()=>{if(l!==null)return l;let p=s.statusText||"OK",g=new $d(s.getAllResponseHeaders()),v=Yhe(s)||e.url;return l=new uS({headers:g,status:s.status,statusText:p,url:v}),l},d=()=>{let{headers:p,status:g,statusText:v,url:b}=c(),C=null;g!==Whe&&(C=typeof s.response>"u"?s.responseText:s.response),g===0&&(g=C?Vhe:0);let k=g>=200&&g<300;if(e.responseType==="json"&&typeof C=="string"){let E=C;C=C.replace($he,"");try{C=C!==""?JSON.parse(C):null}catch(F){C=E,k&&(k=!1,C={error:F,text:C})}}k?(r.next(new ib({body:C,headers:p,status:g,statusText:v,url:b||void 0})),r.complete()):r.error(new nb({error:C,headers:p,status:g,statusText:v,url:b||void 0}))},u=p=>{let{url:g}=c(),v=new nb({error:p,status:s.status||0,statusText:s.statusText||"Unknown Error",url:g||void 0});r.error(v)},h=!1,m=p=>{h||(r.next(c()),h=!0);let g={type:Wh.DownloadProgress,loaded:p.loaded};p.lengthComputable&&(g.total=p.total),e.responseType==="text"&&s.responseText&&(g.partialText=s.responseText),r.next(g)},f=p=>{let g={type:Wh.UploadProgress,loaded:p.loaded};p.lengthComputable&&(g.total=p.total),r.next(g)};return s.addEventListener("load",d),s.addEventListener("error",u),s.addEventListener("timeout",u),s.addEventListener("abort",u),e.reportProgress&&(s.addEventListener("progress",m),a!==null&&s.upload&&s.upload.addEventListener("progress",f)),s.send(a),r.next({type:Wh.Sent}),()=>{s.removeEventListener("error",u),s.removeEventListener("abort",u),s.removeEventListener("load",d),s.removeEventListener("timeout",u),e.reportProgress&&(s.removeEventListener("progress",m),a!==null&&s.upload&&s.upload.removeEventListener("progress",f)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(i){return new(i||n)(Je(Vh))};static \u0275prov=se({token:n,factory:n.\u0275fac})}return n})(),P6=new ae(""),Xhe="XSRF-TOKEN",Zhe=new ae("",{providedIn:"root",factory:()=>Xhe}),Qhe="X-XSRF-TOKEN",Jhe=new ae("",{providedIn:"root",factory:()=>Qhe}),ob=class{},eme=(()=>{class n{doc;platform;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(e,i,o){this.doc=e,this.platform=i,this.cookieName=o}getToken(){if(this.platform==="server")return null;let e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Kv(e,this.cookieName),this.lastCookieString=e),this.lastToken}static \u0275fac=function(i){return new(i||n)(Je(dt),Je(Ia),Je(Zhe))};static \u0275prov=se({token:n,factory:n.\u0275fac})}return n})();function tme(n,t){let e=n.url.toLowerCase();if(!y(P6)||n.method==="GET"||n.method==="HEAD"||e.startsWith("http://")||e.startsWith("https://"))return t(n);let i=y(ob).getToken(),o=y(Jhe);return i!=null&&!n.headers.has(o)&&(n=n.clone({headers:n.headers.set(o,i)})),t(n)}var NO=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(NO||{});function ime(n,t){return{\u0275kind:n,\u0275providers:t}}function FO(...n){let t=[rf,OO,hS,{provide:nf,useExisting:hS},{provide:tb,useFactory:()=>y(jhe,{optional:!0})??y(OO)},{provide:PO,useValue:tme,multi:!0},{provide:P6,useValue:!0},{provide:ob,useClass:eme}];for(let e of n)t.push(...e.\u0275providers);return fc(t)}var E6=new ae("");function zO(){return ime(NO.LegacyInterceptors,[{provide:E6,useFactory:Ghe},{provide:PO,useExisting:E6,multi:!0}])}var N6=(()=>{class n{_doc;constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static \u0275fac=function(i){return new(i||n)(Je(dt))};static \u0275prov=se({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var jh=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=se({token:n,factory:function(i){let o=null;return i?o=new(i||n):o=Je(rme),o},providedIn:"root"})}return n})(),rme=(()=>{class n extends jh{_doc;constructor(e){super(),this._doc=e}sanitize(e,i){if(i==null)return null;switch(e){case ps.NONE:return i;case ps.HTML:return pp(i,"HTML")?mp(i):kj(this._doc,String(i)).toString();case ps.STYLE:return pp(i,"Style")?mp(i):i;case ps.SCRIPT:if(pp(i,"Script"))return mp(i);throw new si(5200,!1);case ps.URL:return pp(i,"URL")?mp(i):Mj(String(i));case ps.RESOURCE_URL:if(pp(i,"ResourceURL"))return mp(i);throw new si(5201,!1);default:throw new si(5202,!1)}}bypassSecurityTrustHtml(e){return Cj(e)}bypassSecurityTrustStyle(e){return Sj(e)}bypassSecurityTrustScript(e){return Dj(e)}bypassSecurityTrustUrl(e){return Ij(e)}bypassSecurityTrustResourceUrl(e){return Ej(e)}static \u0275fac=function(i){return new(i||n)(Je(dt))};static \u0275prov=se({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var ri="primary",vb=Symbol("RouteTitle"),jO=class{params;constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}};function Gh(n){return new jO(n)}function U6(n,t,e){let i=e.path.split("/");if(i.length>n.length||e.pathMatch==="full"&&(t.hasChildren()||i.length<n.length))return null;let o={};for(let r=0;r<i.length;r++){let s=i[r],a=n[r];if(s[0]===":")o[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:o}}function sme(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Tl(n[e],t[e]))return!1;return!0}function Tl(n,t){let e=n?UO(n):void 0,i=t?UO(t):void 0;if(!e||!i||e.length!=i.length)return!1;let o;for(let r=0;r<e.length;r++)if(o=e[r],!q6(n[o],t[o]))return!1;return!0}function UO(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function q6(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;let e=[...n].sort(),i=[...t].sort();return e.every((o,r)=>i[r]===o)}else return n===t}function G6(n){return n.length>0?n[n.length-1]:null}function Xd(n){return iv(n)?n:_p(n)?Pn(Promise.resolve(n)):Ve(n)}var ame={exact:K6,subset:Y6},$6={exact:lme,subset:cme,ignored:()=>!0};function F6(n,t,e){return ame[e.paths](n.root,t.root,e.matrixParams)&&$6[e.queryParams](n.queryParams,t.queryParams)&&!(e.fragment==="exact"&&n.fragment!==t.fragment)}function lme(n,t){return Tl(n,t)}function K6(n,t,e){if(!Uh(n.segments,t.segments)||!_S(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(let i in t.children)if(!n.children[i]||!K6(n.children[i],t.children[i],e))return!1;return!0}function cme(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>q6(n[e],t[e]))}function Y6(n,t,e){return X6(n,t,t.segments,e)}function X6(n,t,e,i){if(n.segments.length>e.length){let o=n.segments.slice(0,e.length);return!(!Uh(o,e)||t.hasChildren()||!_S(o,e,i))}else if(n.segments.length===e.length){if(!Uh(n.segments,e)||!_S(n.segments,e,i))return!1;for(let o in t.children)if(!n.children[o]||!Y6(n.children[o],t.children[o],i))return!1;return!0}else{let o=e.slice(0,n.segments.length),r=e.slice(n.segments.length);return!Uh(n.segments,o)||!_S(n.segments,o,i)||!n.children[ri]?!1:X6(n.children[ri],t,r,i)}}function _S(n,t,e){return t.every((i,o)=>$6[e](n[o].parameters,i.parameters))}var Rl=class{root;queryParams;fragment;_queryParamMap;constructor(t=new Vi([],{}),e={},i=null){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap??=Gh(this.queryParams),this._queryParamMap}toString(){return hme.serialize(this)}},Vi=class{segments;children;parent=null;constructor(t,e){this.segments=t,this.children=e,Object.values(e).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return vS(this)}},Kd=class{path;parameters;_parameterMap;constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap??=Gh(this.parameters),this._parameterMap}toString(){return Q6(this)}};function dme(n,t){return Uh(n,t)&&n.every((e,i)=>Tl(e.parameters,t[i].parameters))}function Uh(n,t){return n.length!==t.length?!1:n.every((e,i)=>e.path===t[i].path)}function ume(n,t){let e=[];return Object.entries(n.children).forEach(([i,o])=>{i===ri&&(e=e.concat(t(o,i)))}),Object.entries(n.children).forEach(([i,o])=>{i!==ri&&(e=e.concat(t(o,i)))}),e}var bb=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=se({token:n,factory:()=>new $h,providedIn:"root"})}return n})(),$h=class{parse(t){let e=new GO(t);return new Rl(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){let e=`/${rb(t.root,!0)}`,i=fme(t.queryParams),o=typeof t.fragment=="string"?`#${mme(t.fragment)}`:"";return`${e}${i}${o}`}},hme=new $h;function vS(n){return n.segments.map(t=>Q6(t)).join("/")}function rb(n,t){if(!n.hasChildren())return vS(n);if(t){let e=n.children[ri]?rb(n.children[ri],!1):"",i=[];return Object.entries(n.children).forEach(([o,r])=>{o!==ri&&i.push(`${o}:${rb(r,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}else{let e=ume(n,(i,o)=>o===ri?[rb(n.children[ri],!1)]:[`${o}:${rb(i,!1)}`]);return Object.keys(n.children).length===1&&n.children[ri]!=null?`${vS(n)}/${e[0]}`:`${vS(n)}/(${e.join("//")})`}}function Z6(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function fS(n){return Z6(n).replace(/%3B/gi,";")}function mme(n){return encodeURI(n)}function qO(n){return Z6(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function bS(n){return decodeURIComponent(n)}function z6(n){return bS(n.replace(/\+/g,"%20"))}function Q6(n){return`${qO(n.path)}${pme(n.parameters)}`}function pme(n){return Object.entries(n).map(([t,e])=>`;${qO(t)}=${qO(e)}`).join("")}function fme(n){let t=Object.entries(n).map(([e,i])=>Array.isArray(i)?i.map(o=>`${fS(e)}=${fS(o)}`).join("&"):`${fS(e)}=${fS(i)}`).filter(e=>e);return t.length?`?${t.join("&")}`:""}var gme=/^[^\/()?;#]+/;function BO(n){let t=n.match(gme);return t?t[0]:""}var _me=/^[^\/()?;=#]+/;function vme(n){let t=n.match(_me);return t?t[0]:""}var bme=/^[^=?&#]+/;function yme(n){let t=n.match(bme);return t?t[0]:""}var wme=/^[^&#]+/;function xme(n){let t=n.match(wme);return t?t[0]:""}var GO=class{url;remaining;constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Vi([],{}):new Vi([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[ri]=new Vi(t,e)),i}parseSegment(){let t=BO(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new si(4009,!1);return this.capture(t),new Kd(bS(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let e=vme(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){let o=BO(this.remaining);o&&(i=o,this.capture(i))}t[bS(e)]=bS(i)}parseQueryParam(t){let e=yme(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){let s=xme(this.remaining);s&&(i=s,this.capture(i))}let o=z6(e),r=z6(i);if(t.hasOwnProperty(o)){let s=t[o];Array.isArray(s)||(s=[s],t[o]=s),s.push(r)}else t[o]=r}parseParens(t){let e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=BO(this.remaining),o=this.remaining[i.length];if(o!=="/"&&o!==")"&&o!==";")throw new si(4010,!1);let r;i.indexOf(":")>-1?(r=i.slice(0,i.indexOf(":")),this.capture(r),this.capture(":")):t&&(r=ri);let s=this.parseChildren();e[r]=Object.keys(s).length===1?s[ri]:new Vi([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new si(4011,!1)}};function J6(n){return n.segments.length>0?new Vi([],{[ri]:n}):n}function eq(n){let t={};for(let[i,o]of Object.entries(n.children)){let r=eq(o);if(i===ri&&r.segments.length===0&&r.hasChildren())for(let[s,a]of Object.entries(r.children))t[s]=a;else(r.segments.length>0||r.hasChildren())&&(t[i]=r)}let e=new Vi(n.segments,t);return Cme(e)}function Cme(n){if(n.numberOfChildren===1&&n.children[ri]){let t=n.children[ri];return new Vi(n.segments.concat(t.segments),t.children)}return n}function Yd(n){return n instanceof Rl}function tq(n,t,e=null,i=null){let o=iq(n);return nq(o,t,e,i)}function iq(n){let t;function e(r){let s={};for(let l of r.children){let c=e(l);s[l.outlet]=c}let a=new Vi(r.url,s);return r===n&&(t=a),a}let i=e(n.root),o=J6(i);return t??o}function nq(n,t,e,i){let o=n;for(;o.parent;)o=o.parent;if(t.length===0)return HO(o,o,o,e,i);let r=Sme(t);if(r.toRoot())return HO(o,o,new Vi([],{}),e,i);let s=Dme(r,o,n),a=s.processChildren?ab(s.segmentGroup,s.index,r.commands):rq(s.segmentGroup,s.index,r.commands);return HO(o,s.segmentGroup,a,e,i)}function wS(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function cb(n){return typeof n=="object"&&n!=null&&n.outlets}function HO(n,t,e,i,o){let r={};i&&Object.entries(i).forEach(([l,c])=>{r[l]=Array.isArray(c)?c.map(d=>`${d}`):`${c}`});let s;n===t?s=e:s=oq(n,t,e);let a=J6(eq(s));return new Rl(a,r,o)}function oq(n,t,e){let i={};return Object.entries(n.children).forEach(([o,r])=>{r===t?i[o]=e:i[o]=oq(r,t,e)}),new Vi(n.segments,i)}var xS=class{isAbsolute;numberOfDoubleDots;commands;constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&wS(i[0]))throw new si(4003,!1);let o=i.find(cb);if(o&&o!==G6(i))throw new si(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function Sme(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new xS(!0,0,n);let t=0,e=!1,i=n.reduce((o,r,s)=>{if(typeof r=="object"&&r!=null){if(r.outlets){let a={};return Object.entries(r.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...o,{outlets:a}]}if(r.segmentPath)return[...o,r.segmentPath]}return typeof r!="string"?[...o,r]:s===0?(r.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?e=!0:a===".."?t++:a!=""&&o.push(a))}),o):[...o,r]},[]);return new xS(e,t,i)}var lf=class{segmentGroup;processChildren;index;constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}};function Dme(n,t,e){if(n.isAbsolute)return new lf(t,!0,0);if(!e)return new lf(t,!1,NaN);if(e.parent===null)return new lf(e,!0,0);let i=wS(n.commands[0])?0:1,o=e.segments.length-1+i;return Ime(e,o,n.numberOfDoubleDots)}function Ime(n,t,e){let i=n,o=t,r=e;for(;r>o;){if(r-=o,i=i.parent,!i)throw new si(4005,!1);o=i.segments.length}return new lf(i,!1,o-r)}function Eme(n){return cb(n[0])?n[0].outlets:{[ri]:n}}function rq(n,t,e){if(n??=new Vi([],{}),n.segments.length===0&&n.hasChildren())return ab(n,t,e);let i=Mme(n,t,e),o=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){let r=new Vi(n.segments.slice(0,i.pathIndex),{});return r.children[ri]=new Vi(n.segments.slice(i.pathIndex),n.children),ab(r,0,o)}else return i.match&&o.length===0?new Vi(n.segments,{}):i.match&&!n.hasChildren()?$O(n,t,e):i.match?ab(n,0,o):$O(n,t,e)}function ab(n,t,e){if(e.length===0)return new Vi(n.segments,{});{let i=Eme(e),o={};if(Object.keys(i).some(r=>r!==ri)&&n.children[ri]&&n.numberOfChildren===1&&n.children[ri].segments.length===0){let r=ab(n.children[ri],t,e);return new Vi(n.segments,r.children)}return Object.entries(i).forEach(([r,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(o[r]=rq(n.children[r],t,s))}),Object.entries(n.children).forEach(([r,s])=>{i[r]===void 0&&(o[r]=s)}),new Vi(n.segments,o)}}function Mme(n,t,e){let i=0,o=t,r={match:!1,pathIndex:0,commandIndex:0};for(;o<n.segments.length;){if(i>=e.length)return r;let s=n.segments[o],a=e[i];if(cb(a))break;let l=`${a}`,c=i<e.length-1?e[i+1]:null;if(o>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!H6(l,c,s))return r;i+=2}else{if(!H6(l,{},s))return r;i++}o++}return{match:!0,pathIndex:o,commandIndex:i}}function $O(n,t,e){let i=n.segments.slice(0,t),o=0;for(;o<e.length;){let r=e[o];if(cb(r)){let l=kme(r.outlets);return new Vi(i,l)}if(o===0&&wS(e[0])){let l=n.segments[t];i.push(new Kd(l.path,B6(e[0]))),o++;continue}let s=cb(r)?r.outlets[ri]:`${r}`,a=o<e.length-1?e[o+1]:null;s&&a&&wS(a)?(i.push(new Kd(s,B6(a))),o+=2):(i.push(new Kd(s,{})),o++)}return new Vi(i,{})}function kme(n){let t={};return Object.entries(n).forEach(([e,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(t[e]=$O(new Vi([],{}),0,i))}),t}function B6(n){let t={};return Object.entries(n).forEach(([e,i])=>t[e]=`${i}`),t}function H6(n,t,e){return n==e.path&&Tl(t,e.parameters)}var yS="imperative",$o=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}($o||{}),Ms=class{id;url;constructor(t,e){this.id=t,this.url=e}},Kh=class extends Ms{type=$o.NavigationStart;navigationTrigger;restoredState;constructor(t,e,i="imperative",o=null){super(t,e),this.navigationTrigger=i,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Br=class extends Ms{urlAfterRedirects;type=$o.NavigationEnd;constructor(t,e,i){super(t,e),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},ts=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(ts||{}),db=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(db||{}),Al=class extends Ms{reason;code;type=$o.NavigationCancel;constructor(t,e,i,o){super(t,e),this.reason=i,this.code=o}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Wc=class extends Ms{reason;code;type=$o.NavigationSkipped;constructor(t,e,i,o){super(t,e),this.reason=i,this.code=o}},df=class extends Ms{error;target;type=$o.NavigationError;constructor(t,e,i,o){super(t,e),this.error=i,this.target=o}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},ub=class extends Ms{urlAfterRedirects;state;type=$o.RoutesRecognized;constructor(t,e,i,o){super(t,e),this.urlAfterRedirects=i,this.state=o}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},CS=class extends Ms{urlAfterRedirects;state;type=$o.GuardsCheckStart;constructor(t,e,i,o){super(t,e),this.urlAfterRedirects=i,this.state=o}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},SS=class extends Ms{urlAfterRedirects;state;shouldActivate;type=$o.GuardsCheckEnd;constructor(t,e,i,o,r){super(t,e),this.urlAfterRedirects=i,this.state=o,this.shouldActivate=r}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},DS=class extends Ms{urlAfterRedirects;state;type=$o.ResolveStart;constructor(t,e,i,o){super(t,e),this.urlAfterRedirects=i,this.state=o}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},IS=class extends Ms{urlAfterRedirects;state;type=$o.ResolveEnd;constructor(t,e,i,o){super(t,e),this.urlAfterRedirects=i,this.state=o}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ES=class{route;type=$o.RouteConfigLoadStart;constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},MS=class{route;type=$o.RouteConfigLoadEnd;constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},kS=class{snapshot;type=$o.ChildActivationStart;constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},TS=class{snapshot;type=$o.ChildActivationEnd;constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},AS=class{snapshot;type=$o.ActivationStart;constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},RS=class{snapshot;type=$o.ActivationEnd;constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var hb=class{},uf=class{url;navigationBehaviorOptions;constructor(t,e){this.url=t,this.navigationBehaviorOptions=e}};function Tme(n,t){return n.providers&&!n._injector&&(n._injector=eR(n.providers,t,`Route: ${n.path}`)),n._injector??t}function ja(n){return n.outlet||ri}function Ame(n,t){let e=n.filter(i=>ja(i)===t);return e.push(...n.filter(i=>ja(i)!==t)),e}function yb(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){let e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}var OS=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return yb(this.route?.snapshot)??this.rootInjector}constructor(t){this.rootInjector=t,this.children=new pf(this.rootInjector)}},pf=(()=>{class n{rootInjector;contexts=new Map;constructor(e){this.rootInjector=e}onChildOutletCreated(e,i){let o=this.getOrCreateContext(e);o.outlet=i,this.contexts.set(e,o)}onChildOutletDestroyed(e){let i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new OS(this.rootInjector),this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}static \u0275fac=function(i){return new(i||n)(Je(kr))};static \u0275prov=se({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),PS=class{_root;constructor(t){this._root=t}get root(){return this._root.value}parent(t){let e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){let e=KO(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){let e=KO(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){let e=YO(t,this._root);return e.length<2?[]:e[e.length-2].children.map(o=>o.value).filter(o=>o!==t)}pathFromRoot(t){return YO(t,this._root).map(e=>e.value)}};function KO(n,t){if(n===t.value)return t;for(let e of t.children){let i=KO(n,e);if(i)return i}return null}function YO(n,t){if(n===t.value)return[t];for(let e of t.children){let i=YO(n,e);if(i.length)return i.unshift(t),i}return[]}var Es=class{value;children;constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}};function af(n){let t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}var mb=class extends PS{snapshot;constructor(t,e){super(t),this.snapshot=e,nP(this,t)}toString(){return this.snapshot.toString()}};function sq(n){let t=Rme(n),e=new go([new Kd("",{})]),i=new go({}),o=new go({}),r=new go({}),s=new go(""),a=new Lo(e,i,r,s,o,ri,n,t.root);return a.snapshot=t.root,new mb(new Es(a,[]),t)}function Rme(n){let t={},e={},i={},o="",r=new qh([],t,i,o,e,ri,n,null,{});return new pb("",new Es(r,[]))}var Lo=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(t,e,i,o,r,s,a,l){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=i,this.fragmentSubject=o,this.dataSubject=r,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(rt(c=>c[vb]))??Ve(void 0),this.url=t,this.params=e,this.queryParams=i,this.fragment=o,this.data=r}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(rt(t=>Gh(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(rt(t=>Gh(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function LS(n,t,e="emptyOnly"){let i,{routeConfig:o}=n;return t!==null&&(e==="always"||o?.path===""||!t.component&&!t.routeConfig?.loadComponent)?i={params:j(j({},t.params),n.params),data:j(j({},t.data),n.data),resolve:j(j(j(j({},n.data),t.data),o?.data),n._resolvedData)}:i={params:j({},n.params),data:j({},n.data),resolve:j(j({},n.data),n._resolvedData??{})},o&&lq(o)&&(i.resolve[vb]=o.title),i}var qh=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[vb]}constructor(t,e,i,o,r,s,a,l,c){this.url=t,this.params=e,this.queryParams=i,this.fragment=o,this.data=r,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Gh(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Gh(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(i=>i.toString()).join("/"),e=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${e}')`}},pb=class extends PS{url;constructor(t,e){super(e),this.url=t,nP(this,e)}toString(){return aq(this._root)}};function nP(n,t){t.value._routerState=n,t.children.forEach(e=>nP(n,e))}function aq(n){let t=n.children.length>0?` { ${n.children.map(aq).join(", ")} } `:"";return`${n.value}${t}`}function VO(n){if(n.snapshot){let t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Tl(t.queryParams,e.queryParams)||n.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&n.fragmentSubject.next(e.fragment),Tl(t.params,e.params)||n.paramsSubject.next(e.params),sme(t.url,e.url)||n.urlSubject.next(e.url),Tl(t.data,e.data)||n.dataSubject.next(e.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function XO(n,t){let e=Tl(n.params,t.params)&&dme(n.url,t.url),i=!n.parent!=!t.parent;return e&&!i&&(!n.parent||XO(n.parent,t.parent))}function lq(n){return typeof n.title=="string"||n.title===null}var cq=new ae(""),wb=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=ri;activateEvents=new Le;deactivateEvents=new Le;attachEvents=new Le;detachEvents=new Le;routerOutletData=rn(void 0);parentContexts=y(pf);location=y(io);changeDetector=y(Gt);inputBinder=y(BS,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(e){if(e.name){let{firstChange:i,previousValue:o}=e.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new si(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new si(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new si(4012,!1);this.location.detach();let e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){let e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new si(4013,!1);this._activatedRoute=e;let o=this.location,s=e.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new ZO(e,a,o.injector,this.routerOutletData);this.activated=o.createComponent(s,{index:o.length,injector:l,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(i){return new(i||n)};static \u0275dir=me({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[fi]})}return n})(),ZO=class{route;childContexts;parent;outletData;constructor(t,e,i,o){this.route=t,this.childContexts=e,this.parent=i,this.outletData=o}get(t,e){return t===Lo?this.route:t===pf?this.childContexts:t===cq?this.outletData:this.parent.get(t,e)}},BS=new ae("");function Ome(n,t,e){let i=fb(n,t._root,e?e._root:void 0);return new mb(i,t)}function fb(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){let i=e.value;i._futureSnapshot=t.value;let o=Pme(n,t,e);return new Es(i,o)}else{if(n.shouldAttach(t.value)){let r=n.retrieve(t.value);if(r!==null){let s=r.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>fb(n,a)),s}}let i=Lme(t.value),o=t.children.map(r=>fb(n,r));return new Es(i,o)}}function Pme(n,t,e){return t.children.map(i=>{for(let o of e.children)if(n.shouldReuseRoute(i.value,o.value.snapshot))return fb(n,i,o);return fb(n,i)})}function Lme(n){return new Lo(new go(n.url),new go(n.params),new go(n.queryParams),new go(n.fragment),new go(n.data),n.outlet,n.component,n)}var hf=class{redirectTo;navigationBehaviorOptions;constructor(t,e){this.redirectTo=t,this.navigationBehaviorOptions=e}},dq="ngNavigationCancelingError";function NS(n,t){let{redirectTo:e,navigationBehaviorOptions:i}=Yd(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,o=uq(!1,ts.Redirect);return o.url=e,o.navigationBehaviorOptions=i,o}function uq(n,t){let e=new Error(`NavigationCancelingError: ${n||""}`);return e[dq]=!0,e.cancellationCode=t,e}function Nme(n){return hq(n)&&Yd(n.url)}function hq(n){return!!n&&n[dq]}var Fme=(n,t,e,i)=>rt(o=>(new QO(t,o.targetRouterState,o.currentRouterState,e,i).activate(n),o)),QO=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(t,e,i,o,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=o,this.inputBindingEnabled=r}activate(t){let e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),VO(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){let o=af(e);t.children.forEach(r=>{let s=r.value.outlet;this.deactivateRoutes(r,o[s],i),delete o[s]}),Object.values(o).forEach(r=>{this.deactivateRouteAndItsChildren(r,i)})}deactivateRoutes(t,e,i){let o=t.value,r=e?e.value:null;if(o===r)if(o.component){let s=i.getContext(o.outlet);s&&this.deactivateChildRoutes(t,e,s.children)}else this.deactivateChildRoutes(t,e,i);else r&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){let i=e.getContext(t.value.outlet),o=i&&t.value.component?i.children:e,r=af(t);for(let s of Object.values(r))this.deactivateRouteAndItsChildren(s,o);if(i&&i.outlet){let s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,e){let i=e.getContext(t.value.outlet),o=i&&t.value.component?i.children:e,r=af(t);for(let s of Object.values(r))this.deactivateRouteAndItsChildren(s,o);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(t,e,i){let o=af(e);t.children.forEach(r=>{this.activateRoutes(r,o[r.value.outlet],i),this.forwardEvent(new RS(r.value.snapshot))}),t.children.length&&this.forwardEvent(new TS(t.value.snapshot))}activateRoutes(t,e,i){let o=t.value,r=e?e.value:null;if(VO(o),o===r)if(o.component){let s=i.getOrCreateContext(o.outlet);this.activateChildRoutes(t,e,s.children)}else this.activateChildRoutes(t,e,i);else if(o.component){let s=i.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){let a=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),VO(a.route.value),this.activateChildRoutes(t,null,s.children)}else s.attachRef=null,s.route=o,s.outlet&&s.outlet.activateWith(o,s.injector),this.activateChildRoutes(t,null,s.children)}else this.activateChildRoutes(t,null,i)}},FS=class{path;route;constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},cf=class{component;route;constructor(t,e){this.component=t,this.route=e}};function zme(n,t,e){let i=n._root,o=t?t._root:null;return sb(i,o,e,[i.value])}function Bme(n){let t=n.routeConfig?n.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:n,guards:t}}function ff(n,t){let e=Symbol(),i=t.get(n,e);return i===e?typeof n=="function"&&!fj(n)?n:t.get(n):i}function sb(n,t,e,i,o={canDeactivateChecks:[],canActivateChecks:[]}){let r=af(t);return n.children.forEach(s=>{Hme(s,r[s.value.outlet],e,i.concat([s.value]),o),delete r[s.value.outlet]}),Object.entries(r).forEach(([s,a])=>lb(a,e.getContext(s),o)),o}function Hme(n,t,e,i,o={canDeactivateChecks:[],canActivateChecks:[]}){let r=n.value,s=t?t.value:null,a=e?e.getContext(n.value.outlet):null;if(s&&r.routeConfig===s.routeConfig){let l=Vme(s,r,r.routeConfig.runGuardsAndResolvers);l?o.canActivateChecks.push(new FS(i)):(r.data=s.data,r._resolvedData=s._resolvedData),r.component?sb(n,t,a?a.children:null,i,o):sb(n,t,e,i,o),l&&a&&a.outlet&&a.outlet.isActivated&&o.canDeactivateChecks.push(new cf(a.outlet.component,s))}else s&&lb(t,a,o),o.canActivateChecks.push(new FS(i)),r.component?sb(n,null,a?a.children:null,i,o):sb(n,null,e,i,o);return o}function Vme(n,t,e){if(typeof e=="function")return e(n,t);switch(e){case"pathParamsChange":return!Uh(n.url,t.url);case"pathParamsOrQueryParamsChange":return!Uh(n.url,t.url)||!Tl(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!XO(n,t)||!Tl(n.queryParams,t.queryParams);case"paramsChange":default:return!XO(n,t)}}function lb(n,t,e){let i=af(n),o=n.value;Object.entries(i).forEach(([r,s])=>{o.component?t?lb(s,t.children.getContext(r),e):lb(s,null,e):lb(s,t,e)}),o.component?t&&t.outlet&&t.outlet.isActivated?e.canDeactivateChecks.push(new cf(t.outlet.component,o)):e.canDeactivateChecks.push(new cf(null,o)):e.canDeactivateChecks.push(new cf(null,o))}function xb(n){return typeof n=="function"}function Wme(n){return typeof n=="boolean"}function jme(n){return n&&xb(n.canLoad)}function Ume(n){return n&&xb(n.canActivate)}function qme(n){return n&&xb(n.canActivateChild)}function Gme(n){return n&&xb(n.canDeactivate)}function $me(n){return n&&xb(n.canMatch)}function mq(n){return n instanceof cj||n?.name==="EmptyError"}var gS=Symbol("INITIAL_VALUE");function mf(){return En(n=>hc(n.map(t=>t.pipe(_o(1),Ji(gS)))).pipe(rt(t=>{for(let e of t)if(e!==!0){if(e===gS)return gS;if(e===!1||Kme(e))return e}return!0}),ii(t=>t!==gS),_o(1)))}function Kme(n){return Yd(n)||n instanceof hf}function Yme(n,t){return Zo(e=>{let{targetSnapshot:i,currentSnapshot:o,guards:{canActivateChecks:r,canDeactivateChecks:s}}=e;return s.length===0&&r.length===0?Ve(Ae(j({},e),{guardsResult:!0})):Xme(s,i,o,n).pipe(Zo(a=>a&&Wme(a)?Zme(i,r,n,t):Ve(a)),rt(a=>Ae(j({},e),{guardsResult:a})))})}function Xme(n,t,e,i){return Pn(n).pipe(Zo(o=>ipe(o.component,o.route,e,t,i)),ul(o=>o!==!0,!0))}function Zme(n,t,e,i){return Pn(t).pipe(qs(o=>px(Jme(o.route.parent,i),Qme(o.route,i),tpe(n,o.path,e),epe(n,o.route,e))),ul(o=>o!==!0,!0))}function Qme(n,t){return n!==null&&t&&t(new AS(n)),Ve(!0)}function Jme(n,t){return n!==null&&t&&t(new kS(n)),Ve(!0)}function epe(n,t,e){let i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||i.length===0)return Ve(!0);let o=i.map(r=>Sa(()=>{let s=yb(t)??e,a=ff(r,s),l=Ume(a)?a.canActivate(t,n):Da(s,()=>a(t,n));return Xd(l).pipe(ul())}));return Ve(o).pipe(mf())}function tpe(n,t,e){let i=t[t.length-1],r=t.slice(0,t.length-1).reverse().map(s=>Bme(s)).filter(s=>s!==null).map(s=>Sa(()=>{let a=s.guards.map(l=>{let c=yb(s.node)??e,d=ff(l,c),u=qme(d)?d.canActivateChild(i,n):Da(c,()=>d(i,n));return Xd(u).pipe(ul())});return Ve(a).pipe(mf())}));return Ve(r).pipe(mf())}function ipe(n,t,e,i,o){let r=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!r||r.length===0)return Ve(!0);let s=r.map(a=>{let l=yb(t)??o,c=ff(a,l),d=Gme(c)?c.canDeactivate(n,t,e,i):Da(l,()=>c(n,t,e,i));return Xd(d).pipe(ul())});return Ve(s).pipe(mf())}function npe(n,t,e,i){let o=t.canLoad;if(o===void 0||o.length===0)return Ve(!0);let r=o.map(s=>{let a=ff(s,n),l=jme(a)?a.canLoad(t,e):Da(n,()=>a(t,e));return Xd(l)});return Ve(r).pipe(mf(),pq(i))}function pq(n){return aj(on(t=>{if(typeof t!="boolean")throw NS(n,t)}),rt(t=>t===!0))}function ope(n,t,e,i){let o=t.canMatch;if(!o||o.length===0)return Ve(!0);let r=o.map(s=>{let a=ff(s,n),l=$me(a)?a.canMatch(t,e):Da(n,()=>a(t,e));return Xd(l)});return Ve(r).pipe(mf(),pq(i))}var gb=class{segmentGroup;constructor(t){this.segmentGroup=t||null}},_b=class extends Error{urlTree;constructor(t){super(),this.urlTree=t}};function sf(n){return Ca(new gb(n))}function rpe(n){return Ca(new si(4e3,!1))}function spe(n){return Ca(uq(!1,ts.GuardRejected))}var JO=class{urlSerializer;urlTree;constructor(t,e){this.urlSerializer=t,this.urlTree=e}lineralizeSegments(t,e){let i=[],o=e.root;for(;;){if(i=i.concat(o.segments),o.numberOfChildren===0)return Ve(i);if(o.numberOfChildren>1||!o.children[ri])return rpe(`${t.redirectTo}`);o=o.children[ri]}}applyRedirectCommands(t,e,i,o,r){if(typeof e!="string"){let a=e,{queryParams:l,fragment:c,routeConfig:d,url:u,outlet:h,params:m,data:f,title:p}=o,g=Da(r,()=>a({params:m,data:f,queryParams:l,fragment:c,routeConfig:d,url:u,outlet:h,title:p}));if(g instanceof Rl)throw new _b(g);e=g}let s=this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i);if(e[0]==="/")throw new _b(s);return s}applyRedirectCreateUrlTree(t,e,i,o){let r=this.createSegmentGroup(t,e.root,i,o);return new Rl(r,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){let i={};return Object.entries(t).forEach(([o,r])=>{if(typeof r=="string"&&r[0]===":"){let a=r.substring(1);i[o]=e[a]}else i[o]=r}),i}createSegmentGroup(t,e,i,o){let r=this.createSegments(t,e.segments,i,o),s={};return Object.entries(e.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(t,l,i,o)}),new Vi(r,s)}createSegments(t,e,i,o){return e.map(r=>r.path[0]===":"?this.findPosParam(t,r,o):this.findOrReturn(r,i))}findPosParam(t,e,i){let o=i[e.path.substring(1)];if(!o)throw new si(4001,!1);return o}findOrReturn(t,e){let i=0;for(let o of e){if(o.path===t.path)return e.splice(i),o;i++}return t}},eP={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ape(n,t,e,i,o){let r=fq(n,t,e);return r.matched?(i=Tme(t,i),ope(i,t,e,o).pipe(rt(s=>s===!0?r:j({},eP)))):Ve(r)}function fq(n,t,e){if(t.path==="**")return lpe(e);if(t.path==="")return t.pathMatch==="full"&&(n.hasChildren()||e.length>0)?j({},eP):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};let o=(t.matcher||U6)(e,n,t);if(!o)return j({},eP);let r={};Object.entries(o.posParams??{}).forEach(([a,l])=>{r[a]=l.path});let s=o.consumed.length>0?j(j({},r),o.consumed[o.consumed.length-1].parameters):r;return{matched:!0,consumedSegments:o.consumed,remainingSegments:e.slice(o.consumed.length),parameters:s,positionalParamSegments:o.posParams??{}}}function lpe(n){return{matched:!0,parameters:n.length>0?G6(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function V6(n,t,e,i){return e.length>0&&upe(n,e,i)?{segmentGroup:new Vi(t,dpe(i,new Vi(e,n.children))),slicedSegments:[]}:e.length===0&&hpe(n,e,i)?{segmentGroup:new Vi(n.segments,cpe(n,e,i,n.children)),slicedSegments:e}:{segmentGroup:new Vi(n.segments,n.children),slicedSegments:e}}function cpe(n,t,e,i){let o={};for(let r of e)if(HS(n,t,r)&&!i[ja(r)]){let s=new Vi([],{});o[ja(r)]=s}return j(j({},i),o)}function dpe(n,t){let e={};e[ri]=t;for(let i of n)if(i.path===""&&ja(i)!==ri){let o=new Vi([],{});e[ja(i)]=o}return e}function upe(n,t,e){return e.some(i=>HS(n,t,i)&&ja(i)!==ri)}function hpe(n,t,e){return e.some(i=>HS(n,t,i))}function HS(n,t,e){return(n.hasChildren()||t.length>0)&&e.pathMatch==="full"?!1:e.path===""}function mpe(n,t,e){return t.length===0&&!n.children[e]}var tP=class{};function ppe(n,t,e,i,o,r,s="emptyOnly"){return new iP(n,t,e,i,o,s,r).recognize()}var fpe=31,iP=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(t,e,i,o,r,s,a){this.injector=t,this.configLoader=e,this.rootComponentType=i,this.config=o,this.urlTree=r,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new JO(this.urlSerializer,this.urlTree)}noMatchError(t){return new si(4002,`'${t.segmentGroup}'`)}recognize(){let t=V6(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(rt(({children:e,rootSnapshot:i})=>{let o=new Es(i,e),r=new pb("",o),s=tq(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,r.url=this.urlSerializer.serialize(s),{state:r,tree:s}}))}match(t){let e=new qh([],Object.freeze({}),Object.freeze(j({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ri,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,ri,e).pipe(rt(i=>({children:i,rootSnapshot:e})),mc(i=>{if(i instanceof _b)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof gb?this.noMatchError(i):i}))}processSegmentGroup(t,e,i,o,r){return i.segments.length===0&&i.hasChildren()?this.processChildren(t,e,i,r):this.processSegment(t,e,i,i.segments,o,!0,r).pipe(rt(s=>s instanceof Es?[s]:[]))}processChildren(t,e,i,o){let r=[];for(let s of Object.keys(i.children))s==="primary"?r.unshift(s):r.push(s);return Pn(r).pipe(qs(s=>{let a=i.children[s],l=Ame(e,s);return this.processSegmentGroup(t,l,a,s,o)}),mj((s,a)=>(s.push(...a),s)),UA(null),hj(),Zo(s=>{if(s===null)return sf(i);let a=gq(s);return gpe(a),Ve(a)}))}processSegment(t,e,i,o,r,s,a){return Pn(e).pipe(qs(l=>this.processSegmentAgainstRoute(l._injector??t,e,l,i,o,r,s,a).pipe(mc(c=>{if(c instanceof gb)return Ve(null);throw c}))),ul(l=>!!l),mc(l=>{if(mq(l))return mpe(i,o,r)?Ve(new tP):sf(i);throw l}))}processSegmentAgainstRoute(t,e,i,o,r,s,a,l){return ja(i)!==s&&(s===ri||!HS(o,r,i))?sf(o):i.redirectTo===void 0?this.matchSegmentAgainstRoute(t,o,i,r,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,o,e,i,r,s,l):sf(o)}expandSegmentAgainstRouteUsingRedirect(t,e,i,o,r,s,a){let{matched:l,parameters:c,consumedSegments:d,positionalParamSegments:u,remainingSegments:h}=fq(e,o,r);if(!l)return sf(e);typeof o.redirectTo=="string"&&o.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>fpe&&(this.allowRedirects=!1));let m=new qh(r,c,Object.freeze(j({},this.urlTree.queryParams)),this.urlTree.fragment,W6(o),ja(o),o.component??o._loadedComponent??null,o,j6(o)),f=LS(m,a,this.paramsInheritanceStrategy);m.params=Object.freeze(f.params),m.data=Object.freeze(f.data);let p=this.applyRedirects.applyRedirectCommands(d,o.redirectTo,u,m,t);return this.applyRedirects.lineralizeSegments(o,p).pipe(Zo(g=>this.processSegment(t,i,e,g.concat(h),s,!1,a)))}matchSegmentAgainstRoute(t,e,i,o,r,s){let a=ape(e,i,o,t,this.urlSerializer);return i.path==="**"&&(e.children={}),a.pipe(En(l=>l.matched?(t=i._injector??t,this.getChildConfig(t,i,o).pipe(En(({routes:c})=>{let d=i._loadedInjector??t,{parameters:u,consumedSegments:h,remainingSegments:m}=l,f=new qh(h,u,Object.freeze(j({},this.urlTree.queryParams)),this.urlTree.fragment,W6(i),ja(i),i.component??i._loadedComponent??null,i,j6(i)),p=LS(f,s,this.paramsInheritanceStrategy);f.params=Object.freeze(p.params),f.data=Object.freeze(p.data);let{segmentGroup:g,slicedSegments:v}=V6(e,h,m,c);if(v.length===0&&g.hasChildren())return this.processChildren(d,c,g,f).pipe(rt(C=>new Es(f,C)));if(c.length===0&&v.length===0)return Ve(new Es(f,[]));let b=ja(i)===r;return this.processSegment(d,c,g,v,b?ri:r,!0,f).pipe(rt(C=>new Es(f,C instanceof Es?[C]:[])))}))):sf(e)))}getChildConfig(t,e,i){return e.children?Ve({routes:e.children,injector:t}):e.loadChildren?e._loadedRoutes!==void 0?Ve({routes:e._loadedRoutes,injector:e._loadedInjector}):npe(t,e,i,this.urlSerializer).pipe(Zo(o=>o?this.configLoader.loadChildren(t,e).pipe(on(r=>{e._loadedRoutes=r.routes,e._loadedInjector=r.injector})):spe(e))):Ve({routes:[],injector:t})}};function gpe(n){n.sort((t,e)=>t.value.outlet===ri?-1:e.value.outlet===ri?1:t.value.outlet.localeCompare(e.value.outlet))}function _pe(n){let t=n.value.routeConfig;return t&&t.path===""}function gq(n){let t=[],e=new Set;for(let i of n){if(!_pe(i)){t.push(i);continue}let o=t.find(r=>i.value.routeConfig===r.value.routeConfig);o!==void 0?(o.children.push(...i.children),e.add(o)):t.push(i)}for(let i of e){let o=gq(i.children);t.push(new Es(i.value,o))}return t.filter(i=>!e.has(i))}function W6(n){return n.data||{}}function j6(n){return n.resolve||{}}function vpe(n,t,e,i,o,r){return Zo(s=>ppe(n,t,e,i,s.extractedUrl,o,r).pipe(rt(({state:a,tree:l})=>Ae(j({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function bpe(n,t){return Zo(e=>{let{targetSnapshot:i,guards:{canActivateChecks:o}}=e;if(!o.length)return Ve(e);let r=new Set(o.map(l=>l.route)),s=new Set;for(let l of r)if(!s.has(l))for(let c of _q(l))s.add(c);let a=0;return Pn(s).pipe(qs(l=>r.has(l)?ype(l,i,n,t):(l.data=LS(l,l.parent,n).resolve,Ve(void 0))),on(()=>a++),$A(1),Zo(l=>a===s.size?Ve(e):xa))})}function _q(n){let t=n.children.map(e=>_q(e)).flat();return[n,...t]}function ype(n,t,e,i){let o=n.routeConfig,r=n._resolve;return o?.title!==void 0&&!lq(o)&&(r[vb]=o.title),wpe(r,n,t,i).pipe(rt(s=>(n._resolvedData=s,n.data=LS(n,n.parent,e).resolve,null)))}function wpe(n,t,e,i){let o=UO(n);if(o.length===0)return Ve({});let r={};return Pn(o).pipe(Zo(s=>xpe(n[s],t,e,i).pipe(ul(),on(a=>{if(a instanceof hf)throw NS(new $h,a);r[s]=a}))),$A(1),rt(()=>r),mc(s=>mq(s)?xa:Ca(s)))}function xpe(n,t,e,i){let o=yb(t)??i,r=ff(n,o),s=r.resolve?r.resolve(t,e):Da(o,()=>r(t,e));return Xd(s)}function WO(n){return En(t=>{let e=n(t);return e?Pn(e).pipe(rt(()=>t)):Ve(t)})}var oP=(()=>{class n{buildTitle(e){let i,o=e.root;for(;o!==void 0;)i=this.getResolvedTitleForRoute(o)??i,o=o.children.find(r=>r.outlet===ri);return i}getResolvedTitleForRoute(e){return e.data[vb]}static \u0275fac=function(i){return new(i||n)};static \u0275prov=se({token:n,factory:()=>y(vq),providedIn:"root"})}return n})(),vq=(()=>{class n extends oP{title;constructor(e){super(),this.title=e}updateTitle(e){let i=this.buildTitle(e);i!==void 0&&this.title.setTitle(i)}static \u0275fac=function(i){return new(i||n)(Je(N6))};static \u0275prov=se({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Cb=new ae("",{providedIn:"root",factory:()=>({})}),rP=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Z({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(i,o){i&1&&Y(0,"router-outlet")},dependencies:[wb],encapsulation:2})}return n})();function sP(n){let t=n.children&&n.children.map(sP),e=t?Ae(j({},n),{children:t}):j({},n);return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==ri&&(e.component=rP),e}var Sb=new ae(""),bq=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=y(jj);loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return Ve(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);let i=Xd(e.loadComponent()).pipe(rt(wq),on(r=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=r}),pc(()=>{this.componentLoaders.delete(e)})),o=new tv(i,()=>new De).pipe(HA());return this.componentLoaders.set(e,o),o}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Ve({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let r=yq(i,this.compiler,e,this.onLoadEndListener).pipe(pc(()=>{this.childrenLoaders.delete(i)})),s=new tv(r,()=>new De).pipe(HA());return this.childrenLoaders.set(i,s),s}static \u0275fac=function(i){return new(i||n)};static \u0275prov=se({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function yq(n,t,e,i){return Xd(n.loadChildren()).pipe(rt(wq),Zo(o=>o instanceof Pj||Array.isArray(o)?Ve(o):Pn(t.compileModuleAsync(o))),rt(o=>{i&&i(n);let r,s,a=!1;return Array.isArray(o)?(s=o,a=!0):(r=o.create(e).injector,s=r.get(Sb,[],{optional:!0,self:!0}).flat()),{routes:s.map(sP),injector:r}}))}function Cpe(n){return n&&typeof n=="object"&&"default"in n}function wq(n){return Cpe(n)?n.default:n}var VS=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=se({token:n,factory:()=>y(Spe),providedIn:"root"})}return n})(),Spe=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}static \u0275fac=function(i){return new(i||n)};static \u0275prov=se({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),xq=new ae("");var Cq=new ae(""),Sq=(()=>{class n{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new De;transitionAbortSubject=new De;configLoader=y(bq);environmentInjector=y(kr);destroyRef=y(_j);urlSerializer=y(bb);rootContexts=y(pf);location=y(Gd);inputBindingEnabled=y(BS,{optional:!0})!==null;titleStrategy=y(oP);options=y(Cb,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=y(VS);createViewTransition=y(xq,{optional:!0});navigationErrorHandler=y(Cq,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>Ve(void 0);rootComponentType=null;destroyed=!1;constructor(){let e=o=>this.events.next(new ES(o)),i=o=>this.events.next(new MS(o));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=e,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(e){let i=++this.navigationId;this.transitions?.next(Ae(j({},e),{extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:i}))}setupNavigations(e){return this.transitions=new go(null),this.transitions.pipe(ii(i=>i!==null),En(i=>{let o=!1,r=!1;return Ve(i).pipe(En(s=>{if(this.navigationId>i.id)return this.cancelNavigationTransition(i,"",ts.SupersededByNewNavigation),xa;this.currentTransition=i,this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?Ae(j({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let a=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),l=s.extras.onSameUrlNavigation??e.onSameUrlNavigation;if(!a&&l!=="reload"){let c="";return this.events.next(new Wc(s.id,this.urlSerializer.serialize(s.rawUrl),c,db.IgnoredSameUrlNavigation)),s.resolve(!1),xa}if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return Ve(s).pipe(En(c=>(this.events.next(new Kh(c.id,this.urlSerializer.serialize(c.extractedUrl),c.source,c.restoredState)),c.id!==this.navigationId?xa:Promise.resolve(c))),vpe(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),on(c=>{i.targetSnapshot=c.targetSnapshot,i.urlAfterRedirects=c.urlAfterRedirects,this.currentNavigation=Ae(j({},this.currentNavigation),{finalUrl:c.urlAfterRedirects});let d=new ub(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:c,extractedUrl:d,source:u,restoredState:h,extras:m}=s,f=new Kh(c,this.urlSerializer.serialize(d),u,h);this.events.next(f);let p=sq(this.rootComponentType).snapshot;return this.currentTransition=i=Ae(j({},s),{targetSnapshot:p,urlAfterRedirects:d,extras:Ae(j({},m),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=d,Ve(i)}else{let c="";return this.events.next(new Wc(s.id,this.urlSerializer.serialize(s.extractedUrl),c,db.IgnoredByUrlHandlingStrategy)),s.resolve(!1),xa}}),on(s=>{let a=new CS(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),rt(s=>(this.currentTransition=i=Ae(j({},s),{guards:zme(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),i)),Yme(this.environmentInjector,s=>this.events.next(s)),on(s=>{if(i.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw NS(this.urlSerializer,s.guardsResult);let a=new SS(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),ii(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",ts.GuardRejected),!1)),WO(s=>{if(s.guards.canActivateChecks.length!==0)return Ve(s).pipe(on(a=>{let l=new DS(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}),En(a=>{let l=!1;return Ve(a).pipe(bpe(this.paramsInheritanceStrategy,this.environmentInjector),on({next:()=>l=!0,complete:()=>{l||this.cancelNavigationTransition(a,"",ts.NoDataFromResolver)}}))}),on(a=>{let l=new IS(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}))}),WO(s=>{let a=l=>{let c=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(l.routeConfig).pipe(on(d=>{l.component=d}),rt(()=>{})));for(let d of l.children)c.push(...a(d));return c};return hc(a(s.targetSnapshot.root)).pipe(UA(null),_o(1))}),WO(()=>this.afterPreactivation()),En(()=>{let{currentSnapshot:s,targetSnapshot:a}=i,l=this.createViewTransition?.(this.environmentInjector,s.root,a.root);return l?Pn(l).pipe(rt(()=>i)):Ve(i)}),rt(s=>{let a=Ome(e.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=i=Ae(j({},s),{targetRouterState:a}),this.currentNavigation.targetRouterState=a,i}),on(()=>{this.events.next(new hb)}),Fme(this.rootContexts,e.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),_o(1),on({next:s=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Br(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{o=!0}}),Ct(this.transitionAbortSubject.pipe(on(s=>{throw s}))),pc(()=>{!o&&!r&&this.cancelNavigationTransition(i,"",ts.SupersededByNewNavigation),this.currentTransition?.id===i.id&&(this.currentNavigation=null,this.currentTransition=null)}),mc(s=>{if(this.destroyed)return i.resolve(!1),xa;if(r=!0,hq(s))this.events.next(new Al(i.id,this.urlSerializer.serialize(i.extractedUrl),s.message,s.cancellationCode)),Nme(s)?this.events.next(new uf(s.url,s.navigationBehaviorOptions)):i.resolve(!1);else{let a=new df(i.id,this.urlSerializer.serialize(i.extractedUrl),s,i.targetSnapshot??void 0);try{let l=Da(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(l instanceof hf){let{message:c,cancellationCode:d}=NS(this.urlSerializer,l);this.events.next(new Al(i.id,this.urlSerializer.serialize(i.extractedUrl),c,d)),this.events.next(new uf(l.redirectTo,l.navigationBehaviorOptions))}else throw this.events.next(a),s}catch(l){this.options.resolveNavigationPromiseOnError?i.resolve(!1):i.reject(l)}}return xa}))}))}cancelNavigationTransition(e,i,o){let r=new Al(e.id,this.urlSerializer.serialize(e.extractedUrl),i,o);this.events.next(r),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let e=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return e.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(i){return new(i||n)};static \u0275prov=se({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Dpe(n){return n!==yS}var WS=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=se({token:n,factory:()=>y(Ipe),providedIn:"root"})}return n})(),zS=class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}},Ipe=(()=>{class n extends zS{static \u0275fac=(()=>{let e;return function(o){return(e||(e=Xt(n)))(o||n)}})();static \u0275prov=se({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Dq=(()=>{class n{urlSerializer=y(bb);options=y(Cb,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=y(Gd);urlHandlingStrategy=y(VS);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Rl;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:e,initialUrl:i,targetBrowserUrl:o}){let r=e!==void 0?this.urlHandlingStrategy.merge(e,i):i,s=o??r;return s instanceof Rl?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:e,finalUrl:i,initialUrl:o}){i&&e?(this.currentUrlTree=i,this.rawUrlTree=this.urlHandlingStrategy.merge(i,o),this.routerState=e):this.rawUrlTree=o}routerState=sq(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:e}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e??this.rawUrlTree)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=se({token:n,factory:()=>y(Epe),providedIn:"root"})}return n})(),Epe=(()=>{class n extends Dq{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(i=>{i.type==="popstate"&&setTimeout(()=>{e(i.url,i.state,"popstate")})})}handleRouterEvent(e,i){e instanceof Kh?this.updateStateMemento():e instanceof Wc?this.commitTransition(i):e instanceof ub?this.urlUpdateStrategy==="eager"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(i),i)):e instanceof hb?(this.commitTransition(i),this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(i),i)):e instanceof Al&&(e.code===ts.GuardRejected||e.code===ts.NoDataFromResolver)?this.restoreHistory(i):e instanceof df?this.restoreHistory(i,!0):e instanceof Br&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,{extras:i,id:o}){let{replaceUrl:r,state:s}=i;if(this.location.isCurrentPathEqualTo(e)||r){let a=this.browserPageId,l=j(j({},s),this.generateNgRouterState(o,a));this.location.replaceState(e,"",l)}else{let a=j(j({},s),this.generateNgRouterState(o,this.browserPageId+1));this.location.go(e,"",a)}}restoreHistory(e,i=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,r=this.currentPageId-o;r!==0?this.location.historyGo(r):this.getCurrentUrlTree()===e.finalUrl&&r===0&&(this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,i){return this.canceledNavigationResolution==="computed"?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}static \u0275fac=(()=>{let e;return function(o){return(e||(e=Xt(n)))(o||n)}})();static \u0275prov=se({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function aP(n,t){n.events.pipe(ii(e=>e instanceof Br||e instanceof Al||e instanceof df||e instanceof Wc),rt(e=>e instanceof Br||e instanceof Wc?0:(e instanceof Al?e.code===ts.Redirect||e.code===ts.SupersededByNewNavigation:!1)?2:1),ii(e=>e!==2),_o(1)).subscribe(()=>{t()})}var Mpe={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},kpe={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},pi=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=y(tR);stateManager=y(Dq);options=y(Cb,{optional:!0})||{};pendingTasks=y(ov);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=y(Sq);urlSerializer=y(bb);location=y(Gd);urlHandlingStrategy=y(VS);_events=new De;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=y(WS);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=y(Sb,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!y(BS,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}eventsSubscription=new _n;subscribeToNavigationEvents(){let e=this.navigationTransitions.events.subscribe(i=>{try{let o=this.navigationTransitions.currentTransition,r=this.navigationTransitions.currentNavigation;if(o!==null&&r!==null){if(this.stateManager.handleRouterEvent(i,r),i instanceof Al&&i.code!==ts.Redirect&&i.code!==ts.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Br)this.navigated=!0;else if(i instanceof uf){let s=i.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(i.url,o.currentRawUrl),l=j({browserUrl:o.extras.browserUrl,info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:o.extras.replaceUrl||this.urlUpdateStrategy==="eager"||Dpe(o.source)},s);this.scheduleNavigation(a,yS,null,l,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}Ape(i)&&this._events.next(i)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),yS,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,i,o)=>{this.navigateToSyncWithBrowser(e,o,i)})}navigateToSyncWithBrowser(e,i,o){let r={replaceUrl:!0},s=o?.navigationId?o:null;if(o){let l=j({},o);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(r.state=l)}let a=this.parseUrl(e);this.scheduleNavigation(a,i,s,r)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(sP),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,i={}){let{relativeTo:o,queryParams:r,fragment:s,queryParamsHandling:a,preserveFragment:l}=i,c=l?this.currentUrlTree.fragment:s,d=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":d=j(j({},this.currentUrlTree.queryParams),r);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=r||null}d!==null&&(d=this.removeEmptyProps(d));let u;try{let h=o?o.snapshot:this.routerState.snapshot.root;u=iq(h)}catch{(typeof e[0]!="string"||e[0][0]!=="/")&&(e=[]),u=this.currentUrlTree.root}return nq(u,e,d,c??null)}navigateByUrl(e,i={skipLocationChange:!1}){let o=Yd(e)?e:this.parseUrl(e),r=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(r,yS,null,i)}navigate(e,i={skipLocationChange:!1}){return Tpe(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.urlSerializer.parse("/")}}isActive(e,i){let o;if(i===!0?o=j({},Mpe):i===!1?o=j({},kpe):o=i,Yd(e))return F6(this.currentUrlTree,e,o);let r=this.parseUrl(e);return F6(this.currentUrlTree,r,o)}removeEmptyProps(e){return Object.entries(e).reduce((i,[o,r])=>(r!=null&&(i[o]=r),i),{})}scheduleNavigation(e,i,o,r,s){if(this.disposed)return Promise.resolve(!1);let a,l,c;s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((u,h)=>{a=u,l=h});let d=this.pendingTasks.add();return aP(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:r,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(u=>Promise.reject(u))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=se({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Tpe(n){for(let t=0;t<n.length;t++)if(n[t]==null)throw new si(4008,!1)}function Ape(n){return!(n instanceof hb)&&!(n instanceof uf)}var gf=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new De;constructor(e,i,o,r,s,a){this.router=e,this.route=i,this.tabIndexAttribute=o,this.renderer=r,this.el=s,this.locationStrategy=a;let l=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=e.events.subscribe(c=>{c instanceof Br&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(e){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(e){e==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Yd(e)?this.routerLinkInput=e:this.routerLinkInput=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0"))}onClick(e,i,o,r,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(e!==0||i||o||r||s||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let e=this.urlTree;this.href=e!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(e)):null;let i=this.href===null?null:Tj(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(e,i){let o=this.renderer,r=this.el.nativeElement;i!==null?o.setAttribute(r,e,i):o.removeAttribute(r,e)}get urlTree(){return this.routerLinkInput===null?null:Yd(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(i){return new(i||n)(J(pi),J(Lo),ZA("tabindex"),J(Li),J(Oe),J(Jp))};static \u0275dir=me({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,o){i&1&&de("click",function(s){return o.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),i&2&&ke("target",o.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Ke],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Ke],replaceUrl:[2,"replaceUrl","replaceUrl",Ke],routerLink:"routerLink"},features:[fi]})}return n})(),lP=(()=>{class n{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new Le;constructor(e,i,o,r,s){this.router=e,this.element=i,this.renderer=o,this.cdr=r,this.link=s,this.routerEventsSubscription=e.events.subscribe(a=>{a instanceof Br&&this.update()})}ngAfterContentInit(){Ve(this.links.changes,Ve(null)).pipe(WA()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let e=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=Pn(e).pipe(WA()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(e){let i=Array.isArray(e)?e:e.split(" ");this.classes=i.filter(o=>!!o)}ngOnChanges(e){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let e=this.hasActiveLinks();this.classes.forEach(i=>{e?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),e&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==e&&(this._isActive=e,this.cdr.markForCheck(),this.isActiveChange.emit(e))})}isLinkActive(e){let i=Ope(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return o=>{let r=o.urlTree;return r?e.isActive(r,i):!1}}hasActiveLinks(){let e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.links.some(e)}static \u0275fac=function(i){return new(i||n)(J(pi),J(Oe),J(Li),J(Gt),J(gf,8))};static \u0275dir=me({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(i,o,r){if(i&1&&xt(r,gf,5),i&2){let s;fe(s=ge())&&(o.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[fi]})}return n})();function Ope(n){return!!n.paths}var Ppe=new ae("");function cP(n,...t){return fc([{provide:Sb,multi:!0,useValue:n},[],{provide:Lo,useFactory:Lpe,deps:[pi]},{provide:Fj,multi:!0,useFactory:Npe},t.map(e=>e.\u0275providers)])}function Lpe(n){return n.routerState.root}function Npe(){let n=y(_i);return t=>{let e=n.get(bh);if(t!==e.components[0])return;let i=n.get(pi),o=n.get(Fpe);n.get(zpe)===1&&i.initialNavigation(),n.get(Bpe,null,XA.Optional)?.setUpPreloading(),n.get(Ppe,null,XA.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}var Fpe=new ae("",{factory:()=>new De}),zpe=new ae("",{providedIn:"root",factory:()=>1});var Bpe=new ae("");function Db(n){return n.buttons===0||n.detail===0}function Ib(n){let t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!!t&&t.identifier===-1&&(t.radiusX==null||t.radiusX===1)&&(t.radiusY==null||t.radiusY===1)}var dP;function Iq(){if(dP==null){let n=typeof document<"u"?document.head:null;dP=!!(n&&(n.createShadowRoot||n.attachShadow))}return dP}function uP(n){if(Iq()){let t=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function Zd(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){let t=n.shadowRoot.activeElement;if(t===n)break;n=t}return n}function sr(n){return n.composedPath?n.composedPath()[0]:n.target}function is(n,t,e,i,o){let r=parseInt(iR.major),s=parseInt(iR.minor);return r>19||r===19&&s>0||r===0&&s===0?n.listen(t,e,i,o):(t.addEventListener(e,i,o),()=>{t.removeEventListener(e,i,o)})}var hP;try{hP=typeof Intl<"u"&&Intl.v8BreakIterator}catch{hP=!1}var Wt=(()=>{class n{_platformId=y(Ia);isBrowser=this._platformId?Yv(this._platformId):typeof document=="object"&&!!document;EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent);TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent);BLINK=this.isBrowser&&!!(window.chrome||hP)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT;WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT;IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window);FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent);ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT;SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT;constructor(){}static \u0275fac=function(i){return new(i||n)};static \u0275prov=se({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Eb;function Eq(){if(Eb==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Eb=!0}))}finally{Eb=Eb||!1}return Eb}function Qd(n){return Eq()?n:!!n.capture}function Co(n,t=0){return jS(n)?Number(n):arguments.length===2?t:0}function jS(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}function Hr(n){return n instanceof Oe?n.nativeElement:n}var Mq=new ae("cdk-input-modality-detector-options"),kq={ignoreKeys:[18,17,224,91,16]},Tq=650,mP={passive:!0,capture:!0},Aq=(()=>{class n{_platform=y(Wt);_listenerCleanups;modalityDetected;modalityChanged;get mostRecentModality(){return this._modality.value}_mostRecentTarget=null;_modality=new go(null);_options;_lastTouchMs=0;_onKeydown=e=>{this._options?.ignoreKeys?.some(i=>i===e.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=sr(e))};_onMousedown=e=>{Date.now()-this._lastTouchMs<Tq||(this._modality.next(Db(e)?"keyboard":"mouse"),this._mostRecentTarget=sr(e))};_onTouchstart=e=>{if(Ib(e)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=sr(e)};constructor(){let e=y(Ye),i=y(dt),o=y(Mq,{optional:!0});if(this._options=j(j({},kq),o),this.modalityDetected=this._modality.pipe(fx(1)),this.modalityChanged=this.modalityDetected.pipe(GA()),this._platform.isBrowser){let r=y(Qo).createRenderer(null,null);this._listenerCleanups=e.runOutsideAngular(()=>[is(r,i,"keydown",this._onKeydown,mP),is(r,i,"mousedown",this._onMousedown,mP),is(r,i,"touchstart",this._onTouchstart,mP)])}}ngOnDestroy(){this._modality.complete(),this._listenerCleanups?.forEach(e=>e())}static \u0275fac=function(i){return new(i||n)};static \u0275prov=se({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Mb=function(n){return n[n.IMMEDIATE=0]="IMMEDIATE",n[n.EVENTUAL=1]="EVENTUAL",n}(Mb||{}),Rq=new ae("cdk-focus-monitor-default-options"),US=Qd({passive:!0,capture:!0}),ks=(()=>{class n{_ngZone=y(Ye);_platform=y(Wt);_inputModalityDetector=y(Aq);_origin=null;_lastFocusOrigin;_windowFocused=!1;_windowFocusTimeoutId;_originTimeoutId;_originFromTouchInteraction=!1;_elementInfo=new Map;_monitoredElementCount=0;_rootNodeFocusListenerCount=new Map;_detectionMode;_windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)};_document=y(dt,{optional:!0});_stopInputModalityDetector=new De;constructor(){let e=y(Rq,{optional:!0});this._detectionMode=e?.detectionMode||Mb.IMMEDIATE}_rootNodeFocusAndBlurListener=e=>{let i=sr(e);for(let o=i;o;o=o.parentElement)e.type==="focus"?this._onFocus(e,o):this._onBlur(e,o)};monitor(e,i=!1){let o=Hr(e);if(!this._platform.isBrowser||o.nodeType!==1)return Ve();let r=uP(o)||this._getDocument(),s=this._elementInfo.get(o);if(s)return i&&(s.checkChildren=!0),s.subject;let a={checkChildren:i,subject:new De,rootNode:r};return this._elementInfo.set(o,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(e){let i=Hr(e),o=this._elementInfo.get(i);o&&(o.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(o))}focusVia(e,i,o){let r=Hr(e),s=this._getDocument().activeElement;r===s?this._getClosestElementsInfo(r).forEach(([a,l])=>this._originChanged(a,i,l)):(this._setOrigin(i),typeof r.focus=="function"&&r.focus(o))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return this._detectionMode===Mb.EVENTUAL||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused",i==="touch"),e.classList.toggle("cdk-keyboard-focused",i==="keyboard"),e.classList.toggle("cdk-mouse-focused",i==="mouse"),e.classList.toggle("cdk-program-focused",i==="program")}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=e,this._originFromTouchInteraction=e==="touch"&&i,this._detectionMode===Mb.IMMEDIATE){clearTimeout(this._originTimeoutId);let o=this._originFromTouchInteraction?Tq:1;this._originTimeoutId=setTimeout(()=>this._origin=null,o)}})}_onFocus(e,i){let o=this._elementInfo.get(i),r=sr(e);!o||!o.checkChildren&&i!==r||this._originChanged(i,this._getFocusOrigin(r),o)}_onBlur(e,i){let o=this._elementInfo.get(i);!o||o.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(o,null))}_emitOrigin(e,i){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;let i=e.rootNode,o=this._rootNodeFocusListenerCount.get(i)||0;o||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,US),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,US)}),this._rootNodeFocusListenerCount.set(i,o+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Ct(this._stopInputModalityDetector)).subscribe(r=>{this._setOrigin(r,!0)}))}_removeGlobalListeners(e){let i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){let o=this._rootNodeFocusListenerCount.get(i);o>1?this._rootNodeFocusListenerCount.set(i,o-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,US),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,US),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,o){this._setClasses(e,i),this._emitOrigin(o,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){let i=[];return this._elementInfo.forEach((o,r)=>{(r===e||o.checkChildren&&r.contains(e))&&i.push([r,o])}),i}_isLastInteractionFromInputLabel(e){let{_mostRecentTarget:i,mostRecentModality:o}=this._inputModalityDetector;if(o!=="mouse"||!i||i===e||e.nodeName!=="INPUT"&&e.nodeName!=="TEXTAREA"||e.disabled)return!1;let r=e.labels;if(r){for(let s=0;s<r.length;s++)if(r[s].contains(i))return!0}return!1}static \u0275fac=function(i){return new(i||n)};static \u0275prov=se({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var qS=new WeakMap,xn=(()=>{class n{_appRef;_injector=y(_i);_environmentInjector=y(kr);load(e){let i=this._appRef=this._appRef||this._injector.get(bh),o=qS.get(i);o||(o={loaders:new Set,refs:[]},qS.set(i,o),i.onDestroy(()=>{qS.get(i)?.refs.forEach(r=>r.destroy()),qS.delete(i)})),o.loaders.has(e)||(o.loaders.add(e),o.refs.push(yx(e,{environmentInjector:this._environmentInjector})))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=se({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Jd=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Z({type:n,selectors:[["ng-component"]],exportAs:["cdkVisuallyHidden"],decls:0,vars:0,template:function(i,o){},styles:[`.cdk-visually-hidden{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px;white-space:nowrap;outline:0;-webkit-appearance:none;-moz-appearance:none;left:0}[dir=rtl] .cdk-visually-hidden{left:auto;right:0}
`],encapsulation:2,changeDetection:0})}return n})();function _f(n){return Array.isArray(n)?n:[n]}var Oq=new Set,Yh,Lq=(()=>{class n{_platform=y(Wt);_nonce=y(rv,{optional:!0});_matchMedia;constructor(){this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Vpe}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&Hpe(e,this._nonce),this._matchMedia(e)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=se({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Hpe(n,t){if(!Oq.has(n))try{Yh||(Yh=document.createElement("style"),t&&Yh.setAttribute("nonce",t),Yh.setAttribute("type","text/css"),document.head.appendChild(Yh)),Yh.sheet&&(Yh.sheet.insertRule(`@media ${n} {body{ }}`,0),Oq.add(n))}catch(e){console.error(e)}}function Vpe(n){return{matches:n==="all"||n==="",media:n,addListener:()=>{},removeListener:()=>{}}}var kb=(()=>{class n{_mediaMatcher=y(Lq);_zone=y(Ye);_queries=new Map;_destroySubject=new De;constructor(){}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return Pq(_f(e)).some(o=>this._registerQuery(o).mql.matches)}observe(e){let o=Pq(_f(e)).map(s=>this._registerQuery(s).observable),r=hc(o);return r=px(r.pipe(_o(1)),r.pipe(fx(1),dl(0))),r.pipe(rt(s=>{let a={matches:!1,breakpoints:{}};return s.forEach(({matches:l,query:c})=>{a.matches=a.matches||l,a.breakpoints[c]=l}),a}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);let i=this._mediaMatcher.matchMedia(e),r={observable:new mr(s=>{let a=l=>this._zone.run(()=>s.next(l));return i.addListener(a),()=>{i.removeListener(a)}}).pipe(Ji(i),rt(({matches:s})=>({query:e,matches:s})),Ct(this._destroySubject)),mql:i};return this._queries.set(e,r),r}static \u0275fac=function(i){return new(i||n)};static \u0275prov=se({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Pq(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}function Wpe(n){if(n.type==="characterData"&&n.target instanceof Comment)return!0;if(n.type==="childList"){for(let t=0;t<n.addedNodes.length;t++)if(!(n.addedNodes[t]instanceof Comment))return!1;for(let t=0;t<n.removedNodes.length;t++)if(!(n.removedNodes[t]instanceof Comment))return!1;return!0}return!1}var jpe=(()=>{class n{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=se({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Upe=(()=>{class n{_mutationObserverFactory=y(jpe);_observedElements=new Map;_ngZone=y(Ye);constructor(){}ngOnDestroy(){this._observedElements.forEach((e,i)=>this._cleanupObserver(i))}observe(e){let i=Hr(e);return new mr(o=>{let s=this._observeElement(i).pipe(rt(a=>a.filter(l=>!Wpe(l))),ii(a=>!!a.length)).subscribe(a=>{this._ngZone.run(()=>{o.next(a)})});return()=>{s.unsubscribe(),this._unobserveElement(i)}})}_observeElement(e){return this._ngZone.runOutsideAngular(()=>{if(this._observedElements.has(e))this._observedElements.get(e).count++;else{let i=new De,o=this._mutationObserverFactory.create(r=>i.next(r));o&&o.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:o,stream:i,count:1})}return this._observedElements.get(e).stream})}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){let{observer:i,stream:o}=this._observedElements.get(e);i&&i.disconnect(),o.complete(),this._observedElements.delete(e)}}static \u0275fac=function(i){return new(i||n)};static \u0275prov=se({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Nq=(()=>{class n{_contentObserver=y(Upe);_elementRef=y(Oe);event=new Le;get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._disabled?this._unsubscribe():this._subscribe()}_disabled=!1;get debounce(){return this._debounce}set debounce(e){this._debounce=Co(e),this._subscribe()}_debounce;_currentSubscription=null;constructor(){}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();let e=this._contentObserver.observe(this._elementRef);this._currentSubscription=(this.debounce?e.pipe(dl(this.debounce)):e).subscribe(this.event)}_unsubscribe(){this._currentSubscription?.unsubscribe()}static \u0275fac=function(i){return new(i||n)};static \u0275dir=me({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:[2,"cdkObserveContentDisabled","disabled",Ke],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]})}return n})();var vf=(()=>{class n{_platform=y(Wt);constructor(){}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return Gpe(e)&&getComputedStyle(e).visibility==="visible"}isTabbable(e){if(!this._platform.isBrowser)return!1;let i=qpe(efe(e));if(i&&(Fq(i)===-1||!this.isVisible(i)))return!1;let o=e.nodeName.toLowerCase(),r=Fq(e);return e.hasAttribute("contenteditable")?r!==-1:o==="iframe"||o==="object"||this._platform.WEBKIT&&this._platform.IOS&&!Qpe(e)?!1:o==="audio"?e.hasAttribute("controls")?r!==-1:!1:o==="video"?r===-1?!1:r!==null?!0:this._platform.FIREFOX||e.hasAttribute("controls"):e.tabIndex>=0}isFocusable(e,i){return Jpe(e)&&!this.isDisabled(e)&&(i?.ignoreVisibility||this.isVisible(e))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=se({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function qpe(n){try{return n.frameElement}catch{return null}}function Gpe(n){return!!(n.offsetWidth||n.offsetHeight||typeof n.getClientRects=="function"&&n.getClientRects().length)}function $pe(n){let t=n.nodeName.toLowerCase();return t==="input"||t==="select"||t==="button"||t==="textarea"}function Kpe(n){return Xpe(n)&&n.type=="hidden"}function Ype(n){return Zpe(n)&&n.hasAttribute("href")}function Xpe(n){return n.nodeName.toLowerCase()=="input"}function Zpe(n){return n.nodeName.toLowerCase()=="a"}function Hq(n){if(!n.hasAttribute("tabindex")||n.tabIndex===void 0)return!1;let t=n.getAttribute("tabindex");return!!(t&&!isNaN(parseInt(t,10)))}function Fq(n){if(!Hq(n))return null;let t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}function Qpe(n){let t=n.nodeName.toLowerCase(),e=t==="input"&&n.type;return e==="text"||e==="password"||t==="select"||t==="textarea"}function Jpe(n){return Kpe(n)?!1:$pe(n)||Ype(n)||n.hasAttribute("contenteditable")||Hq(n)}function efe(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}var GS=class{_element;_checker;_ngZone;_document;_injector;_startAnchor;_endAnchor;_hasAttached=!1;startAnchorListener=()=>this.focusLastTabbableElement();endAnchorListener=()=>this.focusFirstTabbableElement();get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_enabled=!0;constructor(t,e,i,o,r=!1,s){this._element=t,this._checker=e,this._ngZone=i,this._document=o,this._injector=s,r||this.attachAnchors()}destroy(){let t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return this._hasAttached?!0:(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){let e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return t=="start"?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){let e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){let i=this._getFirstTabbableElement(e);return i?.focus(t),!!i}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){let e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){let e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children;for(let i=0;i<e.length;i++){let o=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(o)return o}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children;for(let i=e.length-1;i>=0;i--){let o=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(o)return o}return null}_createAnchor(){let t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._injector?To(t,{injector:this._injector}):setTimeout(t)}},Tb=(()=>{class n{_checker=y(vf);_ngZone=y(Ye);_document=y(dt);_injector=y(_i);constructor(){y(xn).load(Jd)}create(e,i=!1){return new GS(e,this._checker,this._ngZone,this._document,i,this._injector)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=se({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Vq=new ae("liveAnnouncerElement",{providedIn:"root",factory:Wq});function Wq(){return null}var jq=new ae("LIVE_ANNOUNCER_DEFAULT_OPTIONS"),tfe=0,fP=(()=>{class n{_ngZone=y(Ye);_defaultOptions=y(jq,{optional:!0});_liveElement;_document=y(dt);_previousTimeout;_currentPromise;_currentResolve;constructor(){let e=y(Vq,{optional:!0});this._liveElement=e||this._createLiveElement()}announce(e,...i){let o=this._defaultOptions,r,s;return i.length===1&&typeof i[0]=="number"?s=i[0]:[r,s]=i,this.clear(),clearTimeout(this._previousTimeout),r||(r=o&&o.politeness?o.politeness:"polite"),s==null&&o&&(s=o.duration),this._liveElement.setAttribute("aria-live",r),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(a=>this._currentResolve=a)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,typeof s=="number"&&(this._previousTimeout=setTimeout(()=>this.clear(),s)),this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){let e="cdk-live-announcer-element",i=this._document.getElementsByClassName(e),o=this._document.createElement("div");for(let r=0;r<i.length;r++)i[r].remove();return o.classList.add(e),o.classList.add("cdk-visually-hidden"),o.setAttribute("aria-atomic","true"),o.setAttribute("aria-live","polite"),o.id=`cdk-live-announcer-${tfe++}`,this._document.body.appendChild(o),o}_exposeAnnouncerToModals(e){let i=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let o=0;o<i.length;o++){let r=i[o],s=r.getAttribute("aria-owns");s?s.indexOf(e)===-1&&r.setAttribute("aria-owns",s+" "+e):r.setAttribute("aria-owns",e)}}static \u0275fac=function(i){return new(i||n)};static \u0275prov=se({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var eu=function(n){return n[n.NONE=0]="NONE",n[n.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",n[n.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",n}(eu||{}),zq="cdk-high-contrast-black-on-white",Bq="cdk-high-contrast-white-on-black",pP="cdk-high-contrast-active",gP=(()=>{class n{_platform=y(Wt);_hasCheckedHighContrastMode;_document=y(dt);_breakpointSubscription;constructor(){this._breakpointSubscription=y(kb).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return eu.NONE;let e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);let i=this._document.defaultView||window,o=i&&i.getComputedStyle?i.getComputedStyle(e):null,r=(o&&o.backgroundColor||"").replace(/ /g,"");switch(e.remove(),r){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return eu.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return eu.BLACK_ON_WHITE}return eu.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let e=this._document.body.classList;e.remove(pP,zq,Bq),this._hasCheckedHighContrastMode=!0;let i=this.getHighContrastMode();i===eu.BLACK_ON_WHITE?e.add(pP,zq):i===eu.WHITE_ON_BLACK&&e.add(pP,Bq)}}static \u0275fac=function(i){return new(i||n)};static \u0275prov=se({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var _P={},Bn=(()=>{class n{_appId=y(vh);getId(e){return this._appId!=="ng"&&(e+=this._appId),_P.hasOwnProperty(e)||(_P[e]=0),`${e}${_P[e]++}`}static \u0275fac=function(i){return new(i||n)};static \u0275prov=se({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var ife=200,$S=class{_letterKeyStream=new De;_items=[];_selectedItemIndex=-1;_pressedLetters=[];_skipPredicateFn;_selectedItem=new De;selectedItem=this._selectedItem;constructor(t,e){let i=typeof e?.debounceInterval=="number"?e.debounceInterval:ife;e?.skipPredicate&&(this._skipPredicateFn=e.skipPredicate),this.setItems(t),this._setupKeyHandler(i)}destroy(){this._pressedLetters=[],this._letterKeyStream.complete(),this._selectedItem.complete()}setCurrentSelectedItemIndex(t){this._selectedItemIndex=t}setItems(t){this._items=t}handleKey(t){let e=t.keyCode;t.key&&t.key.length===1?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))}isTyping(){return this._pressedLetters.length>0}reset(){this._pressedLetters=[]}_setupKeyHandler(t){this._letterKeyStream.pipe(on(e=>this._pressedLetters.push(e)),dl(t),ii(()=>this._pressedLetters.length>0),rt(()=>this._pressedLetters.join("").toLocaleUpperCase())).subscribe(e=>{for(let i=1;i<this._items.length+1;i++){let o=(this._selectedItemIndex+i)%this._items.length,r=this._items[o];if(!this._skipPredicateFn?.(r)&&r.getLabel?.().toLocaleUpperCase().trim().indexOf(e)===0){this._selectedItem.next(r);break}}this._pressedLetters=[]})}};function Xn(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}var bf=class{_items;_activeItemIndex=-1;_activeItem=Ue(null);_wrap=!1;_typeaheadSubscription=_n.EMPTY;_itemChangesSubscription;_vertical=!0;_horizontal;_allowedModifierKeys=[];_homeAndEnd=!1;_pageUpAndDown={enabled:!1,delta:10};_effectRef;_typeahead;_skipPredicateFn=t=>t.disabled;constructor(t,e){this._items=t,t instanceof _h?this._itemChangesSubscription=t.changes.subscribe(i=>this._itemsChanged(i.toArray())):gh(t)&&(this._effectRef=cn(()=>this._itemsChanged(t()),{injector:e}))}tabOut=new De;change=new De;skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){this._typeaheadSubscription.unsubscribe();let e=this._getItemsArray();return this._typeahead=new $S(e,{debounceInterval:typeof t=="number"?t:void 0,skipPredicate:i=>this._skipPredicateFn(i)}),this._typeaheadSubscription=this._typeahead.selectedItem.subscribe(i=>{this.setActiveItem(i)}),this}cancelTypeahead(){return this._typeahead?.reset(),this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}withPageUpDown(t=!0,e=10){return this._pageUpAndDown={enabled:t,delta:e},this}setActiveItem(t){let e=this._activeItem();this.updateActiveItem(t),this._activeItem()!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){let e=t.keyCode,o=["altKey","ctrlKey","metaKey","shiftKey"].every(r=>!t[r]||this._allowedModifierKeys.indexOf(r)>-1);switch(e){case 9:this.tabOut.next();return;case 40:if(this._vertical&&o){this.setNextItemActive();break}else return;case 38:if(this._vertical&&o){this.setPreviousItemActive();break}else return;case 39:if(this._horizontal&&o){this._horizontal==="rtl"?this.setPreviousItemActive():this.setNextItemActive();break}else return;case 37:if(this._horizontal&&o){this._horizontal==="rtl"?this.setNextItemActive():this.setPreviousItemActive();break}else return;case 36:if(this._homeAndEnd&&o){this.setFirstItemActive();break}else return;case 35:if(this._homeAndEnd&&o){this.setLastItemActive();break}else return;case 33:if(this._pageUpAndDown.enabled&&o){let r=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(r>0?r:0,1);break}else return;case 34:if(this._pageUpAndDown.enabled&&o){let r=this._activeItemIndex+this._pageUpAndDown.delta,s=this._getItemsArray().length;this._setActiveItemByIndex(r<s?r:s-1,-1);break}else return;default:(o||Xn(t,"shiftKey"))&&this._typeahead?.handleKey(t);return}this._typeahead?.reset(),t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem()}isTyping(){return!!this._typeahead&&this._typeahead.isTyping()}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._getItemsArray().length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){let e=this._getItemsArray(),i=typeof t=="number"?t:e.indexOf(t),o=e[i];this._activeItem.set(o??null),this._activeItemIndex=i,this._typeahead?.setCurrentSelectedItemIndex(i)}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._effectRef?.destroy(),this._typeahead?.destroy(),this.tabOut.complete(),this.change.complete()}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){let e=this._getItemsArray();for(let i=1;i<=e.length;i++){let o=(this._activeItemIndex+t*i+e.length)%e.length,r=e[o];if(!this._skipPredicateFn(r)){this.setActiveItem(o);return}}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){let i=this._getItemsArray();if(i[t]){for(;this._skipPredicateFn(i[t]);)if(t+=e,!i[t])return;this.setActiveItem(t)}}_getItemsArray(){return gh(this._items)?this._items():this._items instanceof _h?this._items.toArray():this._items}_itemsChanged(t){this._typeahead?.setItems(t);let e=this._activeItem();if(e){let i=t.indexOf(e);i>-1&&i!==this._activeItemIndex&&(this._activeItemIndex=i,this._typeahead?.setCurrentSelectedItemIndex(i))}}};var Xh=class extends bf{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}};var Rb=class extends bf{_origin="program";setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}};var Yq=" ";function wf(n,t,e){let i=YS(n,t);e=e.trim(),!i.some(o=>o.trim()===e)&&(i.push(e),n.setAttribute(t,i.join(Yq)))}function tu(n,t,e){let i=YS(n,t);e=e.trim();let o=i.filter(r=>r!==e);o.length?n.setAttribute(t,o.join(Yq)):n.removeAttribute(t)}function YS(n,t){return n.getAttribute(t)?.match(/\S+/g)??[]}var Xq="cdk-describedby-message",KS="cdk-describedby-host",yP=0,XS=(()=>{class n{_platform=y(Wt);_document=y(dt);_messageRegistry=new Map;_messagesContainer=null;_id=`${yP++}`;constructor(){y(xn).load(Jd),this._id=y(vh)+"-"+yP++}describe(e,i,o){if(!this._canBeDescribed(e,i))return;let r=bP(i,o);typeof i!="string"?($q(i,this._id),this._messageRegistry.set(r,{messageElement:i,referenceCount:0})):this._messageRegistry.has(r)||this._createMessageElement(i,o),this._isElementDescribedByMessage(e,r)||this._addMessageReference(e,r)}removeDescription(e,i,o){if(!i||!this._isElementNode(e))return;let r=bP(i,o);if(this._isElementDescribedByMessage(e,r)&&this._removeMessageReference(e,r),typeof i=="string"){let s=this._messageRegistry.get(r);s&&s.referenceCount===0&&this._deleteMessageElement(r)}this._messagesContainer?.childNodes.length===0&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){let e=this._document.querySelectorAll(`[${KS}="${this._id}"]`);for(let i=0;i<e.length;i++)this._removeCdkDescribedByReferenceIds(e[i]),e[i].removeAttribute(KS);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(e,i){let o=this._document.createElement("div");$q(o,this._id),o.textContent=e,i&&o.setAttribute("role",i),this._createMessagesContainer(),this._messagesContainer.appendChild(o),this._messageRegistry.set(bP(e,i),{messageElement:o,referenceCount:0})}_deleteMessageElement(e){this._messageRegistry.get(e)?.messageElement?.remove(),this._messageRegistry.delete(e)}_createMessagesContainer(){if(this._messagesContainer)return;let e="cdk-describedby-message-container",i=this._document.querySelectorAll(`.${e}[platform="server"]`);for(let r=0;r<i.length;r++)i[r].remove();let o=this._document.createElement("div");o.style.visibility="hidden",o.classList.add(e),o.classList.add("cdk-visually-hidden"),this._platform.isBrowser||o.setAttribute("platform","server"),this._document.body.appendChild(o),this._messagesContainer=o}_removeCdkDescribedByReferenceIds(e){let i=YS(e,"aria-describedby").filter(o=>o.indexOf(Xq)!=0);e.setAttribute("aria-describedby",i.join(" "))}_addMessageReference(e,i){let o=this._messageRegistry.get(i);wf(e,"aria-describedby",o.messageElement.id),e.setAttribute(KS,this._id),o.referenceCount++}_removeMessageReference(e,i){let o=this._messageRegistry.get(i);o.referenceCount--,tu(e,"aria-describedby",o.messageElement.id),e.removeAttribute(KS)}_isElementDescribedByMessage(e,i){let o=YS(e,"aria-describedby"),r=this._messageRegistry.get(i),s=r&&r.messageElement.id;return!!s&&o.indexOf(s)!=-1}_canBeDescribed(e,i){if(!this._isElementNode(e))return!1;if(i&&typeof i=="object")return!0;let o=i==null?"":`${i}`.trim(),r=e.getAttribute("aria-label");return o?!r||r.trim()!==o:!1}_isElementNode(e){return e.nodeType===this._document.ELEMENT_NODE}static \u0275fac=function(i){return new(i||n)};static \u0275prov=se({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function bP(n,t){return typeof n=="string"?`${t||""}/${n}`:n}function $q(n,t){n.id||(n.id=`${Xq}-${t}-${yP++}`)}var Ua=function(n){return n[n.NORMAL=0]="NORMAL",n[n.NEGATED=1]="NEGATED",n[n.INVERTED=2]="INVERTED",n}(Ua||{}),ZS,Zh;function QS(){if(Zh==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return Zh=!1,Zh;if("scrollBehavior"in document.documentElement.style)Zh=!0;else{let n=Element.prototype.scrollTo;n?Zh=!/\{\s*\[native code\]\s*\}/.test(n.toString()):Zh=!1}}return Zh}function xf(){if(typeof document!="object"||!document)return Ua.NORMAL;if(ZS==null){let n=document.createElement("div"),t=n.style;n.dir="rtl",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";let e=document.createElement("div"),i=e.style;i.width="2px",i.height="1px",n.appendChild(e),document.body.appendChild(n),ZS=Ua.NORMAL,n.scrollLeft===0&&(n.scrollLeft=1,ZS=n.scrollLeft===0?Ua.NEGATED:Ua.INVERTED),n.remove()}return ZS}function wP(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}var Cf,Zq=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function xP(){if(Cf)return Cf;if(typeof document!="object"||!document)return Cf=new Set(Zq),Cf;let n=document.createElement("input");return Cf=new Set(Zq.filter(t=>(n.setAttribute("type",t),n.type===t))),Cf}function fn(n){return n!=null&&`${n}`!="false"}function ho(n){return n==null?"":typeof n=="string"?n:`${n}px`}var Cr=function(n){return n[n.FADING_IN=0]="FADING_IN",n[n.VISIBLE=1]="VISIBLE",n[n.FADING_OUT=2]="FADING_OUT",n[n.HIDDEN=3]="HIDDEN",n}(Cr||{}),JS=class{_renderer;element;config;_animationForciblyDisabledThroughCss;state=Cr.HIDDEN;constructor(t,e,i,o=!1){this._renderer=t,this.element=e,this.config=i,this._animationForciblyDisabledThroughCss=o}fadeOut(){this._renderer.fadeOutRipple(this)}},Qq=Qd({passive:!0,capture:!0}),CP=class{_events=new Map;addHandler(t,e,i,o){let r=this._events.get(e);if(r){let s=r.get(i);s?s.add(o):r.set(i,new Set([o]))}else this._events.set(e,new Map([[i,new Set([o])]])),t.runOutsideAngular(()=>{document.addEventListener(e,this._delegateEventHandler,Qq)})}removeHandler(t,e,i){let o=this._events.get(t);if(!o)return;let r=o.get(e);r&&(r.delete(i),r.size===0&&o.delete(e),o.size===0&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,Qq)))}_delegateEventHandler=t=>{let e=sr(t);e&&this._events.get(t.type)?.forEach((i,o)=>{(o===e||o.contains(e))&&i.forEach(r=>r.handleEvent(t))})}},Sf={enterDuration:225,exitDuration:150},nfe=800,Jq=Qd({passive:!0,capture:!0}),eG=["mousedown","touchstart"],tG=["mouseup","mouseleave","touchend","touchcancel"],ofe=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Z({type:n,selectors:[["ng-component"]],hostAttrs:["mat-ripple-style-loader",""],decls:0,vars:0,template:function(i,o){},styles:[`.mat-ripple{overflow:hidden;position:relative}.mat-ripple:not(:empty){transform:translateZ(0)}.mat-ripple.mat-ripple-unbounded{overflow:visible}.mat-ripple-element{position:absolute;border-radius:50%;pointer-events:none;transition:opacity,transform 0ms cubic-bezier(0, 0, 0.2, 1);transform:scale3d(0, 0, 0);background-color:var(--mat-ripple-color, color-mix(in srgb, var(--mat-sys-on-surface) 10%, transparent))}@media(forced-colors: active){.mat-ripple-element{display:none}}.cdk-drag-preview .mat-ripple-element,.cdk-drag-placeholder .mat-ripple-element{display:none}
`],encapsulation:2,changeDetection:0})}return n})(),iu=class n{_target;_ngZone;_platform;_containerElement;_triggerElement;_isPointerDown=!1;_activeRipples=new Map;_mostRecentTransientRipple;_lastTouchStartEvent;_pointerUpEventsRegistered=!1;_containerRect;static _eventManager=new CP;constructor(t,e,i,o,r){this._target=t,this._ngZone=e,this._platform=o,o.isBrowser&&(this._containerElement=Hr(i)),r&&r.get(xn).load(ofe)}fadeInRipple(t,e,i={}){let o=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),r=j(j({},Sf),i.animation);i.centered&&(t=o.left+o.width/2,e=o.top+o.height/2);let s=i.radius||rfe(t,e,o),a=t-o.left,l=e-o.top,c=r.enterDuration,d=document.createElement("div");d.classList.add("mat-ripple-element"),d.style.left=`${a-s}px`,d.style.top=`${l-s}px`,d.style.height=`${s*2}px`,d.style.width=`${s*2}px`,i.color!=null&&(d.style.backgroundColor=i.color),d.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(d);let u=window.getComputedStyle(d),h=u.transitionProperty,m=u.transitionDuration,f=h==="none"||m==="0s"||m==="0s, 0s"||o.width===0&&o.height===0,p=new JS(this,d,i,f);d.style.transform="scale3d(1, 1, 1)",p.state=Cr.FADING_IN,i.persistent||(this._mostRecentTransientRipple=p);let g=null;return!f&&(c||r.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let v=()=>{g&&(g.fallbackTimer=null),clearTimeout(C),this._finishRippleTransition(p)},b=()=>this._destroyRipple(p),C=setTimeout(b,c+100);d.addEventListener("transitionend",v),d.addEventListener("transitioncancel",b),g={onTransitionEnd:v,onTransitionCancel:b,fallbackTimer:C}}),this._activeRipples.set(p,g),(f||!c)&&this._finishRippleTransition(p),p}fadeOutRipple(t){if(t.state===Cr.FADING_OUT||t.state===Cr.HIDDEN)return;let e=t.element,i=j(j({},Sf),t.config.animation);e.style.transitionDuration=`${i.exitDuration}ms`,e.style.opacity="0",t.state=Cr.FADING_OUT,(t._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){let e=Hr(t);!this._platform.isBrowser||!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,eG.forEach(i=>{n._eventManager.addHandler(this._ngZone,i,e,this)}))}handleEvent(t){t.type==="mousedown"?this._onMousedown(t):t.type==="touchstart"?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{tG.forEach(e=>{this._triggerElement.addEventListener(e,this,Jq)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){t.state===Cr.FADING_IN?this._startFadeOutTransition(t):t.state===Cr.FADING_OUT&&this._destroyRipple(t)}_startFadeOutTransition(t){let e=t===this._mostRecentTransientRipple,{persistent:i}=t.config;t.state=Cr.VISIBLE,!i&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){let e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=Cr.HIDDEN,e!==null&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel),e.fallbackTimer!==null&&clearTimeout(e.fallbackTimer)),t.element.remove()}_onMousedown(t){let e=Db(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+nfe;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!Ib(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let e=t.changedTouches;if(e)for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{let e=t.state===Cr.VISIBLE||t.config.terminateOnPointerUp&&t.state===Cr.FADING_IN;!t.config.persistent&&e&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let t=this._triggerElement;t&&(eG.forEach(e=>n._eventManager.removeHandler(e,t,this)),this._pointerUpEventsRegistered&&(tG.forEach(e=>t.removeEventListener(e,this,Jq)),this._pointerUpEventsRegistered=!1))}};function rfe(n,t,e){let i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),o=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+o*o)}var Ol=new ae("mat-ripple-global-options"),nu=(()=>{class n{_elementRef=y(Oe);_animationMode=y(Ei,{optional:!0});color;unbounded;centered;radius=0;animation;get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}_disabled=!1;get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}_trigger;_rippleRenderer;_globalOptions;_isInitialized=!1;constructor(){let e=y(Ye),i=y(Wt),o=y(Ol,{optional:!0}),r=y(_i);this._globalOptions=o||{},this._rippleRenderer=new iu(this,e,this._elementRef,i,r)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:j(j(j({},this._globalOptions.animation),this._animationMode==="NoopAnimations"?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,o){return typeof e=="number"?this._rippleRenderer.fadeInRipple(e,i,j(j({},this.rippleConfig),o)):this._rippleRenderer.fadeInRipple(0,0,j(j({},this.rippleConfig),e))}static \u0275fac=function(i){return new(i||n)};static \u0275dir=me({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(i,o){i&2&&Se("mat-ripple-unbounded",o.unbounded)},inputs:{color:[0,"matRippleColor","color"],unbounded:[0,"matRippleUnbounded","unbounded"],centered:[0,"matRippleCentered","centered"],radius:[0,"matRippleRadius","radius"],animation:[0,"matRippleAnimation","animation"],disabled:[0,"matRippleDisabled","disabled"],trigger:[0,"matRippleTrigger","trigger"]},exportAs:["matRipple"]})}return n})();var sfe={capture:!0},afe=["focus","mousedown","mouseenter","touchstart"],SP="mat-ripple-loader-uninitialized",DP="mat-ripple-loader-class-name",iG="mat-ripple-loader-centered",eD="mat-ripple-loader-disabled",tD=(()=>{class n{_document=y(dt);_animationMode=y(Ei,{optional:!0});_globalRippleOptions=y(Ol,{optional:!0});_platform=y(Wt);_ngZone=y(Ye);_injector=y(_i);_eventCleanups;_hosts=new Map;constructor(){let e=y(Qo).createRenderer(null,null);this._eventCleanups=this._ngZone.runOutsideAngular(()=>afe.map(i=>is(e,this._document,i,this._onInteraction,sfe)))}ngOnDestroy(){let e=this._hosts.keys();for(let i of e)this.destroyRipple(i);this._eventCleanups.forEach(i=>i())}configureRipple(e,i){e.setAttribute(SP,this._globalRippleOptions?.namespace??""),(i.className||!e.hasAttribute(DP))&&e.setAttribute(DP,i.className||""),i.centered&&e.setAttribute(iG,""),i.disabled&&e.setAttribute(eD,"")}setDisabled(e,i){let o=this._hosts.get(e);o?(o.target.rippleDisabled=i,!i&&!o.hasSetUpEvents&&(o.hasSetUpEvents=!0,o.renderer.setupTriggerEvents(e))):i?e.setAttribute(eD,""):e.removeAttribute(eD)}_onInteraction=e=>{let i=sr(e);if(i instanceof HTMLElement){let o=i.closest(`[${SP}="${this._globalRippleOptions?.namespace??""}"]`);o&&this._createRipple(o)}};_createRipple(e){if(!this._document||this._hosts.has(e))return;e.querySelector(".mat-ripple")?.remove();let i=this._document.createElement("span");i.classList.add("mat-ripple",e.getAttribute(DP)),e.append(i);let o=this._animationMode==="NoopAnimations",r=this._globalRippleOptions,s=o?0:r?.animation?.enterDuration??Sf.enterDuration,a=o?0:r?.animation?.exitDuration??Sf.exitDuration,l={rippleDisabled:o||r?.disabled||e.hasAttribute(eD),rippleConfig:{centered:e.hasAttribute(iG),terminateOnPointerUp:r?.terminateOnPointerUp,animation:{enterDuration:s,exitDuration:a}}},c=new iu(l,this._ngZone,i,this._platform,this._injector),d=!l.rippleDisabled;d&&c.setupTriggerEvents(e),this._hosts.set(e,{target:l,renderer:c,hasSetUpEvents:d}),e.removeAttribute(SP)}destroyRipple(e){let i=this._hosts.get(e);i&&(i.renderer._removeTriggerEvents(),this._hosts.delete(e))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=se({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Ts=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Z({type:n,selectors:[["structural-styles"]],decls:0,vars:0,template:function(i,o){},styles:[`.mat-focus-indicator{position:relative}.mat-focus-indicator::before{top:0;left:0;right:0;bottom:0;position:absolute;box-sizing:border-box;pointer-events:none;display:var(--mat-focus-indicator-display, none);border-width:var(--mat-focus-indicator-border-width, 3px);border-style:var(--mat-focus-indicator-border-style, solid);border-color:var(--mat-focus-indicator-border-color, transparent);border-radius:var(--mat-focus-indicator-border-radius, 4px)}.mat-focus-indicator:focus::before{content:""}@media(forced-colors: active){html{--mat-focus-indicator-display: block}}
`],encapsulation:2,changeDetection:0})}return n})();var lfe=["mat-icon-button",""],cfe=["*"];var dfe=new ae("MAT_BUTTON_CONFIG");var ufe=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],IP=(()=>{class n{_elementRef=y(Oe);_ngZone=y(Ye);_animationMode=y(Ei,{optional:!0});_focusMonitor=y(ks);_rippleLoader=y(tD);_isFab=!1;color;get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=e,this._updateRippleDisabled()}_disableRipple=!1;get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._updateRippleDisabled()}_disabled=!1;ariaDisabled;disabledInteractive;constructor(){y(xn).load(Ts);let e=y(dfe,{optional:!0}),i=this._elementRef.nativeElement,o=i.classList;this.disabledInteractive=e?.disabledInteractive??!1,this.color=e?.color??null,this._rippleLoader?.configureRipple(i,{className:"mat-mdc-button-ripple"});for(let{attribute:r,mdcClasses:s}of ufe)i.hasAttribute(r)&&o.add(...s)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(e="program",i){e?this._focusMonitor.focusVia(this._elementRef.nativeElement,e,i):this._elementRef.nativeElement.focus(i)}_getAriaDisabled(){return this.ariaDisabled!=null?this.ariaDisabled:this.disabled&&this.disabledInteractive?!0:null}_getDisabledAttribute(){return this.disabledInteractive||!this.disabled?null:!0}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static \u0275fac=function(i){return new(i||n)};static \u0275dir=me({type:n,inputs:{color:"color",disableRipple:[2,"disableRipple","disableRipple",Ke],disabled:[2,"disabled","disabled",Ke],ariaDisabled:[2,"aria-disabled","ariaDisabled",Ke],disabledInteractive:[2,"disabledInteractive","disabledInteractive",Ke]}})}return n})();var As=(()=>{class n extends IP{constructor(){super(),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Z({type:n,selectors:[["button","mat-icon-button",""]],hostVars:14,hostBindings:function(i,o){i&2&&(ke("disabled",o._getDisabledAttribute())("aria-disabled",o._getAriaDisabled()),Ao(o.color?"mat-"+o.color:""),Se("mat-mdc-button-disabled",o.disabled)("mat-mdc-button-disabled-interactive",o.disabledInteractive)("_mat-animation-noopable",o._animationMode==="NoopAnimations")("mat-unthemed",!o.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],features:[ut],attrs:lfe,ngContentSelectors:cfe,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,o){i&1&&(wt(),Y(0,"span",0),Fe(1),Y(2,"span",1)(3,"span",2))},styles:[`.mat-mdc-icon-button{-webkit-user-select:none;user-select:none;display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;z-index:0;overflow:visible;border-radius:50%;flex-shrink:0;text-align:center;width:var(--mdc-icon-button-state-layer-size, 40px);height:var(--mdc-icon-button-state-layer-size, 40px);padding:calc(calc(var(--mdc-icon-button-state-layer-size, 40px) - var(--mdc-icon-button-icon-size, 24px)) / 2);font-size:var(--mdc-icon-button-icon-size, 24px);color:var(--mdc-icon-button-icon-color, var(--mat-sys-on-surface-variant));-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-icon-button .mdc-button__label,.mat-mdc-icon-button .mat-icon{z-index:1;position:relative}.mat-mdc-icon-button .mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus>.mat-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-icon-button-ripple-color, color-mix(in srgb, var(--mat-sys-on-surface-variant) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-icon-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-icon-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-icon-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-icon-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-icon-button-touch-target-display, block)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button[disabled],.mat-mdc-icon-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-icon-button-disabled-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-icon-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-icon-button img,.mat-mdc-icon-button svg{width:var(--mdc-icon-button-icon-size, 24px);height:var(--mdc-icon-button-icon-size, 24px);vertical-align:baseline}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button[hidden]{display:none}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}
`,`@media(forced-colors: active){.mat-mdc-button:not(.mdc-button--outlined),.mat-mdc-unelevated-button:not(.mdc-button--outlined),.mat-mdc-raised-button:not(.mdc-button--outlined),.mat-mdc-outlined-button:not(.mdc-button--outlined),.mat-mdc-icon-button.mat-mdc-icon-button,.mat-mdc-outlined-button .mdc-button__ripple{outline:solid 1px}}
`],encapsulation:2,changeDetection:0})}return n})();var hfe=new ae("cdk-dir-doc",{providedIn:"root",factory:mfe});function mfe(){return y(dt)}var pfe=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function nG(n){let t=n?.toLowerCase()||"";return t==="auto"&&typeof navigator<"u"&&navigator?.language?pfe.test(navigator.language)?"rtl":"ltr":t==="rtl"?"rtl":"ltr"}var en=(()=>{class n{value="ltr";change=new Le;constructor(){let e=y(hfe,{optional:!0});if(e){let i=e.body?e.body.dir:null,o=e.documentElement?e.documentElement.dir:null;this.value=nG(i||o||"ltr")}}ngOnDestroy(){this.change.complete()}static \u0275fac=function(i){return new(i||n)};static \u0275prov=se({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Df=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=yt({type:n});static \u0275inj=bt({})}return n})();var oa=(()=>{class n{constructor(){y(gP)._applyBodyHighContrastModeCssClasses()}static \u0275fac=function(i){return new(i||n)};static \u0275mod=yt({type:n});static \u0275inj=bt({imports:[Df,Df]})}return n})();var ffe=["mat-button",""],gfe=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],_fe=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"];var Tn=(()=>{class n extends IP{static \u0275fac=(()=>{let e;return function(o){return(e||(e=Xt(n)))(o||n)}})();static \u0275cmp=Z({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:14,hostBindings:function(i,o){i&2&&(ke("disabled",o._getDisabledAttribute())("aria-disabled",o._getAriaDisabled()),Ao(o.color?"mat-"+o.color:""),Se("mat-mdc-button-disabled",o.disabled)("mat-mdc-button-disabled-interactive",o.disabledInteractive)("_mat-animation-noopable",o._animationMode==="NoopAnimations")("mat-unthemed",!o.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],features:[ut],attrs:ffe,ngContentSelectors:_fe,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,o){i&1&&(wt(gfe),Y(0,"span",0),Fe(1),w(2,"span",1),Fe(3,1),x(),Fe(4,2),Y(5,"span",2)(6,"span",3)),i&2&&Se("mdc-button__ripple",!o._isFab)("mdc-fab__ripple",o._isFab)},styles:[`.mat-mdc-button-base{text-decoration:none}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-text-button-horizontal-padding, 12px);height:var(--mdc-text-button-container-height, 40px);font-family:var(--mdc-text-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-text-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-text-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-text-button-label-text-transform);font-weight:var(--mdc-text-button-label-text-weight, var(--mat-sys-label-large-weight))}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mat-sys-corner-full))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, var(--mat-sys-primary))}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 16px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, -4px);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, -4px);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, -4px)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color, var(--mat-sys-primary))}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display, block)}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mdc-filled-button-container-height, 40px);font-family:var(--mdc-filled-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-filled-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-filled-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-filled-button-label-text-transform);font-weight:var(--mdc-filled-button-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-filled-button-horizontal-padding, 24px)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -8px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -8px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -8px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -8px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color, color-mix(in srgb, var(--mat-sys-on-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color, var(--mat-sys-on-primary))}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-unelevated-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-unelevated-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-unelevated-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display, block)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, var(--mat-sys-on-primary));background-color:var(--mdc-filled-button-container-color, var(--mat-sys-primary))}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mat-sys-corner-full))}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mdc-filled-button-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);box-shadow:var(--mdc-protected-button-container-elevation-shadow, var(--mat-sys-level1));height:var(--mdc-protected-button-container-height, 40px);font-family:var(--mdc-protected-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-protected-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-protected-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-protected-button-label-text-transform);font-weight:var(--mdc-protected-button-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-protected-button-horizontal-padding, 24px)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -8px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -8px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -8px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -8px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color, var(--mat-sys-primary))}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-raised-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-raised-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-raised-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display, block)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, var(--mat-sys-primary));background-color:var(--mdc-protected-button-container-color, var(--mat-sys-surface))}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mat-sys-corner-full))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow, var(--mat-sys-level2))}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow, var(--mat-sys-level1))}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow, var(--mat-sys-level1))}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mdc-protected-button-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow, var(--mat-sys-level0))}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mdc-outlined-button-container-height, 40px);font-family:var(--mdc-outlined-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-outlined-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-outlined-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-outlined-button-label-text-transform);font-weight:var(--mdc-outlined-button-label-text-weight, var(--mat-sys-label-large-weight));border-radius:var(--mdc-outlined-button-container-shape, var(--mat-sys-corner-full));border-width:var(--mdc-outlined-button-outline-width, 1px);padding:0 var(--mat-outlined-button-horizontal-padding, 24px)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -8px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -8px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -8px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -8px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color, var(--mat-sys-primary))}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-outlined-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-outlined-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-outlined-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display, block)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, var(--mat-sys-primary));border-color:var(--mdc-outlined-button-outline-color, var(--mat-sys-outline))}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));border-color:var(--mdc-outlined-button-disabled-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-focus-indicator,.mat-mdc-unelevated-button .mat-focus-indicator,.mat-mdc-raised-button .mat-focus-indicator,.mat-mdc-outlined-button .mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus>.mat-focus-indicator::before,.mat-mdc-unelevated-button:focus>.mat-focus-indicator::before,.mat-mdc-raised-button:focus>.mat-focus-indicator::before,.mat-mdc-outlined-button:focus>.mat-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-focus-indicator::before,.mat-mdc-raised-button .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px)*-1)}
`,`@media(forced-colors: active){.mat-mdc-button:not(.mdc-button--outlined),.mat-mdc-unelevated-button:not(.mdc-button--outlined),.mat-mdc-raised-button:not(.mdc-button--outlined),.mat-mdc-outlined-button:not(.mdc-button--outlined),.mat-mdc-icon-button.mat-mdc-icon-button,.mat-mdc-outlined-button .mdc-button__ripple{outline:solid 1px}}
`],encapsulation:2,changeDetection:0})}return n})();var iD=class n{faintClass=!1;dragDrop=new Le;ngOnInit(){this.faintClass=!1}onDragenter(t){t.preventDefault(),t.stopPropagation(),this.faintClass=!0}onDragLeave(t){t.preventDefault(),t.stopPropagation(),this.faintClass=!1}onDragDrop(t){t.preventDefault(),t.stopPropagation(),this.faintClass=!1;let e=t.dataTransfer?.files;e&&e.length>0&&this.dragDrop.emit(t)}static \u0275fac=function(e){return new(e||n)};static \u0275dir=me({type:n,selectors:[["","appDnd",""]],hostVars:2,hostBindings:function(e,i){e&1&&de("dragover",function(r){return i.onDragenter(r)})("dragleave",function(r){return i.onDragLeave(r)})("drop",function(r){return i.onDragDrop(r)}),e&2&&Se("dnd-faint",i.faintClass)},outputs:{dragDrop:"dragDrop"}})};var sG=up(rG());var Pl=class n{SUPPORTED_EXTENSIONS=new Set(["zip"]);OVERVIEW_FILEPATH="overview.json";FILES_DIR_PATH="files";PAIRS_DIR_PATH="pairs";mimeToExtension={"application/zip":"zip","application/x-zip-compressed":"zip","application/x-rar-compressed":"rar"};hasValidExtension(t,e){if(!t)return!1;let i=this.getNormalizedExtension(t);return e.has(i)}getNormalizedExtension(t){let e=t.type||"";return this.mimeToExtension[e]||""}createWrapper(t){return{file:t,name:t.name,extension:this.getNormalizedExtension(t),dateModified:new Date(t.lastModified)}}readReportFromZip(t){return this.hasValidExtension(t,this.SUPPORTED_EXTENSIONS)?Pn(sG.default.loadAsync(t)).pipe(Zo(e=>{let i=Object.keys(e.files),o=e.files[this.OVERVIEW_FILEPATH]||e.files["/"+this.OVERVIEW_FILEPATH],r=Pn(o.async("string")).pipe(rt(l=>JSON.parse(l))),s=this.getSubmissionsReadTasks(i,e),a=this.getPairReadTasks(i,e);return Sd({overview:r,submissions:s.length>0?Sd(s).pipe(rt(l=>{let c=new Map;return l.forEach(d=>{c.set(d.id,d)}),c})):Ve(new Map),pairs:a.length>0?Sd(a).pipe(rt(l=>{let c=new Map;return l.forEach(d=>{c.set(d.id,d)}),c})):Ve(new Map)})})):Ve(null)}getPairReadTasks(t,e){return t.filter(i=>this.isWithinDirectory(i,this.PAIRS_DIR_PATH)&&i.endsWith(".json")).map(i=>Pn(e.files[i].async("string")).pipe(Zo(o=>{let r=JSON.parse(o);return Ve(r)})))}getSubmissionsReadTasks(t,e){return t.filter(i=>this.isWithinDirectory(i,this.FILES_DIR_PATH)&&i.endsWith("_meta.json")).map(i=>Pn(e.files[i].async("string")).pipe(Zo(o=>{let r=i.split("/"),s=r[r.length-2],a=JSON.parse(o),l=`${this.FILES_DIR_PATH}/${s}/${a.id}_content.txt`,c=e.files[l]||e.files["/"+l];return c?Pn(c.async("string")).pipe(rt(d=>(a.content=d,a))):Ve(a)})))}isWithinDirectory(t,e){return t.startsWith(e)||t.startsWith("/"+e)}static \u0275fac=function(e){return new(e||n)};static \u0275prov=se({token:n,factory:n.\u0275fac,providedIn:"root"})};var oD=class n{constructor(t){this.fileUtils=t}title="Vyberte s\xFAbor alebo ho sem vlo\u017Ete";subtitle="Povolen\xE9 form\xE1ty ZIP, TAR or TARGZ";buttonText="Vyberte s\xFAbor";supportedExtensions=new Set(["tar","zip","targz"]);fileUploaded=new Le;onFileSelect(t){let e=t.target;e.files&&e.files.length>0&&this.processFiles(e.files)}onFileDrop(t){t.dataTransfer&&this.processFiles(t.dataTransfer.files)}processFiles(t){if(t.length>1)return;let e=t[0];this.fileUtils.hasValidExtension(e,this.supportedExtensions)&&this.fileUploaded.emit(e)}static \u0275fac=function(e){return new(e||n)(J(Pl))};static \u0275cmp=Z({type:n,selectors:[["app-file-upload-dnd"]],inputs:{title:"title",subtitle:"subtitle",buttonText:"buttonText",supportedExtensions:"supportedExtensions"},outputs:{fileUploaded:"fileUploaded"},decls:11,vars:3,consts:[["filePicker",""],["appDnd","",1,"dnd-area",3,"dragDrop"],[1,"text-frame"],[1,"title-text"],[1,"subtitle-text"],["mat-stroked-button","",3,"click"],["type","file",1,"file-input",2,"display","none",3,"change"]],template:function(e,i){if(e&1){let o=Ft();w(0,"div",1),de("dragDrop",function(s){return et(o),tt(i.onFileDrop(s))}),w(1,"div",2)(2,"h1",3),P(3),x(),w(4,"p",4),P(5),x()(),w(6,"button",5),de("click",function(){et(o);let s=oo(10);return tt(s.click())}),w(7,"span"),P(8),x(),w(9,"input",6,0),de("change",function(s){return et(o),tt(i.onFileSelect(s))}),x()()()}e&2&&(D(3),xe(i.title),D(2),xe(i.subtitle),D(3),xe(i.buttonText))},dependencies:[Tn,iD],styles:[".dnd-area[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;height:250px;min-width:400px;max-width:500px;box-sizing:border-box;margin-inline:auto;gap:1rem;padding:1rem;border-radius:var(--mat-sys-corner-extra-small);background-color:var(--mat-sys-surface-container-high);border:1px dashed var(--mat-sys-outline-variant)}.dnd-faint[_ngcontent-%COMP%]{border:1px dashed var(--mat-sys-primary)}.dnd-faint[_ngcontent-%COMP%]   .text-frame[_ngcontent-%COMP%]{opacity:.5}.dnd-faint[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{opacity:.38}.dnd-area[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{max-width:200px}.title-text[_ngcontent-%COMP%]{text-align:center;font:var(--mat-sys-title-medium);color:var(--mat-sys-on-surface);margin:0}.subtitle-text[_ngcontent-%COMP%]{text-align:center;font:var(--mat-sys-body-small);color:var(--mat-sys-on-surface-variant);margin:0}.text-frame[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;gap:.25rem}"]})};var If=class{_attachedHost;attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;t!=null&&(this._attachedHost=null,t.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(t){this._attachedHost=t}},jc=class extends If{component;viewContainerRef;injector;componentFactoryResolver;projectableNodes;constructor(t,e,i,o,r){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.projectableNodes=r}},Ll=class extends If{templateRef;viewContainerRef;context;injector;constructor(t,e,i,o){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i,this.injector=o}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}},rD=class extends If{element;constructor(t){super(),this.element=t instanceof Oe?t.nativeElement:t}},Qh=class{_attachedPortal;_disposeFn;_isDisposed=!1;hasAttached(){return!!this._attachedPortal}attach(t){if(t instanceof jc)return this._attachedPortal=t,this.attachComponentPortal(t);if(t instanceof Ll)return this._attachedPortal=t,this.attachTemplatePortal(t);if(this.attachDomPortal&&t instanceof rD)return this._attachedPortal=t,this.attachDomPortal(t)}attachDomPortal=null;detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}};var Ob=class extends Qh{outletElement;_appRef;_defaultInjector;_document;constructor(t,e,i,o,r){super(),this.outletElement=t,this._appRef=i,this._defaultInjector=o,this._document=r}attachComponentPortal(t){let e;if(t.viewContainerRef){let i=t.injector||t.viewContainerRef.injector,o=i.get(vx,null,{optional:!0})||void 0;e=t.viewContainerRef.createComponent(t.component,{index:t.viewContainerRef.length,injector:i,ngModuleRef:o,projectableNodes:t.projectableNodes||void 0}),this.setDisposeFn(()=>e.destroy())}else{let i=this._appRef,o=t.injector||this._defaultInjector||_i.NULL,r=o.get(kr,i.injector);e=yx(t.component,{elementInjector:o,environmentInjector:r,projectableNodes:t.projectableNodes||void 0}),i.attachView(e.hostView),this.setDisposeFn(()=>{i.viewCount>0&&i.detachView(e.hostView),e.destroy()})}return this.outletElement.appendChild(this._getComponentRootNode(e)),this._attachedPortal=t,e}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return i.rootNodes.forEach(o=>this.outletElement.appendChild(o)),i.detectChanges(),this.setDisposeFn(()=>{let o=e.indexOf(i);o!==-1&&e.remove(o)}),this._attachedPortal=t,i}attachDomPortal=t=>{let e=t.element;e.parentNode;let i=this._document.createComment("dom-portal");e.parentNode.insertBefore(i,e),this.outletElement.appendChild(e),this._attachedPortal=t,super.setDisposeFn(()=>{i.parentNode&&i.parentNode.replaceChild(e,i)})};dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}};var Ef=(()=>{class n extends Qh{_moduleRef=y(vx,{optional:!0});_document=y(dt);_viewContainerRef=y(io);_isInitialized=!1;_attachedRef;constructor(){super()}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}attached=new Le;get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(e){e.setAttachedHost(this);let i=e.viewContainerRef!=null?e.viewContainerRef:this._viewContainerRef,o=i.createComponent(e.component,{index:i.length,injector:e.injector||i.injector,projectableNodes:e.projectableNodes||void 0,ngModuleRef:this._moduleRef||void 0});return i!==this._viewContainerRef&&this._getRootNode().appendChild(o.hostView.rootNodes[0]),super.setDisposeFn(()=>o.destroy()),this._attachedPortal=e,this._attachedRef=o,this.attached.emit(o),o}attachTemplatePortal(e){e.setAttachedHost(this);let i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}attachDomPortal=e=>{let i=e.element;i.parentNode;let o=this._document.createComment("dom-portal");e.setAttachedHost(this),i.parentNode.insertBefore(o,i),this._getRootNode().appendChild(i),this._attachedPortal=e,super.setDisposeFn(()=>{o.parentNode&&o.parentNode.replaceChild(i,o)})};_getRootNode(){let e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}static \u0275fac=function(i){return new(i||n)};static \u0275dir=me({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[ut]})}return n})();var Pb=class{};function Lb(n){return n&&typeof n.connect=="function"&&!(n instanceof tv)}var ou=function(n){return n[n.REPLACED=0]="REPLACED",n[n.INSERTED=1]="INSERTED",n[n.MOVED=2]="MOVED",n[n.REMOVED=3]="REMOVED",n}(ou||{}),Mf=new ae("_ViewRepeater");var vfe=20,ru=(()=>{class n{_ngZone=y(Ye);_platform=y(Wt);_renderer=y(Qo).createRenderer(null,null);_cleanupGlobalListener;constructor(){}_scrolled=new De;_scrolledCount=0;scrollContainers=new Map;register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){let i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=vfe){return this._platform.isBrowser?new mr(i=>{this._cleanupGlobalListener||(this._cleanupGlobalListener=this._ngZone.runOutsideAngular(()=>this._renderer.listen("document","scroll",()=>this._scrolled.next())));let o=e>0?this._scrolled.pipe(jA(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{o.unsubscribe(),this._scrolledCount--,this._scrolledCount||(this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0)}}):Ve()}ngOnDestroy(){this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0,this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){let o=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(ii(r=>!r||o.indexOf(r)>-1))}getAncestorScrollContainers(e){let i=[];return this.scrollContainers.forEach((o,r)=>{this._scrollableContainsElement(r,e)&&i.push(r)}),i}_scrollableContainsElement(e,i){let o=Hr(i),r=e.getElementRef().nativeElement;do if(o==r)return!0;while(o=o.parentElement);return!1}static \u0275fac=function(i){return new(i||n)};static \u0275prov=se({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Uc=(()=>{class n{elementRef=y(Oe);scrollDispatcher=y(ru);ngZone=y(Ye);dir=y(en,{optional:!0});_scrollElement=this.elementRef.nativeElement;_destroyed=new De;_renderer=y(Li);_cleanupScroll;_elementScrolled=new De;constructor(){}ngOnInit(){this._cleanupScroll=this.ngZone.runOutsideAngular(()=>this._renderer.listen(this._scrollElement,"scroll",e=>this._elementScrolled.next(e))),this.scrollDispatcher.register(this)}ngOnDestroy(){this._cleanupScroll?.(),this._elementScrolled.complete(),this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){let i=this.elementRef.nativeElement,o=this.dir&&this.dir.value=="rtl";e.left==null&&(e.left=o?e.end:e.start),e.right==null&&(e.right=o?e.start:e.end),e.bottom!=null&&(e.top=i.scrollHeight-i.clientHeight-e.bottom),o&&xf()!=Ua.NORMAL?(e.left!=null&&(e.right=i.scrollWidth-i.clientWidth-e.left),xf()==Ua.INVERTED?e.left=e.right:xf()==Ua.NEGATED&&(e.left=e.right?-e.right:e.right)):e.right!=null&&(e.left=i.scrollWidth-i.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){let i=this.elementRef.nativeElement;QS()?i.scrollTo(e):(e.top!=null&&(i.scrollTop=e.top),e.left!=null&&(i.scrollLeft=e.left))}measureScrollOffset(e){let i="left",o="right",r=this.elementRef.nativeElement;if(e=="top")return r.scrollTop;if(e=="bottom")return r.scrollHeight-r.clientHeight-r.scrollTop;let s=this.dir&&this.dir.value=="rtl";return e=="start"?e=s?o:i:e=="end"&&(e=s?i:o),s&&xf()==Ua.INVERTED?e==i?r.scrollWidth-r.clientWidth-r.scrollLeft:r.scrollLeft:s&&xf()==Ua.NEGATED?e==i?r.scrollLeft+r.scrollWidth-r.clientWidth:-r.scrollLeft:e==i?r.scrollLeft:r.scrollWidth-r.clientWidth-r.scrollLeft}static \u0275fac=function(i){return new(i||n)};static \u0275dir=me({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]})}return n})(),bfe=20,ra=(()=>{class n{_platform=y(Wt);_listeners;_viewportSize;_change=new De;_document=y(dt,{optional:!0});constructor(){let e=y(Ye),i=y(Qo).createRenderer(null,null);e.runOutsideAngular(()=>{if(this._platform.isBrowser){let o=r=>this._change.next(r);this._listeners=[i.listen("window","resize",o),i.listen("window","orientationchange",o)]}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){this._listeners?.forEach(e=>e()),this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){let e=this.getViewportScrollPosition(),{width:i,height:o}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+o,right:e.left+i,height:o,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let e=this._document,i=this._getWindow(),o=e.documentElement,r=o.getBoundingClientRect(),s=-r.top||e.body.scrollTop||i.scrollY||o.scrollTop||0,a=-r.left||e.body.scrollLeft||i.scrollX||o.scrollLeft||0;return{top:s,left:a}}change(e=bfe){return e>0?this._change.pipe(jA(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}static \u0275fac=function(i){return new(i||n)};static \u0275prov=se({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var kf=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=yt({type:n});static \u0275inj=bt({})}return n})(),MP=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=yt({type:n});static \u0275inj=bt({imports:[Df,kf,Df,kf]})}return n})();var aG=QS(),sD=class{_viewportRuler;_previousHTMLStyles={top:"",left:""};_previousScrollPosition;_isEnabled=!1;_document;constructor(t,e){this._viewportRuler=t,this._document=e}attach(){}enable(){if(this._canBeEnabled()){let t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=ho(-this._previousScrollPosition.left),t.style.top=ho(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let t=this._document.documentElement,e=this._document.body,i=t.style,o=e.style,r=i.scrollBehavior||"",s=o.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),aG&&(i.scrollBehavior=o.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),aG&&(i.scrollBehavior=r,o.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let e=this._document.documentElement,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}};var aD=class{_scrollDispatcher;_ngZone;_viewportRuler;_config;_scrollSubscription=null;_overlayRef;_initialScrollPosition;constructor(t,e,i,o){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=o}attach(t){this._overlayRef,this._overlayRef=t}enable(){if(this._scrollSubscription)return;let t=this._scrollDispatcher.scrolled(0).pipe(ii(e=>!e||!this._overlayRef.overlayElement.contains(e.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{let e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}_detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}},Nb=class{enable(){}disable(){}attach(){}};function kP(n,t){return t.some(e=>{let i=n.bottom<e.top,o=n.top>e.bottom,r=n.right<e.left,s=n.left>e.right;return i||o||r||s})}function lG(n,t){return t.some(e=>{let i=n.top<e.top,o=n.bottom>e.bottom,r=n.left<e.left,s=n.right>e.right;return i||o||r||s})}var lD=class{_scrollDispatcher;_viewportRuler;_ngZone;_config;_scrollSubscription=null;_overlayRef;constructor(t,e,i,o){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=o}attach(t){this._overlayRef,this._overlayRef=t}enable(){if(!this._scrollSubscription){let t=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(t).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:o}=this._viewportRuler.getViewportSize();kP(e,[{width:i,height:o,bottom:o,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},pG=(()=>{class n{_scrollDispatcher=y(ru);_viewportRuler=y(ra);_ngZone=y(Ye);_document=y(dt);constructor(){}noop=()=>new Nb;close=e=>new aD(this._scrollDispatcher,this._ngZone,this._viewportRuler,e);block=()=>new sD(this._viewportRuler,this._document);reposition=e=>new lD(this._scrollDispatcher,this._viewportRuler,this._ngZone,e);static \u0275fac=function(i){return new(i||n)};static \u0275prov=se({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),qc=class{positionStrategy;scrollStrategy=new Nb;panelClass="";hasBackdrop=!1;backdropClass="cdk-overlay-dark-backdrop";width;height;minWidth;minHeight;maxWidth;maxHeight;direction;disposeOnNavigation=!1;constructor(t){if(t){let e=Object.keys(t);for(let i of e)t[i]!==void 0&&(this[i]=t[i])}}};var cD=class{connectionPair;scrollableViewProperties;constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}};var fG=(()=>{class n{_attachedOverlays=[];_document=y(dt);_isAttached;constructor(){}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){let i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),this._attachedOverlays.length===0&&this.detach()}static \u0275fac=function(i){return new(i||n)};static \u0275prov=se({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),gG=(()=>{class n extends fG{_ngZone=y(Ye);_renderer=y(Qo).createRenderer(null,null);_cleanupKeydown;add(e){super.add(e),this._isAttached||(this._ngZone.runOutsideAngular(()=>{this._cleanupKeydown=this._renderer.listen("body","keydown",this._keydownListener)}),this._isAttached=!0)}detach(){this._isAttached&&(this._cleanupKeydown?.(),this._isAttached=!1)}_keydownListener=e=>{let i=this._attachedOverlays;for(let o=i.length-1;o>-1;o--)if(i[o]._keydownEvents.observers.length>0){this._ngZone.run(()=>i[o]._keydownEvents.next(e));break}};static \u0275fac=(()=>{let e;return function(o){return(e||(e=Xt(n)))(o||n)}})();static \u0275prov=se({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),_G=(()=>{class n extends fG{_platform=y(Wt);_ngZone=y(Ye);_renderer=y(Qo).createRenderer(null,null);_cursorOriginalValue;_cursorStyleIsSet=!1;_pointerDownEventTarget;_cleanups;add(e){if(super.add(e),!this._isAttached){let i=this._document.body,o={capture:!0};this._cleanups=this._ngZone.runOutsideAngular(()=>[is(this._renderer,i,"pointerdown",this._pointerDownListener,o),is(this._renderer,i,"click",this._clickListener,o),is(this._renderer,i,"auxclick",this._clickListener,o),is(this._renderer,i,"contextmenu",this._clickListener,o)]),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){this._isAttached&&(this._cleanups?.forEach(e=>e()),this._cleanups=void 0,this._platform.IOS&&this._cursorStyleIsSet&&(this._document.body.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1)}_pointerDownListener=e=>{this._pointerDownEventTarget=sr(e)};_clickListener=e=>{let i=sr(e),o=e.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:i;this._pointerDownEventTarget=null;let r=this._attachedOverlays.slice();for(let s=r.length-1;s>-1;s--){let a=r[s];if(a._outsidePointerEvents.observers.length<1||!a.hasAttached())continue;if(cG(a.overlayElement,i)||cG(a.overlayElement,o))break;let l=a._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>l.next(e)):l.next(e)}};static \u0275fac=(()=>{let e;return function(o){return(e||(e=Xt(n)))(o||n)}})();static \u0275prov=se({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function cG(n,t){let e=typeof ShadowRoot<"u"&&ShadowRoot,i=t;for(;i;){if(i===n)return!0;i=e&&i instanceof ShadowRoot?i.host:i.parentNode}return!1}var vG=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Z({type:n,selectors:[["ng-component"]],hostAttrs:["cdk-overlay-style-loader",""],decls:0,vars:0,template:function(i,o){},styles:[`.cdk-overlay-container,.cdk-global-overlay-wrapper{pointer-events:none;top:0;left:0;height:100%;width:100%}.cdk-overlay-container{position:fixed}@layer cdk-overlay{.cdk-overlay-container{z-index:1000}}.cdk-overlay-container:empty{display:none}.cdk-global-overlay-wrapper{display:flex;position:absolute}@layer cdk-overlay{.cdk-global-overlay-wrapper{z-index:1000}}.cdk-overlay-pane{position:absolute;pointer-events:auto;box-sizing:border-box;display:flex;max-width:100%;max-height:100%}@layer cdk-overlay{.cdk-overlay-pane{z-index:1000}}.cdk-overlay-backdrop{position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:auto;-webkit-tap-highlight-color:rgba(0,0,0,0);opacity:0}@layer cdk-overlay{.cdk-overlay-backdrop{z-index:1000;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}}@media(prefers-reduced-motion){.cdk-overlay-backdrop{transition-duration:1ms}}.cdk-overlay-backdrop-showing{opacity:1}@media(forced-colors: active){.cdk-overlay-backdrop-showing{opacity:.6}}@layer cdk-overlay{.cdk-overlay-dark-backdrop{background:rgba(0,0,0,.32)}}.cdk-overlay-transparent-backdrop{transition:visibility 1ms linear,opacity 1ms linear;visibility:hidden;opacity:1}.cdk-overlay-transparent-backdrop.cdk-overlay-backdrop-showing,.cdk-high-contrast-active .cdk-overlay-transparent-backdrop{opacity:0;visibility:visible}.cdk-overlay-backdrop-noop-animation{transition:none}.cdk-overlay-connected-position-bounding-box{position:absolute;display:flex;flex-direction:column;min-width:1px;min-height:1px}@layer cdk-overlay{.cdk-overlay-connected-position-bounding-box{z-index:1000}}.cdk-global-scrollblock{position:fixed;width:100%;overflow-y:scroll}
`],encapsulation:2,changeDetection:0})}return n})(),hD=(()=>{class n{_platform=y(Wt);_containerElement;_document=y(dt);_styleLoader=y(xn);constructor(){}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._loadStyles(),this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let e="cdk-overlay-container";if(this._platform.isBrowser||wP()){let o=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let r=0;r<o.length;r++)o[r].remove()}let i=this._document.createElement("div");i.classList.add(e),wP()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}_loadStyles(){this._styleLoader.load(vG)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=se({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),TP=class{_renderer;_ngZone;element;_cleanupClick;_cleanupTransitionEnd;_fallbackTimeout;constructor(t,e,i,o){this._renderer=e,this._ngZone=i,this.element=t.createElement("div"),this.element.classList.add("cdk-overlay-backdrop"),this._cleanupClick=e.listen(this.element,"click",o)}detach(){this._ngZone.runOutsideAngular(()=>{let t=this.element;clearTimeout(this._fallbackTimeout),this._cleanupTransitionEnd?.(),this._cleanupTransitionEnd=this._renderer.listen(t,"transitionend",this.dispose),this._fallbackTimeout=setTimeout(this.dispose,500),t.style.pointerEvents="none",t.classList.remove("cdk-overlay-backdrop-showing")})}dispose=()=>{clearTimeout(this._fallbackTimeout),this._cleanupClick?.(),this._cleanupTransitionEnd?.(),this._cleanupClick=this._cleanupTransitionEnd=this._fallbackTimeout=void 0,this.element.remove()}},em=class{_portalOutlet;_host;_pane;_config;_ngZone;_keyboardDispatcher;_document;_location;_outsideClickDispatcher;_animationsDisabled;_injector;_renderer;_backdropClick=new De;_attachments=new De;_detachments=new De;_positionStrategy;_scrollStrategy;_locationChanges=_n.EMPTY;_backdropRef=null;_previousHostParent;_keydownEvents=new De;_outsidePointerEvents=new De;_renders=new De;_afterRenderRef;_afterNextRenderRef;constructor(t,e,i,o,r,s,a,l,c,d=!1,u,h){this._portalOutlet=t,this._host=e,this._pane=i,this._config=o,this._ngZone=r,this._keyboardDispatcher=s,this._document=a,this._location=l,this._outsideClickDispatcher=c,this._animationsDisabled=d,this._injector=u,this._renderer=h,o.scrollStrategy&&(this._scrollStrategy=o.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=o.positionStrategy,this._afterRenderRef=Yr(()=>_x(()=>{this._renders.next()},{injector:this._injector}))}get overlayElement(){return this._pane}get backdropElement(){return this._backdropRef?.element||null}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);let e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._afterNextRenderRef?.destroy(),this._afterNextRenderRef=To(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof e?.onDestroy=="function"&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){let t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._backdropRef?.dispose(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._afterNextRenderRef?.destroy(),this._previousHostParent=this._pane=this._host=this._backdropRef=null,t&&this._detachments.next(),this._detachments.complete(),this._afterRenderRef.destroy(),this._renders.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=j(j({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Ae(j({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){let t=this._config.direction;return t?typeof t=="string"?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let t=this._pane.style;t.width=ho(this._config.width),t.height=ho(this._config.height),t.minWidth=ho(this._config.minWidth),t.minHeight=ho(this._config.minHeight),t.maxWidth=ho(this._config.maxWidth),t.maxHeight=ho(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){let t="cdk-overlay-backdrop-showing";this._backdropRef?.dispose(),this._backdropRef=new TP(this._document,this._renderer,this._ngZone,e=>{this._backdropClick.next(e)}),this._animationsDisabled&&this._backdropRef.element.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropRef.element,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropRef.element,this._host),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this._backdropRef?.element.classList.add(t))}):this._backdropRef.element.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){this._animationsDisabled?(this._backdropRef?.dispose(),this._backdropRef=null):this._backdropRef?.detach()}_toggleClasses(t,e,i){let o=_f(e||[]).filter(r=>!!r);o.length&&(i?t.classList.add(...o):t.classList.remove(...o))}_detachContentWhenEmpty(){this._ngZone.runOutsideAngular(()=>{let t=this._renders.pipe(Ct(nn(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){let t=this._scrollStrategy;t?.disable(),t?.detach?.()}},dG="cdk-overlay-connected-position-bounding-box",wfe=/([A-Za-z%]+)$/,dD=class{_viewportRuler;_document;_platform;_overlayContainer;_overlayRef;_isInitialRender;_lastBoundingBoxSize={width:0,height:0};_isPushed=!1;_canPush=!0;_growAfterOpen=!1;_hasFlexibleDimensions=!0;_positionLocked=!1;_originRect;_overlayRect;_viewportRect;_containerRect;_viewportMargin=0;_scrollables=[];_preferredPositions=[];_origin;_pane;_isDisposed;_boundingBox;_lastPosition;_lastScrollVisibility;_positionChanges=new De;_resizeSubscription=_n.EMPTY;_offsetX=0;_offsetY=0;_transformOriginSelector;_appliedPanelClasses=[];_previousPushAmount;positionChanges=this._positionChanges;get positions(){return this._preferredPositions}constructor(t,e,i,o,r){this._viewportRuler=e,this._document=i,this._platform=o,this._overlayContainer=r,this.setOrigin(t)}attach(t){this._overlayRef&&this._overlayRef,this._validatePositions(),t.hostElement.classList.add(dG),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let t=this._originRect,e=this._overlayRect,i=this._viewportRect,o=this._containerRect,r=[],s;for(let a of this._preferredPositions){let l=this._getOriginPoint(t,o,a),c=this._getOverlayPoint(l,e,a),d=this._getOverlayFit(c,e,i,a);if(d.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(a,l);return}if(this._canFitWithFlexibleDimensions(d,c,i)){r.push({position:a,origin:l,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(l,a)});continue}(!s||s.overlayFit.visibleArea<d.visibleArea)&&(s={overlayFit:d,overlayPoint:c,originPoint:l,position:a,overlayRect:e})}if(r.length){let a=null,l=-1;for(let c of r){let d=c.boundingBoxRect.width*c.boundingBoxRect.height*(c.position.weight||1);d>l&&(l=d,a=c)}this._isPushed=!1,this._applyPosition(a.position,a.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(s.position,s.originPoint);return}this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Jh(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(dG),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,t.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let o;if(i.originX=="center")o=t.left+t.width/2;else{let s=this._isRtl()?t.right:t.left,a=this._isRtl()?t.left:t.right;o=i.originX=="start"?s:a}e.left<0&&(o-=e.left);let r;return i.originY=="center"?r=t.top+t.height/2:r=i.originY=="top"?t.top:t.bottom,e.top<0&&(r-=e.top),{x:o,y:r}}_getOverlayPoint(t,e,i){let o;i.overlayX=="center"?o=-e.width/2:i.overlayX==="start"?o=this._isRtl()?-e.width:0:o=this._isRtl()?0:-e.width;let r;return i.overlayY=="center"?r=-e.height/2:r=i.overlayY=="top"?0:-e.height,{x:t.x+o,y:t.y+r}}_getOverlayFit(t,e,i,o){let r=hG(e),{x:s,y:a}=t,l=this._getOffset(o,"x"),c=this._getOffset(o,"y");l&&(s+=l),c&&(a+=c);let d=0-s,u=s+r.width-i.width,h=0-a,m=a+r.height-i.height,f=this._subtractOverflows(r.width,d,u),p=this._subtractOverflows(r.height,h,m),g=f*p;return{visibleArea:g,isCompletelyWithinViewport:r.width*r.height===g,fitsInViewportVertically:p===r.height,fitsInViewportHorizontally:f==r.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){let o=i.bottom-e.y,r=i.right-e.x,s=uG(this._overlayRef.getConfig().minHeight),a=uG(this._overlayRef.getConfig().minWidth),l=t.fitsInViewportVertically||s!=null&&s<=o,c=t.fitsInViewportHorizontally||a!=null&&a<=r;return l&&c}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};let o=hG(e),r=this._viewportRect,s=Math.max(t.x+o.width-r.width,0),a=Math.max(t.y+o.height-r.height,0),l=Math.max(r.top-i.top-t.y,0),c=Math.max(r.left-i.left-t.x,0),d=0,u=0;return o.width<=r.width?d=c||-s:d=t.x<this._viewportMargin?r.left-i.left-t.x:0,o.height<=r.height?u=l||-a:u=t.y<this._viewportMargin?r.top-i.top-t.y:0,this._previousPushAmount={x:d,y:u},{x:t.x+d,y:t.y+u}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._positionChanges.observers.length){let i=this._getScrollVisibility();if(t!==this._lastPosition||!this._lastScrollVisibility||!xfe(this._lastScrollVisibility,i)){let o=new cD(t,i);this._positionChanges.next(o)}this._lastScrollVisibility=i}this._lastPosition=t,this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;let e=this._boundingBox.querySelectorAll(this._transformOriginSelector),i,o=t.overlayY;t.overlayX==="center"?i="center":this._isRtl()?i=t.overlayX==="start"?"right":"left":i=t.overlayX==="start"?"left":"right";for(let r=0;r<e.length;r++)e[r].style.transformOrigin=`${i} ${o}`}_calculateBoundingBoxRect(t,e){let i=this._viewportRect,o=this._isRtl(),r,s,a;if(e.overlayY==="top")s=t.y,r=i.height-s+this._viewportMargin;else if(e.overlayY==="bottom")a=i.height-t.y+this._viewportMargin*2,r=i.height-a+this._viewportMargin;else{let m=Math.min(i.bottom-t.y+i.top,t.y),f=this._lastBoundingBoxSize.height;r=m*2,s=t.y-m,r>f&&!this._isInitialRender&&!this._growAfterOpen&&(s=t.y-f/2)}let l=e.overlayX==="start"&&!o||e.overlayX==="end"&&o,c=e.overlayX==="end"&&!o||e.overlayX==="start"&&o,d,u,h;if(c)h=i.width-t.x+this._viewportMargin*2,d=t.x-this._viewportMargin;else if(l)u=t.x,d=i.right-t.x;else{let m=Math.min(i.right-t.x+i.left,t.x),f=this._lastBoundingBoxSize.width;d=m*2,u=t.x-m,d>f&&!this._isInitialRender&&!this._growAfterOpen&&(u=t.x-f/2)}return{top:s,left:u,bottom:a,right:h,width:d,height:r}}_setBoundingBoxStyles(t,e){let i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));let o={};if(this._hasExactPosition())o.top=o.left="0",o.bottom=o.right=o.maxHeight=o.maxWidth="",o.width=o.height="100%";else{let r=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;o.height=ho(i.height),o.top=ho(i.top),o.bottom=ho(i.bottom),o.width=ho(i.width),o.left=ho(i.left),o.right=ho(i.right),e.overlayX==="center"?o.alignItems="center":o.alignItems=e.overlayX==="end"?"flex-end":"flex-start",e.overlayY==="center"?o.justifyContent="center":o.justifyContent=e.overlayY==="bottom"?"flex-end":"flex-start",r&&(o.maxHeight=ho(r)),s&&(o.maxWidth=ho(s))}this._lastBoundingBoxSize=i,Jh(this._boundingBox.style,o)}_resetBoundingBoxStyles(){Jh(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Jh(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){let i={},o=this._hasExactPosition(),r=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(o){let d=this._viewportRuler.getViewportScrollPosition();Jh(i,this._getExactOverlayY(e,t,d)),Jh(i,this._getExactOverlayX(e,t,d))}else i.position="static";let a="",l=this._getOffset(e,"x"),c=this._getOffset(e,"y");l&&(a+=`translateX(${l}px) `),c&&(a+=`translateY(${c}px)`),i.transform=a.trim(),s.maxHeight&&(o?i.maxHeight=ho(s.maxHeight):r&&(i.maxHeight="")),s.maxWidth&&(o?i.maxWidth=ho(s.maxWidth):r&&(i.maxWidth="")),Jh(this._pane.style,i)}_getExactOverlayY(t,e,i){let o={top:"",bottom:""},r=this._getOverlayPoint(e,this._overlayRect,t);if(this._isPushed&&(r=this._pushOverlayOnScreen(r,this._overlayRect,i)),t.overlayY==="bottom"){let s=this._document.documentElement.clientHeight;o.bottom=`${s-(r.y+this._overlayRect.height)}px`}else o.top=ho(r.y);return o}_getExactOverlayX(t,e,i){let o={left:"",right:""},r=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(r=this._pushOverlayOnScreen(r,this._overlayRect,i));let s;if(this._isRtl()?s=t.overlayX==="end"?"left":"right":s=t.overlayX==="end"?"right":"left",s==="right"){let a=this._document.documentElement.clientWidth;o.right=`${a-(r.x+this._overlayRect.width)}px`}else o.left=ho(r.x);return o}_getScrollVisibility(){let t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(o=>o.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:lG(t,i),isOriginOutsideView:kP(t,i),isOverlayClipped:lG(e,i),isOverlayOutsideView:kP(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,o)=>i-Math.max(o,0),t)}_getNarrowedViewportRect(){let t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return e==="x"?t.offsetX==null?this._offsetX:t.offsetX:t.offsetY==null?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&_f(t).forEach(e=>{e!==""&&this._appliedPanelClasses.indexOf(e)===-1&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){let t=this._origin;if(t instanceof Oe)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();let e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}};function Jh(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function uG(n){if(typeof n!="number"&&n!=null){let[t,e]=n.split(wfe);return!e||e==="px"?parseFloat(t):null}return n||null}function hG(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}function xfe(n,t){return n===t?!0:n.isOriginClipped===t.isOriginClipped&&n.isOriginOutsideView===t.isOriginOutsideView&&n.isOverlayClipped===t.isOverlayClipped&&n.isOverlayOutsideView===t.isOverlayOutsideView}var mG="cdk-global-overlay-wrapper",uD=class{_overlayRef;_cssPosition="static";_topOffset="";_bottomOffset="";_alignItems="";_xPosition="";_xOffset="";_width="";_height="";_isDisposed=!1;attach(t){let e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(mG),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:o,height:r,maxWidth:s,maxHeight:a}=i,l=(o==="100%"||o==="100vw")&&(!s||s==="100%"||s==="100vw"),c=(r==="100%"||r==="100vh")&&(!a||a==="100%"||a==="100vh"),d=this._xPosition,u=this._xOffset,h=this._overlayRef.getConfig().direction==="rtl",m="",f="",p="";l?p="flex-start":d==="center"?(p="center",h?f=u:m=u):h?d==="left"||d==="end"?(p="flex-end",m=u):(d==="right"||d==="start")&&(p="flex-start",f=u):d==="left"||d==="start"?(p="flex-start",m=u):(d==="right"||d==="end")&&(p="flex-end",f=u),t.position=this._cssPosition,t.marginLeft=l?"0":m,t.marginTop=c?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=l?"0":f,e.justifyContent=p,e.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(mG),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}},bG=(()=>{class n{_viewportRuler=y(ra);_document=y(dt);_platform=y(Wt);_overlayContainer=y(hD);constructor(){}global(){return new uD}flexibleConnectedTo(e){return new dD(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=se({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ar=(()=>{class n{scrollStrategies=y(pG);_overlayContainer=y(hD);_positionBuilder=y(bG);_keyboardDispatcher=y(gG);_injector=y(_i);_ngZone=y(Ye);_document=y(dt);_directionality=y(en);_location=y(Gd);_outsideClickDispatcher=y(_G);_animationsModuleType=y(Ei,{optional:!0});_idGenerator=y(Bn);_renderer=y(Qo).createRenderer(null,null);_appRef;_styleLoader=y(xn);constructor(){}create(e){this._styleLoader.load(vG);let i=this._createHostElement(),o=this._createPaneElement(i),r=this._createPortalOutlet(o),s=new qc(e);return s.direction=s.direction||this._directionality.value,new em(r,i,o,s,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,this._animationsModuleType==="NoopAnimations",this._injector.get(kr),this._renderer)}position(){return this._positionBuilder}_createPaneElement(e){let i=this._document.createElement("div");return i.id=this._idGenerator.getId("cdk-overlay-"),i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){let e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(bh)),new Ob(e,null,this._appRef,this._injector,this._document)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=se({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Cfe=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],Sfe=new ae("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{let n=y(ar);return()=>n.scrollStrategies.reposition()}}),Tf=(()=>{class n{elementRef=y(Oe);constructor(){}static \u0275fac=function(i){return new(i||n)};static \u0275dir=me({type:n,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]})}return n})(),mD=(()=>{class n{_overlay=y(ar);_dir=y(en,{optional:!0});_overlayRef;_templatePortal;_backdropSubscription=_n.EMPTY;_attachSubscription=_n.EMPTY;_detachSubscription=_n.EMPTY;_positionSubscription=_n.EMPTY;_offsetX;_offsetY;_position;_scrollStrategyFactory=y(Sfe);_disposeOnNavigation=!1;_ngZone=y(Ye);origin;positions;positionStrategy;get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}width;height;minWidth;minHeight;backdropClass;panelClass;viewportMargin=0;scrollStrategy;open=!1;disableClose=!1;transformOriginSelector;hasBackdrop=!1;lockPosition=!1;flexibleDimensions=!1;growAfterOpen=!1;push=!1;get disposeOnNavigation(){return this._disposeOnNavigation}set disposeOnNavigation(e){this._disposeOnNavigation=e}backdropClick=new Le;positionChange=new Le;attach=new Le;detach=new Le;overlayKeydown=new Le;overlayOutsideClick=new Le;constructor(){let e=y(vo),i=y(io);this._templatePortal=new Ll(e,i),this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef?.dispose()}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef?.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this.attachOverlay():this.detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=Cfe);let e=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=e.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=e.detachments().subscribe(()=>this.detach.emit()),e.keydownEvents().subscribe(i=>{this.overlayKeydown.next(i),i.keyCode===27&&!this.disableClose&&!Xn(i)&&(i.preventDefault(),this.detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(i=>{let o=this._getOriginElement(),r=sr(i);(!o||o!==r&&!o.contains(r))&&this.overlayOutsideClick.next(i)})}_buildConfig(){let e=this._position=this.positionStrategy||this._createPositionStrategy(),i=new qc({direction:this._dir||"ltr",positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop,disposeOnNavigation:this.disposeOnNavigation});return(this.width||this.width===0)&&(i.width=this.width),(this.height||this.height===0)&&(i.height=this.height),(this.minWidth||this.minWidth===0)&&(i.minWidth=this.minWidth),(this.minHeight||this.minHeight===0)&&(i.minHeight=this.minHeight),this.backdropClass&&(i.backdropClass=this.backdropClass),this.panelClass&&(i.panelClass=this.panelClass),i}_updatePositionStrategy(e){let i=this.positions.map(o=>({originX:o.originX,originY:o.originY,overlayX:o.overlayX,overlayY:o.overlayY,offsetX:o.offsetX||this.offsetX,offsetY:o.offsetY||this.offsetY,panelClass:o.panelClass||void 0}));return e.setOrigin(this._getOrigin()).withPositions(i).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){let e=this._overlay.position().flexibleConnectedTo(this._getOrigin());return this._updatePositionStrategy(e),e}_getOrigin(){return this.origin instanceof Tf?this.origin.elementRef:this.origin}_getOriginElement(){return this.origin instanceof Tf?this.origin.elementRef.nativeElement:this.origin instanceof Oe?this.origin.nativeElement:typeof Element<"u"&&this.origin instanceof Element?this.origin:null}attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(e=>{this.backdropClick.emit(e)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(gx(()=>this.positionChange.observers.length>0)).subscribe(e=>{this._ngZone.run(()=>this.positionChange.emit(e)),this.positionChange.observers.length===0&&this._positionSubscription.unsubscribe()})),this.open=!0}detachOverlay(){this._overlayRef?.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.open=!1}static \u0275fac=function(i){return new(i||n)};static \u0275dir=me({type:n,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:[0,"cdkConnectedOverlayOrigin","origin"],positions:[0,"cdkConnectedOverlayPositions","positions"],positionStrategy:[0,"cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:[0,"cdkConnectedOverlayOffsetX","offsetX"],offsetY:[0,"cdkConnectedOverlayOffsetY","offsetY"],width:[0,"cdkConnectedOverlayWidth","width"],height:[0,"cdkConnectedOverlayHeight","height"],minWidth:[0,"cdkConnectedOverlayMinWidth","minWidth"],minHeight:[0,"cdkConnectedOverlayMinHeight","minHeight"],backdropClass:[0,"cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:[0,"cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:[0,"cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:[0,"cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:[0,"cdkConnectedOverlayOpen","open"],disableClose:[0,"cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:[0,"cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:[2,"cdkConnectedOverlayHasBackdrop","hasBackdrop",Ke],lockPosition:[2,"cdkConnectedOverlayLockPosition","lockPosition",Ke],flexibleDimensions:[2,"cdkConnectedOverlayFlexibleDimensions","flexibleDimensions",Ke],growAfterOpen:[2,"cdkConnectedOverlayGrowAfterOpen","growAfterOpen",Ke],push:[2,"cdkConnectedOverlayPush","push",Ke],disposeOnNavigation:[2,"cdkConnectedOverlayDisposeOnNavigation","disposeOnNavigation",Ke]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[fi]})}return n})();function Dfe(n,t){}var su=class{viewContainerRef;injector;id;role="dialog";panelClass="";hasBackdrop=!0;backdropClass="";disableClose=!1;width="";height="";minWidth;minHeight;maxWidth;maxHeight;positionStrategy;data=null;direction;ariaDescribedBy=null;ariaLabelledBy=null;ariaLabel=null;ariaModal=!1;autoFocus="first-tabbable";restoreFocus=!0;scrollStrategy;closeOnNavigation=!0;closeOnDestroy=!0;closeOnOverlayDetachments=!0;componentFactoryResolver;providers;container;templateContext};var OP=(()=>{class n extends Qh{_elementRef=y(Oe);_focusTrapFactory=y(Tb);_config;_interactivityChecker=y(vf);_ngZone=y(Ye);_overlayRef=y(em);_focusMonitor=y(ks);_renderer=y(Li);_platform=y(Wt);_document=y(dt,{optional:!0});_portalOutlet;_focusTrap=null;_elementFocusedBeforeDialogWasOpened=null;_closeInteractionType=null;_ariaLabelledByQueue=[];_changeDetectorRef=y(Gt);_injector=y(_i);_isDestroyed=!1;constructor(){super(),this._config=y(su,{optional:!0})||new su,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(e){this._ariaLabelledByQueue.push(e),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(e){let i=this._ariaLabelledByQueue.indexOf(e);i>-1&&(this._ariaLabelledByQueue.splice(i,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._isDestroyed=!0,this._restoreFocus()}attachComponentPortal(e){this._portalOutlet.hasAttached();let i=this._portalOutlet.attachComponentPortal(e);return this._contentAttached(),i}attachTemplatePortal(e){this._portalOutlet.hasAttached();let i=this._portalOutlet.attachTemplatePortal(e);return this._contentAttached(),i}attachDomPortal=e=>{this._portalOutlet.hasAttached();let i=this._portalOutlet.attachDomPortal(e);return this._contentAttached(),i};_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let o=()=>{r(),s(),e.removeAttribute("tabindex")},r=this._renderer.listen(e,"blur",o),s=this._renderer.listen(e,"mousedown",o)})),e.focus(i)}_focusByCssSelector(e,i){let o=this._elementRef.nativeElement.querySelector(e);o&&this._forceFocus(o,i)}_trapFocus(e){this._isDestroyed||To(()=>{let i=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||i.focus(e);break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElement(e)||this._focusDialogContainer(e);break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]',e);break;default:this._focusByCssSelector(this._config.autoFocus,e);break}},{injector:this._injector})}_restoreFocus(){let e=this._config.restoreFocus,i=null;if(typeof e=="string"?i=this._document.querySelector(e):typeof e=="boolean"?i=e?this._elementFocusedBeforeDialogWasOpened:null:e&&(i=e),this._config.restoreFocus&&i&&typeof i.focus=="function"){let o=Zd(),r=this._elementRef.nativeElement;(!o||o===this._document.body||o===r||r.contains(o))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(e){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus(e)}_containsFocus(){let e=this._elementRef.nativeElement,i=Zd();return e===i||e.contains(i)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=Zd()))}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Z({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(i,o){if(i&1&&st(Ef,7),i&2){let r;fe(r=ge())&&(o._portalOutlet=r.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(i,o){i&2&&ke("id",o._config.id||null)("role",o._config.role)("aria-modal",o._config.ariaModal)("aria-labelledby",o._config.ariaLabel?null:o._ariaLabelledByQueue[0])("aria-label",o._config.ariaLabel)("aria-describedby",o._config.ariaDescribedBy||null)},features:[ut],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(i,o){i&1&&ee(0,Dfe,0,0,"ng-template",0)},dependencies:[Ef],styles:[`.cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}
`],encapsulation:2})}return n})(),Fb=class{overlayRef;config;componentInstance;componentRef;containerInstance;disableClose;closed=new De;backdropClick;keydownEvents;outsidePointerEvents;id;_detachSubscription;constructor(t,e){this.overlayRef=t,this.config=e,this.disableClose=e.disableClose,this.backdropClick=t.backdropClick(),this.keydownEvents=t.keydownEvents(),this.outsidePointerEvents=t.outsidePointerEvents(),this.id=e.id,this.keydownEvents.subscribe(i=>{i.keyCode===27&&!this.disableClose&&!Xn(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=t.detachments().subscribe(()=>{e.closeOnOverlayDetachments!==!1&&this.close()})}close(t,e){if(this.containerInstance){let i=this.closed;this.containerInstance._closeInteractionType=e?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),i.next(t),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(t="",e=""){return this.overlayRef.updateSize({width:t,height:e}),this}addPanelClass(t){return this.overlayRef.addPanelClass(t),this}removePanelClass(t){return this.overlayRef.removePanelClass(t),this}},Ife=new ae("DialogScrollStrategy",{providedIn:"root",factory:()=>{let n=y(ar);return()=>n.scrollStrategies.block()}}),Efe=new ae("DialogData"),Mfe=new ae("DefaultDialogConfig");var yG=(()=>{class n{_overlay=y(ar);_injector=y(_i);_defaultOptions=y(Mfe,{optional:!0});_parentDialog=y(n,{optional:!0,skipSelf:!0});_overlayContainer=y(hD);_idGenerator=y(Bn);_openDialogsAtThisLevel=[];_afterAllClosedAtThisLevel=new De;_afterOpenedAtThisLevel=new De;_ariaHiddenElements=new Map;_scrollStrategy=y(Ife);get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}afterAllClosed=Sa(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Ji(void 0)));constructor(){}open(e,i){let o=this._defaultOptions||new su;i=j(j({},o),i),i.id=i.id||this._idGenerator.getId("cdk-dialog-"),i.id&&this.getDialogById(i.id);let r=this._getOverlayConfig(i),s=this._overlay.create(r),a=new Fb(s,i),l=this._attachContainer(s,a,i);return a.containerInstance=l,this._attachDialogContent(e,a,l,i),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(a),a.closed.subscribe(()=>this._removeOpenDialog(a,!0)),this.afterOpened.next(a),a}closeAll(){RP(this.openDialogs,e=>e.close())}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){RP(this._openDialogsAtThisLevel,e=>{e.config.closeOnDestroy===!1&&this._removeOpenDialog(e,!1)}),RP(this._openDialogsAtThisLevel,e=>e.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(e){let i=new qc({positionStrategy:e.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,width:e.width,height:e.height,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(i.backdropClass=e.backdropClass),i}_attachContainer(e,i,o){let r=o.injector||o.viewContainerRef?.injector,s=[{provide:su,useValue:o},{provide:Fb,useValue:i},{provide:em,useValue:e}],a;o.container?typeof o.container=="function"?a=o.container:(a=o.container.type,s.push(...o.container.providers(o))):a=OP;let l=new jc(a,o.viewContainerRef,_i.create({parent:r||this._injector,providers:s}));return e.attach(l).instance}_attachDialogContent(e,i,o,r){if(e instanceof vo){let s=this._createInjector(r,i,o,void 0),a={$implicit:r.data,dialogRef:i};r.templateContext&&(a=j(j({},a),typeof r.templateContext=="function"?r.templateContext():r.templateContext)),o.attachTemplatePortal(new Ll(e,null,a,s))}else{let s=this._createInjector(r,i,o,this._injector),a=o.attachComponentPortal(new jc(e,r.viewContainerRef,s));i.componentRef=a,i.componentInstance=a.instance}}_createInjector(e,i,o,r){let s=e.injector||e.viewContainerRef?.injector,a=[{provide:Efe,useValue:e.data},{provide:Fb,useValue:i}];return e.providers&&(typeof e.providers=="function"?a.push(...e.providers(i,e,o)):a.push(...e.providers)),e.direction&&(!s||!s.get(en,null,{optional:!0}))&&a.push({provide:en,useValue:{value:e.direction,change:Ve()}}),_i.create({parent:s||r,providers:a})}_removeOpenDialog(e,i){let o=this.openDialogs.indexOf(e);o>-1&&(this.openDialogs.splice(o,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((r,s)=>{r?s.setAttribute("aria-hidden",r):s.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){let e=this._overlayContainer.getContainerElement();if(e.parentElement){let i=e.parentElement.children;for(let o=i.length-1;o>-1;o--){let r=i[o];r!==e&&r.nodeName!=="SCRIPT"&&r.nodeName!=="STYLE"&&!r.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){let e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}static \u0275fac=function(i){return new(i||n)};static \u0275prov=se({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function RP(n,t){let e=n.length;for(;e--;)t(n[e])}function kfe(n,t){}var Hb=class{viewContainerRef;injector;id;role="dialog";panelClass="";hasBackdrop=!0;backdropClass="";disableClose=!1;width="";height="";minWidth;minHeight;maxWidth;maxHeight;position;data=null;direction;ariaDescribedBy=null;ariaLabelledBy=null;ariaLabel=null;ariaModal=!1;autoFocus="first-tabbable";restoreFocus=!0;delayFocusTrap=!0;scrollStrategy;closeOnNavigation=!0;componentFactoryResolver;enterAnimationDuration;exitAnimationDuration},PP="mdc-dialog--open",wG="mdc-dialog--opening",xG="mdc-dialog--closing",Tfe=150,Afe=75,DG=(()=>{class n extends OP{_animationMode=y(Ei,{optional:!0});_animationStateChanged=new Le;_animationsEnabled=this._animationMode!=="NoopAnimations";_actionSectionCount=0;_hostElement=this._elementRef.nativeElement;_enterAnimationDuration=this._animationsEnabled?SG(this._config.enterAnimationDuration)??Tfe:0;_exitAnimationDuration=this._animationsEnabled?SG(this._config.exitAnimationDuration)??Afe:0;_animationTimer=null;_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(CG,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(wG,PP)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(PP),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(PP),this._animationsEnabled?(this._hostElement.style.setProperty(CG,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(xG)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_updateActionSectionCount(e){this._actionSectionCount+=e,this._changeDetectorRef.markForCheck()}_finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)};_finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})};_clearAnimationClasses(){this._hostElement.classList.remove(wG,xG)}_waitForAnimationToComplete(e,i){this._animationTimer!==null&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(i,e)}_requestAnimationFrame(e){this._ngZone.runOutsideAngular(()=>{typeof requestAnimationFrame=="function"?requestAnimationFrame(e):e()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(e){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})}ngOnDestroy(){super.ngOnDestroy(),this._animationTimer!==null&&clearTimeout(this._animationTimer)}attachComponentPortal(e){let i=super.attachComponentPortal(e);return i.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),i}static \u0275fac=(()=>{let e;return function(o){return(e||(e=Xt(n)))(o||n)}})();static \u0275cmp=Z({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:10,hostBindings:function(i,o){i&2&&(fs("id",o._config.id),ke("aria-modal",o._config.ariaModal)("role",o._config.role)("aria-labelledby",o._config.ariaLabel?null:o._ariaLabelledByQueue[0])("aria-label",o._config.ariaLabel)("aria-describedby",o._config.ariaDescribedBy||null),Se("_mat-animation-noopable",!o._animationsEnabled)("mat-mdc-dialog-container-with-actions",o._actionSectionCount>0))},features:[ut],decls:3,vars:0,consts:[[1,"mat-mdc-dialog-inner-container","mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(i,o){i&1&&(w(0,"div",0)(1,"div",1),ee(2,kfe,0,0,"ng-template",2),x()())},dependencies:[Ef],styles:[`.mat-mdc-dialog-container{width:100%;height:100%;display:block;box-sizing:border-box;max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;outline:0}.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-max-width, 560px);min-width:var(--mat-dialog-container-min-width, 280px)}@media(max-width: 599px){.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-small-max-width, calc(100vw - 32px))}}.mat-mdc-dialog-inner-container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;transition:opacity linear var(--mat-dialog-transition-duration, 0ms);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mdc-dialog--closing .mat-mdc-dialog-inner-container{transition:opacity 75ms linear;transform:none}.mdc-dialog--open .mat-mdc-dialog-inner-container{opacity:1}._mat-animation-noopable .mat-mdc-dialog-inner-container{transition:none}.mat-mdc-dialog-surface{display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;width:100%;height:100%;position:relative;overflow-y:auto;outline:0;transform:scale(0.8);transition:transform var(--mat-dialog-transition-duration, 0ms) cubic-bezier(0, 0, 0.2, 1);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;box-shadow:var(--mat-dialog-container-elevation-shadow, none);border-radius:var(--mdc-dialog-container-shape, var(--mat-sys-corner-extra-large, 4px));background-color:var(--mdc-dialog-container-color, var(--mat-sys-surface, white))}[dir=rtl] .mat-mdc-dialog-surface{text-align:right}.mdc-dialog--open .mat-mdc-dialog-surface,.mdc-dialog--closing .mat-mdc-dialog-surface{transform:none}._mat-animation-noopable .mat-mdc-dialog-surface{transition:none}.mat-mdc-dialog-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mat-mdc-dialog-title{display:block;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:var(--mat-dialog-headline-padding, 6px 24px 13px)}.mat-mdc-dialog-title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mat-mdc-dialog-title{text-align:right}.mat-mdc-dialog-container .mat-mdc-dialog-title{color:var(--mdc-dialog-subhead-color, var(--mat-sys-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mdc-dialog-subhead-font, var(--mat-sys-headline-small-font, inherit));line-height:var(--mdc-dialog-subhead-line-height, var(--mat-sys-headline-small-line-height, 1.5rem));font-size:var(--mdc-dialog-subhead-size, var(--mat-sys-headline-small-size, 1rem));font-weight:var(--mdc-dialog-subhead-weight, var(--mat-sys-headline-small-weight, 400));letter-spacing:var(--mdc-dialog-subhead-tracking, var(--mat-sys-headline-small-tracking, 0.03125em))}.mat-mdc-dialog-content{display:block;flex-grow:1;box-sizing:border-box;margin:0;overflow:auto;max-height:65vh}.mat-mdc-dialog-content>:first-child{margin-top:0}.mat-mdc-dialog-content>:last-child{margin-bottom:0}.mat-mdc-dialog-container .mat-mdc-dialog-content{color:var(--mdc-dialog-supporting-text-color, var(--mat-sys-on-surface-variant, rgba(0, 0, 0, 0.6)));font-family:var(--mdc-dialog-supporting-text-font, var(--mat-sys-body-medium-font, inherit));line-height:var(--mdc-dialog-supporting-text-line-height, var(--mat-sys-body-medium-line-height, 1.5rem));font-size:var(--mdc-dialog-supporting-text-size, var(--mat-sys-body-medium-size, 1rem));font-weight:var(--mdc-dialog-supporting-text-weight, var(--mat-sys-body-medium-weight, 400));letter-spacing:var(--mdc-dialog-supporting-text-tracking, var(--mat-sys-body-medium-tracking, 0.03125em))}.mat-mdc-dialog-container .mat-mdc-dialog-content{padding:var(--mat-dialog-content-padding, 20px 24px)}.mat-mdc-dialog-container-with-actions .mat-mdc-dialog-content{padding:var(--mat-dialog-with-actions-content-padding, 20px 24px 0)}.mat-mdc-dialog-container .mat-mdc-dialog-title+.mat-mdc-dialog-content{padding-top:0}.mat-mdc-dialog-actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0);padding:var(--mat-dialog-actions-padding, 16px 24px);justify-content:var(--mat-dialog-actions-alignment, flex-end)}@media(forced-colors: active){.mat-mdc-dialog-actions{border-top-color:CanvasText}}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-start,.mat-mdc-dialog-actions[align=start]{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}.mat-mdc-dialog-component-host{display:contents}
`],encapsulation:2})}return n})(),CG="--mat-dialog-transition-duration";function SG(n){return n==null?null:typeof n=="number"?n:n.endsWith("ms")?Co(n.substring(0,n.length-2)):n.endsWith("s")?Co(n.substring(0,n.length-1))*1e3:n==="0"?0:null}var Bb=function(n){return n[n.OPEN=0]="OPEN",n[n.CLOSING=1]="CLOSING",n[n.CLOSED=2]="CLOSED",n}(Bb||{}),au=class{_ref;_containerInstance;componentInstance;componentRef;disableClose;id;_afterOpened=new De;_beforeClosed=new De;_result;_closeFallbackTimeout;_state=Bb.OPEN;_closeInteractionType;constructor(t,e,i){this._ref=t,this._containerInstance=i,this.disableClose=e.disableClose,this.id=t.id,t.addPanelClass("mat-mdc-dialog-panel"),i._animationStateChanged.pipe(ii(o=>o.state==="opened"),_o(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe(ii(o=>o.state==="closed"),_o(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),nn(this.backdropClick(),this.keydownEvents().pipe(ii(o=>o.keyCode===27&&!this.disableClose&&!Xn(o)))).subscribe(o=>{this.disableClose||(o.preventDefault(),LP(this,o.type==="keydown"?"keyboard":"mouse"))})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(ii(e=>e.state==="closing"),_o(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=Bb.CLOSING,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(t){let e=this._ref.config.positionStrategy;return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._ref.updatePosition(),this}updateSize(t="",e=""){return this._ref.updateSize(t,e),this}addPanelClass(t){return this._ref.addPanelClass(t),this}removePanelClass(t){return this._ref.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=Bb.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}};function LP(n,t,e){return n._closeInteractionType=t,n.close(e)}var Af=new ae("MatMdcDialogData"),IG=new ae("mat-mdc-dialog-default-options"),EG=new ae("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{let n=y(ar);return()=>n.scrollStrategies.block()}});var Gc=(()=>{class n{_overlay=y(ar);_defaultOptions=y(IG,{optional:!0});_scrollStrategy=y(EG);_parentDialog=y(n,{optional:!0,skipSelf:!0});_idGenerator=y(Bn);_dialog=y(yG);_openDialogsAtThisLevel=[];_afterAllClosedAtThisLevel=new De;_afterOpenedAtThisLevel=new De;dialogConfigClass=Hb;_dialogRefConstructor;_dialogContainerType;_dialogDataToken;get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){let e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}afterAllClosed=Sa(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Ji(void 0)));constructor(){this._dialogRefConstructor=au,this._dialogContainerType=DG,this._dialogDataToken=Af}open(e,i){let o;i=j(j({},this._defaultOptions||new Hb),i),i.id=i.id||this._idGenerator.getId("mat-mdc-dialog-"),i.scrollStrategy=i.scrollStrategy||this._scrollStrategy();let r=this._dialog.open(e,Ae(j({},i),{positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:i},{provide:su,useValue:i}]},templateContext:()=>({dialogRef:o}),providers:(s,a,l)=>(o=new this._dialogRefConstructor(s,i,l),o.updatePosition(i?.position),[{provide:this._dialogContainerType,useValue:l},{provide:this._dialogDataToken,useValue:a.data},{provide:this._dialogRefConstructor,useValue:o}])}));return o.componentRef=r.componentRef,o.componentInstance=r.componentInstance,this.openDialogs.push(o),this.afterOpened.next(o),o.afterClosed().subscribe(()=>{let s=this.openDialogs.indexOf(o);s>-1&&(this.openDialogs.splice(s,1),this.openDialogs.length||this._getAfterAllClosed().next())}),o}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(e){let i=e.length;for(;i--;)e[i].close()}static \u0275fac=function(i){return new(i||n)};static \u0275prov=se({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Vb=(()=>{class n{dialogRef=y(au,{optional:!0});_elementRef=y(Oe);_dialog=y(Gc);ariaLabel;type="button";dialogResult;_matDialogClose;constructor(){}ngOnInit(){this.dialogRef||(this.dialogRef=kG(this._elementRef,this._dialog.openDialogs))}ngOnChanges(e){let i=e._matDialogClose||e._matDialogCloseResult;i&&(this.dialogResult=i.currentValue)}_onButtonClick(e){LP(this.dialogRef,e.screenX===0&&e.screenY===0?"keyboard":"mouse",this.dialogResult)}static \u0275fac=function(i){return new(i||n)};static \u0275dir=me({type:n,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(i,o){i&1&&de("click",function(s){return o._onButtonClick(s)}),i&2&&ke("aria-label",o.ariaLabel||null)("type",o.type)},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],type:"type",dialogResult:[0,"mat-dialog-close","dialogResult"],_matDialogClose:[0,"matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[fi]})}return n})(),MG=(()=>{class n{_dialogRef=y(au,{optional:!0});_elementRef=y(Oe);_dialog=y(Gc);constructor(){}ngOnInit(){this._dialogRef||(this._dialogRef=kG(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{this._onAdd()})}ngOnDestroy(){this._dialogRef?._containerInstance&&Promise.resolve().then(()=>{this._onRemove()})}static \u0275fac=function(i){return new(i||n)};static \u0275dir=me({type:n})}return n})(),Wb=(()=>{class n extends MG{id=y(Bn).getId("mat-mdc-dialog-title-");_onAdd(){this._dialogRef._containerInstance?._addAriaLabelledBy?.(this.id)}_onRemove(){this._dialogRef?._containerInstance?._removeAriaLabelledBy?.(this.id)}static \u0275fac=(()=>{let e;return function(o){return(e||(e=Xt(n)))(o||n)}})();static \u0275dir=me({type:n,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-mdc-dialog-title","mdc-dialog__title"],hostVars:1,hostBindings:function(i,o){i&2&&fs("id",o.id)},inputs:{id:"id"},exportAs:["matDialogTitle"],features:[ut]})}return n})(),jb=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275dir=me({type:n,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-mdc-dialog-content","mdc-dialog__content"],features:[Lj([Uc])]})}return n})(),Ub=(()=>{class n extends MG{align;_onAdd(){this._dialogRef._containerInstance?._updateActionSectionCount?.(1)}_onRemove(){this._dialogRef._containerInstance?._updateActionSectionCount?.(-1)}static \u0275fac=(()=>{let e;return function(o){return(e||(e=Xt(n)))(o||n)}})();static \u0275dir=me({type:n,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-mdc-dialog-actions","mdc-dialog__actions"],hostVars:6,hostBindings:function(i,o){i&2&&Se("mat-mdc-dialog-actions-align-start",o.align==="start")("mat-mdc-dialog-actions-align-center",o.align==="center")("mat-mdc-dialog-actions-align-end",o.align==="end")},inputs:{align:"align"},features:[ut]})}return n})();function kG(n,t){let e=n.nativeElement.parentElement;for(;e&&!e.classList.contains("mat-mdc-dialog-container");)e=e.parentElement;return e?t.find(i=>i.id===e.id):null}var lu=(()=>{class n{get vertical(){return this._vertical}set vertical(e){this._vertical=fn(e)}_vertical=!1;get inset(){return this._inset}set inset(e){this._inset=fn(e)}_inset=!1;static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Z({type:n,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(i,o){i&2&&(ke("aria-orientation",o.vertical?"vertical":"horizontal"),Se("mat-divider-vertical",o.vertical)("mat-divider-horizontal",!o.vertical)("mat-divider-inset",o.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(i,o){},styles:[`.mat-divider{display:block;margin:0;border-top-style:solid;border-top-color:var(--mat-divider-color, var(--mat-sys-outline));border-top-width:var(--mat-divider-width, 1px)}.mat-divider.mat-divider-vertical{border-top:0;border-right-style:solid;border-right-color:var(--mat-divider-color, var(--mat-sys-outline));border-right-width:var(--mat-divider-width, 1px)}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}
`],encapsulation:2,changeDetection:0})}return n})();var tm=class{applyChanges(t,e,i,o,r){t.forEachOperation((s,a,l)=>{let c,d;if(s.previousIndex==null){let u=i(s,a,l);c=e.createEmbeddedView(u.templateRef,u.context,u.index),d=ou.INSERTED}else l==null?(e.remove(a),d=ou.REMOVED):(c=e.get(a),e.move(c,l),d=ou.MOVED);r&&r({context:c?.context,operation:d,record:s})})}detach(){}};var qb=class{_multiple;_emitChanges;compareWith;_selection=new Set;_deselectedToEmit=[];_selectedToEmit=[];_selected;get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}changed=new De;constructor(t=!1,e,i=!0,o){this._multiple=t,this._emitChanges=i,this.compareWith=o,e&&e.length&&(t?e.forEach(r=>this._markSelected(r)):this._markSelected(e[0]),this._selectedToEmit.length=0)}select(...t){this._verifyValueAssignment(t),t.forEach(i=>this._markSelected(i));let e=this._hasQueuedChanges();return this._emitChangeEvent(),e}deselect(...t){this._verifyValueAssignment(t),t.forEach(i=>this._unmarkSelected(i));let e=this._hasQueuedChanges();return this._emitChangeEvent(),e}setSelection(...t){this._verifyValueAssignment(t);let e=this.selected,i=new Set(t.map(r=>this._getConcreteValue(r)));t.forEach(r=>this._markSelected(r)),e.filter(r=>!i.has(this._getConcreteValue(r,i))).forEach(r=>this._unmarkSelected(r));let o=this._hasQueuedChanges();return this._emitChangeEvent(),o}toggle(t){return this.isSelected(t)?this.deselect(t):this.select(t)}clear(t=!0){this._unmarkAll();let e=this._hasQueuedChanges();return t&&this._emitChangeEvent(),e}isSelected(t){return this._selection.has(this._getConcreteValue(t))}isEmpty(){return this._selection.size===0}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){t=this._getConcreteValue(t),this.isSelected(t)||(this._multiple||this._unmarkAll(),this.isSelected(t)||this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){t=this._getConcreteValue(t),this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){t.length>1&&this._multiple}_hasQueuedChanges(){return!!(this._deselectedToEmit.length||this._selectedToEmit.length)}_getConcreteValue(t,e){if(this.compareWith){e=e??this._selection;for(let i of e)if(this.compareWith(t,i))return i;return t}else return t}};var FG=(()=>{class n{_renderer;_elementRef;onChange=e=>{};onTouched=()=>{};constructor(e,i){this._renderer=e,this._elementRef=i}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static \u0275fac=function(i){return new(i||n)(J(Li),J(Oe))};static \u0275dir=me({type:n})}return n})(),Rfe=(()=>{class n extends FG{static \u0275fac=(()=>{let e;return function(o){return(e||(e=Xt(n)))(o||n)}})();static \u0275dir=me({type:n,features:[ut]})}return n})(),qa=new ae("");var Ofe={provide:qa,useExisting:pr(()=>ns),multi:!0};function Pfe(){let n=ia()?ia().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var Lfe=new ae(""),ns=(()=>{class n extends FG{_compositionMode;_composing=!1;constructor(e,i,o){super(e,i),this._compositionMode=o,this._compositionMode==null&&(this._compositionMode=!Pfe())}writeValue(e){let i=e??"";this.setProperty("value",i)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static \u0275fac=function(i){return new(i||n)(J(Li),J(Oe),J(Lfe,8))};static \u0275dir=me({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,o){i&1&&de("input",function(s){return o._handleInput(s.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(s){return o._compositionEnd(s.target.value)})},standalone:!1,features:[At([Ofe]),ut]})}return n})();function FP(n){return n==null||zP(n)===0}function zP(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var ID=new ae(""),ED=new ae(""),Nfe=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,im=class{static min(t){return Ffe(t)}static max(t){return zfe(t)}static required(t){return Bfe(t)}static requiredTrue(t){return Hfe(t)}static email(t){return Vfe(t)}static minLength(t){return Wfe(t)}static maxLength(t){return jfe(t)}static pattern(t){return Ufe(t)}static nullValidator(t){return zG()}static compose(t){return UG(t)}static composeAsync(t){return qG(t)}};function Ffe(n){return t=>{if(t.value==null||n==null)return null;let e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}function zfe(n){return t=>{if(t.value==null||n==null)return null;let e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}function Bfe(n){return FP(n.value)?{required:!0}:null}function Hfe(n){return n.value===!0?null:{required:!0}}function Vfe(n){return FP(n.value)||Nfe.test(n.value)?null:{email:!0}}function Wfe(n){return t=>{let e=t.value?.length??zP(t.value);return e===null||e===0?null:e<n?{minlength:{requiredLength:n,actualLength:e}}:null}}function jfe(n){return t=>{let e=t.value?.length??zP(t.value);return e!==null&&e>n?{maxlength:{requiredLength:n,actualLength:e}}:null}}function Ufe(n){if(!n)return zG;let t,e;return typeof n=="string"?(e="",n.charAt(0)!=="^"&&(e+="^"),e+=n,n.charAt(n.length-1)!=="$"&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(FP(i.value))return null;let o=i.value;return t.test(o)?null:{pattern:{requiredPattern:e,actualValue:o}}}}function zG(n){return null}function BG(n){return n!=null}function HG(n){return _p(n)?Pn(n):n}function VG(n){let t={};return n.forEach(e=>{t=e!=null?j(j({},t),e):t}),Object.keys(t).length===0?null:t}function WG(n,t){return t.map(e=>e(n))}function qfe(n){return!n.validate}function jG(n){return n.map(t=>qfe(t)?t:e=>t.validate(e))}function UG(n){if(!n)return null;let t=n.filter(BG);return t.length==0?null:function(e){return VG(WG(e,t))}}function BP(n){return n!=null?UG(jG(n)):null}function qG(n){if(!n)return null;let t=n.filter(BG);return t.length==0?null:function(e){let i=WG(e,t).map(HG);return Sd(i).pipe(rt(VG))}}function HP(n){return n!=null?qG(jG(n)):null}function AG(n,t){return n===null?[t]:Array.isArray(n)?[...n,t]:[n,t]}function GG(n){return n._rawValidators}function $G(n){return n._rawAsyncValidators}function NP(n){return n?Array.isArray(n)?n:[n]:[]}function fD(n,t){return Array.isArray(n)?n.includes(t):n===t}function RG(n,t){let e=NP(t);return NP(n).forEach(o=>{fD(e,o)||e.push(o)}),e}function OG(n,t){return NP(t).filter(e=>!fD(n,e))}var gD=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=BP(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=HP(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return this.control?this.control.hasError(t,e):!1}getError(t,e){return this.control?this.control.getError(t,e):null}},cu=class extends gD{name;get formDirective(){return null}get path(){return null}},aa=class extends gD{_parent=null;name=null;valueAccessor=null},_D=class{_cd;constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},Gfe={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},SXe=Ae(j({},Gfe),{"[class.ng-submitted]":"isSubmitted"}),os=(()=>{class n extends _D{constructor(e){super(e)}static \u0275fac=function(i){return new(i||n)(J(aa,2))};static \u0275dir=me({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,o){i&2&&Se("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},standalone:!1,features:[ut]})}return n})(),KG=(()=>{class n extends _D{constructor(e){super(e)}static \u0275fac=function(i){return new(i||n)(J(cu,10))};static \u0275dir=me({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,o){i&2&&Se("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},standalone:!1,features:[ut]})}return n})();var Gb="VALID",pD="INVALID",Rf="PENDING",$b="DISABLED",du=class{},vD=class extends du{value;source;constructor(t,e){super(),this.value=t,this.source=e}},Yb=class extends du{pristine;source;constructor(t,e){super(),this.pristine=t,this.source=e}},Xb=class extends du{touched;source;constructor(t,e){super(),this.touched=t,this.source=e}},Of=class extends du{status;source;constructor(t,e){super(),this.status=t,this.source=e}},bD=class extends du{source;constructor(t){super(),this.source=t}},yD=class extends du{source;constructor(t){super(),this.source=t}};function YG(n){return(MD(n)?n.validators:n)||null}function $fe(n){return Array.isArray(n)?BP(n):n||null}function XG(n,t){return(MD(t)?t.asyncValidators:n)||null}function Kfe(n){return Array.isArray(n)?HP(n):n||null}function MD(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function Yfe(n,t,e){let i=n.controls;if(!(t?Object.keys(i):i).length)throw new si(1e3,"");if(!i[e])throw new si(1001,"")}function Xfe(n,t,e){n._forEachChild((i,o)=>{if(e[o]===void 0)throw new si(1002,"")})}var wD=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(t,e){this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return Yr(this.statusReactive)}set status(t){Yr(()=>this.statusReactive.set(t))}_status=Ri(()=>this.statusReactive());statusReactive=Ue(void 0);get valid(){return this.status===Gb}get invalid(){return this.status===pD}get pending(){return this.status==Rf}get disabled(){return this.status===$b}get enabled(){return this.status!==$b}errors;get pristine(){return Yr(this.pristineReactive)}set pristine(t){Yr(()=>this.pristineReactive.set(t))}_pristine=Ri(()=>this.pristineReactive());pristineReactive=Ue(!0);get dirty(){return!this.pristine}get touched(){return Yr(this.touchedReactive)}set touched(t){Yr(()=>this.touchedReactive.set(t))}_touched=Ri(()=>this.touchedReactive());touchedReactive=Ue(!1);get untouched(){return!this.touched}_events=new De;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(RG(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(RG(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(OG(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(OG(t,this._rawAsyncValidators))}hasValidator(t){return fD(this._rawValidators,t)}hasAsyncValidator(t){return fD(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let e=this.touched===!1;this.touched=!0;let i=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(Ae(j({},t),{sourceControl:i})),e&&t.emitEvent!==!1&&this._events.next(new Xb(!0,i))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsTouched(t))}markAsUntouched(t={}){let e=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=t.sourceControl??this;this._forEachChild(o=>{o.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:i})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,i),e&&t.emitEvent!==!1&&this._events.next(new Xb(!1,i))}markAsDirty(t={}){let e=this.pristine===!0;this.pristine=!1;let i=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(Ae(j({},t),{sourceControl:i})),e&&t.emitEvent!==!1&&this._events.next(new Yb(!1,i))}markAsPristine(t={}){let e=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=t.sourceControl??this;this._forEachChild(o=>{o.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,i),e&&t.emitEvent!==!1&&this._events.next(new Yb(!0,i))}markAsPending(t={}){this.status=Rf;let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Of(this.status,e)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(Ae(j({},t),{sourceControl:e}))}disable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=$b,this.errors=null,this._forEachChild(o=>{o.disable(Ae(j({},t),{onlySelf:!0}))}),this._updateValue();let i=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new vD(this.value,i)),this._events.next(new Of(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Ae(j({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(o=>o(!0))}enable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=Gb,this._forEachChild(i=>{i.enable(Ae(j({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Ae(j({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t,e){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},e),this._parent._updateTouched({},e))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Gb||this.status===Rf)&&this._runAsyncValidator(i,t.emitEvent)}let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new vD(this.value,e)),this._events.next(new Of(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(Ae(j({},t),{sourceControl:e}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?$b:Gb}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,e){if(this.asyncValidator){this.status=Rf,this._hasOwnPendingAsyncValidator={emitEvent:e!==!1};let i=HG(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(o=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(o,{emitEvent:e,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(e.emitEvent!==!1,this,e.shouldHaveEmitted)}get(t){let e=t;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((i,o)=>i&&i._find(o),this)}getError(t,e){let i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,e,i){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||i)&&this._events.next(new Of(this.status,e)),this._parent&&this._parent._updateControlsErrors(t,e,i)}_initObservables(){this.valueChanges=new Le,this.statusChanges=new Le}_calculateStatus(){return this._allControlsDisabled()?$b:this.errors?pD:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Rf)?Rf:this._anyControlsHaveStatus(pD)?pD:Gb}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,e){let i=!this._anyControlsDirty(),o=this.pristine!==i;this.pristine=i,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,e),o&&this._events.next(new Yb(this.pristine,e))}_updateTouched(t={},e){this.touched=this._anyControlsTouched(),this._events.next(new Xb(this.touched,e)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,e)}_onDisabledChange=[];_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){MD(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let e=this._parent&&this._parent.dirty;return!t&&!!e&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=$fe(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=Kfe(this._rawAsyncValidators)}},xD=class extends wD{constructor(t,e,i){super(YG(e),XG(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){Xfe(this,!0,t),Object.keys(t).forEach(i=>{Yfe(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t!=null&&(Object.keys(t).forEach(i=>{let o=this.controls[i];o&&o.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,o)=>{i.reset(t?t[o]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>i._syncPendingControls()?!0:e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{let i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(e,i,o)=>((i.enabled||this.disabled)&&(e[o]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((o,r)=>{i=e(i,o,r)}),i}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var Pf=new ae("",{providedIn:"root",factory:()=>kD}),kD="always";function Zfe(n,t){return[...t.path,n]}function Zb(n,t,e=kD){VP(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||e==="always")&&t.valueAccessor.setDisabledState?.(n.disabled),Jfe(n,t),tge(n,t),ege(n,t),Qfe(n,t)}function CD(n,t,e=!0){let i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),DD(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function SD(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function Qfe(n,t){if(t.valueAccessor.setDisabledState){let e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}function VP(n,t){let e=GG(n);t.validator!==null?n.setValidators(AG(e,t.validator)):typeof e=="function"&&n.setValidators([e]);let i=$G(n);t.asyncValidator!==null?n.setAsyncValidators(AG(i,t.asyncValidator)):typeof i=="function"&&n.setAsyncValidators([i]);let o=()=>n.updateValueAndValidity();SD(t._rawValidators,o),SD(t._rawAsyncValidators,o)}function DD(n,t){let e=!1;if(n!==null){if(t.validator!==null){let o=GG(n);if(Array.isArray(o)&&o.length>0){let r=o.filter(s=>s!==t.validator);r.length!==o.length&&(e=!0,n.setValidators(r))}}if(t.asyncValidator!==null){let o=$G(n);if(Array.isArray(o)&&o.length>0){let r=o.filter(s=>s!==t.asyncValidator);r.length!==o.length&&(e=!0,n.setAsyncValidators(r))}}}let i=()=>{};return SD(t._rawValidators,i),SD(t._rawAsyncValidators,i),e}function Jfe(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&ZG(n,t)})}function ege(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&ZG(n,t),n.updateOn!=="submit"&&n.markAsTouched()})}function ZG(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function tge(n,t){let e=(i,o)=>{t.valueAccessor.writeValue(i),o&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}function QG(n,t){n==null,VP(n,t)}function ige(n,t){return DD(n,t)}function JG(n,t){if(!n.hasOwnProperty("model"))return!1;let e=n.model;return e.isFirstChange()?!0:!Object.is(t,e.currentValue)}function nge(n){return Object.getPrototypeOf(n.constructor)===Rfe}function e$(n,t){n._syncPendingControls(),t.forEach(e=>{let i=e.control;i.updateOn==="submit"&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function t$(n,t){if(!t)return null;Array.isArray(t);let e,i,o;return t.forEach(r=>{r.constructor===ns?e=r:nge(r)?i=r:o=r}),o||i||e||null}function oge(n,t){let e=n.indexOf(t);e>-1&&n.splice(e,1)}var rge={provide:cu,useExisting:pr(()=>Lf)},Kb=Promise.resolve(),Lf=(()=>{class n extends cu{callSetDisabledState;get submitted(){return Yr(this.submittedReactive)}_submitted=Ri(()=>this.submittedReactive());submittedReactive=Ue(!1);_directives=new Set;form;ngSubmit=new Le;options;constructor(e,i,o){super(),this.callSetDisabledState=o,this.form=new xD({},BP(e),HP(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){Kb.then(()=>{let i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),Zb(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){Kb.then(()=>{let i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){Kb.then(()=>{let i=this._findContainer(e.path),o=new xD({});QG(o,e),i.registerControl(e.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){Kb.then(()=>{let i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){Kb.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submittedReactive.set(!0),e$(this.form,this._directives),this.ngSubmit.emit(e),this.form._events.next(new bD(this.control)),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submittedReactive.set(!1),this.form._events.next(new yD(this.form))}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}static \u0275fac=function(i){return new(i||n)(J(ID,10),J(ED,10),J(Pf,8))};static \u0275dir=me({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,o){i&1&&de("submit",function(s){return o.onSubmit(s)})("reset",function(){return o.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[At([rge]),ut]})}return n})();function PG(n,t){let e=n.indexOf(t);e>-1&&n.splice(e,1)}function LG(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var Qb=class extends wD{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(t=null,e,i){super(YG(e),XG(i,e)),this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),MD(e)&&(e.nonNullable||e.initialValueIsDefault)&&(LG(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&e.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,e.emitViewToModelChange!==!1)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){PG(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){PG(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){LG(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var sge=n=>n instanceof Qb;var age={provide:aa,useExisting:pr(()=>Rs)},NG=Promise.resolve(),Rs=(()=>{class n extends aa{_changeDetectorRef;callSetDisabledState;control=new Qb;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new Le;constructor(e,i,o,r,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=e,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=t$(this,r)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){let i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),JG(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Zb(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(e){NG.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){let i=e.isDisabled.currentValue,o=i!==0&&Ke(i);NG.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?Zfe(e,this._parent):[e]}static \u0275fac=function(i){return new(i||n)(J(cu,9),J(ID,10),J(ED,10),J(qa,10),J(Gt,8),J(Pf,8))};static \u0275dir=me({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[At([age]),ut,fi]})}return n})();var i$=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275dir=me({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})();var n$=new ae(""),lge={provide:aa,useExisting:pr(()=>WP)},WP=(()=>{class n extends aa{_ngModelWarningConfig;callSetDisabledState;viewModel;form;set isDisabled(e){}model;update=new Le;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(e,i,o,r,s){super(),this._ngModelWarningConfig=r,this.callSetDisabledState=s,this._setValidators(e),this._setAsyncValidators(i),this.valueAccessor=t$(this,o)}ngOnChanges(e){if(this._isControlChanged(e)){let i=e.form.previousValue;i&&CD(i,this,!1),Zb(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}JG(e,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&CD(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_isControlChanged(e){return e.hasOwnProperty("form")}static \u0275fac=function(i){return new(i||n)(J(ID,10),J(ED,10),J(qa,10),J(n$,8),J(Pf,8))};static \u0275dir=me({type:n,selectors:[["","formControl",""]],inputs:{form:[0,"formControl","form"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],standalone:!1,features:[At([lge]),ut,fi]})}return n})(),cge={provide:cu,useExisting:pr(()=>Nf)},Nf=(()=>{class n extends cu{callSetDisabledState;get submitted(){return Yr(this._submittedReactive)}set submitted(e){this._submittedReactive.set(e)}_submitted=Ri(()=>this._submittedReactive());_submittedReactive=Ue(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new Le;constructor(e,i,o){super(),this.callSetDisabledState=o,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(DD(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){let i=this.form.get(e.path);return Zb(i,e,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){CD(e.control||null,e,!1),oge(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this._submittedReactive.set(!0),e$(this.form,this.directives),this.ngSubmit.emit(e),this.form._events.next(new bD(this.control)),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this._submittedReactive.set(!1),this.form._events.next(new yD(this.form))}_updateDomValue(){this.directives.forEach(e=>{let i=e.control,o=this.form.get(e.path);i!==o&&(CD(i||null,e),sge(o)&&(Zb(o,e,this.callSetDisabledState),e.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){let i=this.form.get(e.path);QG(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){let i=this.form.get(e.path);i&&ige(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){VP(this.form,this),this._oldForm&&DD(this._oldForm,this)}static \u0275fac=function(i){return new(i||n)(J(ID,10),J(ED,10),J(Pf,8))};static \u0275dir=me({type:n,selectors:[["","formGroup",""]],hostBindings:function(i,o){i&1&&de("submit",function(s){return o.onSubmit(s)})("reset",function(){return o.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[At([cge]),ut,fi]})}return n})();var o$=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=yt({type:n});static \u0275inj=bt({})}return n})();var Zn=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:Pf,useValue:e.callSetDisabledState??kD}]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=yt({type:n});static \u0275inj=bt({imports:[o$]})}return n})(),r$=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:n$,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:Pf,useValue:e.callSetDisabledState??kD}]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=yt({type:n});static \u0275inj=bt({imports:[o$]})}return n})();var s$=(()=>{class n{_animationMode=y(Ei,{optional:!0});state="unchecked";disabled=!1;appearance="full";constructor(){}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Z({type:n,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(i,o){i&2&&Se("mat-pseudo-checkbox-indeterminate",o.state==="indeterminate")("mat-pseudo-checkbox-checked",o.state==="checked")("mat-pseudo-checkbox-disabled",o.disabled)("mat-pseudo-checkbox-minimal",o.appearance==="minimal")("mat-pseudo-checkbox-full",o.appearance==="full")("_mat-animation-noopable",o._animationMode==="NoopAnimations")},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},decls:0,vars:0,template:function(i,o){},styles:[`.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-minimal-pseudo-checkbox-selected-checkmark-color, var(--mat-sys-primary))}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-pseudo-checkbox-full{border-color:var(--mat-full-pseudo-checkbox-unselected-icon-color, var(--mat-sys-on-surface-variant));border-width:2px;border-style:solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-disabled{border-color:var(--mat-full-pseudo-checkbox-disabled-unselected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{background-color:var(--mat-full-pseudo-checkbox-selected-icon-color, var(--mat-sys-primary));border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-full-pseudo-checkbox-selected-checkmark-color, var(--mat-sys-on-primary))}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled{background-color:var(--mat-full-pseudo-checkbox-disabled-selected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-full-pseudo-checkbox-disabled-selected-checkmark-color, var(--mat-sys-surface))}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}
`],encapsulation:2,changeDetection:0})}return n})();var jP=["*"],a$=`.mdc-list{margin:0;padding:8px 0;list-style-type:none}.mdc-list:focus{outline:none}.mdc-list-item{display:flex;position:relative;justify-content:flex-start;overflow:hidden;padding:0;align-items:stretch;cursor:pointer;padding-left:16px;padding-right:16px;background-color:var(--mdc-list-list-item-container-color, transparent);border-radius:var(--mdc-list-list-item-container-shape, var(--mat-sys-corner-none))}.mdc-list-item.mdc-list-item--selected{background-color:var(--mdc-list-list-item-selected-container-color)}.mdc-list-item:focus{outline:0}.mdc-list-item.mdc-list-item--disabled{cursor:auto}.mdc-list-item.mdc-list-item--with-one-line{height:var(--mdc-list-list-item-one-line-container-height, 48px)}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__start{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-two-lines{height:var(--mdc-list-list-item-two-line-container-height, 64px)}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-three-lines{height:var(--mdc-list-list-item-three-line-container-height, 88px)}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--selected::before,.mdc-list-item.mdc-list-item--selected:focus::before,.mdc-list-item:not(.mdc-list-item--selected):focus::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;content:"";pointer-events:none}a.mdc-list-item{color:inherit;text-decoration:none}.mdc-list-item__start{fill:currentColor;flex-shrink:0;pointer-events:none}.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-leading-icon-color, var(--mat-sys-on-surface-variant));width:var(--mdc-list-list-item-leading-icon-size, 24px);height:var(--mdc-list-list-item-leading-icon-size, 24px);margin-left:16px;margin-right:32px}[dir=rtl] .mdc-list-item--with-leading-icon .mdc-list-item__start{margin-left:32px;margin-right:16px}.mdc-list-item--with-leading-icon:hover .mdc-list-item__start{color:var(--mdc-list-list-item-hover-leading-icon-color)}.mdc-list-item--with-leading-avatar .mdc-list-item__start{width:var(--mdc-list-list-item-leading-avatar-size, 40px);height:var(--mdc-list-list-item-leading-avatar-size, 40px);margin-left:16px;margin-right:16px;border-radius:50%}.mdc-list-item--with-leading-avatar .mdc-list-item__start,[dir=rtl] .mdc-list-item--with-leading-avatar .mdc-list-item__start{margin-left:16px;margin-right:16px;border-radius:50%}.mdc-list-item__end{flex-shrink:0;pointer-events:none}.mdc-list-item--with-trailing-meta .mdc-list-item__end{font-family:var(--mdc-list-list-item-trailing-supporting-text-font, var(--mat-sys-label-small-font));line-height:var(--mdc-list-list-item-trailing-supporting-text-line-height, var(--mat-sys-label-small-line-height));font-size:var(--mdc-list-list-item-trailing-supporting-text-size, var(--mat-sys-label-small-size));font-weight:var(--mdc-list-list-item-trailing-supporting-text-weight, var(--mat-sys-label-small-weight));letter-spacing:var(--mdc-list-list-item-trailing-supporting-text-tracking, var(--mat-sys-label-small-tracking))}.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-icon-color, var(--mat-sys-on-surface-variant));width:var(--mdc-list-list-item-trailing-icon-size, 24px);height:var(--mdc-list-list-item-trailing-icon-size, 24px)}.mdc-list-item--with-trailing-icon:hover .mdc-list-item__end{color:var(--mdc-list-list-item-hover-trailing-icon-color)}.mdc-list-item.mdc-list-item--with-trailing-meta .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-supporting-text-color, var(--mat-sys-on-surface-variant))}.mdc-list-item--selected.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-selected-trailing-icon-color, var(--mat-sys-primary))}.mdc-list-item__content{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;align-self:center;flex:1;pointer-events:none}.mdc-list-item--with-two-lines .mdc-list-item__content,.mdc-list-item--with-three-lines .mdc-list-item__content{align-self:stretch}.mdc-list-item__primary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;color:var(--mdc-list-list-item-label-text-color, var(--mat-sys-on-surface));font-family:var(--mdc-list-list-item-label-text-font, var(--mat-sys-body-large-font));line-height:var(--mdc-list-list-item-label-text-line-height, var(--mat-sys-body-large-line-height));font-size:var(--mdc-list-list-item-label-text-size, var(--mat-sys-body-large-size));font-weight:var(--mdc-list-list-item-label-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mdc-list-list-item-label-text-tracking, var(--mat-sys-body-large-tracking))}.mdc-list-item:hover .mdc-list-item__primary-text{color:var(--mdc-list-list-item-hover-label-text-color, var(--mat-sys-on-surface))}.mdc-list-item:focus .mdc-list-item__primary-text{color:var(--mdc-list-list-item-focus-label-text-color, var(--mat-sys-on-surface))}.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-three-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item__secondary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;display:block;margin-top:0;color:var(--mdc-list-list-item-supporting-text-color, var(--mat-sys-on-surface-variant));font-family:var(--mdc-list-list-item-supporting-text-font, var(--mat-sys-body-medium-font));line-height:var(--mdc-list-list-item-supporting-text-line-height, var(--mat-sys-body-medium-line-height));font-size:var(--mdc-list-list-item-supporting-text-size, var(--mat-sys-body-medium-size));font-weight:var(--mdc-list-list-item-supporting-text-weight, var(--mat-sys-body-medium-weight));letter-spacing:var(--mdc-list-list-item-supporting-text-tracking, var(--mat-sys-body-medium-tracking))}.mdc-list-item__secondary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item--with-three-lines .mdc-list-item__secondary-text{white-space:normal;line-height:20px}.mdc-list-item--with-overline .mdc-list-item__secondary-text{white-space:nowrap;line-height:auto}.mdc-list-item--with-leading-radio.mdc-list-item,.mdc-list-item--with-leading-checkbox.mdc-list-item,.mdc-list-item--with-leading-icon.mdc-list-item,.mdc-list-item--with-leading-avatar.mdc-list-item{padding-left:0;padding-right:16px}[dir=rtl] .mdc-list-item--with-leading-radio.mdc-list-item,[dir=rtl] .mdc-list-item--with-leading-checkbox.mdc-list-item,[dir=rtl] .mdc-list-item--with-leading-icon.mdc-list-item,[dir=rtl] .mdc-list-item--with-leading-avatar.mdc-list-item{padding-left:16px;padding-right:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-trailing-icon.mdc-list-item,[dir=rtl] .mdc-list-item--with-trailing-icon.mdc-list-item{padding-left:0;padding-right:0}.mdc-list-item--with-trailing-icon .mdc-list-item__end{margin-left:16px;margin-right:16px}.mdc-list-item--with-trailing-meta.mdc-list-item{padding-left:16px;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-meta.mdc-list-item{padding-left:0;padding-right:16px}.mdc-list-item--with-trailing-meta .mdc-list-item__end{-webkit-user-select:none;user-select:none;margin-left:28px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-meta .mdc-list-item__end{margin-left:16px;margin-right:28px}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end,.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end{display:block;line-height:normal;align-self:flex-start;margin-top:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end::before,.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio .mdc-list-item__start,.mdc-list-item--with-leading-checkbox .mdc-list-item__start{margin-left:8px;margin-right:24px}[dir=rtl] .mdc-list-item--with-leading-radio .mdc-list-item__start,[dir=rtl] .mdc-list-item--with-leading-checkbox .mdc-list-item__start{margin-left:24px;margin-right:8px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__start,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-trailing-radio.mdc-list-item,.mdc-list-item--with-trailing-checkbox.mdc-list-item{padding-left:16px;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item,[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item{padding-left:0;padding-right:16px}.mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-icon,.mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-avatar,.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-icon,.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-avatar{padding-left:0}[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-icon,[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-avatar,[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-icon,[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-avatar{padding-right:0}.mdc-list-item--with-trailing-radio .mdc-list-item__end,.mdc-list-item--with-trailing-checkbox .mdc-list-item__end{margin-left:24px;margin-right:8px}[dir=rtl] .mdc-list-item--with-trailing-radio .mdc-list-item__end,[dir=rtl] .mdc-list-item--with-trailing-checkbox .mdc-list-item__end{margin-left:8px;margin-right:24px}.mdc-list-item--with-trailing-radio.mdc-list-item--with-three-lines .mdc-list-item__end,.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:8px}.mdc-list-group__subheader{margin:.75rem 16px}.mdc-list-item--disabled .mdc-list-item__start,.mdc-list-item--disabled .mdc-list-item__content,.mdc-list-item--disabled .mdc-list-item__end{opacity:1}.mdc-list-item--disabled .mdc-list-item__primary-text,.mdc-list-item--disabled .mdc-list-item__secondary-text{opacity:var(--mdc-list-list-item-disabled-label-text-opacity, 0.3)}.mdc-list-item--disabled.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-disabled-leading-icon-color, var(--mat-sys-on-surface));opacity:var(--mdc-list-list-item-disabled-leading-icon-opacity, 0.38)}.mdc-list-item--disabled.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-disabled-trailing-icon-color, var(--mat-sys-on-surface));opacity:var(--mdc-list-list-item-disabled-trailing-icon-opacity, 0.38)}.mat-mdc-list-item.mat-mdc-list-item-both-leading-and-trailing,[dir=rtl] .mat-mdc-list-item.mat-mdc-list-item-both-leading-and-trailing{padding-left:0;padding-right:0}.mdc-list-item.mdc-list-item--disabled .mdc-list-item__primary-text{color:var(--mdc-list-list-item-disabled-label-text-color, var(--mat-sys-on-surface))}.mdc-list-item:hover::before{background-color:var(--mdc-list-list-item-hover-state-layer-color, var(--mat-sys-on-surface));opacity:var(--mdc-list-list-item-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mdc-list-item.mdc-list-item--disabled::before{background-color:var(--mdc-list-list-item-disabled-state-layer-color, var(--mat-sys-on-surface));opacity:var(--mdc-list-list-item-disabled-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mdc-list-item:focus::before{background-color:var(--mdc-list-list-item-focus-state-layer-color, var(--mat-sys-on-surface));opacity:var(--mdc-list-list-item-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mdc-list-item--disabled .mdc-radio,.mdc-list-item--disabled .mdc-checkbox{opacity:var(--mdc-list-list-item-disabled-label-text-opacity, 0.3)}.mdc-list-item--with-leading-avatar .mat-mdc-list-item-avatar{border-radius:var(--mdc-list-list-item-leading-avatar-shape, var(--mat-sys-corner-full));background-color:var(--mdc-list-list-item-leading-avatar-color, var(--mat-sys-primary-container))}.mat-mdc-list-item-icon{font-size:var(--mdc-list-list-item-leading-icon-size, 24px)}@media(forced-colors: active){a.mdc-list-item--activated::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}a.mdc-list-item--activated [dir=rtl]::after{right:auto;left:16px}}.mat-mdc-list-base{display:block}.mat-mdc-list-base .mdc-list-item__start,.mat-mdc-list-base .mdc-list-item__end,.mat-mdc-list-base .mdc-list-item__content{pointer-events:auto}.mat-mdc-list-item,.mat-mdc-list-option{width:100%;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-list-item:not(.mat-mdc-list-item-interactive),.mat-mdc-list-option:not(.mat-mdc-list-item-interactive){cursor:default}.mat-mdc-list-item .mat-divider-inset,.mat-mdc-list-option .mat-divider-inset{position:absolute;left:0;right:0;bottom:0}.mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,.mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-left:72px}[dir=rtl] .mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,[dir=rtl] .mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-right:72px}.mat-mdc-list-item-interactive::before{top:0;left:0;right:0;bottom:0;position:absolute;content:"";opacity:0;pointer-events:none;border-radius:inherit}.mat-mdc-list-item>.mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-list-item:focus>.mat-focus-indicator::before{content:""}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-line.mdc-list-item__secondary-text{white-space:nowrap;line-height:normal}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-unscoped-content.mdc-list-item__secondary-text{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:rgba(0,0,0,0);text-align:start}mat-action-list button::-moz-focus-inner{border:0}.mdc-list-item--with-leading-icon .mdc-list-item__start{margin-inline-start:var(--mat-list-list-item-leading-icon-start-space, 16px);margin-inline-end:var(--mat-list-list-item-leading-icon-end-space, 16px)}.mat-mdc-nav-list .mat-mdc-list-item{border-radius:var(--mat-list-active-indicator-shape, var(--mat-sys-corner-full));--mat-focus-indicator-border-radius:var(--mat-list-active-indicator-shape, var(--mat-sys-corner-full))}.mat-mdc-nav-list .mat-mdc-list-item.mdc-list-item--activated{background-color:var(--mat-list-active-indicator-color, var(--mat-sys-secondary-container))}
`,dge=["unscopedContent"],uge=["text"],hge=[[["","matListItemAvatar",""],["","matListItemIcon",""]],[["","matListItemTitle",""]],[["","matListItemLine",""]],"*",[["","matListItemMeta",""]],[["mat-divider"]]],mge=["[matListItemAvatar],[matListItemIcon]","[matListItemTitle]","[matListItemLine]","*","[matListItemMeta]","mat-divider"];var pge=new ae("ListOption"),rm=(()=>{class n{_elementRef=y(Oe);constructor(){}static \u0275fac=function(i){return new(i||n)};static \u0275dir=me({type:n,selectors:[["","matListItemTitle",""]],hostAttrs:[1,"mat-mdc-list-item-title","mdc-list-item__primary-text"]})}return n})(),fge=(()=>{class n{_elementRef=y(Oe);constructor(){}static \u0275fac=function(i){return new(i||n)};static \u0275dir=me({type:n,selectors:[["","matListItemLine",""]],hostAttrs:[1,"mat-mdc-list-item-line","mdc-list-item__secondary-text"]})}return n})(),gge=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275dir=me({type:n,selectors:[["","matListItemMeta",""]],hostAttrs:[1,"mat-mdc-list-item-meta","mdc-list-item__end"]})}return n})(),l$=(()=>{class n{_listOption=y(pge,{optional:!0});constructor(){}_isAlignedAtStart(){return!this._listOption||this._listOption?._getTogglePosition()==="after"}static \u0275fac=function(i){return new(i||n)};static \u0275dir=me({type:n,hostVars:4,hostBindings:function(i,o){i&2&&Se("mdc-list-item__start",o._isAlignedAtStart())("mdc-list-item__end",!o._isAlignedAtStart())}})}return n})(),_ge=(()=>{class n extends l${static \u0275fac=(()=>{let e;return function(o){return(e||(e=Xt(n)))(o||n)}})();static \u0275dir=me({type:n,selectors:[["","matListItemAvatar",""]],hostAttrs:[1,"mat-mdc-list-item-avatar"],features:[ut]})}return n})(),Jb=(()=>{class n extends l${static \u0275fac=(()=>{let e;return function(o){return(e||(e=Xt(n)))(o||n)}})();static \u0275dir=me({type:n,selectors:[["","matListItemIcon",""]],hostAttrs:[1,"mat-mdc-list-item-icon"],features:[ut]})}return n})(),vge=new ae("MAT_LIST_CONFIG"),om=(()=>{class n{_isNonInteractive=!0;get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=fn(e)}_disableRipple=!1;get disabled(){return this._disabled}set disabled(e){this._disabled=fn(e)}_disabled=!1;_defaultOptions=y(vge,{optional:!0});static \u0275fac=function(i){return new(i||n)};static \u0275dir=me({type:n,hostVars:1,hostBindings:function(i,o){i&2&&ke("aria-disabled",o.disabled)},inputs:{disableRipple:"disableRipple",disabled:"disabled"}})}return n})(),bge=(()=>{class n{_elementRef=y(Oe);_ngZone=y(Ye);_listBase=y(om,{optional:!0});_platform=y(Wt);_hostElement;_isButtonElement;_noopAnimations;_avatars;_icons;set lines(e){this._explicitLines=Co(e,null),this._updateItemLines(!1)}_explicitLines=null;get disableRipple(){return this.disabled||this._disableRipple||this._noopAnimations||!!this._listBase?.disableRipple}set disableRipple(e){this._disableRipple=fn(e)}_disableRipple=!1;get disabled(){return this._disabled||!!this._listBase?.disabled}set disabled(e){this._disabled=fn(e)}_disabled=!1;_subscriptions=new _n;_rippleRenderer=null;_hasUnscopedTextContent=!1;rippleConfig;get rippleDisabled(){return this.disableRipple||!!this.rippleConfig.disabled}constructor(){y(xn).load(Ts);let e=y(Ol,{optional:!0}),i=y(Ei,{optional:!0});this.rippleConfig=e||{},this._hostElement=this._elementRef.nativeElement,this._isButtonElement=this._hostElement.nodeName.toLowerCase()==="button",this._noopAnimations=i==="NoopAnimations",this._listBase&&!this._listBase._isNonInteractive&&this._initInteractiveListItem(),this._isButtonElement&&!this._hostElement.hasAttribute("type")&&this._hostElement.setAttribute("type","button")}ngAfterViewInit(){this._monitorProjectedLinesAndTitle(),this._updateItemLines(!0)}ngOnDestroy(){this._subscriptions.unsubscribe(),this._rippleRenderer!==null&&this._rippleRenderer._removeTriggerEvents()}_hasIconOrAvatar(){return!!(this._avatars.length||this._icons.length)}_initInteractiveListItem(){this._hostElement.classList.add("mat-mdc-list-item-interactive"),this._rippleRenderer=new iu(this,this._ngZone,this._hostElement,this._platform,y(_i)),this._rippleRenderer.setupTriggerEvents(this._hostElement)}_monitorProjectedLinesAndTitle(){this._ngZone.runOutsideAngular(()=>{this._subscriptions.add(nn(this._lines.changes,this._titles.changes).subscribe(()=>this._updateItemLines(!1)))})}_updateItemLines(e){if(!this._lines||!this._titles||!this._unscopedContent)return;e&&this._checkDomForUnscopedTextContent();let i=this._explicitLines??this._inferLinesFromContent(),o=this._unscopedContent.nativeElement;if(this._hostElement.classList.toggle("mat-mdc-list-item-single-line",i<=1),this._hostElement.classList.toggle("mdc-list-item--with-one-line",i<=1),this._hostElement.classList.toggle("mdc-list-item--with-two-lines",i===2),this._hostElement.classList.toggle("mdc-list-item--with-three-lines",i===3),this._hasUnscopedTextContent){let r=this._titles.length===0&&i===1;o.classList.toggle("mdc-list-item__primary-text",r),o.classList.toggle("mdc-list-item__secondary-text",!r)}else o.classList.remove("mdc-list-item__primary-text"),o.classList.remove("mdc-list-item__secondary-text")}_inferLinesFromContent(){let e=this._titles.length+this._lines.length;return this._hasUnscopedTextContent&&(e+=1),e}_checkDomForUnscopedTextContent(){this._hasUnscopedTextContent=Array.from(this._unscopedContent.nativeElement.childNodes).filter(e=>e.nodeType!==e.COMMENT_NODE).some(e=>!!(e.textContent&&e.textContent.trim()))}static \u0275fac=function(i){return new(i||n)};static \u0275dir=me({type:n,contentQueries:function(i,o,r){if(i&1&&(xt(r,_ge,4),xt(r,Jb,4)),i&2){let s;fe(s=ge())&&(o._avatars=s),fe(s=ge())&&(o._icons=s)}},hostVars:4,hostBindings:function(i,o){i&2&&(ke("aria-disabled",o.disabled)("disabled",o._isButtonElement&&o.disabled||null),Se("mdc-list-item--disabled",o.disabled))},inputs:{lines:"lines",disableRipple:"disableRipple",disabled:"disabled"}})}return n})();var c$=(()=>{class n extends om{_isNonInteractive=!1;static \u0275fac=(()=>{let e;return function(o){return(e||(e=Xt(n)))(o||n)}})();static \u0275cmp=Z({type:n,selectors:[["mat-action-list"]],hostAttrs:["role","group",1,"mat-mdc-action-list","mat-mdc-list-base","mdc-list"],exportAs:["matActionList"],features:[At([{provide:om,useExisting:n}]),ut],ngContentSelectors:jP,decls:1,vars:0,template:function(i,o){i&1&&(wt(),Fe(0))},styles:[`.mdc-list{margin:0;padding:8px 0;list-style-type:none}.mdc-list:focus{outline:none}.mdc-list-item{display:flex;position:relative;justify-content:flex-start;overflow:hidden;padding:0;align-items:stretch;cursor:pointer;padding-left:16px;padding-right:16px;background-color:var(--mdc-list-list-item-container-color, transparent);border-radius:var(--mdc-list-list-item-container-shape, var(--mat-sys-corner-none))}.mdc-list-item.mdc-list-item--selected{background-color:var(--mdc-list-list-item-selected-container-color)}.mdc-list-item:focus{outline:0}.mdc-list-item.mdc-list-item--disabled{cursor:auto}.mdc-list-item.mdc-list-item--with-one-line{height:var(--mdc-list-list-item-one-line-container-height, 48px)}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__start{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-two-lines{height:var(--mdc-list-list-item-two-line-container-height, 64px)}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-three-lines{height:var(--mdc-list-list-item-three-line-container-height, 88px)}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--selected::before,.mdc-list-item.mdc-list-item--selected:focus::before,.mdc-list-item:not(.mdc-list-item--selected):focus::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;content:"";pointer-events:none}a.mdc-list-item{color:inherit;text-decoration:none}.mdc-list-item__start{fill:currentColor;flex-shrink:0;pointer-events:none}.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-leading-icon-color, var(--mat-sys-on-surface-variant));width:var(--mdc-list-list-item-leading-icon-size, 24px);height:var(--mdc-list-list-item-leading-icon-size, 24px);margin-left:16px;margin-right:32px}[dir=rtl] .mdc-list-item--with-leading-icon .mdc-list-item__start{margin-left:32px;margin-right:16px}.mdc-list-item--with-leading-icon:hover .mdc-list-item__start{color:var(--mdc-list-list-item-hover-leading-icon-color)}.mdc-list-item--with-leading-avatar .mdc-list-item__start{width:var(--mdc-list-list-item-leading-avatar-size, 40px);height:var(--mdc-list-list-item-leading-avatar-size, 40px);margin-left:16px;margin-right:16px;border-radius:50%}.mdc-list-item--with-leading-avatar .mdc-list-item__start,[dir=rtl] .mdc-list-item--with-leading-avatar .mdc-list-item__start{margin-left:16px;margin-right:16px;border-radius:50%}.mdc-list-item__end{flex-shrink:0;pointer-events:none}.mdc-list-item--with-trailing-meta .mdc-list-item__end{font-family:var(--mdc-list-list-item-trailing-supporting-text-font, var(--mat-sys-label-small-font));line-height:var(--mdc-list-list-item-trailing-supporting-text-line-height, var(--mat-sys-label-small-line-height));font-size:var(--mdc-list-list-item-trailing-supporting-text-size, var(--mat-sys-label-small-size));font-weight:var(--mdc-list-list-item-trailing-supporting-text-weight, var(--mat-sys-label-small-weight));letter-spacing:var(--mdc-list-list-item-trailing-supporting-text-tracking, var(--mat-sys-label-small-tracking))}.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-icon-color, var(--mat-sys-on-surface-variant));width:var(--mdc-list-list-item-trailing-icon-size, 24px);height:var(--mdc-list-list-item-trailing-icon-size, 24px)}.mdc-list-item--with-trailing-icon:hover .mdc-list-item__end{color:var(--mdc-list-list-item-hover-trailing-icon-color)}.mdc-list-item.mdc-list-item--with-trailing-meta .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-supporting-text-color, var(--mat-sys-on-surface-variant))}.mdc-list-item--selected.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-selected-trailing-icon-color, var(--mat-sys-primary))}.mdc-list-item__content{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;align-self:center;flex:1;pointer-events:none}.mdc-list-item--with-two-lines .mdc-list-item__content,.mdc-list-item--with-three-lines .mdc-list-item__content{align-self:stretch}.mdc-list-item__primary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;color:var(--mdc-list-list-item-label-text-color, var(--mat-sys-on-surface));font-family:var(--mdc-list-list-item-label-text-font, var(--mat-sys-body-large-font));line-height:var(--mdc-list-list-item-label-text-line-height, var(--mat-sys-body-large-line-height));font-size:var(--mdc-list-list-item-label-text-size, var(--mat-sys-body-large-size));font-weight:var(--mdc-list-list-item-label-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mdc-list-list-item-label-text-tracking, var(--mat-sys-body-large-tracking))}.mdc-list-item:hover .mdc-list-item__primary-text{color:var(--mdc-list-list-item-hover-label-text-color, var(--mat-sys-on-surface))}.mdc-list-item:focus .mdc-list-item__primary-text{color:var(--mdc-list-list-item-focus-label-text-color, var(--mat-sys-on-surface))}.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-three-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item__secondary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;display:block;margin-top:0;color:var(--mdc-list-list-item-supporting-text-color, var(--mat-sys-on-surface-variant));font-family:var(--mdc-list-list-item-supporting-text-font, var(--mat-sys-body-medium-font));line-height:var(--mdc-list-list-item-supporting-text-line-height, var(--mat-sys-body-medium-line-height));font-size:var(--mdc-list-list-item-supporting-text-size, var(--mat-sys-body-medium-size));font-weight:var(--mdc-list-list-item-supporting-text-weight, var(--mat-sys-body-medium-weight));letter-spacing:var(--mdc-list-list-item-supporting-text-tracking, var(--mat-sys-body-medium-tracking))}.mdc-list-item__secondary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item--with-three-lines .mdc-list-item__secondary-text{white-space:normal;line-height:20px}.mdc-list-item--with-overline .mdc-list-item__secondary-text{white-space:nowrap;line-height:auto}.mdc-list-item--with-leading-radio.mdc-list-item,.mdc-list-item--with-leading-checkbox.mdc-list-item,.mdc-list-item--with-leading-icon.mdc-list-item,.mdc-list-item--with-leading-avatar.mdc-list-item{padding-left:0;padding-right:16px}[dir=rtl] .mdc-list-item--with-leading-radio.mdc-list-item,[dir=rtl] .mdc-list-item--with-leading-checkbox.mdc-list-item,[dir=rtl] .mdc-list-item--with-leading-icon.mdc-list-item,[dir=rtl] .mdc-list-item--with-leading-avatar.mdc-list-item{padding-left:16px;padding-right:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-trailing-icon.mdc-list-item,[dir=rtl] .mdc-list-item--with-trailing-icon.mdc-list-item{padding-left:0;padding-right:0}.mdc-list-item--with-trailing-icon .mdc-list-item__end{margin-left:16px;margin-right:16px}.mdc-list-item--with-trailing-meta.mdc-list-item{padding-left:16px;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-meta.mdc-list-item{padding-left:0;padding-right:16px}.mdc-list-item--with-trailing-meta .mdc-list-item__end{-webkit-user-select:none;user-select:none;margin-left:28px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-meta .mdc-list-item__end{margin-left:16px;margin-right:28px}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end,.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end{display:block;line-height:normal;align-self:flex-start;margin-top:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end::before,.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio .mdc-list-item__start,.mdc-list-item--with-leading-checkbox .mdc-list-item__start{margin-left:8px;margin-right:24px}[dir=rtl] .mdc-list-item--with-leading-radio .mdc-list-item__start,[dir=rtl] .mdc-list-item--with-leading-checkbox .mdc-list-item__start{margin-left:24px;margin-right:8px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__start,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-trailing-radio.mdc-list-item,.mdc-list-item--with-trailing-checkbox.mdc-list-item{padding-left:16px;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item,[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item{padding-left:0;padding-right:16px}.mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-icon,.mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-avatar,.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-icon,.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-avatar{padding-left:0}[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-icon,[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-avatar,[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-icon,[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-avatar{padding-right:0}.mdc-list-item--with-trailing-radio .mdc-list-item__end,.mdc-list-item--with-trailing-checkbox .mdc-list-item__end{margin-left:24px;margin-right:8px}[dir=rtl] .mdc-list-item--with-trailing-radio .mdc-list-item__end,[dir=rtl] .mdc-list-item--with-trailing-checkbox .mdc-list-item__end{margin-left:8px;margin-right:24px}.mdc-list-item--with-trailing-radio.mdc-list-item--with-three-lines .mdc-list-item__end,.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:8px}.mdc-list-group__subheader{margin:.75rem 16px}.mdc-list-item--disabled .mdc-list-item__start,.mdc-list-item--disabled .mdc-list-item__content,.mdc-list-item--disabled .mdc-list-item__end{opacity:1}.mdc-list-item--disabled .mdc-list-item__primary-text,.mdc-list-item--disabled .mdc-list-item__secondary-text{opacity:var(--mdc-list-list-item-disabled-label-text-opacity, 0.3)}.mdc-list-item--disabled.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-disabled-leading-icon-color, var(--mat-sys-on-surface));opacity:var(--mdc-list-list-item-disabled-leading-icon-opacity, 0.38)}.mdc-list-item--disabled.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-disabled-trailing-icon-color, var(--mat-sys-on-surface));opacity:var(--mdc-list-list-item-disabled-trailing-icon-opacity, 0.38)}.mat-mdc-list-item.mat-mdc-list-item-both-leading-and-trailing,[dir=rtl] .mat-mdc-list-item.mat-mdc-list-item-both-leading-and-trailing{padding-left:0;padding-right:0}.mdc-list-item.mdc-list-item--disabled .mdc-list-item__primary-text{color:var(--mdc-list-list-item-disabled-label-text-color, var(--mat-sys-on-surface))}.mdc-list-item:hover::before{background-color:var(--mdc-list-list-item-hover-state-layer-color, var(--mat-sys-on-surface));opacity:var(--mdc-list-list-item-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mdc-list-item.mdc-list-item--disabled::before{background-color:var(--mdc-list-list-item-disabled-state-layer-color, var(--mat-sys-on-surface));opacity:var(--mdc-list-list-item-disabled-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mdc-list-item:focus::before{background-color:var(--mdc-list-list-item-focus-state-layer-color, var(--mat-sys-on-surface));opacity:var(--mdc-list-list-item-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mdc-list-item--disabled .mdc-radio,.mdc-list-item--disabled .mdc-checkbox{opacity:var(--mdc-list-list-item-disabled-label-text-opacity, 0.3)}.mdc-list-item--with-leading-avatar .mat-mdc-list-item-avatar{border-radius:var(--mdc-list-list-item-leading-avatar-shape, var(--mat-sys-corner-full));background-color:var(--mdc-list-list-item-leading-avatar-color, var(--mat-sys-primary-container))}.mat-mdc-list-item-icon{font-size:var(--mdc-list-list-item-leading-icon-size, 24px)}@media(forced-colors: active){a.mdc-list-item--activated::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}a.mdc-list-item--activated [dir=rtl]::after{right:auto;left:16px}}.mat-mdc-list-base{display:block}.mat-mdc-list-base .mdc-list-item__start,.mat-mdc-list-base .mdc-list-item__end,.mat-mdc-list-base .mdc-list-item__content{pointer-events:auto}.mat-mdc-list-item,.mat-mdc-list-option{width:100%;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-list-item:not(.mat-mdc-list-item-interactive),.mat-mdc-list-option:not(.mat-mdc-list-item-interactive){cursor:default}.mat-mdc-list-item .mat-divider-inset,.mat-mdc-list-option .mat-divider-inset{position:absolute;left:0;right:0;bottom:0}.mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,.mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-left:72px}[dir=rtl] .mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,[dir=rtl] .mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-right:72px}.mat-mdc-list-item-interactive::before{top:0;left:0;right:0;bottom:0;position:absolute;content:"";opacity:0;pointer-events:none;border-radius:inherit}.mat-mdc-list-item>.mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-list-item:focus>.mat-focus-indicator::before{content:""}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-line.mdc-list-item__secondary-text{white-space:nowrap;line-height:normal}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-unscoped-content.mdc-list-item__secondary-text{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:rgba(0,0,0,0);text-align:start}mat-action-list button::-moz-focus-inner{border:0}.mdc-list-item--with-leading-icon .mdc-list-item__start{margin-inline-start:var(--mat-list-list-item-leading-icon-start-space, 16px);margin-inline-end:var(--mat-list-list-item-leading-icon-end-space, 16px)}.mat-mdc-nav-list .mat-mdc-list-item{border-radius:var(--mat-list-active-indicator-shape, var(--mat-sys-corner-full));--mat-focus-indicator-border-radius:var(--mat-list-active-indicator-shape, var(--mat-sys-corner-full))}.mat-mdc-nav-list .mat-mdc-list-item.mdc-list-item--activated{background-color:var(--mat-list-active-indicator-color, var(--mat-sys-secondary-container))}
`],encapsulation:2,changeDetection:0})}return n})();var uu=(()=>{class n extends om{static \u0275fac=(()=>{let e;return function(o){return(e||(e=Xt(n)))(o||n)}})();static \u0275cmp=Z({type:n,selectors:[["mat-list"]],hostAttrs:[1,"mat-mdc-list","mat-mdc-list-base","mdc-list"],exportAs:["matList"],features:[At([{provide:om,useExisting:n}]),ut],ngContentSelectors:jP,decls:1,vars:0,template:function(i,o){i&1&&(wt(),Fe(0))},styles:[a$],encapsulation:2,changeDetection:0})}return n})(),Nl=(()=>{class n extends bge{_lines;_titles;_meta;_unscopedContent;_itemText;get activated(){return this._activated}set activated(e){this._activated=fn(e)}_activated=!1;_getAriaCurrent(){return this._hostElement.nodeName==="A"&&this._activated?"page":null}_hasBothLeadingAndTrailing(){return this._meta.length!==0&&(this._avatars.length!==0||this._icons.length!==0)}static \u0275fac=(()=>{let e;return function(o){return(e||(e=Xt(n)))(o||n)}})();static \u0275cmp=Z({type:n,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(i,o,r){if(i&1&&(xt(r,fge,5),xt(r,rm,5),xt(r,gge,5)),i&2){let s;fe(s=ge())&&(o._lines=s),fe(s=ge())&&(o._titles=s),fe(s=ge())&&(o._meta=s)}},viewQuery:function(i,o){if(i&1&&(st(dge,5),st(uge,5)),i&2){let r;fe(r=ge())&&(o._unscopedContent=r.first),fe(r=ge())&&(o._itemText=r.first)}},hostAttrs:[1,"mat-mdc-list-item","mdc-list-item"],hostVars:13,hostBindings:function(i,o){i&2&&(ke("aria-current",o._getAriaCurrent()),Se("mdc-list-item--activated",o.activated)("mdc-list-item--with-leading-avatar",o._avatars.length!==0)("mdc-list-item--with-leading-icon",o._icons.length!==0)("mdc-list-item--with-trailing-meta",o._meta.length!==0)("mat-mdc-list-item-both-leading-and-trailing",o._hasBothLeadingAndTrailing())("_mat-animation-noopable",o._noopAnimations))},inputs:{activated:"activated"},exportAs:["matListItem"],features:[ut],ngContentSelectors:mge,decls:10,vars:0,consts:[["unscopedContent",""],[1,"mdc-list-item__content"],[1,"mat-mdc-list-item-unscoped-content",3,"cdkObserveContent"],[1,"mat-focus-indicator"]],template:function(i,o){if(i&1){let r=Ft();wt(hge),Fe(0),w(1,"span",1),Fe(2,1),Fe(3,2),w(4,"span",2,0),de("cdkObserveContent",function(){return et(r),tt(o._updateItemLines(!0))}),Fe(6,3),x()(),Fe(7,4),Fe(8,5),Y(9,"div",3)}},dependencies:[Nq],encapsulation:2,changeDetection:0})}return n})();var d$=(()=>{class n extends om{_isNonInteractive=!1;static \u0275fac=(()=>{let e;return function(o){return(e||(e=Xt(n)))(o||n)}})();static \u0275cmp=Z({type:n,selectors:[["mat-nav-list"]],hostAttrs:["role","navigation",1,"mat-mdc-nav-list","mat-mdc-list-base","mdc-list"],exportAs:["matNavList"],features:[At([{provide:om,useExisting:n}]),ut],ngContentSelectors:jP,decls:1,vars:0,template:function(i,o){i&1&&(wt(),Fe(0))},styles:[a$],encapsulation:2,changeDetection:0})}return n})();var TD;function yge(){if(TD===void 0&&(TD=null,typeof window<"u")){let n=window;n.trustedTypes!==void 0&&(TD=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return TD}function ey(n){return yge()?.createHTML(n)||n}function u$(n){return Error(`Unable to find icon with the name "${n}"`)}function wge(){return Error("Could not find HttpClient for use with Angular Material icons. Please add provideHttpClient() to your providers.")}function h$(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function m$(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}var $c=class{url;svgText;options;svgElement;constructor(t,e,i){this.url=t,this.svgText=e,this.options=i}},RD=(()=>{class n{_httpClient;_sanitizer;_errorHandler;_document;_svgIconConfigs=new Map;_iconSetConfigs=new Map;_cachedIconsByUrl=new Map;_inProgressUrlFetches=new Map;_fontCssClassesByAlias=new Map;_resolvers=[];_defaultFontSetClass=["material-icons","mat-ligature-font"];constructor(e,i,o,r){this._httpClient=e,this._sanitizer=i,this._errorHandler=r,this._document=o}addSvgIcon(e,i,o){return this.addSvgIconInNamespace("",e,i,o)}addSvgIconLiteral(e,i,o){return this.addSvgIconLiteralInNamespace("",e,i,o)}addSvgIconInNamespace(e,i,o,r){return this._addSvgIconConfig(e,i,new $c(o,null,r))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,i,o,r){let s=this._sanitizer.sanitize(ps.HTML,o);if(!s)throw m$(o);let a=ey(s);return this._addSvgIconConfig(e,i,new $c("",a,r))}addSvgIconSet(e,i){return this.addSvgIconSetInNamespace("",e,i)}addSvgIconSetLiteral(e,i){return this.addSvgIconSetLiteralInNamespace("",e,i)}addSvgIconSetInNamespace(e,i,o){return this._addSvgIconSetConfig(e,new $c(i,null,o))}addSvgIconSetLiteralInNamespace(e,i,o){let r=this._sanitizer.sanitize(ps.HTML,i);if(!r)throw m$(i);let s=ey(r);return this._addSvgIconSetConfig(e,new $c("",s,o))}registerFontClassAlias(e,i=e){return this._fontCssClassesByAlias.set(e,i),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){let i=this._sanitizer.sanitize(ps.RESOURCE_URL,e);if(!i)throw h$(e);let o=this._cachedIconsByUrl.get(i);return o?Ve(AD(o)):this._loadSvgIconFromConfig(new $c(e,null)).pipe(on(r=>this._cachedIconsByUrl.set(i,r)),rt(r=>AD(r)))}getNamedSvgIcon(e,i=""){let o=p$(i,e),r=this._svgIconConfigs.get(o);if(r)return this._getSvgFromConfig(r);if(r=this._getIconConfigFromResolvers(i,e),r)return this._svgIconConfigs.set(o,r),this._getSvgFromConfig(r);let s=this._iconSetConfigs.get(i);return s?this._getSvgFromIconSetConfigs(e,s):Ca(u$(o))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?Ve(AD(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe(rt(i=>AD(i)))}_getSvgFromIconSetConfigs(e,i){let o=this._extractIconWithNameFromAnySet(e,i);if(o)return Ve(o);let r=i.filter(s=>!s.svgText).map(s=>this._loadSvgIconSetFromConfig(s).pipe(mc(a=>{let c=`Loading icon set URL: ${this._sanitizer.sanitize(ps.RESOURCE_URL,s.url)} failed: ${a.message}`;return this._errorHandler.handleError(new Error(c)),Ve(null)})));return Sd(r).pipe(rt(()=>{let s=this._extractIconWithNameFromAnySet(e,i);if(!s)throw u$(e);return s}))}_extractIconWithNameFromAnySet(e,i){for(let o=i.length-1;o>=0;o--){let r=i[o];if(r.svgText&&r.svgText.toString().indexOf(e)>-1){let s=this._svgElementFromConfig(r),a=this._extractSvgIconFromSet(s,e,r.options);if(a)return a}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe(on(i=>e.svgText=i),rt(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?Ve(null):this._fetchIcon(e).pipe(on(i=>e.svgText=i))}_extractSvgIconFromSet(e,i,o){let r=e.querySelector(`[id="${i}"]`);if(!r)return null;let s=r.cloneNode(!0);if(s.removeAttribute("id"),s.nodeName.toLowerCase()==="svg")return this._setSvgAttributes(s,o);if(s.nodeName.toLowerCase()==="symbol")return this._setSvgAttributes(this._toSvgElement(s),o);let a=this._svgElementFromString(ey("<svg></svg>"));return a.appendChild(s),this._setSvgAttributes(a,o)}_svgElementFromString(e){let i=this._document.createElement("DIV");i.innerHTML=e;let o=i.querySelector("svg");if(!o)throw Error("<svg> tag not found");return o}_toSvgElement(e){let i=this._svgElementFromString(ey("<svg></svg>")),o=e.attributes;for(let r=0;r<o.length;r++){let{name:s,value:a}=o[r];s!=="id"&&i.setAttribute(s,a)}for(let r=0;r<e.childNodes.length;r++)e.childNodes[r].nodeType===this._document.ELEMENT_NODE&&i.appendChild(e.childNodes[r].cloneNode(!0));return i}_setSvgAttributes(e,i){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),i&&i.viewBox&&e.setAttribute("viewBox",i.viewBox),e}_fetchIcon(e){let{url:i,options:o}=e,r=o?.withCredentials??!1;if(!this._httpClient)throw wge();if(i==null)throw Error(`Cannot fetch icon from URL "${i}".`);let s=this._sanitizer.sanitize(ps.RESOURCE_URL,i);if(!s)throw h$(i);let a=this._inProgressUrlFetches.get(s);if(a)return a;let l=this._httpClient.get(s,{responseType:"text",withCredentials:r}).pipe(rt(c=>ey(c)),pc(()=>this._inProgressUrlFetches.delete(s)),pj());return this._inProgressUrlFetches.set(s,l),l}_addSvgIconConfig(e,i,o){return this._svgIconConfigs.set(p$(e,i),o),this}_addSvgIconSetConfig(e,i){let o=this._iconSetConfigs.get(e);return o?o.push(i):this._iconSetConfigs.set(e,[i]),this}_svgElementFromConfig(e){if(!e.svgElement){let i=this._svgElementFromString(e.svgText);this._setSvgAttributes(i,e.options),e.svgElement=i}return e.svgElement}_getIconConfigFromResolvers(e,i){for(let o=0;o<this._resolvers.length;o++){let r=this._resolvers[o](i,e);if(r)return xge(r)?new $c(r.url,null,r.options):new $c(r,null)}}static \u0275fac=function(i){return new(i||n)(Je(rf,8),Je(jh),Je(dt,8),Je(Dd))};static \u0275prov=se({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function AD(n){return n.cloneNode(!0)}function p$(n,t){return n+":"+t}function xge(n){return!!(n.url&&n.options)}var Cge=["*"],Sge=new ae("MAT_ICON_DEFAULT_OPTIONS"),Dge=new ae("mat-icon-location",{providedIn:"root",factory:Ige});function Ige(){let n=y(dt),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}var g$=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Ege=g$.map(n=>`[${n}]`).join(", "),Mge=/^url\(['"]?#(.*?)['"]?\)$/,An=(()=>{class n{_elementRef=y(Oe);_iconRegistry=y(RD);_location=y(Dge);_errorHandler=y(Dd);_defaultColor;get color(){return this._color||this._defaultColor}set color(e){this._color=e}_color;inline=!1;get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}_svgIcon;get fontSet(){return this._fontSet}set fontSet(e){let i=this._cleanupFontValue(e);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}_fontSet;get fontIcon(){return this._fontIcon}set fontIcon(e){let i=this._cleanupFontValue(e);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_fontIcon;_previousFontSetClass=[];_previousFontIconClass;_svgName;_svgNamespace;_previousPath;_elementsWithExternalReferences;_currentIconFetch=_n.EMPTY;constructor(){let e=y(new hp("aria-hidden"),{optional:!0}),i=y(Sge,{optional:!0});i&&(i.color&&(this.color=this._defaultColor=i.color),i.fontSet&&(this.fontSet=i.fontSet)),e||this._elementRef.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(e){if(!e)return["",""];let i=e.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){let e=this._elementsWithExternalReferences;if(e&&e.size){let i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();let i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){let e=this._elementRef.nativeElement,i=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){let o=e.childNodes[i];(o.nodeType!==1||o.nodeName.toLowerCase()==="svg")&&o.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;let e=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(o=>o.length>0);this._previousFontSetClass.forEach(o=>e.classList.remove(o)),i.forEach(o=>e.classList.add(o)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return typeof e=="string"?e.trim().split(" ")[0]:e}_prependPathToReferences(e){let i=this._elementsWithExternalReferences;i&&i.forEach((o,r)=>{o.forEach(s=>{r.setAttribute(s.name,`url('${e}#${s.value}')`)})})}_cacheChildrenWithExternalReferences(e){let i=e.querySelectorAll(Ege),o=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let r=0;r<i.length;r++)g$.forEach(s=>{let a=i[r],l=a.getAttribute(s),c=l?l.match(Mge):null;if(c){let d=o.get(a);d||(d=[],o.set(a,d)),d.push({name:s,value:c[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){let[i,o]=this._splitIconName(e);i&&(this._svgNamespace=i),o&&(this._svgName=o),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(o,i).pipe(_o(1)).subscribe(r=>this._setSvgElement(r),r=>{let s=`Error retrieving icon ${i}:${o}! ${r.message}`;this._errorHandler.handleError(new Error(s))})}}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Z({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(i,o){i&2&&(ke("data-mat-icon-type",o._usingFontIcon()?"font":"svg")("data-mat-icon-name",o._svgName||o.fontIcon)("data-mat-icon-namespace",o._svgNamespace||o.fontSet)("fontIcon",o._usingFontIcon()?o.fontIcon:null),Ao(o.color?"mat-"+o.color:""),Se("mat-icon-inline",o.inline)("mat-icon-no-color",o.color!=="primary"&&o.color!=="accent"&&o.color!=="warn"))},inputs:{color:"color",inline:[2,"inline","inline",Ke],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],ngContentSelectors:Cge,decls:1,vars:0,template:function(i,o){i&1&&(wt(),Fe(0))},styles:[`mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color, inherit)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}
`],encapsulation:2,changeDetection:0})}return n})();var OD=class n{title="Inform\xE1cie o s\xFAbore";cancelText="Odstrani\u0165";confirmText="Potvrdi\u0165";dialogData=y(Af)||{fileWrapper:{}};static \u0275fac=function(e){return new(e||n)};static \u0275cmp=Z({type:n,selectors:[["app-file-upload-confirmation"]],inputs:{title:"title",cancelText:"cancelText",confirmText:"confirmText"},decls:19,vars:8,consts:[["mat-dialog-title",""],["svgIcon","rename-box-outline","matListItemIcon",""],["matListItemTitle",""],["matListItemIcon",""],["mat-button","","mat-dialog-close",""],["mat-flat-button","","cdkFocusInitial","",3,"mat-dialog-close"]],template:function(e,i){e&1&&(w(0,"h2",0),P(1),x(),w(2,"mat-dialog-content")(3,"mat-list")(4,"mat-list-item"),Y(5,"mat-icon",1),w(6,"p",2),P(7),x()(),w(8,"mat-list-item")(9,"mat-icon",3),P(10,"date_range"),x(),w(11,"p"),P(12),Ni(13,"date"),x()()()(),w(14,"mat-dialog-actions")(15,"button",4),P(16),x(),w(17,"button",5),P(18),x()()),e&2&&(D(),xe(i.title),D(6),xe(i.dialogData.fileWrapper.name),D(5),xe(Fi(13,6,i.dialogData.fileWrapper.dateModified)),D(4),xe(i.cancelText),D(),z("mat-dialog-close",!0),D(),xe(i.confirmText))},dependencies:[Wb,Tn,jb,Ub,Gv,Vb,uu,Nl,Jb,An,rm],styles:["p[_ngcontent-%COMP%]{color:var(--mat-sys-on-surface);font:var(--mat-sys-body-large);margin:0}"]})};var jt=class n{submittedFile=Ue(null);report=Ue(null);analysisImported=Ue(!1);setSubmittedFile(t){this.submittedFile.set(t)}getSubmittedFile(){return this.submittedFile.asReadonly()}setReport(t){return this.report.set(t)}getReport(){return this.report.asReadonly()}getAnalysisImported(){return this.analysisImported.asReadonly()}setAnalysisImported(t){return this.analysisImported.set(t)}clearContext(){this.submittedFile.set(null),this.report.set(null),this.analysisImported.set(!1)}static \u0275fac=function(e){return new(e||n)};static \u0275prov=se({token:n,factory:n.\u0275fac,providedIn:"root"})};var PD=class n{constructor(t,e,i){this.analysisContext=t;this.fileUtils=e;this.router=i}dialog=y(Gc);onFileUploaded(t,e,i,o){let r=this.fileUtils.createWrapper(t);this.dialog.open(OD,{data:{fileWrapper:r}}).afterClosed().subscribe(a=>{a?(this.analysisContext.setSubmittedFile(r),o&&o(r),this.router.navigate([e])):i&&this.router.navigate([i])})}static \u0275fac=function(e){return new(e||n)(J(jt),J(Pl),J(pi))};static \u0275dir=me({type:n})};var Tge=["*"],Rn=class n{title="Default Title";subtitle="Default subtitle";isTitleCentered=!1;isHorizontal=!1;isContentCentered=!0;wrapBreakpoint=null;shouldWrap=Ue(!0);ngOnInit(){this.wrapBreakpoint&&this.recalculateWrap()}onResize(){this.recalculateWrap()}recalculateWrap(){if(!this.wrapBreakpoint){this.shouldWrap.set(!0);return}this.shouldWrap.set(window.innerWidth<=this.wrapBreakpoint)}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=Z({type:n,selectors:[["app-surface"]],hostVars:1,hostBindings:function(e,i){e&1&&de("resize",function(r){return i.onResize(r.target.innerWidth)},!1,Aj),e&2&&ke("title",null)},inputs:{title:"title",subtitle:"subtitle",isTitleCentered:"isTitleCentered",isHorizontal:"isHorizontal",isContentCentered:"isContentCentered",wrapBreakpoint:"wrapBreakpoint"},ngContentSelectors:Tge,decls:7,vars:10,consts:[[1,"titled-surface"],[1,"text-frame"],[1,"title-text"],[1,"subtitle-text",3,"innerHTML"],[1,"content"]],template:function(e,i){e&1&&(wt(),w(0,"div",0)(1,"div",1)(2,"h1",2),P(3),x(),Y(4,"p",3),x(),w(5,"div",4),Fe(6),x()()),e&2&&(D(),Se("title-centered",i.isTitleCentered),D(2),xe(i.title),D(),z("innerHTML",i.subtitle,av),D(),Se("horizontal",i.isHorizontal)("content-centered",i.isContentCentered)("content-wrap",i.shouldWrap()))},styles:[".titled-surface[_ngcontent-%COMP%]{display:flex;height:fit-content;width:100%;max-width:100%;padding:16px;flex-direction:column;flex-wrap:wrap;min-width:fit-content;align-items:stretch;gap:24px;background-color:var(--mat-sys-surface-container-low);border-radius:var(--mat-sys-corner-extra-large);box-sizing:border-box}.content[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-width:fit-content;align-items:stretch;justify-content:start;gap:24px}.content-wrap[_ngcontent-%COMP%]{flex-wrap:wrap}.content-centered[_ngcontent-%COMP%]{align-content:center}.horizontal[_ngcontent-%COMP%]{flex-direction:row;justify-content:center;align-items:start}.text-frame[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;align-self:stretch;gap:4px}.title-text[_ngcontent-%COMP%]{font:var(--mat-sys-headline-small);color:var(--mat-sys-on-surface);margin:0}.subtitle-text[_ngcontent-%COMP%]{font:var(--mat-sys-body-medium);color:var(--mat-sys-on-surface-variant);margin:0}.title-centered[_ngcontent-%COMP%]{align-items:center}"]})};var Age=["*"],On=class n{static \u0275fac=function(e){return new(e||n)};static \u0275cmp=Z({type:n,selectors:[["app-content-container"]],ngContentSelectors:Age,decls:2,vars:0,consts:[[1,"content"]],template:function(e,i){e&1&&(wt(),w(0,"div",0),Fe(1),x())},styles:[".content[_ngcontent-%COMP%]{display:flex;height:fit-content;flex-direction:column;flex-grow:1;padding-top:76px;padding-left:6rem;padding-right:6rem;padding-bottom:5rem;gap:2rem}@media (max-width: 1200px){.content[_ngcontent-%COMP%]{padding-left:4rem;padding-right:3rem}}@media (max-width: 840px){.content[_ngcontent-%COMP%]{padding-left:3rem;padding-right:2rem}}@media (max-width: 640px){.content[_ngcontent-%COMP%]{padding-left:2rem;padding-right:1rem}}@media (max-width: 440px){.content[_ngcontent-%COMP%]{padding-left:1rem;padding-right:1rem}}"]})};var la=class n{constructor(t){this.router=t}routesMap=new Map([["/analysis",[{route:"/analysis",isFullWidthOnly:!1,fullWidthName:"S\xFAhrn anal\xFDzy",iconPath:"ballot-outline",isIconSvg:!0},{route:"/pairs",isFullWidthOnly:!1,fullWidthName:"Dvojice odovzdan\xED",iconPath:"book-multiple-outline",isIconSvg:!0},{route:"/submissions",isFullWidthOnly:!1,fullWidthName:"Odovzdania",iconPath:"list",isIconSvg:!1},{route:"/metadata",isFullWidthOnly:!1,fullWidthName:"Meta\xFAdaje",iconPath:"badge-account-horizontal-outline",isIconSvg:!0},{route:"/heatmap",isFullWidthOnly:!1,fullWidthName:"Teplotn\xE1 mapa",iconPath:"table",isIconSvg:!1},{route:"/graph",isFullWidthOnly:!1,fullWidthName:"Graf",iconPath:"apache-kafka",isIconSvg:!0},{route:"/diff",isFullWidthOnly:!1,fullWidthName:"Rozdiel obsahu",iconPath:"difference_outlined",isIconSvg:!1}]],["/pairs",[{route:"/analysis",isFullWidthOnly:!1,fullWidthName:"S\xFAhrn anal\xFDzy",iconPath:"ballot-outline",isIconSvg:!0},{route:"/pairs",isFullWidthOnly:!1,fullWidthName:"Dvojice odovzdan\xED",iconPath:"book-multiple-outline",isIconSvg:!0},{route:"/submissions",isFullWidthOnly:!1,fullWidthName:"Odovzdania",iconPath:"list",isIconSvg:!1},{route:"/metadata",isFullWidthOnly:!1,fullWidthName:"Meta\xFAdaje",iconPath:"badge-account-horizontal-outline",isIconSvg:!0},{route:"/heatmap",isFullWidthOnly:!1,fullWidthName:"Teplotn\xE1 mapa",iconPath:"table",isIconSvg:!1},{route:"/graph",isFullWidthOnly:!1,fullWidthName:"Graf",iconPath:"apache-kafka",isIconSvg:!0},{route:"/diff",isFullWidthOnly:!1,fullWidthName:"Rozdiel obsahu",iconPath:"difference_outlined",isIconSvg:!1}]],["/metadata",[{route:"/analysis",isFullWidthOnly:!1,fullWidthName:"S\xFAhrn anal\xFDzy",iconPath:"ballot-outline",isIconSvg:!0},{route:"/pairs",isFullWidthOnly:!1,fullWidthName:"Dvojice odovzdan\xED",iconPath:"book-multiple-outline",isIconSvg:!0},{route:"/submissions",isFullWidthOnly:!1,fullWidthName:"Odovzdania",iconPath:"list",isIconSvg:!1},{route:"/metadata",isFullWidthOnly:!1,fullWidthName:"Meta\xFAdaje",iconPath:"badge-account-horizontal-outline",isIconSvg:!0},{route:"/heatmap",isFullWidthOnly:!1,fullWidthName:"Teplotn\xE1 mapa",iconPath:"table",isIconSvg:!1},{route:"/graph",isFullWidthOnly:!1,fullWidthName:"Graf",iconPath:"apache-kafka",isIconSvg:!0},{route:"/diff",isFullWidthOnly:!1,fullWidthName:"Rozdiel obsahu",iconPath:"difference_outlined",isIconSvg:!1}]],["/submissions",[{route:"/analysis",isFullWidthOnly:!1,fullWidthName:"S\xFAhrn anal\xFDzy",iconPath:"ballot-outline",isIconSvg:!0},{route:"/pairs",isFullWidthOnly:!1,fullWidthName:"Dvojice odovzdan\xED",iconPath:"book-multiple-outline",isIconSvg:!0},{route:"/submissions",isFullWidthOnly:!1,fullWidthName:"Odovzdania",iconPath:"list",isIconSvg:!1},{route:"/metadata",isFullWidthOnly:!1,fullWidthName:"Meta\xFAdaje",iconPath:"badge-account-horizontal-outline",isIconSvg:!0},{route:"/heatmap",isFullWidthOnly:!1,fullWidthName:"Teplotn\xE1 mapa",iconPath:"table",isIconSvg:!1},{route:"/graph",isFullWidthOnly:!1,fullWidthName:"Graf",iconPath:"apache-kafka",isIconSvg:!0},{route:"/diff",isFullWidthOnly:!1,fullWidthName:"Rozdiel obsahu",iconPath:"difference_outlined",isIconSvg:!1}]],["/heatmap",[{route:"/analysis",isFullWidthOnly:!1,fullWidthName:"S\xFAhrn anal\xFDzy",iconPath:"ballot-outline",isIconSvg:!0},{route:"/pairs",isFullWidthOnly:!1,fullWidthName:"Dvojice odovzdan\xED",iconPath:"book-multiple-outline",isIconSvg:!0},{route:"/submissions",isFullWidthOnly:!1,fullWidthName:"Odovzdania",iconPath:"list",isIconSvg:!1},{route:"/metadata",isFullWidthOnly:!1,fullWidthName:"Meta\xFAdaje",iconPath:"badge-account-horizontal-outline",isIconSvg:!0},{route:"/heatmap",isFullWidthOnly:!1,fullWidthName:"Teplotn\xE1 mapa",iconPath:"table",isIconSvg:!1},{route:"/graph",isFullWidthOnly:!1,fullWidthName:"Graf",iconPath:"apache-kafka",isIconSvg:!0},{route:"/diff",isFullWidthOnly:!1,fullWidthName:"Rozdiel obsahu",iconPath:"difference_outlined",isIconSvg:!1}]],["/graph",[{route:"/analysis",isFullWidthOnly:!1,fullWidthName:"S\xFAhrn anal\xFDzy",iconPath:"ballot-outline",isIconSvg:!0},{route:"/pairs",isFullWidthOnly:!1,fullWidthName:"Dvojice odovzdan\xED",iconPath:"book-multiple-outline",isIconSvg:!0},{route:"/submissions",isFullWidthOnly:!1,fullWidthName:"Odovzdania",iconPath:"list",isIconSvg:!1},{route:"/metadata",isFullWidthOnly:!1,fullWidthName:"Meta\xFAdaje",iconPath:"badge-account-horizontal-outline",isIconSvg:!0},{route:"/heatmap",isFullWidthOnly:!1,fullWidthName:"Teplotn\xE1 mapa",iconPath:"table",isIconSvg:!1},{route:"/graph",isFullWidthOnly:!1,fullWidthName:"Graf",iconPath:"apache-kafka",isIconSvg:!0},{route:"/diff",isFullWidthOnly:!1,fullWidthName:"Rozdiel obsahu",iconPath:"difference_outlined",isIconSvg:!1}]],["/clusters",[{route:"/analysis",isFullWidthOnly:!1,fullWidthName:"S\xFAhrn anal\xFDzy",iconPath:"ballot-outline",isIconSvg:!0},{route:"/pairs",isFullWidthOnly:!1,fullWidthName:"Dvojice odovzdan\xED",iconPath:"book-multiple-outline",isIconSvg:!0},{route:"/submissions",isFullWidthOnly:!1,fullWidthName:"Odovzdania",iconPath:"list",isIconSvg:!1},{route:"/metadata",isFullWidthOnly:!1,fullWidthName:"Meta\xFAdaje",iconPath:"badge-account-horizontal-outline",isIconSvg:!0},{route:"/heatmap",isFullWidthOnly:!1,fullWidthName:"Teplotn\xE1 mapa",iconPath:"table",isIconSvg:!1},{route:"/graph",isFullWidthOnly:!1,fullWidthName:"Graf",iconPath:"apache-kafka",isIconSvg:!0},{route:"/diff",isFullWidthOnly:!1,fullWidthName:"Rozdiel obsahu",iconPath:"difference_outlined",isIconSvg:!1}]],["/diff",[{route:"/analysis",isFullWidthOnly:!1,fullWidthName:"S\xFAhrn anal\xFDzy",iconPath:"ballot-outline",isIconSvg:!0},{route:"/pairs",isFullWidthOnly:!1,fullWidthName:"Dvojice odovzdan\xED",iconPath:"book-multiple-outline",isIconSvg:!0},{route:"/submissions",isFullWidthOnly:!1,fullWidthName:"Odovzdania",iconPath:"list",isIconSvg:!1},{route:"/metadata",isFullWidthOnly:!1,fullWidthName:"Meta\xFAdaje",iconPath:"badge-account-horizontal-outline",isIconSvg:!0},{route:"/heatmap",isFullWidthOnly:!1,fullWidthName:"Teplotn\xE1 mapa",iconPath:"table",isIconSvg:!1},{route:"/graph",isFullWidthOnly:!1,fullWidthName:"Graf",iconPath:"apache-kafka",isIconSvg:!0},{route:"/diff",isFullWidthOnly:!1,fullWidthName:"Rozdiel obsahu",iconPath:"difference_outlined",isIconSvg:!1}]]]);defaultRoutes=[{route:"/upload",isFullWidthOnly:!1,fullWidthName:"Nahra\u0165 s\xFAbor odovzdan\xED",iconPath:"upload-outline",isIconSvg:!0},{route:"/import",isFullWidthOnly:!1,fullWidthName:"Importova\u0165 analyzu",iconPath:"import",isIconSvg:!0},{route:"/previous-analysis",isFullWidthOnly:!1,fullWidthName:"Predo\u0161l\xE9 anal\xFDzy",iconPath:"list",isIconSvg:!1}];supportRoutes=[];homeRoute={route:"/import",fullWidthName:"Sp\xE4\u0165 na hlavn\xFA stranu",iconPath:"arrow_back",isIconSvg:!1,isFullWidthOnly:!0};dynamicRoutesBase=["/pairs","/submissions","/clusters","/diff"];activeRoute=Ue("/import");isNavigationLocked=Ue(!1);getRoutes(){let t=this.rawRoutes();return t.length>0?t.concat(this.supportRoutes):[]}rawRoutes(){let t=this.router.url.split("?")[0].split("#")[0],e=this.getBaseUrl(t);return this.routesMap.get(e)??[]}getActive(){return this.activeRoute}updateActive(){let t=this.router.url;this.activeRoute.set(t)}getHome(){return this.homeRoute}toggleNavigationLock(t){this.isNavigationLocked.set(t)}getNavigationLock(){return this.isNavigationLocked}getBaseUrl(t){for(let e of this.dynamicRoutesBase)if(t.startsWith(e))return e;return t}static \u0275fac=function(e){return new(e||n)(Je(pi))};static \u0275prov=se({token:n,factory:n.\u0275fac,providedIn:"root"})};var Fl=class n{propertyMap={};putProperty(t,e,i=""){this.propertyMap[`${i}${t}`]=e}popProperty(t,e=""){let i=this.propertyMap[`${e}${t}`];return i&&delete this.propertyMap[`${e}${t}`],i}clear(){this.propertyMap={}}static \u0275fac=function(e){return new(e||n)};static \u0275prov=se({token:n,factory:n.\u0275fac,providedIn:"root"})};var ND=class n extends PD{constructor(e,i,o,r,s){super(o,r,s);this.navigationService=e;this.routeContextService=i;this.analysisContext=o;this.fileUtils=r;this.router=s}supportedExtensions=new Set(["zip"]);subtitle="Povolen\xFD form\xE1t je ZIP";ngOnInit(){this.analysisContext.clearContext(),this.routeContextService.clear()}onFileUploaded(e){super.onFileUploaded(e,"/analysis","/import",()=>{this.navigationService.toggleNavigationLock(!0),this.analysisContext.setAnalysisImported(!0)})}static \u0275fac=function(i){return new(i||n)(J(la),J(Fl),J(jt),J(Pl),J(pi))};static \u0275cmp=Z({type:n,selectors:[["app-import-analysis-page"]],features:[ut],decls:3,vars:2,consts:[["title","Import anal\xFDzy","subtitle","V pr\xEDpade, \u017Ee m\xE1te anal\xFDzu ulo\u017Een\xFA na disku, m\xF4\u017Eeme v\xE1m ju zobrazi\u0165."],[3,"fileUploaded","supportedExtensions","subtitle"]],template:function(i,o){i&1&&(w(0,"app-content-container")(1,"app-surface",0)(2,"app-file-upload-dnd",1),de("fileUploaded",function(s){return o.onFileUploaded(s)}),x()()()),i&2&&(D(2),z("supportedExtensions",o.supportedExtensions)("subtitle",o.subtitle))},dependencies:[oD,Rn,On],encapsulation:2})};function Rge(n,t){n&1&&Y(0,"div",2)}var Oge=new ae("MAT_PROGRESS_BAR_DEFAULT_OPTIONS");var hu=(()=>{class n{_elementRef=y(Oe);_ngZone=y(Ye);_changeDetectorRef=y(Gt);_renderer=y(Li);_cleanupTransitionEnd;_animationMode=y(Ei,{optional:!0});constructor(){let e=y(Oge,{optional:!0});this._isNoopAnimation=this._animationMode==="NoopAnimations",e&&(e.color&&(this.color=this._defaultColor=e.color),this.mode=e.mode||this.mode)}_isNoopAnimation=!1;get color(){return this._color||this._defaultColor}set color(e){this._color=e}_color;_defaultColor="primary";get value(){return this._value}set value(e){this._value=_$(e||0),this._changeDetectorRef.markForCheck()}_value=0;get bufferValue(){return this._bufferValue||0}set bufferValue(e){this._bufferValue=_$(e||0),this._changeDetectorRef.markForCheck()}_bufferValue=0;animationEnd=new Le;get mode(){return this._mode}set mode(e){this._mode=e,this._changeDetectorRef.markForCheck()}_mode="determinate";ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._cleanupTransitionEnd=this._renderer.listen(this._elementRef.nativeElement,"transitionend",this._transitionendHandler)})}ngOnDestroy(){this._cleanupTransitionEnd?.()}_getPrimaryBarTransform(){return`scaleX(${this._isIndeterminate()?1:this.value/100})`}_getBufferBarFlexBasis(){return`${this.mode==="buffer"?this.bufferValue:100}%`}_isIndeterminate(){return this.mode==="indeterminate"||this.mode==="query"}_transitionendHandler=e=>{this.animationEnd.observers.length===0||!e.target||!e.target.classList.contains("mdc-linear-progress__primary-bar")||(this.mode==="determinate"||this.mode==="buffer")&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))};static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Z({type:n,selectors:[["mat-progress-bar"]],hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-mdc-progress-bar","mdc-linear-progress"],hostVars:10,hostBindings:function(i,o){i&2&&(ke("aria-valuenow",o._isIndeterminate()?null:o.value)("mode",o.mode),Ao("mat-"+o.color),Se("_mat-animation-noopable",o._isNoopAnimation)("mdc-linear-progress--animation-ready",!o._isNoopAnimation)("mdc-linear-progress--indeterminate",o._isIndeterminate()))},inputs:{color:"color",value:[2,"value","value",Yi],bufferValue:[2,"bufferValue","bufferValue",Yi],mode:"mode"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],decls:7,vars:5,consts:[["aria-hidden","true",1,"mdc-linear-progress__buffer"],[1,"mdc-linear-progress__buffer-bar"],[1,"mdc-linear-progress__buffer-dots"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__primary-bar"],[1,"mdc-linear-progress__bar-inner"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__secondary-bar"]],template:function(i,o){i&1&&(w(0,"div",0),Y(1,"div",1),ee(2,Rge,1,0,"div",2),x(),w(3,"div",3),Y(4,"span",4),x(),w(5,"div",5),Y(6,"span",4),x()),i&2&&(D(),bo("flex-basis",o._getBufferBarFlexBasis()),D(),Xe(o.mode==="buffer"?2:-1),D(),bo("transform",o._getPrimaryBarTransform()))},styles:[`.mat-mdc-progress-bar{display:block;text-align:start}.mat-mdc-progress-bar[mode=query]{transform:scaleX(-1)}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-dots,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__secondary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__bar-inner.mdc-linear-progress__bar-inner{animation:none}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-bar{transition:transform 1ms}.mdc-linear-progress{position:relative;width:100%;transform:translateZ(0);outline:1px solid rgba(0,0,0,0);overflow-x:hidden;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);height:max(var(--mdc-linear-progress-track-height, 4px),var(--mdc-linear-progress-active-indicator-height, 4px))}@media(forced-colors: active){.mdc-linear-progress{outline-color:CanvasText}}.mdc-linear-progress__bar{position:absolute;top:0;bottom:0;margin:auto 0;width:100%;animation:none;transform-origin:top left;transition:transform 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);height:var(--mdc-linear-progress-active-indicator-height, 4px)}.mdc-linear-progress--indeterminate .mdc-linear-progress__bar{transition:none}[dir=rtl] .mdc-linear-progress__bar{right:0;transform-origin:center right}.mdc-linear-progress__bar-inner{display:inline-block;position:absolute;width:100%;animation:none;border-top-style:solid;border-color:var(--mdc-linear-progress-active-indicator-color, var(--mat-sys-primary));border-top-width:var(--mdc-linear-progress-active-indicator-height, 4px)}.mdc-linear-progress__buffer{display:flex;position:absolute;top:0;bottom:0;margin:auto 0;width:100%;overflow:hidden;height:var(--mdc-linear-progress-track-height, 4px);border-radius:var(--mdc-linear-progress-track-shape, var(--mat-sys-corner-none))}.mdc-linear-progress__buffer-dots{-webkit-mask-image:url("data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E");background-repeat:repeat-x;flex:auto;transform:rotate(180deg);animation:mdc-linear-progress-buffering 250ms infinite linear;background-color:var(--mdc-linear-progress-track-color, var(--mat-sys-surface-variant))}@media(forced-colors: active){.mdc-linear-progress__buffer-dots{background-color:ButtonBorder}}[dir=rtl] .mdc-linear-progress__buffer-dots{animation:mdc-linear-progress-buffering-reverse 250ms infinite linear;transform:rotate(0)}.mdc-linear-progress__buffer-bar{flex:0 1 100%;transition:flex-basis 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);background-color:var(--mdc-linear-progress-track-color, var(--mat-sys-surface-variant))}.mdc-linear-progress__primary-bar{transform:scaleX(0)}.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{left:-145.166611%}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation:mdc-linear-progress-primary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-primary-indeterminate-scale 2s infinite linear}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation-name:mdc-linear-progress-primary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{right:-145.166611%;left:auto}.mdc-linear-progress__secondary-bar{display:none}.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{left:-54.888891%;display:block}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation:mdc-linear-progress-secondary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-secondary-indeterminate-scale 2s infinite linear}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation-name:mdc-linear-progress-secondary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{right:-54.888891%;left:auto}@keyframes mdc-linear-progress-buffering{from{transform:rotate(180deg) translateX(calc(var(--mdc-linear-progress-track-height, 4px) * -2.5))}}@keyframes mdc-linear-progress-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(83.67142%)}100%{transform:translateX(200.611057%)}}@keyframes mdc-linear-progress-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(84.386165%)}100%{transform:translateX(160.277782%)}}@keyframes mdc-linear-progress-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.205028, 0.057051, 0.57661, 0.453971);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.152313, 0.196432, 0.648374, 1.004315);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.257759, -0.003163, 0.211762, 1.38179);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-primary-indeterminate-translate-reverse{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(-83.67142%)}100%{transform:translateX(-200.611057%)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate-reverse{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(-37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(-84.386165%)}100%{transform:translateX(-160.277782%)}}@keyframes mdc-linear-progress-buffering-reverse{from{transform:translateX(-10px)}}
`],encapsulation:2,changeDetection:0})}return n})();function _$(n,t=0,e=100){return Math.max(t,Math.min(e,n))}var UP=class{_box;_destroyed=new De;_resizeSubject=new De;_resizeObserver;_elementObservables=new Map;constructor(t){this._box=t,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(e=>this._resizeSubject.next(e)))}observe(t){return this._elementObservables.has(t)||this._elementObservables.set(t,new mr(e=>{let i=this._resizeSubject.subscribe(e);return this._resizeObserver?.observe(t,{box:this._box}),()=>{this._resizeObserver?.unobserve(t),i.unsubscribe(),this._elementObservables.delete(t)}}).pipe(ii(e=>e.some(i=>i.target===t)),YA({bufferSize:1,refCount:!0}),Ct(this._destroyed))),this._elementObservables.get(t)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}},v$=(()=>{class n{_cleanupErrorListener;_observers=new Map;_ngZone=y(Ye);constructor(){typeof ResizeObserver<"u"}ngOnDestroy(){for(let[,e]of this._observers)e.destroy();this._observers.clear(),this._cleanupErrorListener?.()}observe(e,i){let o=i?.box||"content-box";return this._observers.has(o)||this._observers.set(o,new UP(o)),this._observers.get(o).observe(e)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=se({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Pge=["notch"],Lge=["matFormFieldNotchedOutline",""],Nge=["*"],Fge=["textField"],zge=["iconPrefixContainer"],Bge=["textPrefixContainer"],Hge=["iconSuffixContainer"],Vge=["textSuffixContainer"],Wge=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],jge=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];function Uge(n,t){n&1&&Y(0,"span",20)}function qge(n,t){if(n&1&&(w(0,"label",19),Fe(1,1),ee(2,Uge,1,0,"span",20),x()),n&2){let e=X(2);z("floating",e._shouldLabelFloat())("monitorResize",e._hasOutline())("id",e._labelId),ke("for",e._control.disableAutomaticLabeling?null:e._control.id),D(2),Xe(!e.hideRequiredMarker&&e._control.required?2:-1)}}function Gge(n,t){if(n&1&&ee(0,qge,3,5,"label",19),n&2){let e=X();Xe(e._hasFloatingLabel()?0:-1)}}function $ge(n,t){n&1&&Y(0,"div",7)}function Kge(n,t){}function Yge(n,t){if(n&1&&ee(0,Kge,0,0,"ng-template",13),n&2){X(2);let e=oo(1);z("ngTemplateOutlet",e)}}function Xge(n,t){if(n&1&&(w(0,"div",9),ee(1,Yge,1,1,null,13),x()),n&2){let e=X();z("matFormFieldNotchedOutlineOpen",e._shouldLabelFloat()),D(),Xe(e._forceDisplayInfixLabel()?-1:1)}}function Zge(n,t){n&1&&(w(0,"div",10,2),Fe(2,2),x())}function Qge(n,t){n&1&&(w(0,"div",11,3),Fe(2,3),x())}function Jge(n,t){}function e_e(n,t){if(n&1&&ee(0,Jge,0,0,"ng-template",13),n&2){X();let e=oo(1);z("ngTemplateOutlet",e)}}function t_e(n,t){n&1&&(w(0,"div",14,4),Fe(2,4),x())}function i_e(n,t){n&1&&(w(0,"div",15,5),Fe(2,5),x())}function n_e(n,t){n&1&&Y(0,"div",16)}function o_e(n,t){n&1&&Fe(0,6)}function r_e(n,t){if(n&1&&(w(0,"mat-hint",21),P(1),x()),n&2){let e=X(2);z("id",e._hintLabelId),D(),xe(e.hintLabel)}}function s_e(n,t){if(n&1&&(ee(0,r_e,2,2,"mat-hint",21),Fe(1,7),Y(2,"div",22),Fe(3,8)),n&2){let e=X();Xe(e.hintLabel?0:-1)}}var Fo=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275dir=me({type:n,selectors:[["mat-label"]]})}return n})(),D$=new ae("MatError");var iy=(()=>{class n{align="start";id=y(Bn).getId("mat-mdc-hint-");static \u0275fac=function(i){return new(i||n)};static \u0275dir=me({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(i,o){i&2&&(fs("id",o.id),ke("align",null),Se("mat-mdc-form-field-hint-end",o.align==="end"))},inputs:{align:"align",id:"id"}})}return n})(),I$=new ae("MatPrefix");var E$=new ae("MatSuffix");var M$=new ae("FloatingLabelParent"),b$=(()=>{class n{_elementRef=y(Oe);get floating(){return this._floating}set floating(e){this._floating=e,this.monitorResize&&this._handleResize()}_floating=!1;get monitorResize(){return this._monitorResize}set monitorResize(e){this._monitorResize=e,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}_monitorResize=!1;_resizeObserver=y(v$);_ngZone=y(Ye);_parent=y(M$);_resizeSubscription=new _n;constructor(){}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return a_e(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static \u0275fac=function(i){return new(i||n)};static \u0275dir=me({type:n,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(i,o){i&2&&Se("mdc-floating-label--float-above",o.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"}})}return n})();function a_e(n){let t=n;if(t.offsetParent!==null)return t.scrollWidth;let e=t.cloneNode(!0);e.style.setProperty("position","absolute"),e.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(e);let i=e.scrollWidth;return e.remove(),i}var y$="mdc-line-ripple--active",FD="mdc-line-ripple--deactivating",w$=(()=>{class n{_elementRef=y(Oe);_cleanupTransitionEnd;constructor(){let e=y(Ye),i=y(Li);e.runOutsideAngular(()=>{this._cleanupTransitionEnd=i.listen(this._elementRef.nativeElement,"transitionend",this._handleTransitionEnd)})}activate(){let e=this._elementRef.nativeElement.classList;e.remove(FD),e.add(y$)}deactivate(){this._elementRef.nativeElement.classList.add(FD)}_handleTransitionEnd=e=>{let i=this._elementRef.nativeElement.classList,o=i.contains(FD);e.propertyName==="opacity"&&o&&i.remove(y$,FD)};ngOnDestroy(){this._cleanupTransitionEnd()}static \u0275fac=function(i){return new(i||n)};static \u0275dir=me({type:n,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]})}return n})(),x$=(()=>{class n{_elementRef=y(Oe);_ngZone=y(Ye);open=!1;_notch;constructor(){}ngAfterViewInit(){let e=this._elementRef.nativeElement.querySelector(".mdc-floating-label");e?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),typeof requestAnimationFrame=="function"&&(e.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>e.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(e){!this.open||!e?this._notch.nativeElement.style.width="":this._notch.nativeElement.style.width=`calc(${e}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Z({type:n,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(i,o){if(i&1&&st(Pge,5),i&2){let r;fe(r=ge())&&(o._notch=r.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(i,o){i&2&&Se("mdc-notched-outline--notched",o.open)},inputs:{open:[0,"matFormFieldNotchedOutlineOpen","open"]},attrs:Lge,ngContentSelectors:Nge,decls:5,vars:0,consts:[["notch",""],[1,"mat-mdc-notch-piece","mdc-notched-outline__leading"],[1,"mat-mdc-notch-piece","mdc-notched-outline__notch"],[1,"mat-mdc-notch-piece","mdc-notched-outline__trailing"]],template:function(i,o){i&1&&(wt(),Y(0,"div",1),w(1,"div",2,0),Fe(3),x(),Y(4,"div",3))},encapsulation:2,changeDetection:0})}return n})(),Ff=(()=>{class n{value;stateChanges;id;placeholder;ngControl;focused;empty;shouldLabelFloat;required;disabled;errorState;controlType;autofilled;userAriaDescribedBy;disableAutomaticLabeling;static \u0275fac=function(i){return new(i||n)};static \u0275dir=me({type:n})}return n})();var mu=new ae("MatFormField"),k$=new ae("MAT_FORM_FIELD_DEFAULT_OPTIONS"),C$="fill",l_e="auto",S$="fixed",c_e="translateY(-50%)",zo=(()=>{class n{_elementRef=y(Oe);_changeDetectorRef=y(Gt);_dir=y(en);_platform=y(Wt);_idGenerator=y(Bn);_ngZone=y(Ye);_injector=y(_i);_defaults=y(k$,{optional:!0});_textField;_iconPrefixContainer;_textPrefixContainer;_iconSuffixContainer;_textSuffixContainer;_floatingLabel;_notchedOutline;_lineRipple;_formFieldControl;_prefixChildren;_suffixChildren;_errorChildren;_hintChildren;_labelChild=Oj(Fo);get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=fn(e)}_hideRequiredMarker=!1;color="primary";get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||l_e}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e,this._changeDetectorRef.markForCheck())}_floatLabel;get appearance(){return this._appearance}set appearance(e){let i=this._appearance,o=e||this._defaults?.appearance||C$;this._appearance=o,this._appearance==="outline"&&this._appearance!==i&&(this._needsOutlineLabelOffsetUpdate=!0)}_appearance=C$;get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||S$}set subscriptSizing(e){this._subscriptSizing=e||this._defaults?.subscriptSizing||S$}_subscriptSizing=null;get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}_hintLabel="";_hasIconPrefix=!1;_hasTextPrefix=!1;_hasIconSuffix=!1;_hasTextSuffix=!1;_labelId=this._idGenerator.getId("mat-mdc-form-field-label-");_hintLabelId=this._idGenerator.getId("mat-mdc-hint-");get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(e){this._explicitFormFieldControl=e}_destroyed=new De;_isFocused=null;_explicitFormFieldControl;_needsOutlineLabelOffsetUpdate=!1;_previousControl=null;_previousControlValidatorFn=null;_stateChanges;_valueChanges;_describedByChanges;_animationsDisabled;constructor(){let e=this._defaults;e&&(e.appearance&&(this.appearance=e.appearance),this._hideRequiredMarker=!!e?.hideRequiredMarker,e.color&&(this.color=e.color)),this._animationsDisabled=y(Ei,{optional:!0})==="NoopAnimations"}ngAfterViewInit(){this._updateFocusState(),this._animationsDisabled||this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{this._elementRef.nativeElement.classList.add("mat-form-field-animations-enabled")},300)}),this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl(),this._control!==this._previousControl&&(this._initializeControl(this._previousControl),this._control.ngControl&&this._control.ngControl.control&&(this._previousControlValidatorFn=this._control.ngControl.control.validator),this._previousControl=this._control),this._control.ngControl&&this._control.ngControl.control&&this._control.ngControl.control.validator!==this._previousControlValidatorFn&&this._changeDetectorRef.markForCheck()}ngOnDestroy(){this._stateChanges?.unsubscribe(),this._valueChanges?.unsubscribe(),this._describedByChanges?.unsubscribe(),this._destroyed.next(),this._destroyed.complete()}getLabelId=Ri(()=>this._hasFloatingLabel()?this._labelId:null);getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(e){let i=this._control,o="mat-mdc-form-field-type-";e&&this._elementRef.nativeElement.classList.remove(o+e.controlType),i.controlType&&this._elementRef.nativeElement.classList.add(o+i.controlType),this._stateChanges?.unsubscribe(),this._stateChanges=i.stateChanges.subscribe(()=>{this._updateFocusState(),this._changeDetectorRef.markForCheck()}),this._describedByChanges?.unsubscribe(),this._describedByChanges=i.stateChanges.pipe(Ji([void 0,void 0]),rt(()=>[i.errorState,i.userAriaDescribedBy]),KA(),ii(([[r,s],[a,l]])=>r!==a||s!==l)).subscribe(()=>this._syncDescribedByIds()),this._valueChanges?.unsubscribe(),i.ngControl&&i.ngControl.valueChanges&&(this._valueChanges=i.ngControl.valueChanges.pipe(Ct(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()))}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(e=>!e._isText),this._hasTextPrefix=!!this._prefixChildren.find(e=>e._isText),this._hasIconSuffix=!!this._suffixChildren.find(e=>!e._isText),this._hasTextSuffix=!!this._suffixChildren.find(e=>e._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),nn(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){this._control}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||this._isFocused===null)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0),_x(()=>{this._needsOutlineLabelOffsetUpdate&&(this._needsOutlineLabelOffsetUpdate=!1,this._updateOutlineLabelOffset())},{injector:this._injector}),this._dir.change.pipe(Ct(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0)}_shouldAlwaysFloat(){return this.floatLabel==="always"}_hasOutline(){return this.appearance==="outline"}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel=Ri(()=>!!this._labelChild());_shouldLabelFloat(){return this._hasFloatingLabel()?this._control.shouldLabelFloat||this._shouldAlwaysFloat():!1}_shouldForward(e){let i=this._control?this._control.ngControl:null;return i&&i[e]}_getSubscriptMessageType(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){!this._hasOutline()||!this._floatingLabel||!this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(0):this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth())}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){this._hintChildren}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&typeof this._control.userAriaDescribedBy=="string"&&e.push(...this._control.userAriaDescribedBy.split(" ")),this._getSubscriptMessageType()==="hint"){let i=this._hintChildren?this._hintChildren.find(r=>r.align==="start"):null,o=this._hintChildren?this._hintChildren.find(r=>r.align==="end"):null;i?e.push(i.id):this._hintLabel&&e.push(this._hintLabelId),o&&e.push(o.id)}else this._errorChildren&&e.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(e)}}_updateOutlineLabelOffset(){if(!this._hasOutline()||!this._floatingLabel)return;let e=this._floatingLabel.element;if(!(this._iconPrefixContainer||this._textPrefixContainer)){e.style.transform="";return}if(!this._isAttachedToDom()){this._needsOutlineLabelOffsetUpdate=!0;return}let i=this._iconPrefixContainer?.nativeElement,o=this._textPrefixContainer?.nativeElement,r=this._iconSuffixContainer?.nativeElement,s=this._textSuffixContainer?.nativeElement,a=i?.getBoundingClientRect().width??0,l=o?.getBoundingClientRect().width??0,c=r?.getBoundingClientRect().width??0,d=s?.getBoundingClientRect().width??0,u=this._dir.value==="rtl"?"-1":"1",h=`${a+l}px`,f=`calc(${u} * (${h} + var(--mat-mdc-form-field-label-offset-x, 0px)))`;e.style.transform=`var(
        --mat-mdc-form-field-label-transform,
        ${c_e} translateX(${f})
    )`;let p=a+l+c+d;this._elementRef.nativeElement.style.setProperty("--mat-form-field-notch-max-width",`calc(100% - ${p}px)`)}_isAttachedToDom(){let e=this._elementRef.nativeElement;if(e.getRootNode){let i=e.getRootNode();return i&&i!==e}return document.documentElement.contains(e)}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Z({type:n,selectors:[["mat-form-field"]],contentQueries:function(i,o,r){if(i&1&&(Hj(r,o._labelChild,Fo,5),xt(r,Ff,5),xt(r,I$,5),xt(r,E$,5),xt(r,D$,5),xt(r,iy,5)),i&2){bx();let s;fe(s=ge())&&(o._formFieldControl=s.first),fe(s=ge())&&(o._prefixChildren=s),fe(s=ge())&&(o._suffixChildren=s),fe(s=ge())&&(o._errorChildren=s),fe(s=ge())&&(o._hintChildren=s)}},viewQuery:function(i,o){if(i&1&&(st(Fge,5),st(zge,5),st(Bge,5),st(Hge,5),st(Vge,5),st(b$,5),st(x$,5),st(w$,5)),i&2){let r;fe(r=ge())&&(o._textField=r.first),fe(r=ge())&&(o._iconPrefixContainer=r.first),fe(r=ge())&&(o._textPrefixContainer=r.first),fe(r=ge())&&(o._iconSuffixContainer=r.first),fe(r=ge())&&(o._textSuffixContainer=r.first),fe(r=ge())&&(o._floatingLabel=r.first),fe(r=ge())&&(o._notchedOutline=r.first),fe(r=ge())&&(o._lineRipple=r.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:40,hostBindings:function(i,o){i&2&&Se("mat-mdc-form-field-label-always-float",o._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",o._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",o._hasIconSuffix)("mat-form-field-invalid",o._control.errorState)("mat-form-field-disabled",o._control.disabled)("mat-form-field-autofilled",o._control.autofilled)("mat-form-field-appearance-fill",o.appearance=="fill")("mat-form-field-appearance-outline",o.appearance=="outline")("mat-form-field-hide-placeholder",o._hasFloatingLabel()&&!o._shouldLabelFloat())("mat-focused",o._control.focused)("mat-primary",o.color!=="accent"&&o.color!=="warn")("mat-accent",o.color==="accent")("mat-warn",o.color==="warn")("ng-untouched",o._shouldForward("untouched"))("ng-touched",o._shouldForward("touched"))("ng-pristine",o._shouldForward("pristine"))("ng-dirty",o._shouldForward("dirty"))("ng-valid",o._shouldForward("valid"))("ng-invalid",o._shouldForward("invalid"))("ng-pending",o._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[At([{provide:mu,useExisting:n},{provide:M$,useExisting:n}])],ngContentSelectors:jge,decls:20,vars:25,consts:[["labelTemplate",""],["textField",""],["iconPrefixContainer",""],["textPrefixContainer",""],["textSuffixContainer",""],["iconSuffixContainer",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],[1,"mat-mdc-form-field-focus-overlay"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[1,"mat-mdc-form-field-icon-prefix"],[1,"mat-mdc-form-field-text-prefix"],[1,"mat-mdc-form-field-infix"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align"],["aria-atomic","true","aria-live","polite"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[3,"id"],[1,"mat-mdc-form-field-hint-spacer"]],template:function(i,o){if(i&1){let r=Ft();wt(Wge),ee(0,Gge,1,1,"ng-template",null,0,wh),w(2,"div",6,1),de("click",function(a){return et(r),tt(o._control.onContainerClick(a))}),ee(4,$ge,1,0,"div",7),w(5,"div",8),ee(6,Xge,2,2,"div",9)(7,Zge,3,0,"div",10)(8,Qge,3,0,"div",11),w(9,"div",12),ee(10,e_e,1,1,null,13),Fe(11),x(),ee(12,t_e,3,0,"div",14)(13,i_e,3,0,"div",15),x(),ee(14,n_e,1,0,"div",16),x(),w(15,"div",17),Wj(16),w(17,"div",18),ee(18,o_e,1,0)(19,s_e,4,1),x()()}if(i&2){let r;D(2),Se("mdc-text-field--filled",!o._hasOutline())("mdc-text-field--outlined",o._hasOutline())("mdc-text-field--no-label",!o._hasFloatingLabel())("mdc-text-field--disabled",o._control.disabled)("mdc-text-field--invalid",o._control.errorState),D(2),Xe(!o._hasOutline()&&!o._control.disabled?4:-1),D(2),Xe(o._hasOutline()?6:-1),D(),Xe(o._hasIconPrefix?7:-1),D(),Xe(o._hasTextPrefix?8:-1),D(2),Xe(!o._hasOutline()||o._forceDisplayInfixLabel()?10:-1),D(2),Xe(o._hasTextSuffix?12:-1),D(),Xe(o._hasIconSuffix?13:-1),D(),Xe(o._hasOutline()?-1:14),D(),Se("mat-mdc-form-field-subscript-dynamic-size",o.subscriptSizing==="dynamic");let s=o._getSubscriptMessageType();D(2),Se("mat-mdc-form-field-error-wrapper",s==="error")("mat-mdc-form-field-hint-wrapper",s==="hint"),D(),Xe((r=s)==="error"?18:r==="hint"?19:-1)}},dependencies:[b$,x$,Hh,w$,iy],styles:[`.mdc-text-field{display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color;border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field__input{width:100%;min-width:0;border:none;border-radius:0;background:none;padding:0;-moz-appearance:none;-webkit-appearance:none;height:28px}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}.mdc-text-field__input::placeholder{opacity:0}.mdc-text-field__input::-moz-placeholder{opacity:0}.mdc-text-field__input::-webkit-input-placeholder{opacity:0}.mdc-text-field__input:-ms-input-placeholder{opacity:0}.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive::placeholder{opacity:0}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive::-moz-placeholder{opacity:0}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive::-webkit-input-placeholder{opacity:0}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive:-ms-input-placeholder{opacity:0}.mdc-text-field--outlined .mdc-text-field__input,.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color, var(--mat-sys-on-surface));caret-color:var(--mdc-filled-text-field-caret-color, var(--mat-sys-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color, var(--mat-sys-on-surface));caret-color:var(--mdc-outlined-text-field-caret-color, var(--mat-sys-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}@media(forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}}.mdc-text-field--filled{height:56px;border-bottom-right-radius:0;border-bottom-left-radius:0;border-top-left-radius:var(--mdc-filled-text-field-container-shape, var(--mat-sys-corner-extra-small));border-top-right-radius:var(--mdc-filled-text-field-container-shape, var(--mat-sys-corner-extra-small))}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color, var(--mat-sys-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 4%, transparent))}.mdc-text-field--outlined{height:56px;overflow:visible;padding-right:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small)));padding-left:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small)) + 4px)}[dir=rtl] .mdc-text-field--outlined{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small)) + 4px);padding-left:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small)))}.mdc-floating-label{position:absolute;left:0;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label{right:0;left:auto;transform-origin:right top;text-align:right}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:auto}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label{left:auto;right:4px}.mdc-text-field--filled .mdc-floating-label{left:16px;right:auto}[dir=rtl] .mdc-text-field--filled .mdc-floating-label{left:auto;right:16px}.mdc-text-field--disabled .mdc-floating-label{cursor:default}@media(forced-colors: active){.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-filled-text-field-label-text-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-focus-label-text-color, var(--mat-sys-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-filled-text-field-hover-label-text-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-filled-text-field-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-filled-text-field-error-label-text-color, var(--mat-sys-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-error-focus-label-text-color, var(--mat-sys-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-filled-text-field-error-hover-label-text-color, var(--mat-sys-on-error-container))}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font, var(--mat-sys-body-large-font));font-size:var(--mdc-filled-text-field-label-text-size, var(--mat-sys-body-large-size));font-weight:var(--mdc-filled-text-field-label-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mdc-filled-text-field-label-text-tracking, var(--mat-sys-body-large-tracking))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-outlined-text-field-label-text-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-focus-label-text-color, var(--mat-sys-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-hover-label-text-color, var(--mat-sys-on-surface))}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-outlined-text-field-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-outlined-text-field-error-label-text-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-error-focus-label-text-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-error-hover-label-text-color, var(--mat-sys-on-error-container))}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font, var(--mat-sys-body-large-font));font-size:var(--mdc-outlined-text-field-label-text-size, var(--mat-sys-body-large-size));font-weight:var(--mdc-outlined-text-field-label-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mdc-outlined-text-field-label-text-tracking, var(--mat-sys-body-large-tracking))}.mdc-floating-label--float-above{cursor:auto;transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1);font-size:.75rem}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline{text-align:right}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mat-mdc-notch-piece{box-sizing:border-box;height:100%;pointer-events:none;border-top:1px solid;border-bottom:1px solid}.mdc-text-field--focused .mat-mdc-notch-piece{border-width:2px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-outline-color, var(--mat-sys-outline));border-width:var(--mdc-outlined-text-field-outline-width, 1px)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-hover-outline-color, var(--mat-sys-on-surface))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-focus-outline-color, var(--mat-sys-primary))}.mdc-text-field--outlined.mdc-text-field--disabled .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-disabled-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-outline-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-notched-outline .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-hover-outline-color, var(--mat-sys-on-error-container))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-focus-outline-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mat-mdc-notch-piece{border-width:var(--mdc-outlined-text-field-focus-outline-width, 2px)}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small));border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small))}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small)))}[dir=rtl] .mdc-notched-outline__leading{border-left:none;border-right:1px solid;border-bottom-left-radius:0;border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small));border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small))}.mdc-notched-outline__trailing{flex-grow:1;border-left:none;border-right:1px solid;border-top-left-radius:0;border-bottom-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small));border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small))}[dir=rtl] .mdc-notched-outline__trailing{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small));border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small))}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:min(var(--mat-form-field-notch-max-width, 100%),100% - max(12px,var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small)))*2)}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none;--mat-form-field-notch-max-width: 100%}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1;border-bottom-width:var(--mdc-filled-text-field-active-indicator-height, 1px)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color, var(--mat-sys-on-surface))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color, var(--mat-sys-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color, var(--mat-sys-on-error-container))}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height, 2px)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color, var(--mat-sys-primary))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color, var(--mat-sys-error))}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-text-field--disabled{pointer-events:none}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all;will-change:auto}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto;will-change:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:1px solid rgba(0,0,0,0)}[dir=rtl] .mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:none;border-right:1px solid rgba(0,0,0,0)}.mat-mdc-form-field-infix{min-height:var(--mat-form-field-container-height, 56px);padding-top:var(--mat-form-field-filled-with-label-container-padding-top, 24px);padding-bottom:var(--mat-form-field-filled-with-label-container-padding-bottom, 8px)}.mdc-text-field--outlined .mat-mdc-form-field-infix,.mdc-text-field--no-label .mat-mdc-form-field-infix{padding-top:var(--mat-form-field-container-vertical-padding, 16px);padding-bottom:var(--mat-form-field-container-vertical-padding, 16px)}.mat-mdc-text-field-wrapper .mat-mdc-form-field-flex .mat-mdc-floating-label{top:calc(var(--mat-form-field-container-height, 56px)/2)}.mdc-text-field--filled .mat-mdc-floating-label{display:var(--mat-form-field-filled-label-display, block)}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{--mat-mdc-form-field-label-transform: translateY(calc(calc(6.75px + var(--mat-form-field-container-height, 56px) / 2) * -1)) scale(var(--mat-mdc-form-field-floating-label-scale, 0.75));transform:var(--mat-mdc-form-field-label-transform)}@keyframes _mat-form-field-subscript-animation{from{opacity:0;transform:translateY(-5px)}to{opacity:1;transform:translateY(0)}}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px;opacity:1;transform:translateY(0);animation:_mat-form-field-subscript-animation 0ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block;color:var(--mat-form-field-error-text-color, var(--mat-sys-error))}.mat-mdc-form-field-subscript-wrapper,.mat-mdc-form-field-bottom-align::before{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-subscript-text-font, var(--mat-sys-body-small-font));line-height:var(--mat-form-field-subscript-text-line-height, var(--mat-sys-body-small-line-height));font-size:var(--mat-form-field-subscript-text-size, var(--mat-sys-body-small-size));letter-spacing:var(--mat-form-field-subscript-text-tracking, var(--mat-sys-body-small-tracking));font-weight:var(--mat-form-field-subscript-text-weight, var(--mat-sys-body-small-weight))}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none;background-color:var(--mat-form-field-state-layer-color, var(--mat-sys-on-surface))}.mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-form-field.mat-focused .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-focus-state-layer-opacity, 0)}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option{color:var(--mat-form-field-select-option-text-color, var(--mat-sys-neutral10))}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option:disabled{color:var(--mat-form-field-select-disabled-option-text-color, color-mix(in srgb, var(--mat-sys-neutral10) 38%, transparent))}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none;color:var(--mat-form-field-enabled-select-arrow-color, var(--mat-sys-on-surface-variant))}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select.mat-focused .mat-mdc-form-field-infix::after{color:var(--mat-form-field-focus-select-arrow-color, var(--mat-sys-primary))}.mat-mdc-form-field-type-mat-native-select.mat-form-field-disabled .mat-mdc-form-field-infix::after{color:var(--mat-form-field-disabled-select-arrow-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}@media(forced-colors: active){.mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}}@media(forced-colors: active){.mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}}@media(forced-colors: active){.mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}}@media(forced-colors: active){.mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font, var(--mat-sys-body-large-font));line-height:var(--mat-form-field-container-text-line-height, var(--mat-sys-body-large-line-height));font-size:var(--mat-form-field-container-text-size, var(--mat-sys-body-large-size));letter-spacing:var(--mat-form-field-container-text-tracking, var(--mat-sys-body-large-tracking));font-weight:var(--mat-form-field-container-text-weight, var(--mat-sys-body-large-weight))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size)*var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%;z-index:0}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:0 12px;box-sizing:content-box}.mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-leading-icon-color, var(--mat-sys-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-disabled-leading-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-trailing-icon-color, var(--mat-sys-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-disabled-trailing-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-invalid .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-trailing-icon-color, var(--mat-sys-error))}.mat-form-field-invalid:not(.mat-focused):not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-hover-trailing-icon-color, var(--mat-sys-on-error-container))}.mat-form-field-invalid.mat-focused .mat-mdc-text-field-wrapper .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-focus-trailing-icon-color, var(--mat-sys-error))}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field-infix:has(textarea[cols]){width:auto}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input{transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input::placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input::-moz-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input::-webkit-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--focused .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field.mat-form-field-animations-enabled .mat-mdc-form-field-error-wrapper{animation-duration:300ms}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}
`],encapsulation:2,changeDetection:0})}return n})();var d_e=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Z({type:n,selectors:[["ng-component"]],hostAttrs:["cdk-text-field-style-loader",""],decls:0,vars:0,template:function(i,o){},styles:[`textarea.cdk-textarea-autosize{resize:none}textarea.cdk-textarea-autosize-measuring{padding:2px 0 !important;box-sizing:content-box !important;height:auto !important;overflow:hidden !important}textarea.cdk-textarea-autosize-measuring-firefox{padding:2px 0 !important;box-sizing:content-box !important;height:0 !important}@keyframes cdk-text-field-autofill-start{/*!*/}@keyframes cdk-text-field-autofill-end{/*!*/}.cdk-text-field-autofill-monitored:-webkit-autofill{animation:cdk-text-field-autofill-start 0s 1ms}.cdk-text-field-autofill-monitored:not(:-webkit-autofill){animation:cdk-text-field-autofill-end 0s 1ms}
`],encapsulation:2,changeDetection:0})}return n})(),u_e={passive:!0},O$=(()=>{class n{_platform=y(Wt);_ngZone=y(Ye);_renderer=y(Qo).createRenderer(null,null);_styleLoader=y(xn);_monitoredElements=new Map;constructor(){}monitor(e){if(!this._platform.isBrowser)return xa;this._styleLoader.load(d_e);let i=Hr(e),o=this._monitoredElements.get(i);if(o)return o.subject;let r=new De,s="cdk-text-field-autofilled",a=c=>{c.animationName==="cdk-text-field-autofill-start"&&!i.classList.contains(s)?(i.classList.add(s),this._ngZone.run(()=>r.next({target:c.target,isAutofilled:!0}))):c.animationName==="cdk-text-field-autofill-end"&&i.classList.contains(s)&&(i.classList.remove(s),this._ngZone.run(()=>r.next({target:c.target,isAutofilled:!1})))},l=this._ngZone.runOutsideAngular(()=>(i.classList.add("cdk-text-field-autofill-monitored"),is(this._renderer,i,"animationstart",a,u_e)));return this._monitoredElements.set(i,{subject:r,unlisten:l}),r}stopMonitoring(e){let i=Hr(e),o=this._monitoredElements.get(i);o&&(o.unlisten(),o.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((e,i)=>this.stopMonitoring(i))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=se({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var P$=new ae("MAT_INPUT_VALUE_ACCESSOR");var zD=(()=>{class n{isErrorState(e,i){return!!(e&&e.invalid&&(e.touched||i&&i.submitted))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=se({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var zf=class{_defaultMatcher;ngControl;_parentFormGroup;_parentForm;_stateChanges;errorState=!1;matcher;constructor(t,e,i,o,r){this._defaultMatcher=t,this.ngControl=e,this._parentFormGroup=i,this._parentForm=o,this._stateChanges=r}updateErrorState(){let t=this.errorState,e=this._parentFormGroup||this._parentForm,i=this.matcher||this._defaultMatcher,o=this.ngControl?this.ngControl.control:null,r=i?.isErrorState(o,e)??!1;r!==t&&(this.errorState=r,this._stateChanges.next())}};var h_e=["button","checkbox","file","hidden","image","radio","range","reset","submit"],m_e=new ae("MAT_INPUT_CONFIG"),pu=(()=>{class n{_elementRef=y(Oe);_platform=y(Wt);ngControl=y(aa,{optional:!0,self:!0});_autofillMonitor=y(O$);_ngZone=y(Ye);_formField=y(mu,{optional:!0});_renderer=y(Li);_uid=y(Bn).getId("mat-input-");_previousNativeValue;_inputValueAccessor;_signalBasedValueAccessor;_previousPlaceholder;_errorStateTracker;_config=y(m_e,{optional:!0});_cleanupIosKeyup;_cleanupWebkitWheel;_formFieldDescribedBy;_isServer;_isNativeSelect;_isTextarea;_isInFormField;focused=!1;stateChanges=new De;controlType="mat-input";autofilled=!1;get disabled(){return this._disabled}set disabled(e){this._disabled=fn(e),this.focused&&(this.focused=!1,this.stateChanges.next())}_disabled=!1;get id(){return this._id}set id(e){this._id=e||this._uid}_id;placeholder;name;get required(){return this._required??this.ngControl?.control?.hasValidator(im.required)??!1}set required(e){this._required=fn(e)}_required;get type(){return this._type}set type(e){let i=this._type;this._type=e||"text",this._validateType(),!this._isTextarea&&xP().has(this._type)&&(this._elementRef.nativeElement.type=this._type),this._type!==i&&this._ensureWheelDefaultBehavior()}_type="text";get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(e){this._errorStateTracker.matcher=e}userAriaDescribedBy;get value(){return this._signalBasedValueAccessor?this._signalBasedValueAccessor.value():this._inputValueAccessor.value}set value(e){e!==this.value&&(this._signalBasedValueAccessor?this._signalBasedValueAccessor.value.set(e):this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=fn(e)}_readonly=!1;disabledInteractive;get errorState(){return this._errorStateTracker.errorState}set errorState(e){this._errorStateTracker.errorState=e}_neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(e=>xP().has(e));constructor(){let e=y(Lf,{optional:!0}),i=y(Nf,{optional:!0}),o=y(zD),r=y(P$,{optional:!0,self:!0}),s=this._elementRef.nativeElement,a=s.nodeName.toLowerCase();r?gh(r.value)?this._signalBasedValueAccessor=r:this._inputValueAccessor=r:this._inputValueAccessor=s,this._previousNativeValue=this.value,this.id=this.id,this._platform.IOS&&this._ngZone.runOutsideAngular(()=>{this._cleanupIosKeyup=this._renderer.listen(s,"keyup",this._iOSKeyupListener)}),this._errorStateTracker=new zf(o,this.ngControl,i,e,this.stateChanges),this._isServer=!this._platform.isBrowser,this._isNativeSelect=a==="select",this._isTextarea=a==="textarea",this._isInFormField=!!this._formField,this.disabledInteractive=this._config?.disabledInteractive||!1,this._isNativeSelect&&(this.controlType=s.multiple?"mat-native-select-multiple":"mat-native-select"),this._signalBasedValueAccessor&&cn(()=>{this._signalBasedValueAccessor.value(),this.stateChanges.next()})}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._cleanupIosKeyup?.(),this._cleanupWebkitWheel?.()}ngDoCheck(){this.ngControl&&(this.updateErrorState(),this.ngControl.disabled!==null&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}updateErrorState(){this._errorStateTracker.updateErrorState()}_focusChanged(e){if(e!==this.focused){if(!this._isNativeSelect&&e&&this.disabled&&this.disabledInteractive){let i=this._elementRef.nativeElement;i.type==="number"?(i.type="text",i.setSelectionRange(0,0),i.type="number"):i.setSelectionRange(0,0)}this.focused=e,this.stateChanges.next()}}_onInput(){}_dirtyCheckNativeValue(){let e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_dirtyCheckPlaceholder(){let e=this._getPlaceholder();if(e!==this._previousPlaceholder){let i=this._elementRef.nativeElement;this._previousPlaceholder=e,e?i.setAttribute("placeholder",e):i.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){h_e.indexOf(this._type)>-1}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!this._isNeverEmpty()&&!this._elementRef.nativeElement.value&&!this._isBadInput()&&!this.autofilled}get shouldLabelFloat(){if(this._isNativeSelect){let e=this._elementRef.nativeElement,i=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&i&&i.label)}else return this.focused&&!this.disabled||!this.empty}setDescribedByIds(e){let i=this._elementRef.nativeElement,o=i.getAttribute("aria-describedby"),r;if(o){let s=this._formFieldDescribedBy||e;r=e.concat(o.split(" ").filter(a=>a&&!s.includes(a)))}else r=e;this._formFieldDescribedBy=e,r.length?i.setAttribute("aria-describedby",r.join(" ")):i.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){let e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}_iOSKeyupListener=e=>{let i=e.target;!i.value&&i.selectionStart===0&&i.selectionEnd===0&&(i.setSelectionRange(1,1),i.setSelectionRange(0,0))};_webkitBlinkWheelListener=()=>{};_ensureWheelDefaultBehavior(){this._cleanupWebkitWheel?.(),this._type==="number"&&(this._platform.BLINK||this._platform.WEBKIT)&&(this._cleanupWebkitWheel=this._renderer.listen(this._elementRef.nativeElement,"wheel",this._webkitBlinkWheelListener))}_getReadonlyAttribute(){return this._isNativeSelect?null:this.readonly||this.disabled&&this.disabledInteractive?"true":null}static \u0275fac=function(i){return new(i||n)};static \u0275dir=me({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:21,hostBindings:function(i,o){i&1&&de("focus",function(){return o._focusChanged(!0)})("blur",function(){return o._focusChanged(!1)})("input",function(){return o._onInput()}),i&2&&(fs("id",o.id)("disabled",o.disabled&&!o.disabledInteractive)("required",o.required),ke("name",o.name||null)("readonly",o._getReadonlyAttribute())("aria-disabled",o.disabled&&o.disabledInteractive?"true":null)("aria-invalid",o.empty&&o.required?null:o.errorState)("aria-required",o.required)("id",o.id),Se("mat-input-server",o._isServer)("mat-mdc-form-field-textarea-control",o._isInFormField&&o._isTextarea)("mat-mdc-form-field-input-control",o._isInFormField)("mat-mdc-input-disabled-interactive",o.disabledInteractive)("mdc-text-field__input",o._isInFormField)("mat-mdc-native-select-inline",o._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly",disabledInteractive:[2,"disabledInteractive","disabledInteractive",Ke]},exportAs:["matInput"],features:[At([{provide:Ff,useExisting:n}]),fi]})}return n})();var p_e=[[["caption"]],[["colgroup"],["col"]],"*"],f_e=["caption","colgroup, col","*"];function g_e(n,t){n&1&&Fe(0,2)}function __e(n,t){n&1&&(w(0,"thead",0),ln(1,1),x(),w(2,"tbody",0),ln(3,2)(4,3),x(),w(5,"tfoot",0),ln(6,4),x())}function v_e(n,t){n&1&&ln(0,1)(1,2)(2,3)(3,4)}var Ga=new ae("CDK_TABLE");var UD=(()=>{class n{template=y(vo);constructor(){}static \u0275fac=function(i){return new(i||n)};static \u0275dir=me({type:n,selectors:[["","cdkCellDef",""]]})}return n})(),qD=(()=>{class n{template=y(vo);constructor(){}static \u0275fac=function(i){return new(i||n)};static \u0275dir=me({type:n,selectors:[["","cdkHeaderCellDef",""]]})}return n})(),F$=(()=>{class n{template=y(vo);constructor(){}static \u0275fac=function(i){return new(i||n)};static \u0275dir=me({type:n,selectors:[["","cdkFooterCellDef",""]]})}return n})(),Bf=(()=>{class n{_table=y(Ga,{optional:!0});_hasStickyChanged=!1;get name(){return this._name}set name(e){this._setNameInput(e)}_name;get sticky(){return this._sticky}set sticky(e){e!==this._sticky&&(this._sticky=e,this._hasStickyChanged=!0)}_sticky=!1;get stickyEnd(){return this._stickyEnd}set stickyEnd(e){e!==this._stickyEnd&&(this._stickyEnd=e,this._hasStickyChanged=!0)}_stickyEnd=!1;cell;headerCell;footerCell;cssClassFriendlyName;_columnCssClassName;constructor(){}hasStickyChanged(){let e=this._hasStickyChanged;return this.resetStickyChanged(),e}resetStickyChanged(){this._hasStickyChanged=!1}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(e){e&&(this._name=e,this.cssClassFriendlyName=e.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}static \u0275fac=function(i){return new(i||n)};static \u0275dir=me({type:n,selectors:[["","cdkColumnDef",""]],contentQueries:function(i,o,r){if(i&1&&(xt(r,UD,5),xt(r,qD,5),xt(r,F$,5)),i&2){let s;fe(s=ge())&&(o.cell=s.first),fe(s=ge())&&(o.headerCell=s.first),fe(s=ge())&&(o.footerCell=s.first)}},inputs:{name:[0,"cdkColumnDef","name"],sticky:[2,"sticky","sticky",Ke],stickyEnd:[2,"stickyEnd","stickyEnd",Ke]},features:[At([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}])]})}return n})(),HD=class{constructor(t,e){e.nativeElement.classList.add(...t._columnCssClassName)}},z$=(()=>{class n extends HD{constructor(){super(y(Bf),y(Oe))}static \u0275fac=function(i){return new(i||n)};static \u0275dir=me({type:n,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[ut]})}return n})();var B$=(()=>{class n extends HD{constructor(){let e=y(Bf),i=y(Oe);super(e,i);let o=e._table?._getCellRole();o&&i.nativeElement.setAttribute("role",o)}static \u0275fac=function(i){return new(i||n)};static \u0275dir=me({type:n,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[ut]})}return n})(),VD=class{tasks=[];endTasks=[]},WD=new ae("_COALESCED_STYLE_SCHEDULER"),GP=(()=>{class n{_currentSchedule=null;_ngZone=y(Ye);constructor(){}schedule(e){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(e)}scheduleEnd(e){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(e)}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new VD,this._ngZone.runOutsideAngular(()=>queueMicrotask(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){let e=this._currentSchedule;this._currentSchedule=new VD;for(let i of e.tasks)i();for(let i of e.endTasks)i()}this._currentSchedule=null})))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=se({token:n,factory:n.\u0275fac})}return n})();var $P=(()=>{class n{template=y(vo);_differs=y(_c);columns;_columnsDiffer;constructor(){}ngOnChanges(e){if(!this._columnsDiffer){let i=e.columns&&e.columns.currentValue||[];this._columnsDiffer=this._differs.find(i).create(),this._columnsDiffer.diff(i)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(e){return this instanceof ny?e.headerCell.template:this instanceof KP?e.footerCell.template:e.cell.template}static \u0275fac=function(i){return new(i||n)};static \u0275dir=me({type:n,features:[fi]})}return n})(),ny=(()=>{class n extends $P{_table=y(Ga,{optional:!0});_hasStickyChanged=!1;get sticky(){return this._sticky}set sticky(e){e!==this._sticky&&(this._sticky=e,this._hasStickyChanged=!0)}_sticky=!1;constructor(){super(y(vo),y(_c))}ngOnChanges(e){super.ngOnChanges(e)}hasStickyChanged(){let e=this._hasStickyChanged;return this.resetStickyChanged(),e}resetStickyChanged(){this._hasStickyChanged=!1}static \u0275fac=function(i){return new(i||n)};static \u0275dir=me({type:n,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:[0,"cdkHeaderRowDef","columns"],sticky:[2,"cdkHeaderRowDefSticky","sticky",Ke]},features:[ut,fi]})}return n})(),KP=(()=>{class n extends $P{_table=y(Ga,{optional:!0});_hasStickyChanged=!1;get sticky(){return this._sticky}set sticky(e){e!==this._sticky&&(this._sticky=e,this._hasStickyChanged=!0)}_sticky=!1;constructor(){super(y(vo),y(_c))}ngOnChanges(e){super.ngOnChanges(e)}hasStickyChanged(){let e=this._hasStickyChanged;return this.resetStickyChanged(),e}resetStickyChanged(){this._hasStickyChanged=!1}static \u0275fac=function(i){return new(i||n)};static \u0275dir=me({type:n,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:[0,"cdkFooterRowDef","columns"],sticky:[2,"cdkFooterRowDefSticky","sticky",Ke]},features:[ut,fi]})}return n})(),GD=(()=>{class n extends $P{_table=y(Ga,{optional:!0});when;constructor(){super(y(vo),y(_c))}static \u0275fac=function(i){return new(i||n)};static \u0275dir=me({type:n,selectors:[["","cdkRowDef",""]],inputs:{columns:[0,"cdkRowDefColumns","columns"],when:[0,"cdkRowDefWhen","when"]},features:[ut]})}return n})(),sm=(()=>{class n{_viewContainer=y(io);cells;context;static mostRecentCellOutlet=null;constructor(){n.mostRecentCellOutlet=this}ngOnDestroy(){n.mostRecentCellOutlet===this&&(n.mostRecentCellOutlet=null)}static \u0275fac=function(i){return new(i||n)};static \u0275dir=me({type:n,selectors:[["","cdkCellOutlet",""]]})}return n})(),YP=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Z({type:n,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(i,o){i&1&&ln(0,0)},dependencies:[sm],encapsulation:2})}return n})();var XP=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Z({type:n,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(i,o){i&1&&ln(0,0)},dependencies:[sm],encapsulation:2})}return n})(),H$=(()=>{class n{templateRef=y(vo);_contentClassName="cdk-no-data-row";constructor(){}static \u0275fac=function(i){return new(i||n)};static \u0275dir=me({type:n,selectors:[["ng-template","cdkNoDataRow",""]]})}return n})(),L$=["top","bottom","left","right"],qP=class{_isNativeHtmlTable;_stickCellCss;direction;_coalescedStyleScheduler;_isBrowser;_needsPositionStickyOnElement;_positionListener;_tableInjector;_elemSizeCache=new WeakMap;_resizeObserver=globalThis?.ResizeObserver?new globalThis.ResizeObserver(t=>this._updateCachedSizes(t)):null;_updatedStickyColumnsParamsToReplay=[];_stickyColumnsReplayTimeout=null;_cachedCellWidths=[];_borderCellCss;_destroyed=!1;constructor(t,e,i,o,r=!0,s=!0,a,l){this._isNativeHtmlTable=t,this._stickCellCss=e,this.direction=i,this._coalescedStyleScheduler=o,this._isBrowser=r,this._needsPositionStickyOnElement=s,this._positionListener=a,this._tableInjector=l,this._borderCellCss={top:`${e}-border-elem-top`,bottom:`${e}-border-elem-bottom`,left:`${e}-border-elem-left`,right:`${e}-border-elem-right`}}clearStickyPositioning(t,e){(e.includes("left")||e.includes("right"))&&this._removeFromStickyColumnReplayQueue(t);let i=[];for(let o of t)o.nodeType===o.ELEMENT_NODE&&i.push(o,...Array.from(o.children));this._afterNextRender({write:()=>{for(let o of i)this._removeStickyStyle(o,e)}})}updateStickyColumns(t,e,i,o=!0,r=!0){if(!t.length||!this._isBrowser||!(e.some(g=>g)||i.some(g=>g))){this._positionListener?.stickyColumnsUpdated({sizes:[]}),this._positionListener?.stickyEndColumnsUpdated({sizes:[]});return}let s=t[0],a=s.children.length,l=this.direction==="rtl",c=l?"right":"left",d=l?"left":"right",u=e.lastIndexOf(!0),h=i.indexOf(!0),m,f,p;r&&this._updateStickyColumnReplayQueue({rows:[...t],stickyStartStates:[...e],stickyEndStates:[...i]}),this._afterNextRender({earlyRead:()=>{m=this._getCellWidths(s,o),f=this._getStickyStartColumnPositions(m,e),p=this._getStickyEndColumnPositions(m,i)},write:()=>{for(let g of t)for(let v=0;v<a;v++){let b=g.children[v];e[v]&&this._addStickyStyle(b,c,f[v],v===u),i[v]&&this._addStickyStyle(b,d,p[v],v===h)}this._positionListener&&m.some(g=>!!g)&&(this._positionListener.stickyColumnsUpdated({sizes:u===-1?[]:m.slice(0,u+1).map((g,v)=>e[v]?g:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:h===-1?[]:m.slice(h).map((g,v)=>i[v+h]?g:null).reverse()}))}})}stickRows(t,e,i){if(!this._isBrowser)return;let o=i==="bottom"?t.slice().reverse():t,r=i==="bottom"?e.slice().reverse():e,s=[],a=[],l=[];this._afterNextRender({earlyRead:()=>{for(let c=0,d=0;c<o.length;c++){if(!r[c])continue;s[c]=d;let u=o[c];l[c]=this._isNativeHtmlTable?Array.from(u.children):[u];let h=this._retrieveElementSize(u).height;d+=h,a[c]=h}},write:()=>{let c=r.lastIndexOf(!0);for(let d=0;d<o.length;d++){if(!r[d])continue;let u=s[d],h=d===c;for(let m of l[d])this._addStickyStyle(m,i,u,h)}i==="top"?this._positionListener?.stickyHeaderRowsUpdated({sizes:a,offsets:s,elements:l}):this._positionListener?.stickyFooterRowsUpdated({sizes:a,offsets:s,elements:l})}})}updateStickyFooterContainer(t,e){this._isNativeHtmlTable&&this._afterNextRender({write:()=>{let i=t.querySelector("tfoot");i&&(e.some(o=>!o)?this._removeStickyStyle(i,["bottom"]):this._addStickyStyle(i,"bottom",0,!1))}})}destroy(){this._stickyColumnsReplayTimeout&&clearTimeout(this._stickyColumnsReplayTimeout),this._resizeObserver?.disconnect(),this._destroyed=!0}_removeStickyStyle(t,e){if(!t.classList.contains(this._stickCellCss))return;for(let o of e)t.style[o]="",t.classList.remove(this._borderCellCss[o]);L$.some(o=>e.indexOf(o)===-1&&t.style[o])?t.style.zIndex=this._getCalculatedZIndex(t):(t.style.zIndex="",this._needsPositionStickyOnElement&&(t.style.position=""),t.classList.remove(this._stickCellCss))}_addStickyStyle(t,e,i,o){t.classList.add(this._stickCellCss),o&&t.classList.add(this._borderCellCss[e]),t.style[e]=`${i}px`,t.style.zIndex=this._getCalculatedZIndex(t),this._needsPositionStickyOnElement&&(t.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(t){let e={top:100,bottom:10,left:1,right:1},i=0;for(let o of L$)t.style[o]&&(i+=e[o]);return i?`${i}`:""}_getCellWidths(t,e=!0){if(!e&&this._cachedCellWidths.length)return this._cachedCellWidths;let i=[],o=t.children;for(let r=0;r<o.length;r++){let s=o[r];i.push(this._retrieveElementSize(s).width)}return this._cachedCellWidths=i,i}_getStickyStartColumnPositions(t,e){let i=[],o=0;for(let r=0;r<t.length;r++)e[r]&&(i[r]=o,o+=t[r]);return i}_getStickyEndColumnPositions(t,e){let i=[],o=0;for(let r=t.length;r>0;r--)e[r]&&(i[r]=o,o+=t[r]);return i}_retrieveElementSize(t){let e=this._elemSizeCache.get(t);if(e)return e;let i=t.getBoundingClientRect(),o={width:i.width,height:i.height};return this._resizeObserver&&(this._elemSizeCache.set(t,o),this._resizeObserver.observe(t,{box:"border-box"})),o}_updateStickyColumnReplayQueue(t){this._removeFromStickyColumnReplayQueue(t.rows),this._stickyColumnsReplayTimeout||this._updatedStickyColumnsParamsToReplay.push(t)}_removeFromStickyColumnReplayQueue(t){let e=new Set(t);for(let i of this._updatedStickyColumnsParamsToReplay)i.rows=i.rows.filter(o=>!e.has(o));this._updatedStickyColumnsParamsToReplay=this._updatedStickyColumnsParamsToReplay.filter(i=>!!i.rows.length)}_updateCachedSizes(t){let e=!1;for(let i of t){let o=i.borderBoxSize?.length?{width:i.borderBoxSize[0].inlineSize,height:i.borderBoxSize[0].blockSize}:{width:i.contentRect.width,height:i.contentRect.height};o.width!==this._elemSizeCache.get(i.target)?.width&&b_e(i.target)&&(e=!0),this._elemSizeCache.set(i.target,o)}e&&this._updatedStickyColumnsParamsToReplay.length&&(this._stickyColumnsReplayTimeout&&clearTimeout(this._stickyColumnsReplayTimeout),this._stickyColumnsReplayTimeout=setTimeout(()=>{if(!this._destroyed){for(let i of this._updatedStickyColumnsParamsToReplay)this.updateStickyColumns(i.rows,i.stickyStartStates,i.stickyEndStates,!0,!1);this._updatedStickyColumnsParamsToReplay=[],this._stickyColumnsReplayTimeout=null}},0))}_afterNextRender(t){this._tableInjector?To(t,{injector:this._tableInjector}):this._coalescedStyleScheduler.schedule(()=>{t.earlyRead?.(),t.write()})}};function b_e(n){return["cdk-cell","cdk-header-cell","cdk-footer-cell"].some(t=>n.classList.contains(t))}var jD=new ae("CDK_SPL");var ZP=(()=>{class n{viewContainer=y(io);elementRef=y(Oe);constructor(){let e=y(Ga);e._rowOutlet=this,e._outletAssigned()}static \u0275fac=function(i){return new(i||n)};static \u0275dir=me({type:n,selectors:[["","rowOutlet",""]]})}return n})(),QP=(()=>{class n{viewContainer=y(io);elementRef=y(Oe);constructor(){let e=y(Ga);e._headerRowOutlet=this,e._outletAssigned()}static \u0275fac=function(i){return new(i||n)};static \u0275dir=me({type:n,selectors:[["","headerRowOutlet",""]]})}return n})(),JP=(()=>{class n{viewContainer=y(io);elementRef=y(Oe);constructor(){let e=y(Ga);e._footerRowOutlet=this,e._outletAssigned()}static \u0275fac=function(i){return new(i||n)};static \u0275dir=me({type:n,selectors:[["","footerRowOutlet",""]]})}return n})(),eL=(()=>{class n{viewContainer=y(io);elementRef=y(Oe);constructor(){let e=y(Ga);e._noDataRowOutlet=this,e._outletAssigned()}static \u0275fac=function(i){return new(i||n)};static \u0275dir=me({type:n,selectors:[["","noDataRowOutlet",""]]})}return n})();var tL=(()=>{class n{_differs=y(_c);_changeDetectorRef=y(Gt);_elementRef=y(Oe);_dir=y(en,{optional:!0});_platform=y(Wt);_viewRepeater=y(Mf);_coalescedStyleScheduler=y(WD);_viewportRuler=y(ra);_stickyPositioningListener=y(jD,{optional:!0,skipSelf:!0});_document=y(dt);_data;_onDestroy=new De;_renderRows;_renderChangeSubscription;_columnDefsByName=new Map;_rowDefs;_headerRowDefs;_footerRowDefs;_dataDiffer;_defaultRowDef;_customColumnDefs=new Set;_customRowDefs=new Set;_customHeaderRowDefs=new Set;_customFooterRowDefs=new Set;_customNoDataRow;_headerRowDefChanged=!0;_footerRowDefChanged=!0;_stickyColumnStylesNeedReset=!0;_forceRecalculateCellWidths=!0;_cachedRenderRowsMap=new Map;_isNativeHtmlTable;_stickyStyler;stickyCssClass="cdk-table-sticky";needsPositionStickyOnElement=!0;_isServer;_isShowingNoDataRow=!1;_hasAllOutlets=!1;_hasInitialized=!1;_getCellRole(){if(this._cellRoleInternal===void 0){let e=this._elementRef.nativeElement.getAttribute("role");return e==="grid"||e==="treegrid"?"gridcell":"cell"}return this._cellRoleInternal}_cellRoleInternal=void 0;get trackBy(){return this._trackByFn}set trackBy(e){this._trackByFn=e}_trackByFn;get dataSource(){return this._dataSource}set dataSource(e){this._dataSource!==e&&this._switchDataSource(e)}_dataSource;get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(e){this._multiTemplateDataRows=e,this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}_multiTemplateDataRows=!1;get fixedLayout(){return this._fixedLayout}set fixedLayout(e){this._fixedLayout=e,this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}_fixedLayout=!1;contentChanged=new Le;viewChange=new go({start:0,end:Number.MAX_VALUE});_rowOutlet;_headerRowOutlet;_footerRowOutlet;_noDataRowOutlet;_contentColumnDefs;_contentRowDefs;_contentHeaderRowDefs;_contentFooterRowDefs;_noDataRow;_injector=y(_i);constructor(){y(new hp("role"),{optional:!0})||this._elementRef.nativeElement.setAttribute("role","table"),this._isServer=!this._platform.isBrowser,this._isNativeHtmlTable=this._elementRef.nativeElement.nodeName==="TABLE",this._dataDiffer=this._differs.find([]).create((i,o)=>this.trackBy?this.trackBy(o.dataIndex,o.data):o)}ngOnInit(){this._setupStickyStyler(),this._viewportRuler.change().pipe(Ct(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentInit(){this._hasInitialized=!0}ngAfterContentChecked(){this._canRender()&&this._render()}ngOnDestroy(){this._stickyStyler?.destroy(),[this._rowOutlet?.viewContainer,this._headerRowOutlet?.viewContainer,this._footerRowOutlet?.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(e=>{e?.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),Lb(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();let e=this._dataDiffer.diff(this._renderRows);if(!e){this._updateNoDataRow(),this.contentChanged.next();return}let i=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(e,i,(o,r,s)=>this._getEmbeddedViewArgs(o.item,s),o=>o.item.data,o=>{o.operation===ou.INSERTED&&o.context&&this._renderCellTemplateForItem(o.record.item.rowDef,o.context)}),this._updateRowIndexContext(),e.forEachIdentityChange(o=>{let r=i.get(o.currentIndex);r.context.$implicit=o.item.data}),this._updateNoDataRow(),this.contentChanged.next(),this.updateStickyColumnStyles()}addColumnDef(e){this._customColumnDefs.add(e)}removeColumnDef(e){this._customColumnDefs.delete(e)}addRowDef(e){this._customRowDefs.add(e)}removeRowDef(e){this._customRowDefs.delete(e)}addHeaderRowDef(e){this._customHeaderRowDefs.add(e),this._headerRowDefChanged=!0}removeHeaderRowDef(e){this._customHeaderRowDefs.delete(e),this._headerRowDefChanged=!0}addFooterRowDef(e){this._customFooterRowDefs.add(e),this._footerRowDefChanged=!0}removeFooterRowDef(e){this._customFooterRowDefs.delete(e),this._footerRowDefChanged=!0}setNoDataRow(e){this._customNoDataRow=e}updateStickyHeaderRowStyles(){let e=this._getRenderedRows(this._headerRowOutlet);if(this._isNativeHtmlTable){let o=N$(this._headerRowOutlet,"thead");o&&(o.style.display=e.length?"":"none")}let i=this._headerRowDefs.map(o=>o.sticky);this._stickyStyler.clearStickyPositioning(e,["top"]),this._stickyStyler.stickRows(e,i,"top"),this._headerRowDefs.forEach(o=>o.resetStickyChanged())}updateStickyFooterRowStyles(){let e=this._getRenderedRows(this._footerRowOutlet);if(this._isNativeHtmlTable){let o=N$(this._footerRowOutlet,"tfoot");o&&(o.style.display=e.length?"":"none")}let i=this._footerRowDefs.map(o=>o.sticky);this._stickyStyler.clearStickyPositioning(e,["bottom"]),this._stickyStyler.stickRows(e,i,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,i),this._footerRowDefs.forEach(o=>o.resetStickyChanged())}updateStickyColumnStyles(){let e=this._getRenderedRows(this._headerRowOutlet),i=this._getRenderedRows(this._rowOutlet),o=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...e,...i,...o],["left","right"]),this._stickyColumnStylesNeedReset=!1),e.forEach((r,s)=>{this._addStickyColumnStyles([r],this._headerRowDefs[s])}),this._rowDefs.forEach(r=>{let s=[];for(let a=0;a<i.length;a++)this._renderRows[a].rowDef===r&&s.push(i[a]);this._addStickyColumnStyles(s,r)}),o.forEach((r,s)=>{this._addStickyColumnStyles([r],this._footerRowDefs[s])}),Array.from(this._columnDefsByName.values()).forEach(r=>r.resetStickyChanged())}_outletAssigned(){!this._hasAllOutlets&&this._rowOutlet&&this._headerRowOutlet&&this._footerRowOutlet&&this._noDataRowOutlet&&(this._hasAllOutlets=!0,this._canRender()&&this._render())}_canRender(){return this._hasAllOutlets&&this._hasInitialized}_render(){this._cacheRowDefs(),this._cacheColumnDefs(),!this._headerRowDefs.length&&!this._footerRowDefs.length&&this._rowDefs.length;let i=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||i,this._forceRecalculateCellWidths=i,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}_getAllRenderRows(){let e=[],i=this._cachedRenderRowsMap;if(this._cachedRenderRowsMap=new Map,!this._data)return e;for(let o=0;o<this._data.length;o++){let r=this._data[o],s=this._getRenderRowsForData(r,o,i.get(r));this._cachedRenderRowsMap.has(r)||this._cachedRenderRowsMap.set(r,new WeakMap);for(let a=0;a<s.length;a++){let l=s[a],c=this._cachedRenderRowsMap.get(l.data);c.has(l.rowDef)?c.get(l.rowDef).push(l):c.set(l.rowDef,[l]),e.push(l)}}return e}_getRenderRowsForData(e,i,o){return this._getRowDefs(e,i).map(s=>{let a=o&&o.has(s)?o.get(s):[];if(a.length){let l=a.shift();return l.dataIndex=i,l}else return{data:e,rowDef:s,dataIndex:i}})}_cacheColumnDefs(){this._columnDefsByName.clear(),BD(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(i=>{this._columnDefsByName.has(i.name),this._columnDefsByName.set(i.name,i)})}_cacheRowDefs(){this._headerRowDefs=BD(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=BD(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=BD(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);let e=this._rowDefs.filter(i=>!i.when);!this.multiTemplateDataRows&&e.length>1,this._defaultRowDef=e[0]}_renderUpdatedColumns(){let e=(s,a)=>{let l=!!a.getColumnsDiff();return s||l},i=this._rowDefs.reduce(e,!1);i&&this._forceRenderDataRows();let o=this._headerRowDefs.reduce(e,!1);o&&this._forceRenderHeaderRows();let r=this._footerRowDefs.reduce(e,!1);return r&&this._forceRenderFooterRows(),i||o||r}_switchDataSource(e){this._data=[],Lb(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),e||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet&&this._rowOutlet.viewContainer.clear()),this._dataSource=e}_observeRenderChanges(){if(!this.dataSource)return;let e;Lb(this.dataSource)?e=this.dataSource.connect(this):iv(this.dataSource)?e=this.dataSource:Array.isArray(this.dataSource)&&(e=Ve(this.dataSource)),this._renderChangeSubscription=e.pipe(Ct(this._onDestroy)).subscribe(i=>{this._data=i||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((e,i)=>this._renderRow(this._headerRowOutlet,e,i)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((e,i)=>this._renderRow(this._footerRowOutlet,e,i)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(e,i){let o=Array.from(i?.columns||[]).map(a=>{let l=this._columnDefsByName.get(a);return l}),r=o.map(a=>a.sticky),s=o.map(a=>a.stickyEnd);this._stickyStyler.updateStickyColumns(e,r,s,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(e){let i=[];for(let o=0;o<e.viewContainer.length;o++){let r=e.viewContainer.get(o);i.push(r.rootNodes[0])}return i}_getRowDefs(e,i){if(this._rowDefs.length==1)return[this._rowDefs[0]];let o=[];if(this.multiTemplateDataRows)o=this._rowDefs.filter(r=>!r.when||r.when(i,e));else{let r=this._rowDefs.find(s=>s.when&&s.when(i,e))||this._defaultRowDef;r&&o.push(r)}return o.length,o}_getEmbeddedViewArgs(e,i){let o=e.rowDef,r={$implicit:e.data};return{templateRef:o.template,context:r,index:i}}_renderRow(e,i,o,r={}){let s=e.viewContainer.createEmbeddedView(i.template,r,o);return this._renderCellTemplateForItem(i,r),s}_renderCellTemplateForItem(e,i){for(let o of this._getCellTemplates(e))sm.mostRecentCellOutlet&&sm.mostRecentCellOutlet._viewContainer.createEmbeddedView(o,i);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){let e=this._rowOutlet.viewContainer;for(let i=0,o=e.length;i<o;i++){let s=e.get(i).context;s.count=o,s.first=i===0,s.last=i===o-1,s.even=i%2===0,s.odd=!s.even,this.multiTemplateDataRows?(s.dataIndex=this._renderRows[i].dataIndex,s.renderIndex=i):s.index=this._renderRows[i].dataIndex}}_getCellTemplates(e){return!e||!e.columns?[]:Array.from(e.columns,i=>{let o=this._columnDefsByName.get(i);return e.extractCellTemplate(o)})}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){let e=(i,o)=>i||o.hasStickyChanged();this._headerRowDefs.reduce(e,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(e,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(e,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){let e=this._dir?this._dir.value:"ltr";this._stickyStyler=new qP(this._isNativeHtmlTable,this.stickyCssClass,e,this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener,this._injector),(this._dir?this._dir.change:Ve()).pipe(Ct(this._onDestroy)).subscribe(i=>{this._stickyStyler.direction=i,this.updateStickyColumnStyles()})}_getOwnDefs(e){return e.filter(i=>!i._table||i._table===this)}_updateNoDataRow(){let e=this._customNoDataRow||this._noDataRow;if(!e)return;let i=this._rowOutlet.viewContainer.length===0;if(i===this._isShowingNoDataRow)return;let o=this._noDataRowOutlet.viewContainer;if(i){let r=o.createEmbeddedView(e.templateRef),s=r.rootNodes[0];r.rootNodes.length===1&&s?.nodeType===this._document.ELEMENT_NODE&&(s.setAttribute("role","row"),s.classList.add(e._contentClassName))}else o.clear();this._isShowingNoDataRow=i,this._changeDetectorRef.markForCheck()}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Z({type:n,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(i,o,r){if(i&1&&(xt(r,H$,5),xt(r,Bf,5),xt(r,GD,5),xt(r,ny,5),xt(r,KP,5)),i&2){let s;fe(s=ge())&&(o._noDataRow=s.first),fe(s=ge())&&(o._contentColumnDefs=s),fe(s=ge())&&(o._contentRowDefs=s),fe(s=ge())&&(o._contentHeaderRowDefs=s),fe(s=ge())&&(o._contentFooterRowDefs=s)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(i,o){i&2&&Se("cdk-table-fixed-layout",o.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:[2,"multiTemplateDataRows","multiTemplateDataRows",Ke],fixedLayout:[2,"fixedLayout","fixedLayout",Ke]},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[At([{provide:Ga,useExisting:n},{provide:Mf,useClass:tm},{provide:WD,useClass:GP},{provide:jD,useValue:null}])],ngContentSelectors:f_e,decls:5,vars:2,consts:[["role","rowgroup"],["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(i,o){i&1&&(wt(p_e),Fe(0),Fe(1,1),ee(2,g_e,1,0)(3,__e,7,0)(4,v_e,4,0)),i&2&&(D(2),Xe(o._isServer?2:-1),D(),Xe(o._isNativeHtmlTable?3:4))},dependencies:[QP,ZP,eL,JP],styles:[`.cdk-table-fixed-layout{table-layout:fixed}
`],encapsulation:2})}return n})();function BD(n,t){return n.concat(Array.from(t))}function N$(n,t){let e=t.toUpperCase(),i=n.viewContainer.element.nativeElement;for(;i;){let o=i.nodeType===1?i.nodeName:null;if(o===e)return i;if(o==="TABLE")break;i=i.parentNode}return null}var V$=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=yt({type:n});static \u0275inj=bt({imports:[MP]})}return n})();var y_e=[[["caption"]],[["colgroup"],["col"]],"*"],w_e=["caption","colgroup, col","*"];function x_e(n,t){n&1&&Fe(0,2)}function C_e(n,t){n&1&&(w(0,"thead",0),ln(1,1),x(),w(2,"tbody",2),ln(3,3)(4,4),x(),w(5,"tfoot",0),ln(6,5),x())}function S_e(n,t){n&1&&ln(0,1)(1,3)(2,4)(3,5)}var Hf=(()=>{class n extends tL{stickyCssClass="mat-mdc-table-sticky";needsPositionStickyOnElement=!1;static \u0275fac=(()=>{let e;return function(o){return(e||(e=Xt(n)))(o||n)}})();static \u0275cmp=Z({type:n,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-mdc-table","mdc-data-table__table"],hostVars:2,hostBindings:function(i,o){i&2&&Se("mdc-table-fixed-layout",o.fixedLayout)},exportAs:["matTable"],features:[At([{provide:tL,useExisting:n},{provide:Ga,useExisting:n},{provide:WD,useClass:GP},{provide:Mf,useClass:tm},{provide:jD,useValue:null}]),ut],ngContentSelectors:w_e,decls:5,vars:2,consts:[["role","rowgroup"],["headerRowOutlet",""],["role","rowgroup",1,"mdc-data-table__content"],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(i,o){i&1&&(wt(y_e),Fe(0),Fe(1,1),ee(2,x_e,1,0)(3,C_e,7,0)(4,S_e,4,0)),i&2&&(D(2),Xe(o._isServer?2:-1),D(),Xe(o._isNativeHtmlTable?3:4))},dependencies:[QP,ZP,eL,JP],styles:[`.mat-mdc-table-sticky{position:sticky !important}mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}.mat-mdc-table{min-width:100%;border:0;border-spacing:0;table-layout:auto;white-space:normal;background-color:var(--mat-table-background-color, var(--mat-sys-surface))}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell{text-align:right}.mdc-data-table__cell,.mdc-data-table__header-cell{padding:0 16px}.mat-mdc-header-row{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;height:var(--mat-table-header-container-height, 56px);color:var(--mat-table-header-headline-color, var(--mat-sys-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mat-table-header-headline-font, var(--mat-sys-title-small-font, Roboto, sans-serif));line-height:var(--mat-table-header-headline-line-height, var(--mat-sys-title-small-line-height));font-size:var(--mat-table-header-headline-size, var(--mat-sys-title-small-size, 14px));font-weight:var(--mat-table-header-headline-weight, var(--mat-sys-title-small-weight, 500))}.mat-mdc-row{height:var(--mat-table-row-item-container-height, 52px);color:var(--mat-table-row-item-label-text-color, var(--mat-sys-on-surface, rgba(0, 0, 0, 0.87)))}.mat-mdc-row,.mdc-data-table__content{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-table-row-item-label-text-font, var(--mat-sys-body-medium-font, Roboto, sans-serif));line-height:var(--mat-table-row-item-label-text-line-height, var(--mat-sys-body-medium-line-height));font-size:var(--mat-table-row-item-label-text-size, var(--mat-sys-body-medium-size, 14px));font-weight:var(--mat-table-row-item-label-text-weight, var(--mat-sys-body-medium-weight))}.mat-mdc-footer-row{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;height:var(--mat-table-footer-container-height, 52px);color:var(--mat-table-row-item-label-text-color, var(--mat-sys-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mat-table-footer-supporting-text-font, var(--mat-sys-body-medium-font, Roboto, sans-serif));line-height:var(--mat-table-footer-supporting-text-line-height, var(--mat-sys-body-medium-line-height));font-size:var(--mat-table-footer-supporting-text-size, var(--mat-sys-body-medium-size, 14px));font-weight:var(--mat-table-footer-supporting-text-weight, var(--mat-sys-body-medium-weight));letter-spacing:var(--mat-table-footer-supporting-text-tracking, var(--mat-sys-body-medium-tracking))}.mat-mdc-header-cell{border-bottom-color:var(--mat-table-row-item-outline-color, var(--mat-sys-outline, rgba(0, 0, 0, 0.12)));border-bottom-width:var(--mat-table-row-item-outline-width, 1px);border-bottom-style:solid;letter-spacing:var(--mat-table-header-headline-tracking, var(--mat-sys-title-small-tracking));font-weight:inherit;line-height:inherit;box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mat-mdc-header-cell{text-align:right}.mdc-data-table__row:last-child>.mat-mdc-header-cell{border-bottom:none}.mat-mdc-cell{border-bottom-color:var(--mat-table-row-item-outline-color, var(--mat-sys-outline, rgba(0, 0, 0, 0.12)));border-bottom-width:var(--mat-table-row-item-outline-width, 1px);border-bottom-style:solid;letter-spacing:var(--mat-table-row-item-label-text-tracking, var(--mat-sys-body-medium-tracking));line-height:inherit}.mdc-data-table__row:last-child>.mat-mdc-cell{border-bottom:none}.mat-mdc-footer-cell{letter-spacing:var(--mat-table-row-item-label-text-tracking, var(--mat-sys-body-medium-tracking))}mat-row.mat-mdc-row,mat-header-row.mat-mdc-header-row,mat-footer-row.mat-mdc-footer-row{border-bottom:none}.mat-mdc-table tbody,.mat-mdc-table tfoot,.mat-mdc-table thead,.mat-mdc-cell,.mat-mdc-footer-cell,.mat-mdc-header-row,.mat-mdc-row,.mat-mdc-footer-row,.mat-mdc-table .mat-mdc-header-cell{background:inherit}.mat-mdc-table mat-header-row.mat-mdc-header-row,.mat-mdc-table mat-row.mat-mdc-row,.mat-mdc-table mat-footer-row.mat-mdc-footer-cell{height:unset}mat-header-cell.mat-mdc-header-cell,mat-cell.mat-mdc-cell,mat-footer-cell.mat-mdc-footer-cell{align-self:stretch}
`],encapsulation:2})}return n})(),Vf=(()=>{class n extends UD{static \u0275fac=(()=>{let e;return function(o){return(e||(e=Xt(n)))(o||n)}})();static \u0275dir=me({type:n,selectors:[["","matCellDef",""]],features:[At([{provide:UD,useExisting:n}]),ut]})}return n})(),Wf=(()=>{class n extends qD{static \u0275fac=(()=>{let e;return function(o){return(e||(e=Xt(n)))(o||n)}})();static \u0275dir=me({type:n,selectors:[["","matHeaderCellDef",""]],features:[At([{provide:qD,useExisting:n}]),ut]})}return n})();var jf=(()=>{class n extends Bf{get name(){return this._name}set name(e){this._setNameInput(e)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}static \u0275fac=(()=>{let e;return function(o){return(e||(e=Xt(n)))(o||n)}})();static \u0275dir=me({type:n,selectors:[["","matColumnDef",""]],inputs:{name:[0,"matColumnDef","name"]},features:[At([{provide:Bf,useExisting:n},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),ut]})}return n})(),Uf=(()=>{class n extends z${static \u0275fac=(()=>{let e;return function(o){return(e||(e=Xt(n)))(o||n)}})();static \u0275dir=me({type:n,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-mdc-header-cell","mdc-data-table__header-cell"],features:[ut]})}return n})();var qf=(()=>{class n extends B${static \u0275fac=(()=>{let e;return function(o){return(e||(e=Xt(n)))(o||n)}})();static \u0275dir=me({type:n,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:[1,"mat-mdc-cell","mdc-data-table__cell"],features:[ut]})}return n})();var Gf=(()=>{class n extends ny{static \u0275fac=(()=>{let e;return function(o){return(e||(e=Xt(n)))(o||n)}})();static \u0275dir=me({type:n,selectors:[["","matHeaderRowDef",""]],inputs:{columns:[0,"matHeaderRowDef","columns"],sticky:[2,"matHeaderRowDefSticky","sticky",Ke]},features:[At([{provide:ny,useExisting:n}]),ut]})}return n})();var $f=(()=>{class n extends GD{static \u0275fac=(()=>{let e;return function(o){return(e||(e=Xt(n)))(o||n)}})();static \u0275dir=me({type:n,selectors:[["","matRowDef",""]],inputs:{columns:[0,"matRowDefColumns","columns"],when:[0,"matRowDefWhen","when"]},features:[At([{provide:GD,useExisting:n}]),ut]})}return n})(),Kf=(()=>{class n extends YP{static \u0275fac=(()=>{let e;return function(o){return(e||(e=Xt(n)))(o||n)}})();static \u0275cmp=Z({type:n,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-mdc-header-row","mdc-data-table__header-row"],exportAs:["matHeaderRow"],features:[At([{provide:YP,useExisting:n}]),ut],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(i,o){i&1&&ln(0,0)},dependencies:[sm],encapsulation:2})}return n})();var Yf=(()=>{class n extends XP{static \u0275fac=(()=>{let e;return function(o){return(e||(e=Xt(n)))(o||n)}})();static \u0275cmp=Z({type:n,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-mdc-row","mdc-data-table__row"],exportAs:["matRow"],features:[At([{provide:XP,useExisting:n}]),ut],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(i,o){i&1&&ln(0,0)},dependencies:[sm],encapsulation:2})}return n})();var W$=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=yt({type:n});static \u0275inj=bt({imports:[oa,V$,oa]})}return n})(),D_e=9007199254740991,fu=class extends Pb{_data;_renderData=new go([]);_filter=new go("");_internalPageChanges=new De;_renderChangesSubscription=null;filteredData;get data(){return this._data.value}set data(t){t=Array.isArray(t)?t:[],this._data.next(t),this._renderChangesSubscription||this._filterData(t)}get filter(){return this._filter.value}set filter(t){this._filter.next(t),this._renderChangesSubscription||this._filterData(this.data)}get sort(){return this._sort}set sort(t){this._sort=t,this._updateChangeSubscription()}_sort;get paginator(){return this._paginator}set paginator(t){this._paginator=t,this._updateChangeSubscription()}_paginator;sortingDataAccessor=(t,e)=>{let i=t[e];if(jS(i)){let o=Number(i);return o<D_e?o:i}return i};sortData=(t,e)=>{let i=e.active,o=e.direction;return!i||o==""?t:t.sort((r,s)=>{let a=this.sortingDataAccessor(r,i),l=this.sortingDataAccessor(s,i),c=typeof a,d=typeof l;c!==d&&(c==="number"&&(a+=""),d==="number"&&(l+=""));let u=0;return a!=null&&l!=null?a>l?u=1:a<l&&(u=-1):a!=null?u=1:l!=null&&(u=-1),u*(o=="asc"?1:-1)})};filterPredicate=(t,e)=>{let i=e.trim().toLowerCase();return Object.values(t).some(o=>`${o}`.toLowerCase().includes(i))};constructor(t=[]){super(),this._data=new go(t),this._updateChangeSubscription()}_updateChangeSubscription(){let t=this._sort?nn(this._sort.sortChange,this._sort.initialized):Ve(null),e=this._paginator?nn(this._paginator.page,this._internalPageChanges,this._paginator.initialized):Ve(null),i=this._data,o=hc([i,this._filter]).pipe(rt(([a])=>this._filterData(a))),r=hc([o,t]).pipe(rt(([a])=>this._orderData(a))),s=hc([r,e]).pipe(rt(([a])=>this._pageData(a)));this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=s.subscribe(a=>this._renderData.next(a))}_filterData(t){return this.filteredData=this.filter==null||this.filter===""?t:t.filter(e=>this.filterPredicate(e,this.filter)),this.paginator&&this._updatePaginator(this.filteredData.length),this.filteredData}_orderData(t){return this.sort?this.sortData(t.slice(),this.sort):t}_pageData(t){if(!this.paginator)return t;let e=this.paginator.pageIndex*this.paginator.pageSize;return t.slice(e,e+this.paginator.pageSize)}_updatePaginator(t){Promise.resolve().then(()=>{let e=this.paginator;if(e&&(e.length=t,e.pageIndex>0)){let i=Math.ceil(e.length/e.pageSize)-1||0,o=Math.min(e.pageIndex,i);o!==e.pageIndex&&(e.pageIndex=o,this._internalPageChanges.next())}})}connect(){return this._renderChangesSubscription||this._updateChangeSubscription(),this._renderData}disconnect(){this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=null}};var I_e=["mat-sort-header",""],E_e=["*"];function M_e(n,t){n&1&&(w(0,"div",2),gi(),w(1,"svg",3),Y(2,"path",4),x()())}var j$=new ae("MAT_SORT_DEFAULT_OPTIONS"),zl=(()=>{class n{_defaultOptions;_initializedStream=new mx(1);sortables=new Map;_stateChanges=new De;active;start="asc";get direction(){return this._direction}set direction(e){this._direction=e}_direction="";disableClear;disabled=!1;sortChange=new Le;initialized=this._initializedStream;constructor(e){this._defaultOptions=e}register(e){this.sortables.set(e.id,e)}deregister(e){this.sortables.delete(e.id)}sort(e){this.active!=e.id?(this.active=e.id,this.direction=e.start?e.start:this.start):this.direction=this.getNextSortDirection(e),this.sortChange.emit({active:this.active,direction:this.direction})}getNextSortDirection(e){if(!e)return"";let i=e?.disableClear??this.disableClear??!!this._defaultOptions?.disableClear,o=k_e(e.start||this.start,i),r=o.indexOf(this.direction)+1;return r>=o.length&&(r=0),o[r]}ngOnInit(){this._initializedStream.next()}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete(),this._initializedStream.complete()}static \u0275fac=function(i){return new(i||n)(J(j$,8))};static \u0275dir=me({type:n,selectors:[["","matSort",""]],hostAttrs:[1,"mat-sort"],inputs:{active:[0,"matSortActive","active"],start:[0,"matSortStart","start"],direction:[0,"matSortDirection","direction"],disableClear:[2,"matSortDisableClear","disableClear",Ke],disabled:[2,"matSortDisabled","disabled",Ke]},outputs:{sortChange:"matSortChange"},exportAs:["matSort"],features:[fi]})}return n})();function k_e(n,t){let e=["asc","desc"];return n=="desc"&&e.reverse(),t||e.push(""),e}var T_e=(()=>{class n{changes=new De;static \u0275fac=function(i){return new(i||n)};static \u0275prov=se({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Zf=(()=>{class n{_intl=y(T_e);_sort=y(zl,{optional:!0});_columnDef=y("MAT_SORT_HEADER_COLUMN_DEF",{optional:!0});_changeDetectorRef=y(Gt);_focusMonitor=y(ks);_elementRef=y(Oe);_ariaDescriber=y(XS,{optional:!0});_renderChanges;_animationModule=y(Ei,{optional:!0});_recentlyCleared=Ue(null);_sortButton;id;arrowPosition="after";start;disabled=!1;get sortActionDescription(){return this._sortActionDescription}set sortActionDescription(e){this._updateSortActionDescription(e)}_sortActionDescription="Sort";disableClear;constructor(){y(xn).load(Ts);let e=y(j$,{optional:!0});this._sort,e?.arrowPosition&&(this.arrowPosition=e?.arrowPosition)}ngOnInit(){!this.id&&this._columnDef&&(this.id=this._columnDef.name),this._sort.register(this),this._renderChanges=nn(this._sort._stateChanges,this._sort.sortChange).subscribe(()=>this._changeDetectorRef.markForCheck()),this._sortButton=this._elementRef.nativeElement.querySelector(".mat-sort-header-container"),this._updateSortActionDescription(this._sortActionDescription)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(()=>this._recentlyCleared.set(null))}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._sort.deregister(this),this._renderChanges?.unsubscribe(),this._sortButton&&this._ariaDescriber?.removeDescription(this._sortButton,this._sortActionDescription)}_toggleOnInteraction(){if(!this._isDisabled()){let e=this._isSorted(),i=this._sort.direction;this._sort.sort(this),this._recentlyCleared.set(e&&!this._isSorted()?i:null)}}_handleKeydown(e){(e.keyCode===32||e.keyCode===13)&&(e.preventDefault(),this._toggleOnInteraction())}_isSorted(){return this._sort.active==this.id&&(this._sort.direction==="asc"||this._sort.direction==="desc")}_isDisabled(){return this._sort.disabled||this.disabled}_getAriaSortAttribute(){return this._isSorted()?this._sort.direction=="asc"?"ascending":"descending":"none"}_renderArrow(){return!this._isDisabled()||this._isSorted()}_updateSortActionDescription(e){this._sortButton&&(this._ariaDescriber?.removeDescription(this._sortButton,this._sortActionDescription),this._ariaDescriber?.describe(this._sortButton,e)),this._sortActionDescription=e}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Z({type:n,selectors:[["","mat-sort-header",""]],hostAttrs:[1,"mat-sort-header"],hostVars:3,hostBindings:function(i,o){i&1&&de("click",function(){return o._toggleOnInteraction()})("keydown",function(s){return o._handleKeydown(s)})("mouseleave",function(){return o._recentlyCleared.set(null)}),i&2&&(ke("aria-sort",o._getAriaSortAttribute()),Se("mat-sort-header-disabled",o._isDisabled()))},inputs:{id:[0,"mat-sort-header","id"],arrowPosition:"arrowPosition",start:"start",disabled:[2,"disabled","disabled",Ke],sortActionDescription:"sortActionDescription",disableClear:[2,"disableClear","disableClear",Ke]},exportAs:["matSortHeader"],attrs:I_e,ngContentSelectors:E_e,decls:4,vars:17,consts:[[1,"mat-sort-header-container","mat-focus-indicator"],[1,"mat-sort-header-content"],[1,"mat-sort-header-arrow"],["viewBox","0 -960 960 960","focusable","false","aria-hidden","true"],["d","M440-240v-368L296-464l-56-56 240-240 240 240-56 56-144-144v368h-80Z"]],template:function(i,o){i&1&&(wt(),w(0,"div",0)(1,"div",1),Fe(2),x(),ee(3,M_e,3,0,"div",2),x()),i&2&&(Se("mat-sort-header-sorted",o._isSorted())("mat-sort-header-position-before",o.arrowPosition==="before")("mat-sort-header-descending",o._sort.direction==="desc")("mat-sort-header-ascending",o._sort.direction==="asc")("mat-sort-header-recently-cleared-ascending",o._recentlyCleared()==="asc")("mat-sort-header-recently-cleared-descending",o._recentlyCleared()==="desc")("mat-sort-header-animations-disabled",o._animationModule==="NoopAnimations"),ke("tabindex",o._isDisabled()?null:0)("role",o._isDisabled()?null:"button"),D(3),Xe(o._renderArrow()?3:-1))},styles:[`.mat-sort-header{cursor:pointer}.mat-sort-header-disabled{cursor:default}.mat-sort-header-container{display:flex;align-items:center;letter-spacing:normal;outline:0}[mat-sort-header].cdk-keyboard-focused .mat-sort-header-container,[mat-sort-header].cdk-program-focused .mat-sort-header-container{border-bottom:solid 1px currentColor}.mat-sort-header-container::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-sort-header-content{display:flex;align-items:center}.mat-sort-header-position-before{flex-direction:row-reverse}@keyframes _mat-sort-header-recently-cleared-ascending{from{transform:translateY(0);opacity:1}to{transform:translateY(-25%);opacity:0}}@keyframes _mat-sort-header-recently-cleared-descending{from{transform:translateY(0) rotate(180deg);opacity:1}to{transform:translateY(25%) rotate(180deg);opacity:0}}.mat-sort-header-arrow{height:12px;width:12px;position:relative;transition:transform 225ms cubic-bezier(0.4, 0, 0.2, 1),opacity 225ms cubic-bezier(0.4, 0, 0.2, 1);opacity:0;overflow:visible;color:var(--mat-sort-arrow-color, var(--mat-sys-on-surface))}.mat-sort-header.cdk-keyboard-focused .mat-sort-header-arrow,.mat-sort-header.cdk-program-focused .mat-sort-header-arrow,.mat-sort-header:hover .mat-sort-header-arrow{opacity:.54}.mat-sort-header .mat-sort-header-sorted .mat-sort-header-arrow{opacity:1}.mat-sort-header-descending .mat-sort-header-arrow{transform:rotate(180deg)}.mat-sort-header-recently-cleared-ascending .mat-sort-header-arrow{transform:translateY(-25%)}.mat-sort-header-recently-cleared-ascending .mat-sort-header-arrow{transition:none;animation:_mat-sort-header-recently-cleared-ascending 225ms cubic-bezier(0.4, 0, 0.2, 1) forwards}.mat-sort-header-recently-cleared-descending .mat-sort-header-arrow{transition:none;animation:_mat-sort-header-recently-cleared-descending 225ms cubic-bezier(0.4, 0, 0.2, 1) forwards}.mat-sort-header-animations-disabled .mat-sort-header-arrow{transition-duration:0ms;animation-duration:0ms}.mat-sort-header-arrow svg{width:24px;height:24px;fill:currentColor;position:absolute;top:50%;left:50%;margin:-12px 0 0 -12px;transform:translateZ(0)}.mat-sort-header-arrow,[dir=rtl] .mat-sort-header-position-before .mat-sort-header-arrow{margin:0 0 0 6px}.mat-sort-header-position-before .mat-sort-header-arrow,[dir=rtl] .mat-sort-header-arrow{margin:0 6px 0 0}
`],encapsulation:2,changeDetection:0})}return n})();var A_e=["text"],R_e=[[["mat-icon"]],"*"],O_e=["mat-icon","*"];function P_e(n,t){if(n&1&&Y(0,"mat-pseudo-checkbox",1),n&2){let e=X();z("disabled",e.disabled)("state",e.selected?"checked":"unchecked")}}function L_e(n,t){if(n&1&&Y(0,"mat-pseudo-checkbox",3),n&2){let e=X();z("disabled",e.disabled)}}function N_e(n,t){if(n&1&&(w(0,"span",4),P(1),x()),n&2){let e=X();D(),ni("(",e.group.label,")")}}var Jf=new ae("MAT_OPTION_PARENT_COMPONENT"),eg=new ae("MatOptgroup");var Qf=class{source;isUserInput;constructor(t,e=!1){this.source=t,this.isUserInput=e}},Sr=(()=>{class n{_element=y(Oe);_changeDetectorRef=y(Gt);_parent=y(Jf,{optional:!0});group=y(eg,{optional:!0});_signalDisableRipple=!1;_selected=!1;_active=!1;_disabled=!1;_mostRecentViewValue="";get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}value;id=y(Bn).getId("mat-option-");get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(e){this._disabled=e}get disableRipple(){return this._signalDisableRipple?this._parent.disableRipple():!!this._parent?.disableRipple}get hideSingleSelectionIndicator(){return!!(this._parent&&this._parent.hideSingleSelectionIndicator)}onSelectionChange=new Le;_text;_stateChanges=new De;constructor(){let e=y(xn);e.load(Ts),e.load(Jd),this._signalDisableRipple=!!this._parent&&gh(this._parent.disableRipple)}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(e=!0){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),e&&this._emitSelectionChangeEvent())}deselect(e=!0){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),e&&this._emitSelectionChangeEvent())}focus(e,i){let o=this._getHostElement();typeof o.focus=="function"&&o.focus(i)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(e){(e.keyCode===13||e.keyCode===32)&&!Xn(e)&&(this._selectViaInteraction(),e.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=this.multiple?!this._selected:!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){let e=this.viewValue;e!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=e)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(e=!1){this.onSelectionChange.emit(new Qf(this,e))}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Z({type:n,selectors:[["mat-option"]],viewQuery:function(i,o){if(i&1&&st(A_e,7),i&2){let r;fe(r=ge())&&(o._text=r.first)}},hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(i,o){i&1&&de("click",function(){return o._selectViaInteraction()})("keydown",function(s){return o._handleKeydown(s)}),i&2&&(fs("id",o.id),ke("aria-selected",o.selected)("aria-disabled",o.disabled.toString()),Se("mdc-list-item--selected",o.selected)("mat-mdc-option-multiple",o.multiple)("mat-mdc-option-active",o.active)("mdc-list-item--disabled",o.disabled))},inputs:{value:"value",id:"id",disabled:[2,"disabled","disabled",Ke]},outputs:{onSelectionChange:"onSelectionChange"},exportAs:["matOption"],ngContentSelectors:O_e,decls:8,vars:5,consts:[["text",""],["aria-hidden","true",1,"mat-mdc-option-pseudo-checkbox",3,"disabled","state"],[1,"mdc-list-item__primary-text"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"],["aria-hidden","true","mat-ripple","",1,"mat-mdc-option-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled"]],template:function(i,o){i&1&&(wt(R_e),ee(0,P_e,1,2,"mat-pseudo-checkbox",1),Fe(1),w(2,"span",2,0),Fe(4,1),x(),ee(5,L_e,1,1,"mat-pseudo-checkbox",3)(6,N_e,2,1,"span",4),Y(7,"div",5)),i&2&&(Xe(o.multiple?0:-1),D(5),Xe(!o.multiple&&o.selected&&!o.hideSingleSelectionIndicator?5:-1),D(),Xe(o.group&&o.group._inert?6:-1),D(),z("matRippleTrigger",o._getHostElement())("matRippleDisabled",o.disabled||o.disableRipple))},dependencies:[s$,nu],styles:[`.mat-mdc-option{-webkit-user-select:none;user-select:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;min-height:48px;padding:0 16px;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);color:var(--mat-option-label-text-color, var(--mat-sys-on-surface));font-family:var(--mat-option-label-text-font, var(--mat-sys-label-large-font));line-height:var(--mat-option-label-text-line-height, var(--mat-sys-label-large-line-height));font-size:var(--mat-option-label-text-size, var(--mat-sys-body-large-size));letter-spacing:var(--mat-option-label-text-tracking, var(--mat-sys-label-large-tracking));font-weight:var(--mat-option-label-text-weight, var(--mat-sys-body-large-weight))}.mat-mdc-option:hover:not(.mdc-list-item--disabled){background-color:var(--mat-option-hover-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-hover-state-layer-opacity) * 100%), transparent))}.mat-mdc-option:focus.mdc-list-item,.mat-mdc-option.mat-mdc-option-active.mdc-list-item{background-color:var(--mat-option-focus-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-focus-state-layer-opacity) * 100%), transparent));outline:0}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple){background-color:var(--mat-option-selected-state-layer-color, var(--mat-sys-secondary-container))}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple) .mdc-list-item__primary-text{color:var(--mat-option-selected-state-label-text-color, var(--mat-sys-on-secondary-container))}.mat-mdc-option .mat-pseudo-checkbox{--mat-minimal-pseudo-checkbox-selected-checkmark-color: var(--mat-option-selected-state-label-text-color, var(--mat-sys-on-secondary-container))}.mat-mdc-option.mdc-list-item{align-items:center;background:rgba(0,0,0,0)}.mat-mdc-option.mdc-list-item--disabled{cursor:default;pointer-events:none}.mat-mdc-option.mdc-list-item--disabled .mat-mdc-option-pseudo-checkbox,.mat-mdc-option.mdc-list-item--disabled .mdc-list-item__primary-text,.mat-mdc-option.mdc-list-item--disabled>mat-icon{opacity:.38}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}@media(forced-colors: active){.mat-mdc-option.mdc-list-item--selected:not(:has(.mat-mdc-option-pseudo-checkbox))::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .mat-mdc-option.mdc-list-item--selected:not(:has(.mat-mdc-option-pseudo-checkbox))::after{right:auto;left:16px}}.mat-mdc-option-multiple{--mdc-list-list-item-selected-container-color:var(--mdc-list-list-item-container-color, transparent)}.mat-mdc-option-active .mat-focus-indicator::before{content:""}
`],encapsulation:2,changeDetection:0})}return n})();function oy(n,t,e){if(e.length){let i=t.toArray(),o=e.toArray(),r=0;for(let s=0;s<n+1;s++)i[s].group&&i[s].group===o[r]&&r++;return r}return 0}function ry(n,t,e,i){return n<e?n:n+t>e+i?Math.max(0,n-i+t):e}var F_e=["trigger"],z_e=["panel"],B_e=[[["mat-select-trigger"]],"*"],H_e=["mat-select-trigger","*"];function V_e(n,t){if(n&1&&(w(0,"span",4),P(1),x()),n&2){let e=X();D(),xe(e.placeholder)}}function W_e(n,t){n&1&&Fe(0)}function j_e(n,t){if(n&1&&(w(0,"span",11),P(1),x()),n&2){let e=X(2);D(),xe(e.triggerValue)}}function U_e(n,t){if(n&1&&(w(0,"span",5),ee(1,W_e,1,0)(2,j_e,2,1,"span",11),x()),n&2){let e=X();D(),Xe(e.customTrigger?1:2)}}function q_e(n,t){if(n&1){let e=Ft();w(0,"div",12,1),de("keydown",function(o){et(e);let r=X();return tt(r._handleKeydown(o))}),Fe(2,1),x()}if(n&2){let e=X();zj("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",e._getPanelTheme(),""),Se("mat-select-panel-animations-enabled",!e._animationsDisabled),z("ngClass",e.panelClass),ke("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}}var U$=new ae("mat-select-scroll-strategy",{providedIn:"root",factory:()=>{let n=y(ar);return()=>n.scrollStrategies.reposition()}});var q$=new ae("MAT_SELECT_CONFIG");var G$=new ae("MatSelectTrigger"),$D=class{source;value;constructor(t,e){this.source=t,this.value=e}},Yc=(()=>{class n{_viewportRuler=y(ra);_changeDetectorRef=y(Gt);_elementRef=y(Oe);_dir=y(en,{optional:!0});_idGenerator=y(Bn);_renderer=y(Li);_parentFormField=y(mu,{optional:!0});ngControl=y(aa,{self:!0,optional:!0});_liveAnnouncer=y(fP);_defaultOptions=y(q$,{optional:!0});_animationsDisabled=y(Ei,{optional:!0})==="NoopAnimations";_initialized=new De;_cleanupDetach;options;optionGroups;customTrigger;_positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}];_scrollOptionIntoView(e){let i=this.options.toArray()[e];if(i){let o=this.panel.nativeElement,r=oy(e,this.options,this.optionGroups),s=i._getHostElement();e===0&&r===1?o.scrollTop=0:o.scrollTop=ry(s.offsetTop,s.offsetHeight,o.scrollTop,o.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(e){return new $D(this,e)}_scrollStrategyFactory=y(U$);_panelOpen=!1;_compareWith=(e,i)=>e===i;_uid=this._idGenerator.getId("mat-select-");_triggerAriaLabelledBy=null;_previousControl;_destroy=new De;_errorStateTracker;stateChanges=new De;disableAutomaticLabeling=!0;userAriaDescribedBy;_selectionModel;_keyManager;_preferredOverlayOrigin;_overlayWidth;_onChange=()=>{};_onTouched=()=>{};_valueId=this._idGenerator.getId("mat-select-value-");_scrollStrategy;_overlayPanelClass=this._defaultOptions?.overlayPanelClass||"";get focused(){return this._focused||this._panelOpen}_focused=!1;controlType="mat-select";trigger;panel;_overlayDir;panelClass;disabled=!1;disableRipple=!1;tabIndex=0;get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(e){this._hideSingleSelectionIndicator=e,this._syncParentProperties()}_hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1;get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}_placeholder;get required(){return this._required??this.ngControl?.control?.hasValidator(im.required)??!1}set required(e){this._required=e,this.stateChanges.next()}_required;get multiple(){return this._multiple}set multiple(e){this._selectionModel,this._multiple=e}_multiple=!1;disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1;get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){this._assignValue(e)&&this._onChange(e)}_value;ariaLabel="";ariaLabelledby;get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(e){this._errorStateTracker.matcher=e}typeaheadDebounceInterval;sortComparator;get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}_id;get errorState(){return this._errorStateTracker.errorState}set errorState(e){this._errorStateTracker.errorState=e}panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto";canSelectNullableOptions=this._defaultOptions?.canSelectNullableOptions??!1;optionSelectionChanges=Sa(()=>{let e=this.options;return e?e.changes.pipe(Ji(e),En(()=>nn(...e.map(i=>i.onSelectionChange)))):this._initialized.pipe(En(()=>this.optionSelectionChanges))});openedChange=new Le;_openedStream=this.openedChange.pipe(ii(e=>e),rt(()=>{}));_closedStream=this.openedChange.pipe(ii(e=>!e),rt(()=>{}));selectionChange=new Le;valueChange=new Le;constructor(){let e=y(zD),i=y(Lf,{optional:!0}),o=y(Nf,{optional:!0}),r=y(new hp("tabindex"),{optional:!0});this.ngControl&&(this.ngControl.valueAccessor=this),this._defaultOptions?.typeaheadDebounceInterval!=null&&(this.typeaheadDebounceInterval=this._defaultOptions.typeaheadDebounceInterval),this._errorStateTracker=new zf(e,this.ngControl,o,i,this.stateChanges),this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=r==null?0:parseInt(r)||0,this.id=this.id}ngOnInit(){this._selectionModel=new qb(this.multiple),this.stateChanges.next(),this._viewportRuler.change().pipe(Ct(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}ngAfterContentInit(){this._initialized.next(),this._initialized.complete(),this._initKeyManager(),this._selectionModel.changed.pipe(Ct(this._destroy)).subscribe(e=>{e.added.forEach(i=>i.select()),e.removed.forEach(i=>i.deselect())}),this.options.changes.pipe(Ji(null),Ct(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){let e=this._getTriggerAriaLabelledby(),i=this.ngControl;if(e!==this._triggerAriaLabelledBy){let o=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?o.setAttribute("aria-labelledby",e):o.removeAttribute("aria-labelledby")}i&&(this._previousControl!==i.control&&(this._previousControl!==void 0&&i.disabled!==null&&i.disabled!==this.disabled&&(this.disabled=i.disabled),this._previousControl=i.control),this.updateErrorState())}ngOnChanges(e){(e.disabled||e.userAriaDescribedBy)&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this.typeaheadDebounceInterval)}ngOnDestroy(){this._cleanupDetach?.(),this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._cleanupDetach?.(),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._applyModalPanelOwnership(),this._panelOpen=!0,this._overlayDir.positionChange.pipe(_o(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()}),this._overlayDir.attachOverlay(),this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck(),this.stateChanges.next(),Promise.resolve().then(()=>this.openedChange.emit(!0)))}_trackedModal=null;_applyModalPanelOwnership(){let e=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!e)return;let i=`${this.id}-panel`;this._trackedModal&&tu(this._trackedModal,"aria-owns",i),wf(e,"aria-owns",i),this._trackedModal=e}_clearFromModal(){if(!this._trackedModal)return;let e=`${this.id}-panel`;tu(this._trackedModal,"aria-owns",e),this._trackedModal=null}close(){this._panelOpen&&(this._panelOpen=!1,this._exitAndDetach(),this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched(),this.stateChanges.next(),Promise.resolve().then(()=>this.openedChange.emit(!1)))}_exitAndDetach(){if(this._animationsDisabled||!this.panel){this._detachOverlay();return}this._cleanupDetach?.(),this._cleanupDetach=()=>{i(),clearTimeout(o),this._cleanupDetach=void 0};let e=this.panel.nativeElement,i=this._renderer.listen(e,"animationend",r=>{r.animationName==="_mat-select-exit"&&(this._cleanupDetach?.(),this._detachOverlay())}),o=setTimeout(()=>{this._cleanupDetach?.(),this._detachOverlay()},200);e.classList.add("mat-select-panel-exit")}_detachOverlay(){this._overlayDir.detachOverlay(),this._changeDetectorRef.markForCheck()}writeValue(e){this._assignValue(e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){let e=this._selectionModel.selected.map(i=>i.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}updateErrorState(){this._errorStateTracker.updateErrorState()}_isRtl(){return this._dir?this._dir.value==="rtl":!1}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){let i=e.keyCode,o=i===40||i===38||i===37||i===39,r=i===13||i===32,s=this._keyManager;if(!s.isTyping()&&r&&!Xn(e)||(this.multiple||e.altKey)&&o)e.preventDefault(),this.open();else if(!this.multiple){let a=this.selected;s.onKeydown(e);let l=this.selected;l&&a!==l&&this._liveAnnouncer.announce(l.viewValue,1e4)}}_handleOpenKeydown(e){let i=this._keyManager,o=e.keyCode,r=o===40||o===38,s=i.isTyping();if(r&&e.altKey)e.preventDefault(),this.close();else if(!s&&(o===13||o===32)&&i.activeItem&&!Xn(e))e.preventDefault(),i.activeItem._selectViaInteraction();else if(!s&&this._multiple&&o===65&&e.ctrlKey){e.preventDefault();let a=this.options.some(l=>!l.disabled&&!l.selected);this.options.forEach(l=>{l.disabled||(a?l.select():l.deselect())})}else{let a=i.activeItemIndex;i.onKeydown(e),this._multiple&&r&&e.shiftKey&&i.activeItem&&i.activeItemIndex!==a&&i.activeItem._selectViaInteraction()}}_handleOverlayKeydown(e){e.keyCode===27&&!Xn(e)&&(e.preventDefault(),this.close())}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this.options.forEach(i=>i.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(i=>this._selectOptionByValue(i)),this._sortValues();else{let i=this._selectOptionByValue(e);i?this._keyManager.updateActiveItem(i):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(e){let i=this.options.find(o=>{if(this._selectionModel.isSelected(o))return!1;try{return(o.value!=null||this.canSelectNullableOptions)&&this._compareWith(o.value,e)}catch{return!1}});return i&&this._selectionModel.select(i),i}_assignValue(e){return e!==this._value||this._multiple&&Array.isArray(e)?(this.options&&this._setSelectionByValue(e),this._value=e,!0):!1}_skipPredicate=e=>this.panelOpen?!1:e.disabled;_getOverlayWidth(e){return this.panelWidth==="auto"?(e instanceof Tf?e.elementRef:e||this._elementRef).nativeElement.getBoundingClientRect().width:this.panelWidth===null?"":this.panelWidth}_syncParentProperties(){if(this.options)for(let e of this.options)e._changeDetectorRef.markForCheck()}_initKeyManager(){this._keyManager=new Xh(this.options).withTypeAhead(this.typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){let e=nn(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(Ct(e)).subscribe(i=>{this._onSelect(i.source,i.isUserInput),i.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),nn(...this.options.map(i=>i._stateChanges)).pipe(Ct(e)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(e,i){let o=this._selectionModel.isSelected(e);!this.canSelectNullableOptions&&e.value==null&&!this._multiple?(e.deselect(),this._selectionModel.clear(),this.value!=null&&this._propagateChanges(e.value)):(o!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),i&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),i&&this.focus())),o!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){let e=this.options.toArray();this._selectionModel.sort((i,o)=>this.sortComparator?this.sortComparator(i,o,e):e.indexOf(i)-e.indexOf(o)),this.stateChanges.next()}}_propagateChanges(e){let i;this.multiple?i=this.selected.map(o=>o.value):i=this.selected?this.selected.value:e,this._value=i,this.valueChange.emit(i),this._onChange(i),this.selectionChange.emit(this._getChangeEvent(i)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let e=-1;for(let i=0;i<this.options.length;i++)if(!this.options.get(i).disabled){e=i;break}this._keyManager.setActiveItem(e)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0&&!!this._overlayDir}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;let e=this._parentFormField?.getLabelId()||null,i=e?e+" ":"";return this.ariaLabelledby?i+this.ariaLabelledby:e}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;let e=this._parentFormField?.getLabelId()||"";return this.ariaLabelledby&&(e+=" "+this.ariaLabelledby),e||(e=this._valueId),e}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Z({type:n,selectors:[["mat-select"]],contentQueries:function(i,o,r){if(i&1&&(xt(r,G$,5),xt(r,Sr,5),xt(r,eg,5)),i&2){let s;fe(s=ge())&&(o.customTrigger=s.first),fe(s=ge())&&(o.options=s),fe(s=ge())&&(o.optionGroups=s)}},viewQuery:function(i,o){if(i&1&&(st(F_e,5),st(z_e,5),st(mD,5)),i&2){let r;fe(r=ge())&&(o.trigger=r.first),fe(r=ge())&&(o.panel=r.first),fe(r=ge())&&(o._overlayDir=r.first)}},hostAttrs:["role","combobox","aria-haspopup","listbox",1,"mat-mdc-select"],hostVars:19,hostBindings:function(i,o){i&1&&de("keydown",function(s){return o._handleKeydown(s)})("focus",function(){return o._onFocus()})("blur",function(){return o._onBlur()}),i&2&&(ke("id",o.id)("tabindex",o.disabled?-1:o.tabIndex)("aria-controls",o.panelOpen?o.id+"-panel":null)("aria-expanded",o.panelOpen)("aria-label",o.ariaLabel||null)("aria-required",o.required.toString())("aria-disabled",o.disabled.toString())("aria-invalid",o.errorState)("aria-activedescendant",o._getAriaActiveDescendant()),Se("mat-mdc-select-disabled",o.disabled)("mat-mdc-select-invalid",o.errorState)("mat-mdc-select-required",o.required)("mat-mdc-select-empty",o.empty)("mat-mdc-select-multiple",o.multiple))},inputs:{userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",disabled:[2,"disabled","disabled",Ke],disableRipple:[2,"disableRipple","disableRipple",Ke],tabIndex:[2,"tabIndex","tabIndex",e=>e==null?0:Yi(e)],hideSingleSelectionIndicator:[2,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",Ke],placeholder:"placeholder",required:[2,"required","required",Ke],multiple:[2,"multiple","multiple",Ke],disableOptionCentering:[2,"disableOptionCentering","disableOptionCentering",Ke],compareWith:"compareWith",value:"value",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:[2,"typeaheadDebounceInterval","typeaheadDebounceInterval",Yi],sortComparator:"sortComparator",id:"id",panelWidth:"panelWidth",canSelectNullableOptions:[2,"canSelectNullableOptions","canSelectNullableOptions",Ke]},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},exportAs:["matSelect"],features:[At([{provide:Ff,useExisting:n},{provide:Jf,useExisting:n}]),fi],ngContentSelectors:H_e,decls:11,vars:9,consts:[["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],["panel",""],["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],[1,"mat-mdc-select-value"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"detach","backdropClick","overlayKeydown","cdkConnectedOverlayDisableClose","cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth","cdkConnectedOverlayFlexibleDimensions"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"keydown","ngClass"]],template:function(i,o){if(i&1){let r=Ft();wt(B_e),w(0,"div",2,0),de("click",function(){return et(r),tt(o.open())}),w(3,"div",3),ee(4,V_e,2,1,"span",4)(5,U_e,3,1,"span",5),x(),w(6,"div",6)(7,"div",7),gi(),w(8,"svg",8),Y(9,"path",9),x()()()(),ee(10,q_e,3,10,"ng-template",10),de("detach",function(){return et(r),tt(o.close())})("backdropClick",function(){return et(r),tt(o.close())})("overlayKeydown",function(a){return et(r),tt(o._handleOverlayKeydown(a))})}if(i&2){let r=oo(1);D(3),ke("id",o._valueId),D(),Xe(o.empty?4:5),D(6),z("cdkConnectedOverlayDisableClose",!0)("cdkConnectedOverlayPanelClass",o._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",o._scrollStrategy)("cdkConnectedOverlayOrigin",o._preferredOverlayOrigin||r)("cdkConnectedOverlayPositions",o._positions)("cdkConnectedOverlayWidth",o._overlayWidth)("cdkConnectedOverlayFlexibleDimensions",!0)}},dependencies:[Tf,mD,qv],styles:[`@keyframes _mat-select-enter{from{opacity:0;transform:scaleY(0.8)}to{opacity:1;transform:none}}@keyframes _mat-select-exit{from{opacity:1}to{opacity:0}}.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color, var(--mat-sys-on-surface));font-family:var(--mat-select-trigger-text-font, var(--mat-sys-body-large-font));line-height:var(--mat-select-trigger-text-line-height, var(--mat-sys-body-large-line-height));font-size:var(--mat-select-trigger-text-size, var(--mat-sys-body-large-size));font-weight:var(--mat-select-trigger-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mat-select-trigger-text-tracking, var(--mat-sys-body-large-tracking))}div.mat-mdc-select-panel{box-shadow:var(--mat-select-container-elevation-shadow, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-select-disabled .mat-mdc-select-placeholder{color:var(--mat-select-disabled-trigger-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow,.mat-form-field-invalid:not(.mat-form-field-disabled) .mat-mdc-form-field-infix::after{color:var(--mat-select-invalid-arrow-color, var(--mat-sys-error))}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color, var(--mat-sys-on-surface-variant))}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color, var(--mat-sys-primary))}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}@media(forced-colors: active){.mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .mat-mdc-select-arrow svg{fill:GrayText}}div.mat-mdc-select-panel{width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:static;background-color:var(--mat-select-panel-background-color, var(--mat-sys-surface-container))}@media(forced-colors: active){div.mat-mdc-select-panel{outline:solid 1px}}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}div.mat-mdc-select-panel .mat-mdc-option{--mdc-list-list-item-container-color: var(--mat-select-panel-background-color)}.mat-select-panel-animations-enabled{animation:_mat-select-enter 120ms cubic-bezier(0, 0, 0.2, 1)}.mat-select-panel-animations-enabled.mat-select-panel-exit{animation:_mat-select-exit 100ms linear}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color, var(--mat-sys-on-surface-variant))}.mat-mdc-form-field:not(.mat-form-field-animations-enabled) .mat-mdc-select-placeholder,._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:var(--mat-select-arrow-transform, translateY(-8px))}
`],encapsulation:2,changeDetection:0})}return n})();var G_e=["tooltip"],Y$=20;var X$=new ae("mat-tooltip-scroll-strategy",{providedIn:"root",factory:()=>{let n=y(ar);return()=>n.scrollStrategies.reposition({scrollThrottle:Y$})}});function Z$(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}var Q$=new ae("mat-tooltip-default-options",{providedIn:"root",factory:Z$});var $$="tooltip-panel",K$=Qd({passive:!0}),$_e=8,K_e=8,Y_e=24,X_e=200,$a=(()=>{class n{_elementRef=y(Oe);_ngZone=y(Ye);_platform=y(Wt);_ariaDescriber=y(XS);_focusMonitor=y(ks);_dir=y(en);_injector=y(_i);_viewContainerRef=y(io);_defaultOptions=y(Q$,{optional:!0});_overlayRef;_tooltipInstance;_portal;_position="below";_positionAtOrigin=!1;_disabled=!1;_tooltipClass;_viewInitialized=!1;_pointerExitEventsInitialized=!1;_tooltipComponent=J$;_viewportMargin=8;_currentPosition;_cssClassPrefix="mat-mdc";_ariaDescriptionPending;_dirSubscribed=!1;get position(){return this._position}set position(e){e!==this._position&&(this._position=e,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(e){this._positionAtOrigin=fn(e),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(e){let i=fn(e);this._disabled!==i&&(this._disabled=i,i?this.hide(0):this._setupPointerEnterEventsIfNeeded(),this._syncAriaDescription(this.message))}get showDelay(){return this._showDelay}set showDelay(e){this._showDelay=Co(e)}_showDelay;get hideDelay(){return this._hideDelay}set hideDelay(e){this._hideDelay=Co(e),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}_hideDelay;touchGestures="auto";get message(){return this._message}set message(e){let i=this._message;this._message=e!=null?String(e).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage()),this._syncAriaDescription(i)}_message="";get tooltipClass(){return this._tooltipClass}set tooltipClass(e){this._tooltipClass=e,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}_passiveListeners=[];_touchstartTimeout=null;_destroyed=new De;_isDestroyed=!1;constructor(){let e=this._defaultOptions;e&&(this._showDelay=e.showDelay,this._hideDelay=e.hideDelay,e.position&&(this.position=e.position),e.positionAtOrigin&&(this.positionAtOrigin=e.positionAtOrigin),e.touchGestures&&(this.touchGestures=e.touchGestures),e.tooltipClass&&(this.tooltipClass=e.tooltipClass)),this._viewportMargin=$_e}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(Ct(this._destroyed)).subscribe(e=>{e?e==="keyboard"&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){let e=this._elementRef.nativeElement;this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([i,o])=>{e.removeEventListener(i,o,K$)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._isDestroyed=!0,this._ariaDescriber.removeDescription(e,this.message,"tooltip"),this._focusMonitor.stopMonitoring(e)}show(e=this.showDelay,i){if(this.disabled||!this.message||this._isTooltipVisible()){this._tooltipInstance?._cancelPendingAnimations();return}let o=this._createOverlay(i);this._detach(),this._portal=this._portal||new jc(this._tooltipComponent,this._viewContainerRef);let r=this._tooltipInstance=o.attach(this._portal).instance;r._triggerElement=this._elementRef.nativeElement,r._mouseLeaveHideDelay=this._hideDelay,r.afterHidden().pipe(Ct(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),r.show(e)}hide(e=this.hideDelay){let i=this._tooltipInstance;i&&(i.isVisible()?i.hide(e):(i._cancelPendingAnimations(),this._detach()))}toggle(e){this._isTooltipVisible()?this.hide():this.show(void 0,e)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(e){if(this._overlayRef){let s=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!e)&&s._origin instanceof Oe)return this._overlayRef;this._detach()}let i=this._injector.get(ru).getAncestorScrollContainers(this._elementRef),o=this._injector.get(ar),r=o.position().flexibleConnectedTo(this.positionAtOrigin?e||this._elementRef:this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(i);return r.positionChanges.pipe(Ct(this._destroyed)).subscribe(s=>{this._updateCurrentPositionClass(s.connectionPair),this._tooltipInstance&&s.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=o.create({direction:this._dir,positionStrategy:r,panelClass:`${this._cssClassPrefix}-${$$}`,scrollStrategy:this._injector.get(X$)()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(Ct(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(Ct(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(Ct(this._destroyed)).subscribe(s=>{this._isTooltipVisible()&&s.keyCode===27&&!Xn(s)&&(s.preventDefault(),s.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._dirSubscribed||(this._dirSubscribed=!0,this._dir.change.pipe(Ct(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(e){let i=e.getConfig().positionStrategy,o=this._getOrigin(),r=this._getOverlayPosition();i.withPositions([this._addOffset(j(j({},o.main),r.main)),this._addOffset(j(j({},o.fallback),r.fallback))])}_addOffset(e){let i=K_e,o=!this._dir||this._dir.value=="ltr";return e.originY==="top"?e.offsetY=-8:e.originY==="bottom"?e.offsetY=i:e.originX==="start"?e.offsetX=o?-8:i:e.originX==="end"&&(e.offsetX=o?i:-8),e}_getOrigin(){let e=!this._dir||this._dir.value=="ltr",i=this.position,o;i=="above"||i=="below"?o={originX:"center",originY:i=="above"?"top":"bottom"}:i=="before"||i=="left"&&e||i=="right"&&!e?o={originX:"start",originY:"center"}:(i=="after"||i=="right"&&e||i=="left"&&!e)&&(o={originX:"end",originY:"center"});let{x:r,y:s}=this._invertPosition(o.originX,o.originY);return{main:o,fallback:{originX:r,originY:s}}}_getOverlayPosition(){let e=!this._dir||this._dir.value=="ltr",i=this.position,o;i=="above"?o={overlayX:"center",overlayY:"bottom"}:i=="below"?o={overlayX:"center",overlayY:"top"}:i=="before"||i=="left"&&e||i=="right"&&!e?o={overlayX:"end",overlayY:"center"}:(i=="after"||i=="right"&&e||i=="left"&&!e)&&(o={overlayX:"start",overlayY:"center"});let{x:r,y:s}=this._invertPosition(o.overlayX,o.overlayY);return{main:o,fallback:{overlayX:r,overlayY:s}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),To(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()},{injector:this._injector}))}_setTooltipClass(e){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=e,this._tooltipInstance._markForCheck())}_invertPosition(e,i){return this.position==="above"||this.position==="below"?i==="top"?i="bottom":i==="bottom"&&(i="top"):e==="end"?e="start":e==="start"&&(e="end"),{x:e,y:i}}_updateCurrentPositionClass(e){let{overlayY:i,originX:o,originY:r}=e,s;if(i==="center"?this._dir&&this._dir.value==="rtl"?s=o==="end"?"left":"right":s=o==="start"?"left":"right":s=i==="bottom"&&r==="top"?"above":"below",s!==this._currentPosition){let a=this._overlayRef;if(a){let l=`${this._cssClassPrefix}-${$$}-`;a.removePanelClass(l+this._currentPosition),a.addPanelClass(l+s)}this._currentPosition=s}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",e=>{this._setupPointerExitEventsIfNeeded();let i;e.x!==void 0&&e.y!==void 0&&(i=e),this.show(void 0,i)}]):this.touchGestures!=="off"&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",e=>{let i=e.targetTouches?.[0],o=i?{x:i.clientX,y:i.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),this._touchstartTimeout&&clearTimeout(this._touchstartTimeout);let r=500;this._touchstartTimeout=setTimeout(()=>{this._touchstartTimeout=null,this.show(void 0,o)},this._defaultOptions?.touchLongPressShowDelay??r)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;let e=[];if(this._platformSupportsMouseEvents())e.push(["mouseleave",i=>{let o=i.relatedTarget;(!o||!this._overlayRef?.overlayElement.contains(o))&&this.hide()}],["wheel",i=>this._wheelListener(i)]);else if(this.touchGestures!=="off"){this._disableNativeGesturesIfNecessary();let i=()=>{this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions?.touchendHideDelay)};e.push(["touchend",i],["touchcancel",i])}this._addListeners(e),this._passiveListeners.push(...e)}_addListeners(e){e.forEach(([i,o])=>{this._elementRef.nativeElement.addEventListener(i,o,K$)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(e){if(this._isTooltipVisible()){let i=this._injector.get(dt).elementFromPoint(e.clientX,e.clientY),o=this._elementRef.nativeElement;i!==o&&!o.contains(i)&&this.hide()}}_disableNativeGesturesIfNecessary(){let e=this.touchGestures;if(e!=="off"){let i=this._elementRef.nativeElement,o=i.style;(e==="on"||i.nodeName!=="INPUT"&&i.nodeName!=="TEXTAREA")&&(o.userSelect=o.msUserSelect=o.webkitUserSelect=o.MozUserSelect="none"),(e==="on"||!i.draggable)&&(o.webkitUserDrag="none"),o.touchAction="none",o.webkitTapHighlightColor="transparent"}}_syncAriaDescription(e){this._ariaDescriptionPending||(this._ariaDescriptionPending=!0,this._ariaDescriber.removeDescription(this._elementRef.nativeElement,e,"tooltip"),this._isDestroyed||To({write:()=>{this._ariaDescriptionPending=!1,this.message&&!this.disabled&&this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")}},{injector:this._injector}))}static \u0275fac=function(i){return new(i||n)};static \u0275dir=me({type:n,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(i,o){i&2&&Se("mat-mdc-tooltip-disabled",o.disabled)},inputs:{position:[0,"matTooltipPosition","position"],positionAtOrigin:[0,"matTooltipPositionAtOrigin","positionAtOrigin"],disabled:[0,"matTooltipDisabled","disabled"],showDelay:[0,"matTooltipShowDelay","showDelay"],hideDelay:[0,"matTooltipHideDelay","hideDelay"],touchGestures:[0,"matTooltipTouchGestures","touchGestures"],message:[0,"matTooltip","message"],tooltipClass:[0,"matTooltipClass","tooltipClass"]},exportAs:["matTooltip"]})}return n})(),J$=(()=>{class n{_changeDetectorRef=y(Gt);_elementRef=y(Oe);_isMultiline=!1;message;tooltipClass;_showTimeoutId;_hideTimeoutId;_triggerElement;_mouseLeaveHideDelay;_animationsDisabled;_tooltip;_closeOnInteraction=!1;_isVisible=!1;_onHide=new De;_showAnimation="mat-mdc-tooltip-show";_hideAnimation="mat-mdc-tooltip-hide";constructor(){let e=y(Ei,{optional:!0});this._animationsDisabled=e==="NoopAnimations"}show(e){this._hideTimeoutId!=null&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},e)}hide(e){this._showTimeoutId!=null&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},e)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:e}){(!e||!this._triggerElement.contains(e))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){let e=this._elementRef.nativeElement.getBoundingClientRect();return e.height>Y_e&&e.width>=X_e}_handleAnimationEnd({animationName:e}){(e===this._showAnimation||e===this._hideAnimation)&&this._finalizeAnimation(e===this._showAnimation)}_cancelPendingAnimations(){this._showTimeoutId!=null&&clearTimeout(this._showTimeoutId),this._hideTimeoutId!=null&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(e){e?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(e){let i=this._tooltip.nativeElement,o=this._showAnimation,r=this._hideAnimation;if(i.classList.remove(e?r:o),i.classList.add(e?o:r),this._isVisible!==e&&(this._isVisible=e,this._changeDetectorRef.markForCheck()),e&&!this._animationsDisabled&&typeof getComputedStyle=="function"){let s=getComputedStyle(i);(s.getPropertyValue("animation-duration")==="0s"||s.getPropertyValue("animation-name")==="none")&&(this._animationsDisabled=!0)}e&&this._onShow(),this._animationsDisabled&&(i.classList.add("_mat-animation-noopable"),this._finalizeAnimation(e))}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Z({type:n,selectors:[["mat-tooltip-component"]],viewQuery:function(i,o){if(i&1&&st(G_e,7),i&2){let r;fe(r=ge())&&(o._tooltip=r.first)}},hostAttrs:["aria-hidden","true"],hostBindings:function(i,o){i&1&&de("mouseleave",function(s){return o._handleMouseLeave(s)})},decls:4,vars:4,consts:[["tooltip",""],[1,"mdc-tooltip","mat-mdc-tooltip",3,"animationend","ngClass"],[1,"mat-mdc-tooltip-surface","mdc-tooltip__surface"]],template:function(i,o){if(i&1){let r=Ft();w(0,"div",1,0),de("animationend",function(a){return et(r),tt(o._handleAnimationEnd(a))}),w(2,"div",2),P(3),x()()}i&2&&(Se("mdc-tooltip--multiline",o._isMultiline),z("ngClass",o.tooltipClass),D(3),xe(o.message))},dependencies:[qv],styles:[`.mat-mdc-tooltip{position:relative;transform:scale(0);display:inline-flex}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-surface{word-break:normal;overflow-wrap:anywhere;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center;will-change:transform,opacity;background-color:var(--mdc-plain-tooltip-container-color, var(--mat-sys-inverse-surface));color:var(--mdc-plain-tooltip-supporting-text-color, var(--mat-sys-inverse-on-surface));border-radius:var(--mdc-plain-tooltip-container-shape, var(--mat-sys-corner-extra-small));font-family:var(--mdc-plain-tooltip-supporting-text-font, var(--mat-sys-body-small-font));font-size:var(--mdc-plain-tooltip-supporting-text-size, var(--mat-sys-body-small-size));font-weight:var(--mdc-plain-tooltip-supporting-text-weight, var(--mat-sys-body-small-weight));line-height:var(--mdc-plain-tooltip-supporting-text-line-height, var(--mat-sys-body-small-line-height));letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking, var(--mat-sys-body-small-tracking))}.mat-mdc-tooltip-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:right}.mat-mdc-tooltip-panel{line-height:normal}.mat-mdc-tooltip-panel.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}
`],encapsulation:2,changeDetection:0})}return n})();function J_e(n,t){if(n&1&&(w(0,"mat-option",17),P(1),x()),n&2){let e=t.$implicit;z("value",e),D(),ni(" ",e," ")}}function eve(n,t){if(n&1){let e=Ft();w(0,"mat-form-field",14)(1,"mat-select",16,0),de("selectionChange",function(o){et(e);let r=X(2);return tt(r._changePageSize(o.value))}),$r(3,J_e,2,2,"mat-option",17,Gs),x(),w(5,"div",18),de("click",function(){et(e);let o=oo(2);return tt(o.open())}),x()()}if(n&2){let e=X(2);z("appearance",e._formFieldAppearance)("color",e.color),D(),z("value",e.pageSize)("disabled",e.disabled)("aria-labelledby",e._pageSizeLabelId)("panelClass",e.selectConfig.panelClass||"")("disableOptionCentering",e.selectConfig.disableOptionCentering),D(2),Kr(e._displayedPageSizeOptions)}}function tve(n,t){if(n&1&&(w(0,"div",15),P(1),x()),n&2){let e=X(2);D(),xe(e.pageSize)}}function ive(n,t){if(n&1&&(w(0,"div",3)(1,"div",13),P(2),x(),ee(3,eve,6,7,"mat-form-field",14)(4,tve,2,1,"div",15),x()),n&2){let e=X();D(),ke("id",e._pageSizeLabelId),D(),ni(" ",e._intl.itemsPerPageLabel," "),D(),Xe(e._displayedPageSizeOptions.length>1?3:-1),D(),Xe(e._displayedPageSizeOptions.length<=1?4:-1)}}function nve(n,t){if(n&1){let e=Ft();w(0,"button",19),de("click",function(){et(e);let o=X();return tt(o._buttonClicked(0,o._previousButtonsDisabled()))}),gi(),w(1,"svg",8),Y(2,"path",20),x()()}if(n&2){let e=X();z("matTooltip",e._intl.firstPageLabel)("matTooltipDisabled",e._previousButtonsDisabled())("disabled",e._previousButtonsDisabled())("tabindex",e._previousButtonsDisabled()?-1:null),ke("aria-label",e._intl.firstPageLabel)}}function ove(n,t){if(n&1){let e=Ft();w(0,"button",21),de("click",function(){et(e);let o=X();return tt(o._buttonClicked(o.getNumberOfPages()-1,o._nextButtonsDisabled()))}),gi(),w(1,"svg",8),Y(2,"path",22),x()()}if(n&2){let e=X();z("matTooltip",e._intl.lastPageLabel)("matTooltipDisabled",e._nextButtonsDisabled())("disabled",e._nextButtonsDisabled())("tabindex",e._nextButtonsDisabled()?-1:null),ke("aria-label",e._intl.lastPageLabel)}}var sy=(()=>{class n{changes=new De;itemsPerPageLabel="Items per page:";nextPageLabel="Next page";previousPageLabel="Previous page";firstPageLabel="First page";lastPageLabel="Last page";getRangeLabel=(e,i,o)=>{if(o==0||i==0)return`0 of ${o}`;o=Math.max(o,0);let r=e*i,s=r<o?Math.min(r+i,o):r+i;return`${r+1} \u2013 ${s} of ${o}`};static \u0275fac=function(i){return new(i||n)};static \u0275prov=se({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var rve=50;var sve=new ae("MAT_PAGINATOR_DEFAULT_OPTIONS"),Xc=(()=>{class n{_intl=y(sy);_changeDetectorRef=y(Gt);_formFieldAppearance;_pageSizeLabelId=y(Bn).getId("mat-paginator-page-size-label-");_intlChanges;_isInitialized=!1;_initializedStream=new mx(1);color;get pageIndex(){return this._pageIndex}set pageIndex(e){this._pageIndex=Math.max(e||0,0),this._changeDetectorRef.markForCheck()}_pageIndex=0;get length(){return this._length}set length(e){this._length=e||0,this._changeDetectorRef.markForCheck()}_length=0;get pageSize(){return this._pageSize}set pageSize(e){this._pageSize=Math.max(e||0,0),this._updateDisplayedPageSizeOptions()}_pageSize;get pageSizeOptions(){return this._pageSizeOptions}set pageSizeOptions(e){this._pageSizeOptions=(e||[]).map(i=>Yi(i,0)),this._updateDisplayedPageSizeOptions()}_pageSizeOptions=[];hidePageSize=!1;showFirstLastButtons=!1;selectConfig={};disabled=!1;page=new Le;_displayedPageSizeOptions;initialized=this._initializedStream;constructor(){let e=this._intl,i=y(sve,{optional:!0});if(this._intlChanges=e.changes.subscribe(()=>this._changeDetectorRef.markForCheck()),i){let{pageSize:o,pageSizeOptions:r,hidePageSize:s,showFirstLastButtons:a}=i;o!=null&&(this._pageSize=o),r!=null&&(this._pageSizeOptions=r),s!=null&&(this.hidePageSize=s),a!=null&&(this.showFirstLastButtons=a)}this._formFieldAppearance=i?.formFieldAppearance||"outline"}ngOnInit(){this._isInitialized=!0,this._updateDisplayedPageSizeOptions(),this._initializedStream.next()}ngOnDestroy(){this._initializedStream.complete(),this._intlChanges.unsubscribe()}nextPage(){this.hasNextPage()&&this._navigate(this.pageIndex+1)}previousPage(){this.hasPreviousPage()&&this._navigate(this.pageIndex-1)}firstPage(){this.hasPreviousPage()&&this._navigate(0)}lastPage(){this.hasNextPage()&&this._navigate(this.getNumberOfPages()-1)}hasPreviousPage(){return this.pageIndex>=1&&this.pageSize!=0}hasNextPage(){let e=this.getNumberOfPages()-1;return this.pageIndex<e&&this.pageSize!=0}getNumberOfPages(){return this.pageSize?Math.ceil(this.length/this.pageSize):0}_changePageSize(e){let i=this.pageIndex*this.pageSize,o=this.pageIndex;this.pageIndex=Math.floor(i/e)||0,this.pageSize=e,this._emitPageEvent(o)}_nextButtonsDisabled(){return this.disabled||!this.hasNextPage()}_previousButtonsDisabled(){return this.disabled||!this.hasPreviousPage()}_updateDisplayedPageSizeOptions(){this._isInitialized&&(this.pageSize||(this._pageSize=this.pageSizeOptions.length!=0?this.pageSizeOptions[0]:rve),this._displayedPageSizeOptions=this.pageSizeOptions.slice(),this._displayedPageSizeOptions.indexOf(this.pageSize)===-1&&this._displayedPageSizeOptions.push(this.pageSize),this._displayedPageSizeOptions.sort((e,i)=>e-i),this._changeDetectorRef.markForCheck())}_emitPageEvent(e){this.page.emit({previousPageIndex:e,pageIndex:this.pageIndex,pageSize:this.pageSize,length:this.length})}_navigate(e){let i=this.pageIndex;e!==i&&(this.pageIndex=e,this._emitPageEvent(i))}_buttonClicked(e,i){i||this._navigate(e)}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Z({type:n,selectors:[["mat-paginator"]],hostAttrs:["role","group",1,"mat-mdc-paginator"],inputs:{color:"color",pageIndex:[2,"pageIndex","pageIndex",Yi],length:[2,"length","length",Yi],pageSize:[2,"pageSize","pageSize",Yi],pageSizeOptions:"pageSizeOptions",hidePageSize:[2,"hidePageSize","hidePageSize",Ke],showFirstLastButtons:[2,"showFirstLastButtons","showFirstLastButtons",Ke],selectConfig:"selectConfig",disabled:[2,"disabled","disabled",Ke]},outputs:{page:"page"},exportAs:["matPaginator"],decls:14,vars:14,consts:[["selectRef",""],[1,"mat-mdc-paginator-outer-container"],[1,"mat-mdc-paginator-container"],[1,"mat-mdc-paginator-page-size"],[1,"mat-mdc-paginator-range-actions"],["aria-live","polite",1,"mat-mdc-paginator-range-label"],["mat-icon-button","","type","button","matTooltipPosition","above","disabledInteractive","",1,"mat-mdc-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","disabled","tabindex"],["mat-icon-button","","type","button","matTooltipPosition","above","disabledInteractive","",1,"mat-mdc-paginator-navigation-previous",3,"click","matTooltip","matTooltipDisabled","disabled","tabindex"],["viewBox","0 0 24 24","focusable","false","aria-hidden","true",1,"mat-mdc-paginator-icon"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button","matTooltipPosition","above","disabledInteractive","",1,"mat-mdc-paginator-navigation-next",3,"click","matTooltip","matTooltipDisabled","disabled","tabindex"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],["mat-icon-button","","type","button","matTooltipPosition","above","disabledInteractive","",1,"mat-mdc-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","disabled","tabindex"],[1,"mat-mdc-paginator-page-size-label"],[1,"mat-mdc-paginator-page-size-select",3,"appearance","color"],[1,"mat-mdc-paginator-page-size-value"],["hideSingleSelectionIndicator","",3,"selectionChange","value","disabled","aria-labelledby","panelClass","disableOptionCentering"],[3,"value"],[1,"mat-mdc-paginator-touch-target",3,"click"],["mat-icon-button","","type","button","matTooltipPosition","above","disabledInteractive","",1,"mat-mdc-paginator-navigation-first",3,"click","matTooltip","matTooltipDisabled","disabled","tabindex"],["d","M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"],["mat-icon-button","","type","button","matTooltipPosition","above","disabledInteractive","",1,"mat-mdc-paginator-navigation-last",3,"click","matTooltip","matTooltipDisabled","disabled","tabindex"],["d","M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"]],template:function(i,o){i&1&&(w(0,"div",1)(1,"div",2),ee(2,ive,5,4,"div",3),w(3,"div",4)(4,"div",5),P(5),x(),ee(6,nve,3,5,"button",6),w(7,"button",7),de("click",function(){return o._buttonClicked(o.pageIndex-1,o._previousButtonsDisabled())}),gi(),w(8,"svg",8),Y(9,"path",9),x()(),nv(),w(10,"button",10),de("click",function(){return o._buttonClicked(o.pageIndex+1,o._nextButtonsDisabled())}),gi(),w(11,"svg",8),Y(12,"path",11),x()(),ee(13,ove,3,5,"button",12),x()()()),i&2&&(D(2),Xe(o.hidePageSize?-1:2),D(3),ni(" ",o._intl.getRangeLabel(o.pageIndex,o.pageSize,o.length)," "),D(),Xe(o.showFirstLastButtons?6:-1),D(),z("matTooltip",o._intl.previousPageLabel)("matTooltipDisabled",o._previousButtonsDisabled())("disabled",o._previousButtonsDisabled())("tabindex",o._previousButtonsDisabled()?-1:null),ke("aria-label",o._intl.previousPageLabel),D(3),z("matTooltip",o._intl.nextPageLabel)("matTooltipDisabled",o._nextButtonsDisabled())("disabled",o._nextButtonsDisabled())("tabindex",o._nextButtonsDisabled()?-1:null),ke("aria-label",o._intl.nextPageLabel),D(3),Xe(o.showFirstLastButtons?13:-1))},dependencies:[zo,Yc,Sr,As,$a],styles:[`.mat-mdc-paginator{display:block;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-paginator-container-text-color, var(--mat-sys-on-surface));background-color:var(--mat-paginator-container-background-color, var(--mat-sys-surface));font-family:var(--mat-paginator-container-text-font, var(--mat-sys-body-small-font));line-height:var(--mat-paginator-container-text-line-height, var(--mat-sys-body-small-line-height));font-size:var(--mat-paginator-container-text-size, var(--mat-sys-body-small-size));font-weight:var(--mat-paginator-container-text-weight, var(--mat-sys-body-small-weight));letter-spacing:var(--mat-paginator-container-text-tracking, var(--mat-sys-body-small-tracking));--mat-form-field-container-height:var(--mat-paginator-form-field-container-height, 40px);--mat-form-field-container-vertical-padding:var(--mat-paginator-form-field-container-vertical-padding, 8px)}.mat-mdc-paginator .mat-mdc-select-value{font-size:var(--mat-paginator-select-trigger-text-size, var(--mat-sys-body-small-size))}.mat-mdc-paginator .mat-mdc-form-field-subscript-wrapper{display:none}.mat-mdc-paginator .mat-mdc-select{line-height:1.5}.mat-mdc-paginator-outer-container{display:flex}.mat-mdc-paginator-container{display:flex;align-items:center;justify-content:flex-end;padding:0 8px;flex-wrap:wrap;width:100%;min-height:var(--mat-paginator-container-size, 56px)}.mat-mdc-paginator-page-size{display:flex;align-items:baseline;margin-right:8px}[dir=rtl] .mat-mdc-paginator-page-size{margin-right:0;margin-left:8px}.mat-mdc-paginator-page-size-label{margin:0 4px}.mat-mdc-paginator-page-size-select{margin:0 4px;width:84px}.mat-mdc-paginator-range-label{margin:0 32px 0 24px}.mat-mdc-paginator-range-actions{display:flex;align-items:center}.mat-mdc-paginator-icon{display:inline-block;width:28px;fill:var(--mat-paginator-enabled-icon-color, var(--mat-sys-on-surface-variant))}.mat-mdc-icon-button[aria-disabled] .mat-mdc-paginator-icon{fill:var(--mat-paginator-disabled-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}[dir=rtl] .mat-mdc-paginator-icon{transform:rotate(180deg)}@media(forced-colors: active){.mat-mdc-icon-button[aria-disabled] .mat-mdc-paginator-icon,.mat-mdc-paginator-icon{fill:currentColor}.mat-mdc-paginator-range-actions .mat-mdc-icon-button{outline:solid 1px}.mat-mdc-paginator-range-actions .mat-mdc-icon-button[aria-disabled]{color:GrayText}}.mat-mdc-paginator-touch-target{display:var(--mat-paginator-touch-target-display, block);position:absolute;top:50%;left:50%;width:84px;height:48px;background-color:rgba(0,0,0,0);transform:translate(-50%, -50%);cursor:pointer}
`],encapsulation:2,changeDetection:0})}return n})();var Ut=class n{static findByPairWithMaxScore(t,e){if(t&&t.length>0){let i=t.sort((r,s)=>n.compareByScore(r,s,e)*-1),o=this.getScoreByType(i[0],e);return o!=null&&o.score>0?i[0]:null}return null}static compareByScore(t,e,i){let o=n.getScoreByType(t,i),r=n.getScoreByType(e,i);return o?r?o.score-r.score:1:-1}static getFormattedScore(t,e,i=2){let o=this.getScoreByType(t,e);return o!==null?this.formatScore(o.score,i):"0 %"}static formatScore(t,e=2){return(t*100).toFixed(e)+" %"}static getScoreByType(t,e){if(t){let i=t.plagScores.find(o=>o.type===e);return i||null}return null}static hasIndexedSubmission(t,e){let i=e.get(t.firstId),o=e.get(t.secondId);return i.indexed||o.indexed}};var iL=class{_document;_textarea;constructor(t,e){this._document=e;let i=this._textarea=this._document.createElement("textarea"),o=i.style;o.position="fixed",o.top=o.opacity="0",o.left="-999em",i.setAttribute("aria-hidden","true"),i.value=t,i.readOnly=!0,(this._document.fullscreenElement||this._document.body).appendChild(i)}copy(){let t=this._textarea,e=!1;try{if(t){let i=this._document.activeElement;t.select(),t.setSelectionRange(0,t.value.length),e=this._document.execCommand("copy"),i&&i.focus()}}catch{}return e}destroy(){let t=this._textarea;t&&(t.remove(),this._textarea=void 0)}},e9=(()=>{class n{_document=y(dt);constructor(){}copy(e){let i=this.beginCopy(e),o=i.copy();return i.destroy(),o}beginCopy(e){return new iL(e,this._document)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=se({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var ss=class n{constructor(t){this.clipboard=t}isScrolled=!1;isCopied=!1;tabindex="0";onScroll(t){this.isScrolled=t.scrollLeft>0}onClick(t){let e=t.textContent;e&&(this.clipboard.copy(e),this.showFeedback())}showFeedback(){this.isCopied=!0,setTimeout(()=>{this.isCopied=!1},500)}static \u0275fac=function(e){return new(e||n)(J(e9))};static \u0275dir=me({type:n,selectors:[["","appTextOverflowScroll",""]],hostVars:5,hostBindings:function(e,i){e&1&&de("scroll",function(r){return i.onScroll(r.target)})("click",function(r){return i.onClick(r.target)}),e&2&&(ke("tabindex",i.tabindex),Se("scrolled",i.isScrolled)("text-copy",i.isCopied))}})};var lve=()=>[10,20,30,40];function cve(n,t){n&1&&(w(0,"th",22),P(1," Odosielate\u013E dokumentu "),x())}function dve(n,t){if(n&1&&(w(0,"td",23)(1,"div",24),P(2),x()()),n&2){let e=t.$implicit,i=X();D(2),ni(" ",i.getSubmissionById(e.firstId).fileData.submitter," ")}}function uve(n,t){n&1&&(w(0,"th",25),P(1," Odosielate\u013E dokumentu "),x())}function hve(n,t){if(n&1&&(w(0,"td",23)(1,"div",24),P(2),x()()),n&2){let e=t.$implicit,i=X();D(2),ni(" ",i.getSubmissionById(e.secondId).fileData.submitter," ")}}function mve(n,t){n&1&&(w(0,"th",26),P(1," Zhoda meta\xFAdajov "),x())}function pve(n,t){if(n&1&&(w(0,"td",23),P(1),x()),n&2){let e=t.$implicit,i=X();D(),ni(" ",i.isMetadataMatched(e)?"Pr\xEDtomn\xE1":"Nen\xE1jden\xE1"," ")}}function fve(n,t){n&1&&(w(0,"th",27),P(1," Jaccardov koeficient (slovn\xE9 n-gramy) "),x())}function gve(n,t){if(n&1&&(w(0,"td",23),P(1),x()),n&2){let e=t.$implicit,i=X();D(),ni(" ",i.getScoreByType(e,"JACCARD")," ")}}function _ve(n,t){n&1&&(w(0,"th",28),P(1," Semantick\xE1 podobnos\u0165 "),x())}function vve(n,t){if(n&1&&(w(0,"td",23),P(1),x()),n&2){let e=t.$implicit,i=X();D(),ni(" ",i.getScoreByType(e,"SEMANTIC")," ")}}function bve(n,t){n&1&&Y(0,"th",29)}function yve(n,t){if(n&1){let e=Ft();w(0,"td",23)(1,"button",30),de("click",function(){let o=et(e).$implicit,r=X();return tt(r.onLoadPair(o))}),P(2," Na\u010Dita\u0165 "),x()()}}function wve(n,t){n&1&&Y(0,"tr",31)}function xve(n,t){n&1&&Y(0,"tr",32)}var gu=class n{constructor(t,e,i){this.analysisContext=t;this.routeContextService=e;this.router=i;cn(()=>{this.pairsDataSource.data=this.pairsSource().sort((o,r)=>this.getMaxScore(r)-this.getMaxScore(o))})}static CONTEXT_KEY="pairs-table";pairsDisplayedColumns=["firstDocumentName","secondDocumentName","meta-match","jaccard-sim","sem-sim","moreButton"];pairsSource;contextPrefix="";isHalfPage=!1;sort;matPaginator;searchText=Ue("");pairsDataSource=new fu;ngAfterViewInit(){this.pairsDataSource.paginator=this.matPaginator,this.pairsDataSource.filterPredicate=this.rowsFilter.bind(this),this.pairsDataSource.sort=this.sort,this.applyContext()}rowsFilter(t,e){let i=this.getSubmissionById(t.firstId),o=this.getSubmissionById(t.secondId),r=`${i.fileData.submitter.toLowerCase()} ${o.fileData.submitter.toLowerCase()}`,s=e.split(/\s+/);for(let a of s)if(!r.includes(a))return!1;return!0}getSubmissionById(t){return this.analysisContext.getReport()().submissions.get(t)}onSorting(t){let e=t.direction==="asc"?1:-1;switch(t.active){case"first":{this.pairsDataSource.filteredData.sort((i,o)=>this.getSubmissionById(i.firstId).fileData.submitter.localeCompare(this.getSubmissionById(o.firstId).fileData.submitter)*e);break}case"second":{this.pairsDataSource.filteredData.sort((i,o)=>this.getSubmissionById(i.secondId).fileData.submitter.localeCompare(this.getSubmissionById(o.secondId).fileData.submitter)*e);break}case"meta-match":{this.pairsDataSource.filteredData.sort((i,o)=>Ut.compareByScore(i,o,"META")*e);break}case"jaccard-sim":{this.pairsDataSource.filteredData.sort((i,o)=>Ut.compareByScore(i,o,"JACCARD")*e);break}case"sem-sim":{this.pairsDataSource.filteredData.sort((i,o)=>Ut.compareByScore(i,o,"SEMANTIC")*e);break}}}onLoadPair(t){this.router.navigate(["/pairs",t.id])}applyFilter(t){this.pairsDataSource.filter=t.trim()?.toLowerCase()}isMetadataMatched(t){let e=Ut.getScoreByType(t,"META");return e?e.score>0:0}getScoreByType(t,e){let i=Ut.getScoreByType(t,e);return Ut.formatScore(i?i.score:0,1)}getMaxScore(t){let e=[...t.plagScores.map(i=>i.score*100)];return Math.max(...e)}ngOnDestroy(){this.routeContextService.putProperty(n.CONTEXT_KEY,JSON.stringify({filter:this.searchText()}),this.contextPrefix)}applyContext(){let t=this.routeContextService.popProperty(n.CONTEXT_KEY,this.contextPrefix);if(t){let e=JSON.parse(t);this.searchText.set(e.filter),this.applyFilter(this.searchText())}}static \u0275fac=function(e){return new(e||n)(J(jt),J(Fl),J(pi))};static \u0275cmp=Z({type:n,selectors:[["app-pairs-table"]],viewQuery:function(e,i){if(e&1&&(st(zl,5),st(Xc,5)),e&2){let o;fe(o=ge())&&(i.sort=o.first),fe(o=ge())&&(i.matPaginator=o.first)}},inputs:{pairsSource:"pairsSource",contextPrefix:"contextPrefix",isHalfPage:"isHalfPage"},decls:29,vars:13,consts:[[1,"table-container"],[1,"table-search-row"],[1,"search-bar"],["matInput","",3,"ngModelChange","ngModel"],[1,"table-responsive","height-65"],["mat-table","","matSort","",1,"mat-elevation-z20",3,"matSortChange","dataSource"],["matColumnDef","firstDocumentName"],["mat-header-cell","","mat-sort-header","first",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","secondDocumentName"],["mat-header-cell","","mat-sort-header","second",4,"matHeaderCellDef"],["matColumnDef","meta-match"],["mat-header-cell","","mat-sort-header","meta-match",4,"matHeaderCellDef"],["matColumnDef","jaccard-sim"],["mat-header-cell","","mat-sort-header","jaccard-sim",4,"matHeaderCellDef"],["matColumnDef","sem-sim"],["mat-header-cell","","mat-sort-header","sem-sim",4,"matHeaderCellDef"],["matColumnDef","moreButton"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"length","pageSize","pageSizeOptions"],["mat-header-cell","","mat-sort-header","first"],["mat-cell",""],["appTextOverflowScroll","",1,"scrollable-text"],["mat-header-cell","","mat-sort-header","second"],["mat-header-cell","","mat-sort-header","meta-match"],["mat-header-cell","","mat-sort-header","jaccard-sim"],["mat-header-cell","","mat-sort-header","sem-sim"],["mat-header-cell",""],["mat-button","",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(e,i){e&1&&(w(0,"div",0)(1,"div",1)(2,"mat-form-field",2)(3,"mat-label"),P(4,"H\u013Eada\u0165"),x(),w(5,"input",3),ka("ngModelChange",function(r){return Ma(i.searchText,r)||(i.searchText=r),r}),de("ngModelChange",function(r){return i.applyFilter(r)}),x()()(),w(6,"div",4)(7,"table",5),de("matSortChange",function(r){return i.onSorting(r)}),sn(8,6),ee(9,cve,2,0,"th",7)(10,dve,3,1,"td",8),an(),sn(11,9),ee(12,uve,2,0,"th",10)(13,hve,3,1,"td",8),an(),sn(14,11),ee(15,mve,2,0,"th",12)(16,pve,2,1,"td",8),an(),sn(17,13),ee(18,fve,2,0,"th",14)(19,gve,2,1,"td",8),an(),sn(20,15),ee(21,_ve,2,0,"th",16)(22,vve,2,1,"td",8),an(),sn(23,17),ee(24,bve,1,0,"th",18)(25,yve,3,0,"td",8),an(),ee(26,wve,1,0,"tr",19)(27,xve,1,0,"tr",20),x()(),Y(28,"mat-paginator",21),x()),e&2&&(Se("height-50",i.isHalfPage)("width-55",i.isHalfPage),D(5),Ea("ngModel",i.searchText),D(2),z("dataSource",i.pairsDataSource),D(19),z("matHeaderRowDef",i.pairsDisplayedColumns)("matHeaderRowDefSticky",!0),D(),z("matRowDefColumns",i.pairsDisplayedColumns),D(),z("length",i.pairsDataSource.data.length)("pageSize",20)("pageSizeOptions",$s(12,lve)))},dependencies:[zo,pu,Zn,ns,os,Rs,Hf,zl,jf,Uf,qf,Tn,Kf,Fo,Yf,Xc,Zf,Vf,Wf,Gf,$f,ss],styles:[`.mat-column-meta-match{min-width:10%;width:10%}.mat-column-firstDocumentName,.mat-column-secondDocumentName{box-sizing:content-box;min-width:25%;width:25%}.mat-column-moreButton{text-align:center;width:8%;min-width:8%}.mat-column-jaccard-sim,.mat-column-sem-sim{min-width:8%}th[mat-sort-header=sem-sim] .mat-sort-header-container,th[mat-sort-header=jaccard-sim] .mat-sort-header-container{justify-content:flex-end}td.mat-column-jaccard-sim,td.mat-column-sem-sim{text-align:end}
`,`:root{--mdc-filled-text-field-container-color: #faf9fd}:root{--mdc-filled-text-field-focus-active-indicator-color: transparent}:root{--mdc-filled-text-field-active-indicator-height: 0}.table-responsive{display:block;min-width:100%;box-sizing:border-box;overflow-x:scroll;overflow-y:scroll;border-bottom:1px solid var(--mat-sys-outline);background-color:#faf9fd}.table-responsive .mat-mdc-table{table-layout:auto;min-width:100%;max-width:100%;margin-bottom:1rem;display:table;border-collapse:collapse;margin:0;overflow-x:scroll}.table-responsive .mat-row,.table-responsive .mat-header-row{display:table-row}.table-responsive .mat-mdc-cell,.table-responsive .mat-mdc-header-cell{word-wrap:initial;display:table-cell;padding:0 8px;line-break:unset;flex-direction:column;white-space:nowrap;overflow:hidden;vertical-align:middle}.table-container{display:flex;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f;width:100%;flex-direction:column;box-sizing:border-box;overflow:hidden;border-radius:var(--mat-sys-corner-extra-large);background-color:var(--mat-sys-surface-container-high)}.table-container .table-search-row{display:flex;flex-direction:row;gap:8px;justify-content:space-between;align-items:center;padding:8px}.table-container .search-bar{width:100%;box-shadow:0 3px 1px -2px #0003,0 2px 2px #00000024,0 1px 5px #0000001f;overflow:hidden;border-radius:var(--mat-sys-corner-extra-large)}.table-container .search-bar .mat-mdc-form-field-subscript-wrapper{width:0;height:0}.table-container mat-paginator{border-radius:var(--mat-sys-corner-extra-small)}@media (max-width: 1350px){.table-container{width:900px}}@media (max-width: 1050px){.table-container{width:640px}}@media (max-width: 440px){.table-container{width:100%}}.cell-width-12{max-width:12rem}.cell-width-6{max-width:6rem}.height-65{height:65vh}.height-50{height:50vh}.width-50{width:50vw}.width-55{min-width:60vw}td.meta-warning{background-color:#ffb300}
`],encapsulation:2})};function Cve(n,t){n&1&&(w(0,"app-surface",2),Y(1,"mat-progress-bar",3),x())}function Sve(n,t){if(n&1&&(w(0,"app-surface",4),Y(1,"app-pairs-table",5),x()),n&2){let e=X();z("isTitleCentered",!0)("isContentCentered",!1),D(),z("pairsSource",e.pairs)}}var KD=class n{constructor(t){this.analysisContext=t;cn(()=>{let e=this.analysisContext.getReport()().pairs.values();e&&(this.pairs.set(Array.from(e)),this.isReportLoaded=!0)})}pairs=Ue([]);isReportLoaded=!1;static \u0275fac=function(e){return new(e||n)(J(jt))};static \u0275cmp=Z({type:n,selectors:[["app-submission-pairs-page"]],decls:3,vars:2,consts:[["title","Na\u010D\xEDtanie dvoj\xEDc","subtitle","",4,"ngIf"],["title","Dvojice odovzdan\xED","subtitle","",3,"isTitleCentered","isContentCentered",4,"ngIf"],["title","Na\u010D\xEDtanie dvoj\xEDc","subtitle",""],["mode","indeterminate"],["title","Dvojice odovzdan\xED","subtitle","",3,"isTitleCentered","isContentCentered"],["contextPrefix","submission-pairs-page",3,"pairsSource"]],template:function(e,i){e&1&&(w(0,"app-content-container"),ee(1,Cve,2,0,"app-surface",0)(2,Sve,2,3,"app-surface",1),x()),e&2&&(D(),z("ngIf",!i.isReportLoaded),D(),z("ngIf",i.isReportLoaded))},dependencies:[Zn,uo,hu,Rn,gu,On],encapsulation:2})};var Dve=["editorContainer"],Ive="[_nghost-%COMP%]{display:block;height:200px}.editor-container[_ngcontent-%COMP%]{width:100%;height:98%}",n9=new ae("NGX_MONACO_EDITOR_CONFIG"),t9=!1,i9,o9=(()=>{class n{constructor(){this.config=y(n9),this.onInit=new Le,this._insideNg=!1}set insideNg(e){this._insideNg=e,this._editor&&(this._editor.dispose(),this.initMonaco(this._options,this.insideNg))}get insideNg(){return this._insideNg}ngAfterViewInit(){t9?i9.then(()=>{this.initMonaco(this._options,this.insideNg)}):(t9=!0,i9=new Promise(e=>{let i=this.config.baseUrl;if((i==="assets"||!i)&&(i="./assets/monaco/min/vs"),typeof window.monaco=="object"){this.initMonaco(this._options,this.insideNg),e();return}let o=a=>{let l=a||window.require,c={paths:{vs:`${i}`}};Object.assign(c,this.config.requireConfig||{}),l.config(c),l(["vs/editor/editor.main"],()=>{typeof this.config.onMonacoLoad=="function"&&this.config.onMonacoLoad(),this.initMonaco(this._options,this.insideNg),e()})};if(this.config.monacoRequire)o(this.config.monacoRequire);else if(window.require)if(window.require.config)o();else{var r=`${i}/loader.js`,s=new XMLHttpRequest;s.addEventListener("load",()=>{let a=document.createElement("script");a.type="text/javascript",a.text=["var nodeRequire = require;",s.responseText.replace('"use strict";',""),"var monacoAmdRequire = require;","require = nodeRequire;","require.nodeRequire = require;"].join(`
`),document.body.appendChild(a),o(window.monacoAmdRequire)}),s.open("GET",r),s.send()}else{let a=document.createElement("script");a.type="text/javascript",a.src=`${i}/loader.js`,a.addEventListener("load",()=>{o()}),document.body.appendChild(a)}}))}ngOnDestroy(){this._windowResizeSubscription&&this._windowResizeSubscription.unsubscribe(),this._editor&&(this._editor.dispose(),this._editor=void 0)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=Z({type:n,selectors:[["ng-component"]],viewQuery:function(i,o){if(i&1&&st(Dve,7),i&2){let r;fe(r=ge())&&(o._editorContainer=r.first)}},inputs:{insideNg:"insideNg"},outputs:{onInit:"onInit"},standalone:!1,decls:0,vars:0,template:function(i,o){},encapsulation:2})}}return n})(),r9=(()=>{class n extends o9{constructor(){super(...arguments),this.zone=y(Ye),this._value="",this.propagateChange=e=>{},this.onTouched=()=>{}}set options(e){this._options=Object.assign({},this.config.defaultOptions,e),this._editor&&(this._editor.dispose(),this.initMonaco(e,this.insideNg))}get options(){return this._options}set model(e){this.options.model=e,this._editor&&(this._editor.dispose(),this.initMonaco(this.options,this.insideNg))}writeValue(e){this._value=e||"",setTimeout(()=>{this._editor&&!this.options.model&&this._editor.setValue(this._value)})}registerOnChange(e){this.propagateChange=e}registerOnTouched(e){this.onTouched=e}initMonaco(e,i){let o=!!e.model;if(o){let r=monaco.editor.getModel(e.model.uri||"");r?(e.model=r,e.model.setValue(this._value)):e.model=monaco.editor.createModel(e.model.value,e.model.language,e.model.uri)}i?this._editor=monaco.editor.create(this._editorContainer.nativeElement,e):this.zone.runOutsideAngular(()=>{this._editor=monaco.editor.create(this._editorContainer.nativeElement,e)}),o||this._editor.setValue(this._value),this._editor.onDidChangeModelContent(r=>{let s=this._editor.getValue();this.zone.run(()=>{this.propagateChange(s),this._value=s})}),this._editor.onDidBlurEditorWidget(()=>{this.onTouched()}),this._windowResizeSubscription&&this._windowResizeSubscription.unsubscribe(),this._windowResizeSubscription=fh(window,"resize").subscribe(()=>this._editor.layout()),this.onInit.emit(this._editor)}static{this.\u0275fac=(()=>{let e;return function(o){return(e||(e=Xt(n)))(o||n)}})()}static{this.\u0275cmp=Z({type:n,selectors:[["ngx-monaco-editor"]],inputs:{options:"options",model:"model"},features:[At([{provide:qa,useExisting:pr(()=>n),multi:!0}]),ut],decls:2,vars:0,consts:[["editorContainer",""],[1,"editor-container"]],template:function(i,o){i&1&&Y(0,"div",1,0)},styles:["[_nghost-%COMP%]{display:block;height:200px}.editor-container[_ngcontent-%COMP%]{width:100%;height:98%}"],changeDetection:0})}}return n})(),s9=(()=>{class n extends o9{constructor(){super(...arguments),this.zone=y(Ye)}set options(e){this._options=Object.assign({},this.config.defaultOptions,e),this._editor&&(this._editor.dispose(),this.initMonaco(e,this.insideNg))}get options(){return this._options}set originalModel(e){this._originalModel=e,this._editor&&(this._editor.dispose(),this.initMonaco(this.options,this.insideNg))}set modifiedModel(e){this._modifiedModel=e,this._editor&&(this._editor.dispose(),this.initMonaco(this.options,this.insideNg))}initMonaco(e,i){if(!this._originalModel||!this._modifiedModel)throw new Error("originalModel or modifiedModel not found for ngx-monaco-diff-editor");this._originalModel.language=this._originalModel.language||e.language,this._modifiedModel.language=this._modifiedModel.language||e.language;let o=monaco.editor.createModel(this._originalModel.code,this._originalModel.language),r=monaco.editor.createModel(this._modifiedModel.code,this._modifiedModel.language);this._editorContainer.nativeElement.innerHTML="";let s=e.theme;i?this._editor=monaco.editor.createDiffEditor(this._editorContainer.nativeElement,e):this.zone.runOutsideAngular(()=>{this._editor=monaco.editor.createDiffEditor(this._editorContainer.nativeElement,e)}),e.theme=s,this._editor.setModel({original:o,modified:r}),this._windowResizeSubscription&&this._windowResizeSubscription.unsubscribe(),this._windowResizeSubscription=fh(window,"resize").subscribe(()=>this._editor.layout()),this.onInit.emit(this._editor)}static{this.\u0275fac=(()=>{let e;return function(o){return(e||(e=Xt(n)))(o||n)}})()}static{this.\u0275cmp=Z({type:n,selectors:[["ngx-monaco-diff-editor"]],inputs:{options:"options",originalModel:"originalModel",modifiedModel:"modifiedModel"},features:[ut],decls:2,vars:0,consts:[["editorContainer",""],[1,"editor-container"]],template:function(i,o){i&1&&Y(0,"div",1,0)},styles:[Ive],changeDetection:0})}}return n})();function a9(n={}){return fc([{provide:n9,useValue:n}])}var Eve=Object.defineProperty,Mve=Object.getOwnPropertyDescriptor,kve=Object.getOwnPropertyNames,Tve=Object.prototype.hasOwnProperty,l9=(n,t,e,i)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of kve(t))!Tve.call(n,o)&&o!==e&&Eve(n,o,{get:()=>t[o],enumerable:!(i=Mve(t,o))||i.enumerable});return n},Ave=(n,t,e)=>(l9(n,t,"default"),e&&l9(e,t,"default")),ay={};Ave(ay,Ud);var c9={},nL={},Rve=class d9{static getOrCreate(t){return nL[t]||(nL[t]=new d9(t)),nL[t]}constructor(t){this._languageId=t,this._loadingTriggered=!1,this._lazyLoadPromise=new Promise((e,i)=>{this._lazyLoadPromiseResolve=e,this._lazyLoadPromiseReject=i})}load(){return this._loadingTriggered||(this._loadingTriggered=!0,c9[this._languageId].loader().then(t=>this._lazyLoadPromiseResolve(t),t=>this._lazyLoadPromiseReject(t))),this._lazyLoadPromise}};function $(n){let t=n.id;c9[t]=n,ay.languages.register(n);let e=Rve.getOrCreate(t);ay.languages.registerTokensProviderFactory(t,{create:()=>M(this,null,function*(){return(yield e.load()).language})}),ay.languages.onLanguageEncountered(t,()=>M(this,null,function*(){let i=yield e.load();ay.languages.setLanguageConfiguration(t,i.conf)}))}$({id:"abap",extensions:[".abap"],aliases:["abap","ABAP"],loader:()=>import("./chunk-ZMZBMM4M.js")});$({id:"apex",extensions:[".cls"],aliases:["Apex","apex"],mimetypes:["text/x-apex-source","text/x-apex"],loader:()=>import("./chunk-5MCHQ46W.js")});$({id:"azcli",extensions:[".azcli"],aliases:["Azure CLI","azcli"],loader:()=>import("./chunk-WUQ32F5U.js")});$({id:"bat",extensions:[".bat",".cmd"],aliases:["Batch","bat"],loader:()=>import("./chunk-YIOKXSYL.js")});$({id:"bicep",extensions:[".bicep"],aliases:["Bicep"],loader:()=>import("./chunk-JUJ4H7MM.js")});$({id:"cameligo",extensions:[".mligo"],aliases:["Cameligo"],loader:()=>import("./chunk-R4M76G2V.js")});$({id:"clojure",extensions:[".clj",".cljs",".cljc",".edn"],aliases:["clojure","Clojure"],loader:()=>import("./chunk-J67TFUZB.js")});$({id:"coffeescript",extensions:[".coffee"],aliases:["CoffeeScript","coffeescript","coffee"],mimetypes:["text/x-coffeescript","text/coffeescript"],loader:()=>import("./chunk-BJKBAKFG.js")});$({id:"c",extensions:[".c",".h"],aliases:["C","c"],loader:()=>import("./chunk-IGLTNPMW.js")});$({id:"cpp",extensions:[".cpp",".cc",".cxx",".hpp",".hh",".hxx"],aliases:["C++","Cpp","cpp"],loader:()=>import("./chunk-IGLTNPMW.js")});$({id:"csharp",extensions:[".cs",".csx",".cake"],aliases:["C#","csharp"],loader:()=>import("./chunk-B3AUUCLB.js")});$({id:"csp",extensions:[".csp"],aliases:["CSP","csp"],loader:()=>import("./chunk-VZIJWO5X.js")});$({id:"css",extensions:[".css"],aliases:["CSS","css"],mimetypes:["text/css"],loader:()=>import("./chunk-AB5Y2AWX.js")});$({id:"cypher",extensions:[".cypher",".cyp"],aliases:["Cypher","OpenCypher"],loader:()=>import("./chunk-MR4ONIOP.js")});$({id:"dart",extensions:[".dart"],aliases:["Dart","dart"],mimetypes:["text/x-dart-source","text/x-dart"],loader:()=>import("./chunk-TLVPBSHK.js")});$({id:"dockerfile",extensions:[".dockerfile"],filenames:["Dockerfile"],aliases:["Dockerfile"],loader:()=>import("./chunk-6ADFYH74.js")});$({id:"ecl",extensions:[".ecl"],aliases:["ECL","Ecl","ecl"],loader:()=>import("./chunk-G7FZHFO2.js")});$({id:"elixir",extensions:[".ex",".exs"],aliases:["Elixir","elixir","ex"],loader:()=>import("./chunk-ONKF4P4J.js")});$({id:"flow9",extensions:[".flow"],aliases:["Flow9","Flow","flow9","flow"],loader:()=>import("./chunk-7YAHUY4E.js")});$({id:"fsharp",extensions:[".fs",".fsi",".ml",".mli",".fsx",".fsscript"],aliases:["F#","FSharp","fsharp"],loader:()=>import("./chunk-LXN66XF3.js")});$({id:"freemarker2",extensions:[".ftl",".ftlh",".ftlx"],aliases:["FreeMarker2","Apache FreeMarker2"],loader:()=>import("./chunk-XVSCAPGP.js").then(n=>n.TagAutoInterpolationDollar)});$({id:"freemarker2.tag-angle.interpolation-dollar",aliases:["FreeMarker2 (Angle/Dollar)","Apache FreeMarker2 (Angle/Dollar)"],loader:()=>import("./chunk-XVSCAPGP.js").then(n=>n.TagAngleInterpolationDollar)});$({id:"freemarker2.tag-bracket.interpolation-dollar",aliases:["FreeMarker2 (Bracket/Dollar)","Apache FreeMarker2 (Bracket/Dollar)"],loader:()=>import("./chunk-XVSCAPGP.js").then(n=>n.TagBracketInterpolationDollar)});$({id:"freemarker2.tag-angle.interpolation-bracket",aliases:["FreeMarker2 (Angle/Bracket)","Apache FreeMarker2 (Angle/Bracket)"],loader:()=>import("./chunk-XVSCAPGP.js").then(n=>n.TagAngleInterpolationBracket)});$({id:"freemarker2.tag-bracket.interpolation-bracket",aliases:["FreeMarker2 (Bracket/Bracket)","Apache FreeMarker2 (Bracket/Bracket)"],loader:()=>import("./chunk-XVSCAPGP.js").then(n=>n.TagBracketInterpolationBracket)});$({id:"freemarker2.tag-auto.interpolation-dollar",aliases:["FreeMarker2 (Auto/Dollar)","Apache FreeMarker2 (Auto/Dollar)"],loader:()=>import("./chunk-XVSCAPGP.js").then(n=>n.TagAutoInterpolationDollar)});$({id:"freemarker2.tag-auto.interpolation-bracket",aliases:["FreeMarker2 (Auto/Bracket)","Apache FreeMarker2 (Auto/Bracket)"],loader:()=>import("./chunk-XVSCAPGP.js").then(n=>n.TagAutoInterpolationBracket)});$({id:"go",extensions:[".go"],aliases:["Go"],loader:()=>import("./chunk-BY2L3IRI.js")});$({id:"graphql",extensions:[".graphql",".gql"],aliases:["GraphQL","graphql","gql"],mimetypes:["application/graphql"],loader:()=>import("./chunk-NPOB6PHG.js")});$({id:"handlebars",extensions:[".handlebars",".hbs"],aliases:["Handlebars","handlebars","hbs"],mimetypes:["text/x-handlebars-template"],loader:()=>import("./chunk-R65MJTST.js")});$({id:"hcl",extensions:[".tf",".tfvars",".hcl"],aliases:["Terraform","tf","HCL","hcl"],loader:()=>import("./chunk-ZQYCOGDC.js")});$({id:"html",extensions:[".html",".htm",".shtml",".xhtml",".mdoc",".jsp",".asp",".aspx",".jshtm"],aliases:["HTML","htm","html","xhtml"],mimetypes:["text/html","text/x-jshtm","text/template","text/ng-template"],loader:()=>import("./chunk-DZQ37YDA.js")});$({id:"ini",extensions:[".ini",".properties",".gitconfig"],filenames:["config",".gitattributes",".gitconfig",".editorconfig"],aliases:["Ini","ini"],loader:()=>import("./chunk-YILL77O3.js")});$({id:"java",extensions:[".java",".jav"],aliases:["Java","java"],mimetypes:["text/x-java-source","text/x-java"],loader:()=>import("./chunk-K6O3GTVG.js")});$({id:"javascript",extensions:[".js",".es6",".jsx",".mjs",".cjs"],firstLine:"^#!.*\\bnode",filenames:["jakefile"],aliases:["JavaScript","javascript","js"],mimetypes:["text/javascript"],loader:()=>import("./chunk-FSGTE5PY.js")});$({id:"julia",extensions:[".jl"],aliases:["julia","Julia"],loader:()=>import("./chunk-JDOFGI4G.js")});$({id:"kotlin",extensions:[".kt",".kts"],aliases:["Kotlin","kotlin"],mimetypes:["text/x-kotlin-source","text/x-kotlin"],loader:()=>import("./chunk-LYVDKO6Q.js")});$({id:"less",extensions:[".less"],aliases:["Less","less"],mimetypes:["text/x-less","text/less"],loader:()=>import("./chunk-DKYWOHRM.js")});$({id:"lexon",extensions:[".lex"],aliases:["Lexon"],loader:()=>import("./chunk-BNB5MKM2.js")});$({id:"lua",extensions:[".lua"],aliases:["Lua","lua"],loader:()=>import("./chunk-654CBZ3M.js")});$({id:"liquid",extensions:[".liquid",".html.liquid"],aliases:["Liquid","liquid"],mimetypes:["application/liquid"],loader:()=>import("./chunk-LKBXQQP7.js")});$({id:"m3",extensions:[".m3",".i3",".mg",".ig"],aliases:["Modula-3","Modula3","modula3","m3"],loader:()=>import("./chunk-55OFSI4I.js")});$({id:"markdown",extensions:[".md",".markdown",".mdown",".mkdn",".mkd",".mdwn",".mdtxt",".mdtext"],aliases:["Markdown","markdown"],loader:()=>import("./chunk-CGGLK5GS.js")});$({id:"mdx",extensions:[".mdx"],aliases:["MDX","mdx"],loader:()=>import("./chunk-K75PX2RD.js")});$({id:"mips",extensions:[".s"],aliases:["MIPS","MIPS-V"],mimetypes:["text/x-mips","text/mips","text/plaintext"],loader:()=>import("./chunk-R6UMH4RT.js")});$({id:"msdax",extensions:[".dax",".msdax"],aliases:["DAX","MSDAX"],loader:()=>import("./chunk-K3CAMVGQ.js")});$({id:"mysql",extensions:[],aliases:["MySQL","mysql"],loader:()=>import("./chunk-O35PT7GR.js")});$({id:"objective-c",extensions:[".m"],aliases:["Objective-C"],loader:()=>import("./chunk-DSDO72KT.js")});$({id:"pascal",extensions:[".pas",".p",".pp"],aliases:["Pascal","pas"],mimetypes:["text/x-pascal-source","text/x-pascal"],loader:()=>import("./chunk-EN774BAZ.js")});$({id:"pascaligo",extensions:[".ligo"],aliases:["Pascaligo","ligo"],loader:()=>import("./chunk-NPOF7FQB.js")});$({id:"perl",extensions:[".pl",".pm"],aliases:["Perl","pl"],loader:()=>import("./chunk-A66BE3Z6.js")});$({id:"pgsql",extensions:[],aliases:["PostgreSQL","postgres","pg","postgre"],loader:()=>import("./chunk-LPD2QAFO.js")});$({id:"php",extensions:[".php",".php4",".php5",".phtml",".ctp"],aliases:["PHP","php"],mimetypes:["application/x-php"],loader:()=>import("./chunk-X2RAX5GT.js")});$({id:"pla",extensions:[".pla"],loader:()=>import("./chunk-3YLB3UTR.js")});$({id:"postiats",extensions:[".dats",".sats",".hats"],aliases:["ATS","ATS/Postiats"],loader:()=>import("./chunk-RHHKELUD.js")});$({id:"powerquery",extensions:[".pq",".pqm"],aliases:["PQ","M","Power Query","Power Query M"],loader:()=>import("./chunk-F4ZPT7VR.js")});$({id:"powershell",extensions:[".ps1",".psm1",".psd1"],aliases:["PowerShell","powershell","ps","ps1"],loader:()=>import("./chunk-BJRDGZ7N.js")});$({id:"proto",extensions:[".proto"],aliases:["protobuf","Protocol Buffers"],loader:()=>import("./chunk-Z6YSROTQ.js")});$({id:"pug",extensions:[".jade",".pug"],aliases:["Pug","Jade","jade"],loader:()=>import("./chunk-TPQEQL5L.js")});$({id:"python",extensions:[".py",".rpy",".pyw",".cpy",".gyp",".gypi"],aliases:["Python","py"],firstLine:"^#!/.*\\bpython[0-9.-]*\\b",loader:()=>import("./chunk-MGU6M7H5.js")});$({id:"qsharp",extensions:[".qs"],aliases:["Q#","qsharp"],loader:()=>import("./chunk-GCAP2KKA.js")});$({id:"r",extensions:[".r",".rhistory",".rmd",".rprofile",".rt"],aliases:["R","r"],loader:()=>import("./chunk-NC7267PV.js")});$({id:"razor",extensions:[".cshtml"],aliases:["Razor","razor"],mimetypes:["text/x-cshtml"],loader:()=>import("./chunk-7PK5GUIR.js")});$({id:"redis",extensions:[".redis"],aliases:["redis"],loader:()=>import("./chunk-RDMU34U5.js")});$({id:"redshift",extensions:[],aliases:["Redshift","redshift"],loader:()=>import("./chunk-WL6JT5XW.js")});$({id:"restructuredtext",extensions:[".rst"],aliases:["reStructuredText","restructuredtext"],loader:()=>import("./chunk-MW4NHCJ5.js")});$({id:"ruby",extensions:[".rb",".rbx",".rjs",".gemspec",".pp"],filenames:["rakefile","Gemfile"],aliases:["Ruby","rb"],loader:()=>import("./chunk-5YSDT3W3.js")});$({id:"rust",extensions:[".rs",".rlib"],aliases:["Rust","rust"],loader:()=>import("./chunk-WFIEVDA2.js")});$({id:"sb",extensions:[".sb"],aliases:["Small Basic","sb"],loader:()=>import("./chunk-YFSU3ASF.js")});$({id:"scala",extensions:[".scala",".sc",".sbt"],aliases:["Scala","scala","SBT","Sbt","sbt","Dotty","dotty"],mimetypes:["text/x-scala-source","text/x-scala","text/x-sbt","text/x-dotty"],loader:()=>import("./chunk-HWCET5UV.js")});$({id:"scheme",extensions:[".scm",".ss",".sch",".rkt"],aliases:["scheme","Scheme"],loader:()=>import("./chunk-4UCWC7TZ.js")});$({id:"scss",extensions:[".scss"],aliases:["Sass","sass","scss"],mimetypes:["text/x-scss","text/scss"],loader:()=>import("./chunk-4GZIDXAN.js")});$({id:"shell",extensions:[".sh",".bash"],aliases:["Shell","sh"],loader:()=>import("./chunk-WEWZ63DM.js")});$({id:"sol",extensions:[".sol"],aliases:["sol","solidity","Solidity"],loader:()=>import("./chunk-4QVGHSIC.js")});$({id:"aes",extensions:[".aes"],aliases:["aes","sophia","Sophia"],loader:()=>import("./chunk-7Z3YDLC3.js")});$({id:"sparql",extensions:[".rq"],aliases:["sparql","SPARQL"],loader:()=>import("./chunk-7TIXB3D2.js")});$({id:"sql",extensions:[".sql"],aliases:["SQL"],loader:()=>import("./chunk-N5NU6Q6D.js")});$({id:"st",extensions:[".st",".iecst",".iecplc",".lc3lib",".TcPOU",".TcDUT",".TcGVL",".TcIO"],aliases:["StructuredText","scl","stl"],loader:()=>import("./chunk-QMK3R4YK.js")});$({id:"swift",aliases:["Swift","swift"],extensions:[".swift"],mimetypes:["text/swift"],loader:()=>import("./chunk-GALC5WAS.js")});$({id:"systemverilog",extensions:[".sv",".svh"],aliases:["SV","sv","SystemVerilog","systemverilog"],loader:()=>import("./chunk-GN36JAUX.js")});$({id:"verilog",extensions:[".v",".vh"],aliases:["V","v","Verilog","verilog"],loader:()=>import("./chunk-GN36JAUX.js")});$({id:"tcl",extensions:[".tcl"],aliases:["tcl","Tcl","tcltk","TclTk","tcl/tk","Tcl/Tk"],loader:()=>import("./chunk-IZJGINF5.js")});$({id:"twig",extensions:[".twig"],aliases:["Twig","twig"],mimetypes:["text/x-twig"],loader:()=>import("./chunk-CGCQN7DC.js")});$({id:"typescript",extensions:[".ts",".tsx",".cts",".mts"],aliases:["TypeScript","ts","typescript"],mimetypes:["text/typescript"],loader:()=>import("./chunk-VPOIPSIV.js")});$({id:"typespec",extensions:[".tsp"],aliases:["TypeSpec"],loader:()=>import("./chunk-BAOKJAOP.js")});$({id:"vb",extensions:[".vb"],aliases:["Visual Basic","vb"],loader:()=>import("./chunk-2MA7GOS6.js")});$({id:"wgsl",extensions:[".wgsl"],aliases:["WebGPU Shading Language","WGSL","wgsl"],loader:()=>import("./chunk-ITSRZSS2.js")});$({id:"xml",extensions:[".xml",".xsd",".dtd",".ascx",".csproj",".config",".props",".targets",".wxi",".wxl",".wxs",".xaml",".svg",".svgz",".opf",".xslt",".xsl"],firstLine:"(\\<\\?xml.*)|(\\<svg)|(\\<\\!doctype\\s+svg)",aliases:["XML","xml"],mimetypes:["text/xml","application/xml","application/xaml+xml","application/xml-dtd"],loader:()=>import("./chunk-AKEMSCOA.js")});$({id:"yaml",extensions:[".yaml",".yml"],aliases:["YAML","yaml","YML","yml"],mimetypes:["application/x-yaml","text/x-yaml"],loader:()=>import("./chunk-ZVVPTHW4.js")});var Ove=Object.defineProperty,Pve=Object.getOwnPropertyDescriptor,Lve=Object.getOwnPropertyNames,Nve=Object.prototype.hasOwnProperty,u9=(n,t,e,i)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Lve(t))!Nve.call(n,o)&&o!==e&&Ove(n,o,{get:()=>t[o],enumerable:!(i=Pve(t,o))||i.enumerable});return n},Fve=(n,t,e)=>(u9(n,t,"default"),e&&u9(e,t,"default")),tg={};Fve(tg,Ud);var oL=class{constructor(n,t,e){this._onDidChange=new tg.Emitter,this._languageId=n,this.setOptions(t),this.setModeConfiguration(e)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get modeConfiguration(){return this._modeConfiguration}get diagnosticsOptions(){return this.options}get options(){return this._options}setOptions(n){this._options=n||Object.create(null),this._onDidChange.fire(this)}setDiagnosticsOptions(n){this.setOptions(n)}setModeConfiguration(n){this._modeConfiguration=n||Object.create(null),this._onDidChange.fire(this)}},rL={validate:!0,lint:{compatibleVendorPrefixes:"ignore",vendorPrefix:"warning",duplicateProperties:"warning",emptyRules:"warning",importStatement:"ignore",boxModel:"ignore",universalSelector:"ignore",zeroUnits:"ignore",fontFaceProperties:"warning",hexColorLength:"error",argumentsInColorFunction:"error",unknownProperties:"warning",ieHack:"ignore",unknownVendorSpecificProperties:"ignore",propertyIgnoredDueToDisplay:"warning",important:"ignore",float:"ignore",idSelector:"ignore"},data:{useDefaultDataProvider:!0},format:{newlineBetweenSelectors:!0,newlineBetweenRules:!0,spaceAroundSelectorSeparator:!1,braceStyle:"collapse",maxPreserveNewLines:void 0,preserveNewLines:!0}},sL={completionItems:!0,hovers:!0,documentSymbols:!0,definitions:!0,references:!0,documentHighlights:!0,rename:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0,documentFormattingEdits:!0,documentRangeFormattingEdits:!0},h9=new oL("css",rL,sL),m9=new oL("scss",rL,sL),p9=new oL("less",rL,sL);tg.languages.css={cssDefaults:h9,lessDefaults:p9,scssDefaults:m9};function aL(){return import("./chunk-7DFFABFO.js")}tg.languages.onLanguage("less",()=>{aL().then(n=>n.setupMode(p9))});tg.languages.onLanguage("scss",()=>{aL().then(n=>n.setupMode(m9))});tg.languages.onLanguage("css",()=>{aL().then(n=>n.setupMode(h9))});var zve=Object.defineProperty,Bve=Object.getOwnPropertyDescriptor,Hve=Object.getOwnPropertyNames,Vve=Object.prototype.hasOwnProperty,f9=(n,t,e,i)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Hve(t))!Vve.call(n,o)&&o!==e&&zve(n,o,{get:()=>t[o],enumerable:!(i=Bve(t,o))||i.enumerable});return n},Wve=(n,t,e)=>(f9(n,t,"default"),e&&f9(e,t,"default")),YD={};Wve(YD,Ud);var jve=class{constructor(n,t,e){this._onDidChange=new YD.Emitter,this._languageId=n,this.setOptions(t),this.setModeConfiguration(e)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get options(){return this._options}get modeConfiguration(){return this._modeConfiguration}setOptions(n){this._options=n||Object.create(null),this._onDidChange.fire(this)}setModeConfiguration(n){this._modeConfiguration=n||Object.create(null),this._onDidChange.fire(this)}},Uve={tabSize:4,insertSpaces:!1,wrapLineLength:120,unformatted:'default": "a, abbr, acronym, b, bdo, big, br, button, cite, code, dfn, em, i, img, input, kbd, label, map, object, q, samp, select, small, span, strong, sub, sup, textarea, tt, var',contentUnformatted:"pre",indentInnerHtml:!1,preserveNewLines:!0,maxPreserveNewLines:void 0,indentHandlebars:!1,endWithNewline:!1,extraLiners:"head, body, /html",wrapAttributes:"auto"},XD={format:Uve,suggest:{},data:{useDefaultDataProvider:!0}};function ZD(n){return{completionItems:!0,hovers:!0,documentSymbols:!0,links:!0,documentHighlights:!0,rename:!0,colors:!0,foldingRanges:!0,selectionRanges:!0,diagnostics:n===ly,documentFormattingEdits:n===ly,documentRangeFormattingEdits:n===ly}}var ly="html",g9="handlebars",_9="razor",v9=QD(ly,XD,ZD(ly)),qve=v9.defaults,b9=QD(g9,XD,ZD(g9)),Gve=b9.defaults,y9=QD(_9,XD,ZD(_9)),$ve=y9.defaults;YD.languages.html={htmlDefaults:qve,razorDefaults:$ve,handlebarDefaults:Gve,htmlLanguageService:v9,handlebarLanguageService:b9,razorLanguageService:y9,registerHTMLLanguageService:QD};function Kve(){return import("./chunk-2PTAWQBP.js")}function QD(n,t=XD,e=ZD(n)){let i=new jve(n,t,e),o,r=YD.languages.onLanguage(n,()=>M(this,null,function*(){o=(yield Kve()).setupMode(i)}));return{defaults:i,dispose(){r.dispose(),o?.dispose(),o=void 0}}}var Yve=Object.defineProperty,Xve=Object.getOwnPropertyDescriptor,Zve=Object.getOwnPropertyNames,Qve=Object.prototype.hasOwnProperty,w9=(n,t,e,i)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Zve(t))!Qve.call(n,o)&&o!==e&&Yve(n,o,{get:()=>t[o],enumerable:!(i=Xve(t,o))||i.enumerable});return n},Jve=(n,t,e)=>(w9(n,t,"default"),e&&w9(e,t,"default")),cy={};Jve(cy,Ud);var ebe=class{constructor(n,t,e){this._onDidChange=new cy.Emitter,this._languageId=n,this.setDiagnosticsOptions(t),this.setModeConfiguration(e)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get modeConfiguration(){return this._modeConfiguration}get diagnosticsOptions(){return this._diagnosticsOptions}setDiagnosticsOptions(n){this._diagnosticsOptions=n||Object.create(null),this._onDidChange.fire(this)}setModeConfiguration(n){this._modeConfiguration=n||Object.create(null),this._onDidChange.fire(this)}},tbe={validate:!0,allowComments:!0,schemas:[],enableSchemaRequest:!1,schemaRequest:"warning",schemaValidation:"warning",comments:"error",trailingCommas:"error"},ibe={documentFormattingEdits:!0,documentRangeFormattingEdits:!0,completionItems:!0,hovers:!0,documentSymbols:!0,tokens:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0},x9=new ebe("json",tbe,ibe),nbe=()=>C9().then(n=>n.getWorker());cy.languages.json={jsonDefaults:x9,getWorker:nbe};function C9(){return import("./chunk-O47Y64EL.js")}cy.languages.register({id:"json",extensions:[".json",".bowerrc",".jshintrc",".jscsrc",".eslintrc",".babelrc",".har"],aliases:["JSON","json"],mimetypes:["application/json"]});cy.languages.onLanguage("json",()=>{C9().then(n=>n.setupMode(x9))});Wn();_t();Wn();it();Uo();Kt();Re();$i();bn();pt();var JD=class extends jn{constructor(){super({id:"diffEditor.toggleCollapseUnchangedRegions",title:Ne("toggleCollapseUnchangedRegions","Toggle Collapse Unchanged Regions"),icon:Ge.map,toggled:K.has("config.diffEditor.hideUnchangedRegions.enabled"),precondition:K.has("isInDiffEditor"),menu:{when:K.has("isInDiffEditor"),id:be.EditorTitle,order:22,group:"navigation"}})}run(t,...e){let i=t.get(vt),o=!i.getValue("diffEditor.hideUnchangedRegions.enabled");i.updateValue("diffEditor.hideUnchangedRegions.enabled",o)}},dy=class extends jn{constructor(){super({id:"diffEditor.toggleShowMovedCodeBlocks",title:Ne("toggleShowMovedCodeBlocks","Toggle Show Moved Code Blocks"),precondition:K.has("isInDiffEditor")})}run(t,...e){let i=t.get(vt),o=!i.getValue("diffEditor.experimental.showMoves");i.updateValue("diffEditor.experimental.showMoves",o)}},uy=class extends jn{constructor(){super({id:"diffEditor.toggleUseInlineViewWhenSpaceIsLimited",title:Ne("toggleUseInlineViewWhenSpaceIsLimited","Toggle Use Inline View When Space Is Limited"),precondition:K.has("isInDiffEditor")})}run(t,...e){let i=t.get(vt),o=!i.getValue("diffEditor.useInlineViewWhenSpaceIsLimited");i.updateValue("diffEditor.useInlineViewWhenSpaceIsLimited",o)}},hy=Ne("diffEditor","Diff Editor"),eI=class extends Pr{constructor(){super({id:"diffEditor.switchSide",title:Ne("switchSide","Switch Side"),icon:Ge.arrowSwap,precondition:K.has("isInDiffEditor"),f1:!0,category:hy})}runEditorCommand(t,e,i){let o=ng(t);if(o instanceof Qp){if(i&&i.dryRun)return{destinationSelection:o.mapToOtherSide().destinationSelection};o.switchSide()}}},tI=class extends Pr{constructor(){super({id:"diffEditor.exitCompareMove",title:Ne("exitCompareMove","Exit Compare Move"),icon:Ge.close,precondition:T.comparingMovedCode,f1:!1,category:hy,keybinding:{weight:1e4,primary:9}})}runEditorCommand(t,e,...i){let o=ng(t);o instanceof Qp&&o.exitCompareMove()}},iI=class extends Pr{constructor(){super({id:"diffEditor.collapseAllUnchangedRegions",title:Ne("collapseAllUnchangedRegions","Collapse All Unchanged Regions"),icon:Ge.fold,precondition:K.has("isInDiffEditor"),f1:!0,category:hy})}runEditorCommand(t,e,...i){let o=ng(t);o instanceof Qp&&o.collapseAllUnchangedRegions()}},nI=class extends Pr{constructor(){super({id:"diffEditor.showAllUnchangedRegions",title:Ne("showAllUnchangedRegions","Show All Unchanged Regions"),icon:Ge.unfold,precondition:K.has("isInDiffEditor"),f1:!0,category:hy})}runEditorCommand(t,e,...i){let o=ng(t);o instanceof Qp&&o.showAllUnchangedRegions()}},ig=class extends jn{constructor(){super({id:"diffEditor.revert",title:Ne("revert","Revert"),f1:!1,category:hy})}run(t,e){let i=obe(t,e.originalUri,e.modifiedUri);i instanceof Qp&&i.revertRangeMappings(e.mapping.innerChanges??[])}},S9=Ne("accessibleDiffViewer","Accessible Diff Viewer"),oI=(()=>{class n extends jn{static{this.id="editor.action.accessibleDiffViewer.next"}constructor(){super({id:n.id,title:Ne("editor.action.accessibleDiffViewer.next","Go to Next Difference"),category:S9,precondition:K.has("isInDiffEditor"),keybinding:{primary:65,weight:100},f1:!0})}run(e){ng(e)?.accessibleDiffViewerNext()}}return n})(),lL=(()=>{class n extends jn{static{this.id="editor.action.accessibleDiffViewer.prev"}constructor(){super({id:n.id,title:Ne("editor.action.accessibleDiffViewer.prev","Go to Previous Difference"),category:S9,precondition:K.has("isInDiffEditor"),keybinding:{primary:1089,weight:100},f1:!0})}run(e){ng(e)?.accessibleDiffViewerPrev()}}return n})();function obe(n,t,e){return n.get(Zt).listDiffEditors().find(r=>{let s=r.getModifiedEditor(),a=r.getOriginalEditor();return s&&s.getModel()?.uri.toString()===e.toString()&&a&&a.getModel()?.uri.toString()===t.toString()})||null}function ng(n){let e=n.get(Zt).listDiffEditors(),i=Lx();if(i)for(let o of e){let r=o.getContainerDomNode();if(rbe(r,i))return o}return null}function rbe(n,t){let e=t;for(;e;){if(e===n)return!0;e=e.parentElement}return!1}Kt();Re();$i();qi();pt();$t(JD);$t(dy);$t(uy);or.appendMenuItem(be.EditorTitle,{command:{id:new uy().desc.id,title:_("useInlineViewWhenSpaceIsLimited","Use Inline View When Space Is Limited"),toggled:K.has("config.diffEditor.useInlineViewWhenSpaceIsLimited"),precondition:K.has("isInDiffEditor")},order:11,group:"1_diff",when:K.and(T.diffEditorRenderSideBySideInlineBreakpointReached,K.has("isInDiffEditor"))});or.appendMenuItem(be.EditorTitle,{command:{id:new dy().desc.id,title:_("showMoves","Show Moved Code Blocks"),icon:Ge.move,toggled:$4.create("config.diffEditor.experimental.showMoves",!0),precondition:K.has("isInDiffEditor")},order:10,group:"1_diff",when:K.has("isInDiffEditor")});$t(ig);for(let n of[{icon:Ge.arrowRight,key:T.diffEditorInlineMode.toNegated()},{icon:Ge.discard,key:T.diffEditorInlineMode}])or.appendMenuItem(be.DiffEditorHunkToolbar,{command:{id:new ig().desc.id,title:_("revertHunk","Revert Block"),icon:n.icon},when:K.and(T.diffEditorModifiedWritable,n.key),order:5,group:"primary"}),or.appendMenuItem(be.DiffEditorSelectionToolbar,{command:{id:new ig().desc.id,title:_("revertSelection","Revert Selection"),icon:n.icon},when:K.and(T.diffEditorModifiedWritable,n.key),order:5,group:"primary"});$t(eI);$t(tI);$t(iI);$t(nI);or.appendMenuItem(be.EditorTitle,{command:{id:oI.id,title:_("Open Accessible Diff Viewer","Open Accessible Diff Viewer"),precondition:K.has("isInDiffEditor")},order:10,group:"2_diff",when:K.and(T.accessibleDiffViewerVisible.negate(),K.has("isInDiffEditor"))});Pt.registerCommandAlias("editor.action.diffReview.next",oI.id);$t(oI);Pt.registerCommandAlias("editor.action.diffReview.prev",lL.id);$t(lL);Js();bc();it();Nn();Kt();Re();pt();var sbe=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},abe=function(n,t){return function(e,i){t(e,i,n)}},cL,rI=new ot("selectionAnchorSet",!1),_u=class{static{cL=this}static{this.ID="editor.contrib.selectionAnchorController"}static get(e){return e.getContribution(cL.ID)}constructor(e,i){this.editor=e,this.selectionAnchorSetContextKey=rI.bindTo(i),this.modelChangeListener=e.onDidChangeModel(()=>this.selectionAnchorSetContextKey.reset())}setSelectionAnchor(){if(this.editor.hasModel()){let e=this.editor.getPosition();this.editor.changeDecorations(i=>{this.decorationId&&i.removeDecoration(this.decorationId),this.decorationId=i.addDecoration(Be.fromPositions(e,e),{description:"selection-anchor",stickiness:1,hoverMessage:new mn().appendText(_("selectionAnchor","Selection Anchor")),className:"selection-anchor"})}),this.selectionAnchorSetContextKey.set(!!this.decorationId),Kn(_("anchorSet","Anchor set at {0}:{1}",e.lineNumber,e.column))}}goToSelectionAnchor(){if(this.editor.hasModel()&&this.decorationId){let e=this.editor.getModel().getDecorationRange(this.decorationId);e&&this.editor.setPosition(e.getStartPosition())}}selectFromAnchorToCursor(){if(this.editor.hasModel()&&this.decorationId){let e=this.editor.getModel().getDecorationRange(this.decorationId);if(e){let i=this.editor.getPosition();this.editor.setSelection(Be.fromPositions(e.getStartPosition(),i)),this.cancelSelectionAnchor()}}}cancelSelectionAnchor(){if(this.decorationId){let e=this.decorationId;this.editor.changeDecorations(i=>{i.removeDecoration(e),this.decorationId=void 0}),this.selectionAnchorSetContextKey.set(!1)}}dispose(){this.cancelSelectionAnchor(),this.modelChangeListener.dispose()}};_u=cL=sbe([abe(1,Ze)],_u);var dL=class extends Q{constructor(){super({id:"editor.action.setSelectionAnchor",label:_("setSelectionAnchor","Set Selection Anchor"),alias:"Set Selection Anchor",precondition:void 0,kbOpts:{kbExpr:T.editorTextFocus,primary:Pi(2089,2080),weight:100}})}run(t,e){return M(this,null,function*(){_u.get(e)?.setSelectionAnchor()})}},uL=class extends Q{constructor(){super({id:"editor.action.goToSelectionAnchor",label:_("goToSelectionAnchor","Go to Selection Anchor"),alias:"Go to Selection Anchor",precondition:rI})}run(t,e){return M(this,null,function*(){_u.get(e)?.goToSelectionAnchor()})}},hL=class extends Q{constructor(){super({id:"editor.action.selectFromAnchorToCursor",label:_("selectFromAnchorToCursor","Select from Anchor to Cursor"),alias:"Select from Anchor to Cursor",precondition:rI,kbOpts:{kbExpr:T.editorTextFocus,primary:Pi(2089,2089),weight:100}})}run(t,e){return M(this,null,function*(){_u.get(e)?.selectFromAnchorToCursor()})}},mL=class extends Q{constructor(){super({id:"editor.action.cancelSelectionAnchor",label:_("cancelSelectionAnchor","Cancel Selection Anchor"),alias:"Cancel Selection Anchor",precondition:rI,kbOpts:{kbExpr:T.editorTextFocus,primary:9,weight:100}})}run(t,e){return M(this,null,function*(){_u.get(e)?.cancelSelectionAnchor()})}};Te(_u.ID,_u,4);V(dL);V(uL);V(hL);V(mL);Ht();ue();it();hi();qe();Nn();Kt();Na();wn();Re();$i();Po();Oo();var lbe=Pe("editorOverviewRuler.bracketMatchForeground","#A0A0A0",_("overviewRulerBracketMatchForeground","Overview ruler marker color for matching brackets.")),pL=class extends Q{constructor(){super({id:"editor.action.jumpToBracket",label:_("smartSelect.jumpBracket","Go to Bracket"),alias:"Go to Bracket",precondition:void 0,kbOpts:{kbExpr:T.editorTextFocus,primary:3165,weight:100}})}run(t,e){am.get(e)?.jumpToBracket()}},fL=class extends Q{constructor(){super({id:"editor.action.selectToBracket",label:_("smartSelect.selectToBracket","Select to Bracket"),alias:"Select to Bracket",precondition:void 0,metadata:{description:Ne("smartSelect.selectToBracketDescription","Select the text inside and including the brackets or curly braces"),args:[{name:"args",schema:{type:"object",properties:{selectBrackets:{type:"boolean",default:!0}}}}]}})}run(t,e,i){let o=!0;i&&i.selectBrackets===!1&&(o=!1),am.get(e)?.selectToBracket(o)}},gL=class extends Q{constructor(){super({id:"editor.action.removeBrackets",label:_("smartSelect.removeBrackets","Remove Brackets"),alias:"Remove Brackets",precondition:void 0,kbOpts:{kbExpr:T.editorTextFocus,primary:2561,weight:100}})}run(t,e){am.get(e)?.removeBrackets(this.id)}},_L=class{constructor(t,e,i){this.position=t,this.brackets=e,this.options=i}},am=class n extends U{static{this.ID="editor.contrib.bracketMatchingController"}static get(t){return t.getContribution(n.ID)}constructor(t){super(),this._editor=t,this._lastBracketsData=[],this._lastVersionId=0,this._decorations=this._editor.createDecorationsCollection(),this._updateBracketsSoon=this._register(new ai(()=>this._updateBrackets(),50)),this._matchBrackets=this._editor.getOption(72),this._updateBracketsSoon.schedule(),this._register(t.onDidChangeCursorPosition(e=>{this._matchBrackets!=="never"&&this._updateBracketsSoon.schedule()})),this._register(t.onDidChangeModelContent(e=>{this._updateBracketsSoon.schedule()})),this._register(t.onDidChangeModel(e=>{this._lastBracketsData=[],this._updateBracketsSoon.schedule()})),this._register(t.onDidChangeModelLanguageConfiguration(e=>{this._lastBracketsData=[],this._updateBracketsSoon.schedule()})),this._register(t.onDidChangeConfiguration(e=>{e.hasChanged(72)&&(this._matchBrackets=this._editor.getOption(72),this._decorations.clear(),this._lastBracketsData=[],this._lastVersionId=0,this._updateBracketsSoon.schedule())})),this._register(t.onDidBlurEditorWidget(()=>{this._updateBracketsSoon.schedule()})),this._register(t.onDidFocusEditorWidget(()=>{this._updateBracketsSoon.schedule()}))}jumpToBracket(){if(!this._editor.hasModel())return;let t=this._editor.getModel(),e=this._editor.getSelections().map(i=>{let o=i.getStartPosition(),r=t.bracketPairs.matchBracket(o),s=null;if(r)r[0].containsPosition(o)&&!r[1].containsPosition(o)?s=r[1].getStartPosition():r[1].containsPosition(o)&&(s=r[0].getStartPosition());else{let a=t.bracketPairs.findEnclosingBrackets(o);if(a)s=a[1].getStartPosition();else{let l=t.bracketPairs.findNextBracket(o);l&&l.range&&(s=l.range.getStartPosition())}}return s?new Be(s.lineNumber,s.column,s.lineNumber,s.column):new Be(o.lineNumber,o.column,o.lineNumber,o.column)});this._editor.setSelections(e),this._editor.revealRange(e[0])}selectToBracket(t){if(!this._editor.hasModel())return;let e=this._editor.getModel(),i=[];this._editor.getSelections().forEach(o=>{let r=o.getStartPosition(),s=e.bracketPairs.matchBracket(r);if(!s&&(s=e.bracketPairs.findEnclosingBrackets(r),!s)){let c=e.bracketPairs.findNextBracket(r);c&&c.range&&(s=e.bracketPairs.matchBracket(c.range.getStartPosition()))}let a=null,l=null;if(s){s.sort(A.compareRangesUsingStarts);let[c,d]=s;if(a=t?c.getStartPosition():c.getEndPosition(),l=t?d.getEndPosition():d.getStartPosition(),d.containsPosition(r)){let u=a;a=l,l=u}}a&&l&&i.push(new Be(a.lineNumber,a.column,l.lineNumber,l.column))}),i.length>0&&(this._editor.setSelections(i),this._editor.revealRange(i[0]))}removeBrackets(t){if(!this._editor.hasModel())return;let e=this._editor.getModel();this._editor.getSelections().forEach(i=>{let o=i.getPosition(),r=e.bracketPairs.matchBracket(o);r||(r=e.bracketPairs.findEnclosingBrackets(o)),r&&(this._editor.pushUndoStop(),this._editor.executeEdits(t,[{range:r[0],text:""},{range:r[1],text:""}]),this._editor.pushUndoStop())})}static{this._DECORATION_OPTIONS_WITH_OVERVIEW_RULER=lt.register({description:"bracket-match-overview",stickiness:1,className:"bracket-match",overviewRuler:{color:Bi(lbe),position:Lr.Center}})}static{this._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER=lt.register({description:"bracket-match-no-overview",stickiness:1,className:"bracket-match"})}_updateBrackets(){if(this._matchBrackets==="never")return;this._recomputeBrackets();let t=[],e=0;for(let i of this._lastBracketsData){let o=i.brackets;o&&(t[e++]={range:o[0],options:i.options},t[e++]={range:o[1],options:i.options})}this._decorations.set(t)}_recomputeBrackets(){if(!this._editor.hasModel()||!this._editor.hasWidgetFocus()){this._lastBracketsData=[],this._lastVersionId=0;return}let t=this._editor.getSelections();if(t.length>100){this._lastBracketsData=[],this._lastVersionId=0;return}let e=this._editor.getModel(),i=e.getVersionId(),o=[];this._lastVersionId===i&&(o=this._lastBracketsData);let r=[],s=0;for(let u=0,h=t.length;u<h;u++){let m=t[u];m.isEmpty()&&(r[s++]=m.getStartPosition())}r.length>1&&r.sort(pe.compare);let a=[],l=0,c=0,d=o.length;for(let u=0,h=r.length;u<h;u++){let m=r[u];for(;c<d&&o[c].position.isBefore(m);)c++;if(c<d&&o[c].position.equals(m))a[l++]=o[c];else{let f=e.bracketPairs.matchBracket(m,20),p=n._DECORATION_OPTIONS_WITH_OVERVIEW_RULER;!f&&this._matchBrackets==="always"&&(f=e.bracketPairs.findEnclosingBrackets(m,20),p=n._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER),a[l++]=new _L(m,f,p)}}this._lastBracketsData=a,this._lastVersionId=i}};Te(am.ID,am,1);V(fL);V(pL);V(gL);or.appendMenuItem(be.MenubarGoMenu,{group:"5_infile_nav",command:{id:"editor.action.jumpToBracket",title:_({key:"miGoToBracket",comment:["&& denotes a mnemonic"]},"Go to &&Bracket")},order:2});it();Kt();qe();Nn();var sI=class{constructor(t,e){this._selection=t,this._isMovingLeft=e}getEditOperations(t,e){if(this._selection.startLineNumber!==this._selection.endLineNumber||this._selection.isEmpty())return;let i=this._selection.startLineNumber,o=this._selection.startColumn,r=this._selection.endColumn;if(!(this._isMovingLeft&&o===1)&&!(!this._isMovingLeft&&r===t.getLineMaxColumn(i)))if(this._isMovingLeft){let s=new A(i,o-1,i,o),a=t.getValueInRange(s);e.addEditOperation(s,null),e.addEditOperation(new A(i,r,i,r),a)}else{let s=new A(i,r,i,r+1),a=t.getValueInRange(s);e.addEditOperation(s,null),e.addEditOperation(new A(i,o,i,o),a)}}computeCursorState(t,e){return this._isMovingLeft?new Be(this._selection.startLineNumber,this._selection.startColumn-1,this._selection.endLineNumber,this._selection.endColumn-1):new Be(this._selection.startLineNumber,this._selection.startColumn+1,this._selection.endLineNumber,this._selection.endColumn+1)}};Re();var aI=class extends Q{constructor(t,e){super(e),this.left=t}run(t,e){if(!e.hasModel())return;let i=[],o=e.getSelections();for(let r of o)i.push(new sI(r,this.left));e.pushUndoStop(),e.executeCommands(this.id,i),e.pushUndoStop()}},vL=class extends aI{constructor(){super(!0,{id:"editor.action.moveCarretLeftAction",label:_("caret.moveLeft","Move Selected Text Left"),alias:"Move Selected Text Left",precondition:T.writable})}},bL=class extends aI{constructor(){super(!1,{id:"editor.action.moveCarretRightAction",label:_("caret.moveRight","Move Selected Text Right"),alias:"Move Selected Text Right",precondition:T.writable})}};V(vL);V(bL);it();qe();Kt();Re();var yL=class extends Q{constructor(){super({id:"editor.action.transposeLetters",label:_("transposeLetters.label","Transpose Letters"),alias:"Transpose Letters",precondition:T.writable,kbOpts:{kbExpr:T.textInputFocus,primary:0,mac:{primary:306},weight:100}})}run(t,e){if(!e.hasModel())return;let i=e.getModel(),o=[],r=e.getSelections();for(let s of r){if(!s.isEmpty())continue;let a=s.startLineNumber,l=s.startColumn,c=i.getLineMaxColumn(a);if(a===1&&(l===1||l===2&&c===2))continue;let d=l===c?s.getPosition():OC.rightPosition(i,s.getPosition().lineNumber,s.getPosition().column),u=OC.leftPosition(i,d),h=OC.leftPosition(i,u),m=i.getValueInRange(A.fromPositions(h,u)),f=i.getValueInRange(A.fromPositions(u,d)),p=A.fromPositions(h,d);o.push(new zc(p,f+m))}o.length>0&&(e.pushUndoStop(),e.executeCommands(this.id,o),e.pushUndoStop())}};V(yL);pue();_t();tr();it();Uo();Kt();_t();Oi();Ht();bi();Oi();dv();var vu=function(){if(typeof crypto=="object"&&typeof crypto.randomUUID=="function")return crypto.randomUUID.bind(crypto);let n;typeof crypto=="object"&&typeof crypto.getRandomValues=="function"?n=crypto.getRandomValues.bind(crypto):n=function(i){for(let o=0;o<i.length;o++)i[o]=Math.floor(Math.random()*256);return i};let t=new Uint8Array(16),e=[];for(let i=0;i<256;i++)e.push(i.toString(16).padStart(2,"0"));return function(){n(t),t[6]=t[6]&15|64,t[8]=t[8]&63|128;let o=0,r="";return r+=e[t[o++]],r+=e[t[o++]],r+=e[t[o++]],r+=e[t[o++]],r+="-",r+=e[t[o++]],r+=e[t[o++]],r+="-",r+=e[t[o++]],r+=e[t[o++]],r+="-",r+=e[t[o++]],r+=e[t[o++]],r+="-",r+=e[t[o++]],r+=e[t[o++]],r+=e[t[o++]],r+=e[t[o++]],r+=e[t[o++]],r+=e[t[o++]],r}}();function my(n){return{asString:()=>M(this,null,function*(){return n}),asFile:()=>{},value:typeof n=="string"?n:void 0}}function D9(n,t,e){let i={id:vu(),name:n,uri:t,data:e};return{asString:()=>M(this,null,function*(){return""}),asFile:()=>i,value:void 0}}var og=class{constructor(){this._entries=new Map}get size(){let t=0;for(let e of this._entries)t++;return t}has(t){return this._entries.has(this.toKey(t))}matches(t){let e=[...this._entries.keys()];return Xr.some(this,([i,o])=>o.asFile())&&e.push("files"),I9(lI(t),e)}get(t){return this._entries.get(this.toKey(t))?.[0]}append(t,e){let i=this._entries.get(t);i?i.push(e):this._entries.set(this.toKey(t),[e])}replace(t,e){this._entries.set(this.toKey(t),[e])}delete(t){this._entries.delete(this.toKey(t))}*[Symbol.iterator](){for(let[t,e]of this._entries)for(let i of e)yield[t,i]}toKey(t){return lI(t)}};function lI(n){return n.toLowerCase()}function cI(n,t){return I9(lI(n),t.map(lI))}function I9(n,t){if(n==="*/*")return t.length>0;if(t.includes(n))return!0;let e=n.match(/^([a-z]+)\/([a-z]+|\*)$/i);if(!e)return!1;let[i,o,r]=e;return r==="*"?t.some(s=>s.startsWith(o+"/")):!1}var lm=Object.freeze({create:n=>wx(n.map(t=>t.toString())).join(`\r
`),split:n=>n.split(`\r
`),parse:n=>lm.split(n).filter(t=>!t.startsWith("#"))});var Qt=class n{static{this.sep="."}static{this.None=new n("@@none@@")}static{this.Empty=new n("")}constructor(t){this.value=t}equals(t){return this.value===t.value}contains(t){return this.equals(t)||this.value===""||t.value.startsWith(this.value+n.sep)}intersects(t){return this.contains(t)||t.contains(this)}append(...t){return new n((this.value?[this.value,...t]:t).join(n.sep))}};ue();SR();tr();SR();Ln();Cc();var xL={EDITORS:"CodeEditors",FILES:"CodeFiles"},wL=class{},cbe={DragAndDropContribution:"workbench.contributions.dragAndDrop"};yo.add(cbe.DragAndDropContribution,new wL);var dI=class n{static{this.INSTANCE=new n}constructor(){}static getInstance(){return n.INSTANCE}hasData(t){return t&&t===this.proto}getData(t){if(this.hasData(t))return this.data}};function CL(n){let t=new og;for(let e of n.items){let i=e.type;if(e.kind==="string"){let o=new Promise(r=>e.getAsString(r));t.append(i,my(o))}else if(e.kind==="file"){let o=e.getAsFile();o&&t.append(i,dbe(o))}}return t}function dbe(n){let t=n.path?mt.parse(n.path):void 0;return D9(n.name,t,()=>M(this,null,function*(){return new Uint8Array(yield n.arrayBuffer())}))}var ube=Object.freeze([xL.EDITORS,xL.FILES,_C.RESOURCES,_C.INTERNAL_URI_LIST]);function uI(n,t=!1){let e=CL(n),i=e.get(_C.INTERNAL_URI_LIST);if(i)e.replace(zn.uriList,i);else if(t||!e.has(zn.uriList)){let o=[];for(let r of n.items){let s=r.getAsFile();if(s){let a=s.path;try{a?o.push(mt.file(a).toString()):o.push(mt.parse(s.name,!0).toString())}catch{}}}o.length&&e.replace(zn.uriList,my(lm.create(o)))}for(let o of ube)e.delete(o);return e}qe();vn();Lt();Oi();ue();SR();Ih();Zr();Ln();vn();Lt();Re();var DL=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},py=function(n,t){return function(e,i){t(e,i,n)}},fy=class{provideDocumentPasteEdits(t,e,i,o,r){return M(this,null,function*(){let s=yield this.getEdit(i,r);if(s)return{edits:[{insertText:s.insertText,title:s.title,kind:s.kind,handledMimeType:s.handledMimeType,yieldTo:s.yieldTo}],dispose(){}}})}provideDocumentDropEdits(t,e,i,o){return M(this,null,function*(){let r=yield this.getEdit(i,o);if(r)return{edits:[{insertText:r.insertText,title:r.title,kind:r.kind,handledMimeType:r.handledMimeType,yieldTo:r.yieldTo}],dispose(){}}})}},Zc=class n extends fy{constructor(){super(...arguments),this.kind=n.kind,this.dropMimeTypes=[zn.text],this.pasteMimeTypes=[zn.text]}static{this.id="text"}static{this.kind=new Qt("text.plain")}getEdit(t,e){return M(this,null,function*(){let i=t.get(zn.text);if(!i||t.has(zn.uriList))return;let o=yield i.asString();return{handledMimeType:zn.text,title:_("text.label","Insert Plain Text"),insertText:o,kind:this.kind}})}},hI=class extends fy{constructor(){super(...arguments),this.kind=new Qt("uri.absolute"),this.dropMimeTypes=[zn.uriList],this.pasteMimeTypes=[zn.uriList]}getEdit(t,e){return M(this,null,function*(){let i=yield E9(t);if(!i.length||e.isCancellationRequested)return;let o=0,r=i.map(({uri:a,originalText:l})=>a.scheme===Fn.file?a.fsPath:(o++,l)).join(" "),s;return o>0?s=i.length>1?_("defaultDropProvider.uriList.uris","Insert Uris"):_("defaultDropProvider.uriList.uri","Insert Uri"):s=i.length>1?_("defaultDropProvider.uriList.paths","Insert Paths"):_("defaultDropProvider.uriList.path","Insert Path"),{handledMimeType:zn.uriList,insertText:r,title:s,kind:this.kind}})}},mI=class extends fy{constructor(t){super(),this._workspaceContextService=t,this.kind=new Qt("uri.relative"),this.dropMimeTypes=[zn.uriList],this.pasteMimeTypes=[zn.uriList]}getEdit(t,e){return M(this,null,function*(){let i=yield E9(t);if(!i.length||e.isCancellationRequested)return;let o=er(i.map(({uri:r})=>{let s=this._workspaceContextService.getWorkspaceFolder(r);return s?cU(s.uri,r):void 0}));if(o.length)return{handledMimeType:zn.uriList,insertText:o.join(" "),title:i.length>1?_("defaultDropProvider.uriList.relativePaths","Insert Relative Paths"):_("defaultDropProvider.uriList.relativePath","Insert Relative Path"),kind:this.kind}})}};mI=DL([py(0,Lc)],mI);var SL=class{constructor(){this.kind=new Qt("html"),this.pasteMimeTypes=["text/html"],this._yieldTo=[{mimeType:zn.text}]}provideDocumentPasteEdits(t,e,i,o,r){return M(this,null,function*(){if(o.triggerKind!==pv.PasteAs&&!o.only?.contains(this.kind))return;let a=yield i.get("text/html")?.asString();if(!(!a||r.isCancellationRequested))return{dispose(){},edits:[{insertText:a,yieldTo:this._yieldTo,title:_("pasteHtmlLabel","Insert HTML"),kind:this.kind}]}})}};function E9(n){return M(this,null,function*(){let t=n.get(zn.uriList);if(!t)return[];let e=yield t.asString(),i=[];for(let o of lm.parse(e))try{i.push({uri:mt.parse(o),originalText:o})}catch{}return i})}var pI=class extends U{constructor(t,e){super(),this._register(t.documentDropEditProvider.register("*",new Zc)),this._register(t.documentDropEditProvider.register("*",new hI)),this._register(t.documentDropEditProvider.register("*",new mI(e)))}};pI=DL([py(0,ce),py(1,Lc)],pI);var fI=class extends U{constructor(t,e){super(),this._register(t.documentPasteEditProvider.register("*",new Zc)),this._register(t.documentPasteEditProvider.register("*",new hI)),this._register(t.documentPasteEditProvider.register("*",new mI(e))),this._register(t.documentPasteEditProvider.register("*",new SL))}};fI=DL([py(0,ce),py(1,Lc)],fI);var hbe=(()=>{class n{constructor(){this.value="",this.pos=0}static{this._table={36:0,58:1,44:2,123:3,125:4,92:5,47:6,124:7,43:11,45:12,63:13}}static isDigitCharacter(e){return e>=48&&e<=57}static isVariableCharacter(e){return e===95||e>=97&&e<=122||e>=65&&e<=90}text(e){this.value=e,this.pos=0}tokenText(e){return this.value.substr(e.pos,e.len)}next(){if(this.pos>=this.value.length)return{type:14,pos:this.pos,len:0};let e=this.pos,i=0,o=this.value.charCodeAt(e),r;if(r=n._table[o],typeof r=="number")return this.pos+=1,{type:r,pos:e,len:1};if(n.isDigitCharacter(o)){r=8;do i+=1,o=this.value.charCodeAt(e+i);while(n.isDigitCharacter(o));return this.pos+=i,{type:r,pos:e,len:i}}if(n.isVariableCharacter(o)){r=9;do o=this.value.charCodeAt(e+ ++i);while(n.isVariableCharacter(o)||n.isDigitCharacter(o));return this.pos+=i,{type:r,pos:e,len:i}}r=10;do i+=1,o=this.value.charCodeAt(e+i);while(!isNaN(o)&&typeof n._table[o]>"u"&&!n.isDigitCharacter(o)&&!n.isVariableCharacter(o));return this.pos+=i,{type:r,pos:e,len:i}}}return n})(),bu=class{constructor(){this._children=[]}appendChild(t){return t instanceof So&&this._children[this._children.length-1]instanceof So?this._children[this._children.length-1].value+=t.value:(t.parent=this,this._children.push(t)),this}replace(t,e){let{parent:i}=t,o=i.children.indexOf(t),r=i.children.slice(0);r.splice(o,1,...e),i._children=r,function s(a,l){for(let c of a)c.parent=l,s(c.children,c)}(e,i)}get children(){return this._children}get rightMostDescendant(){return this._children.length>0?this._children[this._children.length-1].rightMostDescendant:this}get snippet(){let t=this;for(;;){if(!t)return;if(t instanceof rg)return t;t=t.parent}}toString(){return this.children.reduce((t,e)=>t+e.toString(),"")}len(){return 0}},So=class n extends bu{constructor(t){super(),this.value=t}toString(){return this.value}len(){return this.value.length}clone(){return new n(this.value)}},gI=class extends bu{},as=class n extends gI{static compareByIndex(t,e){return t.index===e.index?0:t.isFinalTabstop?1:e.isFinalTabstop||t.index<e.index?-1:t.index>e.index?1:0}constructor(t){super(),this.index=t}get isFinalTabstop(){return this.index===0}get choice(){return this._children.length===1&&this._children[0]instanceof cm?this._children[0]:void 0}clone(){let t=new n(this.index);return this.transform&&(t.transform=this.transform.clone()),t._children=this.children.map(e=>e.clone()),t}},cm=class n extends bu{constructor(){super(...arguments),this.options=[]}appendChild(t){return t instanceof So&&(t.parent=this,this.options.push(t)),this}toString(){return this.options[0].value}len(){return this.options[0].len()}clone(){let t=new n;return this.options.forEach(t.appendChild,t),t}},IL=class n extends bu{constructor(){super(...arguments),this.regexp=new RegExp("")}resolve(t){let e=this,i=!1,o=t.replace(this.regexp,function(){return i=!0,e._replace(Array.prototype.slice.call(arguments,0,-2))});return!i&&this._children.some(r=>r instanceof Ka&&!!r.elseValue)&&(o=this._replace([])),o}_replace(t){let e="";for(let i of this._children)if(i instanceof Ka){let o=t[i.index]||"";o=i.resolve(o),e+=o}else e+=i.toString();return e}toString(){return""}clone(){let t=new n;return t.regexp=new RegExp(this.regexp.source,(this.regexp.ignoreCase?"i":"")+(this.regexp.global?"g":"")),t._children=this.children.map(e=>e.clone()),t}},Ka=class n extends bu{constructor(t,e,i,o){super(),this.index=t,this.shorthandName=e,this.ifValue=i,this.elseValue=o}resolve(t){return this.shorthandName==="upcase"?t?t.toLocaleUpperCase():"":this.shorthandName==="downcase"?t?t.toLocaleLowerCase():"":this.shorthandName==="capitalize"?t?t[0].toLocaleUpperCase()+t.substr(1):"":this.shorthandName==="pascalcase"?t?this._toPascalCase(t):"":this.shorthandName==="camelcase"?t?this._toCamelCase(t):"":t&&typeof this.ifValue=="string"?this.ifValue:!t&&typeof this.elseValue=="string"?this.elseValue:t||""}_toPascalCase(t){let e=t.match(/[a-z0-9]+/gi);return e?e.map(i=>i.charAt(0).toUpperCase()+i.substr(1)).join(""):t}_toCamelCase(t){let e=t.match(/[a-z0-9]+/gi);return e?e.map((i,o)=>o===0?i.charAt(0).toLowerCase()+i.substr(1):i.charAt(0).toUpperCase()+i.substr(1)).join(""):t}clone(){return new n(this.index,this.shorthandName,this.ifValue,this.elseValue)}},gy=class n extends gI{constructor(t){super(),this.name=t}resolve(t){let e=t.resolve(this);return this.transform&&(e=this.transform.resolve(e||"")),e!==void 0?(this._children=[new So(e)],!0):!1}clone(){let t=new n(this.name);return this.transform&&(t.transform=this.transform.clone()),t._children=this.children.map(e=>e.clone()),t}};function M9(n,t){let e=[...n];for(;e.length>0;){let i=e.shift();if(!t(i))break;e.unshift(...i.children)}}var rg=class n extends bu{get placeholderInfo(){if(!this._placeholders){let t=[],e;this.walk(function(i){return i instanceof as&&(t.push(i),e=!e||e.index<i.index?i:e),!0}),this._placeholders={all:t,last:e}}return this._placeholders}get placeholders(){let{all:t}=this.placeholderInfo;return t}offset(t){let e=0,i=!1;return this.walk(o=>o===t?(i=!0,!1):(e+=o.len(),!0)),i?e:-1}fullLen(t){let e=0;return M9([t],i=>(e+=i.len(),!0)),e}enclosingPlaceholders(t){let e=[],{parent:i}=t;for(;i;)i instanceof as&&e.push(i),i=i.parent;return e}resolveVariables(t){return this.walk(e=>(e instanceof gy&&e.resolve(t)&&(this._placeholders=void 0),!0)),this}appendChild(t){return this._placeholders=void 0,super.appendChild(t)}replace(t,e){return this._placeholders=void 0,super.replace(t,e)}clone(){let t=new n;return this._children=this.children.map(e=>e.clone()),t}walk(t){M9(this.children,t)}},Vr=class{constructor(){this._scanner=new hbe,this._token={type:14,pos:0,len:0}}static escape(t){return t.replace(/\$|}|\\/g,"\\$&")}static guessNeedsClipboard(t){return/\${?CLIPBOARD/.test(t)}parse(t,e,i){let o=new rg;return this.parseFragment(t,o),this.ensureFinalTabstop(o,i??!1,e??!1),o}parseFragment(t,e){let i=e.children.length;for(this._scanner.text(t),this._token=this._scanner.next();this._parse(e););let o=new Map,r=[];e.walk(l=>(l instanceof as&&(l.isFinalTabstop?o.set(0,void 0):!o.has(l.index)&&l.children.length>0?o.set(l.index,l.children):r.push(l)),!0));let s=(l,c)=>{let d=o.get(l.index);if(!d)return;let u=new as(l.index);u.transform=l.transform;for(let h of d){let m=h.clone();u.appendChild(m),m instanceof as&&o.has(m.index)&&!c.has(m.index)&&(c.add(m.index),s(m,c),c.delete(m.index))}e.replace(l,[u])},a=new Set;for(let l of r)s(l,a);return e.children.slice(i)}ensureFinalTabstop(t,e,i){(e||i&&t.placeholders.length>0)&&(t.placeholders.find(r=>r.index===0)||t.appendChild(new as(0)))}_accept(t,e){if(t===void 0||this._token.type===t){let i=e?this._scanner.tokenText(this._token):!0;return this._token=this._scanner.next(),i}return!1}_backTo(t){return this._scanner.pos=t.pos+t.len,this._token=t,!1}_until(t){let e=this._token;for(;this._token.type!==t;){if(this._token.type===14)return!1;if(this._token.type===5){let o=this._scanner.next();if(o.type!==0&&o.type!==4&&o.type!==5)return!1}this._token=this._scanner.next()}let i=this._scanner.value.substring(e.pos,this._token.pos).replace(/\\(\$|}|\\)/g,"$1");return this._token=this._scanner.next(),i}_parse(t){return this._parseEscaped(t)||this._parseTabstopOrVariableName(t)||this._parseComplexPlaceholder(t)||this._parseComplexVariable(t)||this._parseAnything(t)}_parseEscaped(t){let e;return(e=this._accept(5,!0))?(e=this._accept(0,!0)||this._accept(4,!0)||this._accept(5,!0)||e,t.appendChild(new So(e)),!0):!1}_parseTabstopOrVariableName(t){let e,i=this._token;return this._accept(0)&&(e=this._accept(9,!0)||this._accept(8,!0))?(t.appendChild(/^\d+$/.test(e)?new as(Number(e)):new gy(e)),!0):this._backTo(i)}_parseComplexPlaceholder(t){let e,i=this._token;if(!(this._accept(0)&&this._accept(3)&&(e=this._accept(8,!0))))return this._backTo(i);let r=new as(Number(e));if(this._accept(1))for(;;){if(this._accept(4))return t.appendChild(r),!0;if(!this._parse(r))return t.appendChild(new So("${"+e+":")),r.children.forEach(t.appendChild,t),!0}else if(r.index>0&&this._accept(7)){let s=new cm;for(;;){if(this._parseChoiceElement(s)){if(this._accept(2))continue;if(this._accept(7)&&(r.appendChild(s),this._accept(4)))return t.appendChild(r),!0}return this._backTo(i),!1}}else return this._accept(6)?this._parseTransform(r)?(t.appendChild(r),!0):(this._backTo(i),!1):this._accept(4)?(t.appendChild(r),!0):this._backTo(i)}_parseChoiceElement(t){let e=this._token,i=[];for(;!(this._token.type===2||this._token.type===7);){let o;if((o=this._accept(5,!0))?o=this._accept(2,!0)||this._accept(7,!0)||this._accept(5,!0)||o:o=this._accept(void 0,!0),!o)return this._backTo(e),!1;i.push(o)}return i.length===0?(this._backTo(e),!1):(t.appendChild(new So(i.join(""))),!0)}_parseComplexVariable(t){let e,i=this._token;if(!(this._accept(0)&&this._accept(3)&&(e=this._accept(9,!0))))return this._backTo(i);let r=new gy(e);if(this._accept(1))for(;;){if(this._accept(4))return t.appendChild(r),!0;if(!this._parse(r))return t.appendChild(new So("${"+e+":")),r.children.forEach(t.appendChild,t),!0}else return this._accept(6)?this._parseTransform(r)?(t.appendChild(r),!0):(this._backTo(i),!1):this._accept(4)?(t.appendChild(r),!0):this._backTo(i)}_parseTransform(t){let e=new IL,i="",o="";for(;!this._accept(6);){let r;if(r=this._accept(5,!0)){r=this._accept(6,!0)||r,i+=r;continue}if(this._token.type!==14){i+=this._accept(void 0,!0);continue}return!1}for(;!this._accept(6);){let r;if(r=this._accept(5,!0)){r=this._accept(5,!0)||this._accept(6,!0)||r,e.appendChild(new So(r));continue}if(!(this._parseFormatString(e)||this._parseAnything(e)))return!1}for(;!this._accept(4);){if(this._token.type!==14){o+=this._accept(void 0,!0);continue}return!1}try{e.regexp=new RegExp(i,o)}catch{return!1}return t.transform=e,!0}_parseFormatString(t){let e=this._token;if(!this._accept(0))return!1;let i=!1;this._accept(3)&&(i=!0);let o=this._accept(8,!0);if(o)if(i){if(this._accept(4))return t.appendChild(new Ka(Number(o))),!0;if(!this._accept(1))return this._backTo(e),!1}else return t.appendChild(new Ka(Number(o))),!0;else return this._backTo(e),!1;if(this._accept(6)){let r=this._accept(9,!0);return!r||!this._accept(4)?(this._backTo(e),!1):(t.appendChild(new Ka(Number(o),r)),!0)}else if(this._accept(11)){let r=this._until(4);if(r)return t.appendChild(new Ka(Number(o),void 0,r,void 0)),!0}else if(this._accept(12)){let r=this._until(4);if(r)return t.appendChild(new Ka(Number(o),void 0,void 0,r)),!0}else if(this._accept(13)){let r=this._until(1);if(r){let s=this._until(4);if(s)return t.appendChild(new Ka(Number(o),void 0,r,s)),!0}}else{let r=this._until(4);if(r)return t.appendChild(new Ka(Number(o),void 0,void 0,r)),!0}return this._backTo(e),!1}_parseAnything(t){return this._token.type!==14?(t.appendChild(new So(this._scanner.tokenText(this._token))),this._accept(void 0),!0):!1}};function _I(n,t,e){return(typeof e.insertText=="string"?e.insertText==="":e.insertText.snippet==="")?{edits:e.additionalEdit?.edits??[]}:{edits:[...t.map(i=>new yU(n,{range:i,text:typeof e.insertText=="string"?Vr.escape(e.insertText)+"$0":e.insertText.snippet,insertAsSnippet:!0})),...e.additionalEdit?.edits??[]]}}function vI(n){function t(s,a){return"mimeType"in s?s.mimeType===a.handledMimeType:!!a.kind&&s.kind.contains(a.kind)}let e=new Map;for(let s of n)for(let a of s.yieldTo??[])for(let l of n)if(l!==s&&t(a,l)){let c=e.get(s);c||(c=[],e.set(s,c)),c.push(l)}if(!e.size)return Array.from(n);let i=new Set,o=[];function r(s){if(!s.length)return[];let a=s[0];if(o.includes(a))return console.warn("Yield to cycle detected",a),s;if(i.has(a))return r(s.slice(1));let l=[],c=e.get(a);return c&&(o.push(a),l=r(c),o.pop()),i.add(a),[...l,a,...r(s.slice(1))]}return r(Array.from(n))}Bh();_t();Ht();Wn();ue();zi();nr();qe();wn();Ot();var mbe=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},pbe=function(n,t){return function(e,i){t(e,i,n)}},fbe=lt.register({description:"inline-progress-widget",stickiness:1,showIfCollapsed:!0,after:{content:Rx,inlineClassName:"inline-editor-progress-decoration",inlineClassNameAffectsLetterSpacing:!0}}),gbe=(()=>{class n extends U{static{this.baseId="editor.widget.inlineProgressWidget"}constructor(e,i,o,r,s){super(),this.typeId=e,this.editor=i,this.range=o,this.delegate=s,this.allowEditorOverflow=!1,this.suppressMouseDown=!0,this.create(r),this.editor.addContentWidget(this),this.editor.layoutContentWidget(this)}create(e){this.domNode=ye(".inline-progress-widget"),this.domNode.role="button",this.domNode.title=e;let i=ye("span.icon");this.domNode.append(i),i.classList.add(...Dt.asClassNameArray(Ge.loading),"codicon-modifier-spin");let o=()=>{let r=this.editor.getOption(67);this.domNode.style.height=`${r}px`,this.domNode.style.width=`${Math.ceil(.8*r)}px`};o(),this._register(this.editor.onDidChangeConfiguration(r=>{(r.hasChanged(52)||r.hasChanged(67))&&o()})),this._register(St(this.domNode,ci.CLICK,r=>{this.delegate.cancel()}))}getId(){return n.baseId+"."+this.typeId}getDomNode(){return this.domNode}getPosition(){return{position:{lineNumber:this.range.startLineNumber,column:this.range.startColumn},preference:[0]}}dispose(){super.dispose(),this.editor.removeContentWidget(this)}}return n})(),sg=class extends U{constructor(t,e,i){super(),this.id=t,this._editor=e,this._instantiationService=i,this._showDelay=500,this._showPromise=this._register(new un),this._currentWidget=this._register(new un),this._operationIdPool=0,this._currentDecorations=e.createDecorationsCollection()}dispose(){super.dispose(),this._currentDecorations.clear()}showWhile(t,e,i,o,r){return M(this,null,function*(){let s=this._operationIdPool++;this._currentOperation=s,this.clear(),this._showPromise.value=wc(()=>{let a=A.fromPositions(t);this._currentDecorations.set([{range:a,options:fbe}]).length>0&&(this._currentWidget.value=this._instantiationService.createInstance(gbe,this.id,this._editor,a,e,o))},r??this._showDelay);try{return yield i}finally{this._currentOperation===s&&(this.clear(),this._currentOperation=void 0)}})}clear(){this._showPromise.clear(),this._currentDecorations.clear(),this._currentWidget.clear()}};sg=mbe([pbe(2,Me)],sg);oi();Js();ue();it();qe();Re();pt();_t();var _be=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},k9=function(n,t){return function(e,i){t(e,i,n)}},bI,Do=class{static{bI=this}static{this.ID="editor.contrib.messageController"}static{this.MESSAGE_VISIBLE=new ot("messageVisible",!1,_("messageVisible","Whether the editor is currently showing an inline message"))}static get(t){return t.getContribution(bI.ID)}constructor(t,e,i){this._openerService=i,this._messageWidget=new un,this._messageListeners=new G,this._mouseOverMessage=!1,this._editor=t,this._visible=bI.MESSAGE_VISIBLE.bindTo(e)}dispose(){this._message?.dispose(),this._messageListeners.dispose(),this._messageWidget.dispose(),this._visible.reset()}showMessage(t,e){Kn(Fp(t)?t.value:t),this._visible.set(!0),this._messageWidget.clear(),this._messageListeners.clear(),this._message=Fp(t)?hU(t,{actionHandler:{callback:o=>{this.closeMessage(),bU(this._openerService,o,Fp(t)?t.isTrusted:void 0)},disposables:this._messageListeners}}):void 0,this._messageWidget.value=new yI(this._editor,e,typeof t=="string"?t:this._message.element),this._messageListeners.add(xi.debounce(this._editor.onDidBlurEditorText,(o,r)=>r,0)(()=>{this._mouseOverMessage||this._messageWidget.value&&z4(Lx(),this._messageWidget.value.getDomNode())||this.closeMessage()})),this._messageListeners.add(this._editor.onDidChangeCursorPosition(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidDispose(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidChangeModel(()=>this.closeMessage())),this._messageListeners.add(St(this._messageWidget.value.getDomNode(),ci.MOUSE_ENTER,()=>this._mouseOverMessage=!0,!0)),this._messageListeners.add(St(this._messageWidget.value.getDomNode(),ci.MOUSE_LEAVE,()=>this._mouseOverMessage=!1,!0));let i;this._messageListeners.add(this._editor.onMouseMove(o=>{o.target.position&&(i?i.containsPosition(o.target.position)||this.closeMessage():i=new A(e.lineNumber-3,1,o.target.position.lineNumber+3,1))}))}closeMessage(){this._visible.reset(),this._messageListeners.clear(),this._messageWidget.value&&this._messageListeners.add(yI.fadeOut(this._messageWidget.value))}};Do=bI=_be([k9(1,Ze),k9(2,$n)],Do);var vbe=Ki.bindToContribution(Do.get);ze(new vbe({id:"leaveEditorMessage",precondition:Do.MESSAGE_VISIBLE,handler:n=>n.closeMessage(),kbOpts:{weight:130,primary:9}}));var yI=class{static fadeOut(t){let e=()=>{t.dispose(),clearTimeout(i),t.getDomNode().removeEventListener("animationend",e)},i=setTimeout(e,110);return t.getDomNode().addEventListener("animationend",e),t.getDomNode().classList.add("fadeOut"),{dispose:e}}constructor(t,{lineNumber:e,column:i},o){this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._editor=t,this._editor.revealLinesInCenterIfOutsideViewport(e,e,0),this._position={lineNumber:e,column:i},this._domNode=document.createElement("div"),this._domNode.classList.add("monaco-editor-overlaymessage"),this._domNode.style.marginLeft="-6px";let r=document.createElement("div");r.classList.add("anchor","top"),this._domNode.appendChild(r);let s=document.createElement("div");typeof o=="string"?(s.classList.add("message"),s.textContent=o):(o.classList.add("message"),s.appendChild(o)),this._domNode.appendChild(s);let a=document.createElement("div");a.classList.add("anchor","below"),this._domNode.appendChild(a),this._editor.addContentWidget(this),this._domNode.classList.add("fadeIn")}dispose(){this._editor.removeContentWidget(this)}getId(){return"messageoverlay"}getDomNode(){return this._domNode}getPosition(){return{position:this._position,preference:[1,2],positionAffinity:1}}afterRender(t){this._domNode.classList.toggle("below",t===2)}};Te(Do.ID,Do,4);Re();pt();Ot();_t();Th();Oi();ro();Re();function EL(n,t){return t&&(n.stack||n.stacktrace)?_("stackTrace.format","{0}: {1}",A9(n),T9(n.stack)||T9(n.stacktrace)):A9(n)}function T9(n){return Array.isArray(n)?n.join(`
`):n}function A9(n){return n.code==="ERR_UNC_HOST_NOT_ALLOWED"?`${n.message}. Please update the 'security.allowedUNCHosts' setting if you want to allow this host.`:typeof n.code=="string"&&typeof n.errno=="number"&&typeof n.syscall=="string"?_("nodeExceptionMessage","A system error occurred ({0})",n.message):n.message||_("error.defaultMessage","An unknown error occurred. Please consult the log for more details.")}function ag(n=null,t=!1){if(!n)return _("error.defaultMessage","An unknown error occurred. Please consult the log for more details.");if(Array.isArray(n)){let e=er(n),i=ag(e[0],t);return e.length>1?_("error.moreErrors","{0} ({1} errors in total)",i,e.length):i}if(Cx(n))return n;if(n.detail){let e=n.detail;if(e.error)return EL(e.error,t);if(e.exception)return EL(e.exception,t)}return n.stack?EL(n,t):n.message?n.message:_("error.defaultMessage","An unknown error occurred. Please consult the log for more details.")}Bt();oi();ue();Re();pt();Ot();var R9=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},lg=function(n,t){return function(e,i){t(e,i,n)}},kL,TL=class extends U{static{kL=this}static{this.baseId="editor.widget.postEditWidget"}constructor(e,i,o,r,s,a,l,c,d,u){super(),this.typeId=e,this.editor=i,this.showCommand=r,this.range=s,this.edits=a,this.onSelectNewEdit=l,this._contextMenuService=c,this._keybindingService=u,this.allowEditorOverflow=!0,this.suppressMouseDown=!0,this.create(),this.visibleContext=o.bindTo(d),this.visibleContext.set(!0),this._register(kt(()=>this.visibleContext.reset())),this.editor.addContentWidget(this),this.editor.layoutContentWidget(this),this._register(kt(()=>this.editor.removeContentWidget(this))),this._register(this.editor.onDidChangeCursorPosition(h=>{s.containsPosition(h.position)||this.dispose()})),this._register(xi.runAndSubscribe(u.onDidUpdateKeybindings,()=>{this._updateButtonTitle()}))}_updateButtonTitle(){let e=this._keybindingService.lookupKeybinding(this.showCommand.id)?.getLabel();this.button.element.title=this.showCommand.label+(e?` (${e})`:"")}create(){this.domNode=ye(".post-edit-widget"),this.button=this._register(new JU(this.domNode,{supportIcons:!0})),this.button.label="$(insert)",this._register(St(this.domNode,ci.CLICK,()=>this.showSelector()))}getId(){return kL.baseId+"."+this.typeId}getDomNode(){return this.domNode}getPosition(){return{position:this.range.getEndPosition(),preference:[2]}}showSelector(){this._contextMenuService.showContextMenu({getAnchor:()=>{let e=Gi(this.button.element);return{x:e.left+e.width,y:e.top+e.height}},getActions:()=>this.edits.allEdits.map((e,i)=>G4({id:"",label:e.title,checked:i===this.edits.activeEditIndex,run:()=>{if(i!==this.edits.activeEditIndex)return this.onSelectNewEdit(i)}}))})}};TL=kL=R9([lg(7,Qs),lg(8,Ze),lg(9,Vt)],TL);var cg=class extends U{constructor(t,e,i,o,r,s,a){super(),this._id=t,this._editor=e,this._visibleContext=i,this._showCommand=o,this._instantiationService=r,this._bulkEditService=s,this._notificationService=a,this._currentWidget=this._register(new un),this._register(xi.any(e.onDidChangeModel,e.onDidChangeModelContent)(()=>this.clear()))}applyEditAndShowIfNeeded(t,e,i,o,r){return M(this,null,function*(){let s=this._editor.getModel();if(!s||!t.length)return;let a=e.allEdits.at(e.activeEditIndex);if(!a)return;let l=g=>M(this,null,function*(){let v=this._editor.getModel();v&&(yield v.undo(),this.applyEditAndShowIfNeeded(t,{activeEditIndex:g,allEdits:e.allEdits},i,o,r))}),c=(g,v)=>{gr(g)||(this._notificationService.error(v),i&&this.show(t[0],e,l))},d;try{d=yield o(a,r)}catch(g){return c(g,_("resolveError",`Error resolving edit '{0}':
{1}`,a.title,ag(g)))}if(r.isCancellationRequested)return;let u=_I(s.uri,t,d),h=t[0],m=s.deltaDecorations([],[{range:h,options:{description:"paste-line-suffix",stickiness:0}}]);this._editor.focus();let f,p;try{f=yield this._bulkEditService.apply(u,{editor:this._editor,token:r}),p=s.getDecorationRange(m[0])}catch(g){return c(g,_("applyError",`Error applying edit '{0}':
{1}`,a.title,ag(g)))}finally{s.deltaDecorations(m,[])}r.isCancellationRequested||i&&f.isApplied&&e.allEdits.length>1&&this.show(p??h,e,l)})}show(t,e,i){this.clear(),this._editor.hasModel()&&(this._currentWidget.value=this._instantiationService.createInstance(TL,this._id,this._editor,this._visibleContext,this._showCommand,t,e,i))}clear(){this._currentWidget.clear()}tryShowSelector(){this._currentWidget.value?.showSelector()}};cg=R9([lg(4,Me),lg(5,Bd),lg(6,Hi)],cg);Bt();var ybe=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},dg=function(n,t){return function(e,i){t(e,i,n)}},dm,RL="editor.changePasteType",wI=new ot("pasteWidgetVisible",!1,_("pasteWidgetVisible","Whether the paste widget is showing")),AL="application/vnd.code.copyMetadata",Ya=class extends U{static{dm=this}static{this.ID="editor.contrib.copyPasteActionController"}static get(e){return e.getContribution(dm.ID)}constructor(e,i,o,r,s,a,l){super(),this._bulkEditService=o,this._clipboardService=r,this._languageFeaturesService=s,this._quickInputService=a,this._progressService=l,this._editor=e;let c=e.getContainerDomNode();this._register(St(c,"copy",d=>this.handleCopy(d))),this._register(St(c,"cut",d=>this.handleCopy(d))),this._register(St(c,"paste",d=>this.handlePaste(d),!0)),this._pasteProgressManager=this._register(new sg("pasteIntoEditor",e,i)),this._postPasteWidgetManager=this._register(i.createInstance(cg,"pasteIntoEditor",e,wI,{id:RL,label:_("postPasteWidgetTitle","Show paste options...")}))}changePasteType(){this._postPasteWidgetManager.tryShowSelector()}pasteAs(e){this._editor.focus();try{this._pasteAsActionContext={preferred:e},bv().execCommand("paste")}finally{this._pasteAsActionContext=void 0}}clearWidgets(){this._postPasteWidgetManager.clear()}isPasteAsEnabled(){return this._editor.getOption(85).enabled}finishedPaste(){return M(this,null,function*(){yield this._currentPasteOperation})}handleCopy(e){if(!this._editor.hasTextFocus()||(this._clipboardService.clearInternalState?.(),!e.clipboardData||!this.isPasteAsEnabled()))return;let i=this._editor.getModel(),o=this._editor.getSelections();if(!i||!o?.length)return;let r=this._editor.getOption(37),s=o,a=o.length===1&&o[0].isEmpty();if(a){if(!r)return;s=[new A(s[0].startLineNumber,1,s[0].startLineNumber,1+i.getLineLength(s[0].startLineNumber))]}let l=this._editor._getViewModel()?.getPlainTextToCopy(o,r,Ed),d={multicursorText:Array.isArray(l)?l:null,pasteOnNewLine:a,mode:null},u=this._languageFeaturesService.documentPasteEditProvider.ordered(i).filter(g=>!!g.prepareDocumentPaste);if(!u.length){this.setCopyMetadata(e.clipboardData,{defaultPastePayload:d});return}let h=CL(e.clipboardData),m=u.flatMap(g=>g.copyMimeTypes??[]),f=vu();this.setCopyMetadata(e.clipboardData,{id:f,providerCopyMimeTypes:m,defaultPastePayload:d});let p=Ci(g=>M(this,null,function*(){let v=er(yield Promise.all(u.map(b=>M(this,null,function*(){try{return yield b.prepareDocumentPaste(i,s,h,g)}catch(C){console.error(C);return}}))));v.reverse();for(let b of v)for(let[C,k]of b)h.replace(C,k);return h}));dm._currentCopyOperation?.dataTransferPromise.cancel(),dm._currentCopyOperation={handle:f,dataTransferPromise:p}}handlePaste(e){return M(this,null,function*(){if(!e.clipboardData||!this._editor.hasTextFocus())return;Do.get(this._editor)?.closeMessage(),this._currentPasteOperation?.cancel(),this._currentPasteOperation=void 0;let i=this._editor.getModel(),o=this._editor.getSelections();if(!o?.length||!i||this._editor.getOption(92)||!this.isPasteAsEnabled()&&!this._pasteAsActionContext)return;let r=this.fetchCopyMetadata(e),s=uI(e.clipboardData);s.delete(AL);let a=[...e.clipboardData.types,...r?.providerCopyMimeTypes??[],zn.uriList],l=this._languageFeaturesService.documentPasteEditProvider.ordered(i).filter(c=>{let d=this._pasteAsActionContext?.preferred;return d&&c.providedPasteEditKinds&&!this.providerMatchesPreference(c,d)?!1:c.pasteMimeTypes?.some(u=>cI(u,a))});if(!l.length){this._pasteAsActionContext?.preferred&&this.showPasteAsNoEditMessage(o,this._pasteAsActionContext.preferred);return}e.preventDefault(),e.stopImmediatePropagation(),this._pasteAsActionContext?this.showPasteAsPick(this._pasteAsActionContext.preferred,l,o,s,r):this.doPasteInline(l,o,s,r,e)})}showPasteAsNoEditMessage(e,i){Do.get(this._editor)?.showMessage(_("pasteAsError","No paste edits for '{0}' found",i instanceof Qt?i.value:i.providerId),e[0].getStartPosition())}doPasteInline(e,i,o,r,s){let a=this._editor;if(!a.hasModel())return;let l=new Ml(a,3,void 0),c=Ci(d=>M(this,null,function*(){let u=this._editor;if(!u.hasModel())return;let h=u.getModel(),m=new G,f=m.add(new vi(d));m.add(l.token.onCancellationRequested(()=>f.cancel()));let p=f.token;try{if(yield this.mergeInDataFromCopy(o,r,p),p.isCancellationRequested)return;let g=e.filter(C=>this.isSupportedPasteProvider(C,o));if(!g.length||g.length===1&&g[0]instanceof Zc)return this.applyDefaultPasteHandler(o,r,p,s);let v={triggerKind:pv.Automatic},b=yield this.getPasteEdits(g,o,h,i,v,p);if(m.add(b),p.isCancellationRequested)return;if(b.edits.length===1&&b.edits[0].provider instanceof Zc)return this.applyDefaultPasteHandler(o,r,p,s);if(b.edits.length){let C=u.getOption(85).showPasteSelector==="afterPaste";return this._postPasteWidgetManager.applyEditAndShowIfNeeded(i,{activeEditIndex:0,allEdits:b.edits},C,(k,E)=>new Promise((F,L)=>{M(this,null,function*(){try{let H=k.provider.resolveDocumentPasteEdit?.(k,E),re=new Ad,R=H&&(yield this._pasteProgressManager.showWhile(i[0].getEndPosition(),_("resolveProcess","Resolving paste edit. Click to cancel"),Promise.race([re.p,H]),{cancel:()=>(re.cancel(),L(new kd))},0));return R&&(k.additionalEdit=R.additionalEdit),F(k)}catch(H){return L(H)}})}),p)}yield this.applyDefaultPasteHandler(o,r,p,s)}finally{m.dispose(),this._currentPasteOperation===c&&(this._currentPasteOperation=void 0)}}));this._pasteProgressManager.showWhile(i[0].getEndPosition(),_("pasteIntoEditorProgress","Running paste handlers. Click to cancel and do basic paste"),c,{cancel:()=>M(this,null,function*(){try{if(c.cancel(),l.token.isCancellationRequested)return;yield this.applyDefaultPasteHandler(o,r,l.token,s)}finally{l.dispose()}})}).then(()=>{l.dispose()}),this._currentPasteOperation=c}showPasteAsPick(e,i,o,r,s){let a=Ci(l=>M(this,null,function*(){let c=this._editor;if(!c.hasModel())return;let d=c.getModel(),u=new G,h=u.add(new Ml(c,3,void 0,l));try{if(yield this.mergeInDataFromCopy(r,s,h.token),h.token.isCancellationRequested)return;let m=i.filter(b=>this.isSupportedPasteProvider(b,r,e));e&&(m=m.filter(b=>this.providerMatchesPreference(b,e)));let f={triggerKind:pv.PasteAs,only:e&&e instanceof Qt?e:void 0},p=u.add(yield this.getPasteEdits(m,r,d,o,f,h.token));if(h.token.isCancellationRequested)return;if(e&&(p={edits:p.edits.filter(b=>e instanceof Qt?e.contains(b.kind):e.providerId===b.provider.id),dispose:p.dispose}),!p.edits.length){f.only&&this.showPasteAsNoEditMessage(o,f.only);return}let g;if(e?g=p.edits.at(0):g=(yield this._quickInputService.pick(p.edits.map(C=>({label:C.title,description:C.kind?.value,edit:C})),{placeHolder:_("pasteAsPickerPlaceholder","Select Paste Action")}))?.edit,!g)return;let v=_I(d.uri,o,g);yield this._bulkEditService.apply(v,{editor:this._editor})}finally{u.dispose(),this._currentPasteOperation===a&&(this._currentPasteOperation=void 0)}}));this._progressService.withProgress({location:10,title:_("pasteAsProgress","Running paste handlers")},()=>a)}setCopyMetadata(e,i){e.setData(AL,JSON.stringify(i))}fetchCopyMetadata(e){if(!e.clipboardData)return;let i=e.clipboardData.getData(AL);if(i)try{return JSON.parse(i)}catch{return}let[o,r]=_8.getTextData(e.clipboardData);if(r)return{defaultPastePayload:{mode:r.mode,multicursorText:r.multicursorText??null,pasteOnNewLine:!!r.isFromEmptySelection}}}mergeInDataFromCopy(e,i,o){return M(this,null,function*(){if(i?.id&&dm._currentCopyOperation?.handle===i.id){let r=yield dm._currentCopyOperation.dataTransferPromise;if(o.isCancellationRequested)return;for(let[s,a]of r)e.replace(s,a)}if(!e.has(zn.uriList)){let r=yield this._clipboardService.readResources();if(o.isCancellationRequested)return;r.length&&e.append(zn.uriList,my(lm.create(r)))}})}getPasteEdits(e,i,o,r,s,a){return M(this,null,function*(){let l=new G,c=yield fl(Promise.all(e.map(u=>M(this,null,function*(){try{let h=yield u.provideDocumentPasteEdits?.(o,r,i,s,a);return h&&l.add(h),h?.edits?.map(m=>Ae(j({},m),{provider:u}))}catch(h){gr(h)||console.error(h);return}}))),a),d=er(c??[]).flat().filter(u=>!s.only||s.only.contains(u.kind));return{edits:vI(d),dispose:()=>l.dispose()}})}applyDefaultPasteHandler(e,i,o,r){return M(this,null,function*(){let a=(yield(e.get(zn.text)??e.get("text"))?.asString())??"";if(o.isCancellationRequested)return;let l={clipboardEvent:r,text:a,pasteOnNewLine:i?.defaultPastePayload.pasteOnNewLine??!1,multicursorText:i?.defaultPastePayload.multicursorText??null,mode:null};this._editor.trigger("keyboard","paste",l)})}isSupportedPasteProvider(e,i,o){return e.pasteMimeTypes?.some(r=>i.matches(r))?!o||this.providerMatchesPreference(e,o):!1}providerMatchesPreference(e,i){return i instanceof Qt?e.providedPasteEditKinds?e.providedPasteEditKinds.some(o=>i.contains(o)):!0:e.id===i.providerId}};Ya=dm=ybe([dg(1,Me),dg(2,Bd),dg(3,Va),dg(4,ce),dg(5,Go),dg(6,wU)],Ya);Re();$i();pt();var um="9_cutcopypaste",wbe=Md||document.queryCommandSupported("cut"),O9=Md||document.queryCommandSupported("copy"),xbe=typeof navigator.clipboard>"u"||I4?document.queryCommandSupported("paste"):!0;function LL(n){return n.register(),n}var Cbe=wbe?LL(new zx({id:"editor.action.clipboardCutAction",precondition:void 0,kbOpts:Md?{primary:2102,win:{primary:2102,secondary:[1044]},weight:100}:void 0,menuOpts:[{menuId:be.MenubarEditMenu,group:"2_ccp",title:_({key:"miCut",comment:["&& denotes a mnemonic"]},"Cu&&t"),order:1},{menuId:be.EditorContext,group:um,title:_("actions.clipboard.cutLabel","Cut"),when:T.writable,order:1},{menuId:be.CommandPalette,group:"",title:_("actions.clipboard.cutLabel","Cut"),order:1},{menuId:be.SimpleEditorContext,group:um,title:_("actions.clipboard.cutLabel","Cut"),when:T.writable,order:1}]})):void 0,Sbe=O9?LL(new zx({id:"editor.action.clipboardCopyAction",precondition:void 0,kbOpts:Md?{primary:2081,win:{primary:2081,secondary:[2067]},weight:100}:void 0,menuOpts:[{menuId:be.MenubarEditMenu,group:"2_ccp",title:_({key:"miCopy",comment:["&& denotes a mnemonic"]},"&&Copy"),order:2},{menuId:be.EditorContext,group:um,title:_("actions.clipboard.copyLabel","Copy"),order:2},{menuId:be.CommandPalette,group:"",title:_("actions.clipboard.copyLabel","Copy"),order:1},{menuId:be.SimpleEditorContext,group:um,title:_("actions.clipboard.copyLabel","Copy"),order:2}]})):void 0;or.appendMenuItem(be.MenubarEditMenu,{submenu:be.MenubarCopy,title:Ne("copy as","Copy As"),group:"2_ccp",order:3});or.appendMenuItem(be.EditorContext,{submenu:be.EditorContextCopy,title:Ne("copy as","Copy As"),group:um,order:3});or.appendMenuItem(be.EditorContext,{submenu:be.EditorContextShare,title:Ne("share","Share"),group:"11_share",order:-1,when:K.and(K.notEquals("resourceScheme","output"),T.editorTextFocus)});or.appendMenuItem(be.ExplorerContext,{submenu:be.ExplorerContextShare,title:Ne("share","Share"),group:"11_share",order:-1});var OL=xbe?LL(new zx({id:"editor.action.clipboardPasteAction",precondition:void 0,kbOpts:Md?{primary:2100,win:{primary:2100,secondary:[1043]},linux:{primary:2100,secondary:[1043]},weight:100}:void 0,menuOpts:[{menuId:be.MenubarEditMenu,group:"2_ccp",title:_({key:"miPaste",comment:["&& denotes a mnemonic"]},"&&Paste"),order:4},{menuId:be.EditorContext,group:um,title:_("actions.clipboard.pasteLabel","Paste"),when:T.writable,order:4},{menuId:be.CommandPalette,group:"",title:_("actions.clipboard.pasteLabel","Paste"),order:1},{menuId:be.SimpleEditorContext,group:um,title:_("actions.clipboard.pasteLabel","Paste"),when:T.writable,order:4}]})):void 0,PL=class extends Q{constructor(){super({id:"editor.action.clipboardCopyWithSyntaxHighlightingAction",label:_("actions.clipboard.copyWithSyntaxHighlightingLabel","Copy With Syntax Highlighting"),alias:"Copy With Syntax Highlighting",precondition:void 0,kbOpts:{kbExpr:T.textInputFocus,primary:0,weight:100}})}run(t,e){!e.hasModel()||!e.getOption(37)&&e.getSelection().isEmpty()||(QR.forceCopyWithSyntaxHighlighting=!0,e.focus(),e.getContainerDomNode().ownerDocument.execCommand("copy"),QR.forceCopyWithSyntaxHighlighting=!1)}};function P9(n,t){n&&(n.addImplementation(1e4,"code-editor",(e,i)=>{let o=e.get(Zt).getFocusedCodeEditor();if(o&&o.hasTextFocus()){let r=o.getOption(37),s=o.getSelection();return s&&s.isEmpty()&&!r||o.getContainerDomNode().ownerDocument.execCommand(t),!0}return!1}),n.addImplementation(0,"generic-dom",(e,i)=>(bv().execCommand(t),!0)))}P9(Cbe,"cut");P9(Sbe,"copy");OL&&(OL.addImplementation(1e4,"code-editor",(n,t)=>{let e=n.get(Zt),i=n.get(Va),o=e.getFocusedCodeEditor();return o&&o.hasTextFocus()?o.getContainerDomNode().ownerDocument.execCommand("paste")?Ya.get(o)?.finishedPaste()??Promise.resolve():e4?M(void 0,null,function*(){let s=yield i.readText();if(s!==""){let a=g8.INSTANCE.get(s),l=!1,c=null,d=null;a&&(l=o.getOption(37)&&!!a.isFromEmptySelection,c=typeof a.multicursorText<"u"?a.multicursorText:null,d=a.mode),o.trigger("keyboard","paste",{text:s,pasteOnNewLine:l,multicursorText:c,mode:d})}}):!0:!1}),OL.addImplementation(0,"generic-dom",(n,t)=>(bv().execCommand("paste"),!0)));O9&&V(PL);it();zi();it();Kt();Oi();bi();Bt();ue();Ln();qe();Nn();Lt();bs();Bh();Re();qi();Oa();Bt();var ui=new class{constructor(){this.QuickFix=new Qt("quickfix"),this.Refactor=new Qt("refactor"),this.RefactorExtract=this.Refactor.append("extract"),this.RefactorInline=this.Refactor.append("inline"),this.RefactorMove=this.Refactor.append("move"),this.RefactorRewrite=this.Refactor.append("rewrite"),this.Notebook=new Qt("notebook"),this.Source=new Qt("source"),this.SourceOrganizeImports=this.Source.append("organizeImports"),this.SourceFixAll=this.Source.append("fixAll"),this.SurroundWith=this.Refactor.append("surround")}},Bo=function(n){return n.Refactor="refactor",n.RefactorPreview="refactor preview",n.Lightbulb="lightbulb",n.Default="other (default)",n.SourceAction="source action",n.QuickFix="quick fix action",n.FixAll="fix all",n.OrganizeImports="organize imports",n.AutoFix="auto fix",n.QuickFixHover="quick fix hover window",n.OnSave="save participants",n.ProblemsView="problems view",n}(Bo||{});function L9(n,t){return!(n.include&&!n.include.intersects(t)||n.excludes&&n.excludes.some(e=>F9(t,e,n.include))||!n.includeSourceActions&&ui.Source.contains(t))}function N9(n,t){let e=t.kind?new Qt(t.kind):void 0;return!(n.include&&(!e||!n.include.contains(e))||n.excludes&&e&&n.excludes.some(i=>F9(e,i,n.include))||!n.includeSourceActions&&e&&ui.Source.contains(e)||n.onlyIncludePreferredActions&&!t.isPreferred)}function F9(n,t,e){return!(!t.contains(n)||e&&t.contains(e))}var wu=class n{static fromUser(t,e){return!t||typeof t!="object"?new n(e.kind,e.apply,!1):new n(n.getKindFromUser(t,e.kind),n.getApplyFromUser(t,e.apply),n.getPreferredUser(t))}static getApplyFromUser(t,e){switch(typeof t.apply=="string"?t.apply.toLowerCase():""){case"first":return"first";case"never":return"never";case"ifsingle":return"ifSingle";default:return e}}static getKindFromUser(t,e){return typeof t.kind=="string"?new Qt(t.kind):e}static getPreferredUser(t){return typeof t.preferred=="boolean"?t.preferred:!1}constructor(t,e,i){this.kind=t,this.apply=e,this.preferred=i}},xI=class{constructor(t,e,i){this.action=t,this.provider=e,this.highlightRange=i}resolve(t){return M(this,null,function*(){if(this.provider?.resolveCodeAction&&!this.action.edit){let e;try{e=yield this.provider.resolveCodeAction(this.action,t)}catch(i){zt(i)}e&&(this.action.edit=e.edit)}return this})}};var CI="editor.action.codeAction",ug="editor.action.quickFix",SI="editor.action.autoFix",DI="editor.action.refactor",II="editor.action.sourceAction",_y="editor.action.organizeImports",vy="editor.action.fixAll",NL=class n extends U{static codeActionsPreferredComparator(t,e){return t.isPreferred&&!e.isPreferred?-1:!t.isPreferred&&e.isPreferred?1:0}static codeActionsComparator({action:t},{action:e}){return t.isAI&&!e.isAI?1:!t.isAI&&e.isAI?-1:Mn(t.diagnostics)?Mn(e.diagnostics)?n.codeActionsPreferredComparator(t,e):-1:Mn(e.diagnostics)?1:n.codeActionsPreferredComparator(t,e)}constructor(t,e,i){super(),this.documentation=e,this._register(i),this.allActions=[...t].sort(n.codeActionsComparator),this.validActions=this.allActions.filter(({action:o})=>!o.disabled)}get hasAutoFix(){return this.validActions.some(({action:t})=>!!t.kind&&ui.QuickFix.contains(new Qt(t.kind))&&!!t.isPreferred)}get hasAIFix(){return this.validActions.some(({action:t})=>!!t.isAI)}get allAIFixes(){return this.validActions.every(({action:t})=>!!t.isAI)}},z9={actions:[],documentation:void 0};function xu(n,t,e,i,o,r){return M(this,null,function*(){let s=i.filter||{},a=Ae(j({},s),{excludes:[...s.excludes||[],ui.Notebook]}),l={only:s.include?.value,trigger:i.type},c=new R8(t,r),d=i.type===2,u=Dbe(n,t,d?a:s),h=new G,m=u.map(p=>M(this,null,function*(){try{o.report(p);let g=yield p.provideCodeActions(t,e,l,c.token);if(g&&h.add(g),c.token.isCancellationRequested)return z9;let v=(g?.actions||[]).filter(C=>C&&N9(s,C)),b=Ebe(p,v,s.include);return{actions:v.map(C=>new xI(C,p)),documentation:b}}catch(g){if(gr(g))throw g;return zt(g),z9}})),f=n.onDidChange(()=>{let p=n.all(t);Jo(p,u)||c.cancel()});try{let p=yield Promise.all(m),g=p.map(b=>b.actions).flat(),v=[...er(p.map(b=>b.documentation)),...Ibe(n,t,i,g)];return new NL(g,v,h)}finally{f.dispose(),c.dispose()}})}function Dbe(n,t,e){return n.all(t).filter(i=>i.providedCodeActionKinds?i.providedCodeActionKinds.some(o=>L9(e,new Qt(o))):!0)}function*Ibe(n,t,e,i){if(t&&i.length)for(let o of n.all(t))o._getAdditionalMenuItems&&(yield*sj(o._getAdditionalMenuItems?.({trigger:e.type,only:e.filter?.include?.value},i.map(r=>r.action))))}function Ebe(n,t,e){if(!n.documentation)return;let i=n.documentation.map(o=>({kind:new Qt(o.kind),command:o.command}));if(e){let o;for(let r of i)r.kind.contains(e)&&(o?o.kind.contains(r.kind)&&(o=r):o=r);if(o)return o?.command}for(let o of t)if(o.kind){for(let r of i)if(r.kind.contains(new Qt(o.kind)))return r.command}}var hm=function(n){return n.OnSave="onSave",n.FromProblemsView="fromProblemsView",n.FromCodeActions="fromCodeActions",n.FromAILightbulb="fromAILightbulb",n}(hm||{});function B9(r,s,a,l){return M(this,arguments,function*(n,t,e,i,o=Qe.None){let c=n.get(Bd),d=n.get(di),u=n.get(Un),h=n.get(Hi);if(u.publicLog2("codeAction.applyCodeAction",{codeActionTitle:t.action.title,codeActionKind:t.action.kind,codeActionIsPreferred:!!t.action.isPreferred,reason:e}),yield t.resolve(o),!o.isCancellationRequested&&!(t.action.edit?.edits.length&&!(yield c.apply(t.action.edit,{editor:i?.editor,label:t.action.title,quotableLabel:t.action.title,code:"undoredo.codeAction",respectAutoSaveConfig:e!==hm.OnSave,showPreview:i?.preview})).isApplied)&&t.action.command)try{yield d.executeCommand(t.action.command.id,...t.action.command.arguments||[])}catch(m){let f=Mbe(m);h.error(typeof f=="string"?f:_("applyCodeActionFailed","An unknown error occurred while applying the code action"))}})}function Mbe(n){return typeof n=="string"?n:n instanceof Error&&typeof n.message=="string"?n.message:void 0}Pt.registerCommand("_executeCodeActionProvider",function(n,t,e,i,o){return M(this,null,function*(){if(!(t instanceof mt))throw _s();let{codeActionProvider:r}=n.get(ce),s=n.get(Ui).getModel(t);if(!s)throw _s();let a=Be.isISelection(e)?Be.liftSelection(e):A.isIRange(e)?s.validateRange(e):void 0;if(!a)throw _s();let l=typeof i=="string"?new Qt(i):void 0,c=yield xu(r,s,a,{type:1,triggerAction:Bo.Default,filter:{includeSourceActions:!0,include:l}},Cs.None,Qe.None),d=[],u=Math.min(c.validActions.length,typeof o=="number"?o:0);for(let h=0;h<u;h++)d.push(c.validActions[h].resolve(Qe.None));try{return yield Promise.all(d),c.validActions.map(h=>h.action)}finally{setTimeout(()=>c.dispose(),100)}})});Re();pt();_t();Bt();hR();ue();hi();wn();Lt();hR();var kbe=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},Tbe=function(n,t){return function(e,i){t(e,i,n)}},FL,EI=class{static{FL=this}static{this.codeActionCommands=[DI,CI,II,_y,vy]}constructor(e){this.keybindingService=e}getResolver(){let e=new Ip(()=>this.keybindingService.getKeybindings().filter(i=>FL.codeActionCommands.indexOf(i.command)>=0).filter(i=>i.resolvedKeybinding).map(i=>{let o=i.commandArgs;return i.command===_y?o={kind:ui.SourceOrganizeImports.value}:i.command===vy&&(o={kind:ui.SourceFixAll.value}),j({resolvedKeybinding:i.resolvedKeybinding},wu.fromUser(o,{kind:Qt.None,apply:"never"}))}));return i=>{if(i.kind)return this.bestKeybindingForCodeAction(i,e.value)?.resolvedKeybinding}}bestKeybindingForCodeAction(e,i){if(!e.kind)return;let o=new Qt(e.kind);return i.filter(r=>r.kind.contains(o)).filter(r=>r.preferred?e.isPreferred:!0).reduceRight((r,s)=>r?r.kind.contains(s.kind)?s:r:s,void 0)}};EI=FL=kbe([Tbe(0,Vt)],EI);Wn();Re();Po();var cdt=Pe("symbolIcon.arrayForeground",kn,_("symbolIcon.arrayForeground","The foreground color for array symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),ddt=Pe("symbolIcon.booleanForeground",kn,_("symbolIcon.booleanForeground","The foreground color for boolean symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),udt=Pe("symbolIcon.classForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},_("symbolIcon.classForeground","The foreground color for class symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),hdt=Pe("symbolIcon.colorForeground",kn,_("symbolIcon.colorForeground","The foreground color for color symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),mdt=Pe("symbolIcon.constantForeground",kn,_("symbolIcon.constantForeground","The foreground color for constant symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),pdt=Pe("symbolIcon.constructorForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},_("symbolIcon.constructorForeground","The foreground color for constructor symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),fdt=Pe("symbolIcon.enumeratorForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},_("symbolIcon.enumeratorForeground","The foreground color for enumerator symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),gdt=Pe("symbolIcon.enumeratorMemberForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},_("symbolIcon.enumeratorMemberForeground","The foreground color for enumerator member symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),_dt=Pe("symbolIcon.eventForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},_("symbolIcon.eventForeground","The foreground color for event symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),vdt=Pe("symbolIcon.fieldForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},_("symbolIcon.fieldForeground","The foreground color for field symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),bdt=Pe("symbolIcon.fileForeground",kn,_("symbolIcon.fileForeground","The foreground color for file symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),ydt=Pe("symbolIcon.folderForeground",kn,_("symbolIcon.folderForeground","The foreground color for folder symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),wdt=Pe("symbolIcon.functionForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},_("symbolIcon.functionForeground","The foreground color for function symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),xdt=Pe("symbolIcon.interfaceForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},_("symbolIcon.interfaceForeground","The foreground color for interface symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Cdt=Pe("symbolIcon.keyForeground",kn,_("symbolIcon.keyForeground","The foreground color for key symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Sdt=Pe("symbolIcon.keywordForeground",kn,_("symbolIcon.keywordForeground","The foreground color for keyword symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Ddt=Pe("symbolIcon.methodForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},_("symbolIcon.methodForeground","The foreground color for method symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Idt=Pe("symbolIcon.moduleForeground",kn,_("symbolIcon.moduleForeground","The foreground color for module symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Edt=Pe("symbolIcon.namespaceForeground",kn,_("symbolIcon.namespaceForeground","The foreground color for namespace symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Mdt=Pe("symbolIcon.nullForeground",kn,_("symbolIcon.nullForeground","The foreground color for null symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),kdt=Pe("symbolIcon.numberForeground",kn,_("symbolIcon.numberForeground","The foreground color for number symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Tdt=Pe("symbolIcon.objectForeground",kn,_("symbolIcon.objectForeground","The foreground color for object symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Adt=Pe("symbolIcon.operatorForeground",kn,_("symbolIcon.operatorForeground","The foreground color for operator symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Rdt=Pe("symbolIcon.packageForeground",kn,_("symbolIcon.packageForeground","The foreground color for package symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Odt=Pe("symbolIcon.propertyForeground",kn,_("symbolIcon.propertyForeground","The foreground color for property symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Pdt=Pe("symbolIcon.referenceForeground",kn,_("symbolIcon.referenceForeground","The foreground color for reference symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Ldt=Pe("symbolIcon.snippetForeground",kn,_("symbolIcon.snippetForeground","The foreground color for snippet symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Ndt=Pe("symbolIcon.stringForeground",kn,_("symbolIcon.stringForeground","The foreground color for string symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Fdt=Pe("symbolIcon.structForeground",kn,_("symbolIcon.structForeground","The foreground color for struct symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),zdt=Pe("symbolIcon.textForeground",kn,_("symbolIcon.textForeground","The foreground color for text symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Bdt=Pe("symbolIcon.typeParameterForeground",kn,_("symbolIcon.typeParameterForeground","The foreground color for type parameter symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Hdt=Pe("symbolIcon.unitForeground",kn,_("symbolIcon.unitForeground","The foreground color for unit symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Vdt=Pe("symbolIcon.variableForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},_("symbolIcon.variableForeground","The foreground color for variable symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));Re();var H9=Object.freeze({kind:Qt.Empty,title:_("codeAction.widget.id.more","More Actions...")}),Abe=Object.freeze([{kind:ui.QuickFix,title:_("codeAction.widget.id.quickfix","Quick Fix")},{kind:ui.RefactorExtract,title:_("codeAction.widget.id.extract","Extract"),icon:Ge.wrench},{kind:ui.RefactorInline,title:_("codeAction.widget.id.inline","Inline"),icon:Ge.wrench},{kind:ui.RefactorRewrite,title:_("codeAction.widget.id.convert","Rewrite"),icon:Ge.wrench},{kind:ui.RefactorMove,title:_("codeAction.widget.id.move","Move"),icon:Ge.wrench},{kind:ui.SurroundWith,title:_("codeAction.widget.id.surround","Surround With"),icon:Ge.surroundWith},{kind:ui.Source,title:_("codeAction.widget.id.source","Source Action"),icon:Ge.symbolFile},H9]);function V9(n,t,e){if(!t)return n.map(r=>({kind:"action",item:r,group:H9,disabled:!!r.action.disabled,label:r.action.disabled||r.action.title,canPreview:!!r.action.edit?.edits.length}));let i=Abe.map(r=>({group:r,actions:[]}));for(let r of n){let s=r.action.kind?new Qt(r.action.kind):Qt.None;for(let a of i)if(a.group.kind.contains(s)){a.actions.push(r);break}}let o=[];for(let r of i)if(r.actions.length){o.push({kind:"header",group:r.group});for(let s of r.actions){let a=r.group;o.push({kind:"action",item:s,group:s.action.isAI?{title:a.title,kind:a.kind,icon:Ge.sparkle}:a,label:s.action.title,disabled:!!s.action.disabled,keybinding:e(s.action)})}}return o}_t();Wn();oi();ue();nr();Na();wn();ZU();Re();qe();var Rbe=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},Obe=function(n,t){return function(e,i){t(e,i,n)}},hg,W9=Ii("gutter-lightbulb",Ge.lightBulb,_("gutterLightbulbWidget","Icon which spawns code actions menu from the gutter when there is no space in the editor.")),j9=Ii("gutter-lightbulb-auto-fix",Ge.lightbulbAutofix,_("gutterLightbulbAutoFixWidget","Icon which spawns code actions menu from the gutter when there is no space in the editor and a quick fix is available.")),U9=Ii("gutter-lightbulb-sparkle",Ge.lightbulbSparkle,_("gutterLightbulbAIFixWidget","Icon which spawns code actions menu from the gutter when there is no space in the editor and an AI fix is available.")),q9=Ii("gutter-lightbulb-aifix-auto-fix",Ge.lightbulbSparkleAutofix,_("gutterLightbulbAIFixAutoFixWidget","Icon which spawns code actions menu from the gutter when there is no space in the editor and an AI fix and a quick fix is available.")),G9=Ii("gutter-lightbulb-sparkle-filled",Ge.sparkleFilled,_("gutterLightbulbSparkleFilledWidget","Icon which spawns code actions menu from the gutter when there is no space in the editor and an AI fix and a quick fix is available.")),Xa;(function(n){n.Hidden={type:0};class t{constructor(i,o,r,s){this.actions=i,this.trigger=o,this.editorPosition=r,this.widgetPosition=s,this.type=1}}n.Showing=t})(Xa||(Xa={}));var mm=class extends U{static{hg=this}static{this.GUTTER_DECORATION=lt.register({description:"codicon-gutter-lightbulb-decoration",glyphMarginClassName:Dt.asClassName(Ge.lightBulb),glyphMargin:{position:Ap.Left},stickiness:1})}static{this.ID="editor.contrib.lightbulbWidget"}static{this._posPref=[0]}constructor(t,e){super(),this._editor=t,this._keybindingService=e,this._onClick=this._register(new je),this.onClick=this._onClick.event,this._state=Xa.Hidden,this._gutterState=Xa.Hidden,this._iconClasses=[],this.lightbulbClasses=["codicon-"+W9.id,"codicon-"+q9.id,"codicon-"+j9.id,"codicon-"+U9.id,"codicon-"+G9.id],this.gutterDecoration=hg.GUTTER_DECORATION,this._domNode=ye("div.lightBulbWidget"),this._domNode.role="listbox",this._register(tC.ignoreTarget(this._domNode)),this._editor.addContentWidget(this),this._register(this._editor.onDidChangeModelContent(i=>{let o=this._editor.getModel();(this.state.type!==1||!o||this.state.editorPosition.lineNumber>=o.getLineCount())&&this.hide(),(this.gutterState.type!==1||!o||this.gutterState.editorPosition.lineNumber>=o.getLineCount())&&this.gutterHide()})),this._register(O4(this._domNode,i=>{if(this.state.type!==1)return;this._editor.focus(),i.preventDefault();let{top:o,height:r}=Gi(this._domNode),s=this._editor.getOption(67),a=Math.floor(s/3);this.state.widgetPosition.position!==null&&this.state.widgetPosition.position.lineNumber<this.state.editorPosition.lineNumber&&(a+=s),this._onClick.fire({x:i.posx,y:o+r+a,actions:this.state.actions,trigger:this.state.trigger})})),this._register(St(this._domNode,"mouseenter",i=>{(i.buttons&1)===1&&this.hide()})),this._register(xi.runAndSubscribe(this._keybindingService.onDidUpdateKeybindings,()=>{this._preferredKbLabel=this._keybindingService.lookupKeybinding(SI)?.getLabel()??void 0,this._quickFixKbLabel=this._keybindingService.lookupKeybinding(ug)?.getLabel()??void 0,this._updateLightBulbTitleAndIcon()})),this._register(this._editor.onMouseDown(i=>M(this,null,function*(){if(!i.target.element||!this.lightbulbClasses.some(l=>i.target.element&&i.target.element.classList.contains(l))||this.gutterState.type!==1)return;this._editor.focus();let{top:o,height:r}=Gi(i.target.element),s=this._editor.getOption(67),a=Math.floor(s/3);this.gutterState.widgetPosition.position!==null&&this.gutterState.widgetPosition.position.lineNumber<this.gutterState.editorPosition.lineNumber&&(a+=s),this._onClick.fire({x:i.event.posx,y:o+r+a,actions:this.gutterState.actions,trigger:this.gutterState.trigger})})))}dispose(){super.dispose(),this._editor.removeContentWidget(this),this._gutterDecorationID&&this._removeGutterDecoration(this._gutterDecorationID)}getId(){return"LightBulbWidget"}getDomNode(){return this._domNode}getPosition(){return this._state.type===1?this._state.widgetPosition:null}update(t,e,i){if(t.validActions.length<=0)return this.gutterHide(),this.hide();if(!this._editor.hasTextFocus())return this.gutterHide(),this.hide();if(!this._editor.getOptions().get(65).enabled)return this.gutterHide(),this.hide();let s=this._editor.getModel();if(!s)return this.gutterHide(),this.hide();let{lineNumber:a,column:l}=s.validatePosition(i),c=s.getOptions().tabSize,d=this._editor.getOptions().get(50),u=s.getLineContent(a),h=Pv(u,c),m=d.spaceWidth*h>22,f=E=>E>2&&this._editor.getTopForLineNumber(E)===this._editor.getTopForLineNumber(E-1),p=this._editor.getLineDecorations(a),g=!1;if(p)for(let E of p){let F=E.options.glyphMarginClassName;if(F&&!this.lightbulbClasses.some(L=>F.includes(L))){g=!0;break}}let v=a,b=1;if(!m){let E=F=>{let L=s.getLineContent(F);return/^\s*$|^\s+/.test(L)||L.length<=b};if(a>1&&!f(a-1)){let F=s.getLineCount(),L=a===F,H=a>1&&E(a-1),re=!L&&E(a+1),R=E(a),W=!re&&!H;if(!re&&!H&&!g)return this.gutterState=new Xa.Showing(t,e,i,{position:{lineNumber:v,column:b},preference:hg._posPref}),this.renderGutterLightbub(),this.hide();H||L||H&&!R?v-=1:(re||W&&R)&&(v+=1)}else if(a===1&&(a===s.getLineCount()||!E(a+1)&&!E(a)))if(this.gutterState=new Xa.Showing(t,e,i,{position:{lineNumber:v,column:b},preference:hg._posPref}),g)this.gutterHide();else return this.renderGutterLightbub(),this.hide();else if(a<s.getLineCount()&&!f(a+1))v+=1;else if(l*d.spaceWidth<22)return this.hide();b=/^\S\s*$/.test(s.getLineContent(v))?2:1}this.state=new Xa.Showing(t,e,i,{position:{lineNumber:v,column:b},preference:hg._posPref}),this._gutterDecorationID&&(this._removeGutterDecoration(this._gutterDecorationID),this.gutterHide());let C=t.validActions,k=t.validActions[0].action.kind;if(C.length!==1||!k){this._editor.layoutContentWidget(this);return}this._editor.layoutContentWidget(this)}hide(){this.state!==Xa.Hidden&&(this.state=Xa.Hidden,this._editor.layoutContentWidget(this))}gutterHide(){this.gutterState!==Xa.Hidden&&(this._gutterDecorationID&&this._removeGutterDecoration(this._gutterDecorationID),this.gutterState=Xa.Hidden)}get state(){return this._state}set state(t){this._state=t,this._updateLightBulbTitleAndIcon()}get gutterState(){return this._gutterState}set gutterState(t){this._gutterState=t,this._updateGutterLightBulbTitleAndIcon()}_updateLightBulbTitleAndIcon(){if(this._domNode.classList.remove(...this._iconClasses),this._iconClasses=[],this.state.type!==1)return;let t,e=!1;this.state.actions.allAIFixes?(t=Ge.sparkleFilled,this.state.actions.validActions.length===1&&(e=!0)):this.state.actions.hasAutoFix?this.state.actions.hasAIFix?t=Ge.lightbulbSparkleAutofix:t=Ge.lightbulbAutofix:this.state.actions.hasAIFix?t=Ge.lightbulbSparkle:t=Ge.lightBulb,this._updateLightbulbTitle(this.state.actions.hasAutoFix,e),this._iconClasses=Dt.asClassNameArray(t),this._domNode.classList.add(...this._iconClasses)}_updateGutterLightBulbTitleAndIcon(){if(this.gutterState.type!==1)return;let t,e=!1;this.gutterState.actions.allAIFixes?(t=G9,this.gutterState.actions.validActions.length===1&&(e=!0)):this.gutterState.actions.hasAutoFix?this.gutterState.actions.hasAIFix?t=q9:t=j9:this.gutterState.actions.hasAIFix?t=U9:t=W9,this._updateLightbulbTitle(this.gutterState.actions.hasAutoFix,e);let i=lt.register({description:"codicon-gutter-lightbulb-decoration",glyphMarginClassName:Dt.asClassName(t),glyphMargin:{position:Ap.Left},stickiness:1});this.gutterDecoration=i}renderGutterLightbub(){let t=this._editor.getSelection();t&&(this._gutterDecorationID===void 0?this._addGutterDecoration(t.startLineNumber):this._updateGutterDecoration(this._gutterDecorationID,t.startLineNumber))}_addGutterDecoration(t){this._editor.changeDecorations(e=>{this._gutterDecorationID=e.addDecoration(new A(t,0,t,0),this.gutterDecoration)})}_removeGutterDecoration(t){this._editor.changeDecorations(e=>{e.removeDecoration(t),this._gutterDecorationID=void 0})}_updateGutterDecoration(t,e){this._editor.changeDecorations(i=>{i.changeDecoration(t,new A(e,0,e,0)),i.changeDecorationOptions(t,this.gutterDecoration)})}_updateLightbulbTitle(t,e){this.state.type===1&&(e?this.title=_("codeActionAutoRun","Run: {0}",this.state.actions.validActions[0].action.title):t&&this._preferredKbLabel?this.title=_("preferredcodeActionWithKb","Show Code Actions. Preferred Quick Fix Available ({0})",this._preferredKbLabel):!t&&this._quickFixKbLabel?this.title=_("codeActionWithKb","Show Code Actions ({0})",this._quickFixKbLabel):t||(this.title=_("codeAction","Show Code Actions")))}set title(t){this._domNode.title=t}};mm=hg=Rbe([Obe(1,Vt)],mm);Re();_t();ue();Re();_t();bi();Wn();ue();tr();nr();Re();Po();var $9=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},zL=function(n,t){return function(e,i){t(e,i,n)}},WL="acceptSelectedCodeAction",jL="previewSelectedCodeAction",BL=class{get templateId(){return"header"}renderTemplate(t){t.classList.add("group-header");let e=document.createElement("span");return t.append(e),{container:t,text:e}}renderElement(t,e,i){i.text.textContent=t.group?.title??""}disposeTemplate(t){}},HL=class{get templateId(){return"action"}constructor(t,e){this._supportsPreview=t,this._keybindingService=e}renderTemplate(t){t.classList.add(this.templateId);let e=document.createElement("div");e.className="icon",t.append(e);let i=document.createElement("span");i.className="title",t.append(i);let o=new Gp(t,yp);return{container:t,icon:e,text:i,keybinding:o}}renderElement(t,e,i){if(t.group?.icon?(i.icon.className=Dt.asClassName(t.group.icon),t.group.icon.color&&(i.icon.style.color=Cl(t.group.icon.color.id))):(i.icon.className=Dt.asClassName(Ge.lightBulb),i.icon.style.color="var(--vscode-editorLightBulb-foreground)"),!t.item||!t.label)return;i.text.textContent=K9(t.label),i.keybinding.set(t.keybinding),j4(!!t.keybinding,i.keybinding.element);let o=this._keybindingService.lookupKeybinding(WL)?.getLabel(),r=this._keybindingService.lookupKeybinding(jL)?.getLabel();i.container.classList.toggle("option-disabled",t.disabled),t.disabled?i.container.title=t.label:o&&r?this._supportsPreview&&t.canPreview?i.container.title=_({key:"label-preview",comment:['placeholders are keybindings, e.g "F2 to Apply, Shift+F2 to Preview"']},"{0} to Apply, {1} to Preview",o,r):i.container.title=_({key:"label",comment:['placeholder is a keybinding, e.g "F2 to Apply"']},"{0} to Apply",o):i.container.title=""}disposeTemplate(t){t.keybinding.dispose()}};HL=$9([zL(1,Vt)],HL);var VL=class extends UIEvent{constructor(){super("acceptSelectedAction")}},MI=class extends UIEvent{constructor(){super("previewSelectedAction")}};function Pbe(n){if(n.kind==="action")return n.label}var kI=class extends U{constructor(t,e,i,o,r,s){super(),this._delegate=o,this._contextViewService=r,this._keybindingService=s,this._actionLineHeight=24,this._headerLineHeight=26,this.cts=this._register(new vi),this.domNode=document.createElement("div"),this.domNode.classList.add("actionList");let a={getHeight:l=>l.kind==="header"?this._headerLineHeight:this._actionLineHeight,getTemplateId:l=>l.kind};this._list=this._register(new Vp(t,this.domNode,a,[new HL(e,this._keybindingService),new BL],{keyboardSupport:!1,typeNavigationEnabled:!0,keyboardNavigationLabelProvider:{getKeyboardNavigationLabel:Pbe},accessibilityProvider:{getAriaLabel:l=>{if(l.kind==="action"){let c=l.label?K9(l?.label):"";return l.disabled&&(c=_({key:"customQuickFixWidget.labels",comment:["Action widget labels for accessibility."]},"{0}, Disabled Reason: {1}",c,l.disabled)),c}return null},getWidgetAriaLabel:()=>_({key:"customQuickFixWidget",comment:["An action widget option"]},"Action Widget"),getRole:l=>l.kind==="action"?"option":"separator",getWidgetRole:()=>"listbox"}})),this._list.style(BU),this._register(this._list.onMouseClick(l=>this.onListClick(l))),this._register(this._list.onMouseOver(l=>this.onListHover(l))),this._register(this._list.onDidChangeFocus(()=>this.onFocus())),this._register(this._list.onDidChangeSelection(l=>this.onListSelection(l))),this._allMenuItems=i,this._list.splice(0,this._list.length,this._allMenuItems),this._list.length&&this.focusNext()}focusCondition(t){return!t.disabled&&t.kind==="action"}hide(t){this._delegate.onHide(t),this.cts.cancel(),this._contextViewService.hideContextView()}layout(t){let e=this._allMenuItems.filter(l=>l.kind==="header").length,o=this._allMenuItems.length*this._actionLineHeight+e*this._headerLineHeight-e*this._actionLineHeight;this._list.layout(o);let r=t;if(this._allMenuItems.length>=50)r=380;else{let l=this._allMenuItems.map((c,d)=>{let u=this.domNode.ownerDocument.getElementById(this._list.getElementID(d));if(u){u.style.width="auto";let h=u.getBoundingClientRect().width;return u.style.width="",h}return 0});r=Math.max(...l,t)}let a=Math.min(o,this.domNode.ownerDocument.body.clientHeight*.7);return this._list.layout(a,r),this.domNode.style.height=`${a}px`,this._list.domFocus(),r}focusPrevious(){this._list.focusPrevious(1,!0,void 0,this.focusCondition)}focusNext(){this._list.focusNext(1,!0,void 0,this.focusCondition)}acceptSelected(t){let e=this._list.getFocus();if(e.length===0)return;let i=e[0],o=this._list.element(i);if(!this.focusCondition(o))return;let r=t?new MI:new VL;this._list.setSelection([i],r)}onListSelection(t){if(!t.elements.length)return;let e=t.elements[0];e.item&&this.focusCondition(e)?this._delegate.onSelect(e.item,t.browserEvent instanceof MI):this._list.setSelection([])}onFocus(){let t=this._list.getFocus();if(t.length===0)return;let e=t[0],i=this._list.element(e);this._delegate.onFocus?.(i.item)}onListHover(t){return M(this,null,function*(){let e=t.element;if(e&&e.item&&this.focusCondition(e)){if(this._delegate.onHover&&!e.disabled&&e.kind==="action"){let i=yield this._delegate.onHover(e.item,this.cts.token);e.canPreview=i?i.canPreview:void 0}t.index&&this._list.splice(t.index,1,[e])}this._list.setFocus(typeof t.index=="number"?[t.index]:[])})}onListClick(t){t.element&&this.focusCondition(t.element)&&this._list.setFocus([])}};kI=$9([zL(4,Nd),zL(5,Vt)],kI);function K9(n){return n.replace(/\r\n|\r|\n/g," ")}$i();pt();Sc();Ot();Po();var Lbe=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},UL=function(n,t){return function(e,i){t(e,i,n)}};Pe("actionBar.toggledBackground",Lp,_("actionBar.toggledBackground","Background color for toggled action items in action bar."));var pm={Visible:new ot("codeActionMenuVisible",!1,_("codeActionMenuVisible","Whether the action widget list is visible"))},Cu=jo("actionWidgetService"),fm=class extends U{get isVisible(){return pm.Visible.getValue(this._contextKeyService)||!1}constructor(t,e,i){super(),this._contextViewService=t,this._contextKeyService=e,this._instantiationService=i,this._list=this._register(new un)}show(t,e,i,o,r,s,a){let l=pm.Visible.bindTo(this._contextKeyService),c=this._instantiationService.createInstance(kI,t,e,i,o);this._contextViewService.showContextView({getAnchor:()=>r,render:d=>(l.set(!0),this._renderWidget(d,c,a??[])),onHide:d=>{l.reset(),this._onWidgetClosed(d)}},s,!1)}acceptSelected(t){this._list.value?.acceptSelected(t)}focusPrevious(){this._list?.value?.focusPrevious()}focusNext(){this._list?.value?.focusNext()}hide(t){this._list.value?.hide(t),this._list.clear()}_renderWidget(t,e,i){let o=document.createElement("div");if(o.classList.add("action-widget"),t.appendChild(o),this._list.value=e,this._list.value)o.appendChild(this._list.value.domNode);else throw new Error("List has no value");let r=new G,s=document.createElement("div"),a=t.appendChild(s);a.classList.add("context-view-block"),r.add(St(a,ci.MOUSE_DOWN,m=>m.stopPropagation()));let l=document.createElement("div"),c=t.appendChild(l);c.classList.add("context-view-pointerBlock"),r.add(St(c,ci.POINTER_MOVE,()=>c.remove())),r.add(St(c,ci.MOUSE_DOWN,()=>c.remove()));let d=0;if(i.length){let m=this._createActionBar(".action-widget-action-bar",i);m&&(o.appendChild(m.getContainer().parentElement),r.add(m),d=m.getContainer().offsetWidth)}let u=this._list.value?.layout(d);o.style.width=`${u}px`;let h=r.add(Ra(t));return r.add(h.onDidBlur(()=>this.hide(!0))),r}_createActionBar(t,e){if(!e.length)return;let i=ye(t),o=new Nc(i);return o.push(e,{icon:!1,label:!0}),o}_onWidgetClosed(t){this._list.value?.hide(t)}};fm=Lbe([UL(0,Nd),UL(1,Ze),UL(2,Me)],fm);qo(Cu,fm,1);var by=1100;$t(class extends jn{constructor(){super({id:"hideCodeActionWidget",title:Ne("hideCodeActionWidget.title","Hide action widget"),precondition:pm.Visible,keybinding:{weight:by,primary:9,secondary:[1033]}})}run(n){n.get(Cu).hide(!0)}});$t(class extends jn{constructor(){super({id:"selectPrevCodeAction",title:Ne("selectPrevCodeAction.title","Select previous action"),precondition:pm.Visible,keybinding:{weight:by,primary:16,secondary:[2064],mac:{primary:16,secondary:[2064,302]}}})}run(n){let t=n.get(Cu);t instanceof fm&&t.focusPrevious()}});$t(class extends jn{constructor(){super({id:"selectNextCodeAction",title:Ne("selectNextCodeAction.title","Select next action"),precondition:pm.Visible,keybinding:{weight:by,primary:18,secondary:[2066],mac:{primary:18,secondary:[2066,300]}}})}run(n){let t=n.get(Cu);t instanceof fm&&t.focusNext()}});$t(class extends jn{constructor(){super({id:WL,title:Ne("acceptSelected.title","Accept selected action"),precondition:pm.Visible,keybinding:{weight:by,primary:3,secondary:[2137]}})}run(n){let t=n.get(Cu);t instanceof fm&&t.acceptSelected()}});$t(class extends jn{constructor(){super({id:jL,title:Ne("previewSelected.title","Preview selected action"),precondition:pm.Visible,keybinding:{weight:by,primary:2051}})}run(n){let t=n.get(Cu);t instanceof fm&&t.acceptSelected(!0)}});qi();bn();pt();Ot();Po();Ux();Oo();Ht();Bt();oi();ue();Zr();hi();Nn();pt();Ks();var GL=new ot("supportedCodeAction",""),Y9="_typescript.applyFixAllCodeAction",qL=class extends U{constructor(t,e,i,o=250){super(),this._editor=t,this._markerService=e,this._signalChange=i,this._delay=o,this._autoTriggerTimer=this._register(new gl),this._register(this._markerService.onMarkerChanged(r=>this._onMarkerChanges(r))),this._register(this._editor.onDidChangeCursorPosition(()=>this._tryAutoTrigger()))}trigger(t){let e=this._getRangeOfSelectionUnlessWhitespaceEnclosed(t);this._signalChange(e?{trigger:t,selection:e}:void 0)}_onMarkerChanges(t){let e=this._editor.getModel();e&&t.some(i=>Lh(i,e.uri))&&this._tryAutoTrigger()}_tryAutoTrigger(){this._autoTriggerTimer.cancelAndSet(()=>{this.trigger({type:2,triggerAction:Bo.Default})},this._delay)}_getRangeOfSelectionUnlessWhitespaceEnclosed(t){if(!this._editor.hasModel())return;let e=this._editor.getSelection();if(t.type===1)return e;let i=this._editor.getOption(65).enabled;if(i!==Ix.Off){{if(i===Ix.On)return e;if(i===Ix.OnCode){if(!e.isEmpty())return e;let r=this._editor.getModel(),{lineNumber:s,column:a}=e.getPosition(),l=r.getLineContent(s);if(l.length===0)return;if(a===1){if(/\s/.test(l[0]))return}else if(a===r.getLineMaxColumn(s)){if(/\s/.test(l[l.length-1]))return}else if(/\s/.test(l[a-2])&&/\s/.test(l[a-1]))return}}return e}}},gm;(function(n){n.Empty={type:0};class t{constructor(i,o,r){this.trigger=i,this.position=o,this._cancellablePromise=r,this.type=1,this.actions=r.catch(s=>{if(gr(s))return X9;throw s})}cancel(){this._cancellablePromise.cancel()}}n.Triggered=t})(gm||(gm={}));var X9=Object.freeze({allActions:[],validActions:[],dispose:()=>{},documentation:[],hasAutoFix:!1,hasAIFix:!1,allAIFixes:!1}),TI=class extends U{constructor(t,e,i,o,r,s,a){super(),this._editor=t,this._registry=e,this._markerService=i,this._progressService=r,this._configurationService=s,this._telemetryService=a,this._codeActionOracle=this._register(new un),this._state=gm.Empty,this._onDidChangeState=this._register(new je),this.onDidChangeState=this._onDidChangeState.event,this._disposed=!1,this._supportedCodeActions=GL.bindTo(o),this._register(this._editor.onDidChangeModel(()=>this._update())),this._register(this._editor.onDidChangeModelLanguage(()=>this._update())),this._register(this._registry.onDidChange(()=>this._update())),this._register(this._editor.onDidChangeConfiguration(l=>{l.hasChanged(65)&&this._update()})),this._update()}dispose(){this._disposed||(this._disposed=!0,super.dispose(),this.setState(gm.Empty,!0))}_settingEnabledNearbyQuickfixes(){let t=this._editor?.getModel();return this._configurationService?this._configurationService.getValue("editor.codeActionWidget.includeNearbyQuickFixes",{resource:t?.uri}):!1}_update(){if(this._disposed)return;this._codeActionOracle.value=void 0,this.setState(gm.Empty);let t=this._editor.getModel();if(t&&this._registry.has(t)&&!this._editor.getOption(92)){let e=this._registry.all(t).flatMap(i=>i.providedCodeActionKinds??[]);this._supportedCodeActions.set(e.join(" ")),this._codeActionOracle.value=new qL(this._editor,this._markerService,i=>{if(!i){this.setState(gm.Empty);return}let o=i.selection.getStartPosition(),r=Ci(l=>M(this,null,function*(){if(this._settingEnabledNearbyQuickfixes()&&i.trigger.type===1&&(i.trigger.triggerAction===Bo.QuickFix||i.trigger.filter?.include?.contains(ui.QuickFix))){let c=yield xu(this._registry,t,i.selection,i.trigger,Cs.None,l),d=[...c.allActions];if(l.isCancellationRequested)return X9;let u=c.validActions?.some(m=>m.action.kind?ui.QuickFix.contains(new Qt(m.action.kind)):!1),h=this._markerService.read({resource:t.uri});if(u){for(let m of c.validActions)m.action.command?.arguments?.some(f=>typeof f=="string"&&f.includes(Y9))&&(m.action.diagnostics=[...h.filter(f=>f.relatedInformation)]);return{validActions:c.validActions,allActions:d,documentation:c.documentation,hasAutoFix:c.hasAutoFix,hasAIFix:c.hasAIFix,allAIFixes:c.allAIFixes,dispose:()=>{c.dispose()}}}else if(!u&&h.length>0){let m=i.selection.getPosition(),f=m,p=Number.MAX_VALUE,g=[...c.validActions];for(let b of h){let C=b.endColumn,k=b.endLineNumber,E=b.startLineNumber;if(k===m.lineNumber||E===m.lineNumber){f=new pe(k,C);let F={type:i.trigger.type,triggerAction:i.trigger.triggerAction,filter:{include:i.trigger.filter?.include?i.trigger.filter?.include:ui.QuickFix},autoApply:i.trigger.autoApply,context:{notAvailableMessage:i.trigger.context?.notAvailableMessage||"",position:f}},L=new Be(f.lineNumber,f.column,f.lineNumber,f.column),H=yield xu(this._registry,t,L,F,Cs.None,l);if(H.validActions.length!==0){for(let re of H.validActions)re.action.command?.arguments?.some(R=>typeof R=="string"&&R.includes(Y9))&&(re.action.diagnostics=[...h.filter(R=>R.relatedInformation)]);c.allActions.length===0&&d.push(...H.allActions),Math.abs(m.column-C)<p?g.unshift(...H.validActions):g.push(...H.validActions)}p=Math.abs(m.column-C)}}let v=g.filter((b,C,k)=>k.findIndex(E=>E.action.title===b.action.title)===C);return v.sort((b,C)=>b.action.isPreferred&&!C.action.isPreferred?-1:!b.action.isPreferred&&C.action.isPreferred||b.action.isAI&&!C.action.isAI?1:!b.action.isAI&&C.action.isAI?-1:0),{validActions:v,allActions:d,documentation:c.documentation,hasAutoFix:c.hasAutoFix,hasAIFix:c.hasAIFix,allAIFixes:c.allAIFixes,dispose:()=>{c.dispose()}}}}if(i.trigger.type===1){let c=new Xi,d=yield xu(this._registry,t,i.selection,i.trigger,Cs.None,l);return this._telemetryService&&this._telemetryService.publicLog2("codeAction.invokedDurations",{codeActions:d.validActions.length,duration:c.elapsed()}),d}return xu(this._registry,t,i.selection,i.trigger,Cs.None,l)}));i.trigger.type===1&&this._progressService?.showWhile(r,250);let s=new gm.Triggered(i.trigger,o,r),a=!1;this._state.type===1&&(a=this._state.trigger.type===1&&s.type===1&&s.trigger.type===2&&this._state.position!==s.position),a?setTimeout(()=>{this.setState(s)},500):this.setState(s)},void 0),this._codeActionOracle.value.trigger({type:2,triggerAction:Bo.Default})}else this._supportedCodeActions.reset()}trigger(t){this._codeActionOracle.value?.trigger(t)}setState(t,e){t!==this._state&&(this._state.type===1&&this._state.cancel(),this._state=t,!e&&!this._disposed&&this._onDidChangeState.fire(t))}};Oa();var Nbe=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},Bl=function(n,t){return function(e,i){t(e,i,n)}},mg,Fbe="quickfix-edit-highlight",Qc=class extends U{static{mg=this}static{this.ID="editor.contrib.codeActionController"}static get(t){return t.getContribution(mg.ID)}constructor(t,e,i,o,r,s,a,l,c,d,u){super(),this._commandService=a,this._configurationService=l,this._actionWidgetService=c,this._instantiationService=d,this._telemetryService=u,this._activeCodeActions=this._register(new un),this._showDisabled=!1,this._disposed=!1,this._editor=t,this._model=this._register(new TI(this._editor,r.codeActionProvider,e,i,s,l,this._telemetryService)),this._register(this._model.onDidChangeState(h=>this.update(h))),this._lightBulbWidget=new Ip(()=>{let h=this._editor.getContribution(mm.ID);return h&&this._register(h.onClick(m=>this.showCodeActionsFromLightbulb(m.actions,m))),h}),this._resolver=o.createInstance(EI),this._register(this._editor.onDidLayoutChange(()=>this._actionWidgetService.hide()))}dispose(){this._disposed=!0,super.dispose()}showCodeActionsFromLightbulb(t,e){return M(this,null,function*(){if(t.allAIFixes&&t.validActions.length===1){let i=t.validActions[0],o=i.action.command;o&&o.id==="inlineChat.start"&&o.arguments&&o.arguments.length>=1&&(o.arguments[0]=Ae(j({},o.arguments[0]),{autoSend:!1})),yield this._applyCodeAction(i,!1,!1,hm.FromAILightbulb);return}yield this.showCodeActionList(t,e,{includeDisabledActions:!1,fromLightbulb:!0})})}showCodeActions(t,e,i){return this.showCodeActionList(e,i,{includeDisabledActions:!1,fromLightbulb:!1})}manualTriggerAtCurrentPosition(t,e,i,o){if(!this._editor.hasModel())return;Do.get(this._editor)?.closeMessage();let r=this._editor.getPosition();this._trigger({type:1,triggerAction:e,filter:i,autoApply:o,context:{notAvailableMessage:t,position:r}})}_trigger(t){return this._model.trigger(t)}_applyCodeAction(t,e,i,o){return M(this,null,function*(){try{yield this._instantiationService.invokeFunction(B9,t,o,{preview:i,editor:this._editor})}finally{e&&this._trigger({type:2,triggerAction:Bo.QuickFix,filter:{}})}})}hideLightBulbWidget(){this._lightBulbWidget.rawValue?.hide(),this._lightBulbWidget.rawValue?.gutterHide()}update(t){return M(this,null,function*(){if(t.type!==1){this.hideLightBulbWidget();return}let e;try{e=yield t.actions}catch(o){ht(o);return}if(!(this._disposed||this._editor.getSelection()?.startLineNumber!==t.position.lineNumber))if(this._lightBulbWidget.value?.update(e,t.trigger,t.position),t.trigger.type===1){if(t.trigger.filter?.include){let r=this.tryGetValidActionToApply(t.trigger,e);if(r){try{this.hideLightBulbWidget(),yield this._applyCodeAction(r,!1,!1,hm.FromCodeActions)}finally{e.dispose()}return}if(t.trigger.context){let s=this.getInvalidActionThatWouldHaveBeenApplied(t.trigger,e);if(s&&s.action.disabled){Do.get(this._editor)?.showMessage(s.action.disabled,t.trigger.context.position),e.dispose();return}}}let o=!!t.trigger.filter?.include;if(t.trigger.context&&(!e.allActions.length||!o&&!e.validActions.length)){Do.get(this._editor)?.showMessage(t.trigger.context.notAvailableMessage,t.trigger.context.position),this._activeCodeActions.value=e,e.dispose();return}this._activeCodeActions.value=e,this.showCodeActionList(e,this.toCoords(t.position),{includeDisabledActions:o,fromLightbulb:!1})}else this._actionWidgetService.isVisible?e.dispose():this._activeCodeActions.value=e})}getInvalidActionThatWouldHaveBeenApplied(t,e){if(e.allActions.length&&(t.autoApply==="first"&&e.validActions.length===0||t.autoApply==="ifSingle"&&e.allActions.length===1))return e.allActions.find(({action:i})=>i.disabled)}tryGetValidActionToApply(t,e){if(e.validActions.length&&(t.autoApply==="first"&&e.validActions.length>0||t.autoApply==="ifSingle"&&e.validActions.length===1))return e.validActions[0]}static{this.DECORATION=lt.register({description:"quickfix-highlight",className:Fbe})}showCodeActionList(t,e,i){return M(this,null,function*(){let o=this._editor.createDecorationsCollection(),r=this._editor.getDomNode();if(!r)return;let s=i.includeDisabledActions&&(this._showDisabled||t.validActions.length===0)?t.allActions:t.validActions;if(!s.length)return;let a=pe.isIPosition(e)?this.toCoords(e):e,l={onSelect:(c,d)=>M(this,null,function*(){this._applyCodeAction(c,!0,!!d,i.fromLightbulb?hm.FromAILightbulb:hm.FromCodeActions),this._actionWidgetService.hide(!1),o.clear()}),onHide:c=>{this._editor?.focus(),o.clear()},onHover:(c,d)=>M(this,null,function*(){if(d.isCancellationRequested)return;let u=!1,h=c.action.kind;if(h){let m=new Qt(h);u=[ui.RefactorExtract,ui.RefactorInline,ui.RefactorRewrite,ui.RefactorMove,ui.Source].some(p=>p.contains(m))}return{canPreview:u||!!c.action.edit?.edits.length}}),onFocus:c=>{if(c&&c.action){let d=c.action.ranges,u=c.action.diagnostics;if(o.clear(),d&&d.length>0){let h=u&&u?.length>1?u.map(m=>({range:m,options:mg.DECORATION})):d.map(m=>({range:m,options:mg.DECORATION}));o.set(h)}else if(u&&u.length>0){let h=u.map(f=>({range:f,options:mg.DECORATION}));o.set(h);let m=u[0];if(m.startLineNumber&&m.startColumn){let f=this._editor.getModel()?.getWordAtPosition({lineNumber:m.startLineNumber,column:m.startColumn})?.word;za(_("editingNewSelection","Context: {0} at line {1} and column {2}.",f,m.startLineNumber,m.startColumn))}}}else o.clear()}};this._actionWidgetService.show("codeActionWidget",!0,V9(s,this._shouldShowHeaders(),this._resolver.getResolver()),l,a,r,this._getActionBarActions(t,e,i))})}toCoords(t){if(!this._editor.hasModel())return{x:0,y:0};this._editor.revealPosition(t,1),this._editor.render();let e=this._editor.getScrolledVisiblePosition(t),i=Gi(this._editor.getDomNode()),o=i.left+e.left,r=i.top+e.top+e.height;return{x:o,y:r}}_shouldShowHeaders(){let t=this._editor?.getModel();return this._configurationService.getValue("editor.codeActionWidget.showHeaders",{resource:t?.uri})}_getActionBarActions(t,e,i){if(i.fromLightbulb)return[];let o=t.documentation.map(r=>({id:r.id,label:r.title,tooltip:r.tooltip??"",class:void 0,enabled:!0,run:()=>this._commandService.executeCommand(r.id,...r.arguments??[])}));return i.includeDisabledActions&&t.validActions.length>0&&t.allActions.length!==t.validActions.length&&o.push(this._showDisabled?{id:"hideMoreActions",label:_("hideMoreActions","Hide Disabled"),enabled:!0,tooltip:"",class:void 0,run:()=>(this._showDisabled=!1,this.showCodeActionList(t,e,i))}:{id:"showMoreActions",label:_("showMoreActions","Show Disabled"),enabled:!0,tooltip:"",class:void 0,run:()=>(this._showDisabled=!0,this.showCodeActionList(t,e,i))}),o}};Qc=mg=Nbe([Bl(1,Ov),Bl(2,Ze),Bl(3,Me),Bl(4,ce),Bl(5,Pc),Bl(6,di),Bl(7,vt),Bl(8,Cu),Bl(9,Me),Bl(10,Un)],Qc);Ld((n,t)=>{((o,r)=>{r&&t.addRule(`.monaco-editor ${o} { background-color: ${r}; }`)})(".quickfix-edit-highlight",n.getColor(I5));let i=n.getColor(Kx);i&&t.addRule(`.monaco-editor .quickfix-edit-highlight { border: 1px ${Mc(n.type)?"dotted":"solid"} ${i}; box-sizing: border-box; }`)});function yy(n){return K.regex(GL.keys()[0],new RegExp("(\\s|^)"+yc(n.value)+"\\b"))}var $L={type:"object",defaultSnippets:[{body:{kind:""}}],properties:{kind:{type:"string",description:_("args.schema.kind","Kind of the code action to run.")},apply:{type:"string",description:_("args.schema.apply","Controls when the returned actions are applied."),default:"ifSingle",enum:["first","ifSingle","never"],enumDescriptions:[_("args.schema.apply.first","Always apply the first returned code action."),_("args.schema.apply.ifSingle","Apply the first returned code action if it is the only one."),_("args.schema.apply.never","Do not apply the returned code actions.")]},preferred:{type:"boolean",default:!1,description:_("args.schema.preferred","Controls if only preferred code actions should be returned.")}}};function _m(n,t,e,i,o=Bo.Default){n.hasModel()&&Qc.get(n)?.manualTriggerAtCurrentPosition(t,o,e,i)}var AI=class extends Q{constructor(){super({id:ug,label:_("quickfix.trigger.label","Quick Fix..."),alias:"Quick Fix...",precondition:K.and(T.writable,T.hasCodeActionsProvider),kbOpts:{kbExpr:T.textInputFocus,primary:2137,weight:100}})}run(t,e){return _m(e,_("editor.action.quickFix.noneMessage","No code actions available"),void 0,void 0,Bo.QuickFix)}},RI=class extends Ki{constructor(){super({id:CI,precondition:K.and(T.writable,T.hasCodeActionsProvider),metadata:{description:"Trigger a code action",args:[{name:"args",schema:$L}]}})}runEditorCommand(t,e,i){let o=wu.fromUser(i,{kind:Qt.Empty,apply:"ifSingle"});return _m(e,typeof i?.kind=="string"?o.preferred?_("editor.action.codeAction.noneMessage.preferred.kind","No preferred code actions for '{0}' available",i.kind):_("editor.action.codeAction.noneMessage.kind","No code actions for '{0}' available",i.kind):o.preferred?_("editor.action.codeAction.noneMessage.preferred","No preferred code actions available"):_("editor.action.codeAction.noneMessage","No code actions available"),{include:o.kind,includeSourceActions:!0,onlyIncludePreferredActions:o.preferred},o.apply)}},OI=class extends Q{constructor(){super({id:DI,label:_("refactor.label","Refactor..."),alias:"Refactor...",precondition:K.and(T.writable,T.hasCodeActionsProvider),kbOpts:{kbExpr:T.textInputFocus,primary:3120,mac:{primary:1328},weight:100},contextMenuOpts:{group:"1_modification",order:2,when:K.and(T.writable,yy(ui.Refactor))},metadata:{description:"Refactor...",args:[{name:"args",schema:$L}]}})}run(t,e,i){let o=wu.fromUser(i,{kind:ui.Refactor,apply:"never"});return _m(e,typeof i?.kind=="string"?o.preferred?_("editor.action.refactor.noneMessage.preferred.kind","No preferred refactorings for '{0}' available",i.kind):_("editor.action.refactor.noneMessage.kind","No refactorings for '{0}' available",i.kind):o.preferred?_("editor.action.refactor.noneMessage.preferred","No preferred refactorings available"):_("editor.action.refactor.noneMessage","No refactorings available"),{include:ui.Refactor.contains(o.kind)?o.kind:Qt.None,onlyIncludePreferredActions:o.preferred},o.apply,Bo.Refactor)}},PI=class extends Q{constructor(){super({id:II,label:_("source.label","Source Action..."),alias:"Source Action...",precondition:K.and(T.writable,T.hasCodeActionsProvider),contextMenuOpts:{group:"1_modification",order:2.1,when:K.and(T.writable,yy(ui.Source))},metadata:{description:"Source Action...",args:[{name:"args",schema:$L}]}})}run(t,e,i){let o=wu.fromUser(i,{kind:ui.Source,apply:"never"});return _m(e,typeof i?.kind=="string"?o.preferred?_("editor.action.source.noneMessage.preferred.kind","No preferred source actions for '{0}' available",i.kind):_("editor.action.source.noneMessage.kind","No source actions for '{0}' available",i.kind):o.preferred?_("editor.action.source.noneMessage.preferred","No preferred source actions available"):_("editor.action.source.noneMessage","No source actions available"),{include:ui.Source.contains(o.kind)?o.kind:Qt.None,includeSourceActions:!0,onlyIncludePreferredActions:o.preferred},o.apply,Bo.SourceAction)}},LI=class extends Q{constructor(){super({id:_y,label:_("organizeImports.label","Organize Imports"),alias:"Organize Imports",precondition:K.and(T.writable,yy(ui.SourceOrganizeImports)),kbOpts:{kbExpr:T.textInputFocus,primary:1581,weight:100}})}run(t,e){return _m(e,_("editor.action.organize.noneMessage","No organize imports action available"),{include:ui.SourceOrganizeImports,includeSourceActions:!0},"ifSingle",Bo.OrganizeImports)}},NI=class extends Q{constructor(){super({id:vy,label:_("fixAll.label","Fix All"),alias:"Fix All",precondition:K.and(T.writable,yy(ui.SourceFixAll))})}run(t,e){return _m(e,_("fixAll.noneMessage","No fix all action available"),{include:ui.SourceFixAll,includeSourceActions:!0},"ifSingle",Bo.FixAll)}},FI=class extends Q{constructor(){super({id:SI,label:_("autoFix.label","Auto Fix..."),alias:"Auto Fix...",precondition:K.and(T.writable,yy(ui.QuickFix)),kbOpts:{kbExpr:T.textInputFocus,primary:1625,mac:{primary:2649},weight:100}})}run(t,e){return _m(e,_("editor.action.autoFix.noneMessage","No auto fixes available"),{include:ui.QuickFix,onlyIncludePreferredActions:!0},"ifSingle",Bo.AutoFix)}};Re();DR();Cc();Te(Qc.ID,Qc,3);Te(mm.ID,mm,4);V(AI);V(OI);V(PI);V(LI);V(FI);V(NI);ze(new RI);yo.as(Od.Configuration).registerConfiguration(Ae(j({},zp),{properties:{"editor.codeActionWidget.showHeaders":{type:"boolean",scope:5,description:_("showCodeActionHeaders","Enable/disable showing group headers in the Code Action menu."),default:!0}}}));yo.as(Od.Configuration).registerConfiguration(Ae(j({},zp),{properties:{"editor.codeActionWidget.includeNearbyQuickFixes":{type:"boolean",scope:5,description:_("includeNearbyQuickFixes","Enable/disable showing nearest Quick Fix within a line when not currently on a diagnostic."),default:!0}}}));yo.as(Od.Configuration).registerConfiguration(Ae(j({},zp),{properties:{"editor.codeActions.triggerOnFocusChange":{type:"boolean",scope:5,markdownDescription:_("triggerOnFocusChange","Enable triggering {0} when {1} is set to {2}. Code Actions must be set to {3} to be triggered for window and focus changes.","`#editor.codeActionsOnSave#`","`#files.autoSave#`","`afterDelay`","`always`"),default:!1}}}));Ht();Bt();ue();it();Kt();bi();Bt();ue();ro();Ln();bs();qi();Lt();var pg=class{constructor(){this.lenses=[],this._disposables=new G}dispose(){this._disposables.dispose()}get isDisposed(){return this._disposables.isDisposed}add(t,e){this._disposables.add(t);for(let i of t.lenses)this.lenses.push({symbol:i,provider:e})}};function KL(n,t,e){return M(this,null,function*(){let i=n.ordered(t),o=new Map,r=new pg,s=i.map((a,l)=>M(this,null,function*(){o.set(a,l);try{let c=yield Promise.resolve(a.provideCodeLenses(t,e));c&&r.add(c,a)}catch(c){zt(c)}}));return yield Promise.all(s),r.lenses=r.lenses.sort((a,l)=>a.symbol.range.startLineNumber<l.symbol.range.startLineNumber?-1:a.symbol.range.startLineNumber>l.symbol.range.startLineNumber?1:o.get(a.provider)<o.get(l.provider)?-1:o.get(a.provider)>o.get(l.provider)?1:a.symbol.range.startColumn<l.symbol.range.startColumn?-1:a.symbol.range.startColumn>l.symbol.range.startColumn?1:0),r})}Pt.registerCommand("_executeCodeLensProvider",function(n,...t){let[e,i]=t;Tt(mt.isUri(e)),Tt(typeof i=="number"||!i);let{codeLensProvider:o}=n.get(ce),r=n.get(Ui).getModel(e);if(!r)throw _s();let s=[],a=new G;return KL(o,r,Qe.None).then(l=>{a.add(l);let c=[];for(let d of l.lenses)i==null||d.symbol.command?s.push(d.symbol):i-- >0&&d.provider.resolveCodeLens&&c.push(Promise.resolve(d.provider.resolveCodeLens(r,d.symbol,Qe.None)).then(u=>s.push(u||d.symbol)));return Promise.all(c)}).then(()=>s).finally(()=>{setTimeout(()=>a.dispose(),100)})});oi();Ic();qe();Sc();Ot();mue();_t();var zbe=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},Bbe=function(n,t){return function(e,i){t(e,i,n)}},XL=jo("ICodeLensCache"),zI=class{constructor(t,e){this.lineCount=t,this.data=e}},YL=class{constructor(t){this._fakeProvider=new class{provideCodeLenses(){throw new Error("not supported")}},this._cache=new wl(20,.75);let e="codelens/cache";P4(f4,()=>t.remove(e,1));let i="codelens/cache2",o=t.get(i,1,"{}");this._deserialize(o);let r=xi.filter(t.onWillSaveState,s=>s.reason===Wp.SHUTDOWN);xi.once(r)(s=>{t.store(i,this._serialize(),1,1)})}put(t,e){let i=e.lenses.map(s=>({range:s.symbol.range,command:s.symbol.command&&{id:"",title:s.symbol.command?.title}})),o=new pg;o.add({lenses:i,dispose:()=>{}},this._fakeProvider);let r=new zI(t.getLineCount(),o);this._cache.set(t.uri.toString(),r)}get(t){let e=this._cache.get(t.uri.toString());return e&&e.lineCount===t.getLineCount()?e.data:void 0}delete(t){this._cache.delete(t.uri.toString())}_serialize(){let t=Object.create(null);for(let[e,i]of this._cache){let o=new Set;for(let r of i.data.lenses)o.add(r.symbol.range.startLineNumber);t[e]={lineCount:i.lineCount,lines:[...o.values()]}}return JSON.stringify(t)}_deserialize(t){try{let e=JSON.parse(t);for(let i in e){let o=e[i],r=[];for(let a of o.lines)r.push({range:new A(a,1,a,11)});let s=new pg;s.add({lenses:r,dispose(){}},this._fakeProvider),this._cache.set(i,new zI(o.lineCount,s))}}catch{}}};YL=zbe([Bbe(0,Fr)],YL);qo(XL,YL,1);_t();X5();qe();wn();var ZL=class{constructor(t,e,i){this.afterColumn=1073741824,this.afterLineNumber=t,this.heightInPx=e,this._onHeight=i,this.suppressMouseDown=!0,this.domNode=document.createElement("div")}onComputedHeight(t){this._lastHeight===void 0?this._lastHeight=t:this._lastHeight!==t&&(this._lastHeight=t,this._onHeight())}isVisible(){return this._lastHeight!==0&&this.domNode.hasAttribute("monaco-visible-view-zone")}},Hbe=(()=>{class n{static{this._idPool=0}constructor(e,i){this.allowEditorOverflow=!1,this.suppressMouseDown=!0,this._commands=new Map,this._isEmpty=!0,this._editor=e,this._id=`codelens.widget-${n._idPool++}`,this.updatePosition(i),this._domNode=document.createElement("span"),this._domNode.className="codelens-decoration"}withCommands(e,i){this._commands.clear();let o=[],r=!1;for(let s=0;s<e.length;s++){let a=e[s];if(a&&(r=!0,a.command)){let l=Y5(a.command.title.trim());if(a.command.id){let c=`c${n._idPool++}`;o.push(ye("a",{id:c,title:a.command.tooltip,role:"button"},...l)),this._commands.set(c,a.command)}else o.push(ye("span",{title:a.command.tooltip},...l));s+1<e.length&&o.push(ye("span",void 0,"\xA0|\xA0"))}}r?(Mh(this._domNode,...o),this._isEmpty&&i&&this._domNode.classList.add("fadein"),this._isEmpty=!1):Mh(this._domNode,ye("span",void 0,"no commands"))}getCommand(e){return e.parentElement===this._domNode?this._commands.get(e.id):void 0}getId(){return this._id}getDomNode(){return this._domNode}updatePosition(e){let i=this._editor.getModel().getLineFirstNonWhitespaceColumn(e);this._widgetPosition={position:{lineNumber:e,column:i},preference:[1]}}getPosition(){return this._widgetPosition||null}}return n})(),fg=class{constructor(){this._removeDecorations=[],this._addDecorations=[],this._addDecorationsCallbacks=[]}addDecoration(t,e){this._addDecorations.push(t),this._addDecorationsCallbacks.push(e)}removeDecoration(t){this._removeDecorations.push(t)}commit(t){let e=t.deltaDecorations(this._removeDecorations,this._addDecorations);for(let i=0,o=e.length;i<o;i++)this._addDecorationsCallbacks[i](e[i])}},Q9=lt.register({collapseOnReplaceEdit:!0,description:"codelens"}),wy=class{constructor(t,e,i,o,r,s){this._isDisposed=!1,this._editor=e,this._data=t,this._decorationIds=[];let a,l=[];this._data.forEach((c,d)=>{c.symbol.command&&l.push(c.symbol),i.addDecoration({range:c.symbol.range,options:Q9},u=>this._decorationIds[d]=u),a?a=A.plusRange(a,c.symbol.range):a=A.lift(c.symbol.range)}),this._viewZone=new ZL(a.startLineNumber-1,r,s),this._viewZoneId=o.addZone(this._viewZone),l.length>0&&(this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(l,!1))}_createContentWidgetIfNecessary(){this._contentWidget?this._editor.layoutContentWidget(this._contentWidget):(this._contentWidget=new Hbe(this._editor,this._viewZone.afterLineNumber+1),this._editor.addContentWidget(this._contentWidget))}dispose(t,e){this._decorationIds.forEach(t.removeDecoration,t),this._decorationIds=[],e?.removeZone(this._viewZoneId),this._contentWidget&&(this._editor.removeContentWidget(this._contentWidget),this._contentWidget=void 0),this._isDisposed=!0}isDisposed(){return this._isDisposed}isValid(){return this._decorationIds.some((t,e)=>{let i=this._editor.getModel().getDecorationRange(t),o=this._data[e].symbol;return!!(i&&A.isEmpty(o.range)===i.isEmpty())})}updateCodeLensSymbols(t,e){this._decorationIds.forEach(e.removeDecoration,e),this._decorationIds=[],this._data=t,this._data.forEach((i,o)=>{e.addDecoration({range:i.symbol.range,options:Q9},r=>this._decorationIds[o]=r)})}updateHeight(t,e){this._viewZone.heightInPx=t,e.layoutZone(this._viewZoneId),this._contentWidget&&this._editor.layoutContentWidget(this._contentWidget)}computeIfNecessary(t){if(!this._viewZone.isVisible())return null;for(let e=0;e<this._decorationIds.length;e++){let i=t.getDecorationRange(this._decorationIds[e]);i&&(this._data[e].symbol.range=i)}return this._data}updateCommands(t){this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(t,!0);for(let e=0;e<this._data.length;e++){let i=t[e];if(i){let{symbol:o}=this._data[e];o.command=i.command||o.command}}}getCommand(t){return this._contentWidget?.getCommand(t)}getLineNumber(){let t=this._editor.getModel().getDecorationRange(this._decorationIds[0]);return t?t.startLineNumber:-1}update(t){if(this.isValid()){let e=this._editor.getModel().getDecorationRange(this._decorationIds[0]);e&&(this._viewZone.afterLineNumber=e.startLineNumber-1,t.layoutZone(this._viewZoneId),this._contentWidget&&(this._contentWidget.updatePosition(e.startLineNumber),this._editor.layoutContentWidget(this._contentWidget)))}}};Re();qi();Xs();Lt();var Vbe=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},xy=function(n,t){return function(e,i){t(e,i,n)}},Cy=class{static{this.ID="css.editor.codeLens"}constructor(t,e,i,o,r,s){this._editor=t,this._languageFeaturesService=e,this._commandService=o,this._notificationService=r,this._codeLensCache=s,this._disposables=new G,this._localToDispose=new G,this._lenses=[],this._oldCodeLensModels=new G,this._provideCodeLensDebounce=i.for(e.codeLensProvider,"CodeLensProvide",{min:250}),this._resolveCodeLensesDebounce=i.for(e.codeLensProvider,"CodeLensResolve",{min:250,salt:"resolve"}),this._resolveCodeLensesScheduler=new ai(()=>this._resolveCodeLensesInViewport(),this._resolveCodeLensesDebounce.default()),this._disposables.add(this._editor.onDidChangeModel(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeConfiguration(a=>{(a.hasChanged(50)||a.hasChanged(19)||a.hasChanged(18))&&this._updateLensStyle(),a.hasChanged(17)&&this._onModelChange()})),this._disposables.add(e.codeLensProvider.onDidChange(this._onModelChange,this)),this._onModelChange(),this._updateLensStyle()}dispose(){this._localDispose(),this._disposables.dispose(),this._oldCodeLensModels.dispose(),this._currentCodeLensModel?.dispose()}_getLayoutInfo(){let t=Math.max(1.3,this._editor.getOption(67)/this._editor.getOption(52)),e=this._editor.getOption(19);return(!e||e<5)&&(e=this._editor.getOption(52)*.9|0),{fontSize:e,codeLensHeight:e*t|0}}_updateLensStyle(){let{codeLensHeight:t,fontSize:e}=this._getLayoutInfo(),i=this._editor.getOption(18),o=this._editor.getOption(50),{style:r}=this._editor.getContainerDomNode();r.setProperty("--vscode-editorCodeLens-lineHeight",`${t}px`),r.setProperty("--vscode-editorCodeLens-fontSize",`${e}px`),r.setProperty("--vscode-editorCodeLens-fontFeatureSettings",o.fontFeatureSettings),i&&(r.setProperty("--vscode-editorCodeLens-fontFamily",i),r.setProperty("--vscode-editorCodeLens-fontFamilyDefault",wp.fontFamily)),this._editor.changeViewZones(s=>{for(let a of this._lenses)a.updateHeight(t,s)})}_localDispose(){this._getCodeLensModelPromise?.cancel(),this._getCodeLensModelPromise=void 0,this._resolveCodeLensesPromise?.cancel(),this._resolveCodeLensesPromise=void 0,this._localToDispose.clear(),this._oldCodeLensModels.clear(),this._currentCodeLensModel?.dispose()}_onModelChange(){this._localDispose();let t=this._editor.getModel();if(!t||!this._editor.getOption(17)||t.isTooLargeForTokenization())return;let e=this._codeLensCache.get(t);if(e&&this._renderCodeLensSymbols(e),!this._languageFeaturesService.codeLensProvider.has(t)){e&&wc(()=>{let o=this._codeLensCache.get(t);e===o&&(this._codeLensCache.delete(t),this._onModelChange())},30*1e3,this._localToDispose);return}for(let o of this._languageFeaturesService.codeLensProvider.all(t))if(typeof o.onDidChange=="function"){let r=o.onDidChange(()=>i.schedule());this._localToDispose.add(r)}let i=new ai(()=>{let o=Date.now();this._getCodeLensModelPromise?.cancel(),this._getCodeLensModelPromise=Ci(r=>KL(this._languageFeaturesService.codeLensProvider,t,r)),this._getCodeLensModelPromise.then(r=>{this._currentCodeLensModel&&this._oldCodeLensModels.add(this._currentCodeLensModel),this._currentCodeLensModel=r,this._codeLensCache.put(t,r);let s=this._provideCodeLensDebounce.update(t,Date.now()-o);i.delay=s,this._renderCodeLensSymbols(r),this._resolveCodeLensesInViewportSoon()},ht)},this._provideCodeLensDebounce.get(t));this._localToDispose.add(i),this._localToDispose.add(kt(()=>this._resolveCodeLensesScheduler.cancel())),this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{this._editor.changeDecorations(o=>{this._editor.changeViewZones(r=>{let s=[],a=-1;this._lenses.forEach(c=>{!c.isValid()||a===c.getLineNumber()?s.push(c):(c.update(r),a=c.getLineNumber())});let l=new fg;s.forEach(c=>{c.dispose(l,r),this._lenses.splice(this._lenses.indexOf(c),1)}),l.commit(o)})}),i.schedule(),this._resolveCodeLensesScheduler.cancel(),this._resolveCodeLensesPromise?.cancel(),this._resolveCodeLensesPromise=void 0})),this._localToDispose.add(this._editor.onDidFocusEditorText(()=>{i.schedule()})),this._localToDispose.add(this._editor.onDidBlurEditorText(()=>{i.cancel()})),this._localToDispose.add(this._editor.onDidScrollChange(o=>{o.scrollTopChanged&&this._lenses.length>0&&this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add(this._editor.onDidLayoutChange(()=>{this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add(kt(()=>{if(this._editor.getModel()){let o=El.capture(this._editor);this._editor.changeDecorations(r=>{this._editor.changeViewZones(s=>{this._disposeAllLenses(r,s)})}),o.restore(this._editor)}else this._disposeAllLenses(void 0,void 0)})),this._localToDispose.add(this._editor.onMouseDown(o=>{if(o.target.type!==9)return;let r=o.target.element;if(r?.tagName==="SPAN"&&(r=r.parentElement),r?.tagName==="A")for(let s of this._lenses){let a=s.getCommand(r);if(a){this._commandService.executeCommand(a.id,...a.arguments||[]).catch(l=>this._notificationService.error(l));break}}})),i.schedule()}_disposeAllLenses(t,e){let i=new fg;for(let o of this._lenses)o.dispose(i,e);t&&i.commit(t),this._lenses.length=0}_renderCodeLensSymbols(t){if(!this._editor.hasModel())return;let e=this._editor.getModel().getLineCount(),i=[],o;for(let a of t.lenses){let l=a.symbol.range.startLineNumber;l<1||l>e||(o&&o[o.length-1].symbol.range.startLineNumber===l?o.push(a):(o=[a],i.push(o)))}if(!i.length&&!this._lenses.length)return;let r=El.capture(this._editor),s=this._getLayoutInfo();this._editor.changeDecorations(a=>{this._editor.changeViewZones(l=>{let c=new fg,d=0,u=0;for(;u<i.length&&d<this._lenses.length;){let h=i[u][0].symbol.range.startLineNumber,m=this._lenses[d].getLineNumber();m<h?(this._lenses[d].dispose(c,l),this._lenses.splice(d,1)):m===h?(this._lenses[d].updateCodeLensSymbols(i[u],c),u++,d++):(this._lenses.splice(d,0,new wy(i[u],this._editor,c,l,s.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),d++,u++)}for(;d<this._lenses.length;)this._lenses[d].dispose(c,l),this._lenses.splice(d,1);for(;u<i.length;)this._lenses.push(new wy(i[u],this._editor,c,l,s.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),u++;c.commit(a)})}),r.restore(this._editor)}_resolveCodeLensesInViewportSoon(){this._editor.getModel()&&this._resolveCodeLensesScheduler.schedule()}_resolveCodeLensesInViewport(){this._resolveCodeLensesPromise?.cancel(),this._resolveCodeLensesPromise=void 0;let t=this._editor.getModel();if(!t)return;let e=[],i=[];if(this._lenses.forEach(s=>{let a=s.computeIfNecessary(t);a&&(e.push(a),i.push(s))}),e.length===0)return;let o=Date.now(),r=Ci(s=>{let a=e.map((l,c)=>{let d=new Array(l.length),u=l.map((h,m)=>!h.symbol.command&&typeof h.provider.resolveCodeLens=="function"?Promise.resolve(h.provider.resolveCodeLens(t,h.symbol,s)).then(f=>{d[m]=f},zt):(d[m]=h.symbol,Promise.resolve(void 0)));return Promise.all(u).then(()=>{!s.isCancellationRequested&&!i[c].isDisposed()&&i[c].updateCommands(d)})});return Promise.all(a)});this._resolveCodeLensesPromise=r,this._resolveCodeLensesPromise.then(()=>{let s=this._resolveCodeLensesDebounce.update(t,Date.now()-o);this._resolveCodeLensesScheduler.delay=s,this._currentCodeLensModel&&this._codeLensCache.put(t,this._currentCodeLensModel),this._oldCodeLensModels.clear(),r===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)},s=>{ht(s),r===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)})}getModel(){return M(this,null,function*(){return yield this._getCodeLensModelPromise,yield this._resolveCodeLensesPromise,this._currentCodeLensModel?.isDisposed?void 0:this._currentCodeLensModel})}};Cy=Vbe([xy(1,ce),xy(2,yn),xy(3,di),xy(4,Hi),xy(5,XL)],Cy);Te(Cy.ID,Cy,1);V(class extends Q{constructor(){super({id:"codelens.showLensesInCurrentLine",precondition:T.hasCodeLensProvider,label:_("showLensOnLine","Show CodeLens Commands For Current Line"),alias:"Show CodeLens Commands For Current Line"})}run(t,e){return M(this,null,function*(){if(!e.hasModel())return;let i=t.get(Go),o=t.get(di),r=t.get(Hi),s=e.getSelection().positionLineNumber,a=e.getContribution(Cy.ID);if(!a)return;let l=yield a.getModel();if(!l)return;let c=[];for(let h of l.lenses)h.symbol.command&&h.symbol.range.startLineNumber===s&&c.push({label:h.symbol.command.title,command:h.symbol.command});if(c.length===0)return;let d=yield i.pick(c,{canPickMany:!1,placeHolder:_("placeHolder","Select a command")});if(!d)return;let u=d.command;if(l.isDisposed){let m=(yield a.getModel())?.lenses.find(f=>f.symbol.range.startLineNumber===s&&f.symbol.command?.title===u.title);if(!m||!m.symbol.command)return;u=m.symbol.command}try{yield o.executeCommand(u.id,...u.arguments||[])}catch(h){r.error(h)}})}});ue();it();qe();Ht();xl();Bt();oi();ue();Ks();zi();it();qe();wn();Xs();Lt();bi();Bt();Ln();qe();bs();qi();Lt();xl();ue();Lt();Fh();var J9=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},QL=function(n,t){return function(e,i){t(e,i,n)}},vm=class{constructor(t){this._editorWorkerService=t}provideDocumentColors(t,e){return M(this,null,function*(){return this._editorWorkerService.computeDefaultDocumentColors(t.uri)})}provideColorPresentations(t,e,i){let o=e.range,r=e.color,s=r.alpha,a=new It(new Fa(Math.round(255*r.red),Math.round(255*r.green),Math.round(255*r.blue),s)),l=s?It.Format.CSS.formatRGB(a):It.Format.CSS.formatRGBA(a),c=s?It.Format.CSS.formatHSL(a):It.Format.CSS.formatHSLA(a),d=s?It.Format.CSS.formatHex(a):It.Format.CSS.formatHexA(a),u=[];return u.push({label:l,textEdit:{range:o,text:l}}),u.push({label:c,textEdit:{range:o,text:c}}),u.push({label:d,textEdit:{range:o,text:d}}),u}};vm=J9([QL(0,wr)],vm);var JL=class extends U{constructor(t,e){super(),this._register(t.colorProvider.register("*",new vm(e)))}};JL=J9([QL(0,ce),QL(1,wr)],JL);ta(JL);bn();function BI(n,t,e,i=!0){return M(this,null,function*(){return oN(new eN,n,t,e,i)})}function nN(n,t,e,i){return Promise.resolve(e.provideColorPresentations(n,t,i))}var eN=class{constructor(){}compute(t,e,i,o){return M(this,null,function*(){let r=yield t.provideDocumentColors(e,i);if(Array.isArray(r))for(let s of r)o.push({colorInfo:s,provider:t});return Array.isArray(r)})}},tN=class{constructor(){}compute(t,e,i,o){return M(this,null,function*(){let r=yield t.provideDocumentColors(e,i);if(Array.isArray(r))for(let s of r)o.push({range:s.range,color:[s.color.red,s.color.green,s.color.blue,s.color.alpha]});return Array.isArray(r)})}},iN=class{constructor(t){this.colorInfo=t}compute(t,e,i,o){return M(this,null,function*(){let r=yield t.provideColorPresentations(e,this.colorInfo,Qe.None);return Array.isArray(r)&&o.push(...r),Array.isArray(r)})}};function oN(n,t,e,i,o){return M(this,null,function*(){let r=!1,s,a=[],l=t.ordered(e);for(let c=l.length-1;c>=0;c--){let d=l[c];if(d instanceof vm)s=d;else try{(yield n.compute(d,e,i,a))&&(r=!0)}catch(u){zt(u)}}return r?a:s&&o?(yield n.compute(s,e,i,a),a):[]})}function eK(n,t){let{colorProvider:e}=n.get(ce),i=n.get(Ui).getModel(t);if(!i)throw _s();let o=n.get(vt).getValue("editor.defaultColorDecorators",{resource:t});return{model:i,colorProviderRegistry:e,isDefaultColorDecoratorsEnabled:o}}Pt.registerCommand("_executeDocumentColorProvider",function(n,...t){let[e]=t;if(!(e instanceof mt))throw _s();let{model:i,colorProviderRegistry:o,isDefaultColorDecoratorsEnabled:r}=eK(n,e);return oN(new tN,o,i,Qe.None,r)});Pt.registerCommand("_executeColorPresentationProvider",function(n,...t){let[e,i]=t,{uri:o,range:r}=i;if(!(o instanceof mt)||!Array.isArray(e)||e.length!==4||!A.isIRange(r))throw _s();let{model:s,colorProviderRegistry:a,isDefaultColorDecoratorsEnabled:l}=eK(n,o),[c,d,u,h]=e;return oN(new iN({range:r,color:{red:c,green:d,blue:u,alpha:h}}),a,s,Qe.None,l)});bn();var Wbe=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},rN=function(n,t){return function(e,i){t(e,i,n)}},sN,lN=Object.create({}),bm=class extends U{static{sN=this}static{this.ID="editor.contrib.colorDetector"}static{this.RECOMPUTE_TIME=1e3}constructor(e,i,o,r){super(),this._editor=e,this._configurationService=i,this._languageFeaturesService=o,this._localToDispose=this._register(new G),this._decorationsIds=[],this._colorDatas=new Map,this._colorDecoratorIds=this._editor.createDecorationsCollection(),this._ruleFactory=new AC(this._editor),this._decoratorLimitReporter=new aN,this._colorDecorationClassRefs=this._register(new G),this._debounceInformation=r.for(o.colorProvider,"Document Colors",{min:sN.RECOMPUTE_TIME}),this._register(e.onDidChangeModel(()=>{this._isColorDecoratorsEnabled=this.isEnabled(),this.updateColors()})),this._register(e.onDidChangeModelLanguage(()=>this.updateColors())),this._register(o.colorProvider.onDidChange(()=>this.updateColors())),this._register(e.onDidChangeConfiguration(s=>{let a=this._isColorDecoratorsEnabled;this._isColorDecoratorsEnabled=this.isEnabled(),this._isDefaultColorDecoratorsEnabled=this._editor.getOption(148);let l=a!==this._isColorDecoratorsEnabled||s.hasChanged(21),c=s.hasChanged(148);(l||c)&&(this._isColorDecoratorsEnabled?this.updateColors():this.removeAllDecorations())})),this._timeoutTimer=null,this._computePromise=null,this._isColorDecoratorsEnabled=this.isEnabled(),this._isDefaultColorDecoratorsEnabled=this._editor.getOption(148),this.updateColors()}isEnabled(){let e=this._editor.getModel();if(!e)return!1;let i=e.getLanguageId(),o=this._configurationService.getValue(i);if(o&&typeof o=="object"){let r=o.colorDecorators;if(r&&r.enable!==void 0&&!r.enable)return r.enable}return this._editor.getOption(20)}static get(e){return e.getContribution(this.ID)}dispose(){this.stop(),this.removeAllDecorations(),super.dispose()}updateColors(){if(this.stop(),!this._isColorDecoratorsEnabled)return;let e=this._editor.getModel();!e||!this._languageFeaturesService.colorProvider.has(e)||(this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{this._timeoutTimer||(this._timeoutTimer=new gl,this._timeoutTimer.cancelAndSet(()=>{this._timeoutTimer=null,this.beginCompute()},this._debounceInformation.get(e)))})),this.beginCompute())}beginCompute(){return M(this,null,function*(){this._computePromise=Ci(e=>M(this,null,function*(){let i=this._editor.getModel();if(!i)return[];let o=new Xi(!1),r=yield BI(this._languageFeaturesService.colorProvider,i,e,this._isDefaultColorDecoratorsEnabled);return this._debounceInformation.update(i,o.elapsed()),r}));try{let e=yield this._computePromise;this.updateDecorations(e),this.updateColorDecorators(e),this._computePromise=null}catch(e){ht(e)}})}stop(){this._timeoutTimer&&(this._timeoutTimer.cancel(),this._timeoutTimer=null),this._computePromise&&(this._computePromise.cancel(),this._computePromise=null),this._localToDispose.clear()}updateDecorations(e){let i=e.map(o=>({range:{startLineNumber:o.colorInfo.range.startLineNumber,startColumn:o.colorInfo.range.startColumn,endLineNumber:o.colorInfo.range.endLineNumber,endColumn:o.colorInfo.range.endColumn},options:lt.EMPTY}));this._editor.changeDecorations(o=>{this._decorationsIds=o.deltaDecorations(this._decorationsIds,i),this._colorDatas=new Map,this._decorationsIds.forEach((r,s)=>this._colorDatas.set(r,e[s]))})}updateColorDecorators(e){this._colorDecorationClassRefs.clear();let i=[],o=this._editor.getOption(21);for(let s=0;s<e.length&&i.length<o;s++){let{red:a,green:l,blue:c,alpha:d}=e[s].colorInfo.color,u=new Fa(Math.round(a*255),Math.round(l*255),Math.round(c*255),d),h=`rgba(${u.r}, ${u.g}, ${u.b}, ${u.a})`,m=this._colorDecorationClassRefs.add(this._ruleFactory.createClassNameRef({backgroundColor:h}));i.push({range:{startLineNumber:e[s].colorInfo.range.startLineNumber,startColumn:e[s].colorInfo.range.startColumn,endLineNumber:e[s].colorInfo.range.endLineNumber,endColumn:e[s].colorInfo.range.endColumn},options:{description:"colorDetector",before:{content:Rx,inlineClassName:`${m.className} colorpicker-color-decoration`,inlineClassNameAffectsLetterSpacing:!0,attachedData:lN}}})}let r=o<e.length?o:!1;this._decoratorLimitReporter.update(e.length,r),this._colorDecoratorIds.set(i)}removeAllDecorations(){this._editor.removeDecorations(this._decorationsIds),this._decorationsIds=[],this._colorDecoratorIds.clear(),this._colorDecorationClassRefs.clear()}getColorData(e){let i=this._editor.getModel();if(!i)return null;let o=i.getDecorationsInRange(A.fromPositions(e,e)).filter(r=>this._colorDatas.has(r.id));return o.length===0?null:this._colorDatas.get(o[0].id)}isColorDecoration(e){return this._colorDecoratorIds.has(e)}};bm=sN=Wbe([rN(1,vt),rN(2,ce),rN(3,yn)],bm);var aN=class{constructor(){this._onDidChange=new je,this._computed=0,this._limited=!1}update(t,e){(t!==this._computed||e!==this._limited)&&(this._computed=t,this._limited=e,this._onDidChange.fire())}};Te(bm.ID,bm,1);Ht();bi();xl();ue();qe();oi();var HI=class{get color(){return this._color}set color(t){this._color.equals(t)||(this._color=t,this._onDidChangeColor.fire(t))}get presentation(){return this.colorPresentations[this.presentationIndex]}get colorPresentations(){return this._colorPresentations}set colorPresentations(t){this._colorPresentations=t,this.presentationIndex>t.length-1&&(this.presentationIndex=0),this._onDidChangePresentation.fire(this.presentation)}constructor(t,e,i){this.presentationIndex=i,this._onColorFlushed=new je,this.onColorFlushed=this._onColorFlushed.event,this._onDidChangeColor=new je,this.onDidChangeColor=this._onDidChangeColor.event,this._onDidChangePresentation=new je,this.onDidChangePresentation=this._onDidChangePresentation.event,this.originalColor=t,this._color=t,this._colorPresentations=e}selectNextColorPresentation(){this.presentationIndex=(this.presentationIndex+1)%this.colorPresentations.length,this.flushColor(),this._onDidChangePresentation.fire(this.presentation)}guessColorPresentation(t,e){let i=-1;for(let o=0;o<this.colorPresentations.length;o++)if(e.toLowerCase()===this.colorPresentations[o].label){i=o;break}if(i===-1){let o=e.split("(")[0].toLowerCase();for(let r=0;r<this.colorPresentations.length;r++)if(this.colorPresentations[r].label.toLowerCase().startsWith(o)){i=r;break}}i!==-1&&i!==this.presentationIndex&&(this.presentationIndex=i,this._onDidChangePresentation.fire(this.presentation))}flushColor(){this._onColorFlushed.fire(this._color)}};_t();Wn();xl();oi();ue();nr();Re();Po();var ls=ye,cN=class extends U{constructor(t,e,i,o=!1){super(),this.model=e,this.showingStandaloneColorPicker=o,this._closeButton=null,this._domNode=ls(".colorpicker-header"),Ce(t,this._domNode),this._pickedColorNode=Ce(this._domNode,ls(".picked-color")),Ce(this._pickedColorNode,ls("span.codicon.codicon-color-mode")),this._pickedColorPresentation=Ce(this._pickedColorNode,document.createElement("span")),this._pickedColorPresentation.classList.add("picked-color-presentation");let r=_("clickToToggleColorOptions","Click to toggle color options (rgb/hsl/hex)");this._pickedColorNode.setAttribute("title",r),this._originalColorNode=Ce(this._domNode,ls(".original-color")),this._originalColorNode.style.backgroundColor=It.Format.CSS.format(this.model.originalColor)||"",this.backgroundColor=i.getColorTheme().getColor(AR)||It.white,this._register(i.onDidColorThemeChange(s=>{this.backgroundColor=s.getColor(AR)||It.white})),this._register(St(this._pickedColorNode,ci.CLICK,()=>this.model.selectNextColorPresentation())),this._register(St(this._originalColorNode,ci.CLICK,()=>{this.model.color=this.model.originalColor,this.model.flushColor()})),this._register(e.onDidChangeColor(this.onDidChangeColor,this)),this._register(e.onDidChangePresentation(this.onDidChangePresentation,this)),this._pickedColorNode.style.backgroundColor=It.Format.CSS.format(e.color)||"",this._pickedColorNode.classList.toggle("light",e.color.rgba.a<.5?this.backgroundColor.isLighter():e.color.isLighter()),this.onDidChangeColor(this.model.color),this.showingStandaloneColorPicker&&(this._domNode.classList.add("standalone-colorpicker"),this._closeButton=this._register(new dN(this._domNode)))}get closeButton(){return this._closeButton}get pickedColorNode(){return this._pickedColorNode}get originalColorNode(){return this._originalColorNode}onDidChangeColor(t){this._pickedColorNode.style.backgroundColor=It.Format.CSS.format(t)||"",this._pickedColorNode.classList.toggle("light",t.rgba.a<.5?this.backgroundColor.isLighter():t.isLighter()),this.onDidChangePresentation()}onDidChangePresentation(){this._pickedColorPresentation.textContent=this.model.presentation?this.model.presentation.label:""}},dN=class extends U{constructor(t){super(),this._onClicked=this._register(new je),this.onClicked=this._onClicked.event,this._button=document.createElement("div"),this._button.classList.add("close-button"),Ce(t,this._button);let e=document.createElement("div");e.classList.add("close-button-inner-div"),Ce(this._button,e),Ce(e,ls(".button"+Dt.asCSSSelector(Ii("color-picker-close",Ge.close,_("closeIcon","Icon to close the color picker"))))).classList.add("close-icon"),this._register(St(this._button,ci.CLICK,()=>{this._onClicked.fire()}))}},uN=class extends U{constructor(t,e,i,o=!1){super(),this.model=e,this.pixelRatio=i,this._insertButton=null,this._domNode=ls(".colorpicker-body"),Ce(t,this._domNode),this._saturationBox=new hN(this._domNode,this.model,this.pixelRatio),this._register(this._saturationBox),this._register(this._saturationBox.onDidChange(this.onDidSaturationValueChange,this)),this._register(this._saturationBox.onColorFlushed(this.flushColor,this)),this._opacityStrip=new mN(this._domNode,this.model,o),this._register(this._opacityStrip),this._register(this._opacityStrip.onDidChange(this.onDidOpacityChange,this)),this._register(this._opacityStrip.onColorFlushed(this.flushColor,this)),this._hueStrip=new pN(this._domNode,this.model,o),this._register(this._hueStrip),this._register(this._hueStrip.onDidChange(this.onDidHueChange,this)),this._register(this._hueStrip.onColorFlushed(this.flushColor,this)),o&&(this._insertButton=this._register(new fN(this._domNode)),this._domNode.classList.add("standalone-colorpicker"))}flushColor(){this.model.flushColor()}onDidSaturationValueChange({s:t,v:e}){let i=this.model.color.hsva;this.model.color=new It(new xv(i.h,t,e,i.a))}onDidOpacityChange(t){let e=this.model.color.hsva;this.model.color=new It(new xv(e.h,e.s,e.v,t))}onDidHueChange(t){let e=this.model.color.hsva,i=(1-t)*360;this.model.color=new It(new xv(i===360?0:i,e.s,e.v,e.a))}get domNode(){return this._domNode}get saturationBox(){return this._saturationBox}get enterButton(){return this._insertButton}layout(){this._saturationBox.layout(),this._opacityStrip.layout(),this._hueStrip.layout()}},hN=class extends U{constructor(t,e,i){super(),this.model=e,this.pixelRatio=i,this._onDidChange=new je,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new je,this.onColorFlushed=this._onColorFlushed.event,this._domNode=ls(".saturation-wrap"),Ce(t,this._domNode),this._canvas=document.createElement("canvas"),this._canvas.className="saturation-box",Ce(this._domNode,this._canvas),this.selection=ls(".saturation-selection"),Ce(this._domNode,this.selection),this.layout(),this._register(St(this._domNode,ci.POINTER_DOWN,o=>this.onPointerDown(o))),this._register(this.model.onDidChangeColor(this.onDidChangeColor,this)),this.monitor=null}get domNode(){return this._domNode}onPointerDown(t){if(!t.target||!(t.target instanceof Element))return;this.monitor=this._register(new LR);let e=Gi(this._domNode);t.target!==this.selection&&this.onDidChangePosition(t.offsetX,t.offsetY),this.monitor.startMonitoring(t.target,t.pointerId,t.buttons,o=>this.onDidChangePosition(o.pageX-e.left,o.pageY-e.top),()=>null);let i=St(t.target.ownerDocument,ci.POINTER_UP,()=>{this._onColorFlushed.fire(),i.dispose(),this.monitor&&(this.monitor.stopMonitoring(!0),this.monitor=null)},!0)}onDidChangePosition(t,e){let i=Math.max(0,Math.min(1,t/this.width)),o=Math.max(0,Math.min(1,1-e/this.height));this.paintSelection(i,o),this._onDidChange.fire({s:i,v:o})}layout(){this.width=this._domNode.offsetWidth,this.height=this._domNode.offsetHeight,this._canvas.width=this.width*this.pixelRatio,this._canvas.height=this.height*this.pixelRatio,this.paint();let t=this.model.color.hsva;this.paintSelection(t.s,t.v)}paint(){let t=this.model.color.hsva,e=new It(new xv(t.h,1,1,1)),i=this._canvas.getContext("2d"),o=i.createLinearGradient(0,0,this._canvas.width,0);o.addColorStop(0,"rgba(255, 255, 255, 1)"),o.addColorStop(.5,"rgba(255, 255, 255, 0.5)"),o.addColorStop(1,"rgba(255, 255, 255, 0)");let r=i.createLinearGradient(0,0,0,this._canvas.height);r.addColorStop(0,"rgba(0, 0, 0, 0)"),r.addColorStop(1,"rgba(0, 0, 0, 1)"),i.rect(0,0,this._canvas.width,this._canvas.height),i.fillStyle=It.Format.CSS.format(e),i.fill(),i.fillStyle=o,i.fill(),i.fillStyle=r,i.fill()}paintSelection(t,e){this.selection.style.left=`${t*this.width}px`,this.selection.style.top=`${this.height-e*this.height}px`}onDidChangeColor(t){if(this.monitor&&this.monitor.isMonitoring())return;this.paint();let e=t.hsva;this.paintSelection(e.s,e.v)}},VI=class extends U{constructor(t,e,i=!1){super(),this.model=e,this._onDidChange=new je,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new je,this.onColorFlushed=this._onColorFlushed.event,i?(this.domNode=Ce(t,ls(".standalone-strip")),this.overlay=Ce(this.domNode,ls(".standalone-overlay"))):(this.domNode=Ce(t,ls(".strip")),this.overlay=Ce(this.domNode,ls(".overlay"))),this.slider=Ce(this.domNode,ls(".slider")),this.slider.style.top="0px",this._register(St(this.domNode,ci.POINTER_DOWN,o=>this.onPointerDown(o))),this._register(e.onDidChangeColor(this.onDidChangeColor,this)),this.layout()}layout(){this.height=this.domNode.offsetHeight-this.slider.offsetHeight;let t=this.getValue(this.model.color);this.updateSliderPosition(t)}onDidChangeColor(t){let e=this.getValue(t);this.updateSliderPosition(e)}onPointerDown(t){if(!t.target||!(t.target instanceof Element))return;let e=this._register(new LR),i=Gi(this.domNode);this.domNode.classList.add("grabbing"),t.target!==this.slider&&this.onDidChangeTop(t.offsetY),e.startMonitoring(t.target,t.pointerId,t.buttons,r=>this.onDidChangeTop(r.pageY-i.top),()=>null);let o=St(t.target.ownerDocument,ci.POINTER_UP,()=>{this._onColorFlushed.fire(),o.dispose(),e.stopMonitoring(!0),this.domNode.classList.remove("grabbing")},!0)}onDidChangeTop(t){let e=Math.max(0,Math.min(1,1-t/this.height));this.updateSliderPosition(e),this._onDidChange.fire(e)}updateSliderPosition(t){this.slider.style.top=`${(1-t)*this.height}px`}},mN=class extends VI{constructor(t,e,i=!1){super(t,e,i),this.domNode.classList.add("opacity-strip"),this.onDidChangeColor(this.model.color)}onDidChangeColor(t){super.onDidChangeColor(t);let{r:e,g:i,b:o}=t.rgba,r=new It(new Fa(e,i,o,1)),s=new It(new Fa(e,i,o,0));this.overlay.style.background=`linear-gradient(to bottom, ${r} 0%, ${s} 100%)`}getValue(t){return t.hsva.a}},pN=class extends VI{constructor(t,e,i=!1){super(t,e,i),this.domNode.classList.add("hue-strip")}getValue(t){return 1-t.hsva.h/360}},fN=class extends U{constructor(t){super(),this._onClicked=this._register(new je),this.onClicked=this._onClicked.event,this._button=Ce(t,document.createElement("button")),this._button.classList.add("insert-button"),this._button.textContent="Insert",this._register(St(this._button,ci.CLICK,()=>{this._onClicked.fire()}))}get button(){return this._button}},WI=class extends Tc{constructor(t,e,i,o,r=!1){super(),this.model=e,this.pixelRatio=i,this._register(q4.getInstance(Aa(t)).onDidChange(()=>this.layout())),this._domNode=ls(".colorpicker-widget"),t.appendChild(this._domNode),this.header=this._register(new cN(this._domNode,this.model,o,r)),this.body=this._register(new uN(this._domNode,this.model,this.pixelRatio,r))}layout(){this.body.layout()}get domNode(){return this._domNode}};var gg=class{constructor(t,e,i,o){this.priority=t,this.range=e,this.initialMousePosX=i,this.initialMousePosY=o,this.type=1}equals(t){return t.type===1&&this.range.equalsRange(t.range)}canAdoptVisibleHover(t,e){return t.type===1&&e.lineNumber===this.range.startLineNumber}},Su=class{constructor(t,e,i,o,r,s){this.priority=t,this.owner=e,this.range=i,this.initialMousePosX=o,this.initialMousePosY=r,this.supportsMarkerHover=s,this.type=2}equals(t){return t.type===2&&this.owner===t.owner}canAdoptVisibleHover(t,e){return t.type===2&&this.owner===t.owner}},cs=class{constructor(t){this.renderedHoverParts=t}dispose(){for(let t of this.renderedHoverParts)t.dispose()}},Os=new class{constructor(){this._participants=[]}register(t){this._participants.push(t)}getAll(){return this._participants}};Oo();_t();var tK=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},iK=function(n,t){return function(e,i){t(e,i,n)}},gN=class{constructor(t,e,i,o){this.owner=t,this.range=e,this.model=i,this.provider=o,this.forceShowAtRange=!0}isValidForHoverAnchor(t){return t.type===1&&this.range.startColumn<=t.range.startColumn&&this.range.endColumn>=t.range.endColumn}},ym=class{constructor(t,e){this._editor=t,this._themeService=e,this.hoverOrdinal=2}computeSync(t,e){return[]}computeAsync(t,e,i){return _r.fromPromise(this._computeAsync(t,e,i))}_computeAsync(t,e,i){return M(this,null,function*(){if(!this._editor.hasModel())return[];let o=bm.get(this._editor);if(!o)return[];for(let r of e){if(!o.isColorDecoration(r))continue;let s=o.getColorData(r.range.getStartPosition());if(s)return[yield nK(this,this._editor.getModel(),s.colorInfo,s.provider)]}return[]})}renderHoverParts(t,e){let i=oK(this,this._editor,this._themeService,e,t);if(!i)return new cs([]);this._colorPicker=i.colorPicker;let o={hoverPart:i.hoverPart,hoverElement:this._colorPicker.domNode,dispose(){i.disposables.dispose()}};return new cs([o])}handleResize(){this._colorPicker?.layout()}isColorPickerVisible(){return!!this._colorPicker}};ym=tK([iK(1,Gn)],ym);var _N=class{constructor(t,e,i,o){this.owner=t,this.range=e,this.model=i,this.provider=o}},_g=class{constructor(t,e){this._editor=t,this._themeService=e,this._color=null}createColorHover(t,e,i){return M(this,null,function*(){if(!this._editor.hasModel()||!bm.get(this._editor))return null;let r=yield BI(i,this._editor.getModel(),Qe.None),s=null,a=null;for(let u of r){let h=u.colorInfo;A.containsRange(h.range,t.range)&&(s=h,a=u.provider)}let l=s??t,c=a??e,d=!!s;return{colorHover:yield nK(this,this._editor.getModel(),l,c),foundInEditor:d}})}updateEditorModel(t){return M(this,null,function*(){if(!this._editor.hasModel())return;let e=t.model,i=new A(t.range.startLineNumber,t.range.startColumn,t.range.endLineNumber,t.range.endColumn);this._color&&(yield jI(this._editor.getModel(),e,this._color,i,t),i=rK(this._editor,i,e))})}renderHoverParts(t,e){return oK(this,this._editor,this._themeService,e,t)}set color(t){this._color=t}get color(){return this._color}};_g=tK([iK(1,Gn)],_g);function nK(n,t,e,i){return M(this,null,function*(){let o=t.getValueInRange(e.range),{red:r,green:s,blue:a,alpha:l}=e.color,c=new Fa(Math.round(r*255),Math.round(s*255),Math.round(a*255),l),d=new It(c),u=yield nN(t,e,i,Qe.None),h=new HI(d,[],0);return h.colorPresentations=u||[],h.guessColorPresentation(d,o),n instanceof ym?new gN(n,A.lift(e.range),h,i):new _N(n,A.lift(e.range),h,i)})}function oK(n,t,e,i,o){if(i.length===0||!t.hasModel())return;if(o.setMinimumDimensions){let h=t.getOption(67)+8;o.setMinimumDimensions(new li(302,h))}let r=new G,s=i[0],a=t.getModel(),l=s.model,c=r.add(new WI(o.fragment,l,t.getOption(144),e,n instanceof _g)),d=!1,u=new A(s.range.startLineNumber,s.range.startColumn,s.range.endLineNumber,s.range.endColumn);if(n instanceof _g){let h=s.model.color;n.color=h,jI(a,l,h,u,s),r.add(l.onColorFlushed(m=>{n.color=m}))}else r.add(l.onColorFlushed(h=>M(this,null,function*(){yield jI(a,l,h,u,s),d=!0,u=rK(t,u,l)})));return r.add(l.onDidChangeColor(h=>{jI(a,l,h,u,s)})),r.add(t.onDidChangeModelContent(h=>{d?d=!1:(o.hide(),t.focus())})),{hoverPart:s,colorPicker:c,disposables:r}}function rK(n,t,e){let i=[],o=e.presentation.textEdit??{range:t,text:e.presentation.label,forceMoveMarkers:!1};i.push(o),e.presentation.additionalTextEdits&&i.push(...e.presentation.additionalTextEdits);let r=A.lift(o.range),s=n.getModel()._setTrackedRange(null,r,3);return n.executeEdits("colorpicker",i),n.pushUndoStop(),n.getModel()._getTrackedRange(s)??r}function jI(n,t,e,i,o){return M(this,null,function*(){let r=yield nN(n,{range:i,color:{red:e.rgba.r/255,green:e.rgba.g/255,blue:e.rgba.b/255,alpha:e.rgba.a}},o.provider,Qe.None);t.colorPresentations=r||[]})}Re();var UI="editor.action.showHover",sK="editor.action.showDefinitionPreviewHover",aK="editor.action.scrollUpHover",lK="editor.action.scrollDownHover",cK="editor.action.scrollLeftHover",dK="editor.action.scrollRightHover",uK="editor.action.pageUpHover",hK="editor.action.pageDownHover",mK="editor.action.goToTopHover",pK="editor.action.goToBottomHover",wm="editor.action.increaseHoverVerbosityLevel",fK=_({key:"increaseHoverVerbosityLevel",comment:["Label for action that will increase the hover verbosity level."]},"Increase Hover Verbosity Level"),xm="editor.action.decreaseHoverVerbosityLevel",gK=_({key:"decreaseHoverVerbosityLevel",comment:["Label for action that will decrease the hover verbosity level."]},"Decrease Hover Verbosity Level");ue();Ot();_t();Th();Oi();Ht();Wn();ue();co();Hd();tr();nr();hi();vn();var qI="editor.action.inlineSuggest.commit",GI="editor.action.inlineSuggest.showPrevious",$I="editor.action.inlineSuggest.showNext";Re();$i();qi();pt();Ot();Oa();var wN=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},ca=function(n,t){return function(e,i){t(e,i,n)}},KI,YI=class extends U{constructor(t,e,i){super(),this.editor=t,this.model=e,this.instantiationService=i,this.alwaysShowToolbar=lo(this,this.editor.onDidChangeConfiguration,()=>this.editor.getOption(62).showToolbar==="always"),this.sessionPosition=void 0,this.position=qt(this,o=>{let r=this.model.read(o)?.primaryGhostText.read(o);if(!this.alwaysShowToolbar.read(o)||!r||r.parts.length===0)return this.sessionPosition=void 0,null;let s=r.parts[0].column;this.sessionPosition&&this.sessionPosition.lineNumber!==r.lineNumber&&(this.sessionPosition=void 0);let a=new pe(r.lineNumber,Math.min(s,this.sessionPosition?.column??Number.MAX_SAFE_INTEGER));return this.sessionPosition=a,a}),this._register(Dl((o,r)=>{let s=this.model.read(o);if(!s||!this.alwaysShowToolbar.read(o))return;let a=pC((c,d)=>{let u=d.add(this.instantiationService.createInstance(Jc,this.editor,!0,this.position,s.selectedInlineCompletionIndex,s.inlineCompletionsCount,s.activeCommands));return t.addContentWidget(u),d.add(kt(()=>t.removeContentWidget(u))),d.add(ti(h=>{this.position.read(h)&&s.lastTriggerKind.read(h)!==vs.Explicit&&s.triggerExplicitly()})),u}),l=Vd(this,(c,d)=>!!this.position.read(c)||!!d);r.add(ti(c=>{l.read(c)&&a.read(c)}))}))}};YI=wN([ca(2,Me)],YI);var jbe=Ii("inline-suggestion-hints-next",Ge.chevronRight,_("parameterHintsNextIcon","Icon for show next parameter hint.")),Ube=Ii("inline-suggestion-hints-previous",Ge.chevronLeft,_("parameterHintsPreviousIcon","Icon for show previous parameter hint.")),Jc=class extends U{static{KI=this}static{this._dropDownVisible=!1}static get dropDownVisible(){return this._dropDownVisible}static{this.id=0}createCommandAction(e,i,o){let r=new bl(e,i,o,!0,()=>this._commandService.executeCommand(e)),s=this.keybindingService.lookupKeybinding(e,this._contextKeyService),a=i;return s&&(a=_({key:"content",comment:["A label","A keybinding"]},"{0} ({1})",i,s.getLabel())),r.tooltip=a,r}constructor(e,i,o,r,s,a,l,c,d,u,h){super(),this.editor=e,this.withBorder=i,this._position=o,this._currentSuggestionIdx=r,this._suggestionCount=s,this._extraCommands=a,this._commandService=l,this.keybindingService=d,this._contextKeyService=u,this._menuService=h,this.id=`InlineSuggestionHintsContentWidget${KI.id++}`,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this.nodes=br("div.inlineSuggestionsHints",{className:this.withBorder?".withBorder":""},[br("div@toolBar")]),this.previousAction=this.createCommandAction(GI,_("previous","Previous"),Dt.asClassName(Ube)),this.availableSuggestionCountAction=new bl("inlineSuggestionHints.availableSuggestionCount","",void 0,!1),this.nextAction=this.createCommandAction($I,_("next","Next"),Dt.asClassName(jbe)),this.inlineCompletionsActionsMenus=this._register(this._menuService.createMenu(be.InlineCompletionsActions,this._contextKeyService)),this.clearAvailableSuggestionCountLabelDebounced=this._register(new ai(()=>{this.availableSuggestionCountAction.label=""},100)),this.disableButtonsDebounced=this._register(new ai(()=>{this.previousAction.enabled=this.nextAction.enabled=!1},100)),this.toolBar=this._register(c.createInstance(yN,this.nodes.toolBar,be.InlineSuggestionToolbar,{menuOptions:{renderShortTitle:!0},toolbarOptions:{primaryGroup:m=>m.startsWith("primary")},actionViewItemProvider:(m,f)=>{if(m instanceof yl)return c.createInstance(bN,m,void 0);if(m===this.availableSuggestionCountAction){let p=new vN(void 0,m,{label:!0,icon:!1});return p.setClass("availableSuggestionCount"),p}},telemetrySource:"InlineSuggestionToolbar"})),this.toolBar.setPrependedPrimaryActions([this.previousAction,this.availableSuggestionCountAction,this.nextAction]),this._register(this.toolBar.onDidChangeDropdownVisibility(m=>{KI._dropDownVisible=m})),this._register(ti(m=>{this._position.read(m),this.editor.layoutContentWidget(this)})),this._register(ti(m=>{let f=this._suggestionCount.read(m),p=this._currentSuggestionIdx.read(m);f!==void 0?(this.clearAvailableSuggestionCountLabelDebounced.cancel(),this.availableSuggestionCountAction.label=`${p+1}/${f}`):this.clearAvailableSuggestionCountLabelDebounced.schedule(),f!==void 0&&f>1?(this.disableButtonsDebounced.cancel(),this.previousAction.enabled=this.nextAction.enabled=!0):this.disableButtonsDebounced.schedule()})),this._register(ti(m=>{let p=this._extraCommands.read(m).map(g=>({class:void 0,id:g.id,enabled:!0,tooltip:g.tooltip||"",label:g.title,run:v=>this._commandService.executeCommand(g.id)}));for(let[g,v]of this.inlineCompletionsActionsMenus.getActions())for(let b of v)b instanceof yl&&p.push(b);p.length>0&&p.unshift(new xc),this.toolBar.setAdditionalSecondaryActions(p)}))}getId(){return this.id}getDomNode(){return this.nodes.root}getPosition(){return{position:this._position.get(),preference:[1,2],positionAffinity:3}}};Jc=KI=wN([ca(6,di),ca(7,Me),ca(8,Vt),ca(9,Ze),ca(10,Ys)],Jc);var vN=class extends Rv{constructor(){super(...arguments),this._className=void 0}setClass(t){this._className=t}render(t){super.render(t),this._className&&t.classList.add(this._className)}updateTooltip(){}},bN=class extends bC{updateLabel(){let t=this._keybindingService.lookupKeybinding(this._action.id,this._contextKeyService);if(!t)return super.updateLabel();if(this.label){let e=br("div.keybinding").root;this._register(new Gp(e,yp,j({disableTitle:!0},SC))).set(t),this.label.textContent=this._action.label,this.label.appendChild(e),this.label.classList.add("inlineSuggestionStatusBarItemLabel")}}updateTooltip(){}},yN=class extends WC{constructor(t,e,i,o,r,s,a,l,c){super(t,j({resetMenu:e},i),o,r,s,a,l,c),this.menuId=e,this.options2=i,this.menuService=o,this.contextKeyService=r,this.menu=this._store.add(this.menuService.createMenu(this.menuId,this.contextKeyService,{emitEventsForSubmenuChanges:!0})),this.additionalActions=[],this.prependedPrimaryActions=[],this._store.add(this.menu.onDidChange(()=>this.updateToolbar())),this.updateToolbar()}updateToolbar(){let t=[],e=[];jp(this.menu,this.options2?.menuOptions,{primary:t,secondary:e},this.options2?.toolbarOptions?.primaryGroup,this.options2?.toolbarOptions?.shouldInlineSubmenu,this.options2?.toolbarOptions?.useSeparatorsInPrimaryActions),e.push(...this.additionalActions),t.unshift(...this.prependedPrimaryActions),this.setActions(t,e)}setPrependedPrimaryActions(t){Jo(this.prependedPrimaryActions,t,(e,i)=>e===i)||(this.prependedPrimaryActions=t,this.updateToolbar())}setAdditionalSecondaryActions(t){Jo(this.additionalActions,t,(e,i)=>e===i)||(this.additionalActions=t,this.updateToolbar())}};yN=wN([ca(3,Ys),ca(4,Ze),ca(5,Qs),ca(6,Vt),ca(7,di),ca(8,Un)],yN);Ht();_t();function Du(n,t,e){let i=Gi(n);return!(t<i.left||t>i.left+i.width||e<i.top||e>i.top+i.height)}_t();ue();vn();Ht();Bt();oi();ue();var xN=class{constructor(t,e,i){this.value=t,this.isComplete=e,this.hasLoadingMessage=i}},vg=class extends U{constructor(t,e){super(),this._editor=t,this._computer=e,this._onResult=this._register(new je),this.onResult=this._onResult.event,this._firstWaitScheduler=this._register(new ai(()=>this._triggerAsyncComputation(),0)),this._secondWaitScheduler=this._register(new ai(()=>this._triggerSyncComputation(),0)),this._loadingMessageScheduler=this._register(new ai(()=>this._triggerLoadingMessage(),0)),this._state=0,this._asyncIterable=null,this._asyncIterableDone=!1,this._result=[]}dispose(){this._asyncIterable&&(this._asyncIterable.cancel(),this._asyncIterable=null),super.dispose()}get _hoverTime(){return this._editor.getOption(60).delay}get _firstWaitTime(){return this._hoverTime/2}get _secondWaitTime(){return this._hoverTime-this._firstWaitTime}get _loadingMessageTime(){return 3*this._hoverTime}_setState(t,e=!0){this._state=t,e&&this._fireResult()}_triggerAsyncComputation(){this._setState(2),this._secondWaitScheduler.schedule(this._secondWaitTime),this._computer.computeAsync?(this._asyncIterableDone=!1,this._asyncIterable=k4(t=>this._computer.computeAsync(t)),M(this,null,function*(){try{try{for(var t=hx(this._asyncIterable),e,i,o;e=!(i=yield t.next()).done;e=!1){let r=i.value;r&&(this._result.push(r),this._fireResult())}}catch{o=[i]}finally{try{e&&(i=t.return)&&(yield i.call(t))}finally{if(o)throw o[0]}}this._asyncIterableDone=!0,(this._state===3||this._state===4)&&this._setState(0)}catch(r){ht(r)}})):this._asyncIterableDone=!0}_triggerSyncComputation(){this._computer.computeSync&&(this._result=this._result.concat(this._computer.computeSync())),this._setState(this._asyncIterableDone?0:3)}_triggerLoadingMessage(){this._state===3&&this._setState(4)}_fireResult(){if(this._state===1||this._state===2)return;let t=this._state===0,e=this._state===4;this._onResult.fire(new xN(this._result.slice(0),t,e))}start(t){if(t===0)this._state===0&&(this._setState(1),this._firstWaitScheduler.schedule(this._firstWaitTime),this._loadingMessageScheduler.schedule(this._loadingMessageTime));else switch(this._state){case 0:this._triggerAsyncComputation(),this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break;case 2:this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break}}cancel(){this._firstWaitScheduler.cancel(),this._secondWaitScheduler.cancel(),this._loadingMessageScheduler.cancel(),this._asyncIterable&&(this._asyncIterable.cancel(),this._asyncIterable=null),this._result=[],this._setState(0,!1)}};Ot();_t();_t();oi();ue();var Iu=class{constructor(){this._onDidWillResize=new je,this.onDidWillResize=this._onDidWillResize.event,this._onDidResize=new je,this.onDidResize=this._onDidResize.event,this._sashListener=new G,this._size=new li(0,0),this._minSize=new li(0,0),this._maxSize=new li(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),this.domNode=document.createElement("div"),this._eastSash=new Fc(this.domNode,{getVerticalSashLeft:()=>this._size.width},{orientation:0}),this._westSash=new Fc(this.domNode,{getVerticalSashLeft:()=>0},{orientation:0}),this._northSash=new Fc(this.domNode,{getHorizontalSashTop:()=>0},{orientation:1,orthogonalEdge:qR.North}),this._southSash=new Fc(this.domNode,{getHorizontalSashTop:()=>this._size.height},{orientation:1,orthogonalEdge:qR.South}),this._northSash.orthogonalStartSash=this._westSash,this._northSash.orthogonalEndSash=this._eastSash,this._southSash.orthogonalStartSash=this._westSash,this._southSash.orthogonalEndSash=this._eastSash;let t,e=0,i=0;this._sashListener.add(xi.any(this._northSash.onDidStart,this._eastSash.onDidStart,this._southSash.onDidStart,this._westSash.onDidStart)(()=>{t===void 0&&(this._onDidWillResize.fire(),t=this._size,e=0,i=0)})),this._sashListener.add(xi.any(this._northSash.onDidEnd,this._eastSash.onDidEnd,this._southSash.onDidEnd,this._westSash.onDidEnd)(()=>{t!==void 0&&(t=void 0,e=0,i=0,this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(this._eastSash.onDidChange(o=>{t&&(i=o.currentX-o.startX,this.layout(t.height+e,t.width+i),this._onDidResize.fire({dimension:this._size,done:!1,east:!0}))})),this._sashListener.add(this._westSash.onDidChange(o=>{t&&(i=-(o.currentX-o.startX),this.layout(t.height+e,t.width+i),this._onDidResize.fire({dimension:this._size,done:!1,west:!0}))})),this._sashListener.add(this._northSash.onDidChange(o=>{t&&(e=-(o.currentY-o.startY),this.layout(t.height+e,t.width+i),this._onDidResize.fire({dimension:this._size,done:!1,north:!0}))})),this._sashListener.add(this._southSash.onDidChange(o=>{t&&(e=o.currentY-o.startY,this.layout(t.height+e,t.width+i),this._onDidResize.fire({dimension:this._size,done:!1,south:!0}))})),this._sashListener.add(xi.any(this._eastSash.onDidReset,this._westSash.onDidReset)(o=>{this._preferredSize&&(this.layout(this._size.height,this._preferredSize.width),this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(xi.any(this._northSash.onDidReset,this._southSash.onDidReset)(o=>{this._preferredSize&&(this.layout(this._preferredSize.height,this._size.width),this._onDidResize.fire({dimension:this._size,done:!0}))}))}dispose(){this._northSash.dispose(),this._southSash.dispose(),this._eastSash.dispose(),this._westSash.dispose(),this._sashListener.dispose(),this._onDidResize.dispose(),this._onDidWillResize.dispose(),this.domNode.remove()}enableSashes(t,e,i,o){this._northSash.state=t?3:0,this._eastSash.state=e?3:0,this._southSash.state=i?3:0,this._westSash.state=o?3:0}layout(t=this.size.height,e=this.size.width){let{height:i,width:o}=this._minSize,{height:r,width:s}=this._maxSize;t=Math.max(i,Math.min(r,t)),e=Math.max(o,Math.min(s,e));let a=new li(e,t);li.equals(a,this._size)||(this.domNode.style.height=t+"px",this.domNode.style.width=e+"px",this._size=a,this._northSash.layout(),this._eastSash.layout(),this._southSash.layout(),this._westSash.layout())}clearSashHoverState(){this._eastSash.clearSashHoverState(),this._westSash.clearSashHoverState(),this._northSash.clearSashHoverState(),this._southSash.clearSashHoverState()}get size(){return this._size}set maxSize(t){this._maxSize=t}get maxSize(){return this._maxSize}set minSize(t){this._minSize=t}get minSize(){return this._minSize}set preferredSize(t){this._preferredSize=t}get preferredSize(){return this._preferredSize}};ue();hi();_t();var qbe=30,Gbe=24,XI=class extends U{constructor(t,e=new li(10,10)){super(),this._editor=t,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._resizableNode=this._register(new Iu),this._contentPosition=null,this._isResizing=!1,this._resizableNode.domNode.style.position="absolute",this._resizableNode.minSize=li.lift(e),this._resizableNode.layout(e.height,e.width),this._resizableNode.enableSashes(!0,!0,!0,!0),this._register(this._resizableNode.onDidResize(i=>{this._resize(new li(i.dimension.width,i.dimension.height)),i.done&&(this._isResizing=!1)})),this._register(this._resizableNode.onDidWillResize(()=>{this._isResizing=!0}))}get isResizing(){return this._isResizing}getDomNode(){return this._resizableNode.domNode}getPosition(){return this._contentPosition}get position(){return this._contentPosition?.position?pe.lift(this._contentPosition.position):void 0}_availableVerticalSpaceAbove(t){let e=this._editor.getDomNode(),i=this._editor.getScrolledVisiblePosition(t);return!e||!i?void 0:Gi(e).top+i.top-qbe}_availableVerticalSpaceBelow(t){let e=this._editor.getDomNode(),i=this._editor.getScrolledVisiblePosition(t);if(!e||!i)return;let o=Gi(e),r=_l(e.ownerDocument.body),s=o.top+i.top+i.height;return r.height-s-Gbe}_findPositionPreference(t,e){let i=Math.min(this._availableVerticalSpaceBelow(e)??1/0,t),o=Math.min(this._availableVerticalSpaceAbove(e)??1/0,t),r=Math.min(Math.max(o,i),t),s=Math.min(t,r),a;return this._editor.getOption(60).above?a=s<=o?1:2:a=s<=i?2:1,a===1?this._resizableNode.enableSashes(!0,!0,!1,!1):this._resizableNode.enableSashes(!1,!0,!0,!1),a}_resize(t){this._resizableNode.layout(t.height,t.width)}};pt();bn();Kt();oi();var $be=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},ZI=function(n,t){return function(e,i){t(e,i,n)}},Hl,_K=30,Kbe=6,QI=class extends XI{static{Hl=this}static{this.ID="editor.contrib.resizableContentHoverWidget"}static{this._lastDimensions=new li(0,0)}get isVisibleFromKeyboard(){return this._renderedHover?.source===1}get isVisible(){return this._hoverVisibleKey.get()??!1}get isFocused(){return this._hoverFocusedKey.get()??!1}constructor(t,e,i,o,r){let s=t.getOption(67)+8,a=150,l=new li(a,s);super(t,l),this._configurationService=i,this._accessibilityService=o,this._keybindingService=r,this._hover=this._register(new nC),this._onDidResize=this._register(new je),this.onDidResize=this._onDidResize.event,this._minimumSize=l,this._hoverVisibleKey=T.hoverVisible.bindTo(e),this._hoverFocusedKey=T.hoverFocused.bindTo(e),Ce(this._resizableNode.domNode,this._hover.containerDomNode),this._resizableNode.domNode.style.zIndex="50",this._register(this._editor.onDidLayoutChange(()=>{this.isVisible&&this._updateMaxDimensions()})),this._register(this._editor.onDidChangeConfiguration(d=>{d.hasChanged(50)&&this._updateFont()}));let c=this._register(Ra(this._resizableNode.domNode));this._register(c.onDidFocus(()=>{this._hoverFocusedKey.set(!0)})),this._register(c.onDidBlur(()=>{this._hoverFocusedKey.set(!1)})),this._setRenderedHover(void 0),this._editor.addContentWidget(this)}dispose(){super.dispose(),this._renderedHover?.dispose(),this._editor.removeContentWidget(this)}getId(){return Hl.ID}static _applyDimensions(t,e,i){let o=typeof e=="number"?`${e}px`:e,r=typeof i=="number"?`${i}px`:i;t.style.width=o,t.style.height=r}_setContentsDomNodeDimensions(t,e){let i=this._hover.contentsDomNode;return Hl._applyDimensions(i,t,e)}_setContainerDomNodeDimensions(t,e){let i=this._hover.containerDomNode;return Hl._applyDimensions(i,t,e)}_setHoverWidgetDimensions(t,e){this._setContentsDomNodeDimensions(t,e),this._setContainerDomNodeDimensions(t,e),this._layoutContentWidget()}static _applyMaxDimensions(t,e,i){let o=typeof e=="number"?`${e}px`:e,r=typeof i=="number"?`${i}px`:i;t.style.maxWidth=o,t.style.maxHeight=r}_setHoverWidgetMaxDimensions(t,e){Hl._applyMaxDimensions(this._hover.contentsDomNode,t,e),Hl._applyMaxDimensions(this._hover.containerDomNode,t,e),this._hover.containerDomNode.style.setProperty("--vscode-hover-maxWidth",typeof t=="number"?`${t}px`:t),this._layoutContentWidget()}_setAdjustedHoverWidgetDimensions(t){this._setHoverWidgetMaxDimensions("none","none");let e=t.width,i=t.height;this._setHoverWidgetDimensions(e,i)}_updateResizableNodeMaxDimensions(){let t=this._findMaximumRenderingWidth()??1/0,e=this._findMaximumRenderingHeight()??1/0;this._resizableNode.maxSize=new li(t,e),this._setHoverWidgetMaxDimensions(t,e)}_resize(t){Hl._lastDimensions=new li(t.width,t.height),this._setAdjustedHoverWidgetDimensions(t),this._resizableNode.layout(t.height,t.width),this._updateResizableNodeMaxDimensions(),this._hover.scrollbar.scanDomNode(),this._editor.layoutContentWidget(this),this._onDidResize.fire()}_findAvailableSpaceVertically(){let t=this._renderedHover?.showAtPosition;if(t)return this._positionPreference===1?this._availableVerticalSpaceAbove(t):this._availableVerticalSpaceBelow(t)}_findMaximumRenderingHeight(){let t=this._findAvailableSpaceVertically();if(!t)return;let e=Kbe;return Array.from(this._hover.contentsDomNode.children).forEach(i=>{e+=i.clientHeight}),Math.min(t,e)}_isHoverTextOverflowing(){this._hover.containerDomNode.style.setProperty("--vscode-hover-whiteSpace","nowrap"),this._hover.containerDomNode.style.setProperty("--vscode-hover-sourceWhiteSpace","nowrap");let t=Array.from(this._hover.contentsDomNode.children).some(e=>e.scrollWidth>e.clientWidth);return this._hover.containerDomNode.style.removeProperty("--vscode-hover-whiteSpace"),this._hover.containerDomNode.style.removeProperty("--vscode-hover-sourceWhiteSpace"),t}_findMaximumRenderingWidth(){if(!this._editor||!this._editor.hasModel())return;let t=this._isHoverTextOverflowing(),e=typeof this._contentWidth>"u"?0:this._contentWidth-2;return t||this._hover.containerDomNode.clientWidth<e?_l(this._hover.containerDomNode.ownerDocument.body).width-14:this._hover.containerDomNode.clientWidth+2}isMouseGettingCloser(t,e){if(!this._renderedHover)return!1;if(this._renderedHover.initialMousePosX===void 0||this._renderedHover.initialMousePosY===void 0)return this._renderedHover.initialMousePosX=t,this._renderedHover.initialMousePosY=e,!1;let i=Gi(this.getDomNode());this._renderedHover.closestMouseDistance===void 0&&(this._renderedHover.closestMouseDistance=vK(this._renderedHover.initialMousePosX,this._renderedHover.initialMousePosY,i.left,i.top,i.width,i.height));let o=vK(t,e,i.left,i.top,i.width,i.height);return o>this._renderedHover.closestMouseDistance+4?!1:(this._renderedHover.closestMouseDistance=Math.min(this._renderedHover.closestMouseDistance,o),!0)}_setRenderedHover(t){this._renderedHover?.dispose(),this._renderedHover=t,this._hoverVisibleKey.set(!!t),this._hover.containerDomNode.classList.toggle("hidden",!t)}_updateFont(){let{fontSize:t,lineHeight:e}=this._editor.getOption(50),i=this._hover.contentsDomNode;i.style.fontSize=`${t}px`,i.style.lineHeight=`${e/t}`,Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach(r=>this._editor.applyFontInfo(r))}_updateContent(t){let e=this._hover.contentsDomNode;e.style.paddingBottom="",e.textContent="",e.appendChild(t)}_layoutContentWidget(){this._editor.layoutContentWidget(this),this._hover.onContentsChanged()}_updateMaxDimensions(){let t=Math.max(this._editor.getLayoutInfo().height/4,250,Hl._lastDimensions.height),e=Math.max(this._editor.getLayoutInfo().width*.66,500,Hl._lastDimensions.width);this._setHoverWidgetMaxDimensions(e,t)}_render(t){this._setRenderedHover(t),this._updateFont(),this._updateContent(t.domNode),this._updateMaxDimensions(),this.onContentsChanged(),this._editor.render()}getPosition(){return this._renderedHover?{position:this._renderedHover.showAtPosition,secondaryPosition:this._renderedHover.showAtSecondaryPosition,positionAffinity:this._renderedHover.shouldAppearBeforeContent?3:void 0,preference:[this._positionPreference??1]}:null}show(t){if(!this._editor||!this._editor.hasModel())return;this._render(t);let e=Rd(this._hover.containerDomNode),i=t.showAtPosition;this._positionPreference=this._findPositionPreference(e,i)??1,this.onContentsChanged(),t.shouldFocus&&this._hover.containerDomNode.focus(),this._onDidResize.fire();let r=this._hover.containerDomNode.ownerDocument.activeElement===this._hover.containerDomNode&&G5(this._configurationService.getValue("accessibility.verbosity.hover")===!0&&this._accessibilityService.isScreenReaderOptimized(),this._keybindingService.lookupKeybinding("editor.action.accessibleView")?.getAriaLabel()??"");r&&(this._hover.contentsDomNode.ariaLabel=this._hover.contentsDomNode.textContent+", "+r)}hide(){if(!this._renderedHover)return;let t=this._renderedHover.shouldFocus||this._hoverFocusedKey.get();this._setRenderedHover(void 0),this._resizableNode.maxSize=new li(1/0,1/0),this._resizableNode.clearSashHoverState(),this._hoverFocusedKey.set(!1),this._editor.layoutContentWidget(this),t&&this._editor.focus()}_removeConstraintsRenderNormally(){let t=this._editor.getLayoutInfo();this._resizableNode.layout(t.height,t.width),this._setHoverWidgetDimensions("auto","auto")}setMinimumDimensions(t){this._minimumSize=new li(Math.max(this._minimumSize.width,t.width),Math.max(this._minimumSize.height,t.height)),this._updateMinimumWidth()}_updateMinimumWidth(){let t=typeof this._contentWidth>"u"?this._minimumSize.width:Math.min(this._contentWidth,this._minimumSize.width);this._resizableNode.minSize=new li(t,this._minimumSize.height)}onContentsChanged(){this._removeConstraintsRenderNormally();let t=this._hover.containerDomNode,e=Rd(t),i=Or(t);if(this._resizableNode.layout(e,i),this._setHoverWidgetDimensions(i,e),e=Rd(t),i=Or(t),this._contentWidth=i,this._updateMinimumWidth(),this._resizableNode.layout(e,i),this._renderedHover?.showAtPosition){let o=Rd(this._hover.containerDomNode);this._positionPreference=this._findPositionPreference(o,this._renderedHover.showAtPosition)}this._layoutContentWidget()}focus(){this._hover.containerDomNode.focus()}scrollUp(){let t=this._hover.scrollbar.getScrollPosition().scrollTop,e=this._editor.getOption(50);this._hover.scrollbar.setScrollPosition({scrollTop:t-e.lineHeight})}scrollDown(){let t=this._hover.scrollbar.getScrollPosition().scrollTop,e=this._editor.getOption(50);this._hover.scrollbar.setScrollPosition({scrollTop:t+e.lineHeight})}scrollLeft(){let t=this._hover.scrollbar.getScrollPosition().scrollLeft;this._hover.scrollbar.setScrollPosition({scrollLeft:t-_K})}scrollRight(){let t=this._hover.scrollbar.getScrollPosition().scrollLeft;this._hover.scrollbar.setScrollPosition({scrollLeft:t+_K})}pageUp(){let t=this._hover.scrollbar.getScrollPosition().scrollTop,e=this._hover.scrollbar.getScrollDimensions().height;this._hover.scrollbar.setScrollPosition({scrollTop:t-e})}pageDown(){let t=this._hover.scrollbar.getScrollPosition().scrollTop,e=this._hover.scrollbar.getScrollDimensions().height;this._hover.scrollbar.setScrollPosition({scrollTop:t+e})}goToTop(){this._hover.scrollbar.setScrollPosition({scrollTop:0})}goToBottom(){this._hover.scrollbar.setScrollPosition({scrollTop:this._hover.scrollbar.getScrollDimensions().scrollHeight})}};QI=Hl=$be([ZI(1,Ze),ZI(2,vt),ZI(3,zd),ZI(4,Vt)],QI);function vK(n,t,e,i,o,r){let s=e+o/2,a=i+r/2,l=Math.max(Math.abs(n-s)-o/2,0),c=Math.max(Math.abs(t-a)-r/2,0);return Math.sqrt(l*l+c*c)}Oi();Ht();var JI=class n{get anchor(){return this._anchor}set anchor(t){this._anchor=t}get shouldFocus(){return this._shouldFocus}set shouldFocus(t){this._shouldFocus=t}get source(){return this._source}set source(t){this._source=t}get insistOnKeepingHoverVisible(){return this._insistOnKeepingHoverVisible}set insistOnKeepingHoverVisible(t){this._insistOnKeepingHoverVisible=t}constructor(t,e){this._editor=t,this._participants=e,this._anchor=null,this._shouldFocus=!1,this._source=0,this._insistOnKeepingHoverVisible=!1}static _getLineDecorations(t,e){if(e.type!==1&&!e.supportsMarkerHover)return[];let i=t.getModel(),o=e.range.startLineNumber;if(o>i.getLineCount())return[];let r=i.getLineMaxColumn(o);return t.getLineDecorations(o).filter(s=>{if(s.options.isWholeLine)return!0;let a=s.range.startLineNumber===o?s.range.startColumn:1,l=s.range.endLineNumber===o?s.range.endColumn:r;if(s.options.showIfCollapsed){if(a>e.range.startColumn+1||e.range.endColumn-1>l)return!1}else if(a>e.range.startColumn||e.range.endColumn>l)return!1;return!0})}computeAsync(t){let e=this._anchor;if(!this._editor.hasModel()||!e)return _r.EMPTY;let i=n._getLineDecorations(this._editor,e);return _r.merge(this._participants.map(o=>o.computeAsync?o.computeAsync(e,i,t):_r.EMPTY))}computeSync(){if(!this._editor.hasModel()||!this._anchor)return[];let t=n._getLineDecorations(this._editor,this._anchor),e=[];for(let i of this._participants)e=e.concat(i.computeSync(this._anchor,t));return er(e)}};var Sy=class{constructor(t,e,i){this.anchor=t,this.hoverParts=e,this.isComplete=i}filter(t){let e=this.hoverParts.filter(i=>i.isValidForHoverAnchor(t));return e.length===this.hoverParts.length?this:new CN(this,this.anchor,e,this.isComplete)}},CN=class extends Sy{constructor(t,e,i,o){super(e,i,o),this.original=t}filter(t){return this.original.filter(t)}};oi();ue();_t();ue();var Ybe=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},Xbe=function(n,t){return function(e,i){t(e,i,n)}},bK=ye,bg=class extends U{get hasContent(){return this._hasContent}constructor(t){super(),this._keybindingService=t,this.actions=[],this._hasContent=!1,this.hoverElement=bK("div.hover-row.status-bar"),this.hoverElement.tabIndex=0,this.actionsElement=Ce(this.hoverElement,bK("div.actions"))}addAction(t){let e=this._keybindingService.lookupKeybinding(t.commandId),i=e?e.getLabel():null;this._hasContent=!0;let o=this._register(q5.render(this.actionsElement,t,i));return this.actions.push(o),o}append(t){let e=Ce(this.actionsElement,t);return this._hasContent=!0,e}};bg=Ybe([Xbe(0,Vt)],bg);wn();hi();qe();_t();_t();Oi();bi();Js();ue();qe();Pa();Re();bn();Lt();vn();Wn();nr();Bt();Ht();Ht();bi();Bt();it();Lt();var SN=class{constructor(t,e,i){this.provider=t,this.hover=e,this.ordinal=i}};function Zbe(n,t,e,i,o){return M(this,null,function*(){let r=yield Promise.resolve(n.provideHover(e,i,o)).catch(zt);if(!(!r||!Qbe(r)))return new SN(n,r,t)})}function Dy(n,t,e,i,o=!1){let s=n.ordered(t,o).map((a,l)=>Zbe(a,l,t,e,i));return _r.fromPromises(s).coalesce()}function yK(n,t,e,i,o=!1){return Dy(n,t,e,i,o).map(r=>r.hover).toPromise()}ao("_executeHoverProvider",(n,t,e)=>{let i=n.get(ce);return yK(i.hoverProvider,t,e,Qe.None)});ao("_executeHoverProvider_recursive",(n,t,e)=>{let i=n.get(ce);return yK(i.hoverProvider,t,e,Qe.None,!0)});function Qbe(n){let t=typeof n.range<"u",e=typeof n.contents<"u"&&n.contents&&n.contents.length>0;return t&&e}qi();var Jbe=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},Cm=function(n,t){return function(e,i){t(e,i,n)}},yg=ye,eye=Ii("hover-increase-verbosity",Ge.add,_("increaseHoverVerbosity","Icon for increaseing hover verbosity.")),tye=Ii("hover-decrease-verbosity",Ge.remove,_("decreaseHoverVerbosity","Icon for decreasing hover verbosity.")),Dr=class{constructor(t,e,i,o,r,s=void 0){this.owner=t,this.range=e,this.contents=i,this.isBeforeContent=o,this.ordinal=r,this.source=s}isValidForHoverAnchor(t){return t.type===1&&this.range.startColumn<=t.range.startColumn&&this.range.endColumn>=t.range.endColumn}},eE=class{constructor(t,e,i){this.hover=t,this.hoverProvider=e,this.hoverPosition=i}supportsVerbosityAction(t){switch(t){case Tr.Increase:return this.hover.canIncreaseVerbosity??!1;case Tr.Decrease:return this.hover.canDecreaseVerbosity??!1}}},Eu=class{constructor(t,e,i,o,r,s,a,l){this._editor=t,this._languageService=e,this._openerService=i,this._configurationService=o,this._languageFeaturesService=r,this._keybindingService=s,this._hoverService=a,this._commandService=l,this.hoverOrdinal=3}createLoadingMessage(t){return new Dr(this,t.range,[new mn().appendText(_("modesContentHover.loading","Loading..."))],!1,2e3)}computeSync(t,e){if(!this._editor.hasModel()||t.type!==1)return[];let i=this._editor.getModel(),o=t.range.startLineNumber,r=i.getLineMaxColumn(o),s=[],a=1e3,l=i.getLineLength(o),c=i.getLanguageIdAtPosition(t.range.startLineNumber,t.range.startColumn),d=this._editor.getOption(118),u=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:c}),h=!1;d>=0&&l>d&&t.range.startColumn>=d&&(h=!0,s.push(new Dr(this,t.range,[{value:_("stopped rendering","Rendering paused for long line for performance reasons. This can be configured via `editor.stopRenderingLineAfter`.")}],!1,a++))),!h&&typeof u=="number"&&l>=u&&s.push(new Dr(this,t.range,[{value:_("too many characters","Tokenization is skipped for long lines for performance reasons. This can be configured via `editor.maxTokenizationLineLength`.")}],!1,a++));let m=!1;for(let f of e){let p=f.range.startLineNumber===o?f.range.startColumn:1,g=f.range.endLineNumber===o?f.range.endColumn:r,v=f.options.hoverMessage;if(!v||Fd(v))continue;f.options.beforeContentClassName&&(m=!0);let b=new A(t.range.startLineNumber,p,t.range.startLineNumber,g);s.push(new Dr(this,b,xx(v),m,a++))}return s}computeAsync(t,e,i){if(!this._editor.hasModel()||t.type!==1)return _r.EMPTY;let o=this._editor.getModel(),r=this._languageFeaturesService.hoverProvider;return r.has(o)?this._getMarkdownHovers(r,o,t,i):_r.EMPTY}_getMarkdownHovers(t,e,i,o){let r=i.range.getStartPosition();return Dy(t,e,r,o).filter(l=>!Fd(l.hover.contents)).map(l=>{let c=l.hover.range?A.lift(l.hover.range):i.range,d=new eE(l.hover,l.provider,r);return new Dr(this,c,l.hover.contents,!1,l.ordinal,d)})}renderHoverParts(t,e){return this._renderedHoverParts=new DN(e,t.fragment,this,this._editor,this._languageService,this._openerService,this._commandService,this._keybindingService,this._hoverService,this._configurationService,t.onContentsChanged),this._renderedHoverParts}updateMarkdownHoverVerbosityLevel(t,e,i){return Promise.resolve(this._renderedHoverParts?.updateMarkdownHoverPartVerbosityLevel(t,e,i))}};Eu=Jbe([Cm(1,qn),Cm(2,$n),Cm(3,vt),Cm(4,ce),Cm(5,Vt),Cm(6,kc),Cm(7,di)],Eu);var wg=class{constructor(t,e,i){this.hoverPart=t,this.hoverElement=e,this.disposables=i}dispose(){this.disposables.dispose()}},DN=class{constructor(t,e,i,o,r,s,a,l,c,d,u){this._hoverParticipant=i,this._editor=o,this._languageService=r,this._openerService=s,this._commandService=a,this._keybindingService=l,this._hoverService=c,this._configurationService=d,this._onFinishedRendering=u,this._ongoingHoverOperations=new Map,this._disposables=new G,this.renderedHoverParts=this._renderHoverParts(t,e,this._onFinishedRendering),this._disposables.add(kt(()=>{this.renderedHoverParts.forEach(h=>{h.dispose()}),this._ongoingHoverOperations.forEach(h=>{h.tokenSource.dispose(!0)})}))}_renderHoverParts(t,e,i){return t.sort(vc(o=>o.ordinal,Ch)),t.map(o=>{let r=this._renderHoverPart(o,i);return e.appendChild(r.hoverElement),r})}_renderHoverPart(t,e){let i=this._renderMarkdownHover(t,e),o=i.hoverElement,r=t.source,s=new G;if(s.add(i),!r)return new wg(t,o,s);let a=r.supportsVerbosityAction(Tr.Increase),l=r.supportsVerbosityAction(Tr.Decrease);if(!a&&!l)return new wg(t,o,s);let c=yg("div.verbosity-actions");return o.prepend(c),s.add(this._renderHoverExpansionAction(c,Tr.Increase,a)),s.add(this._renderHoverExpansionAction(c,Tr.Decrease,l)),new wg(t,o,s)}_renderMarkdownHover(t,e){return xK(this._editor,t,this._languageService,this._openerService,e)}_renderHoverExpansionAction(t,e,i){let o=new G,r=e===Tr.Increase,s=Ce(t,yg(Dt.asCSSSelector(r?eye:tye)));s.tabIndex=0;let a=new W5("mouse",!1,{target:t,position:{hoverPosition:0}},this._configurationService,this._hoverService);if(o.add(this._hoverService.setupManagedHover(a,s,iye(this._keybindingService,e))),!i)return s.classList.add("disabled"),o;s.classList.add("enabled");let l=()=>this._commandService.executeCommand(e===Tr.Increase?wm:xm);return o.add(new $5(s,l)),o.add(new K5(s,l,[3,10])),o}updateMarkdownHoverPartVerbosityLevel(t,e,i=!0){return M(this,null,function*(){let o=this._editor.getModel();if(!o)return;let r=this._getRenderedHoverPartAtIndex(e),s=r?.hoverPart.source;if(!r||!s?.supportsVerbosityAction(t))return;let a=yield this._fetchHover(s,o,t);if(!a)return;let l=new eE(a,s.hoverProvider,s.hoverPosition),c=r.hoverPart,d=new Dr(this._hoverParticipant,c.range,a.contents,c.isBeforeContent,c.ordinal,l),u=this._renderHoverPart(d,this._onFinishedRendering);return this._replaceRenderedHoverPartAtIndex(e,u,d),i&&this._focusOnHoverPartWithIndex(e),{hoverPart:d,hoverElement:u.hoverElement}})}_fetchHover(t,e,i){return M(this,null,function*(){let o=i===Tr.Increase?1:-1,r=t.hoverProvider,s=this._ongoingHoverOperations.get(r);s&&(s.tokenSource.cancel(),o+=s.verbosityDelta);let a=new vi;this._ongoingHoverOperations.set(r,{verbosityDelta:o,tokenSource:a});let l={verbosityRequest:{verbosityDelta:o,previousHover:t.hover}},c;try{c=yield Promise.resolve(r.provideHover(e,t.hoverPosition,a.token,l))}catch(d){zt(d)}return a.dispose(),this._ongoingHoverOperations.delete(r),c})}_replaceRenderedHoverPartAtIndex(t,e,i){if(t>=this.renderedHoverParts.length||t<0)return;let o=this.renderedHoverParts[t],r=o.hoverElement,s=e.hoverElement,a=Array.from(s.children);r.replaceChildren(...a);let l=new wg(i,r,e.disposables);r.focus(),o.dispose(),this.renderedHoverParts[t]=l}_focusOnHoverPartWithIndex(t){this.renderedHoverParts[t].hoverElement.focus()}_getRenderedHoverPartAtIndex(t){return this.renderedHoverParts[t]}dispose(){this._disposables.dispose()}};function wK(n,t,e,i,o){t.sort(vc(s=>s.ordinal,Ch));let r=[];for(let s of t)r.push(xK(e,s,i,o,n.onContentsChanged));return new cs(r)}function xK(n,t,e,i,o){let r=new G,s=yg("div.hover-row"),a=yg("div.hover-row-contents");s.appendChild(a);let l=t.contents;for(let d of l){if(Fd(d))continue;let u=yg("div.markdown-hover"),h=Ce(u,yg("div.hover-contents")),m=r.add(new ea({editor:n},e,i));r.add(m.onDidRenderAsync(()=>{h.className="hover-contents code-hover-contents",o()}));let f=r.add(m.render(d));h.appendChild(f.element),a.appendChild(u)}return{hoverPart:t,hoverElement:s,dispose(){r.dispose()}}}function iye(n,t){switch(t){case Tr.Increase:{let e=n.lookupKeybinding(wm);return e?_("increaseVerbosityWithKb","Increase Hover Verbosity ({0})",e.getLabel()):_("increaseVerbosity","Increase Hover Verbosity")}case Tr.Decrease:{let e=n.lookupKeybinding(xm);return e?_("decreaseVerbosityWithKb","Decrease Hover Verbosity ({0})",e.getLabel()):_("decreaseVerbosity","Decrease Hover Verbosity")}}}Ht();Js();hi();wn();Pa();vl();_t();Oi();Ht();bi();Bt();ue();Ic();ro();Ln();qe();vn();Na();wn();Xs();Lt();vl();oi();ue();tr();function IN(n,t){return!!n[t]}var Iy=class{constructor(t,e){this.target=t.target,this.isLeftClick=t.event.leftButton,this.isMiddleClick=t.event.middleButton,this.isRightClick=t.event.rightButton,this.hasTriggerModifier=IN(t.event,e.triggerModifier),this.hasSideBySideModifier=IN(t.event,e.triggerSideBySideModifier),this.isNoneOrSingleMouseDown=t.event.detail<=1}},tE=class{constructor(t,e){this.keyCodeIsTriggerKey=t.keyCode===e.triggerKey,this.keyCodeIsSideBySideKey=t.keyCode===e.triggerSideBySideKey,this.hasTriggerModifier=IN(t,e.triggerModifier)}},xg=class{constructor(t,e,i,o){this.triggerKey=t,this.triggerModifier=e,this.triggerSideBySideKey=i,this.triggerSideBySideModifier=o}equals(t){return this.triggerKey===t.triggerKey&&this.triggerModifier===t.triggerModifier&&this.triggerSideBySideKey===t.triggerSideBySideKey&&this.triggerSideBySideModifier===t.triggerSideBySideModifier}};function CK(n){return n==="altKey"?fr?new xg(57,"metaKey",6,"altKey"):new xg(5,"ctrlKey",6,"altKey"):fr?new xg(6,"altKey",57,"metaKey"):new xg(6,"altKey",5,"ctrlKey")}var Vl=class extends U{constructor(t,e){super(),this._onMouseMoveOrRelevantKeyDown=this._register(new je),this.onMouseMoveOrRelevantKeyDown=this._onMouseMoveOrRelevantKeyDown.event,this._onExecute=this._register(new je),this.onExecute=this._onExecute.event,this._onCancel=this._register(new je),this.onCancel=this._onCancel.event,this._editor=t,this._extractLineNumberFromMouseEvent=e?.extractLineNumberFromMouseEvent??(i=>i.target.position?i.target.position.lineNumber:0),this._opts=CK(this._editor.getOption(78)),this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._register(this._editor.onDidChangeConfiguration(i=>{if(i.hasChanged(78)){let o=CK(this._editor.getOption(78));if(this._opts.equals(o))return;this._opts=o,this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._onCancel.fire()}})),this._register(this._editor.onMouseMove(i=>this._onEditorMouseMove(new Iy(i,this._opts)))),this._register(this._editor.onMouseDown(i=>this._onEditorMouseDown(new Iy(i,this._opts)))),this._register(this._editor.onMouseUp(i=>this._onEditorMouseUp(new Iy(i,this._opts)))),this._register(this._editor.onKeyDown(i=>this._onEditorKeyDown(new tE(i,this._opts)))),this._register(this._editor.onKeyUp(i=>this._onEditorKeyUp(new tE(i,this._opts)))),this._register(this._editor.onMouseDrag(()=>this._resetHandler())),this._register(this._editor.onDidChangeCursorSelection(i=>this._onDidChangeCursorSelection(i))),this._register(this._editor.onDidChangeModel(i=>this._resetHandler())),this._register(this._editor.onDidChangeModelContent(()=>this._resetHandler())),this._register(this._editor.onDidScrollChange(i=>{(i.scrollTopChanged||i.scrollLeftChanged)&&this._resetHandler()}))}_onDidChangeCursorSelection(t){t.selection&&t.selection.startColumn!==t.selection.endColumn&&this._resetHandler()}_onEditorMouseMove(t){this._lastMouseMoveEvent=t,this._onMouseMoveOrRelevantKeyDown.fire([t,null])}_onEditorMouseDown(t){this._hasTriggerKeyOnMouseDown=t.hasTriggerModifier,this._lineNumberOnMouseDown=this._extractLineNumberFromMouseEvent(t)}_onEditorMouseUp(t){let e=this._extractLineNumberFromMouseEvent(t);this._hasTriggerKeyOnMouseDown&&this._lineNumberOnMouseDown&&this._lineNumberOnMouseDown===e&&this._onExecute.fire(t)}_onEditorKeyDown(t){this._lastMouseMoveEvent&&(t.keyCodeIsTriggerKey||t.keyCodeIsSideBySideKey&&t.hasTriggerModifier)?this._onMouseMoveOrRelevantKeyDown.fire([this._lastMouseMoveEvent,t]):t.hasTriggerModifier&&this._onCancel.fire()}_onEditorKeyUp(t){t.keyCodeIsTriggerKey&&this._onCancel.fire()}_resetHandler(){this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._onCancel.fire()}};Bt();ue();hi();qe();Ih();Ln();var Ey=class{constructor(t,e){this.range=t,this.direction=e}},EN=class n{constructor(t,e,i){this.hint=t,this.anchor=e,this.provider=i,this._isResolved=!1}with(t){let e=new n(this.hint,t.anchor,this.provider);return e._isResolved=this._isResolved,e._currentResolve=this._currentResolve,e}resolve(t){return M(this,null,function*(){if(typeof this.provider.resolveInlayHint=="function"){if(this._currentResolve)return yield this._currentResolve,t.isCancellationRequested?void 0:this.resolve(t);this._isResolved||(this._currentResolve=this._doResolve(t).finally(()=>this._currentResolve=void 0)),yield this._currentResolve}})}_doResolve(t){return M(this,null,function*(){try{let e=yield Promise.resolve(this.provider.resolveInlayHint(this.hint,t));this.hint.tooltip=e?.tooltip??this.hint.tooltip,this.hint.label=e?.label??this.hint.label,this.hint.textEdits=e?.textEdits??this.hint.textEdits,this._isResolved=!0}catch(e){zt(e),this._isResolved=!1}})}},My=class n{static{this._emptyInlayHintList=Object.freeze({dispose(){},hints:[]})}static create(t,e,i,o){return M(this,null,function*(){let r=[],s=t.ordered(e).reverse().map(a=>i.map(l=>M(this,null,function*(){try{let c=yield a.provideInlayHints(e,l,o);(c?.hints.length||a.onDidChangeInlayHints)&&r.push([c??n._emptyInlayHintList,a])}catch(c){zt(c)}})));if(yield Promise.all(s.flat()),o.isCancellationRequested||e.isDisposed())throw new kd;return new n(i,r,e)})}constructor(t,e,i){this._disposables=new G,this.ranges=t,this.provider=new Set;let o=[];for(let[r,s]of e){this._disposables.add(r),this.provider.add(s);for(let a of r.hints){let l=i.validatePosition(a.position),c="before",d=n._getRangeAtPosition(i,l),u;d.getStartPosition().isBefore(l)?(u=A.fromPositions(d.getStartPosition(),l),c="after"):(u=A.fromPositions(l,d.getEndPosition()),c="before"),o.push(new EN(a,new Ey(u,c),s))}}this.items=o.sort((r,s)=>pe.compare(r.hint.position,s.hint.position))}dispose(){this._disposables.dispose()}static _getRangeAtPosition(t,e){let i=e.lineNumber,o=t.getWordAtPosition(e);if(o)return new A(i,o.startColumn,i,o.endColumn);t.tokenization.tokenizeIfCheap(i);let r=t.tokenization.getLineTokens(i),s=e.column-1,a=r.findTokenIndexAtOffset(s),l=r.getStartOffset(a),c=r.getEndOffset(a);return c-l===1&&(l===s&&a>1?(l=r.getStartOffset(a-1),c=r.getEndOffset(a-1)):c===s&&a<r.getCount()-1&&(l=r.getStartOffset(a+1),c=r.getEndOffset(a+1))),new A(i,l+1,i,c+1)}};function SK(n){return mt.from({scheme:Fn.command,path:n.id,query:n.arguments&&encodeURIComponent(JSON.stringify(n.arguments))}).toString()}_t();Th();bi();qe();vl();Ht();bc();ro();Ln();Bh();it();Uo();sR();Uo();rr();Lt();qi();pt();Ot();Oo();var nye=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},ed=function(n,t){return function(e,i){t(e,i,n)}},Io=class extends C8{constructor(t,e,i,o,r,s,a,l,c,d,u,h,m){super(t,Ae(j({},o.getRawOptions()),{overflowWidgetsDomNode:o.getOverflowWidgetsDomNode()}),i,r,s,a,l,c,d,u,h,m),this._parentEditor=o,this._overwriteOptions=e,super.updateOptions(this._overwriteOptions),this._register(o.onDidChangeConfiguration(f=>this._onParentConfigurationChanged(f)))}getParentEditor(){return this._parentEditor}_onParentConfigurationChanged(t){super.updateOptions(this._parentEditor.getRawOptions()),super.updateOptions(this._overwriteOptions)}updateOptions(t){bp(this._overwriteOptions,t,!0),super.updateOptions(this._overwriteOptions)}};Io=nye([ed(4,Me),ed(5,Zt),ed(6,di),ed(7,Ze),ed(8,Gn),ed(9,Hi),ed(10,zd),ed(11,yi),ed(12,ce)],Io);hi();qe();Kt();vn();Ht();Bt();bc();ue();Uo();hi();qe();_t();Th();Wn();nr();xl();oi();sR();it();Uo();_t();xl();ue();sR();qe();wn();var IK=new It(new Fa(0,122,204)),oye={showArrow:!0,showFrame:!0,className:"",frameColor:IK,arrowColor:IK,keepEditorSelection:!1},rye="vs.editor.contrib.zoneWidget",MN=class{constructor(t,e,i,o,r,s,a,l){this.id="",this.domNode=t,this.afterLineNumber=e,this.afterColumn=i,this.heightInLines=o,this.showInHiddenAreas=a,this.ordinal=l,this._onDomNodeTop=r,this._onComputedHeight=s}onDomNodeTop(t){this._onDomNodeTop(t)}onComputedHeight(t){this._onComputedHeight(t)}},kN=class{constructor(t,e){this._id=t,this._domNode=e}getId(){return this._id}getDomNode(){return this._domNode}getPosition(){return null}},TN=class n{static{this._IdGenerator=new dU(".arrow-decoration-")}constructor(t){this._editor=t,this._ruleName=n._IdGenerator.nextId(),this._decorations=this._editor.createDecorationsCollection(),this._color=null,this._height=-1}dispose(){this.hide(),bR(this._ruleName)}set color(t){this._color!==t&&(this._color=t,this._updateStyle())}set height(t){this._height!==t&&(this._height=t,this._updateStyle())}_updateStyle(){bR(this._ruleName),V4(`.monaco-editor ${this._ruleName}`,`border-style: solid; border-color: transparent; border-bottom-color: ${this._color}; border-width: ${this._height}px; bottom: -${this._height}px !important; margin-left: -${this._height}px; `)}show(t){t.column===1&&(t={lineNumber:t.lineNumber,column:2}),this._decorations.set([{range:A.fromPositions(t),options:{description:"zone-widget-arrow",className:this._ruleName,stickiness:1}}])}hide(){this._decorations.clear()}},iE=class{constructor(t,e={}){this._arrow=null,this._overlayWidget=null,this._resizeSash=null,this._viewZone=null,this._disposables=new G,this.container=null,this._isShowing=!1,this.editor=t,this._positionMarkerId=this.editor.createDecorationsCollection(),this.options=Qj(e),bp(this.options,oye,!1),this.domNode=document.createElement("div"),this.options.isAccessible||(this.domNode.setAttribute("aria-hidden","true"),this.domNode.setAttribute("role","presentation")),this._disposables.add(this.editor.onDidLayoutChange(i=>{let o=this._getWidth(i);this.domNode.style.width=o+"px",this.domNode.style.left=this._getLeft(i)+"px",this._onWidth(o)}))}dispose(){this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._viewZone&&this.editor.changeViewZones(t=>{this._viewZone&&t.removeZone(this._viewZone.id),this._viewZone=null}),this._positionMarkerId.clear(),this._disposables.dispose()}create(){this.domNode.classList.add("zone-widget"),this.options.className&&this.domNode.classList.add(this.options.className),this.container=document.createElement("div"),this.container.classList.add("zone-widget-container"),this.domNode.appendChild(this.container),this.options.showArrow&&(this._arrow=new TN(this.editor),this._disposables.add(this._arrow)),this._fillContainer(this.container),this._initSash(),this._applyStyles()}style(t){t.frameColor&&(this.options.frameColor=t.frameColor),t.arrowColor&&(this.options.arrowColor=t.arrowColor),this._applyStyles()}_applyStyles(){if(this.container&&this.options.frameColor){let t=this.options.frameColor.toString();this.container.style.borderTopColor=t,this.container.style.borderBottomColor=t}if(this._arrow&&this.options.arrowColor){let t=this.options.arrowColor.toString();this._arrow.color=t}}_getWidth(t){return t.width-t.minimap.minimapWidth-t.verticalScrollbarWidth}_getLeft(t){return t.minimap.minimapWidth>0&&t.minimap.minimapLeft===0?t.minimap.minimapWidth:0}_onViewZoneTop(t){this.domNode.style.top=t+"px"}_onViewZoneHeight(t){if(this.domNode.style.height=`${t}px`,this.container){let e=t-this._decoratingElementsHeight();this.container.style.height=`${e}px`;let i=this.editor.getLayoutInfo();this._doLayout(e,this._getWidth(i))}this._resizeSash?.layout()}get position(){let t=this._positionMarkerId.getRange(0);if(t)return t.getStartPosition()}show(t,e){let i=A.isIRange(t)?A.lift(t):A.fromPositions(t);this._isShowing=!0,this._showImpl(i,e),this._isShowing=!1,this._positionMarkerId.set([{range:i,options:lt.EMPTY}])}hide(){this._viewZone&&(this.editor.changeViewZones(t=>{this._viewZone&&t.removeZone(this._viewZone.id)}),this._viewZone=null),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._arrow?.hide(),this._positionMarkerId.clear()}_decoratingElementsHeight(){let t=this.editor.getOption(67),e=0;if(this.options.showArrow){let i=Math.round(t/3);e+=2*i}if(this.options.showFrame){let i=Math.round(t/9);e+=2*i}return e}_showImpl(t,e){let i=t.getStartPosition(),o=this.editor.getLayoutInfo(),r=this._getWidth(o);this.domNode.style.width=`${r}px`,this.domNode.style.left=this._getLeft(o)+"px";let s=document.createElement("div");s.style.overflow="hidden";let a=this.editor.getOption(67);if(!this.options.allowUnlimitedHeight){let h=Math.max(12,this.editor.getLayoutInfo().height/a*.8);e=Math.min(e,h)}let l=0,c=0;if(this._arrow&&this.options.showArrow&&(l=Math.round(a/3),this._arrow.height=l,this._arrow.show(i)),this.options.showFrame&&(c=Math.round(a/9)),this.editor.changeViewZones(h=>{this._viewZone&&h.removeZone(this._viewZone.id),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this.domNode.style.top="-1000px",this._viewZone=new MN(s,i.lineNumber,i.column,e,m=>this._onViewZoneTop(m),m=>this._onViewZoneHeight(m),this.options.showInHiddenAreas,this.options.ordinal),this._viewZone.id=h.addZone(this._viewZone),this._overlayWidget=new kN(rye+this._viewZone.id,this.domNode),this.editor.addOverlayWidget(this._overlayWidget)}),this.container&&this.options.showFrame){let h=this.options.frameWidth?this.options.frameWidth:c;this.container.style.borderTopWidth=h+"px",this.container.style.borderBottomWidth=h+"px"}let d=e*a-this._decoratingElementsHeight();this.container&&(this.container.style.top=l+"px",this.container.style.height=d+"px",this.container.style.overflow="hidden"),this._doLayout(d,r),this.options.keepEditorSelection||this.editor.setSelection(t);let u=this.editor.getModel();if(u){let h=u.validateRange(new A(t.startLineNumber,1,t.endLineNumber+1,1));this.revealRange(h,h.startLineNumber===u.getLineCount())}}revealRange(t,e){e?this.editor.revealLineNearTop(t.endLineNumber,0):this.editor.revealRange(t,0)}setCssClass(t,e){this.container&&(e&&this.container.classList.remove(e),this.container.classList.add(t))}_onWidth(t){}_doLayout(t,e){}_relayout(t){this._viewZone&&this._viewZone.heightInLines!==t&&this.editor.changeViewZones(e=>{this._viewZone&&(this._viewZone.heightInLines=t,e.layoutZone(this._viewZone.id))})}_initSash(){if(this._resizeSash)return;this._resizeSash=this._disposables.add(new Fc(this.domNode,this,{orientation:1})),this.options.isResizeable||(this._resizeSash.state=0);let t;this._disposables.add(this._resizeSash.onDidStart(e=>{this._viewZone&&(t={startY:e.startY,heightInLines:this._viewZone.heightInLines})})),this._disposables.add(this._resizeSash.onDidEnd(()=>{t=void 0})),this._disposables.add(this._resizeSash.onDidChange(e=>{if(t){let i=(e.currentY-t.startY)/this.editor.getOption(67),o=i<0?Math.ceil(i):Math.floor(i),r=t.heightInLines+o;r>5&&r<35&&this._relayout(r)}}))}getHorizontalSashLeft(){return 0}getHorizontalSashTop(){return(this.domNode.style.height===null?0:parseInt(this.domNode.style.height))-this._decoratingElementsHeight()/2}getHorizontalSashWidth(){let t=this.editor.getLayoutInfo();return t.width-t.minimap.minimapWidth}};Re();pt();Sc();Ot();Po();var EK=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},MK=function(n,t){return function(e,i){t(e,i,n)}},AN=jo("IPeekViewService");qo(AN,class{constructor(){this._widgets=new Map}addExclusiveWidget(n,t){let e=this._widgets.get(n);e&&(e.listener.dispose(),e.widget.dispose());let i=()=>{let o=this._widgets.get(n);o&&o.widget===t&&(o.listener.dispose(),this._widgets.delete(n))};this._widgets.set(n,{widget:t,listener:t.onDidClose(i)})}},1);var Eo;(function(n){n.inPeekEditor=new ot("inReferenceSearchEditor",!0,_("inReferenceSearchEditor","Whether the current code editor is embedded inside peek")),n.notInPeekEditor=n.inPeekEditor.toNegated()})(Eo||(Eo={}));var nE=class{static{this.ID="editor.contrib.referenceController"}constructor(t,e){t instanceof Io&&Eo.inPeekEditor.bindTo(e)}dispose(){}};nE=EK([MK(1,Ze)],nE);Te(nE.ID,nE,0);function kK(n){let t=n.get(Zt).getFocusedCodeEditor();return t instanceof Io?t.getParentEditor():t}var sye={headerBackgroundColor:It.white,primaryHeadingColor:It.fromHex("#333333"),secondaryHeadingColor:It.fromHex("#6c6c6cb3")},Cg=class extends iE{constructor(t,e,i){super(t,e),this.instantiationService=i,this._onDidClose=new je,this.onDidClose=this._onDidClose.event,bp(this.options,sye,!1)}dispose(){this.disposed||(this.disposed=!0,super.dispose(),this._onDidClose.fire(this))}style(t){let e=this.options;t.headerBackgroundColor&&(e.headerBackgroundColor=t.headerBackgroundColor),t.primaryHeadingColor&&(e.primaryHeadingColor=t.primaryHeadingColor),t.secondaryHeadingColor&&(e.secondaryHeadingColor=t.secondaryHeadingColor),super.style(t)}_applyStyles(){super._applyStyles();let t=this.options;this._headElement&&t.headerBackgroundColor&&(this._headElement.style.backgroundColor=t.headerBackgroundColor.toString()),this._primaryHeading&&t.primaryHeadingColor&&(this._primaryHeading.style.color=t.primaryHeadingColor.toString()),this._secondaryHeading&&t.secondaryHeadingColor&&(this._secondaryHeading.style.color=t.secondaryHeadingColor.toString()),this._bodyElement&&t.frameColor&&(this._bodyElement.style.borderColor=t.frameColor.toString())}_fillContainer(t){this.setCssClass("peekview-widget"),this._headElement=ye(".head"),this._bodyElement=ye(".body"),this._fillHead(this._headElement),this._fillBody(this._bodyElement),t.appendChild(this._headElement),t.appendChild(this._bodyElement)}_fillHead(t,e){this._titleElement=ye(".peekview-title"),this.options.supportOnTitleClick&&(this._titleElement.classList.add("clickable"),vr(this._titleElement,"click",r=>this._onTitleClick(r))),Ce(this._headElement,this._titleElement),this._fillTitleIcon(this._titleElement),this._primaryHeading=ye("span.filename"),this._secondaryHeading=ye("span.dirname"),this._metaHeading=ye("span.meta"),Ce(this._titleElement,this._primaryHeading,this._secondaryHeading,this._metaHeading);let i=ye(".peekview-actions");Ce(this._headElement,i);let o=this._getActionBarOptions();this._actionbarWidget=new Nc(i,o),this._disposables.add(this._actionbarWidget),e||this._actionbarWidget.push(new bl("peekview.close",_("label.close","Close"),Dt.asClassName(Ge.close),!0,()=>(this.dispose(),Promise.resolve())),{label:!1,icon:!0})}_fillTitleIcon(t){}_getActionBarOptions(){return{actionViewItemProvider:VU.bind(void 0,this.instantiationService),orientation:0}}_onTitleClick(t){}setTitle(t,e){this._primaryHeading&&this._secondaryHeading&&(this._primaryHeading.innerText=t,this._primaryHeading.setAttribute("title",t),e?this._secondaryHeading.innerText=e:Rr(this._secondaryHeading))}setMetaTitle(t){this._metaHeading&&(t?(this._metaHeading.innerText=t,ir(this._metaHeading)):Ro(this._metaHeading))}_doLayout(t,e){if(!this._isShowing&&t<0){this.dispose();return}let i=Math.ceil(this.editor.getOption(67)*1.2),o=Math.round(t-(i+2));this._doLayoutHead(i,e),this._doLayoutBody(o,e)}_doLayoutHead(t,e){this._headElement&&(this._headElement.style.height=`${t}px`,this._headElement.style.lineHeight=this._headElement.style.height)}_doLayoutBody(t,e){this._bodyElement&&(this._bodyElement.style.height=`${t}px`)}};Cg=EK([MK(2,Me)],Cg);var TK=Pe("peekViewTitle.background",{dark:"#252526",light:"#F3F3F3",hcDark:It.black,hcLight:It.white},_("peekViewTitleBackground","Background color of the peek view title area.")),oE=Pe("peekViewTitleLabel.foreground",{dark:It.white,light:It.black,hcDark:It.white,hcLight:Oh},_("peekViewTitleForeground","Color of the peek view title.")),rE=Pe("peekViewTitleDescription.foreground",{dark:"#ccccccb3",light:"#616161",hcDark:"#FFFFFF99",hcLight:"#292929"},_("peekViewTitleInfoForeground","Color of the peek view title info.")),AK=Pe("peekView.border",{dark:Dv,light:Dv,hcDark:Zs,hcLight:Zs},_("peekViewBorder","Color of the peek view borders and arrow.")),RK=Pe("peekViewResult.background",{dark:"#252526",light:"#F3F3F3",hcDark:It.black,hcLight:It.white},_("peekViewResultsBackground","Background color of the peek view result list.")),_vt=Pe("peekViewResult.lineForeground",{dark:"#bbbbbb",light:"#646465",hcDark:It.white,hcLight:Oh},_("peekViewResultsMatchForeground","Foreground color for line nodes in the peek view result list.")),vvt=Pe("peekViewResult.fileForeground",{dark:It.white,light:"#1E1E1E",hcDark:It.white,hcLight:Oh},_("peekViewResultsFileForeground","Foreground color for file nodes in the peek view result list.")),bvt=Pe("peekViewResult.selectionBackground",{dark:"#3399ff33",light:"#3399ff33",hcDark:null,hcLight:null},_("peekViewResultsSelectionBackground","Background color of the selected entry in the peek view result list.")),yvt=Pe("peekViewResult.selectionForeground",{dark:It.white,light:"#6C6C6C",hcDark:It.white,hcLight:Oh},_("peekViewResultsSelectionForeground","Foreground color of the selected entry in the peek view result list.")),OK=Pe("peekViewEditor.background",{dark:"#001F33",light:"#F2F8FC",hcDark:It.black,hcLight:It.white},_("peekViewEditorBackground","Background color of the peek view editor.")),wvt=Pe("peekViewEditorGutter.background",OK,_("peekViewEditorGutterBackground","Background color of the gutter in the peek view editor.")),xvt=Pe("peekViewEditorStickyScroll.background",OK,_("peekViewEditorStickScrollBackground","Background color of sticky scroll in the peek view editor.")),Cvt=Pe("peekViewResult.matchHighlightBackground",{dark:"#ea5c004d",light:"#ea5c004d",hcDark:null,hcLight:null},_("peekViewResultsMatchHighlight","Match highlight color in the peek view result list.")),Svt=Pe("peekViewEditor.matchHighlightBackground",{dark:"#ff8f0099",light:"#f5d802de",hcDark:null,hcLight:null},_("peekViewEditorMatchHighlight","Match highlight color in the peek view editor.")),Dvt=Pe("peekViewEditor.matchHighlightBorder",{dark:null,light:null,hcDark:Sl,hcLight:Sl},_("peekViewEditorMatchHighlightBorder","Match highlight border in the peek view editor."));Re();qi();bn();pt();Ot();wR();Bt();oi();ue();Ic();Zr();zi();qe();Re();var Ps=class{constructor(t,e,i,o){this.isProviderFirst=t,this.parent=e,this.link=i,this._rangeCallback=o,this.id=uU.nextId()}get uri(){return this.link.uri}get range(){return this._range??this.link.targetSelectionRange??this.link.range}set range(t){this._range=t,this._rangeCallback(this)}get ariaMessage(){let t=this.parent.getPreview(this)?.preview(this.range);return t?_({key:"aria.oneReference.preview",comment:["Placeholders are: 0: filename, 1:line number, 2: column number, 3: preview snippet of source code"]},"{0} in {1} on line {2} at column {3}",t.value,yr(this.uri),this.range.startLineNumber,this.range.startColumn):_("aria.oneReference","in {0} on line {1} at column {2}",yr(this.uri),this.range.startLineNumber,this.range.startColumn)}},RN=class{constructor(t){this._modelReference=t}dispose(){this._modelReference.dispose()}preview(t,e=8){let i=this._modelReference.object.textEditorModel;if(!i)return;let{startLineNumber:o,startColumn:r,endLineNumber:s,endColumn:a}=t,l=i.getWordUntilPosition({lineNumber:o,column:r-e}),c=new A(o,l.startColumn,o,r),d=new A(s,a,s,1073741824),u=i.getValueInRange(c).replace(/^\s+/,""),h=i.getValueInRange(t),m=i.getValueInRange(d).replace(/\s+$/,"");return{value:u+h+m,highlight:{start:u.length,end:u.length+h.length}}}},td=class{constructor(t,e){this.parent=t,this.uri=e,this.children=[],this._previews=new La}dispose(){dn(this._previews.values()),this._previews.clear()}getPreview(t){return this._previews.get(t.uri)}get ariaMessage(){let t=this.children.length;return t===1?_("aria.fileReferences.1","1 symbol in {0}, full path {1}",yr(this.uri),this.uri.fsPath):_("aria.fileReferences.N","{0} symbols in {1}, full path {2}",t,yr(this.uri),this.uri.fsPath)}resolve(t){return M(this,null,function*(){if(this._previews.size!==0)return this;for(let e of this.children)if(!this._previews.has(e.uri))try{let i=yield t.createModelReference(e.uri);this._previews.set(e.uri,new RN(i))}catch(i){ht(i)}return this})}},Ir=class n{constructor(t,e){this.groups=[],this.references=[],this._onDidChangeReferenceRange=new je,this.onDidChangeReferenceRange=this._onDidChangeReferenceRange.event,this._links=t,this._title=e;let[i]=t;t.sort(n._compareReferences);let o;for(let r of t)if((!o||!NR.isEqual(o.uri,r.uri,!0))&&(o=new td(this,r.uri),this.groups.push(o)),o.children.length===0||n._compareReferences(r,o.children[o.children.length-1])!==0){let s=new Ps(i===r,o,r,a=>this._onDidChangeReferenceRange.fire(a));this.references.push(s),o.children.push(s)}}dispose(){dn(this.groups),this._onDidChangeReferenceRange.dispose(),this.groups.length=0}clone(){return new n(this._links,this._title)}get title(){return this._title}get isEmpty(){return this.groups.length===0}get ariaMessage(){return this.isEmpty?_("aria.result.0","No results found"):this.references.length===1?_("aria.result.1","Found 1 symbol in {0}",this.references[0].uri.fsPath):this.groups.length===1?_("aria.result.n1","Found {0} symbols in {1}",this.references.length,this.groups[0].uri.fsPath):_("aria.result.nm","Found {0} symbols in {1} files",this.references.length,this.groups.length)}nextOrPreviousReference(t,e){let{parent:i}=t,o=i.children.indexOf(t),r=i.children.length,s=i.parent.groups.length;return s===1||e&&o+1<r||!e&&o>0?(e?o=(o+1)%r:o=(o+r-1)%r,i.children[o]):(o=i.parent.groups.indexOf(i),e?(o=(o+1)%s,i.parent.groups[o].children[0]):(o=(o+s-1)%s,i.parent.groups[o].children[i.parent.groups[o].children.length-1]))}nearestReference(t,e){let i=this.references.map((o,r)=>({idx:r,prefixLen:pl(o.uri.toString(),t.toString()),offsetDist:Math.abs(o.range.startLineNumber-e.lineNumber)*100+Math.abs(o.range.startColumn-e.column)})).sort((o,r)=>o.prefixLen>r.prefixLen?-1:o.prefixLen<r.prefixLen?1:o.offsetDist<r.offsetDist?-1:o.offsetDist>r.offsetDist?1:0)[0];if(i)return this.references[i.idx]}referenceAt(t,e){for(let i of this.references)if(i.uri.toString()===t.toString()&&A.containsPosition(i.range,e))return i}firstReference(){for(let t of this.references)if(t.isProviderFirst)return t;return this.references[0]}static _compareReferences(t,e){return NR.compare(t.uri,e.uri)||A.compareRangesUsingStarts(t.range,e.range)}};_t();xl();oi();ue();Ih();Zr();qe();wn();Vx();vl();_t();Rc();ue();Zr();vl();Re();Ot();var uE=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},hE=function(n,t){return function(e,i){t(e,i,n)}},ON,sE=class{constructor(t){this._resolverService=t}hasChildren(t){return t instanceof Ir||t instanceof td}getChildren(t){if(t instanceof Ir)return t.groups;if(t instanceof td)return t.resolve(this._resolverService).then(e=>e.children);throw new Error("bad tree")}};sE=uE([hE(0,so)],sE);var aE=class{getHeight(){return 23}getTemplateId(t){return t instanceof td?ky.id:NN.id}},lE=class{constructor(t){this._keybindingService=t}getKeyboardNavigationLabel(t){if(t instanceof Ps){let e=t.parent.getPreview(t)?.preview(t.range);if(e)return e.value}return yr(t.uri)}};lE=uE([hE(0,Vt)],lE);var cE=class{getId(t){return t instanceof Ps?t.id:t.uri}},PN=class extends U{constructor(t,e){super(),this._labelService=e;let i=document.createElement("div");i.classList.add("reference-file"),this.file=this._register(new CC(i,{supportHighlights:!0})),this.badge=new e8(Ce(i,ye(".count")),{},zU),t.appendChild(i)}set(t,e){let i=Np(t.uri);this.file.setLabel(this._labelService.getUriBasenameLabel(t.uri),this._labelService.getUriLabel(i,{relative:!0}),{title:this._labelService.getUriLabel(t.uri),matches:e});let o=t.children.length;this.badge.setCount(o),o>1?this.badge.setTitleFormat(_("referencesCount","{0} references",o)):this.badge.setTitleFormat(_("referenceCount","{0} reference",o))}};PN=uE([hE(1,Oc)],PN);var ky=class{static{ON=this}static{this.id="FileReferencesRenderer"}constructor(e){this._instantiationService=e,this.templateId=ON.id}renderTemplate(e){return this._instantiationService.createInstance(PN,e)}renderElement(e,i,o){o.set(e.element,Ph(e.filterData))}disposeTemplate(e){e.dispose()}};ky=ON=uE([hE(0,Me)],ky);var LN=class extends U{constructor(t){super(),this.label=this._register(new c8(t))}set(t,e){let i=t.parent.getPreview(t)?.preview(t.range);if(!i||!i.value)this.label.set(`${yr(t.uri)}:${t.range.startLineNumber+1}:${t.range.startColumn+1}`);else{let{value:o,highlight:r}=i;e&&!Ac.isDefault(e)?(this.label.element.classList.toggle("referenceMatch",!1),this.label.set(o,Ph(e))):(this.label.element.classList.toggle("referenceMatch",!0),this.label.set(o,[r]))}}},NN=(()=>{class n{constructor(){this.templateId=n.id}static{this.id="OneReferenceRenderer"}renderTemplate(e){return new LN(e)}renderElement(e,i,o){o.set(e.element,e.filterData)}disposeTemplate(e){e.dispose()}}return n})(),dE=class{getWidgetAriaLabel(){return _("treeAriaLabel","References")}getAriaLabel(t){return t.ariaMessage}};Re();Ot();Oo();var lye=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},Sg=function(n,t){return function(e,i){t(e,i,n)}},FN=class n{static{this.DecorationOptions=lt.register({description:"reference-decoration",stickiness:1,className:"reference-decoration"})}constructor(t,e){this._editor=t,this._model=e,this._decorations=new Map,this._decorationIgnoreSet=new Set,this._callOnDispose=new G,this._callOnModelChange=new G,this._callOnDispose.add(this._editor.onDidChangeModel(()=>this._onModelChanged())),this._onModelChanged()}dispose(){this._callOnModelChange.dispose(),this._callOnDispose.dispose(),this.removeDecorations()}_onModelChanged(){this._callOnModelChange.clear();let t=this._editor.getModel();if(t){for(let e of this._model.references)if(e.uri.toString()===t.uri.toString()){this._addDecorations(e.parent);return}}}_addDecorations(t){if(!this._editor.hasModel())return;this._callOnModelChange.add(this._editor.getModel().onDidChangeDecorations(()=>this._onDecorationChanged()));let e=[],i=[];for(let o=0,r=t.children.length;o<r;o++){let s=t.children[o];this._decorationIgnoreSet.has(s.id)||s.uri.toString()===this._editor.getModel().uri.toString()&&(e.push({range:s.range,options:n.DecorationOptions}),i.push(o))}this._editor.changeDecorations(o=>{let r=o.deltaDecorations([],e);for(let s=0;s<r.length;s++)this._decorations.set(r[s],t.children[i[s]])})}_onDecorationChanged(){let t=[],e=this._editor.getModel();if(e){for(let[i,o]of this._decorations){let r=e.getDecorationRange(i);if(!r)continue;let s=!1;if(!A.equalsRange(r,o.range)){if(A.spansMultipleLines(r))s=!0;else{let a=o.range.endColumn-o.range.startColumn,l=r.endColumn-r.startColumn;a!==l&&(s=!0)}s?(this._decorationIgnoreSet.add(o.id),t.push(i)):o.range=r}}for(let i=0,o=t.length;i<o;i++)this._decorations.delete(t[i]);this._editor.removeDecorations(t)}}removeDecorations(){this._editor.removeDecorations([...this._decorations.keys()]),this._decorations.clear()}},mE=class{constructor(){this.ratio=.7,this.heightInLines=18}static fromJSON(t){let e,i;try{let o=JSON.parse(t);e=o.ratio,i=o.heightInLines}catch{}return{ratio:e||.7,heightInLines:i||18}}},zN=class extends l8{},pE=class extends Cg{constructor(t,e,i,o,r,s,a,l,c){super(t,{showFrame:!1,showArrow:!0,isResizeable:!0,isAccessible:!0,supportOnTitleClick:!0},s),this._defaultTreeKeyboardSupport=e,this.layoutData=i,this._textModelResolverService=r,this._instantiationService=s,this._peekViewService=a,this._uriLabel=l,this._keybindingService=c,this._disposeOnNewModel=new G,this._callOnDispose=new G,this._onDidSelectReference=new je,this.onDidSelectReference=this._onDidSelectReference.event,this._dim=new li(0,0),this._isClosing=!1,this._applyTheme(o.getColorTheme()),this._callOnDispose.add(o.onDidColorThemeChange(this._applyTheme.bind(this))),this._peekViewService.addExclusiveWidget(t,this),this.create()}get isClosing(){return this._isClosing}dispose(){this._isClosing=!0,this.setModel(void 0),this._callOnDispose.dispose(),this._disposeOnNewModel.dispose(),dn(this._preview),dn(this._previewNotAvailableMessage),dn(this._tree),dn(this._previewModelReference),this._splitView.dispose(),super.dispose()}_applyTheme(t){let e=t.getColor(AK)||It.transparent;this.style({arrowColor:e,frameColor:e,headerBackgroundColor:t.getColor(TK)||It.transparent,primaryHeadingColor:t.getColor(oE),secondaryHeadingColor:t.getColor(rE)})}show(t){super.show(t,this.layoutData.heightInLines||18)}focusOnReferenceTree(){this._tree.domFocus()}focusOnPreviewEditor(){this._preview.focus()}isPreviewEditorFocused(){return this._preview.hasTextFocus()}_onTitleClick(t){this._preview&&this._preview.getModel()&&this._onDidSelectReference.fire({element:this._getFocusedReference(),kind:t.ctrlKey||t.metaKey||t.altKey?"side":"open",source:"title"})}_fillBody(t){this.setCssClass("reference-zone-widget"),this._messageContainer=Ce(t,ye("div.messages")),Ro(this._messageContainer),this._splitView=new s8(t,{orientation:1}),this._previewContainer=Ce(t,ye("div.preview.inline"));let e={scrollBeyondLastLine:!1,scrollbar:{verticalScrollbarSize:14,horizontal:"auto",useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,alwaysConsumeMouseWheel:!0},overviewRulerLanes:2,fixedOverflowWidgets:!0,minimap:{enabled:!1}};this._preview=this._instantiationService.createInstance(Io,this._previewContainer,e,{},this.editor),Ro(this._previewContainer),this._previewNotAvailableMessage=this._instantiationService.createInstance(Ha,_("missingPreviewMessage","no preview available"),Dc,Ha.DEFAULT_CREATION_OPTIONS,null),this._treeContainer=Ce(t,ye("div.ref-tree.inline"));let i={keyboardSupport:this._defaultTreeKeyboardSupport,accessibilityProvider:new dE,keyboardNavigationLabelProvider:this._instantiationService.createInstance(lE),identityProvider:new cE,openOnSingleClick:!0,selectionNavigation:!0,overrideStyles:{listBackground:RK}};this._defaultTreeKeyboardSupport&&this._callOnDispose.add(vr(this._treeContainer,"keydown",r=>{r.equals(9)&&(this._keybindingService.dispatchEvent(r,r.target),r.stopPropagation())},!0)),this._tree=this._instantiationService.createInstance(zN,"ReferencesWidget",this._treeContainer,new aE,[this._instantiationService.createInstance(ky),this._instantiationService.createInstance(NN)],this._instantiationService.createInstance(sE),i),this._splitView.addView({onDidChange:xi.None,element:this._previewContainer,minimumSize:200,maximumSize:Number.MAX_VALUE,layout:r=>{this._preview.layout({height:this._dim.height,width:r})}},GR.Distribute),this._splitView.addView({onDidChange:xi.None,element:this._treeContainer,minimumSize:100,maximumSize:Number.MAX_VALUE,layout:r=>{this._treeContainer.style.height=`${this._dim.height}px`,this._treeContainer.style.width=`${r}px`,this._tree.layout(this._dim.height,r)}},GR.Distribute),this._disposables.add(this._splitView.onDidSashChange(()=>{this._dim.width&&(this.layoutData.ratio=this._splitView.getViewSize(0)/this._dim.width)},void 0));let o=(r,s)=>{r instanceof Ps&&(s==="show"&&this._revealReference(r,!1),this._onDidSelectReference.fire({element:r,kind:s,source:"tree"}))};this._disposables.add(this._tree.onDidOpen(r=>{r.sideBySide?o(r.element,"side"):r.editorOptions.pinned?o(r.element,"goto"):o(r.element,"show")})),Ro(this._treeContainer)}_onWidth(t){this._dim&&this._doLayoutBody(this._dim.height,t)}_doLayoutBody(t,e){super._doLayoutBody(t,e),this._dim=new li(e,t),this.layoutData.heightInLines=this._viewZone?this._viewZone.heightInLines:this.layoutData.heightInLines,this._splitView.layout(e),this._splitView.resizeView(0,e*this.layoutData.ratio)}setSelection(t){return this._revealReference(t,!0).then(()=>{this._model&&(this._tree.setSelection([t]),this._tree.setFocus([t]))})}setModel(t){return this._disposeOnNewModel.clear(),this._model=t,this._model?this._onNewModel():Promise.resolve()}_onNewModel(){return this._model?this._model.isEmpty?(this.setTitle(""),this._messageContainer.innerText=_("noResults","No results"),ir(this._messageContainer),Promise.resolve(void 0)):(Ro(this._messageContainer),this._decorationsManager=new FN(this._preview,this._model),this._disposeOnNewModel.add(this._decorationsManager),this._disposeOnNewModel.add(this._model.onDidChangeReferenceRange(t=>this._tree.rerender(t))),this._disposeOnNewModel.add(this._preview.onMouseDown(t=>{let{event:e,target:i}=t;if(e.detail!==2)return;let o=this._getFocusedReference();o&&this._onDidSelectReference.fire({element:{uri:o.uri,range:i.range},kind:e.ctrlKey||e.metaKey||e.altKey?"side":"open",source:"editor"})})),this.container.classList.add("results-loaded"),ir(this._treeContainer),ir(this._previewContainer),this._splitView.layout(this._dim.width),this.focusOnReferenceTree(),this._tree.setInput(this._model.groups.length===1?this._model.groups[0]:this._model)):Promise.resolve(void 0)}_getFocusedReference(){let[t]=this._tree.getFocus();if(t instanceof Ps)return t;if(t instanceof td&&t.children.length>0)return t.children[0]}revealReference(t){return M(this,null,function*(){yield this._revealReference(t,!1),this._onDidSelectReference.fire({element:t,kind:"goto",source:"tree"})})}_revealReference(t,e){return M(this,null,function*(){if(this._revealedReference===t)return;this._revealedReference=t,t.uri.scheme!==Fn.inMemory?this.setTitle(sU(t.uri),this._uriLabel.getUriLabel(Np(t.uri))):this.setTitle(_("peekView.alternateTitle","References"));let i=this._textModelResolverService.createModelReference(t.uri);this._tree.getInput()===t.parent?this._tree.reveal(t):(e&&this._tree.reveal(t.parent),yield this._tree.expand(t.parent),this._tree.reveal(t));let o=yield i;if(!this._model){o.dispose();return}dn(this._previewModelReference);let r=o.object;if(r){let s=this._preview.getModel()===r.textEditorModel?0:1,a=A.lift(t.range).collapseToStart();this._previewModelReference=o,this._preview.setModel(r.textEditorModel),this._preview.setSelection(a),this._preview.revealRangeInCenter(a,s)}else this._preview.setModel(this._previewNotAvailableMessage),o.dispose()})}};pE=lye([Sg(3,Gn),Sg(4,so),Sg(5,Me),Sg(6,AN),Sg(7,Oc),Sg(8,Vt)],pE);Kt();var cye=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},Dg=function(n,t){return function(e,i){t(e,i,n)}},fE,Sm=new ot("referenceSearchVisible",!1,_("referenceSearchVisible","Whether reference peek is visible, like 'Peek References' or 'Peek Definition'")),id=class{static{fE=this}static{this.ID="editor.contrib.referencesController"}static get(e){return e.getContribution(fE.ID)}constructor(e,i,o,r,s,a,l,c){this._defaultTreeKeyboardSupport=e,this._editor=i,this._editorService=r,this._notificationService=s,this._instantiationService=a,this._storageService=l,this._configurationService=c,this._disposables=new G,this._requestIdPool=0,this._ignoreModelChangeEvent=!1,this._referenceSearchVisible=Sm.bindTo(o)}dispose(){this._referenceSearchVisible.reset(),this._disposables.dispose(),this._widget?.dispose(),this._model?.dispose(),this._widget=void 0,this._model=void 0}toggleWidget(e,i,o){let r;if(this._widget&&(r=this._widget.position),this.closeWidget(),r&&e.containsPosition(r))return;this._peekMode=o,this._referenceSearchVisible.set(!0),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>{this.closeWidget()})),this._disposables.add(this._editor.onDidChangeModel(()=>{this._ignoreModelChangeEvent||this.closeWidget()}));let s="peekViewLayout",a=mE.fromJSON(this._storageService.get(s,0,"{}"));this._widget=this._instantiationService.createInstance(pE,this._editor,this._defaultTreeKeyboardSupport,a),this._widget.setTitle(_("labelLoading","Loading...")),this._widget.show(e),this._disposables.add(this._widget.onDidClose(()=>{i.cancel(),this._widget?(this._storageService.store(s,JSON.stringify(this._widget.layoutData),0,1),this._widget.isClosing||this.closeWidget(),this._widget=void 0):this.closeWidget()})),this._disposables.add(this._widget.onDidSelectReference(c=>{let{element:d,kind:u}=c;if(d)switch(u){case"open":(c.source!=="editor"||!this._configurationService.getValue("editor.stablePeek"))&&this.openReference(d,!1,!1);break;case"side":this.openReference(d,!0,!1);break;case"goto":o?this._gotoReference(d,!0):this.openReference(d,!1,!0);break}}));let l=++this._requestIdPool;i.then(c=>{if(l!==this._requestIdPool||!this._widget){c.dispose();return}return this._model?.dispose(),this._model=c,this._widget.setModel(this._model).then(()=>{if(this._widget&&this._model&&this._editor.hasModel()){this._model.isEmpty?this._widget.setMetaTitle(""):this._widget.setMetaTitle(_("metaTitle.N","{0} ({1})",this._model.title,this._model.references.length));let d=this._editor.getModel().uri,u=new pe(e.startLineNumber,e.startColumn),h=this._model.nearestReference(d,u);if(h)return this._widget.setSelection(h).then(()=>{this._widget&&this._editor.getOption(87)==="editor"&&this._widget.focusOnPreviewEditor()})}})},c=>{this._notificationService.error(c)})}changeFocusBetweenPreviewAndReferences(){this._widget&&(this._widget.isPreviewEditorFocused()?this._widget.focusOnReferenceTree():this._widget.focusOnPreviewEditor())}goToNextOrPreviousReference(e){return M(this,null,function*(){if(!this._editor.hasModel()||!this._model||!this._widget)return;let i=this._widget.position;if(!i)return;let o=this._model.nearestReference(this._editor.getModel().uri,i);if(!o)return;let r=this._model.nextOrPreviousReference(o,e),s=this._editor.hasTextFocus(),a=this._widget.isPreviewEditorFocused();yield this._widget.setSelection(r),yield this._gotoReference(r,!1),s?this._editor.focus():this._widget&&a&&this._widget.focusOnPreviewEditor()})}revealReference(e){return M(this,null,function*(){!this._editor.hasModel()||!this._model||!this._widget||(yield this._widget.revealReference(e))})}closeWidget(e=!0){this._widget?.dispose(),this._model?.dispose(),this._referenceSearchVisible.reset(),this._disposables.clear(),this._widget=void 0,this._model=void 0,e&&this._editor.focus(),this._requestIdPool+=1}_gotoReference(e,i){this._widget?.hide(),this._ignoreModelChangeEvent=!0;let o=A.lift(e.range).collapseToStart();return this._editorService.openCodeEditor({resource:e.uri,options:{selection:o,selectionSource:"code.jump",pinned:i}},this._editor).then(r=>{if(this._ignoreModelChangeEvent=!1,!r||!this._widget){this.closeWidget();return}if(this._editor===r)this._widget.show(o),this._widget.focusOnReferenceTree();else{let s=fE.get(r),a=this._model.clone();this.closeWidget(),r.focus(),s?.toggleWidget(o,Ci(l=>Promise.resolve(a)),this._peekMode??!1)}},r=>{this._ignoreModelChangeEvent=!1,ht(r)})}openReference(e,i,o){i||this.closeWidget();let{uri:r,range:s}=e;this._editorService.openCodeEditor({resource:r,options:{selection:s,selectionSource:"code.jump",pinned:o}},this._editor,i)}};id=fE=cye([Dg(2,Ze),Dg(3,Zt),Dg(4,Hi),Dg(5,Me),Dg(6,Fr),Dg(7,vt)],id);function Dm(n,t){let e=kK(n);if(!e)return;let i=id.get(e);i&&t(i)}ys.registerCommandAndKeybindingRule({id:"togglePeekWidgetFocus",weight:100,primary:Pi(2089,60),when:K.or(Sm,Eo.inPeekEditor),handler(n){Dm(n,t=>{t.changeFocusBetweenPreviewAndReferences()})}});ys.registerCommandAndKeybindingRule({id:"goToNextReference",weight:90,primary:62,secondary:[70],when:K.or(Sm,Eo.inPeekEditor),handler(n){Dm(n,t=>{t.goToNextOrPreviousReference(!0)})}});ys.registerCommandAndKeybindingRule({id:"goToPreviousReference",weight:90,primary:1086,secondary:[1094],when:K.or(Sm,Eo.inPeekEditor),handler(n){Dm(n,t=>{t.goToNextOrPreviousReference(!1)})}});Pt.registerCommandAlias("goToNextReferenceFromEmbeddedEditor","goToNextReference");Pt.registerCommandAlias("goToPreviousReferenceFromEmbeddedEditor","goToPreviousReference");Pt.registerCommandAlias("closeReferenceSearchEditor","closeReferenceSearch");Pt.registerCommand("closeReferenceSearch",n=>Dm(n,t=>t.closeWidget()));ys.registerKeybindingRule({id:"closeReferenceSearch",weight:-1,primary:9,secondary:[1033],when:K.and(Eo.inPeekEditor,K.not("config.editor.stablePeek"))});ys.registerKeybindingRule({id:"closeReferenceSearch",weight:250,primary:9,secondary:[1033],when:K.and(Sm,K.not("config.editor.stablePeek"),K.or(T.editorTextFocus,a8.negate()))});ys.registerCommandAndKeybindingRule({id:"revealReference",weight:200,primary:3,mac:{primary:3,secondary:[2066]},when:K.and(Sm,KR,YR.negate(),XR.negate()),handler(n){let e=n.get(xC).lastFocusedList?.getFocus();Array.isArray(e)&&e[0]instanceof Ps&&Dm(n,i=>i.revealReference(e[0]))}});ys.registerCommandAndKeybindingRule({id:"openReferenceToSide",weight:100,primary:2051,mac:{primary:259},when:K.and(Sm,KR,YR.negate(),XR.negate()),handler(n){let e=n.get(xC).lastFocusedList?.getFocus();Array.isArray(e)&&e[0]instanceof Ps&&Dm(n,i=>i.openReference(e[0],!0,!0))}});Pt.registerCommand("openReference",n=>{let e=n.get(xC).lastFocusedList?.getFocus();Array.isArray(e)&&e[0]instanceof Ps&&Dm(n,i=>i.openReference(e[0],!1,!0))});oi();ue();Zr();it();Uo();qe();Re();pt();Sc();Ot();wR();var PK=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},Ty=function(n,t){return function(e,i){t(e,i,n)}},VN=new ot("hasSymbols",!1,_("hasSymbols","Whether there are symbol locations that can be navigated via keyboard-only.")),Ay=jo("ISymbolNavigationService"),BN=class{constructor(t,e,i,o){this._editorService=e,this._notificationService=i,this._keybindingService=o,this._currentModel=void 0,this._currentIdx=-1,this._ignoreEditorChange=!1,this._ctxHasSymbols=VN.bindTo(t)}reset(){this._ctxHasSymbols.reset(),this._currentState?.dispose(),this._currentMessage?.dispose(),this._currentModel=void 0,this._currentIdx=-1}put(t){let e=t.parent.parent;if(e.references.length<=1){this.reset();return}this._currentModel=e,this._currentIdx=e.references.indexOf(t),this._ctxHasSymbols.set(!0),this._showMessage();let i=new HN(this._editorService),o=i.onDidChange(r=>{if(this._ignoreEditorChange)return;let s=this._editorService.getActiveCodeEditor();if(!s)return;let a=s.getModel(),l=s.getPosition();if(!a||!l)return;let c=!1,d=!1;for(let u of e.references)if(Lh(u.uri,a.uri))c=!0,d=d||A.containsPosition(u.range,l);else if(c)break;(!c||!d)&&this.reset()});this._currentState=lR(i,o)}revealNext(t){if(!this._currentModel)return Promise.resolve();this._currentIdx+=1,this._currentIdx%=this._currentModel.references.length;let e=this._currentModel.references[this._currentIdx];return this._showMessage(),this._ignoreEditorChange=!0,this._editorService.openCodeEditor({resource:e.uri,options:{selection:A.collapseToStart(e.range),selectionRevealType:3}},t).finally(()=>{this._ignoreEditorChange=!1})}_showMessage(){this._currentMessage?.dispose();let t=this._keybindingService.lookupKeybinding("editor.gotoNextSymbolFromResult"),e=t?_("location.kb","Symbol {0} of {1}, {2} for next",this._currentIdx+1,this._currentModel.references.length,t.getLabel()):_("location","Symbol {0} of {1}",this._currentIdx+1,this._currentModel.references.length);this._currentMessage=this._notificationService.status(e)}};BN=PK([Ty(0,Ze),Ty(1,Zt),Ty(2,Hi),Ty(3,Vt)],BN);qo(Ay,BN,1);ze(new class extends Ki{constructor(){super({id:"editor.gotoNextSymbolFromResult",precondition:VN,kbOpts:{weight:100,primary:70}})}runEditorCommand(n,t){return n.get(Ay).revealNext(t)}});ys.registerCommandAndKeybindingRule({id:"editor.gotoNextSymbolFromResult.cancel",weight:100,when:VN,primary:9,handler(n){n.get(Ay).reset()}});var HN=class{constructor(t){this._listener=new Map,this._disposables=new G,this._onDidChange=new je,this.onDidChange=this._onDidChange.event,this._disposables.add(t.onCodeEditorRemove(this._onDidRemoveEditor,this)),this._disposables.add(t.onCodeEditorAdd(this._onDidAddEditor,this)),t.listCodeEditors().forEach(this._onDidAddEditor,this)}dispose(){this._disposables.dispose(),this._onDidChange.dispose(),dn(this._listener.values())}_onDidAddEditor(t){this._listener.set(t,lR(t.onDidChangeCursorPosition(e=>this._onDidChange.fire({editor:t})),t.onDidChangeModelContent(e=>this._onDidChange.fire({editor:t}))))}_onDidRemoveEditor(t){this._listener.get(t)?.dispose(),this._listener.delete(t)}};HN=PK([Ty(0,Zt)],HN);Re();$i();qi();pt();Ot();Oi();bi();Bt();Ih();it();Lt();function WN(n,t){return t.uri.scheme===n.uri.scheme?!0:!A4(t.uri,Fn.walkThroughSnippet,Fn.vscodeChatCodeBlock,Fn.vscodeChatCodeCompareBlock)}function Ry(n,t,e,i,o){return M(this,null,function*(){let s=e.ordered(n,i).map(l=>Promise.resolve(o(l,n,t)).then(void 0,c=>{zt(c)})),a=yield Promise.all(s);return er(a.flat()).filter(l=>WN(n,l))})}function Mu(n,t,e,i,o){return Ry(t,e,n,i,(r,s,a)=>r.provideDefinition(s,a,o))}function gE(n,t,e,i,o){return Ry(t,e,n,i,(r,s,a)=>r.provideDeclaration(s,a,o))}function _E(n,t,e,i,o){return Ry(t,e,n,i,(r,s,a)=>r.provideImplementation(s,a,o))}function vE(n,t,e,i,o){return Ry(t,e,n,i,(r,s,a)=>r.provideTypeDefinition(s,a,o))}function Ig(n,t,e,i,o,r){return Ry(t,e,n,o,(s,a,l)=>M(this,null,function*(){let c=(yield s.provideReferences(a,l,{includeDeclaration:!0},r))?.filter(u=>WN(a,u));if(!i||!c||c.length!==2)return c;let d=(yield s.provideReferences(a,l,{includeDeclaration:!1},r))?.filter(u=>WN(a,u));return d&&d.length===1?d:c}))}function Wl(n){return M(this,null,function*(){let t=yield n(),e=new Ir(t,""),i=e.references.map(o=>o.link);return e.dispose(),i})}ao("_executeDefinitionProvider",(n,t,e)=>{let i=n.get(ce),o=Mu(i.definitionProvider,t,e,!1,Qe.None);return Wl(()=>o)});ao("_executeDefinitionProvider_recursive",(n,t,e)=>{let i=n.get(ce),o=Mu(i.definitionProvider,t,e,!0,Qe.None);return Wl(()=>o)});ao("_executeTypeDefinitionProvider",(n,t,e)=>{let i=n.get(ce),o=vE(i.typeDefinitionProvider,t,e,!1,Qe.None);return Wl(()=>o)});ao("_executeTypeDefinitionProvider_recursive",(n,t,e)=>{let i=n.get(ce),o=vE(i.typeDefinitionProvider,t,e,!0,Qe.None);return Wl(()=>o)});ao("_executeDeclarationProvider",(n,t,e)=>{let i=n.get(ce),o=gE(i.declarationProvider,t,e,!1,Qe.None);return Wl(()=>o)});ao("_executeDeclarationProvider_recursive",(n,t,e)=>{let i=n.get(ce),o=gE(i.declarationProvider,t,e,!0,Qe.None);return Wl(()=>o)});ao("_executeReferenceProvider",(n,t,e)=>{let i=n.get(ce),o=Ig(i.referenceProvider,t,e,!1,!1,Qe.None);return Wl(()=>o)});ao("_executeReferenceProvider_recursive",(n,t,e)=>{let i=n.get(ce),o=Ig(i.referenceProvider,t,e,!1,!0,Qe.None);return Wl(()=>o)});ao("_executeImplementationProvider",(n,t,e)=>{let i=n.get(ce),o=_E(i.implementationProvider,t,e,!1,Qe.None);return Wl(()=>o)});ao("_executeImplementationProvider_recursive",(n,t,e)=>{let i=n.get(ce),o=_E(i.implementationProvider,t,e,!0,Qe.None);return Wl(()=>o)});Lt();dv();or.appendMenuItem(be.EditorContext,{submenu:be.EditorContextPeek,title:_("peek.submenu","Peek"),group:"navigation",order:100});var Im=class n{static is(t){return!t||typeof t!="object"?!1:!!(t instanceof n||pe.isIPosition(t.position)&&t.model)}constructor(t,e){this.model=t,this.position=e}},jl=class n extends Pr{static{this._allSymbolNavigationCommands=new Map}static{this._activeAlternativeCommands=new Set}static all(){return n._allSymbolNavigationCommands.values()}static _patchConfig(t){let e=Ae(j({},t),{f1:!0});if(e.menu)for(let i of Xr.wrap(e.menu))(i.id===be.EditorContext||i.id===be.EditorContextPeek)&&(i.when=K.and(t.precondition,i.when));return e}constructor(t,e){super(n._patchConfig(e)),this.configuration=t,n._allSymbolNavigationCommands.set(e.id,this)}runEditorCommand(t,e,i,o){if(!e.hasModel())return Promise.resolve(void 0);let r=t.get(Hi),s=t.get(Zt),a=t.get(Pc),l=t.get(Ay),c=t.get(ce),d=t.get(Me),u=e.getModel(),h=e.getPosition(),m=Im.is(i)?i:new Im(u,h),f=new Ml(e,5),p=fl(this._getLocationModel(c,m.model,m.position,f.token),f.token).then(g=>M(this,null,function*(){if(!g||f.token.isCancellationRequested)return;Kn(g.ariaMessage);let v;if(g.referenceAt(u.uri,h)){let C=this._getAlternativeCommand(e);!n._activeAlternativeCommands.has(C)&&n._allSymbolNavigationCommands.has(C)&&(v=n._allSymbolNavigationCommands.get(C))}let b=g.references.length;if(b===0){if(!this.configuration.muteMessage){let C=u.getWordAtPosition(h);Do.get(e)?.showMessage(this._getNoResultFoundMessage(C),h)}}else if(b===1&&v)n._activeAlternativeCommands.add(this.desc.id),d.invokeFunction(C=>v.runEditorCommand(C,e,i,o).finally(()=>{n._activeAlternativeCommands.delete(this.desc.id)}));else return this._onResult(s,l,e,g,o)}),g=>{r.error(g)}).finally(()=>{f.dispose()});return a.showWhile(p,250),p}_onResult(t,e,i,o,r){return M(this,null,function*(){let s=this._getGoToPreference(i);if(!(i instanceof Io)&&(this.configuration.openInPeek||s==="peek"&&o.references.length>1))this._openInPeek(i,o,r);else{let a=o.firstReference(),l=o.references.length>1&&s==="gotoAndPeek",c=yield this._openReference(i,t,a,this.configuration.openToSide,!l);l&&c?this._openInPeek(c,o,r):o.dispose(),s==="goto"&&e.put(a)}})}_openReference(t,e,i,o,r){return M(this,null,function*(){let s;if(d4(i)&&(s=i.targetSelectionRange),s||(s=i.range),!s)return;let a=yield e.openCodeEditor({resource:i.uri,options:{selection:A.collapseToStart(s),selectionRevealType:3,selectionSource:"code.jump"}},t,o);if(a){if(r){let l=a.getModel(),c=a.createDecorationsCollection([{range:s,options:{description:"symbol-navigate-action-highlight",className:"symbolHighlight"}}]);setTimeout(()=>{a.getModel()===l&&c.clear()},350)}return a}})}_openInPeek(t,e,i){let o=id.get(t);o&&t.hasModel()?o.toggleWidget(i??t.getSelection(),Ci(r=>Promise.resolve(e)),this.configuration.openInPeek):e.dispose()}},nd=class extends jl{_getLocationModel(t,e,i,o){return M(this,null,function*(){return new Ir(yield Mu(t.definitionProvider,e,i,!1,o),_("def.title","Definitions"))})}_getNoResultFoundMessage(t){return t&&t.word?_("noResultWord","No definition found for '{0}'",t.word):_("generic.noResults","No definition found")}_getAlternativeCommand(t){return t.getOption(58).alternativeDefinitionCommand}_getGoToPreference(t){return t.getOption(58).multipleDefinitions}};$t(class jN extends nd{static{this.id="editor.action.revealDefinition"}constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:jN.id,title:Ae(j({},Ne("actions.goToDecl.label","Go to Definition")),{mnemonicTitle:_({key:"miGotoDefinition",comment:["&& denotes a mnemonic"]},"Go to &&Definition")}),precondition:T.hasDefinitionProvider,keybinding:[{when:T.editorTextFocus,primary:70,weight:100},{when:K.and(T.editorTextFocus,$R),primary:2118,weight:100}],menu:[{id:be.EditorContext,group:"navigation",order:1.1},{id:be.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:2}]}),Pt.registerCommandAlias("editor.action.goToDeclaration",jN.id)}});$t(class UN extends nd{static{this.id="editor.action.revealDefinitionAside"}constructor(){super({openToSide:!0,openInPeek:!1,muteMessage:!1},{id:UN.id,title:Ne("actions.goToDeclToSide.label","Open Definition to the Side"),precondition:K.and(T.hasDefinitionProvider,T.isInEmbeddedEditor.toNegated()),keybinding:[{when:T.editorTextFocus,primary:Pi(2089,70),weight:100},{when:K.and(T.editorTextFocus,$R),primary:Pi(2089,2118),weight:100}]}),Pt.registerCommandAlias("editor.action.openDeclarationToTheSide",UN.id)}});$t(class qN extends nd{static{this.id="editor.action.peekDefinition"}constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:qN.id,title:Ne("actions.previewDecl.label","Peek Definition"),precondition:K.and(T.hasDefinitionProvider,Eo.notInPeekEditor,T.isInEmbeddedEditor.toNegated()),keybinding:{when:T.editorTextFocus,primary:582,linux:{primary:3140},weight:100},menu:{id:be.EditorContextPeek,group:"peek",order:2}}),Pt.registerCommandAlias("editor.action.previewDeclaration",qN.id)}});var bE=class extends jl{_getLocationModel(t,e,i,o){return M(this,null,function*(){return new Ir(yield gE(t.declarationProvider,e,i,!1,o),_("decl.title","Declarations"))})}_getNoResultFoundMessage(t){return t&&t.word?_("decl.noResultWord","No declaration found for '{0}'",t.word):_("decl.generic.noResults","No declaration found")}_getAlternativeCommand(t){return t.getOption(58).alternativeDeclarationCommand}_getGoToPreference(t){return t.getOption(58).multipleDeclarations}};$t(class LK extends bE{static{this.id="editor.action.revealDeclaration"}constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:LK.id,title:Ae(j({},Ne("actions.goToDeclaration.label","Go to Declaration")),{mnemonicTitle:_({key:"miGotoDeclaration",comment:["&& denotes a mnemonic"]},"Go to &&Declaration")}),precondition:K.and(T.hasDeclarationProvider,T.isInEmbeddedEditor.toNegated()),menu:[{id:be.EditorContext,group:"navigation",order:1.3},{id:be.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:3}]})}_getNoResultFoundMessage(t){return t&&t.word?_("decl.noResultWord","No declaration found for '{0}'",t.word):_("decl.generic.noResults","No declaration found")}});$t(class extends bE{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.peekDeclaration",title:Ne("actions.peekDecl.label","Peek Declaration"),precondition:K.and(T.hasDeclarationProvider,Eo.notInPeekEditor,T.isInEmbeddedEditor.toNegated()),menu:{id:be.EditorContextPeek,group:"peek",order:3}})}});var yE=class extends jl{_getLocationModel(t,e,i,o){return M(this,null,function*(){return new Ir(yield vE(t.typeDefinitionProvider,e,i,!1,o),_("typedef.title","Type Definitions"))})}_getNoResultFoundMessage(t){return t&&t.word?_("goToTypeDefinition.noResultWord","No type definition found for '{0}'",t.word):_("goToTypeDefinition.generic.noResults","No type definition found")}_getAlternativeCommand(t){return t.getOption(58).alternativeTypeDefinitionCommand}_getGoToPreference(t){return t.getOption(58).multipleTypeDefinitions}};$t(class NK extends yE{static{this.ID="editor.action.goToTypeDefinition"}constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:NK.ID,title:Ae(j({},Ne("actions.goToTypeDefinition.label","Go to Type Definition")),{mnemonicTitle:_({key:"miGotoTypeDefinition",comment:["&& denotes a mnemonic"]},"Go to &&Type Definition")}),precondition:T.hasTypeDefinitionProvider,keybinding:{when:T.editorTextFocus,primary:0,weight:100},menu:[{id:be.EditorContext,group:"navigation",order:1.4},{id:be.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:3}]})}});$t(class FK extends yE{static{this.ID="editor.action.peekTypeDefinition"}constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:FK.ID,title:Ne("actions.peekTypeDefinition.label","Peek Type Definition"),precondition:K.and(T.hasTypeDefinitionProvider,Eo.notInPeekEditor,T.isInEmbeddedEditor.toNegated()),menu:{id:be.EditorContextPeek,group:"peek",order:4}})}});var wE=class extends jl{_getLocationModel(t,e,i,o){return M(this,null,function*(){return new Ir(yield _E(t.implementationProvider,e,i,!1,o),_("impl.title","Implementations"))})}_getNoResultFoundMessage(t){return t&&t.word?_("goToImplementation.noResultWord","No implementation found for '{0}'",t.word):_("goToImplementation.generic.noResults","No implementation found")}_getAlternativeCommand(t){return t.getOption(58).alternativeImplementationCommand}_getGoToPreference(t){return t.getOption(58).multipleImplementations}};$t(class zK extends wE{static{this.ID="editor.action.goToImplementation"}constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:zK.ID,title:Ae(j({},Ne("actions.goToImplementation.label","Go to Implementations")),{mnemonicTitle:_({key:"miGotoImplementation",comment:["&& denotes a mnemonic"]},"Go to &&Implementations")}),precondition:T.hasImplementationProvider,keybinding:{when:T.editorTextFocus,primary:2118,weight:100},menu:[{id:be.EditorContext,group:"navigation",order:1.45},{id:be.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:4}]})}});$t(class BK extends wE{static{this.ID="editor.action.peekImplementation"}constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:BK.ID,title:Ne("actions.peekImplementation.label","Peek Implementations"),precondition:K.and(T.hasImplementationProvider,Eo.notInPeekEditor,T.isInEmbeddedEditor.toNegated()),keybinding:{when:T.editorTextFocus,primary:3142,weight:100},menu:{id:be.EditorContextPeek,group:"peek",order:5}})}});var xE=class extends jl{_getNoResultFoundMessage(t){return t?_("references.no","No references found for '{0}'",t.word):_("references.noGeneric","No references found")}_getAlternativeCommand(t){return t.getOption(58).alternativeReferenceCommand}_getGoToPreference(t){return t.getOption(58).multipleReferences}};$t(class extends xE{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:"editor.action.goToReferences",title:Ae(j({},Ne("goToReferences.label","Go to References")),{mnemonicTitle:_({key:"miGotoReference",comment:["&& denotes a mnemonic"]},"Go to &&References")}),precondition:K.and(T.hasReferenceProvider,Eo.notInPeekEditor,T.isInEmbeddedEditor.toNegated()),keybinding:{when:T.editorTextFocus,primary:1094,weight:100},menu:[{id:be.EditorContext,group:"navigation",order:1.45},{id:be.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:5}]})}_getLocationModel(t,e,i,o){return M(this,null,function*(){return new Ir(yield Ig(t.referenceProvider,e,i,!0,!1,o),_("ref.title","References"))})}});$t(class extends xE{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.referenceSearch.trigger",title:Ne("references.action.label","Peek References"),precondition:K.and(T.hasReferenceProvider,Eo.notInPeekEditor,T.isInEmbeddedEditor.toNegated()),menu:{id:be.EditorContextPeek,group:"peek",order:6}})}_getLocationModel(t,e,i,o){return M(this,null,function*(){return new Ir(yield Ig(t.referenceProvider,e,i,!1,!1,o),_("ref.title","References"))})}});var GN=class extends jl{constructor(t,e,i){super(t,{id:"editor.action.goToLocation",title:Ne("label.generic","Go to Any Symbol"),precondition:K.and(Eo.notInPeekEditor,T.isInEmbeddedEditor.toNegated())}),this._references=e,this._gotoMultipleBehaviour=i}_getLocationModel(t,e,i,o){return M(this,null,function*(){return new Ir(this._references,_("generic.title","Locations"))})}_getNoResultFoundMessage(t){return t&&_("generic.noResult","No results for '{0}'",t.word)||""}_getGoToPreference(t){return this._gotoMultipleBehaviour??t.getOption(58).multipleReferences}_getAlternativeCommand(){return""}};Pt.registerCommand({id:"editor.action.goToLocations",metadata:{description:"Go to locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:mt},{name:"position",description:"The position at which to start",constraint:pe.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto`"},{name:"noResultsMessage",description:"Human readable message that shows when locations is empty."}]},handler:(n,t,e,i,o,r,s)=>M(void 0,null,function*(){Tt(mt.isUri(t)),Tt(pe.isIPosition(e)),Tt(Array.isArray(i)),Tt(typeof o>"u"||typeof o=="string"),Tt(typeof s>"u"||typeof s=="boolean");let a=n.get(Zt),l=yield a.openCodeEditor({resource:t},a.getFocusedCodeEditor());if(rO(l))return l.setPosition(e),l.revealPositionInCenterIfOutsideViewport(e,0),l.invokeWithinContext(c=>{let d=new class extends GN{_getNoResultFoundMessage(u){return r||super._getNoResultFoundMessage(u)}}({muteMessage:!r,openInPeek:!!s,openToSide:!1},i,o);c.get(Me).invokeFunction(d.run.bind(d),l)})})});Pt.registerCommand({id:"editor.action.peekLocations",metadata:{description:"Peek locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:mt},{name:"position",description:"The position at which to start",constraint:pe.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto`"}]},handler:(n,t,e,i,o)=>M(void 0,null,function*(){n.get(di).executeCommand("editor.action.goToLocations",t,e,i,o,void 0,!0)})});Pt.registerCommand({id:"editor.action.findReferences",handler:(n,t,e)=>{Tt(mt.isUri(t)),Tt(pe.isIPosition(e));let i=n.get(ce),o=n.get(Zt);return o.openCodeEditor({resource:t},o.getFocusedCodeEditor()).then(r=>{if(!rO(r)||!r.hasModel())return;let s=id.get(r);if(!s)return;let a=Ci(c=>Ig(i.referenceProvider,r.getModel(),pe.lift(e),!1,!1,c).then(d=>new Ir(d,_("ref.title","References")))),l=new A(e.lineNumber,e.column,e.lineNumber,e.column);return Promise.resolve(s.toggleWidget(l,a,!1))})}});Pt.registerCommandAlias("editor.action.showReferences","editor.action.peekLocations");$i();qi();pt();Ot();function HK(n,t,e,i){return M(this,null,function*(){let o=n.get(so),r=n.get(Qs),s=n.get(di),a=n.get(Me),l=n.get(Hi);if(yield i.item.resolve(Qe.None),!i.part.location)return;let c=i.part.location,d=[],u=new Set(or.getMenuItems(be.EditorContext).map(m=>Y4(m)?m.command.id:vu()));for(let m of jl.all())u.has(m.desc.id)&&d.push(new bl(m.desc.id,yl.label(m.desc,{renderShortTitle:!0}),void 0,!0,()=>M(this,null,function*(){let f=yield o.createModelReference(c.uri);try{let p=new Im(f.object.textEditorModel,A.getStartPosition(c.range)),g=i.item.anchor.range;yield a.invokeFunction(m.runEditorCommand.bind(m),t,p,g)}finally{f.dispose()}})));if(i.part.command){let{command:m}=i.part;d.push(new xc),d.push(new bl(m.id,m.title,void 0,!0,()=>M(this,null,function*(){try{yield s.executeCommand(m.id,...m.arguments??[])}catch(f){l.notify({severity:Op.Error,source:i.item.provider.displayName,message:f})}})))}let h=t.getOption(128);r.showContextMenu({domForShadowRoot:h?t.getDomNode()??void 0:void 0,getAnchor:()=>{let m=Gi(e);return{x:m.left,y:m.top+m.height+8}},getActions:()=>d,onHide:()=>{t.focus()},autoSelectFirstItem:!0})})}function CE(n,t,e,i){return M(this,null,function*(){let r=yield n.get(so).createModelReference(i.uri);yield e.invokeWithinContext(s=>M(this,null,function*(){let a=t.hasSideBySideModifier,l=s.get(Ze),c=Eo.inPeekEditor.getValue(l),d=!a&&e.getOption(89)&&!c;return new nd({openToSide:a,openInPeek:d,muteMessage:!0},{title:{value:"",original:""},id:"",precondition:void 0}).run(s,new Im(r.object.textEditorModel,A.getStartPosition(i.range)),A.lift(i.range))})),r.dispose()})}qi();Sc();Ot();Po();Oo();var dye=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},Eg=function(n,t){return function(e,i){t(e,i,n)}},Mg,$N=class n{constructor(){this._entries=new wl(50)}get(t){let e=n._key(t);return this._entries.get(e)}set(t,e){let i=n._key(t);this._entries.set(i,e)}static _key(t){return`${t.uri.toString()}/${t.getVersionId()}`}},VK=jo("IInlayHintsCache");qo(VK,$N,1);var kg=class{constructor(t,e){this.item=t,this.index=e}get part(){let t=this.item.hint.label;return typeof t=="string"?{label:t}:t[this.index]}},KN=class{constructor(t,e){this.part=t,this.hasTriggerModifier=e}},Em=class{static{Mg=this}static{this.ID="editor.contrib.InlayHints"}static{this._MAX_DECORATORS=1500}static{this._MAX_LABEL_LEN=43}static get(e){return e.getContribution(Mg.ID)??void 0}constructor(e,i,o,r,s,a,l){this._editor=e,this._languageFeaturesService=i,this._inlayHintsCache=r,this._commandService=s,this._notificationService=a,this._instaService=l,this._disposables=new G,this._sessionDisposables=new G,this._decorationsMetadata=new Map,this._ruleFactory=new AC(this._editor),this._activeRenderMode=0,this._debounceInfo=o.for(i.inlayHintsProvider,"InlayHint",{min:25}),this._disposables.add(i.inlayHintsProvider.onDidChange(()=>this._update())),this._disposables.add(e.onDidChangeModel(()=>this._update())),this._disposables.add(e.onDidChangeModelLanguage(()=>this._update())),this._disposables.add(e.onDidChangeConfiguration(c=>{c.hasChanged(142)&&this._update()})),this._update()}dispose(){this._sessionDisposables.dispose(),this._removeAllDecorations(),this._disposables.dispose()}_update(){this._sessionDisposables.clear(),this._removeAllDecorations();let e=this._editor.getOption(142);if(e.enabled==="off")return;let i=this._editor.getModel();if(!i||!this._languageFeaturesService.inlayHintsProvider.has(i))return;if(e.enabled==="on")this._activeRenderMode=0;else{let l,c;e.enabled==="onUnlessPressed"?(l=0,c=1):(l=1,c=0),this._activeRenderMode=l,this._sessionDisposables.add(U4.getInstance().event(d=>{if(!this._editor.hasModel())return;let u=d.altKey&&d.ctrlKey&&!(d.shiftKey||d.metaKey)?c:l;if(u!==this._activeRenderMode){this._activeRenderMode=u;let h=this._editor.getModel(),m=this._copyInlayHintsWithCurrentAnchor(h);this._updateHintsDecorators([h.getFullModelRange()],m),a.schedule(0)}}))}let o=this._inlayHintsCache.get(i);o&&this._updateHintsDecorators([i.getFullModelRange()],o),this._sessionDisposables.add(kt(()=>{i.isDisposed()||this._cacheHintsForFastRestore(i)}));let r,s=new Set,a=new ai(()=>M(this,null,function*(){let l=Date.now();r?.dispose(!0),r=new vi;let c=i.onWillDispose(()=>r?.cancel());try{let d=r.token,u=yield My.create(this._languageFeaturesService.inlayHintsProvider,i,this._getHintsRanges(),d);if(a.delay=this._debounceInfo.update(i,Date.now()-l),d.isCancellationRequested){u.dispose();return}for(let h of u.provider)typeof h.onDidChangeInlayHints=="function"&&!s.has(h)&&(s.add(h),this._sessionDisposables.add(h.onDidChangeInlayHints(()=>{a.isScheduled()||a.schedule()})));this._sessionDisposables.add(u),this._updateHintsDecorators(u.ranges,u.items),this._cacheHintsForFastRestore(i)}catch(d){ht(d)}finally{r.dispose(),c.dispose()}}),this._debounceInfo.get(i));this._sessionDisposables.add(a),this._sessionDisposables.add(kt(()=>r?.dispose(!0))),a.schedule(0),this._sessionDisposables.add(this._editor.onDidScrollChange(l=>{(l.scrollTopChanged||!a.isScheduled())&&a.schedule()})),this._sessionDisposables.add(this._editor.onDidChangeModelContent(l=>{r?.cancel();let c=Math.max(a.delay,1250);a.schedule(c)})),this._sessionDisposables.add(this._installDblClickGesture(()=>a.schedule(0))),this._sessionDisposables.add(this._installLinkGesture()),this._sessionDisposables.add(this._installContextMenu())}_installLinkGesture(){let e=new G,i=e.add(new Vl(this._editor)),o=new G;return e.add(o),e.add(i.onMouseMoveOrRelevantKeyDown(r=>{let[s]=r,a=this._getInlayHintLabelPart(s),l=this._editor.getModel();if(!a||!l){o.clear();return}let c=new vi;o.add(kt(()=>c.dispose(!0))),a.item.resolve(c.token),this._activeInlayHintPart=a.part.command||a.part.location?new KN(a,s.hasTriggerModifier):void 0;let d=l.validatePosition(a.item.hint.position).lineNumber,u=new A(d,1,d,l.getLineMaxColumn(d)),h=this._getInlineHintsForRange(u);this._updateHintsDecorators([u],h),o.add(kt(()=>{this._activeInlayHintPart=void 0,this._updateHintsDecorators([u],h)}))})),e.add(i.onCancel(()=>o.clear())),e.add(i.onExecute(r=>M(this,null,function*(){let s=this._getInlayHintLabelPart(r);if(s){let a=s.part;a.location?this._instaService.invokeFunction(CE,r,this._editor,a.location):p4.is(a.command)&&(yield this._invokeCommand(a.command,s.item))}}))),e}_getInlineHintsForRange(e){let i=new Set;for(let o of this._decorationsMetadata.values())e.containsRange(o.item.anchor.range)&&i.add(o.item);return Array.from(i)}_installDblClickGesture(e){return this._editor.onMouseUp(i=>M(this,null,function*(){if(i.event.detail!==2)return;let o=this._getInlayHintLabelPart(i);if(o&&(i.event.preventDefault(),yield o.item.resolve(Qe.None),Mn(o.item.hint.textEdits))){let r=o.item.hint.textEdits.map(s=>mi.replace(A.lift(s.range),s.text));this._editor.executeEdits("inlayHint.default",r),e()}}))}_installContextMenu(){return this._editor.onContextMenu(e=>M(this,null,function*(){if(!W4(e.event.target))return;let i=this._getInlayHintLabelPart(e);i&&(yield this._instaService.invokeFunction(HK,this._editor,e.event.target,i))}))}_getInlayHintLabelPart(e){if(e.target.type!==6)return;let i=e.target.detail.injectedText?.options;if(i instanceof qp&&i?.attachedData instanceof kg)return i.attachedData}_invokeCommand(e,i){return M(this,null,function*(){try{yield this._commandService.executeCommand(e.id,...e.arguments??[])}catch(o){this._notificationService.notify({severity:Op.Error,source:i.provider.displayName,message:o})}})}_cacheHintsForFastRestore(e){let i=this._copyInlayHintsWithCurrentAnchor(e);this._inlayHintsCache.set(e,i)}_copyInlayHintsWithCurrentAnchor(e){let i=new Map;for(let[o,r]of this._decorationsMetadata){if(i.has(r.item))continue;let s=e.getDecorationRange(o);if(s){let a=new Ey(s,r.item.anchor.direction),l=r.item.with({anchor:a});i.set(r.item,l)}}return Array.from(i.values())}_getHintsRanges(){let i=this._editor.getModel(),o=this._editor.getVisibleRangesPlusViewportAboveBelow(),r=[];for(let s of o.sort(A.compareRangesUsingStarts)){let a=i.validateRange(new A(s.startLineNumber-30,s.startColumn,s.endLineNumber+30,s.endColumn));r.length===0||!A.areIntersectingOrTouching(r[r.length-1],a)?r.push(a):r[r.length-1]=A.plusRange(r[r.length-1],a)}return r}_updateHintsDecorators(e,i){let o=[],r=(p,g,v,b,C)=>{let k={content:v,inlineClassNameAffectsLetterSpacing:!0,inlineClassName:g.className,cursorStops:b,attachedData:C};o.push({item:p,classNameRef:g,decoration:{range:p.anchor.range,options:{description:"InlayHint",showIfCollapsed:p.anchor.range.isEmpty(),collapseOnReplaceEdit:!p.anchor.range.isEmpty(),stickiness:0,[p.anchor.direction]:this._activeRenderMode===0?k:void 0}}})},s=(p,g)=>{let v=this._ruleFactory.createClassNameRef({width:`${a/3|0}px`,display:"inline-block"});r(p,v,"\u200A",g?Ec.Right:Ec.None)},{fontSize:a,fontFamily:l,padding:c,isUniform:d}=this._getLayoutInfo(),u="--code-editorInlayHintsFontFamily";this._editor.getContainerDomNode().style.setProperty(u,l);let h={line:0,totalLen:0};for(let p of i){if(h.line!==p.anchor.range.startLineNumber&&(h={line:p.anchor.range.startLineNumber,totalLen:0}),h.totalLen>Mg._MAX_LABEL_LEN)continue;p.hint.paddingLeft&&s(p,!1);let g=typeof p.hint.label=="string"?[{label:p.hint.label}]:p.hint.label;for(let v=0;v<g.length;v++){let b=g[v],C=v===0,k=v===g.length-1,E={fontSize:`${a}px`,fontFamily:`var(${u}), ${wp.fontFamily}`,verticalAlign:d?"baseline":"middle",unicodeBidi:"isolate"};Mn(p.hint.textEdits)&&(E.cursor="default"),this._fillInColors(E,p.hint),(b.command||b.location)&&this._activeInlayHintPart?.part.item===p&&this._activeInlayHintPart.part.index===v&&(E.textDecoration="underline",this._activeInlayHintPart.hasTriggerModifier&&(E.color=Bi(C5),E.cursor="pointer")),c&&(C&&k?(E.padding=`1px ${Math.max(1,a/4)|0}px`,E.borderRadius=`${a/4|0}px`):C?(E.padding=`1px 0 1px ${Math.max(1,a/4)|0}px`,E.borderRadius=`${a/4|0}px 0 0 ${a/4|0}px`):k?(E.padding=`1px ${Math.max(1,a/4)|0}px 1px 0`,E.borderRadius=`0 ${a/4|0}px ${a/4|0}px 0`):E.padding="1px 0 1px 0");let F=b.label;h.totalLen+=F.length;let L=!1,H=h.totalLen-Mg._MAX_LABEL_LEN;if(H>0&&(F=F.slice(0,-H)+"\u2026",L=!0),r(p,this._ruleFactory.createClassNameRef(E),uye(F),k&&!p.hint.paddingRight?Ec.Right:Ec.None,new kg(p,v)),L)break}if(p.hint.paddingRight&&s(p,!0),o.length>Mg._MAX_DECORATORS)break}let m=[];for(let[p,g]of this._decorationsMetadata){let v=this._editor.getModel()?.getDecorationRange(p);v&&e.some(b=>b.containsRange(v))&&(m.push(p),g.classNameRef.dispose(),this._decorationsMetadata.delete(p))}let f=El.capture(this._editor);this._editor.changeDecorations(p=>{let g=p.deltaDecorations(m,o.map(v=>v.decoration));for(let v=0;v<g.length;v++){let b=o[v];this._decorationsMetadata.set(g[v],b)}}),f.restore(this._editor)}_fillInColors(e,i){i.kind===dR.Parameter?(e.backgroundColor=Bi(L5),e.color=Bi(P5)):i.kind===dR.Type?(e.backgroundColor=Bi(O5),e.color=Bi(R5)):(e.backgroundColor=Bi(A5),e.color=Bi(T5))}_getLayoutInfo(){let e=this._editor.getOption(142),i=e.padding,o=this._editor.getOption(52),r=this._editor.getOption(49),s=e.fontSize;(!s||s<5||s>o)&&(s=o);let a=e.fontFamily||r;return{fontSize:s,fontFamily:a,padding:i,isUniform:!i&&a===r&&s===o}}_removeAllDecorations(){this._editor.removeDecorations(Array.from(this._decorationsMetadata.keys()));for(let e of this._decorationsMetadata.values())e.classNameRef.dispose();this._decorationsMetadata.clear()}};Em=Mg=dye([Eg(1,ce),Eg(2,yn),Eg(3,VK),Eg(4,di),Eg(5,Hi),Eg(6,Me)],Em);function uye(n){return n.replace(/[ \t]/g,"\xA0")}Pt.registerCommand("_executeInlayHintProvider",(n,...t)=>M(void 0,null,function*(){let[e,i]=t;Tt(mt.isUri(e)),Tt(A.isIRange(i));let{inlayHintsProvider:o}=n.get(ce),r=yield n.get(so).createModelReference(e);try{let s=yield My.create(o,r.object.textEditorModel,[A.lift(i)],Qe.None),a=s.items.map(l=>l.hint);return setTimeout(()=>s.dispose(),0),a}finally{r.dispose()}}));bn();Lt();Re();tr();Oi();qi();var hye=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},ku=function(n,t){return function(e,i){t(e,i,n)}},SE=class extends Su{constructor(t,e,i,o){super(10,e,t.item.anchor.range,i,o,!0),this.part=t}},Tg=class extends Eu{constructor(t,e,i,o,r,s,a,l,c){super(t,e,i,s,l,o,r,c),this._resolverService=a,this.hoverOrdinal=6}suggestHoverAnchor(t){if(!Em.get(this._editor)||t.target.type!==6)return null;let i=t.target.detail.injectedText?.options;return i instanceof qp&&i.attachedData instanceof kg?new SE(i.attachedData,this,t.event.posx,t.event.posy):null}computeSync(){return[]}computeAsync(t,e,i){return t instanceof SE?new _r(o=>M(this,null,function*(){let{part:r}=t;if(yield r.item.resolve(i),i.isCancellationRequested)return;let s;typeof r.item.hint.tooltip=="string"?s=new mn().appendText(r.item.hint.tooltip):r.item.hint.tooltip&&(s=r.item.hint.tooltip),s&&o.emitOne(new Dr(this,t.range,[s],!1,0)),Mn(r.item.hint.textEdits)&&o.emitOne(new Dr(this,t.range,[new mn().appendText(_("hint.dbl","Double-click to insert"))],!1,10001));let a;if(typeof r.part.tooltip=="string"?a=new mn().appendText(r.part.tooltip):r.part.tooltip&&(a=r.part.tooltip),a&&o.emitOne(new Dr(this,t.range,[a],!1,1)),r.part.location||r.part.command){let m,p=this._editor.getOption(78)==="altKey"?fr?_("links.navigate.kb.meta.mac","cmd + click"):_("links.navigate.kb.meta","ctrl + click"):fr?_("links.navigate.kb.alt.mac","option + click"):_("links.navigate.kb.alt","alt + click");r.part.location&&r.part.command?m=new mn().appendText(_("hint.defAndCommand","Go to Definition ({0}), right click for more",p)):r.part.location?m=new mn().appendText(_("hint.def","Go to Definition ({0})",p)):r.part.command&&(m=new mn(`[${_("hint.cmd","Execute Command")}](${SK(r.part.command)} "${r.part.command.title}") (${p})`,{isTrusted:!0})),m&&o.emitOne(new Dr(this,t.range,[m],!1,1e4))}let l=yield this._resolveInlayHintLabelPartHover(r,i);try{for(var c=hx(l),d,u,h;d=!(u=yield c.next()).done;d=!1){let m=u.value;o.emitOne(m)}}catch{h=[u]}finally{try{d&&(u=c.return)&&(yield u.call(c))}finally{if(h)throw h[0]}}})):_r.EMPTY}_resolveInlayHintLabelPartHover(t,e){return M(this,null,function*(){if(!t.part.location)return _r.EMPTY;let{uri:i,range:o}=t.part.location,r=yield this._resolverService.createModelReference(i);try{let s=r.object.textEditorModel;return this._languageFeaturesService.hoverProvider.has(s)?Dy(this._languageFeaturesService.hoverProvider,s,new pe(o.startLineNumber,o.startColumn),e).filter(a=>!Fd(a.hover.contents)).map(a=>new Dr(this,t.item.anchor.range,a.hover.contents,!1,2+a.ordinal)):_r.EMPTY}finally{r.dispose()}})}};Tg=hye([ku(1,qn),ku(2,$n),ku(3,Vt),ku(4,kc),ku(5,vt),ku(6,so),ku(7,ce),ku(8,di)],Tg);Bt();var DE=class n extends U{constructor(t,e,i,o,r,s){super();let a=e.anchor,l=e.hoverParts;this._renderedHoverParts=this._register(new ZN(t,i,l,s,r));let{showAtPosition:c,showAtSecondaryPosition:d}=n.computeHoverPositions(t,a.range,l);this.shouldAppearBeforeContent=l.some(u=>u.isBeforeContent),this.showAtPosition=c,this.showAtSecondaryPosition=d,this.initialMousePosX=a.initialMousePosX,this.initialMousePosY=a.initialMousePosY,this.shouldFocus=o.shouldFocus,this.source=o.source}get domNode(){return this._renderedHoverParts.domNode}get domNodeHasChildren(){return this._renderedHoverParts.domNodeHasChildren}get focusedHoverPartIndex(){return this._renderedHoverParts.focusedHoverPartIndex}updateHoverVerbosityLevel(t,e,i){return M(this,null,function*(){this._renderedHoverParts.updateHoverVerbosityLevel(t,e,i)})}isColorPickerVisible(){return this._renderedHoverParts.isColorPickerVisible()}static computeHoverPositions(t,e,i){let o=1;if(t.hasModel()){let d=t._getViewModel(),u=d.coordinatesConverter,h=u.convertModelRangeToViewRange(e),m=d.getLineMinColumn(h.startLineNumber),f=new pe(h.startLineNumber,m);o=u.convertViewPositionToModelPosition(f).column}let r=e.startLineNumber,s=e.startColumn,a;for(let d of i){let u=d.range,h=u.startLineNumber===r,m=u.endLineNumber===r;if(h&&m){let p=u.startColumn,g=Math.min(s,p);s=Math.max(g,o)}d.forceShowAtRange&&(a=u)}let l,c;if(a){let d=a.getStartPosition();l=d,c=d}else l=e.getStartPosition(),c=new pe(r,s);return{showAtPosition:l,showAtSecondaryPosition:c}}},XN=class{constructor(t,e){this._statusBar=e,t.appendChild(this._statusBar.hoverElement)}get hoverElement(){return this._statusBar.hoverElement}get actions(){return this._statusBar.actions}dispose(){this._statusBar.dispose()}},ZN=class n extends U{static{this._DECORATION_OPTIONS=lt.register({description:"content-hover-highlight",className:"hoverHighlight"})}constructor(t,e,i,o,r){super(),this._renderedParts=[],this._focusedHoverPartIndex=-1,this._context=r,this._fragment=document.createDocumentFragment(),this._register(this._renderParts(e,i,r,o)),this._register(this._registerListenersOnRenderedParts()),this._register(this._createEditorDecorations(t,i)),this._updateMarkdownAndColorParticipantInfo(e)}_createEditorDecorations(t,e){if(e.length===0)return U.None;let i=e[0].range;for(let r of e){let s=r.range;i=A.plusRange(i,s)}let o=t.createDecorationsCollection();return o.set([{range:i,options:n._DECORATION_OPTIONS}]),kt(()=>{o.clear()})}_renderParts(t,e,i,o){let r=new bg(o),s=j({fragment:this._fragment,statusBar:r},i),a=new G;for(let c of t){let d=this._renderHoverPartsForParticipant(e,c,s);a.add(d);for(let u of d.renderedHoverParts)this._renderedParts.push({type:"hoverPart",participant:c,hoverPart:u.hoverPart,hoverElement:u.hoverElement})}let l=this._renderStatusBar(this._fragment,r);return l&&(a.add(l),this._renderedParts.push({type:"statusBar",hoverElement:l.hoverElement,actions:l.actions})),kt(()=>{a.dispose()})}_renderHoverPartsForParticipant(t,e,i){let o=t.filter(s=>s.owner===e);return o.length>0?e.renderHoverParts(i,o):new cs([])}_renderStatusBar(t,e){if(e.hasContent)return new XN(t,e)}_registerListenersOnRenderedParts(){let t=new G;return this._renderedParts.forEach((e,i)=>{let o=e.hoverElement;o.tabIndex=0,t.add(St(o,ci.FOCUS_IN,r=>{r.stopPropagation(),this._focusedHoverPartIndex=i})),t.add(St(o,ci.FOCUS_OUT,r=>{r.stopPropagation(),this._focusedHoverPartIndex=-1}))}),t}_updateMarkdownAndColorParticipantInfo(t){let e=t.find(i=>i instanceof Eu&&!(i instanceof Tg));e&&(this._markdownHoverParticipant=e),this._colorHoverParticipant=t.find(i=>i instanceof ym)}updateHoverVerbosityLevel(t,e,i){return M(this,null,function*(){if(!this._markdownHoverParticipant)return;let o=this._normalizedIndexToMarkdownHoverIndexRange(this._markdownHoverParticipant,e);if(o===void 0)return;let r=yield this._markdownHoverParticipant.updateMarkdownHoverVerbosityLevel(t,o,i);r&&(this._renderedParts[e]={type:"hoverPart",participant:this._markdownHoverParticipant,hoverPart:r.hoverPart,hoverElement:r.hoverElement},this._context.onContentsChanged())})}isColorPickerVisible(){return this._colorHoverParticipant?.isColorPickerVisible()??!1}_normalizedIndexToMarkdownHoverIndexRange(t,e){let i=this._renderedParts[e];if(!i||i.type!=="hoverPart"||!(i.participant===t))return;let r=this._renderedParts.findIndex(s=>s.type==="hoverPart"&&s.participant===t);if(r===-1)throw new ml;return e-r}get domNode(){return this._fragment}get domNodeHasChildren(){return this._fragment.hasChildNodes()}get focusedHoverPartIndex(){return this._focusedHoverPartIndex}};var mye=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},WK=function(n,t){return function(e,i){t(e,i,n)}},IE=class extends U{constructor(t,e,i){super(),this._editor=t,this._instantiationService=e,this._keybindingService=i,this._currentResult=null,this._onContentsChanged=this._register(new je),this.onContentsChanged=this._onContentsChanged.event,this._contentHoverWidget=this._register(this._instantiationService.createInstance(QI,this._editor)),this._participants=this._initializeHoverParticipants(),this._computer=new JI(this._editor,this._participants),this._hoverOperation=this._register(new vg(this._editor,this._computer)),this._registerListeners()}_initializeHoverParticipants(){let t=[];for(let e of Os.getAll()){let i=this._instantiationService.createInstance(e,this._editor);t.push(i)}return t.sort((e,i)=>e.hoverOrdinal-i.hoverOrdinal),this._register(this._contentHoverWidget.onDidResize(()=>{this._participants.forEach(e=>e.handleResize?.())})),t}_registerListeners(){this._register(this._hoverOperation.onResult(e=>{if(!this._computer.anchor)return;let i=e.hasLoadingMessage?this._addLoadingMessage(e.value):e.value;this._withResult(new Sy(this._computer.anchor,i,e.isComplete))}));let t=this._contentHoverWidget.getDomNode();this._register(vr(t,"keydown",e=>{e.equals(9)&&this.hide()})),this._register(vr(t,"mouseleave",e=>{this._onMouseLeave(e)})),this._register(Dp.onDidChange(()=>{this._contentHoverWidget.position&&this._currentResult&&this._setCurrentResult(this._currentResult)}))}_startShowingOrUpdateHover(t,e,i,o,r){if(!(this._contentHoverWidget.position&&this._currentResult))return t?(this._startHoverOperationIfNecessary(t,e,i,o,!1),!0):!1;let a=this._editor.getOption(60).sticky,l=r&&this._contentHoverWidget.isMouseGettingCloser(r.event.posx,r.event.posy);return a&&l?(t&&this._startHoverOperationIfNecessary(t,e,i,o,!0),!0):t?this._currentResult.anchor.equals(t)?!0:t.canAdoptVisibleHover(this._currentResult.anchor,this._contentHoverWidget.position)?(this._setCurrentResult(this._currentResult.filter(t)),this._startHoverOperationIfNecessary(t,e,i,o,!1),!0):(this._setCurrentResult(null),this._startHoverOperationIfNecessary(t,e,i,o,!1),!0):(this._setCurrentResult(null),!1)}_startHoverOperationIfNecessary(t,e,i,o,r){this._computer.anchor&&this._computer.anchor.equals(t)||(this._hoverOperation.cancel(),this._computer.anchor=t,this._computer.shouldFocus=o,this._computer.source=i,this._computer.insistOnKeepingHoverVisible=r,this._hoverOperation.start(e))}_setCurrentResult(t){let e=t;if(this._currentResult===e)return;e&&e.hoverParts.length===0&&(e=null),this._currentResult=e,this._currentResult?this._showHover(this._currentResult):this._hideHover()}_addLoadingMessage(t){if(!this._computer.anchor)return t;for(let e of this._participants){if(!e.createLoadingMessage)continue;let i=e.createLoadingMessage(this._computer.anchor);if(i)return t.slice(0).concat([i])}return t}_withResult(t){if(this._contentHoverWidget.position&&this._currentResult&&this._currentResult.isComplete||this._setCurrentResult(t),!t.isComplete)return;let o=t.hoverParts.length===0,r=this._computer.insistOnKeepingHoverVisible;o&&r||this._setCurrentResult(t)}_showHover(t){let e=this._getHoverContext();this._renderedContentHover=new DE(this._editor,t,this._participants,this._computer,e,this._keybindingService),this._renderedContentHover.domNodeHasChildren?this._contentHoverWidget.show(this._renderedContentHover):this._renderedContentHover.dispose()}_hideHover(){this._contentHoverWidget.hide()}_getHoverContext(){return{hide:()=>{this.hide()},onContentsChanged:()=>{this._onContentsChanged.fire(),this._contentHoverWidget.onContentsChanged()},setMinimumDimensions:o=>{this._contentHoverWidget.setMinimumDimensions(o)}}}showsOrWillShow(t){if(this._contentHoverWidget.isResizing)return!0;let i=this._findHoverAnchorCandidates(t);if(!(i.length>0))return this._startShowingOrUpdateHover(null,0,0,!1,t);let r=i[0];return this._startShowingOrUpdateHover(r,0,0,!1,t)}_findHoverAnchorCandidates(t){let e=[];for(let o of this._participants){if(!o.suggestHoverAnchor)continue;let r=o.suggestHoverAnchor(t);r&&e.push(r)}let i=t.target;switch(i.type){case 6:{e.push(new gg(0,i.range,t.event.posx,t.event.posy));break}case 7:{let o=this._editor.getOption(50).typicalHalfwidthCharacterWidth/2;if(!(!i.detail.isAfterLines&&typeof i.detail.horizontalDistanceToText=="number"&&i.detail.horizontalDistanceToText<o))break;e.push(new gg(0,i.range,t.event.posx,t.event.posy));break}}return e.sort((o,r)=>r.priority-o.priority),e}_onMouseLeave(t){let e=this._editor.getDomNode();(!e||!Du(e,t.x,t.y))&&this.hide()}startShowingAtRange(t,e,i,o){this._startShowingOrUpdateHover(new gg(0,t,void 0,void 0),e,i,o,null)}updateHoverVerbosityLevel(t,e,i){return M(this,null,function*(){this._renderedContentHover?.updateHoverVerbosityLevel(t,e,i)})}focusedHoverPartIndex(){return this._renderedContentHover?.focusedHoverPartIndex??-1}containsNode(t){return t?this._contentHoverWidget.getDomNode().contains(t):!1}focus(){this._contentHoverWidget.focus()}scrollUp(){this._contentHoverWidget.scrollUp()}scrollDown(){this._contentHoverWidget.scrollDown()}scrollLeft(){this._contentHoverWidget.scrollLeft()}scrollRight(){this._contentHoverWidget.scrollRight()}pageUp(){this._contentHoverWidget.pageUp()}pageDown(){this._contentHoverWidget.pageDown()}goToTop(){this._contentHoverWidget.goToTop()}goToBottom(){this._contentHoverWidget.goToBottom()}hide(){this._computer.anchor=null,this._hoverOperation.cancel(),this._setCurrentResult(null)}getDomNode(){return this._contentHoverWidget.getDomNode()}get isColorPickerVisible(){return this._renderedContentHover?.isColorPickerVisible()??!1}get isVisibleFromKeyboard(){return this._contentHoverWidget.isVisibleFromKeyboard}get isVisible(){return this._contentHoverWidget.isVisible}get isFocused(){return this._contentHoverWidget.isFocused}get isResizing(){return this._contentHoverWidget.isResizing}get widget(){return this._contentHoverWidget}};IE=mye([WK(1,Me),WK(2,Vt)],IE);oi();var pye=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},jK=function(n,t){return function(e,i){t(e,i,n)}},QN,EE=!1,mo=class extends U{static{QN=this}static{this.ID="editor.contrib.contentHover"}constructor(e,i,o){super(),this._editor=e,this._instantiationService=i,this._keybindingService=o,this._onHoverContentsChanged=this._register(new je),this.shouldKeepOpenOnEditorMouseMoveOrLeave=!1,this._listenersStore=new G,this._hoverState={mouseDown:!1,activatedByDecoratorClick:!1},this._reactToEditorMouseMoveRunner=this._register(new ai(()=>this._reactToEditorMouseMove(this._mouseMoveEvent),0)),this._hookListeners(),this._register(this._editor.onDidChangeConfiguration(r=>{r.hasChanged(60)&&(this._unhookListeners(),this._hookListeners())}))}static get(e){return e.getContribution(QN.ID)}_hookListeners(){let e=this._editor.getOption(60);this._hoverSettings={enabled:e.enabled,sticky:e.sticky,hidingDelay:e.hidingDelay},e.enabled?(this._listenersStore.add(this._editor.onMouseDown(i=>this._onEditorMouseDown(i))),this._listenersStore.add(this._editor.onMouseUp(()=>this._onEditorMouseUp())),this._listenersStore.add(this._editor.onMouseMove(i=>this._onEditorMouseMove(i))),this._listenersStore.add(this._editor.onKeyDown(i=>this._onKeyDown(i)))):(this._listenersStore.add(this._editor.onMouseMove(i=>this._onEditorMouseMove(i))),this._listenersStore.add(this._editor.onKeyDown(i=>this._onKeyDown(i)))),this._listenersStore.add(this._editor.onMouseLeave(i=>this._onEditorMouseLeave(i))),this._listenersStore.add(this._editor.onDidChangeModel(()=>{this._cancelScheduler(),this._hideWidgets()})),this._listenersStore.add(this._editor.onDidChangeModelContent(()=>this._cancelScheduler())),this._listenersStore.add(this._editor.onDidScrollChange(i=>this._onEditorScrollChanged(i)))}_unhookListeners(){this._listenersStore.clear()}_cancelScheduler(){this._mouseMoveEvent=void 0,this._reactToEditorMouseMoveRunner.cancel()}_onEditorScrollChanged(e){(e.scrollTopChanged||e.scrollLeftChanged)&&this._hideWidgets()}_onEditorMouseDown(e){this._hoverState.mouseDown=!0,!this._shouldNotHideCurrentHoverWidget(e)&&this._hideWidgets()}_shouldNotHideCurrentHoverWidget(e){return this._isMouseOnContentHoverWidget(e)||this._isContentWidgetResizing()}_isMouseOnContentHoverWidget(e){let i=this._contentWidget?.getDomNode();return i?Du(i,e.event.posx,e.event.posy):!1}_onEditorMouseUp(){this._hoverState.mouseDown=!1}_onEditorMouseLeave(e){this.shouldKeepOpenOnEditorMouseMoveOrLeave||(this._cancelScheduler(),this._shouldNotHideCurrentHoverWidget(e))||EE||this._hideWidgets()}_shouldNotRecomputeCurrentHoverWidget(e){let i=this._hoverSettings.sticky,o=(a,l)=>{let c=this._isMouseOnContentHoverWidget(a);return l&&c},r=a=>{let l=this._isMouseOnContentHoverWidget(a),c=this._contentWidget?.isColorPickerVisible??!1;return l&&c},s=(a,l)=>(l&&this._contentWidget?.containsNode(a.event.browserEvent.view?.document.activeElement)&&!a.event.browserEvent.view?.getSelection()?.isCollapsed)??!1;return o(e,i)||r(e)||s(e,i)}_onEditorMouseMove(e){if(this.shouldKeepOpenOnEditorMouseMoveOrLeave||(this._mouseMoveEvent=e,this._contentWidget?.isFocused||this._contentWidget?.isResizing))return;let i=this._hoverSettings.sticky;if(i&&this._contentWidget?.isVisibleFromKeyboard)return;if(this._shouldNotRecomputeCurrentHoverWidget(e)){this._reactToEditorMouseMoveRunner.cancel();return}let r=this._hoverSettings.hidingDelay;if(this._contentWidget?.isVisible&&i&&r>0){this._reactToEditorMouseMoveRunner.isScheduled()||this._reactToEditorMouseMoveRunner.schedule(r);return}this._reactToEditorMouseMove(e)}_reactToEditorMouseMove(e){if(!e)return;let o=e.target.element?.classList.contains("colorpicker-color-decoration"),r=this._editor.getOption(149),s=this._hoverSettings.enabled,a=this._hoverState.activatedByDecoratorClick;if(o&&(r==="click"&&!a||r==="hover"&&!s&&!EE||r==="clickAndHover"&&!s&&!a)||!o&&!s&&!a){this._hideWidgets();return}this._tryShowHoverWidget(e)||EE||this._hideWidgets()}_tryShowHoverWidget(e){return this._getOrCreateContentWidget().showsOrWillShow(e)}_onKeyDown(e){if(!this._editor.hasModel())return;let i=this._keybindingService.softDispatch(e,this._editor.getDomNode()),o=i.kind===1||i.kind===2&&(i.commandId===UI||i.commandId===wm||i.commandId===xm)&&this._contentWidget?.isVisible;e.keyCode===5||e.keyCode===6||e.keyCode===57||e.keyCode===4||o||this._hideWidgets()}_hideWidgets(){EE||this._hoverState.mouseDown&&this._contentWidget?.isColorPickerVisible||Jc.dropDownVisible||(this._hoverState.activatedByDecoratorClick=!1,this._contentWidget?.hide())}_getOrCreateContentWidget(){return this._contentWidget||(this._contentWidget=this._instantiationService.createInstance(IE,this._editor),this._listenersStore.add(this._contentWidget.onContentsChanged(()=>this._onHoverContentsChanged.fire()))),this._contentWidget}showContentHover(e,i,o,r,s=!1){this._hoverState.activatedByDecoratorClick=s,this._getOrCreateContentWidget().startShowingAtRange(e,i,o,r)}_isContentWidgetResizing(){return this._contentWidget?.widget.isResizing||!1}focusedHoverPartIndex(){return this._getOrCreateContentWidget().focusedHoverPartIndex()}updateHoverVerbosityLevel(e,i,o){this._getOrCreateContentWidget().updateHoverVerbosityLevel(e,i,o)}focus(){this._contentWidget?.focus()}scrollUp(){this._contentWidget?.scrollUp()}scrollDown(){this._contentWidget?.scrollDown()}scrollLeft(){this._contentWidget?.scrollLeft()}scrollRight(){this._contentWidget?.scrollRight()}pageUp(){this._contentWidget?.pageUp()}pageDown(){this._contentWidget?.pageDown()}goToTop(){this._contentWidget?.goToTop()}goToBottom(){this._contentWidget?.goToBottom()}get isColorPickerVisible(){return this._contentWidget?.isColorPickerVisible}get isHoverVisible(){return this._contentWidget?.isVisible}dispose(){super.dispose(),this._unhookListeners(),this._listenersStore.dispose(),this._contentWidget?.dispose()}};mo=QN=pye([jK(1,Me),jK(2,Vt)],mo);var UK=(()=>{class n extends U{static{this.ID="editor.contrib.colorContribution"}constructor(e){super(),this._editor=e,this._register(e.onMouseDown(i=>this.onMouseDown(i)))}dispose(){super.dispose()}onMouseDown(e){let i=this._editor.getOption(149);if(i!=="click"&&i!=="clickAndHover")return;let o=e.target;if(o.type!==6||!o.detail.injectedText||o.detail.injectedText.options.attachedData!==lN||!o.range)return;let r=this._editor.getContribution(mo.ID);if(r&&!r.isColorPickerVisible){let s=new A(o.range.startLineNumber,o.range.startColumn+1,o.range.endLineNumber,o.range.endColumn+1);r.showContentHover(s,1,0,!1,!0)}}}return n})();Te(UK.ID,UK,2);Os.register(ym);it();Re();ue();Ot();oi();Lt();it();Kt();pt();_t();Fh();var GK=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},Ag=function(n,t){return function(e,i){t(e,i,n)}},JN,eF,Tu=class extends U{static{JN=this}static{this.ID="editor.contrib.standaloneColorPickerController"}constructor(e,i,o){super(),this._editor=e,this._instantiationService=o,this._standaloneColorPickerWidget=null,this._standaloneColorPickerVisible=T.standaloneColorPickerVisible.bindTo(i),this._standaloneColorPickerFocused=T.standaloneColorPickerFocused.bindTo(i)}showOrFocus(){this._editor.hasModel()&&(this._standaloneColorPickerVisible.get()?this._standaloneColorPickerFocused.get()||this._standaloneColorPickerWidget?.focus():this._standaloneColorPickerWidget=this._instantiationService.createInstance(tF,this._editor,this._standaloneColorPickerVisible,this._standaloneColorPickerFocused))}hide(){this._standaloneColorPickerFocused.set(!1),this._standaloneColorPickerVisible.set(!1),this._standaloneColorPickerWidget?.hide(),this._editor.focus()}insertColor(){this._standaloneColorPickerWidget?.updateEditor(),this.hide()}static get(e){return e.getContribution(JN.ID)}};Tu=JN=GK([Ag(1,Ze),Ag(2,Me)],Tu);Te(Tu.ID,Tu,1);var qK=8,fye=22,tF=class extends U{static{eF=this}static{this.ID="editor.contrib.standaloneColorPickerWidget"}constructor(e,i,o,r,s,a,l){super(),this._editor=e,this._standaloneColorPickerVisible=i,this._standaloneColorPickerFocused=o,this._keybindingService=s,this._languageFeaturesService=a,this._editorWorkerService=l,this.allowEditorOverflow=!0,this._position=void 0,this._body=document.createElement("div"),this._colorHover=null,this._selectionSetInEditor=!1,this._onResult=this._register(new je),this.onResult=this._onResult.event,this._standaloneColorPickerVisible.set(!0),this._standaloneColorPickerParticipant=r.createInstance(_g,this._editor),this._position=this._editor._getViewModel()?.getPrimaryCursorState().modelState.position;let c=this._editor.getSelection(),d=c?{startLineNumber:c.startLineNumber,startColumn:c.startColumn,endLineNumber:c.endLineNumber,endColumn:c.endColumn}:{startLineNumber:0,endLineNumber:0,endColumn:0,startColumn:0},u=this._register(Ra(this._body));this._register(u.onDidBlur(h=>{this.hide()})),this._register(u.onDidFocus(h=>{this.focus()})),this._register(this._editor.onDidChangeCursorPosition(()=>{this._selectionSetInEditor?this._selectionSetInEditor=!1:this.hide()})),this._register(this._editor.onMouseMove(h=>{let m=h.target.element?.classList;m&&m.contains("colorpicker-color-decoration")&&this.hide()})),this._register(this.onResult(h=>{this._render(h.value,h.foundInEditor)})),this._start(d),this._body.style.zIndex="50",this._editor.addContentWidget(this)}updateEditor(){this._colorHover&&this._standaloneColorPickerParticipant.updateEditorModel(this._colorHover)}getId(){return eF.ID}getDomNode(){return this._body}getPosition(){if(!this._position)return null;let e=this._editor.getOption(60).above;return{position:this._position,secondaryPosition:this._position,preference:e?[1,2]:[2,1],positionAffinity:2}}hide(){this.dispose(),this._standaloneColorPickerVisible.set(!1),this._standaloneColorPickerFocused.set(!1),this._editor.removeContentWidget(this),this._editor.focus()}focus(){this._standaloneColorPickerFocused.set(!0),this._body.focus()}_start(e){return M(this,null,function*(){let i=yield this._computeAsync(e);i&&this._onResult.fire(new iF(i.result,i.foundInEditor))})}_computeAsync(e){return M(this,null,function*(){if(!this._editor.hasModel())return null;let i={range:e,color:{red:0,green:0,blue:0,alpha:1}},o=yield this._standaloneColorPickerParticipant.createColorHover(i,new vm(this._editorWorkerService),this._languageFeaturesService.colorProvider);return o?{result:o.colorHover,foundInEditor:o.foundInEditor}:null})}_render(e,i){let o=document.createDocumentFragment(),r=this._register(new bg(this._keybindingService)),s={fragment:o,statusBar:r,onContentsChanged:()=>{},hide:()=>this.hide()};this._colorHover=e;let a=this._standaloneColorPickerParticipant.renderHoverParts(s,[e]);if(!a)return;this._register(a.disposables);let l=a.colorPicker;this._body.classList.add("standalone-colorpicker-body"),this._body.style.maxHeight=Math.max(this._editor.getLayoutInfo().height/4,250)+"px",this._body.style.maxWidth=Math.max(this._editor.getLayoutInfo().width*.66,500)+"px",this._body.tabIndex=0,this._body.appendChild(o),l.layout();let c=l.body,d=c.saturationBox.domNode.clientWidth,u=c.domNode.clientWidth-d-fye-qK,h=l.body.enterButton;h?.onClicked(()=>{this.updateEditor(),this.hide()});let m=l.header,f=m.pickedColorNode;f.style.width=d+qK+"px";let p=m.originalColorNode;p.style.width=u+"px",l.header.closeButton?.onClicked(()=>{this.hide()}),i&&(h&&(h.button.textContent="Replace"),this._selectionSetInEditor=!0,this._editor.setSelection(e.range)),this._editor.layoutContentWidget(this)}};tF=eF=GK([Ag(3,Me),Ag(4,Vt),Ag(5,ce),Ag(6,wr)],tF);var iF=class{constructor(t,e){this.value=t,this.foundInEditor=e}};Kt();$i();var nF=class extends Pr{constructor(){super({id:"editor.action.showOrFocusStandaloneColorPicker",title:Ae(j({},Ne("showOrFocusStandaloneColorPicker","Show or Focus Standalone Color Picker")),{mnemonicTitle:_({key:"mishowOrFocusStandaloneColorPicker",comment:["&& denotes a mnemonic"]},"&&Show or Focus Standalone Color Picker")}),precondition:void 0,menu:[{id:be.CommandPalette}],metadata:{description:Ne("showOrFocusStandaloneColorPickerDescription","Show or focus a standalone color picker which uses the default color provider. It displays hex/rgb/hsl colors.")}})}runEditorCommand(t,e){Tu.get(e)?.showOrFocus()}},oF=class extends Q{constructor(){super({id:"editor.action.hideColorPicker",label:_({key:"hideColorPicker",comment:["Action that hides the color picker"]},"Hide the Color Picker"),alias:"Hide the Color Picker",precondition:T.standaloneColorPickerVisible.isEqualTo(!0),kbOpts:{primary:9,weight:100},metadata:{description:Ne("hideColorPickerDescription","Hide the standalone color picker.")}})}run(t,e){Tu.get(e)?.hide()}},rF=class extends Q{constructor(){super({id:"editor.action.insertColorWithStandaloneColorPicker",label:_({key:"insertColorWithStandaloneColorPicker",comment:["Action that inserts color with standalone color picker"]},"Insert Color with Standalone Color Picker"),alias:"Insert Color with Standalone Color Picker",precondition:T.standaloneColorPickerFocused.isEqualTo(!0),kbOpts:{primary:3,weight:100},metadata:{description:Ne("insertColorWithStandaloneColorPickerDescription","Insert hex/rgb/hsl colors with the focused standalone color picker.")}})}run(t,e){Tu.get(e)?.insertColor()}};V(oF);V(rF);$t(nF);bc();it();qe();Kt();rr();hi();qe();Nn();var od=class n{constructor(t,e,i){this.languageConfigurationService=i,this._selection=t,this._insertSpace=e,this._usedEndToken=null}static _haystackHasNeedleAtOffset(t,e,i){if(i<0)return!1;let o=e.length,r=t.length;if(i+o>r)return!1;for(let s=0;s<o;s++){let a=t.charCodeAt(i+s),l=e.charCodeAt(s);if(a!==l&&!(a>=65&&a<=90&&a+32===l)&&!(l>=65&&l<=90&&l+32===a))return!1}return!0}_createOperationsForBlockComment(t,e,i,o,r,s){let a=t.startLineNumber,l=t.startColumn,c=t.endLineNumber,d=t.endColumn,u=r.getLineContent(a),h=r.getLineContent(c),m=u.lastIndexOf(e,l-1+e.length),f=h.indexOf(i,d-1-i.length);if(m!==-1&&f!==-1)if(a===c)u.substring(m+e.length,f).indexOf(i)>=0&&(m=-1,f=-1);else{let g=u.substring(m+e.length),v=h.substring(0,f);(g.indexOf(i)>=0||v.indexOf(i)>=0)&&(m=-1,f=-1)}let p;m!==-1&&f!==-1?(o&&m+e.length<u.length&&u.charCodeAt(m+e.length)===32&&(e=e+" "),o&&f>0&&h.charCodeAt(f-1)===32&&(i=" "+i,f-=1),p=n._createRemoveBlockCommentOperations(new A(a,m+e.length+1,c,f+1),e,i)):(p=n._createAddBlockCommentOperations(t,e,i,this._insertSpace),this._usedEndToken=p.length===1?i:null);for(let g of p)s.addTrackedEditOperation(g.range,g.text)}static _createRemoveBlockCommentOperations(t,e,i){let o=[];return A.isEmpty(t)?o.push(mi.delete(new A(t.startLineNumber,t.startColumn-e.length,t.endLineNumber,t.endColumn+i.length))):(o.push(mi.delete(new A(t.startLineNumber,t.startColumn-e.length,t.startLineNumber,t.startColumn))),o.push(mi.delete(new A(t.endLineNumber,t.endColumn,t.endLineNumber,t.endColumn+i.length)))),o}static _createAddBlockCommentOperations(t,e,i,o){let r=[];return A.isEmpty(t)?r.push(mi.replace(new A(t.startLineNumber,t.startColumn,t.endLineNumber,t.endColumn),e+"  "+i)):(r.push(mi.insert(new pe(t.startLineNumber,t.startColumn),e+(o?" ":""))),r.push(mi.insert(new pe(t.endLineNumber,t.endColumn),(o?" ":"")+i))),r}getEditOperations(t,e){let i=this._selection.startLineNumber,o=this._selection.startColumn;t.tokenization.tokenizeIfCheap(i);let r=t.getLanguageIdAtPosition(i,o),s=this.languageConfigurationService.getLanguageConfiguration(r).comments;!s||!s.blockCommentStartToken||!s.blockCommentEndToken||this._createOperationsForBlockComment(this._selection,s.blockCommentStartToken,s.blockCommentEndToken,this._insertSpace,t,e)}computeCursorState(t,e){let i=e.getInverseEditOperations();if(i.length===2){let o=i[0],r=i[1];return new Be(o.range.endLineNumber,o.range.endColumn,r.range.startLineNumber,r.range.startColumn)}else{let o=i[0].range,r=this._usedEndToken?-this._usedEndToken.length-1:0;return new Be(o.endLineNumber,o.endColumn+r,o.endLineNumber,o.endColumn+r)}}};zi();hi();qe();Nn();var ME=class n{constructor(t,e,i,o,r,s,a){this.languageConfigurationService=t,this._selection=e,this._indentSize=i,this._type=o,this._insertSpace=r,this._selectionId=null,this._deltaColumn=0,this._moveEndPositionDown=!1,this._ignoreEmptyLines=s,this._ignoreFirstLine=a||!1}static _gatherPreflightCommentStrings(t,e,i,o){t.tokenization.tokenizeIfCheap(e);let r=t.getLanguageIdAtPosition(e,1),s=o.getLanguageConfiguration(r).comments,a=s?s.lineCommentToken:null;if(!a)return null;let l=[];for(let c=0,d=i-e+1;c<d;c++)l[c]={ignore:!1,commentStr:a,commentStrOffset:0,commentStrLength:a.length};return l}static _analyzeLines(t,e,i,o,r,s,a,l){let c=!0,d;t===0?d=!0:t===1?d=!1:d=!0;for(let u=0,h=o.length;u<h;u++){let m=o[u],f=r+u;if(f===r&&a){m.ignore=!0;continue}let p=i.getLineContent(f),g=gv(p);if(g===-1){m.ignore=s,m.commentStrOffset=p.length;continue}if(c=!1,m.ignore=!1,m.commentStrOffset=g,d&&!od._haystackHasNeedleAtOffset(p,m.commentStr,g)&&(t===0?d=!1:t===1||(m.ignore=!0)),d&&e){let v=g+m.commentStrLength;v<p.length&&p.charCodeAt(v)===32&&(m.commentStrLength+=1)}}if(t===0&&c){d=!1;for(let u=0,h=o.length;u<h;u++)o[u].ignore=!1}return{supported:!0,shouldRemoveComments:d,lines:o}}static _gatherPreflightData(t,e,i,o,r,s,a,l){let c=n._gatherPreflightCommentStrings(i,o,r,l);return c===null?{supported:!1}:n._analyzeLines(t,e,i,c,o,s,a,l)}_executeLineComments(t,e,i,o){let r;i.shouldRemoveComments?r=n._createRemoveLineCommentsOperations(i.lines,o.startLineNumber):(n._normalizeInsertionPoint(t,i.lines,o.startLineNumber,this._indentSize),r=this._createAddLineCommentsOperations(i.lines,o.startLineNumber));let s=new pe(o.positionLineNumber,o.positionColumn);for(let a=0,l=r.length;a<l;a++)e.addEditOperation(r[a].range,r[a].text),A.isEmpty(r[a].range)&&A.getStartPosition(r[a].range).equals(s)&&t.getLineContent(s.lineNumber).length+1===s.column&&(this._deltaColumn=(r[a].text||"").length);this._selectionId=e.trackSelection(o)}_attemptRemoveBlockComment(t,e,i,o){let r=e.startLineNumber,s=e.endLineNumber,a=o.length+Math.max(t.getLineFirstNonWhitespaceColumn(e.startLineNumber),e.startColumn),l=t.getLineContent(r).lastIndexOf(i,a-1),c=t.getLineContent(s).indexOf(o,e.endColumn-1-i.length);return l!==-1&&c===-1&&(c=t.getLineContent(r).indexOf(o,l+i.length),s=r),l===-1&&c!==-1&&(l=t.getLineContent(s).lastIndexOf(i,c),r=s),e.isEmpty()&&(l===-1||c===-1)&&(l=t.getLineContent(r).indexOf(i),l!==-1&&(c=t.getLineContent(r).indexOf(o,l+i.length))),l!==-1&&t.getLineContent(r).charCodeAt(l+i.length)===32&&(i+=" "),c!==-1&&t.getLineContent(s).charCodeAt(c-1)===32&&(o=" "+o,c-=1),l!==-1&&c!==-1?od._createRemoveBlockCommentOperations(new A(r,l+i.length+1,s,c+1),i,o):null}_executeBlockComment(t,e,i){t.tokenization.tokenizeIfCheap(i.startLineNumber);let o=t.getLanguageIdAtPosition(i.startLineNumber,1),r=this.languageConfigurationService.getLanguageConfiguration(o).comments;if(!r||!r.blockCommentStartToken||!r.blockCommentEndToken)return;let s=r.blockCommentStartToken,a=r.blockCommentEndToken,l=this._attemptRemoveBlockComment(t,i,s,a);if(!l){if(i.isEmpty()){let c=t.getLineContent(i.startLineNumber),d=gv(c);d===-1&&(d=c.length),l=od._createAddBlockCommentOperations(new A(i.startLineNumber,d+1,i.startLineNumber,c.length+1),s,a,this._insertSpace)}else l=od._createAddBlockCommentOperations(new A(i.startLineNumber,t.getLineFirstNonWhitespaceColumn(i.startLineNumber),i.endLineNumber,t.getLineMaxColumn(i.endLineNumber)),s,a,this._insertSpace);l.length===1&&(this._deltaColumn=s.length+1)}this._selectionId=e.trackSelection(i);for(let c of l)e.addEditOperation(c.range,c.text)}getEditOperations(t,e){let i=this._selection;if(this._moveEndPositionDown=!1,i.startLineNumber===i.endLineNumber&&this._ignoreFirstLine){e.addEditOperation(new A(i.startLineNumber,t.getLineMaxColumn(i.startLineNumber),i.startLineNumber+1,1),i.startLineNumber===t.getLineCount()?"":`
`),this._selectionId=e.trackSelection(i);return}i.startLineNumber<i.endLineNumber&&i.endColumn===1&&(this._moveEndPositionDown=!0,i=i.setEndPosition(i.endLineNumber-1,t.getLineMaxColumn(i.endLineNumber-1)));let o=n._gatherPreflightData(this._type,this._insertSpace,t,i.startLineNumber,i.endLineNumber,this._ignoreEmptyLines,this._ignoreFirstLine,this.languageConfigurationService);return o.supported?this._executeLineComments(t,e,o,i):this._executeBlockComment(t,e,i)}computeCursorState(t,e){let i=e.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(i=i.setEndPosition(i.endLineNumber+1,1)),new Be(i.selectionStartLineNumber,i.selectionStartColumn+this._deltaColumn,i.positionLineNumber,i.positionColumn+this._deltaColumn)}static _createRemoveLineCommentsOperations(t,e){let i=[];for(let o=0,r=t.length;o<r;o++){let s=t[o];s.ignore||i.push(mi.delete(new A(e+o,s.commentStrOffset+1,e+o,s.commentStrOffset+s.commentStrLength+1)))}return i}_createAddLineCommentsOperations(t,e){let i=[],o=this._insertSpace?" ":"";for(let r=0,s=t.length;r<s;r++){let a=t[r];a.ignore||i.push(mi.insert(new pe(e+r,a.commentStrOffset+1),a.commentStr+o))}return i}static nextVisibleColumn(t,e,i,o){return i?t+(e-t%e):t+o}static _normalizeInsertionPoint(t,e,i,o){let r=1073741824,s,a;for(let l=0,c=e.length;l<c;l++){if(e[l].ignore)continue;let d=t.getLineContent(i+l),u=0;for(let h=0,m=e[l].commentStrOffset;u<r&&h<m;h++)u=n.nextVisibleColumn(u,o,d.charCodeAt(h)===9,1);u<r&&(r=u)}r=Math.floor(r/o)*o;for(let l=0,c=e.length;l<c;l++){if(e[l].ignore)continue;let d=t.getLineContent(i+l),u=0;for(s=0,a=e[l].commentStrOffset;u<r&&s<a;s++)u=n.nextVisibleColumn(u,o,d.charCodeAt(s)===9,1);u>r?e[l].commentStrOffset=s-1:e[l].commentStrOffset=s}}};Re();$i();var Oy=class extends Q{constructor(t,e){super(e),this._type=t}run(t,e){let i=t.get(yi);if(!e.hasModel())return;let o=e.getModel(),r=[],s=o.getOptions(),a=e.getOption(23),l=e.getSelections().map((d,u)=>({selection:d,index:u,ignoreFirstLine:!1}));l.sort((d,u)=>A.compareRangesUsingStarts(d.selection,u.selection));let c=l[0];for(let d=1;d<l.length;d++){let u=l[d];c.selection.endLineNumber===u.selection.startLineNumber&&(c.index<u.index?u.ignoreFirstLine=!0:(c.ignoreFirstLine=!0,c=u))}for(let d of l)r.push(new ME(i,d.selection,s.indentSize,this._type,a.insertSpace,a.ignoreEmptyLines,d.ignoreFirstLine));e.pushUndoStop(),e.executeCommands(this.id,r),e.pushUndoStop()}},sF=class extends Oy{constructor(){super(0,{id:"editor.action.commentLine",label:_("comment.line","Toggle Line Comment"),alias:"Toggle Line Comment",precondition:T.writable,kbOpts:{kbExpr:T.editorTextFocus,primary:2138,weight:100},menuOpts:{menuId:be.MenubarEditMenu,group:"5_insert",title:_({key:"miToggleLineComment",comment:["&& denotes a mnemonic"]},"&&Toggle Line Comment"),order:1}})}},aF=class extends Oy{constructor(){super(1,{id:"editor.action.addCommentLine",label:_("comment.line.add","Add Line Comment"),alias:"Add Line Comment",precondition:T.writable,kbOpts:{kbExpr:T.editorTextFocus,primary:Pi(2089,2081),weight:100}})}},lF=class extends Oy{constructor(){super(2,{id:"editor.action.removeCommentLine",label:_("comment.line.remove","Remove Line Comment"),alias:"Remove Line Comment",precondition:T.writable,kbOpts:{kbExpr:T.editorTextFocus,primary:Pi(2089,2099),weight:100}})}},cF=class extends Q{constructor(){super({id:"editor.action.blockComment",label:_("comment.block","Toggle Block Comment"),alias:"Toggle Block Comment",precondition:T.writable,kbOpts:{kbExpr:T.editorTextFocus,primary:1567,linux:{primary:3103},weight:100},menuOpts:{menuId:be.MenubarEditMenu,group:"5_insert",title:_({key:"miToggleBlockComment",comment:["&& denotes a mnemonic"]},"Toggle &&Block Comment"),order:2}})}run(t,e){let i=t.get(yi);if(!e.hasModel())return;let o=e.getOption(23),r=[],s=e.getSelections();for(let a of s)r.push(new od(a,o.insertSpace,i));e.pushUndoStop(),e.executeCommands(this.id,r),e.pushUndoStop()}};V(sF);V(aF);V(lF);V(cF);_t();Th();ue();tr();it();Kt();Re();$i();pt();bn();var gye=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},Mm=function(n,t){return function(e,i){t(e,i,n)}},dF,km=class{static{dF=this}static{this.ID="editor.contrib.contextmenu"}static get(e){return e.getContribution(dF.ID)}constructor(e,i,o,r,s,a,l,c){this._contextMenuService=i,this._contextViewService=o,this._contextKeyService=r,this._keybindingService=s,this._menuService=a,this._configurationService=l,this._workspaceContextService=c,this._toDispose=new G,this._contextMenuIsBeingShownCount=0,this._editor=e,this._toDispose.add(this._editor.onContextMenu(d=>this._onContextMenu(d))),this._toDispose.add(this._editor.onMouseWheel(d=>{if(this._contextMenuIsBeingShownCount>0){let u=this._contextViewService.getContextViewElement(),h=d.srcElement;h.shadowRoot&&B4(u)===h.shadowRoot||this._contextViewService.hideContextView()}})),this._toDispose.add(this._editor.onKeyDown(d=>{this._editor.getOption(24)&&d.keyCode===58&&(d.preventDefault(),d.stopPropagation(),this.showContextMenu())}))}_onContextMenu(e){if(!this._editor.hasModel())return;if(!this._editor.getOption(24)){this._editor.focus(),e.target.position&&!this._editor.getSelection().containsPosition(e.target.position)&&this._editor.setPosition(e.target.position);return}if(e.target.type===12||e.target.type===6&&e.target.detail.injectedText)return;if(e.event.preventDefault(),e.event.stopPropagation(),e.target.type===11)return this._showScrollbarContextMenu(e.event);if(e.target.type!==6&&e.target.type!==7&&e.target.type!==1)return;if(this._editor.focus(),e.target.position){let o=!1;for(let r of this._editor.getSelections())if(r.containsPosition(e.target.position)){o=!0;break}o||this._editor.setPosition(e.target.position)}let i=null;e.target.type!==1&&(i=e.event),this.showContextMenu(i)}showContextMenu(e){if(!this._editor.getOption(24)||!this._editor.hasModel())return;let i=this._getMenuActions(this._editor.getModel(),this._editor.contextMenuId);i.length>0&&this._doShowContextMenu(i,e)}_getMenuActions(e,i){let o=[],r=this._menuService.getMenuActions(i,this._contextKeyService,{arg:e.uri});for(let s of r){let[,a]=s,l=0;for(let c of a)if(c instanceof X4){let d=this._getMenuActions(e,c.item.submenu);d.length>0&&(o.push(new yR(c.id,c.label,d)),l++)}else o.push(c),l++;l&&o.push(new xc)}return o.length&&o.pop(),o}_doShowContextMenu(e,i=null){if(!this._editor.hasModel())return;let o=this._editor.getOption(60);this._editor.updateOptions({hover:{enabled:!1}});let r=i;if(!r){this._editor.revealPosition(this._editor.getPosition(),1),this._editor.render();let a=this._editor.getScrolledVisiblePosition(this._editor.getPosition()),l=Gi(this._editor.getDomNode()),c=l.left+a.left,d=l.top+a.top+a.height;r={x:c,y:d}}let s=this._editor.getOption(128)&&!cv;this._contextMenuIsBeingShownCount++,this._contextMenuService.showContextMenu({domForShadowRoot:s?this._editor.getOverflowWidgetsDomNode()??this._editor.getDomNode():void 0,getAnchor:()=>r,getActions:()=>e,getActionViewItem:a=>{let l=this._keybindingFor(a);if(l)return new Rv(a,a,{label:!0,keybinding:l.getLabel(),isMenu:!0});let c=a;return typeof c.getActionViewItem=="function"?c.getActionViewItem():new Rv(a,a,{icon:!0,label:!0,isMenu:!0})},getKeyBinding:a=>this._keybindingFor(a),onHide:a=>{this._contextMenuIsBeingShownCount--,this._editor.updateOptions({hover:o})}})}_showScrollbarContextMenu(e){if(!this._editor.hasModel()||DU(this._workspaceContextService.getWorkspace()))return;let i=this._editor.getOption(73),o=0,r=d=>({id:`menu-action-${++o}`,label:d.label,tooltip:"",class:void 0,enabled:typeof d.enabled>"u"?!0:d.enabled,checked:d.checked,run:d.run}),s=(d,u)=>new yR(`menu-action-${++o}`,d,u,void 0),a=(d,u,h,m,f)=>{if(!u)return r({label:d,enabled:u,run:()=>{}});let p=v=>()=>{this._configurationService.updateValue(h,v)},g=[];for(let v of f)g.push(r({label:v.label,checked:m===v.value,run:p(v.value)}));return s(d,g)},l=[];l.push(r({label:_("context.minimap.minimap","Minimap"),checked:i.enabled,run:()=>{this._configurationService.updateValue("editor.minimap.enabled",!i.enabled)}})),l.push(new xc),l.push(r({label:_("context.minimap.renderCharacters","Render Characters"),enabled:i.enabled,checked:i.renderCharacters,run:()=>{this._configurationService.updateValue("editor.minimap.renderCharacters",!i.renderCharacters)}})),l.push(a(_("context.minimap.size","Vertical size"),i.enabled,"editor.minimap.size",i.size,[{label:_("context.minimap.size.proportional","Proportional"),value:"proportional"},{label:_("context.minimap.size.fill","Fill"),value:"fill"},{label:_("context.minimap.size.fit","Fit"),value:"fit"}])),l.push(a(_("context.minimap.slider","Slider"),i.enabled,"editor.minimap.showSlider",i.showSlider,[{label:_("context.minimap.slider.mouseover","Mouse Over"),value:"mouseover"},{label:_("context.minimap.slider.always","Always"),value:"always"}]));let c=this._editor.getOption(128)&&!cv;this._contextMenuIsBeingShownCount++,this._contextMenuService.showContextMenu({domForShadowRoot:c?this._editor.getDomNode():void 0,getAnchor:()=>e,getActions:()=>l,onHide:d=>{this._contextMenuIsBeingShownCount--,this._editor.focus()}})}_keybindingFor(e){return this._keybindingService.lookupKeybinding(e.id)}dispose(){this._contextMenuIsBeingShownCount>0&&this._contextViewService.hideContextView(),this._toDispose.dispose()}};km=dF=gye([Mm(1,Qs),Mm(2,Nd),Mm(3,Ze),Mm(4,Vt),Mm(5,Ys),Mm(6,vt),Mm(7,Lc)],km);var uF=class extends Q{constructor(){super({id:"editor.action.showContextMenu",label:_("action.showContextMenu.label","Show Editor Context Menu"),alias:"Show Editor Context Menu",precondition:void 0,kbOpts:{kbExpr:T.textInputFocus,primary:1092,weight:100}})}run(t,e){km.get(e)?.showContextMenu()}};Te(km.ID,km,2);V(uF);ue();it();Kt();Re();var Py=class{constructor(t){this.selections=t}equals(t){let e=this.selections.length,i=t.selections.length;if(e!==i)return!1;for(let o=0;o<e;o++)if(!this.selections[o].equalsSelection(t.selections[o]))return!1;return!0}},Ly=class{constructor(t,e,i){this.cursorState=t,this.scrollTop=e,this.scrollLeft=i}},kE=(()=>{class n extends U{static{this.ID="editor.contrib.cursorUndoRedoController"}static get(e){return e.getContribution(n.ID)}constructor(e){super(),this._editor=e,this._isCursorUndoRedo=!1,this._undoStack=[],this._redoStack=[],this._register(e.onDidChangeModel(i=>{this._undoStack=[],this._redoStack=[]})),this._register(e.onDidChangeModelContent(i=>{this._undoStack=[],this._redoStack=[]})),this._register(e.onDidChangeCursorSelection(i=>{if(this._isCursorUndoRedo||!i.oldSelections||i.oldModelVersionId!==i.modelVersionId)return;let o=new Py(i.oldSelections);this._undoStack.length>0&&this._undoStack[this._undoStack.length-1].cursorState.equals(o)||(this._undoStack.push(new Ly(o,e.getScrollTop(),e.getScrollLeft())),this._redoStack=[],this._undoStack.length>50&&this._undoStack.shift())}))}cursorUndo(){!this._editor.hasModel()||this._undoStack.length===0||(this._redoStack.push(new Ly(new Py(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._undoStack.pop()))}cursorRedo(){!this._editor.hasModel()||this._redoStack.length===0||(this._undoStack.push(new Ly(new Py(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._redoStack.pop()))}_applyState(e){this._isCursorUndoRedo=!0,this._editor.setSelections(e.cursorState.selections),this._editor.setScrollPosition({scrollTop:e.scrollTop,scrollLeft:e.scrollLeft}),this._isCursorUndoRedo=!1}}return n})(),hF=class extends Q{constructor(){super({id:"cursorUndo",label:_("cursor.undo","Cursor Undo"),alias:"Cursor Undo",precondition:void 0,kbOpts:{kbExpr:T.textInputFocus,primary:2099,weight:100}})}run(t,e,i){kE.get(e)?.cursorUndo()}},mF=class extends Q{constructor(){super({id:"cursorRedo",label:_("cursor.redo","Cursor Redo"),alias:"Cursor Redo",precondition:void 0})}run(t,e,i){kE.get(e)?.cursorRedo()}};Te(kE.ID,kE,0);V(hF);V(mF);ue();tr();it();hi();qe();Nn();wn();qe();Nn();var TE=class{constructor(t,e,i){this.selection=t,this.targetPosition=e,this.copy=i,this.targetSelection=null}getEditOperations(t,e){let i=t.getValueInRange(this.selection);if(this.copy||e.addEditOperation(this.selection,null),e.addEditOperation(new A(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column),i),this.selection.containsPosition(this.targetPosition)&&!(this.copy&&(this.selection.getEndPosition().equals(this.targetPosition)||this.selection.getStartPosition().equals(this.targetPosition)))){this.targetSelection=this.selection;return}if(this.copy){this.targetSelection=new Be(this.targetPosition.lineNumber,this.targetPosition.column,this.selection.endLineNumber-this.selection.startLineNumber+this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}if(this.targetPosition.lineNumber>this.selection.endLineNumber){this.targetSelection=new Be(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}if(this.targetPosition.lineNumber<this.selection.endLineNumber){this.targetSelection=new Be(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber+this.selection.endLineNumber-this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}this.selection.endColumn<=this.targetPosition.column?this.targetSelection=new Be(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column-this.selection.endColumn+this.selection.startColumn:this.targetPosition.column-this.selection.endColumn+this.selection.startColumn,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column:this.selection.endColumn):this.targetSelection=new Be(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column+this.selection.endColumn-this.selection.startColumn)}computeCursorState(t,e){return this.targetSelection}};function Rg(n){return fr?n.altKey:n.ctrlKey}var AE=class n extends U{static{this.ID="editor.contrib.dragAndDrop"}static{this.TRIGGER_KEY_VALUE=fr?6:5}constructor(t){super(),this._editor=t,this._dndDecorationIds=this._editor.createDecorationsCollection(),this._register(this._editor.onMouseDown(e=>this._onEditorMouseDown(e))),this._register(this._editor.onMouseUp(e=>this._onEditorMouseUp(e))),this._register(this._editor.onMouseDrag(e=>this._onEditorMouseDrag(e))),this._register(this._editor.onMouseDrop(e=>this._onEditorMouseDrop(e))),this._register(this._editor.onMouseDropCanceled(()=>this._onEditorMouseDropCanceled())),this._register(this._editor.onKeyDown(e=>this.onEditorKeyDown(e))),this._register(this._editor.onKeyUp(e=>this.onEditorKeyUp(e))),this._register(this._editor.onDidBlurEditorWidget(()=>this.onEditorBlur())),this._register(this._editor.onDidBlurEditorText(()=>this.onEditorBlur())),this._mouseDown=!1,this._modifierPressed=!1,this._dragSelection=null}onEditorBlur(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1}onEditorKeyDown(t){!this._editor.getOption(35)||this._editor.getOption(22)||(Rg(t)&&(this._modifierPressed=!0),this._mouseDown&&Rg(t)&&this._editor.updateOptions({mouseStyle:"copy"}))}onEditorKeyUp(t){!this._editor.getOption(35)||this._editor.getOption(22)||(Rg(t)&&(this._modifierPressed=!1),this._mouseDown&&t.keyCode===n.TRIGGER_KEY_VALUE&&this._editor.updateOptions({mouseStyle:"default"}))}_onEditorMouseDown(t){this._mouseDown=!0}_onEditorMouseUp(t){this._mouseDown=!1,this._editor.updateOptions({mouseStyle:"text"})}_onEditorMouseDrag(t){let e=t.target;if(this._dragSelection===null){let o=(this._editor.getSelections()||[]).filter(r=>e.position&&r.containsPosition(e.position));if(o.length===1)this._dragSelection=o[0];else return}Rg(t.event)?this._editor.updateOptions({mouseStyle:"copy"}):this._editor.updateOptions({mouseStyle:"default"}),e.position&&(this._dragSelection.containsPosition(e.position)?this._removeDecoration():this.showAt(e.position))}_onEditorMouseDropCanceled(){this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}_onEditorMouseDrop(t){if(t.target&&(this._hitContent(t.target)||this._hitMargin(t.target))&&t.target.position){let e=new pe(t.target.position.lineNumber,t.target.position.column);if(this._dragSelection===null){let i=null;if(t.event.shiftKey){let o=this._editor.getSelection();if(o){let{selectionStartLineNumber:r,selectionStartColumn:s}=o;i=[new Be(r,s,e.lineNumber,e.column)]}}else i=(this._editor.getSelections()||[]).map(o=>o.containsPosition(e)?new Be(e.lineNumber,e.column,e.lineNumber,e.column):o);this._editor.setSelections(i||[],"mouse",3)}else(!this._dragSelection.containsPosition(e)||(Rg(t.event)||this._modifierPressed)&&(this._dragSelection.getEndPosition().equals(e)||this._dragSelection.getStartPosition().equals(e)))&&(this._editor.pushUndoStop(),this._editor.executeCommand(n.ID,new TE(this._dragSelection,e,Rg(t.event)||this._modifierPressed)),this._editor.pushUndoStop())}this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}static{this._DECORATION_OPTIONS=lt.register({description:"dnd-target",className:"dnd-target"})}showAt(t){this._dndDecorationIds.set([{range:new A(t.lineNumber,t.column,t.lineNumber,t.column),options:n._DECORATION_OPTIONS}]),this._editor.revealPosition(t,1)}_removeDecoration(){this._dndDecorationIds.clear()}_hitContent(t){return t.type===6||t.type===7}_hitMargin(t){return t.type===2||t.type===3||t.type===4}dispose(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1,super.dispose()}};Te(AE.ID,AE,2);it();Kt();Re();Te(Ya.ID,Ya,0);ta(fI);ze(new class extends Ki{constructor(){super({id:RL,precondition:wI,kbOpts:{weight:100,primary:2137}})}runEditorCommand(n,t){return Ya.get(t)?.changePasteType()}});ze(new class extends Ki{constructor(){super({id:"editor.hidePasteWidget",precondition:wI,kbOpts:{weight:100,primary:9}})}runEditorCommand(n,t){Ya.get(t)?.clearWidgets()}});V(class $K extends Q{static{this.argsSchema={type:"object",properties:{kind:{type:"string",description:_("pasteAs.kind","The kind of the paste edit to try applying. If not provided or there are multiple edits for this kind, the editor will show a picker.")}}}}constructor(){super({id:"editor.action.pasteAs",label:_("pasteAs","Paste As..."),alias:"Paste As...",precondition:T.writable,metadata:{description:"Paste as",args:[{name:"args",schema:$K.argsSchema}]}})}run(t,e,i){let o=typeof i?.kind=="string"?i.kind:void 0;return!o&&i&&(o=typeof i.id=="string"?i.id:void 0),Ya.get(e)?.pasteAs(o?new Qt(o):void 0)}});V(class extends Q{constructor(){super({id:"editor.action.pasteAsText",label:_("pasteAsText","Paste as Text"),alias:"Paste as Text",precondition:T.writable})}run(n,t){return Ya.get(t)?.pasteAs({providerId:Zc.id})}});it();Re();DR();Cc();Oi();Ht();ue();qe();Lt();var RE=class{constructor(){this._dragOperations=new Map}removeDragOperationTransfer(t){if(t&&this._dragOperations.has(t)){let e=this._dragOperations.get(t);return this._dragOperations.delete(t),e}}},Ny=class{constructor(t){this.identifier=t}};Sc();Ot();var pF=jo("treeViewsDndService");qo(pF,RE,1);Bh();Re();bn();pt();Ot();var _ye=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},OE=function(n,t){return function(e,i){t(e,i,n)}},fF,gF="editor.experimental.dropIntoEditor.defaultProvider",_F="editor.changeDropType",PE=new ot("dropWidgetVisible",!1,_("dropWidgetVisible","Whether the drop widget is showing")),Tm=class extends U{static{fF=this}static{this.ID="editor.contrib.dropIntoEditorController"}static get(e){return e.getContribution(fF.ID)}constructor(e,i,o,r,s){super(),this._configService=o,this._languageFeaturesService=r,this._treeViewsDragAndDropService=s,this.treeItemsTransfer=dI.getInstance(),this._dropProgressManager=this._register(i.createInstance(sg,"dropIntoEditor",e)),this._postDropWidgetManager=this._register(i.createInstance(cg,"dropIntoEditor",e,PE,{id:_F,label:_("postDropWidgetTitle","Show drop options...")})),this._register(e.onDropIntoEditor(a=>this.onDropIntoEditor(e,a.position,a.event)))}clearWidgets(){this._postDropWidgetManager.clear()}changeDropType(){this._postDropWidgetManager.tryShowSelector()}onDropIntoEditor(e,i,o){return M(this,null,function*(){if(!o.dataTransfer||!e.hasModel())return;this._currentOperation?.cancel(),e.focus(),e.setPosition(i);let r=Ci(s=>M(this,null,function*(){let a=new G,l=a.add(new Ml(e,1,void 0,s));try{let c=yield this.extractDataTransferData(o);if(c.size===0||l.token.isCancellationRequested)return;let d=e.getModel();if(!d)return;let u=this._languageFeaturesService.documentDropEditProvider.ordered(d).filter(m=>m.dropMimeTypes?m.dropMimeTypes.some(f=>c.matches(f)):!0),h=a.add(yield this.getDropEdits(u,d,i,c,l));if(l.token.isCancellationRequested)return;if(h.edits.length){let m=this.getInitialActiveEditIndex(d,h.edits),f=e.getOption(36).showDropSelector==="afterDrop";yield this._postDropWidgetManager.applyEditAndShowIfNeeded([A.fromPositions(i)],{activeEditIndex:m,allEdits:h.edits},f,p=>M(this,null,function*(){return p}),s)}}finally{a.dispose(),this._currentOperation===r&&(this._currentOperation=void 0)}}));this._dropProgressManager.showWhile(i,_("dropIntoEditorProgress","Running drop handlers. Click to cancel"),r,{cancel:()=>r.cancel()}),this._currentOperation=r})}getDropEdits(e,i,o,r,s){return M(this,null,function*(){let a=new G,l=yield fl(Promise.all(e.map(d=>M(this,null,function*(){try{let u=yield d.provideDocumentDropEdits(i,o,r,s.token);return u&&a.add(u),u?.edits.map(h=>Ae(j({},h),{providerId:d.id}))}catch(u){console.error(u)}}))),s.token),c=er(l??[]).flat();return{edits:vI(c),dispose:()=>a.dispose()}})}getInitialActiveEditIndex(e,i){let o=this._configService.getValue(gF,{resource:e.uri});for(let[r,s]of Object.entries(o)){let a=new Qt(s),l=i.findIndex(c=>a.value===c.providerId&&c.handledMimeType&&cI(r,[c.handledMimeType]));if(l>=0)return l}return 0}extractDataTransferData(e){return M(this,null,function*(){if(!e.dataTransfer)return new og;let i=uI(e.dataTransfer);if(this.treeItemsTransfer.hasData(Ny.prototype)){let o=this.treeItemsTransfer.getData(Ny.prototype);if(Array.isArray(o))for(let r of o){let s=yield this._treeViewsDragAndDropService.removeDragOperationTransfer(r.identifier);if(s)for(let[a,l]of s)i.replace(a,l)}}return i})}};Tm=fF=_ye([OE(1,Me),OE(2,vt),OE(3,ce),OE(4,pF)],Tm);Te(Tm.ID,Tm,2);ta(pI);ze(new class extends Ki{constructor(){super({id:_F,precondition:PE,kbOpts:{weight:100,primary:2137}})}runEditorCommand(n,t,e){Tm.get(t)?.changeDropType()}});ze(new class extends Ki{constructor(){super({id:"editor.hideDropWidget",precondition:PE,kbOpts:{weight:100,primary:9}})}runEditorCommand(n,t,e){Tm.get(t)?.clearWidgets()}});yo.as(Od.Configuration).registerConfiguration(Ae(j({},zp),{properties:{[gF]:{type:"object",scope:5,description:_("defaultProviderDescription","Configures the default drop provider to use for content of a given mime type."),default:{},additionalProperties:{type:"string"}}}}));Ht();ue();zi();it();UR();Kt();Na();wv();Ht();ue();hi();qe();Nn();wue();qe();Na();wn();Po();Oo();var LE=class n{constructor(t){this._editor=t,this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null,this._startPosition=this._editor.getPosition()}dispose(){this._editor.removeDecorations(this._allDecorations()),this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}reset(){this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}getCount(){return this._decorations.length}getFindScope(){return this._findScopeDecorationIds[0]?this._editor.getModel().getDecorationRange(this._findScopeDecorationIds[0]):null}getFindScopes(){if(this._findScopeDecorationIds.length){let t=this._findScopeDecorationIds.map(e=>this._editor.getModel().getDecorationRange(e)).filter(e=>!!e);if(t.length)return t}return null}getStartPosition(){return this._startPosition}setStartPosition(t){this._startPosition=t,this.setCurrentFindMatch(null)}_getDecorationIndex(t){let e=this._decorations.indexOf(t);return e>=0?e+1:1}getDecorationRangeAt(t){let e=t<this._decorations.length?this._decorations[t]:null;return e?this._editor.getModel().getDecorationRange(e):null}getCurrentMatchesPosition(t){let e=this._editor.getModel().getDecorationsInRange(t);for(let i of e){let o=i.options;if(o===n._FIND_MATCH_DECORATION||o===n._CURRENT_FIND_MATCH_DECORATION)return this._getDecorationIndex(i.id)}return 0}setCurrentFindMatch(t){let e=null,i=0;if(t)for(let o=0,r=this._decorations.length;o<r;o++){let s=this._editor.getModel().getDecorationRange(this._decorations[o]);if(t.equalsRange(s)){e=this._decorations[o],i=o+1;break}}return(this._highlightedDecorationId!==null||e!==null)&&this._editor.changeDecorations(o=>{if(this._highlightedDecorationId!==null&&(o.changeDecorationOptions(this._highlightedDecorationId,n._FIND_MATCH_DECORATION),this._highlightedDecorationId=null),e!==null&&(this._highlightedDecorationId=e,o.changeDecorationOptions(this._highlightedDecorationId,n._CURRENT_FIND_MATCH_DECORATION)),this._rangeHighlightDecorationId!==null&&(o.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),e!==null){let r=this._editor.getModel().getDecorationRange(e);if(r.startLineNumber!==r.endLineNumber&&r.endColumn===1){let s=r.endLineNumber-1,a=this._editor.getModel().getLineMaxColumn(s);r=new A(r.startLineNumber,r.startColumn,s,a)}this._rangeHighlightDecorationId=o.addDecoration(r,n._RANGE_HIGHLIGHT_DECORATION)}}),i}set(t,e){this._editor.changeDecorations(i=>{let o=n._FIND_MATCH_DECORATION,r=[];if(t.length>1e3){o=n._FIND_MATCH_NO_OVERVIEW_DECORATION;let a=this._editor.getModel().getLineCount(),c=this._editor.getLayoutInfo().height/a,d=Math.max(2,Math.ceil(3/c)),u=t[0].range.startLineNumber,h=t[0].range.endLineNumber;for(let m=1,f=t.length;m<f;m++){let p=t[m].range;h+d>=p.startLineNumber?p.endLineNumber>h&&(h=p.endLineNumber):(r.push({range:new A(u,1,h,1),options:n._FIND_MATCH_ONLY_OVERVIEW_DECORATION}),u=p.startLineNumber,h=p.endLineNumber)}r.push({range:new A(u,1,h,1),options:n._FIND_MATCH_ONLY_OVERVIEW_DECORATION})}let s=new Array(t.length);for(let a=0,l=t.length;a<l;a++)s[a]={range:t[a].range,options:o};this._decorations=i.deltaDecorations(this._decorations,s),this._overviewRulerApproximateDecorations=i.deltaDecorations(this._overviewRulerApproximateDecorations,r),this._rangeHighlightDecorationId&&(i.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),this._findScopeDecorationIds.length&&(this._findScopeDecorationIds.forEach(a=>i.removeDecoration(a)),this._findScopeDecorationIds=[]),e?.length&&(this._findScopeDecorationIds=e.map(a=>i.addDecoration(a,n._FIND_SCOPE_DECORATION)))})}matchBeforePosition(t){if(this._decorations.length===0)return null;for(let e=this._decorations.length-1;e>=0;e--){let i=this._decorations[e],o=this._editor.getModel().getDecorationRange(i);if(!(!o||o.endLineNumber>t.lineNumber)){if(o.endLineNumber<t.lineNumber)return o;if(!(o.endColumn>t.column))return o}}return this._editor.getModel().getDecorationRange(this._decorations[this._decorations.length-1])}matchAfterPosition(t){if(this._decorations.length===0)return null;for(let e=0,i=this._decorations.length;e<i;e++){let o=this._decorations[e],r=this._editor.getModel().getDecorationRange(o);if(!(!r||r.startLineNumber<t.lineNumber)){if(r.startLineNumber>t.lineNumber)return r;if(!(r.startColumn<t.column))return r}}return this._editor.getModel().getDecorationRange(this._decorations[0])}_allDecorations(){let t=[];return t=t.concat(this._decorations),t=t.concat(this._overviewRulerApproximateDecorations),this._findScopeDecorationIds.length&&t.push(...this._findScopeDecorationIds),this._rangeHighlightDecorationId&&t.push(this._rangeHighlightDecorationId),t}static{this._CURRENT_FIND_MATCH_DECORATION=lt.register({description:"current-find-match",stickiness:1,zIndex:13,className:"currentFindMatch",inlineClassName:"currentFindMatchInline",showIfCollapsed:!0,overviewRuler:{color:Bi(Yx),position:Lr.Center},minimap:{color:Bi(OR),position:1}})}static{this._FIND_MATCH_DECORATION=lt.register({description:"find-match",stickiness:1,zIndex:10,className:"findMatch",inlineClassName:"findMatchInline",showIfCollapsed:!0,overviewRuler:{color:Bi(Yx),position:Lr.Center},minimap:{color:Bi(OR),position:1}})}static{this._FIND_MATCH_NO_OVERVIEW_DECORATION=lt.register({description:"find-match-no-overview",stickiness:1,className:"findMatch",showIfCollapsed:!0})}static{this._FIND_MATCH_ONLY_OVERVIEW_DECORATION=lt.register({description:"find-match-only-overview",stickiness:1,overviewRuler:{color:Bi(Yx),position:Lr.Center}})}static{this._RANGE_HIGHLIGHT_DECORATION=lt.register({description:"find-range-highlight",stickiness:1,className:"rangeHighlight",isWholeLine:!0})}static{this._FIND_SCOPE_DECORATION=lt.register({description:"find-scope",className:"findScope",isWholeLine:!0})}};qe();var NE=class{constructor(t,e,i){this._editorSelection=t,this._ranges=e,this._replaceStrings=i,this._trackedEditorSelectionId=null}getEditOperations(t,e){if(this._ranges.length>0){let i=[];for(let s=0;s<this._ranges.length;s++)i.push({range:this._ranges[s],text:this._replaceStrings[s]});i.sort((s,a)=>A.compareRangesUsingStarts(s.range,a.range));let o=[],r=i[0];for(let s=1;s<i.length;s++)r.range.endLineNumber===i[s].range.startLineNumber&&r.range.endColumn===i[s].range.startColumn?(r.range=r.range.plusRange(i[s].range),r.text=r.text+i[s].text):(o.push(r),r=i[s]);o.push(r);for(let s of o)e.addEditOperation(s.range,s.text)}this._trackedEditorSelectionId=e.trackSelection(this._editorSelection)}computeCursorState(t,e){return e.getTrackedSelection(this._trackedEditorSelectionId)}};zi();function vF(n,t){if(n&&n[0]!==""){let e=KK(n,t,"-"),i=KK(n,t,"_");return e&&!i?YK(n,t,"-"):!e&&i?YK(n,t,"_"):n[0].toUpperCase()===n[0]?t.toUpperCase():n[0].toLowerCase()===n[0]?t.toLowerCase():D4(n[0][0])&&t.length>0?t[0].toUpperCase()+t.substr(1):n[0][0].toUpperCase()!==n[0][0]&&t.length>0?t[0].toLowerCase()+t.substr(1):t}else return t}function KK(n,t,e){return n[0].indexOf(e)!==-1&&t.indexOf(e)!==-1&&n[0].split(e).length===t.split(e).length}function YK(n,t,e){let i=t.split(e),o=n[0].split(e),r="";return i.forEach((s,a)=>{r+=vF([o[a]],s)+e}),r.slice(0,-1)}var FE=class{constructor(t){this.staticValue=t,this.kind=0}},bF=class{constructor(t){this.pieces=t,this.kind=1}},Pg=class n{static fromStaticValue(t){return new n([Og.staticValue(t)])}get hasReplacementPatterns(){return this._state.kind===1}constructor(t){!t||t.length===0?this._state=new FE(""):t.length===1&&t[0].staticValue!==null?this._state=new FE(t[0].staticValue):this._state=new bF(t)}buildReplaceString(t,e){if(this._state.kind===0)return e?vF(t,this._state.staticValue):this._state.staticValue;let i="";for(let o=0,r=this._state.pieces.length;o<r;o++){let s=this._state.pieces[o];if(s.staticValue!==null){i+=s.staticValue;continue}let a=n._substitute(s.matchIndex,t);if(s.caseOps!==null&&s.caseOps.length>0){let l=[],c=s.caseOps.length,d=0;for(let u=0,h=a.length;u<h;u++){if(d>=c){l.push(a.slice(u));break}switch(s.caseOps[d]){case"U":l.push(a[u].toUpperCase());break;case"u":l.push(a[u].toUpperCase()),d++;break;case"L":l.push(a[u].toLowerCase());break;case"l":l.push(a[u].toLowerCase()),d++;break;default:l.push(a[u])}}a=l.join("")}i+=a}return i}static _substitute(t,e){if(e===null)return"";if(t===0)return e[0];let i="";for(;t>0;){if(t<e.length)return(e[t]||"")+i;i=String(t%10)+i,t=Math.floor(t/10)}return"$"+i}},Og=class n{static staticValue(t){return new n(t,-1,null)}static caseOps(t,e){return new n(null,t,e)}constructor(t,e,i){this.staticValue=t,this.matchIndex=e,!i||i.length===0?this.caseOps=null:this.caseOps=i.slice(0)}},yF=class{constructor(t){this._source=t,this._lastCharIndex=0,this._result=[],this._resultLen=0,this._currentStaticPiece=""}emitUnchanged(t){this._emitStatic(this._source.substring(this._lastCharIndex,t)),this._lastCharIndex=t}emitStatic(t,e){this._emitStatic(t),this._lastCharIndex=e}_emitStatic(t){t.length!==0&&(this._currentStaticPiece+=t)}emitMatchIndex(t,e,i){this._currentStaticPiece.length!==0&&(this._result[this._resultLen++]=Og.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),this._result[this._resultLen++]=Og.caseOps(t,i),this._lastCharIndex=e}finalize(){return this.emitUnchanged(this._source.length),this._currentStaticPiece.length!==0&&(this._result[this._resultLen++]=Og.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),new Pg(this._result)}};function XK(n){if(!n||n.length===0)return new Pg(null);let t=[],e=new yF(n);for(let i=0,o=n.length;i<o;i++){let r=n.charCodeAt(i);if(r===92){if(i++,i>=o)break;let s=n.charCodeAt(i);switch(s){case 92:e.emitUnchanged(i-1),e.emitStatic("\\",i+1);break;case 110:e.emitUnchanged(i-1),e.emitStatic(`
`,i+1);break;case 116:e.emitUnchanged(i-1),e.emitStatic("	",i+1);break;case 117:case 85:case 108:case 76:e.emitUnchanged(i-1),e.emitStatic("",i+1),t.push(String.fromCharCode(s));break}continue}if(r===36){if(i++,i>=o)break;let s=n.charCodeAt(i);if(s===36){e.emitUnchanged(i-1),e.emitStatic("$",i+1);continue}if(s===48||s===38){e.emitUnchanged(i-1),e.emitMatchIndex(0,i+1,t),t.length=0;continue}if(49<=s&&s<=57){let a=s-48;if(i+1<o){let l=n.charCodeAt(i+1);if(48<=l&&l<=57){i++,a=a*10+(l-48),e.emitUnchanged(i-2),e.emitMatchIndex(a,i+1,t),t.length=0;continue}}e.emitUnchanged(i-1),e.emitMatchIndex(a,i+1,t),t.length=0;continue}}}return e.finalize()}pt();var ql=new ot("findWidgetVisible",!1),KSt=ql.toNegated(),Lg=new ot("findInputFocussed",!1),Fy=new ot("replaceInputFocussed",!1),zy={primary:545,mac:{primary:2593}},By={primary:565,mac:{primary:2613}},Hy={primary:560,mac:{primary:2608}},Vy={primary:554,mac:{primary:2602}},Wy={primary:558,mac:{primary:2606}},Si={StartFindAction:"actions.find",StartFindWithSelection:"actions.findWithSelection",StartFindWithArgs:"editor.actions.findWithArgs",NextMatchFindAction:"editor.action.nextMatchFindAction",PreviousMatchFindAction:"editor.action.previousMatchFindAction",GoToMatchFindAction:"editor.action.goToMatchFindAction",NextSelectionMatchFindAction:"editor.action.nextSelectionMatchFindAction",PreviousSelectionMatchFindAction:"editor.action.previousSelectionMatchFindAction",StartFindReplaceAction:"editor.action.startFindReplaceAction",CloseFindWidgetCommand:"closeFindWidget",ToggleCaseSensitiveCommand:"toggleFindCaseSensitive",ToggleWholeWordCommand:"toggleFindWholeWord",ToggleRegexCommand:"toggleFindRegex",ToggleSearchScopeCommand:"toggleFindInSelection",TogglePreserveCaseCommand:"togglePreserveCase",ReplaceOneAction:"editor.action.replaceOne",ReplaceAllAction:"editor.action.replaceAll",SelectAllMatchesAction:"editor.action.selectAllMatches"},Ul=19999,vye=240,zE=class n{constructor(t,e){this._toDispose=new G,this._editor=t,this._state=e,this._isDisposed=!1,this._startSearchingTimer=new gl,this._decorations=new LE(t),this._toDispose.add(this._decorations),this._updateDecorationsScheduler=new ai(()=>{if(this._editor.hasModel())return this.research(!1)},100),this._toDispose.add(this._updateDecorationsScheduler),this._toDispose.add(this._editor.onDidChangeCursorPosition(i=>{(i.reason===3||i.reason===5||i.reason===6)&&this._decorations.setStartPosition(this._editor.getPosition())})),this._ignoreModelContentChanged=!1,this._toDispose.add(this._editor.onDidChangeModelContent(i=>{this._ignoreModelContentChanged||(i.isFlush&&this._decorations.reset(),this._decorations.setStartPosition(this._editor.getPosition()),this._updateDecorationsScheduler.schedule())})),this._toDispose.add(this._state.onFindReplaceStateChange(i=>this._onStateChanged(i))),this.research(!1,this._state.searchScope)}dispose(){this._isDisposed=!0,dn(this._startSearchingTimer),this._toDispose.dispose()}_onStateChanged(t){this._isDisposed||this._editor.hasModel()&&(t.searchString||t.isReplaceRevealed||t.isRegex||t.wholeWord||t.matchCase||t.searchScope)&&(this._editor.getModel().isTooLargeForSyncing()?(this._startSearchingTimer.cancel(),this._startSearchingTimer.setIfNotSet(()=>{t.searchScope?this.research(t.moveCursor,this._state.searchScope):this.research(t.moveCursor)},vye)):t.searchScope?this.research(t.moveCursor,this._state.searchScope):this.research(t.moveCursor))}static _getSearchRange(t,e){return e||t.getFullModelRange()}research(t,e){let i=null;typeof e<"u"?e!==null&&(Array.isArray(e)?i=e:i=[e]):i=this._decorations.getFindScopes(),i!==null&&(i=i.map(a=>{if(a.startLineNumber!==a.endLineNumber){let l=a.endLineNumber;return a.endColumn===1&&(l=l-1),new A(a.startLineNumber,1,l,this._editor.getModel().getLineMaxColumn(l))}return a}));let o=this._findMatches(i,!1,Ul);this._decorations.set(o,i);let r=this._editor.getSelection(),s=this._decorations.getCurrentMatchesPosition(r);if(s===0&&o.length>0){let a=Wx(o.map(l=>l.range),l=>A.compareRangesUsingStarts(l,r)>=0);s=a>0?a-1+1:s}this._state.changeMatchInfo(s,this._decorations.getCount(),void 0),t&&this._editor.getOption(41).cursorMoveOnType&&this._moveToNextMatch(this._decorations.getStartPosition())}_hasMatches(){return this._state.matchesCount>0}_cannotFind(){if(!this._hasMatches()){let t=this._decorations.getFindScope();return t&&this._editor.revealRangeInCenterIfOutsideViewport(t,0),!0}return!1}_setCurrentFindMatch(t){let e=this._decorations.setCurrentFindMatch(t);this._state.changeMatchInfo(e,this._decorations.getCount(),t),this._editor.setSelection(t),this._editor.revealRangeInCenterIfOutsideViewport(t,0)}_prevSearchPosition(t){let e=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0),{lineNumber:i,column:o}=t,r=this._editor.getModel();return e||o===1?(i===1?i=r.getLineCount():i--,o=r.getLineMaxColumn(i)):o--,new pe(i,o)}_moveToPrevMatch(t,e=!1){if(!this._state.canNavigateBack()){let d=this._decorations.matchAfterPosition(t);d&&this._setCurrentFindMatch(d);return}if(this._decorations.getCount()<Ul){let d=this._decorations.matchBeforePosition(t);d&&d.isEmpty()&&d.getStartPosition().equals(t)&&(t=this._prevSearchPosition(t),d=this._decorations.matchBeforePosition(t)),d&&this._setCurrentFindMatch(d);return}if(this._cannotFind())return;let i=this._decorations.getFindScope(),o=n._getSearchRange(this._editor.getModel(),i);o.getEndPosition().isBefore(t)&&(t=o.getEndPosition()),t.isBefore(o.getStartPosition())&&(t=o.getEndPosition());let{lineNumber:r,column:s}=t,a=this._editor.getModel(),l=new pe(r,s),c=a.findPreviousMatch(this._state.searchString,l,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(132):null,!1);if(c&&c.range.isEmpty()&&c.range.getStartPosition().equals(l)&&(l=this._prevSearchPosition(l),c=a.findPreviousMatch(this._state.searchString,l,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(132):null,!1)),!!c){if(!e&&!o.containsRange(c.range))return this._moveToPrevMatch(c.range.getStartPosition(),!0);this._setCurrentFindMatch(c.range)}}moveToPrevMatch(){this._moveToPrevMatch(this._editor.getSelection().getStartPosition())}_nextSearchPosition(t){let e=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0),{lineNumber:i,column:o}=t,r=this._editor.getModel();return e||o===r.getLineMaxColumn(i)?(i===r.getLineCount()?i=1:i++,o=1):o++,new pe(i,o)}_moveToNextMatch(t){if(!this._state.canNavigateForward()){let i=this._decorations.matchBeforePosition(t);i&&this._setCurrentFindMatch(i);return}if(this._decorations.getCount()<Ul){let i=this._decorations.matchAfterPosition(t);i&&i.isEmpty()&&i.getStartPosition().equals(t)&&(t=this._nextSearchPosition(t),i=this._decorations.matchAfterPosition(t)),i&&this._setCurrentFindMatch(i);return}let e=this._getNextMatch(t,!1,!0);e&&this._setCurrentFindMatch(e.range)}_getNextMatch(t,e,i,o=!1){if(this._cannotFind())return null;let r=this._decorations.getFindScope(),s=n._getSearchRange(this._editor.getModel(),r);s.getEndPosition().isBefore(t)&&(t=s.getStartPosition()),t.isBefore(s.getStartPosition())&&(t=s.getStartPosition());let{lineNumber:a,column:l}=t,c=this._editor.getModel(),d=new pe(a,l),u=c.findNextMatch(this._state.searchString,d,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(132):null,e);return i&&u&&u.range.isEmpty()&&u.range.getStartPosition().equals(d)&&(d=this._nextSearchPosition(d),u=c.findNextMatch(this._state.searchString,d,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(132):null,e)),u?!o&&!s.containsRange(u.range)?this._getNextMatch(u.range.getEndPosition(),e,i,!0):u:null}moveToNextMatch(){this._moveToNextMatch(this._editor.getSelection().getEndPosition())}_moveToMatch(t){let e=this._decorations.getDecorationRangeAt(t);e&&this._setCurrentFindMatch(e)}moveToMatch(t){this._moveToMatch(t)}_getReplacePattern(){return this._state.isRegex?XK(this._state.replaceString):Pg.fromStaticValue(this._state.replaceString)}replace(){if(!this._hasMatches())return;let t=this._getReplacePattern(),e=this._editor.getSelection(),i=this._getNextMatch(e.getStartPosition(),!0,!1);if(i)if(e.equalsRange(i.range)){let o=t.buildReplaceString(i.matches,this._state.preserveCase),r=new zc(e,o);this._executeEditorCommand("replace",r),this._decorations.setStartPosition(new pe(e.startLineNumber,e.startColumn+o.length)),this.research(!0)}else this._decorations.setStartPosition(this._editor.getPosition()),this._setCurrentFindMatch(i.range)}_findMatches(t,e,i){let o=(t||[null]).map(r=>n._getSearchRange(this._editor.getModel(),r));return this._editor.getModel().findMatches(this._state.searchString,o,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(132):null,e,i)}replaceAll(){if(!this._hasMatches())return;let t=this._decorations.getFindScopes();t===null&&this._state.matchesCount>=Ul?this._largeReplaceAll():this._regularReplaceAll(t),this.research(!1)}_largeReplaceAll(){let e=new o5(this._state.searchString,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(132):null).parseSearchRequest();if(!e)return;let i=e.regex;if(!i.multiline){let u="mu";i.ignoreCase&&(u+="i"),i.global&&(u+="g"),i=new RegExp(i.source,u)}let o=this._editor.getModel(),r=o.getValue(1),s=o.getFullModelRange(),a=this._getReplacePattern(),l,c=this._state.preserveCase;a.hasReplacementPatterns||c?l=r.replace(i,function(){return a.buildReplaceString(arguments,c)}):l=r.replace(i,a.buildReplaceString(null,c));let d=new RC(s,l,this._editor.getSelection());this._executeEditorCommand("replaceAll",d)}_regularReplaceAll(t){let e=this._getReplacePattern(),i=this._findMatches(t,e.hasReplacementPatterns||this._state.preserveCase,1073741824),o=[];for(let s=0,a=i.length;s<a;s++)o[s]=e.buildReplaceString(i[s].matches,this._state.preserveCase);let r=new NE(this._editor.getSelection(),i.map(s=>s.range),o);this._executeEditorCommand("replaceAll",r)}selectAllMatches(){if(!this._hasMatches())return;let t=this._decorations.getFindScopes(),i=this._findMatches(t,!1,1073741824).map(r=>new Be(r.range.startLineNumber,r.range.startColumn,r.range.endLineNumber,r.range.endColumn)),o=this._editor.getSelection();for(let r=0,s=i.length;r<s;r++)if(i[r].equalsRange(o)){i=[o].concat(i.slice(0,r)).concat(i.slice(r+1));break}this._editor.setSelections(i)}_executeEditorCommand(t,e){try{this._ignoreModelContentChanged=!0,this._editor.pushUndoStop(),this._editor.executeCommand(t,e),this._editor.pushUndoStop()}finally{this._ignoreModelContentChanged=!1}}};_t();Ht();Po();var ZK=(()=>{class n extends Tc{static{this.ID="editor.contrib.findOptionsWidget"}constructor(e,i,o){super(),this._hideSoon=this._register(new ai(()=>this._hide(),2e3)),this._isVisible=!1,this._editor=e,this._state=i,this._keybindingService=o,this._domNode=document.createElement("div"),this._domNode.className="findOptionsWidget",this._domNode.style.display="none",this._domNode.style.top="10px",this._domNode.style.zIndex="12",this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true");let r={inputActiveOptionBorder:Cl(Xx),inputActiveOptionForeground:Cl(Zx),inputActiveOptionBackground:Cl(Lp)},s=this._register(Av());this.caseSensitive=this._register(new t8(j({appendTitle:this._keybindingLabelFor(Si.ToggleCaseSensitiveCommand),isChecked:this._state.matchCase,hoverDelegate:s},r))),this._domNode.appendChild(this.caseSensitive.domNode),this._register(this.caseSensitive.onChange(()=>{this._state.change({matchCase:this.caseSensitive.checked},!1)})),this.wholeWords=this._register(new i8(j({appendTitle:this._keybindingLabelFor(Si.ToggleWholeWordCommand),isChecked:this._state.wholeWord,hoverDelegate:s},r))),this._domNode.appendChild(this.wholeWords.domNode),this._register(this.wholeWords.onChange(()=>{this._state.change({wholeWord:this.wholeWords.checked},!1)})),this.regex=this._register(new n8(j({appendTitle:this._keybindingLabelFor(Si.ToggleRegexCommand),isChecked:this._state.isRegex,hoverDelegate:s},r))),this._domNode.appendChild(this.regex.domNode),this._register(this.regex.onChange(()=>{this._state.change({isRegex:this.regex.checked},!1)})),this._editor.addOverlayWidget(this),this._register(this._state.onFindReplaceStateChange(a=>{let l=!1;a.isRegex&&(this.regex.checked=this._state.isRegex,l=!0),a.wholeWord&&(this.wholeWords.checked=this._state.wholeWord,l=!0),a.matchCase&&(this.caseSensitive.checked=this._state.matchCase,l=!0),!this._state.isRevealed&&l&&this._revealTemporarily()})),this._register(St(this._domNode,ci.MOUSE_LEAVE,a=>this._onMouseLeave())),this._register(St(this._domNode,"mouseover",a=>this._onMouseOver()))}_keybindingLabelFor(e){let i=this._keybindingService.lookupKeybinding(e);return i?` (${i.getLabel()})`:""}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return n.ID}getDomNode(){return this._domNode}getPosition(){return{preference:0}}highlightFindOptions(){this._revealTemporarily()}_revealTemporarily(){this._show(),this._hideSoon.schedule()}_onMouseLeave(){this._hideSoon.schedule()}_onMouseOver(){this._hideSoon.cancel()}_show(){this._isVisible||(this._isVisible=!0,this._domNode.style.display="block")}_hide(){this._isVisible&&(this._isVisible=!1,this._domNode.style.display="none")}}return n})();oi();ue();qe();function BE(n,t){return n===1?!0:n===2?!1:t}var HE=class extends U{get searchString(){return this._searchString}get replaceString(){return this._replaceString}get isRevealed(){return this._isRevealed}get isReplaceRevealed(){return this._isReplaceRevealed}get isRegex(){return BE(this._isRegexOverride,this._isRegex)}get wholeWord(){return BE(this._wholeWordOverride,this._wholeWord)}get matchCase(){return BE(this._matchCaseOverride,this._matchCase)}get preserveCase(){return BE(this._preserveCaseOverride,this._preserveCase)}get actualIsRegex(){return this._isRegex}get actualWholeWord(){return this._wholeWord}get actualMatchCase(){return this._matchCase}get actualPreserveCase(){return this._preserveCase}get searchScope(){return this._searchScope}get matchesPosition(){return this._matchesPosition}get matchesCount(){return this._matchesCount}get currentMatch(){return this._currentMatch}constructor(){super(),this._onFindReplaceStateChange=this._register(new je),this.onFindReplaceStateChange=this._onFindReplaceStateChange.event,this._searchString="",this._replaceString="",this._isRevealed=!1,this._isReplaceRevealed=!1,this._isRegex=!1,this._isRegexOverride=0,this._wholeWord=!1,this._wholeWordOverride=0,this._matchCase=!1,this._matchCaseOverride=0,this._preserveCase=!1,this._preserveCaseOverride=0,this._searchScope=null,this._matchesPosition=0,this._matchesCount=0,this._currentMatch=null,this._loop=!0,this._isSearching=!1,this._filters=null}changeMatchInfo(t,e,i){let o={moveCursor:!1,updateHistory:!1,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1,isSearching:!1,filters:!1},r=!1;e===0&&(t=0),t>e&&(t=e),this._matchesPosition!==t&&(this._matchesPosition=t,o.matchesPosition=!0,r=!0),this._matchesCount!==e&&(this._matchesCount=e,o.matchesCount=!0,r=!0),typeof i<"u"&&(A.equalsRange(this._currentMatch,i)||(this._currentMatch=i,o.currentMatch=!0,r=!0)),r&&this._onFindReplaceStateChange.fire(o)}change(t,e,i=!0){let o={moveCursor:e,updateHistory:i,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1,isSearching:!1,filters:!1},r=!1,s=this.isRegex,a=this.wholeWord,l=this.matchCase,c=this.preserveCase;typeof t.searchString<"u"&&this._searchString!==t.searchString&&(this._searchString=t.searchString,o.searchString=!0,r=!0),typeof t.replaceString<"u"&&this._replaceString!==t.replaceString&&(this._replaceString=t.replaceString,o.replaceString=!0,r=!0),typeof t.isRevealed<"u"&&this._isRevealed!==t.isRevealed&&(this._isRevealed=t.isRevealed,o.isRevealed=!0,r=!0),typeof t.isReplaceRevealed<"u"&&this._isReplaceRevealed!==t.isReplaceRevealed&&(this._isReplaceRevealed=t.isReplaceRevealed,o.isReplaceRevealed=!0,r=!0),typeof t.isRegex<"u"&&(this._isRegex=t.isRegex),typeof t.wholeWord<"u"&&(this._wholeWord=t.wholeWord),typeof t.matchCase<"u"&&(this._matchCase=t.matchCase),typeof t.preserveCase<"u"&&(this._preserveCase=t.preserveCase),typeof t.searchScope<"u"&&(t.searchScope?.every(d=>this._searchScope?.some(u=>!A.equalsRange(u,d)))||(this._searchScope=t.searchScope,o.searchScope=!0,r=!0)),typeof t.loop<"u"&&this._loop!==t.loop&&(this._loop=t.loop,o.loop=!0,r=!0),typeof t.isSearching<"u"&&this._isSearching!==t.isSearching&&(this._isSearching=t.isSearching,o.isSearching=!0,r=!0),typeof t.filters<"u"&&(this._filters?this._filters.update(t.filters):this._filters=t.filters,o.filters=!0,r=!0),this._isRegexOverride=typeof t.isRegexOverride<"u"?t.isRegexOverride:0,this._wholeWordOverride=typeof t.wholeWordOverride<"u"?t.wholeWordOverride:0,this._matchCaseOverride=typeof t.matchCaseOverride<"u"?t.matchCaseOverride:0,this._preserveCaseOverride=typeof t.preserveCaseOverride<"u"?t.preserveCaseOverride:0,s!==this.isRegex&&(r=!0,o.isRegex=!0),a!==this.wholeWord&&(r=!0,o.wholeWord=!0),l!==this.matchCase&&(r=!0,o.matchCase=!0),c!==this.preserveCase&&(r=!0,o.preserveCase=!0),r&&this._onFindReplaceStateChange.fire(o)}canNavigateBack(){return this.canNavigateInLoop()||this.matchesPosition!==1}canNavigateForward(){return this.canNavigateInLoop()||this.matchesPosition<this.matchesCount}canNavigateInLoop(){return this._loop||this.matchesCount>=Ul}};_t();Ht();Wn();Bt();ue();tr();zi();qe();Re();_t();Wn();oi();Re();var bye=_("defaultLabel","input"),yye=_("label.preserveCaseToggle","Preserve Case"),wF=class extends wC{constructor(t){super({icon:Ge.preserveCase,title:yye+t.appendTitle,isChecked:t.isChecked,hoverDelegate:t.hoverDelegate??Wd("element"),inputActiveOptionBorder:t.inputActiveOptionBorder,inputActiveOptionForeground:t.inputActiveOptionForeground,inputActiveOptionBackground:t.inputActiveOptionBackground})}},VE=class extends Tc{constructor(t,e,i,o){super(),this._showOptionButtons=i,this.fixFocusOnOptionClickEnabled=!0,this.cachedOptionsWidth=0,this._onDidOptionChange=this._register(new je),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new je),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new je),this._onInput=this._register(new je),this._onKeyUp=this._register(new je),this._onPreserveCaseKeyDown=this._register(new je),this.onPreserveCaseKeyDown=this._onPreserveCaseKeyDown.event,this.contextViewProvider=e,this.placeholder=o.placeholder||"",this.validation=o.validation,this.label=o.label||bye;let r=o.appendPreserveCaseLabel||"",s=o.history||[],a=!!o.flexibleHeight,l=!!o.flexibleWidth,c=o.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new o8(this.domNode,this.contextViewProvider,{ariaLabel:this.label||"",placeholder:this.placeholder||"",validationOptions:{validation:this.validation},history:s,showHistoryHint:o.showHistoryHint,flexibleHeight:a,flexibleWidth:l,flexibleMaxHeight:c,inputBoxStyles:o.inputBoxStyles})),this.preserveCase=this._register(new wF(j({appendTitle:r,isChecked:!1},o.toggleStyles))),this._register(this.preserveCase.onChange(h=>{this._onDidOptionChange.fire(h),!h&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.preserveCase.onKeyDown(h=>{this._onPreserveCaseKeyDown.fire(h)})),this._showOptionButtons?this.cachedOptionsWidth=this.preserveCase.width():this.cachedOptionsWidth=0;let d=[this.preserveCase.domNode];this.onkeydown(this.domNode,h=>{if(h.equals(15)||h.equals(17)||h.equals(9)){let m=d.indexOf(this.domNode.ownerDocument.activeElement);if(m>=0){let f=-1;h.equals(17)?f=(m+1)%d.length:h.equals(15)&&(m===0?f=d.length-1:f=m-1),h.equals(9)?(d[m].blur(),this.inputBox.focus()):f>=0&&d[f].focus(),Eh.stop(h,!0)}}});let u=document.createElement("div");u.className="controls",u.style.display=this._showOptionButtons?"block":"none",u.appendChild(this.preserveCase.domNode),this.domNode.appendChild(u),t?.appendChild(this.domNode),this.onkeydown(this.inputBox.inputElement,h=>this._onKeyDown.fire(h)),this.onkeyup(this.inputBox.inputElement,h=>this._onKeyUp.fire(h)),this.oninput(this.inputBox.inputElement,h=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,h=>this._onMouseDown.fire(h))}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.preserveCase.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.preserveCase.disable()}setEnabled(t){t?this.enable():this.disable()}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getPreserveCase(){return this.preserveCase.checked}setPreserveCase(t){this.preserveCase.checked=t}focusOnPreserve(){this.preserveCase.focus()}validate(){this.inputBox?.validate()}set width(t){this.inputBox.paddingRight=this.cachedOptionsWidth,this.domNode.style.width=t+"px"}dispose(){super.dispose()}};pt();wR();Re();ue();_t();var QK=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},JK=function(n,t){return function(e,i){t(e,i,n)}},qE=new ot("suggestWidgetVisible",!1,_("suggestWidgetVisible","Whether suggestion are visible")),xF="historyNavigationWidgetFocus",e7="historyNavigationForwardsEnabled",t7="historyNavigationBackwardsEnabled",jy,WE=[];function i7(n,t){if(WE.includes(t))throw new Error("Cannot register the same widget multiple times");WE.push(t);let e=new G,i=new ot(xF,!1).bindTo(n),o=new ot(e7,!0).bindTo(n),r=new ot(t7,!0).bindTo(n),s=()=>{i.set(!0),jy=t},a=()=>{i.set(!1),jy===t&&(jy=void 0)};return H4(t.element)&&s(),e.add(t.onDidFocus(()=>s())),e.add(t.onDidBlur(()=>a())),e.add(kt(()=>{WE.splice(WE.indexOf(t),1),a()})),{historyNavigationForwardsEnablement:o,historyNavigationBackwardsEnablement:r,dispose(){e.dispose()}}}var jE=class extends r8{constructor(t,e,i,o){super(t,e,i);let r=this._register(o.createScoped(this.inputBox.element));this._register(i7(r,this.inputBox))}};jE=QK([JK(3,Ze)],jE);var UE=class extends VE{constructor(t,e,i,o,r=!1){super(t,e,r,i);let s=this._register(o.createScoped(this.inputBox.element));this._register(i7(s,this.inputBox))}};UE=QK([JK(3,Ze)],UE);ys.registerCommandAndKeybindingRule({id:"history.showPrevious",weight:200,when:K.and(K.has(xF),K.equals(t7,!0),K.not("isComposing"),qE.isEqualTo(!1)),primary:16,secondary:[528],handler:n=>{jy?.showPreviousValue()}});ys.registerCommandAndKeybindingRule({id:"history.showNext",weight:200,when:K.and(K.has(xF),K.equals(e7,!0),K.not("isComposing"),qE.isEqualTo(!1)),primary:18,secondary:[530],handler:n=>{jy?.showNextValue()}});function CF(n){return n.lookupKeybinding("history.showPrevious")?.getElectronAccelerator()==="Up"&&n.lookupKeybinding("history.showNext")?.getElectronAccelerator()==="Down"}Po();Oo();nr();Ux();ro();var n7=Ii("find-collapsed",Ge.chevronRight,_("findCollapsedIcon","Icon to indicate that the editor find widget is collapsed.")),o7=Ii("find-expanded",Ge.chevronDown,_("findExpandedIcon","Icon to indicate that the editor find widget is expanded.")),wye=Ii("find-selection",Ge.selection,_("findSelectionIcon","Icon for 'Find in Selection' in the editor find widget.")),xye=Ii("find-replace",Ge.replace,_("findReplaceIcon","Icon for 'Replace' in the editor find widget.")),Cye=Ii("find-replace-all",Ge.replaceAll,_("findReplaceAllIcon","Icon for 'Replace All' in the editor find widget.")),Sye=Ii("find-previous-match",Ge.arrowUp,_("findPreviousMatchIcon","Icon for 'Find Previous' in the editor find widget.")),Dye=Ii("find-next-match",Ge.arrowDown,_("findNextMatchIcon","Icon for 'Find Next' in the editor find widget.")),Iye=_("label.findDialog","Find / Replace"),Eye=_("label.find","Find"),Mye=_("placeholder.find","Find"),kye=_("label.previousMatchButton","Previous Match"),Tye=_("label.nextMatchButton","Next Match"),Aye=_("label.toggleSelectionFind","Find in Selection"),Rye=_("label.closeButton","Close"),Oye=_("label.replace","Replace"),Pye=_("placeholder.replace","Replace"),Lye=_("label.replaceButton","Replace"),Nye=_("label.replaceAllButton","Replace All"),Fye=_("label.toggleReplaceButton","Toggle Replace"),zye=_("title.matchesCountLimit","Only the first {0} results are highlighted, but all find operations work on the entire text.",Ul),Bye=_("label.matchesLocation","{0} of {1}"),r7=_("label.noResults","No results"),Gl=419,Hye=275,Vye=Hye-54,Uy=69,Wye=33,s7="ctrlEnterReplaceAll.windows.donotask",a7=fr?256:2048,qy=class{constructor(t){this.afterLineNumber=t,this.heightInPx=Wye,this.suppressMouseDown=!1,this.domNode=document.createElement("div"),this.domNode.className="dock-find-viewzone"}};function l7(n,t,e){let i=!!t.match(/\n/);if(e&&i&&e.selectionStart>0){n.stopPropagation();return}}function c7(n,t,e){let i=!!t.match(/\n/);if(e&&i&&e.selectionEnd<e.value.length){n.stopPropagation();return}}var d7=(()=>{class n extends Tc{static{this.ID="editor.contrib.findWidget"}constructor(e,i,o,r,s,a,l,c,d,u){super(),this._hoverService=u,this._cachedHeight=null,this._revealTimeouts=[],this._codeEditor=e,this._controller=i,this._state=o,this._contextViewProvider=r,this._keybindingService=s,this._contextKeyService=a,this._storageService=c,this._notificationService=d,this._ctrlEnterReplaceAllWarningPrompted=!!c.getBoolean(s7,0),this._isVisible=!1,this._isReplaceVisible=!1,this._ignoreChangeEvent=!1,this._updateHistoryDelayer=new Ar(500),this._register(kt(()=>this._updateHistoryDelayer.cancel())),this._register(this._state.onFindReplaceStateChange(h=>this._onStateChanged(h))),this._buildDomNode(),this._updateButtons(),this._tryUpdateWidgetWidth(),this._findInput.inputBox.layout(),this._register(this._codeEditor.onDidChangeConfiguration(h=>{if(h.hasChanged(92)&&(this._codeEditor.getOption(92)&&this._state.change({isReplaceRevealed:!1},!1),this._updateButtons()),h.hasChanged(146)&&this._tryUpdateWidgetWidth(),h.hasChanged(2)&&this.updateAccessibilitySupport(),h.hasChanged(41)){let m=this._codeEditor.getOption(41).loop;this._state.change({loop:m},!1);let f=this._codeEditor.getOption(41).addExtraSpaceOnTop;f&&!this._viewZone&&(this._viewZone=new qy(0),this._showViewZone()),!f&&this._viewZone&&this._removeViewZone()}})),this.updateAccessibilitySupport(),this._register(this._codeEditor.onDidChangeCursorSelection(()=>{this._isVisible&&this._updateToggleSelectionFindButton()})),this._register(this._codeEditor.onDidFocusEditorWidget(()=>M(this,null,function*(){if(this._isVisible){let h=yield this._controller.getGlobalBufferTerm();h&&h!==this._state.searchString&&(this._state.change({searchString:h},!1),this._findInput.select())}}))),this._findInputFocused=Lg.bindTo(a),this._findFocusTracker=this._register(Ra(this._findInput.inputBox.inputElement)),this._register(this._findFocusTracker.onDidFocus(()=>{this._findInputFocused.set(!0),this._updateSearchScope()})),this._register(this._findFocusTracker.onDidBlur(()=>{this._findInputFocused.set(!1)})),this._replaceInputFocused=Fy.bindTo(a),this._replaceFocusTracker=this._register(Ra(this._replaceInput.inputBox.inputElement)),this._register(this._replaceFocusTracker.onDidFocus(()=>{this._replaceInputFocused.set(!0),this._updateSearchScope()})),this._register(this._replaceFocusTracker.onDidBlur(()=>{this._replaceInputFocused.set(!1)})),this._codeEditor.addOverlayWidget(this),this._codeEditor.getOption(41).addExtraSpaceOnTop&&(this._viewZone=new qy(0)),this._register(this._codeEditor.onDidChangeModel(()=>{this._isVisible&&(this._viewZoneId=void 0)})),this._register(this._codeEditor.onDidScrollChange(h=>{if(h.scrollTopChanged){this._layoutViewZone();return}setTimeout(()=>{this._layoutViewZone()},0)}))}getId(){return n.ID}getDomNode(){return this._domNode}getPosition(){return this._isVisible?{preference:0}:null}_onStateChanged(e){if(e.searchString){try{this._ignoreChangeEvent=!0,this._findInput.setValue(this._state.searchString)}finally{this._ignoreChangeEvent=!1}this._updateButtons()}if(e.replaceString&&(this._replaceInput.inputBox.value=this._state.replaceString),e.isRevealed&&(this._state.isRevealed?this._reveal():this._hide(!0)),e.isReplaceRevealed&&(this._state.isReplaceRevealed?!this._codeEditor.getOption(92)&&!this._isReplaceVisible&&(this._isReplaceVisible=!0,this._replaceInput.width=Or(this._findInput.domNode),this._updateButtons(),this._replaceInput.inputBox.layout()):this._isReplaceVisible&&(this._isReplaceVisible=!1,this._updateButtons())),(e.isRevealed||e.isReplaceRevealed)&&(this._state.isRevealed||this._state.isReplaceRevealed)&&this._tryUpdateHeight()&&this._showViewZone(),e.isRegex&&this._findInput.setRegex(this._state.isRegex),e.wholeWord&&this._findInput.setWholeWords(this._state.wholeWord),e.matchCase&&this._findInput.setCaseSensitive(this._state.matchCase),e.preserveCase&&this._replaceInput.setPreserveCase(this._state.preserveCase),e.searchScope&&(this._state.searchScope?this._toggleSelectionFind.checked=!0:this._toggleSelectionFind.checked=!1,this._updateToggleSelectionFindButton()),e.searchString||e.matchesCount||e.matchesPosition){let i=this._state.searchString.length>0&&this._state.matchesCount===0;this._domNode.classList.toggle("no-results",i),this._updateMatchesCount(),this._updateButtons()}(e.searchString||e.currentMatch)&&this._layoutViewZone(),e.updateHistory&&this._delayedUpdateHistory(),e.loop&&this._updateButtons()}_delayedUpdateHistory(){this._updateHistoryDelayer.trigger(this._updateHistory.bind(this)).then(void 0,ht)}_updateHistory(){this._state.searchString&&this._findInput.inputBox.addToHistory(),this._state.replaceString&&this._replaceInput.inputBox.addToHistory()}_updateMatchesCount(){this._matchesCount.style.minWidth=Uy+"px",this._state.matchesCount>=Ul?this._matchesCount.title=zye:this._matchesCount.title="",this._matchesCount.firstChild?.remove();let e;if(this._state.matchesCount>0){let i=String(this._state.matchesCount);this._state.matchesCount>=Ul&&(i+="+");let o=String(this._state.matchesPosition);o==="0"&&(o="?"),e=Ep(Bye,o,i)}else e=r7;this._matchesCount.appendChild(document.createTextNode(e)),Kn(this._getAriaLabel(e,this._state.currentMatch,this._state.searchString)),Uy=Math.max(Uy,this._matchesCount.clientWidth)}_getAriaLabel(e,i,o){if(e===r7)return o===""?_("ariaSearchNoResultEmpty","{0} found",e):_("ariaSearchNoResult","{0} found for '{1}'",e,o);if(i){let r=_("ariaSearchNoResultWithLineNum","{0} found for '{1}', at {2}",e,o,i.startLineNumber+":"+i.startColumn),s=this._codeEditor.getModel();return s&&i.startLineNumber<=s.getLineCount()&&i.startLineNumber>=1?`${s.getLineContent(i.startLineNumber)}, ${r}`:r}return _("ariaSearchNoResultWithLineNumNoCurrentMatch","{0} found for '{1}'",e,o)}_updateToggleSelectionFindButton(){let e=this._codeEditor.getSelection(),i=e?e.startLineNumber!==e.endLineNumber||e.startColumn!==e.endColumn:!1,o=this._toggleSelectionFind.checked;this._isVisible&&(o||i)?this._toggleSelectionFind.enable():this._toggleSelectionFind.disable()}_updateButtons(){this._findInput.setEnabled(this._isVisible),this._replaceInput.setEnabled(this._isVisible&&this._isReplaceVisible),this._updateToggleSelectionFindButton(),this._closeBtn.setEnabled(this._isVisible);let e=this._state.searchString.length>0,i=!!this._state.matchesCount;this._prevBtn.setEnabled(this._isVisible&&e&&i&&this._state.canNavigateBack()),this._nextBtn.setEnabled(this._isVisible&&e&&i&&this._state.canNavigateForward()),this._replaceBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&e),this._replaceAllBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&e),this._domNode.classList.toggle("replaceToggled",this._isReplaceVisible),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible);let o=!this._codeEditor.getOption(92);this._toggleReplaceBtn.setEnabled(this._isVisible&&o)}_reveal(){if(this._revealTimeouts.forEach(e=>{clearTimeout(e)}),this._revealTimeouts=[],!this._isVisible){this._isVisible=!0;let e=this._codeEditor.getSelection();switch(this._codeEditor.getOption(41).autoFindInSelection){case"always":this._toggleSelectionFind.checked=!0;break;case"never":this._toggleSelectionFind.checked=!1;break;case"multiline":{let o=!!e&&e.startLineNumber!==e.endLineNumber;this._toggleSelectionFind.checked=o;break}default:break}this._tryUpdateWidgetWidth(),this._updateButtons(),this._revealTimeouts.push(setTimeout(()=>{this._domNode.classList.add("visible"),this._domNode.setAttribute("aria-hidden","false")},0)),this._revealTimeouts.push(setTimeout(()=>{this._findInput.validate()},200)),this._codeEditor.layoutOverlayWidget(this);let i=!0;if(this._codeEditor.getOption(41).seedSearchStringFromSelection&&e){let o=this._codeEditor.getDomNode();if(o){let r=Gi(o),s=this._codeEditor.getScrolledVisiblePosition(e.getStartPosition()),a=r.left+(s?s.left:0),l=s?s.top:0;if(this._viewZone&&l<this._viewZone.heightInPx){e.endLineNumber>e.startLineNumber&&(i=!1);let c=N4(this._domNode).left;a>c&&(i=!1);let d=this._codeEditor.getScrolledVisiblePosition(e.getEndPosition());r.left+(d?d.left:0)>c&&(i=!1)}}}this._showViewZone(i)}}_hide(e){this._revealTimeouts.forEach(i=>{clearTimeout(i)}),this._revealTimeouts=[],this._isVisible&&(this._isVisible=!1,this._updateButtons(),this._domNode.classList.remove("visible"),this._domNode.setAttribute("aria-hidden","true"),this._findInput.clearMessage(),e&&this._codeEditor.focus(),this._codeEditor.layoutOverlayWidget(this),this._removeViewZone())}_layoutViewZone(e){if(!this._codeEditor.getOption(41).addExtraSpaceOnTop){this._removeViewZone();return}if(!this._isVisible)return;let o=this._viewZone;this._viewZoneId!==void 0||!o||this._codeEditor.changeViewZones(r=>{o.heightInPx=this._getHeight(),this._viewZoneId=r.addZone(o),this._codeEditor.setScrollTop(e||this._codeEditor.getScrollTop()+o.heightInPx)})}_showViewZone(e=!0){if(!this._isVisible||!this._codeEditor.getOption(41).addExtraSpaceOnTop)return;this._viewZone===void 0&&(this._viewZone=new qy(0));let o=this._viewZone;this._codeEditor.changeViewZones(r=>{if(this._viewZoneId!==void 0){let s=this._getHeight();if(s===o.heightInPx)return;let a=s-o.heightInPx;o.heightInPx=s,r.layoutZone(this._viewZoneId),e&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+a);return}else{let s=this._getHeight();if(s-=this._codeEditor.getOption(84).top,s<=0)return;o.heightInPx=s,this._viewZoneId=r.addZone(o),e&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+s)}})}_removeViewZone(){this._codeEditor.changeViewZones(e=>{this._viewZoneId!==void 0&&(e.removeZone(this._viewZoneId),this._viewZoneId=void 0,this._viewZone&&(this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()-this._viewZone.heightInPx),this._viewZone=void 0))})}_tryUpdateWidgetWidth(){if(!this._isVisible||!this._domNode.isConnected)return;let e=this._codeEditor.getLayoutInfo();if(e.contentWidth<=0){this._domNode.classList.add("hiddenEditor");return}else this._domNode.classList.contains("hiddenEditor")&&this._domNode.classList.remove("hiddenEditor");let o=e.width,r=e.minimap.minimapWidth,s=!1,a=!1,l=!1;if(this._resized&&Or(this._domNode)>Gl){this._domNode.style.maxWidth=`${o-28-r-15}px`,this._replaceInput.width=Or(this._findInput.domNode);return}if(Gl+28+r>=o&&(a=!0),Gl+28+r-Uy>=o&&(l=!0),Gl+28+r-Uy>=o+50&&(s=!0),this._domNode.classList.toggle("collapsed-find-widget",s),this._domNode.classList.toggle("narrow-find-widget",l),this._domNode.classList.toggle("reduced-find-widget",a),!l&&!s&&(this._domNode.style.maxWidth=`${o-28-r-15}px`),this._findInput.layout({collapsedFindWidget:s,narrowFindWidget:l,reducedFindWidget:a}),this._resized){let c=this._findInput.inputBox.element.clientWidth;c>0&&(this._replaceInput.width=c)}else this._isReplaceVisible&&(this._replaceInput.width=Or(this._findInput.domNode))}_getHeight(){let e=0;return e+=4,e+=this._findInput.inputBox.height+2,this._isReplaceVisible&&(e+=4,e+=this._replaceInput.inputBox.height+2),e+=4,e}_tryUpdateHeight(){let e=this._getHeight();return this._cachedHeight!==null&&this._cachedHeight===e?!1:(this._cachedHeight=e,this._domNode.style.height=`${e}px`,!0)}focusFindInput(){this._findInput.select(),this._findInput.focus()}focusReplaceInput(){this._replaceInput.select(),this._replaceInput.focus()}highlightFindOptions(){this._findInput.highlightFindOptions()}_updateSearchScope(){if(this._codeEditor.hasModel()&&this._toggleSelectionFind.checked){let e=this._codeEditor.getSelections();e.map(i=>{i.endColumn===1&&i.endLineNumber>i.startLineNumber&&(i=i.setEndPosition(i.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(i.endLineNumber-1)));let o=this._state.currentMatch;return i.startLineNumber!==i.endLineNumber&&!A.equalsRange(i,o)?i:null}).filter(i=>!!i),e.length&&this._state.change({searchScope:e},!0)}}_onFindInputMouseDown(e){e.middleButton&&e.stopPropagation()}_onFindInputKeyDown(e){if(e.equals(a7|3))if(this._keybindingService.dispatchEvent(e,e.target)){e.preventDefault();return}else{this._findInput.inputBox.insertAtCursor(`
`),e.preventDefault();return}if(e.equals(2)){this._isReplaceVisible?this._replaceInput.focus():this._findInput.focusOnCaseSensitive(),e.preventDefault();return}if(e.equals(2066)){this._codeEditor.focus(),e.preventDefault();return}if(e.equals(16))return l7(e,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea"));if(e.equals(18))return c7(e,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea"))}_onReplaceInputKeyDown(e){if(e.equals(a7|3))if(this._keybindingService.dispatchEvent(e,e.target)){e.preventDefault();return}else{Ed&&Md&&!this._ctrlEnterReplaceAllWarningPrompted&&(this._notificationService.info(_("ctrlEnter.keybindingChanged","Ctrl+Enter now inserts line break instead of replacing all. You can modify the keybinding for editor.action.replaceAll to override this behavior.")),this._ctrlEnterReplaceAllWarningPrompted=!0,this._storageService.store(s7,!0,0,0)),this._replaceInput.inputBox.insertAtCursor(`
`),e.preventDefault();return}if(e.equals(2)){this._findInput.focusOnCaseSensitive(),e.preventDefault();return}if(e.equals(1026)){this._findInput.focus(),e.preventDefault();return}if(e.equals(2066)){this._codeEditor.focus(),e.preventDefault();return}if(e.equals(16))return l7(e,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea"));if(e.equals(18))return c7(e,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea"))}getVerticalSashLeft(e){return 0}_keybindingLabelFor(e){let i=this._keybindingService.lookupKeybinding(e);return i?` (${i.getLabel()})`:""}_buildDomNode(){this._findInput=this._register(new jE(null,this._contextViewProvider,{width:Vye,label:Eye,placeholder:Mye,appendCaseSensitiveLabel:this._keybindingLabelFor(Si.ToggleCaseSensitiveCommand),appendWholeWordsLabel:this._keybindingLabelFor(Si.ToggleWholeWordCommand),appendRegexLabel:this._keybindingLabelFor(Si.ToggleRegexCommand),validation:u=>{if(u.length===0||!this._findInput.getRegex())return null;try{return new RegExp(u,"gu"),null}catch(h){return{content:h.message}}},flexibleHeight:!0,flexibleWidth:!0,flexibleMaxHeight:118,showCommonFindToggles:!0,showHistoryHint:()=>CF(this._keybindingService),inputBoxStyles:WR,toggleStyles:VR},this._contextKeyService)),this._findInput.setRegex(!!this._state.isRegex),this._findInput.setCaseSensitive(!!this._state.matchCase),this._findInput.setWholeWords(!!this._state.wholeWord),this._register(this._findInput.onKeyDown(u=>this._onFindInputKeyDown(u))),this._register(this._findInput.inputBox.onDidChange(()=>{this._ignoreChangeEvent||this._state.change({searchString:this._findInput.getValue()},!0)})),this._register(this._findInput.onDidOptionChange(()=>{this._state.change({isRegex:this._findInput.getRegex(),wholeWord:this._findInput.getWholeWords(),matchCase:this._findInput.getCaseSensitive()},!0)})),this._register(this._findInput.onCaseSensitiveKeyDown(u=>{u.equals(1026)&&this._isReplaceVisible&&(this._replaceInput.focus(),u.preventDefault())})),this._register(this._findInput.onRegexKeyDown(u=>{u.equals(2)&&this._isReplaceVisible&&(this._replaceInput.focusOnPreserve(),u.preventDefault())})),this._register(this._findInput.inputBox.onDidHeightChange(u=>{this._tryUpdateHeight()&&this._showViewZone()})),Jj&&this._register(this._findInput.onMouseDown(u=>this._onFindInputMouseDown(u))),this._matchesCount=document.createElement("div"),this._matchesCount.className="matchesCount",this._updateMatchesCount();let o=this._register(Av());this._prevBtn=this._register(new Au({label:kye+this._keybindingLabelFor(Si.PreviousMatchFindAction),icon:Sye,hoverDelegate:o,onTrigger:()=>{Id(this._codeEditor.getAction(Si.PreviousMatchFindAction)).run().then(void 0,ht)}},this._hoverService)),this._nextBtn=this._register(new Au({label:Tye+this._keybindingLabelFor(Si.NextMatchFindAction),icon:Dye,hoverDelegate:o,onTrigger:()=>{Id(this._codeEditor.getAction(Si.NextMatchFindAction)).run().then(void 0,ht)}},this._hoverService));let r=document.createElement("div");r.className="find-part",r.appendChild(this._findInput.domNode);let s=document.createElement("div");s.className="find-actions",r.appendChild(s),s.appendChild(this._matchesCount),s.appendChild(this._prevBtn.domNode),s.appendChild(this._nextBtn.domNode),this._toggleSelectionFind=this._register(new wC({icon:wye,title:Aye+this._keybindingLabelFor(Si.ToggleSearchScopeCommand),isChecked:!1,hoverDelegate:o,inputActiveOptionBackground:Cl(Lp),inputActiveOptionBorder:Cl(Xx),inputActiveOptionForeground:Cl(Zx)})),this._register(this._toggleSelectionFind.onChange(()=>{if(this._toggleSelectionFind.checked){if(this._codeEditor.hasModel()){let u=this._codeEditor.getSelections();u=u.map(h=>(h.endColumn===1&&h.endLineNumber>h.startLineNumber&&(h=h.setEndPosition(h.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(h.endLineNumber-1))),h.isEmpty()?null:h)).filter(h=>!!h),u.length&&this._state.change({searchScope:u},!0)}}else this._state.change({searchScope:null},!0)})),s.appendChild(this._toggleSelectionFind.domNode),this._closeBtn=this._register(new Au({label:Rye+this._keybindingLabelFor(Si.CloseFindWidgetCommand),icon:DC,hoverDelegate:o,onTrigger:()=>{this._state.change({isRevealed:!1,searchScope:null},!1)},onKeyDown:u=>{u.equals(2)&&this._isReplaceVisible&&(this._replaceBtn.isEnabled()?this._replaceBtn.focus():this._codeEditor.focus(),u.preventDefault())}},this._hoverService)),this._replaceInput=this._register(new UE(null,void 0,{label:Oye,placeholder:Pye,appendPreserveCaseLabel:this._keybindingLabelFor(Si.TogglePreserveCaseCommand),history:[],flexibleHeight:!0,flexibleWidth:!0,flexibleMaxHeight:118,showHistoryHint:()=>CF(this._keybindingService),inputBoxStyles:WR,toggleStyles:VR},this._contextKeyService,!0)),this._replaceInput.setPreserveCase(!!this._state.preserveCase),this._register(this._replaceInput.onKeyDown(u=>this._onReplaceInputKeyDown(u))),this._register(this._replaceInput.inputBox.onDidChange(()=>{this._state.change({replaceString:this._replaceInput.inputBox.value},!1)})),this._register(this._replaceInput.inputBox.onDidHeightChange(u=>{this._isReplaceVisible&&this._tryUpdateHeight()&&this._showViewZone()})),this._register(this._replaceInput.onDidOptionChange(()=>{this._state.change({preserveCase:this._replaceInput.getPreserveCase()},!0)})),this._register(this._replaceInput.onPreserveCaseKeyDown(u=>{u.equals(2)&&(this._prevBtn.isEnabled()?this._prevBtn.focus():this._nextBtn.isEnabled()?this._nextBtn.focus():this._toggleSelectionFind.enabled?this._toggleSelectionFind.focus():this._closeBtn.isEnabled()&&this._closeBtn.focus(),u.preventDefault())}));let a=this._register(Av());this._replaceBtn=this._register(new Au({label:Lye+this._keybindingLabelFor(Si.ReplaceOneAction),icon:xye,hoverDelegate:a,onTrigger:()=>{this._controller.replace()},onKeyDown:u=>{u.equals(1026)&&(this._closeBtn.focus(),u.preventDefault())}},this._hoverService)),this._replaceAllBtn=this._register(new Au({label:Nye+this._keybindingLabelFor(Si.ReplaceAllAction),icon:Cye,hoverDelegate:a,onTrigger:()=>{this._controller.replaceAll()}},this._hoverService));let l=document.createElement("div");l.className="replace-part",l.appendChild(this._replaceInput.domNode);let c=document.createElement("div");c.className="replace-actions",l.appendChild(c),c.appendChild(this._replaceBtn.domNode),c.appendChild(this._replaceAllBtn.domNode),this._toggleReplaceBtn=this._register(new Au({label:Fye,className:"codicon toggle left",onTrigger:()=>{this._state.change({isReplaceRevealed:!this._isReplaceVisible},!1),this._isReplaceVisible&&(this._replaceInput.width=Or(this._findInput.domNode),this._replaceInput.inputBox.layout()),this._showViewZone()}},this._hoverService)),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible),this._domNode=document.createElement("div"),this._domNode.className="editor-widget find-widget",this._domNode.setAttribute("aria-hidden","true"),this._domNode.ariaLabel=Iye,this._domNode.role="dialog",this._domNode.style.width=`${Gl}px`,this._domNode.appendChild(this._toggleReplaceBtn.domNode),this._domNode.appendChild(r),this._domNode.appendChild(this._closeBtn.domNode),this._domNode.appendChild(l),this._resizeSash=this._register(new Fc(this._domNode,this,{orientation:0,size:2})),this._resized=!1;let d=Gl;this._register(this._resizeSash.onDidStart(()=>{d=Or(this._domNode)})),this._register(this._resizeSash.onDidChange(u=>{this._resized=!0;let h=d+u.startX-u.currentX;if(h<Gl)return;let m=parseFloat(L4(this._domNode).maxWidth)||0;h>m||(this._domNode.style.width=`${h}px`,this._isReplaceVisible&&(this._replaceInput.width=Or(this._findInput.domNode)),this._findInput.inputBox.layout(),this._tryUpdateHeight())})),this._register(this._resizeSash.onDidReset(()=>{let u=Or(this._domNode);if(u<Gl)return;let h=Gl;if(!this._resized||u===Gl){let m=this._codeEditor.getLayoutInfo();h=m.width-28-m.minimap.minimapWidth-15,this._resized=!0}this._domNode.style.width=`${h}px`,this._isReplaceVisible&&(this._replaceInput.width=Or(this._findInput.domNode)),this._findInput.inputBox.layout()}))}updateAccessibilitySupport(){let e=this._codeEditor.getOption(2);this._findInput.setFocusInputOnOptionClick(e!==2)}}return n})(),Au=class extends Tc{constructor(t,e){super(),this._opts=t;let i="button";this._opts.className&&(i=i+" "+this._opts.className),this._opts.icon&&(i=i+" "+Dt.asClassName(this._opts.icon)),this._domNode=document.createElement("div"),this._domNode.tabIndex=0,this._domNode.className=i,this._domNode.setAttribute("role","button"),this._domNode.setAttribute("aria-label",this._opts.label),this._register(e.setupManagedHover(t.hoverDelegate??Wd("element"),this._domNode,this._opts.label)),this.onclick(this._domNode,o=>{this._opts.onTrigger(),o.preventDefault()}),this.onkeydown(this._domNode,o=>{if(o.equals(10)||o.equals(3)){this._opts.onTrigger(),o.preventDefault();return}this._opts.onKeyDown?.(o)})}get domNode(){return this._domNode}isEnabled(){return this._domNode.tabIndex>=0}focus(){this._domNode.focus()}setEnabled(t){this._domNode.classList.toggle("disabled",!t),this._domNode.setAttribute("aria-disabled",String(!t)),this._domNode.tabIndex=t?0:-1}setExpanded(t){this._domNode.setAttribute("aria-expanded",String(!!t)),t?(this._domNode.classList.remove(...Dt.asClassNameArray(n7)),this._domNode.classList.add(...Dt.asClassNameArray(o7))):(this._domNode.classList.remove(...Dt.asClassNameArray(o7)),this._domNode.classList.add(...Dt.asClassNameArray(n7)))}};Ld((n,t)=>{let e=n.getColor(Kx);e&&t.addRule(`.monaco-editor .findMatch { border: 1px ${Mc(n.type)?"dotted":"solid"} ${e}; box-sizing: border-box; }`);let i=n.getColor(M5);i&&t.addRule(`.monaco-editor .findScope { border: 1px ${Mc(n.type)?"dashed":"solid"} ${i}; }`);let o=n.getColor(Zs);o&&t.addRule(`.monaco-editor .find-widget { border: 1px solid ${o}; }`);let r=n.getColor(D5);r&&t.addRule(`.monaco-editor .findMatchInline { color: ${r}; }`);let s=n.getColor(E5);s&&t.addRule(`.monaco-editor .currentFindMatchInline { color: ${s}; }`)});Re();$i();pt();Oo();var u7=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},Ls=function(n,t){return function(e,i){t(e,i,n)}},SF,jye=524288;function DF(n,t="single",e=!1){if(!n.hasModel())return null;let i=n.getSelection();if(t==="single"&&i.startLineNumber===i.endLineNumber||t==="multiple"){if(i.isEmpty()){let o=n.getConfiguredWordAtPosition(i.getStartPosition());if(o&&e===!1)return o.word}else if(n.getModel().getValueLengthInRange(i)<jye)return n.getModel().getValueInRange(i)}return null}var lr=class extends U{static{SF=this}static{this.ID="editor.contrib.findController"}get editor(){return this._editor}static get(e){return e.getContribution(SF.ID)}constructor(e,i,o,r,s,a){super(),this._editor=e,this._findWidgetVisible=ql.bindTo(i),this._contextKeyService=i,this._storageService=o,this._clipboardService=r,this._notificationService=s,this._hoverService=a,this._updateHistoryDelayer=new Ar(500),this._state=this._register(new HE),this.loadQueryState(),this._register(this._state.onFindReplaceStateChange(l=>this._onStateChanged(l))),this._model=null,this._register(this._editor.onDidChangeModel(()=>{let l=this._editor.getModel()&&this._state.isRevealed;this.disposeModel(),this._state.change({searchScope:null,matchCase:this._storageService.getBoolean("editor.matchCase",1,!1),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,!1),isRegex:this._storageService.getBoolean("editor.isRegex",1,!1),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,!1)},!1),l&&this._start({forceRevealReplace:!1,seedSearchStringFromSelection:"none",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!1,updateSearchScope:!1,loop:this._editor.getOption(41).loop})}))}dispose(){this.disposeModel(),super.dispose()}disposeModel(){this._model&&(this._model.dispose(),this._model=null)}_onStateChanged(e){this.saveQueryState(e),e.isRevealed&&(this._state.isRevealed?this._findWidgetVisible.set(!0):(this._findWidgetVisible.reset(),this.disposeModel())),e.searchString&&this.setGlobalBufferTerm(this._state.searchString)}saveQueryState(e){e.isRegex&&this._storageService.store("editor.isRegex",this._state.actualIsRegex,1,1),e.wholeWord&&this._storageService.store("editor.wholeWord",this._state.actualWholeWord,1,1),e.matchCase&&this._storageService.store("editor.matchCase",this._state.actualMatchCase,1,1),e.preserveCase&&this._storageService.store("editor.preserveCase",this._state.actualPreserveCase,1,1)}loadQueryState(){this._state.change({matchCase:this._storageService.getBoolean("editor.matchCase",1,this._state.matchCase),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,this._state.wholeWord),isRegex:this._storageService.getBoolean("editor.isRegex",1,this._state.isRegex),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,this._state.preserveCase)},!1)}isFindInputFocused(){return!!Lg.getValue(this._contextKeyService)}getState(){return this._state}closeFindWidget(){this._state.change({isRevealed:!1,searchScope:null},!1),this._editor.focus()}toggleCaseSensitive(){this._state.change({matchCase:!this._state.matchCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleWholeWords(){this._state.change({wholeWord:!this._state.wholeWord},!1),this._state.isRevealed||this.highlightFindOptions()}toggleRegex(){this._state.change({isRegex:!this._state.isRegex},!1),this._state.isRevealed||this.highlightFindOptions()}togglePreserveCase(){this._state.change({preserveCase:!this._state.preserveCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleSearchScope(){if(this._state.searchScope)this._state.change({searchScope:null},!0);else if(this._editor.hasModel()){let e=this._editor.getSelections();e=e.map(i=>(i.endColumn===1&&i.endLineNumber>i.startLineNumber&&(i=i.setEndPosition(i.endLineNumber-1,this._editor.getModel().getLineMaxColumn(i.endLineNumber-1))),i.isEmpty()?null:i)).filter(i=>!!i),e.length&&this._state.change({searchScope:e},!0)}}setSearchString(e){this._state.isRegex&&(e=yc(e)),this._state.change({searchString:e},!1)}highlightFindOptions(e=!1){}_start(e,i){return M(this,null,function*(){if(this.disposeModel(),!this._editor.hasModel())return;let o=Ae(j({},i),{isRevealed:!0});if(e.seedSearchStringFromSelection==="single"){let r=DF(this._editor,e.seedSearchStringFromSelection,e.seedSearchStringFromNonEmptySelection);r&&(this._state.isRegex?o.searchString=yc(r):o.searchString=r)}else if(e.seedSearchStringFromSelection==="multiple"&&!e.updateSearchScope){let r=DF(this._editor,e.seedSearchStringFromSelection);r&&(o.searchString=r)}if(!o.searchString&&e.seedSearchStringFromGlobalClipboard){let r=yield this.getGlobalBufferTerm();if(!this._editor.hasModel())return;r&&(o.searchString=r)}if(e.forceRevealReplace||o.isReplaceRevealed?o.isReplaceRevealed=!0:this._findWidgetVisible.get()||(o.isReplaceRevealed=!1),e.updateSearchScope){let r=this._editor.getSelections();r.some(s=>!s.isEmpty())&&(o.searchScope=r)}o.loop=e.loop,this._state.change(o,!1),this._model||(this._model=new zE(this._editor,this._state))})}start(e,i){return this._start(e,i)}moveToNextMatch(){return this._model?(this._model.moveToNextMatch(),!0):!1}moveToPrevMatch(){return this._model?(this._model.moveToPrevMatch(),!0):!1}goToMatch(e){return this._model?(this._model.moveToMatch(e),!0):!1}replace(){return this._model?(this._model.replace(),!0):!1}replaceAll(){return this._model?this._editor.getModel()?.isTooLargeForHeapOperation()?(this._notificationService.warn(_("too.large.for.replaceall","The file is too large to perform a replace all operation.")),!1):(this._model.replaceAll(),!0):!1}selectAllMatches(){return this._model?(this._model.selectAllMatches(),this._editor.focus(),!0):!1}getGlobalBufferTerm(){return M(this,null,function*(){return this._editor.getOption(41).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()?this._clipboardService.readFindText():""})}setGlobalBufferTerm(e){this._editor.getOption(41).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()&&this._clipboardService.writeFindText(e)}};lr=SF=u7([Ls(1,Ze),Ls(2,Fr),Ls(3,Va),Ls(4,Hi),Ls(5,kc)],lr);var IF=class h7 extends lr{constructor(t,e,i,o,r,s,a,l,c){super(t,i,a,l,s,c),this._contextViewService=e,this._keybindingService=o,this._themeService=r,this._widget=null,this._findOptionsWidget=null}_start(t,e){return M(this,null,function*(){this._widget||this._createFindWidget();let i=this._editor.getSelection(),o=!1;switch(this._editor.getOption(41).autoFindInSelection){case"always":o=!0;break;case"never":o=!1;break;case"multiline":{o=!!i&&i.startLineNumber!==i.endLineNumber;break}default:break}t.updateSearchScope=t.updateSearchScope||o,yield rj(h7.prototype,this,"_start").call(this,t,e),this._widget&&(t.shouldFocus===2?this._widget.focusReplaceInput():t.shouldFocus===1&&this._widget.focusFindInput())})}highlightFindOptions(t=!1){this._widget||this._createFindWidget(),this._state.isRevealed&&!t?this._widget.highlightFindOptions():this._findOptionsWidget.highlightFindOptions()}_createFindWidget(){this._widget=this._register(new d7(this._editor,this,this._state,this._contextViewService,this._keybindingService,this._contextKeyService,this._themeService,this._storageService,this._notificationService,this._hoverService)),this._findOptionsWidget=this._register(new ZK(this._editor,this._state,this._keybindingService))}};IF=u7([Ls(1,Nd),Ls(2,Ze),Ls(3,Vt),Ls(4,Gn),Ls(5,Hi),Ls(6,Fr),Ls(7,Va),Ls(8,kc)],IF);var Uye=CR(new xR({id:Si.StartFindAction,label:_("startFindAction","Find"),alias:"Find",precondition:K.or(T.focus,K.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2084,weight:100},menuOpts:{menuId:be.MenubarEditMenu,group:"3_find",title:_({key:"miFind",comment:["&& denotes a mnemonic"]},"&&Find"),order:1}}));Uye.addImplementation(0,(n,t,e)=>{let i=lr.get(t);return i?i.start({forceRevealReplace:!1,seedSearchStringFromSelection:t.getOption(41).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:t.getOption(41).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:t.getOption(41).globalFindClipboard,shouldFocus:1,shouldAnimate:!0,updateSearchScope:!1,loop:t.getOption(41).loop}):!1});var qye={description:"Open a new In-Editor Find Widget.",args:[{name:"Open a new In-Editor Find Widget args",schema:{properties:{searchString:{type:"string"},replaceString:{type:"string"},isRegex:{type:"boolean"},matchWholeWord:{type:"boolean"},isCaseSensitive:{type:"boolean"},preserveCase:{type:"boolean"},findInSelection:{type:"boolean"}}}}]},EF=class extends Q{constructor(){super({id:Si.StartFindWithArgs,label:_("startFindWithArgsAction","Find With Arguments"),alias:"Find With Arguments",precondition:void 0,kbOpts:{kbExpr:null,primary:0,weight:100},metadata:qye})}run(t,e,i){return M(this,null,function*(){let o=lr.get(e);if(o){let r=i?{searchString:i.searchString,replaceString:i.replaceString,isReplaceRevealed:i.replaceString!==void 0,isRegex:i.isRegex,wholeWord:i.matchWholeWord,matchCase:i.isCaseSensitive,preserveCase:i.preserveCase}:{};yield o.start({forceRevealReplace:!1,seedSearchStringFromSelection:o.getState().searchString.length===0&&e.getOption(41).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:e.getOption(41).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:!0,shouldFocus:1,shouldAnimate:!0,updateSearchScope:i?.findInSelection||!1,loop:e.getOption(41).loop},r),o.setGlobalBufferTerm(o.getState().searchString)}})}},MF=class extends Q{constructor(){super({id:Si.StartFindWithSelection,label:_("startFindWithSelectionAction","Find With Selection"),alias:"Find With Selection",precondition:void 0,kbOpts:{kbExpr:null,primary:0,mac:{primary:2083},weight:100}})}run(t,e){return M(this,null,function*(){let i=lr.get(e);i&&(yield i.start({forceRevealReplace:!1,seedSearchStringFromSelection:"multiple",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:e.getOption(41).loop}),i.setGlobalBufferTerm(i.getState().searchString))})}},GE=class extends Q{run(t,e){return M(this,null,function*(){let i=lr.get(e);i&&!this._run(i)&&(yield i.start({forceRevealReplace:!1,seedSearchStringFromSelection:i.getState().searchString.length===0&&e.getOption(41).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:e.getOption(41).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:!0,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:e.getOption(41).loop}),this._run(i))})}},kF=class extends GE{constructor(){super({id:Si.NextMatchFindAction,label:_("findNextMatchAction","Find Next"),alias:"Find Next",precondition:void 0,kbOpts:[{kbExpr:T.focus,primary:61,mac:{primary:2085,secondary:[61]},weight:100},{kbExpr:K.and(T.focus,Lg),primary:3,weight:100}]})}_run(t){return t.moveToNextMatch()?(t.editor.pushUndoStop(),!0):!1}},TF=class extends GE{constructor(){super({id:Si.PreviousMatchFindAction,label:_("findPreviousMatchAction","Find Previous"),alias:"Find Previous",precondition:void 0,kbOpts:[{kbExpr:T.focus,primary:1085,mac:{primary:3109,secondary:[1085]},weight:100},{kbExpr:K.and(T.focus,Lg),primary:1027,weight:100}]})}_run(t){return t.moveToPrevMatch()}},AF=class extends Q{constructor(){super({id:Si.GoToMatchFindAction,label:_("findMatchAction.goToMatch","Go to Match..."),alias:"Go to Match...",precondition:ql}),this._highlightDecorations=[]}run(t,e,i){let o=lr.get(e);if(!o)return;let r=o.getState().matchesCount;if(r<1){t.get(Hi).notify({severity:Op.Warning,message:_("findMatchAction.noResults","No matches. Try searching for something else.")});return}let s=t.get(Go),a=new G,l=a.add(s.createInputBox());l.placeholder=_("findMatchAction.inputPlaceHolder","Type a number to go to a specific match (between 1 and {0})",r);let c=u=>{let h=parseInt(u);if(isNaN(h))return;let m=o.getState().matchesCount;if(h>0&&h<=m)return h-1;if(h<0&&h>=-m)return m+h},d=u=>{let h=c(u);if(typeof h=="number"){l.validationMessage=void 0,o.goToMatch(h);let m=o.getState().currentMatch;m&&this.addDecorations(e,m)}else l.validationMessage=_("findMatchAction.inputValidationMessage","Please type a number between 1 and {0}",o.getState().matchesCount),this.clearDecorations(e)};a.add(l.onDidChangeValue(u=>{d(u)})),a.add(l.onDidAccept(()=>{let u=c(l.value);typeof u=="number"?(o.goToMatch(u),l.hide()):l.validationMessage=_("findMatchAction.inputValidationMessage","Please type a number between 1 and {0}",o.getState().matchesCount)})),a.add(l.onDidHide(()=>{this.clearDecorations(e),a.dispose()})),l.show()}clearDecorations(t){t.changeDecorations(e=>{this._highlightDecorations=e.deltaDecorations(this._highlightDecorations,[])})}addDecorations(t,e){t.changeDecorations(i=>{this._highlightDecorations=i.deltaDecorations(this._highlightDecorations,[{range:e,options:{description:"find-match-quick-access-range-highlight",className:"rangeHighlight",isWholeLine:!0}},{range:e,options:{description:"find-match-quick-access-range-highlight-overview",overviewRuler:{color:Bi(yC),position:Lr.Full}}}])})}},$E=class extends Q{run(t,e){return M(this,null,function*(){let i=lr.get(e);if(!i)return;let o=DF(e,"single",!1);o&&i.setSearchString(o),this._run(i)||(yield i.start({forceRevealReplace:!1,seedSearchStringFromSelection:"none",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:e.getOption(41).loop}),this._run(i))})}},RF=class extends $E{constructor(){super({id:Si.NextSelectionMatchFindAction,label:_("nextSelectionMatchFindAction","Find Next Selection"),alias:"Find Next Selection",precondition:void 0,kbOpts:{kbExpr:T.focus,primary:2109,weight:100}})}_run(t){return t.moveToNextMatch()}},OF=class extends $E{constructor(){super({id:Si.PreviousSelectionMatchFindAction,label:_("previousSelectionMatchFindAction","Find Previous Selection"),alias:"Find Previous Selection",precondition:void 0,kbOpts:{kbExpr:T.focus,primary:3133,weight:100}})}_run(t){return t.moveToPrevMatch()}},Gye=CR(new xR({id:Si.StartFindReplaceAction,label:_("startReplace","Replace"),alias:"Replace",precondition:K.or(T.focus,K.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2086,mac:{primary:2596},weight:100},menuOpts:{menuId:be.MenubarEditMenu,group:"3_find",title:_({key:"miReplace",comment:["&& denotes a mnemonic"]},"&&Replace"),order:2}}));Gye.addImplementation(0,(n,t,e)=>{if(!t.hasModel()||t.getOption(92))return!1;let i=lr.get(t);if(!i)return!1;let o=t.getSelection(),r=i.isFindInputFocused(),s=!o.isEmpty()&&o.startLineNumber===o.endLineNumber&&t.getOption(41).seedSearchStringFromSelection!=="never"&&!r,a=r||s?2:1;return i.start({forceRevealReplace:!0,seedSearchStringFromSelection:s?"single":"none",seedSearchStringFromNonEmptySelection:t.getOption(41).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:t.getOption(41).seedSearchStringFromSelection!=="never",shouldFocus:a,shouldAnimate:!0,updateSearchScope:!1,loop:t.getOption(41).loop})});Te(lr.ID,IF,0);V(EF);V(MF);V(kF);V(TF);V(AF);V(RF);V(OF);var Qa=Ki.bindToContribution(lr.get);ze(new Qa({id:Si.CloseFindWidgetCommand,precondition:ql,handler:n=>n.closeFindWidget(),kbOpts:{weight:105,kbExpr:K.and(T.focus,K.not("isComposing")),primary:9,secondary:[1033]}}));ze(new Qa({id:Si.ToggleCaseSensitiveCommand,precondition:void 0,handler:n=>n.toggleCaseSensitive(),kbOpts:{weight:105,kbExpr:T.focus,primary:zy.primary,mac:zy.mac,win:zy.win,linux:zy.linux}}));ze(new Qa({id:Si.ToggleWholeWordCommand,precondition:void 0,handler:n=>n.toggleWholeWords(),kbOpts:{weight:105,kbExpr:T.focus,primary:By.primary,mac:By.mac,win:By.win,linux:By.linux}}));ze(new Qa({id:Si.ToggleRegexCommand,precondition:void 0,handler:n=>n.toggleRegex(),kbOpts:{weight:105,kbExpr:T.focus,primary:Hy.primary,mac:Hy.mac,win:Hy.win,linux:Hy.linux}}));ze(new Qa({id:Si.ToggleSearchScopeCommand,precondition:void 0,handler:n=>n.toggleSearchScope(),kbOpts:{weight:105,kbExpr:T.focus,primary:Vy.primary,mac:Vy.mac,win:Vy.win,linux:Vy.linux}}));ze(new Qa({id:Si.TogglePreserveCaseCommand,precondition:void 0,handler:n=>n.togglePreserveCase(),kbOpts:{weight:105,kbExpr:T.focus,primary:Wy.primary,mac:Wy.mac,win:Wy.win,linux:Wy.linux}}));ze(new Qa({id:Si.ReplaceOneAction,precondition:ql,handler:n=>n.replace(),kbOpts:{weight:105,kbExpr:T.focus,primary:3094}}));ze(new Qa({id:Si.ReplaceOneAction,precondition:ql,handler:n=>n.replace(),kbOpts:{weight:105,kbExpr:K.and(T.focus,Fy),primary:3}}));ze(new Qa({id:Si.ReplaceAllAction,precondition:ql,handler:n=>n.replaceAll(),kbOpts:{weight:105,kbExpr:T.focus,primary:2563}}));ze(new Qa({id:Si.ReplaceAllAction,precondition:ql,handler:n=>n.replaceAll(),kbOpts:{weight:105,kbExpr:K.and(T.focus,Fy),primary:void 0,mac:{primary:2051}}}));ze(new Qa({id:Si.SelectAllMatchesAction,precondition:ql,handler:n=>n.selectAllMatches(),kbOpts:{weight:105,kbExpr:T.focus,primary:515}}));Ht();bi();Bt();bc();ue();zi();ro();it();Kt();vn();rr();oi();var $ye={0:" ",1:"u",2:"r"},m7=65535,Ns=16777215,p7=4278190080,Gy=class{constructor(t){let e=Math.ceil(t/32);this._states=new Uint32Array(e)}get(t){let e=t/32|0,i=t%32;return(this._states[e]&1<<i)!==0}set(t,e){let i=t/32|0,o=t%32,r=this._states[i];e?this._states[i]=r|1<<o:this._states[i]=r&~(1<<o)}},Ko=class n{constructor(t,e,i){if(t.length!==e.length||t.length>m7)throw new Error("invalid startIndexes or endIndexes size");this._startIndexes=t,this._endIndexes=e,this._collapseStates=new Gy(t.length),this._userDefinedStates=new Gy(t.length),this._recoveredStates=new Gy(t.length),this._types=i,this._parentsComputed=!1}ensureParentIndices(){if(!this._parentsComputed){this._parentsComputed=!0;let t=[],e=(i,o)=>{let r=t[t.length-1];return this.getStartLineNumber(r)<=i&&this.getEndLineNumber(r)>=o};for(let i=0,o=this._startIndexes.length;i<o;i++){let r=this._startIndexes[i],s=this._endIndexes[i];if(r>Ns||s>Ns)throw new Error("startLineNumber or endLineNumber must not exceed "+Ns);for(;t.length>0&&!e(r,s);)t.pop();let a=t.length>0?t[t.length-1]:-1;t.push(i),this._startIndexes[i]=r+((a&255)<<24),this._endIndexes[i]=s+((a&65280)<<16)}}}get length(){return this._startIndexes.length}getStartLineNumber(t){return this._startIndexes[t]&Ns}getEndLineNumber(t){return this._endIndexes[t]&Ns}getType(t){return this._types?this._types[t]:void 0}hasTypes(){return!!this._types}isCollapsed(t){return this._collapseStates.get(t)}setCollapsed(t,e){this._collapseStates.set(t,e)}isUserDefined(t){return this._userDefinedStates.get(t)}setUserDefined(t,e){return this._userDefinedStates.set(t,e)}isRecovered(t){return this._recoveredStates.get(t)}setRecovered(t,e){return this._recoveredStates.set(t,e)}getSource(t){return this.isUserDefined(t)?1:this.isRecovered(t)?2:0}setSource(t,e){e===1?(this.setUserDefined(t,!0),this.setRecovered(t,!1)):e===2?(this.setUserDefined(t,!1),this.setRecovered(t,!0)):(this.setUserDefined(t,!1),this.setRecovered(t,!1))}setCollapsedAllOfType(t,e){let i=!1;if(this._types)for(let o=0;o<this._types.length;o++)this._types[o]===t&&(this.setCollapsed(o,e),i=!0);return i}toRegion(t){return new PF(this,t)}getParentIndex(t){this.ensureParentIndices();let e=((this._startIndexes[t]&p7)>>>24)+((this._endIndexes[t]&p7)>>>16);return e===m7?-1:e}contains(t,e){return this.getStartLineNumber(t)<=e&&this.getEndLineNumber(t)>=e}findIndex(t){let e=0,i=this._startIndexes.length;if(i===0)return-1;for(;e<i;){let o=Math.floor((e+i)/2);t<this.getStartLineNumber(o)?i=o:e=o+1}return e-1}findRange(t){let e=this.findIndex(t);if(e>=0){if(this.getEndLineNumber(e)>=t)return e;for(e=this.getParentIndex(e);e!==-1;){if(this.contains(e,t))return e;e=this.getParentIndex(e)}}return-1}toString(){let t=[];for(let e=0;e<this.length;e++)t[e]=`[${$ye[this.getSource(e)]}${this.isCollapsed(e)?"+":"-"}] ${this.getStartLineNumber(e)}/${this.getEndLineNumber(e)}`;return t.join(", ")}toFoldRange(t){return{startLineNumber:this._startIndexes[t]&Ns,endLineNumber:this._endIndexes[t]&Ns,type:this._types?this._types[t]:void 0,isCollapsed:this.isCollapsed(t),source:this.getSource(t)}}static fromFoldRanges(t){let e=t.length,i=new Uint32Array(e),o=new Uint32Array(e),r=[],s=!1;for(let l=0;l<e;l++){let c=t[l];i[l]=c.startLineNumber,o[l]=c.endLineNumber,r.push(c.type),c.type&&(s=!0)}s||(r=void 0);let a=new n(i,o,r);for(let l=0;l<e;l++)t[l].isCollapsed&&a.setCollapsed(l,!0),a.setSource(l,t[l].source);return a}static sanitizeAndMerge(t,e,i,o){i=i??Number.MAX_VALUE;let r=(g,v)=>Array.isArray(g)?b=>b<v?g[b]:void 0:b=>b<v?g.toFoldRange(b):void 0,s=r(t,t.length),a=r(e,e.length),l=0,c=0,d=s(0),u=a(0),h=[],m,f=0,p=[];for(;d||u;){let g;if(u&&(!d||d.startLineNumber>=u.startLineNumber))d&&d.startLineNumber===u.startLineNumber?(u.source===1?g=u:(g=d,g.isCollapsed=u.isCollapsed&&(d.endLineNumber===u.endLineNumber||!o?.startsInside(d.startLineNumber+1,d.endLineNumber+1)),g.source=0),d=s(++l)):(g=u,u.isCollapsed&&u.source===0&&(g.source=2)),u=a(++c);else{let v=c,b=u;for(;;){if(!b||b.startLineNumber>d.endLineNumber){g=d;break}if(b.source===1&&b.endLineNumber>d.endLineNumber)break;b=a(++v)}d=s(++l)}if(g){for(;m&&m.endLineNumber<g.startLineNumber;)m=h.pop();g.endLineNumber>g.startLineNumber&&g.startLineNumber>f&&g.endLineNumber<=i&&(!m||m.endLineNumber>=g.endLineNumber)&&(p.push(g),f=g.startLineNumber,m&&h.push(m),m=g)}}return p}},PF=class{constructor(t,e){this.ranges=t,this.index=e}get startLineNumber(){return this.ranges.getStartLineNumber(this.index)}get endLineNumber(){return this.ranges.getEndLineNumber(this.index)}get regionIndex(){return this.index}get parentIndex(){return this.ranges.getParentIndex(this.index)}get isCollapsed(){return this.ranges.isCollapsed(this.index)}containedBy(t){return t.startLineNumber<=this.startLineNumber&&t.endLineNumber>=this.endLineNumber}containsLine(t){return this.startLineNumber<=t&&t<=this.endLineNumber}};R4();var KE=class{get regions(){return this._regions}get textModel(){return this._textModel}constructor(t,e){this._updateEventEmitter=new je,this.onDidChange=this._updateEventEmitter.event,this._textModel=t,this._decorationProvider=e,this._regions=new Ko(new Uint32Array(0),new Uint32Array(0)),this._editorDecorationIds=[]}toggleCollapseState(t){if(!t.length)return;t=t.sort((i,o)=>i.regionIndex-o.regionIndex);let e={};this._decorationProvider.changeDecorations(i=>{let o=0,r=-1,s=-1,a=l=>{for(;o<l;){let c=this._regions.getEndLineNumber(o),d=this._regions.isCollapsed(o);if(c<=r){let u=this.regions.getSource(o)!==0;i.changeDecorationOptions(this._editorDecorationIds[o],this._decorationProvider.getDecorationOption(d,c<=s,u))}d&&c>s&&(s=c),o++}};for(let l of t){let c=l.regionIndex,d=this._editorDecorationIds[c];if(d&&!e[d]){e[d]=!0,a(c);let u=!this._regions.isCollapsed(c);this._regions.setCollapsed(c,u),r=Math.max(r,this._regions.getEndLineNumber(c))}}a(this._regions.length)}),this._updateEventEmitter.fire({model:this,collapseStateChanged:t})}removeManualRanges(t){let e=new Array,i=o=>{for(let r of t)if(!(r.startLineNumber>o.endLineNumber||o.startLineNumber>r.endLineNumber))return!0;return!1};for(let o=0;o<this._regions.length;o++){let r=this._regions.toFoldRange(o);(r.source===0||!i(r))&&e.push(r)}this.updatePost(Ko.fromFoldRanges(e))}update(t,e){let i=this._currentFoldedOrManualRanges(e),o=Ko.sanitizeAndMerge(t,i,this._textModel.getLineCount(),e);this.updatePost(Ko.fromFoldRanges(o))}updatePost(t){let e=[],i=-1;for(let o=0,r=t.length;o<r;o++){let s=t.getStartLineNumber(o),a=t.getEndLineNumber(o),l=t.isCollapsed(o),c=t.getSource(o)!==0,d={startLineNumber:s,startColumn:this._textModel.getLineMaxColumn(s),endLineNumber:a,endColumn:this._textModel.getLineMaxColumn(a)+1};e.push({range:d,options:this._decorationProvider.getDecorationOption(l,a<=i,c)}),l&&a>i&&(i=a)}this._decorationProvider.changeDecorations(o=>this._editorDecorationIds=o.deltaDecorations(this._editorDecorationIds,e)),this._regions=t,this._updateEventEmitter.fire({model:this})}_currentFoldedOrManualRanges(t){let e=[];for(let i=0,o=this._regions.length;i<o;i++){let r=this.regions.isCollapsed(i),s=this.regions.getSource(i);if(r||s!==0){let a=this._regions.toFoldRange(i),l=this._textModel.getDecorationRange(this._editorDecorationIds[i]);l&&(r&&t?.startsInside(l.startLineNumber+1,l.endLineNumber)&&(r=!1),e.push({startLineNumber:l.startLineNumber,endLineNumber:l.endLineNumber,type:a.type,isCollapsed:r,source:s}))}}return e}getMemento(){let t=this._currentFoldedOrManualRanges(),e=[],i=this._textModel.getLineCount();for(let o=0,r=t.length;o<r;o++){let s=t[o];if(s.startLineNumber>=s.endLineNumber||s.startLineNumber<1||s.endLineNumber>i)continue;let a=this._getLinesChecksum(s.startLineNumber+1,s.endLineNumber);e.push({startLineNumber:s.startLineNumber,endLineNumber:s.endLineNumber,isCollapsed:s.isCollapsed,source:s.source,checksum:a})}return e.length>0?e:void 0}applyMemento(t){if(!Array.isArray(t))return;let e=[],i=this._textModel.getLineCount();for(let r of t){if(r.startLineNumber>=r.endLineNumber||r.startLineNumber<1||r.endLineNumber>i)continue;let s=this._getLinesChecksum(r.startLineNumber+1,r.endLineNumber);(!r.checksum||s===r.checksum)&&e.push({startLineNumber:r.startLineNumber,endLineNumber:r.endLineNumber,type:void 0,isCollapsed:r.isCollapsed??!0,source:r.source??0})}let o=Ko.sanitizeAndMerge(this._regions,e,i);this.updatePost(Ko.fromFoldRanges(o))}_getLinesChecksum(t,e){return Ox(this._textModel.getLineContent(t)+this._textModel.getLineContent(e))%1e6}dispose(){this._decorationProvider.removeDecorations(this._editorDecorationIds)}getAllRegionsAtLine(t,e){let i=[];if(this._regions){let o=this._regions.findRange(t),r=1;for(;o>=0;){let s=this._regions.toRegion(o);(!e||e(s,r))&&i.push(s),r++,o=s.parentIndex}}return i}getRegionAtLine(t){if(this._regions){let e=this._regions.findRange(t);if(e>=0)return this._regions.toRegion(e)}return null}getRegionsInside(t,e){let i=[],o=t?t.regionIndex+1:0,r=t?t.endLineNumber:Number.MAX_VALUE;if(e&&e.length===2){let s=[];for(let a=o,l=this._regions.length;a<l;a++){let c=this._regions.toRegion(a);if(this._regions.getStartLineNumber(a)<r){for(;s.length>0&&!c.containedBy(s[s.length-1]);)s.pop();s.push(c),e(c,s.length)&&i.push(c)}else break}}else for(let s=o,a=this._regions.length;s<a;s++){let l=this._regions.toRegion(s);if(this._regions.getStartLineNumber(s)<r)(!e||e(l))&&i.push(l);else break}return i}};function $y(n,t,e){let i=[];for(let o of e){let r=n.getRegionAtLine(o);if(r){let s=!r.isCollapsed;if(i.push(r),t>1){let a=n.getRegionsInside(r,(l,c)=>l.isCollapsed!==s&&c<t);i.push(...a)}}}n.toggleCollapseState(i)}function Am(n,t,e=Number.MAX_VALUE,i){let o=[];if(i&&i.length>0)for(let r of i){let s=n.getRegionAtLine(r);if(s&&(s.isCollapsed!==t&&o.push(s),e>1)){let a=n.getRegionsInside(s,(l,c)=>l.isCollapsed!==t&&c<e);o.push(...a)}}else{let r=n.getRegionsInside(null,(s,a)=>s.isCollapsed!==t&&a<e);o.push(...r)}n.toggleCollapseState(o)}function LF(n,t,e,i){let o=[];for(let r of i){let s=n.getAllRegionsAtLine(r,(a,l)=>a.isCollapsed!==t&&l<=e);o.push(...s)}n.toggleCollapseState(o)}function f7(n,t,e){let i=[];for(let o of e){let r=n.getAllRegionsAtLine(o,s=>s.isCollapsed!==t);r.length>0&&i.push(r[0])}n.toggleCollapseState(i)}function g7(n,t,e,i){let o=(s,a)=>a===t&&s.isCollapsed!==e&&!i.some(l=>s.containsLine(l)),r=n.getRegionsInside(null,o);n.toggleCollapseState(r)}function NF(n,t,e){let i=[];for(let s of e){let a=n.getAllRegionsAtLine(s,void 0);a.length>0&&i.push(a[0])}let o=s=>i.every(a=>!a.containedBy(s)&&!s.containedBy(a))&&s.isCollapsed!==t,r=n.getRegionsInside(null,o);n.toggleCollapseState(r)}function YE(n,t,e){let i=n.textModel,o=n.regions,r=[];for(let s=o.length-1;s>=0;s--)if(e!==o.isCollapsed(s)){let a=o.getStartLineNumber(s);t.test(i.getLineContent(a))&&r.push(o.toRegion(s))}n.toggleCollapseState(r)}function XE(n,t,e){let i=n.regions,o=[];for(let r=i.length-1;r>=0;r--)e!==i.isCollapsed(r)&&t===i.getType(r)&&o.push(i.toRegion(r));n.toggleCollapseState(o)}function _7(n,t){let e=null,i=t.getRegionAtLine(n);if(i!==null&&(e=i.startLineNumber,n===e)){let o=i.parentIndex;o!==-1?e=t.regions.getStartLineNumber(o):e=null}return e}function v7(n,t){let e=t.getRegionAtLine(n);if(e!==null&&e.startLineNumber===n){if(n!==e.startLineNumber)return e.startLineNumber;{let i=e.parentIndex,o=0;for(i!==-1&&(o=t.regions.getStartLineNumber(e.parentIndex));e!==null;)if(e.regionIndex>0){if(e=t.regions.toRegion(e.regionIndex-1),e.startLineNumber<=o)return null;if(e.parentIndex===i)return e.startLineNumber}else return null}}else if(t.regions.length>0)for(e=t.regions.toRegion(t.regions.length-1);e!==null;){if(e.startLineNumber<n)return e.startLineNumber;e.regionIndex>0?e=t.regions.toRegion(e.regionIndex-1):e=null}return null}function b7(n,t){let e=t.getRegionAtLine(n);if(e!==null&&e.startLineNumber===n){let i=e.parentIndex,o=0;if(i!==-1)o=t.regions.getEndLineNumber(e.parentIndex);else{if(t.regions.length===0)return null;o=t.regions.getEndLineNumber(t.regions.length-1)}for(;e!==null;)if(e.regionIndex<t.regions.length){if(e=t.regions.toRegion(e.regionIndex+1),e.startLineNumber>=o)return null;if(e.parentIndex===i)return e.startLineNumber}else return null}else if(t.regions.length>0)for(e=t.regions.toRegion(0);e!==null;){if(e.startLineNumber>n)return e.startLineNumber;e.regionIndex<t.regions.length?e=t.regions.toRegion(e.regionIndex+1):e=null}return null}wv();oi();qe();Iue();var ZE=class{get onDidChange(){return this._updateEventEmitter.event}get hiddenRanges(){return this._hiddenRanges}constructor(t){this._updateEventEmitter=new je,this._hasLineChanges=!1,this._foldingModel=t,this._foldingModelListener=t.onDidChange(e=>this.updateHiddenRanges()),this._hiddenRanges=[],t.regions.length&&this.updateHiddenRanges()}notifyChangeModelContent(t){this._hiddenRanges.length&&!this._hasLineChanges&&(this._hasLineChanges=t.changes.some(e=>e.range.endLineNumber!==e.range.startLineNumber||h5(e.text)[0]!==0))}updateHiddenRanges(){let t=!1,e=[],i=0,o=0,r=Number.MAX_VALUE,s=-1,a=this._foldingModel.regions;for(;i<a.length;i++){if(!a.isCollapsed(i))continue;let l=a.getStartLineNumber(i)+1,c=a.getEndLineNumber(i);r<=l&&c<=s||(!t&&o<this._hiddenRanges.length&&this._hiddenRanges[o].startLineNumber===l&&this._hiddenRanges[o].endLineNumber===c?(e.push(this._hiddenRanges[o]),o++):(t=!0,e.push(new A(l,1,c,1))),r=l,s=c)}(this._hasLineChanges||t||o<this._hiddenRanges.length)&&this.applyHiddenRanges(e)}applyHiddenRanges(t){this._hiddenRanges=t,this._hasLineChanges=!1,this._updateEventEmitter.fire(t)}hasRanges(){return this._hiddenRanges.length>0}isHidden(t){return y7(this._hiddenRanges,t)!==null}adjustSelections(t){let e=!1,i=this._foldingModel.textModel,o=null,r=s=>((!o||!Kye(s,o))&&(o=y7(this._hiddenRanges,s)),o?o.startLineNumber-1:null);for(let s=0,a=t.length;s<a;s++){let l=t[s],c=r(l.startLineNumber);c&&(l=l.setStartPosition(c,i.getLineMaxColumn(c)),e=!0);let d=r(l.endLineNumber);d&&(l=l.setEndPosition(d,i.getLineMaxColumn(d)),e=!0),t[s]=l}return e}dispose(){this.hiddenRanges.length>0&&(this._hiddenRanges=[],this._updateEventEmitter.fire(this._hiddenRanges)),this._foldingModelListener&&(this._foldingModelListener.dispose(),this._foldingModelListener=null)}};function Kye(n,t){return n>=t.startLineNumber&&n<=t.endLineNumber}function y7(n,t){let e=Wx(n,i=>t<i.startLineNumber)-1;return e>=0&&n[e].endLineNumber>=t?n[e]:null}ZU();var Yye=5e3,Xye="indent",Rm=class{constructor(t,e,i){this.editorModel=t,this.languageConfigurationService=e,this.foldingRangesLimit=i,this.id=Xye}dispose(){}compute(t){let e=this.languageConfigurationService.getLanguageConfiguration(this.editorModel.getLanguageId()).foldingRules,i=e&&!!e.offSide,o=e&&e.markers;return Promise.resolve(Qye(this.editorModel,i,o,this.foldingRangesLimit))}},FF=class{constructor(t){this._startIndexes=[],this._endIndexes=[],this._indentOccurrences=[],this._length=0,this._foldingRangesLimit=t}insertFirst(t,e,i){if(t>Ns||e>Ns)return;let o=this._length;this._startIndexes[o]=t,this._endIndexes[o]=e,this._length++,i<1e3&&(this._indentOccurrences[i]=(this._indentOccurrences[i]||0)+1)}toIndentRanges(t){let e=this._foldingRangesLimit.limit;if(this._length<=e){this._foldingRangesLimit.update(this._length,!1);let i=new Uint32Array(this._length),o=new Uint32Array(this._length);for(let r=this._length-1,s=0;r>=0;r--,s++)i[s]=this._startIndexes[r],o[s]=this._endIndexes[r];return new Ko(i,o)}else{this._foldingRangesLimit.update(this._length,e);let i=0,o=this._indentOccurrences.length;for(let l=0;l<this._indentOccurrences.length;l++){let c=this._indentOccurrences[l];if(c){if(c+i>e){o=l;break}i+=c}}let r=t.getOptions().tabSize,s=new Uint32Array(e),a=new Uint32Array(e);for(let l=this._length-1,c=0;l>=0;l--){let d=this._startIndexes[l],u=t.getLineContent(d),h=Pv(u,r);(h<o||h===o&&i++<e)&&(s[c]=d,a[c]=this._endIndexes[l],c++)}return new Ko(s,a)}}},Zye={limit:Yye,update:()=>{}};function Qye(n,t,e,i=Zye){let o=n.getOptions().tabSize,r=new FF(i),s;e&&(s=new RegExp(`(${e.start.source})|(?:${e.end.source})`));let a=[],l=n.getLineCount()+1;a.push({indent:-1,endAbove:l,line:l});for(let c=n.getLineCount();c>0;c--){let d=n.getLineContent(c),u=Pv(d,o),h=a[a.length-1];if(u===-1){t&&(h.endAbove=c);continue}let m;if(s&&(m=d.match(s)))if(m[1]){let f=a.length-1;for(;f>0&&a[f].indent!==-2;)f--;if(f>0){a.length=f+1,h=a[f],r.insertFirst(c,h.line,u),h.line=c,h.indent=u,h.endAbove=c;continue}}else{a.push({indent:-2,endAbove:c,line:c});continue}if(h.indent>u){do a.pop(),h=a[a.length-1];while(h.indent>u);let f=h.endAbove-1;f-c>=1&&r.insertFirst(c,f,u)}h.indent===u?h.endAbove=c:a.push({indent:u,endAbove:c,line:c})}return r.toIndentRanges(n)}Re();pt();Wn();wn();Re();Po();Oo();nr();var Jye=Pe("editor.foldBackground",{light:xs(TR,.3),dark:xs(TR,.3),hcDark:null,hcLight:null},_("foldBackgroundBackground","Background color behind folded ranges. The color must not be opaque so as not to hide underlying decorations."),!0);Pe("editor.foldPlaceholderForeground",{light:"#808080",dark:"#808080",hcDark:null,hcLight:null},_("collapsedTextColor","Color of the collapsed text after the first line of a folded range."));Pe("editorGutter.foldingControlForeground",f5,_("editorGutter.foldingControlForeground","Color of the folding control in the editor gutter."));var Ky=Ii("folding-expanded",Ge.chevronDown,_("foldingExpandedIcon","Icon for expanded ranges in the editor glyph margin.")),Yy=Ii("folding-collapsed",Ge.chevronRight,_("foldingCollapsedIcon","Icon for collapsed ranges in the editor glyph margin.")),w7=Ii("folding-manual-collapsed",Yy,_("foldingManualCollapedIcon","Icon for manually collapsed ranges in the editor glyph margin.")),x7=Ii("folding-manual-expanded",Ky,_("foldingManualExpandedIcon","Icon for manually expanded ranges in the editor glyph margin.")),zF={color:Bi(Jye),position:1},Ng=_("linesCollapsed","Click to expand the range."),QE=_("linesExpanded","Click to collapse the range."),JE=class n{static{this.COLLAPSED_VISUAL_DECORATION=lt.register({description:"folding-collapsed-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",isWholeLine:!0,linesDecorationsTooltip:Ng,firstLineDecorationClassName:Dt.asClassName(Yy)})}static{this.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=lt.register({description:"folding-collapsed-highlighted-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",className:"folded-background",minimap:zF,isWholeLine:!0,linesDecorationsTooltip:Ng,firstLineDecorationClassName:Dt.asClassName(Yy)})}static{this.MANUALLY_COLLAPSED_VISUAL_DECORATION=lt.register({description:"folding-manually-collapsed-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",isWholeLine:!0,linesDecorationsTooltip:Ng,firstLineDecorationClassName:Dt.asClassName(w7)})}static{this.MANUALLY_COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=lt.register({description:"folding-manually-collapsed-highlighted-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",className:"folded-background",minimap:zF,isWholeLine:!0,linesDecorationsTooltip:Ng,firstLineDecorationClassName:Dt.asClassName(w7)})}static{this.NO_CONTROLS_COLLAPSED_RANGE_DECORATION=lt.register({description:"folding-no-controls-range-decoration",stickiness:0,afterContentClassName:"inline-folded",isWholeLine:!0,linesDecorationsTooltip:Ng})}static{this.NO_CONTROLS_COLLAPSED_HIGHLIGHTED_RANGE_DECORATION=lt.register({description:"folding-no-controls-range-decoration",stickiness:0,afterContentClassName:"inline-folded",className:"folded-background",minimap:zF,isWholeLine:!0,linesDecorationsTooltip:Ng})}static{this.EXPANDED_VISUAL_DECORATION=lt.register({description:"folding-expanded-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+Dt.asClassName(Ky),linesDecorationsTooltip:QE})}static{this.EXPANDED_AUTO_HIDE_VISUAL_DECORATION=lt.register({description:"folding-expanded-auto-hide-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:Dt.asClassName(Ky),linesDecorationsTooltip:QE})}static{this.MANUALLY_EXPANDED_VISUAL_DECORATION=lt.register({description:"folding-manually-expanded-visual-decoration",stickiness:0,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+Dt.asClassName(x7),linesDecorationsTooltip:QE})}static{this.MANUALLY_EXPANDED_AUTO_HIDE_VISUAL_DECORATION=lt.register({description:"folding-manually-expanded-auto-hide-visual-decoration",stickiness:0,isWholeLine:!0,firstLineDecorationClassName:Dt.asClassName(x7),linesDecorationsTooltip:QE})}static{this.NO_CONTROLS_EXPANDED_RANGE_DECORATION=lt.register({description:"folding-no-controls-range-decoration",stickiness:0,isWholeLine:!0})}static{this.HIDDEN_RANGE_DECORATION=lt.register({description:"folding-hidden-range-decoration",stickiness:1})}constructor(t){this.editor=t,this.showFoldingControls="mouseover",this.showFoldingHighlights=!0}getDecorationOption(t,e,i){return e?n.HIDDEN_RANGE_DECORATION:this.showFoldingControls==="never"?t?this.showFoldingHighlights?n.NO_CONTROLS_COLLAPSED_HIGHLIGHTED_RANGE_DECORATION:n.NO_CONTROLS_COLLAPSED_RANGE_DECORATION:n.NO_CONTROLS_EXPANDED_RANGE_DECORATION:t?i?this.showFoldingHighlights?n.MANUALLY_COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:n.MANUALLY_COLLAPSED_VISUAL_DECORATION:this.showFoldingHighlights?n.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:n.COLLAPSED_VISUAL_DECORATION:this.showFoldingControls==="mouseover"?i?n.MANUALLY_EXPANDED_AUTO_HIDE_VISUAL_DECORATION:n.EXPANDED_AUTO_HIDE_VISUAL_DECORATION:i?n.MANUALLY_EXPANDED_VISUAL_DECORATION:n.EXPANDED_VISUAL_DECORATION}changeDecorations(t){return this.editor.changeDecorations(t)}removeDecorations(t){this.editor.removeDecorations(t)}};Bt();ue();var e0e={},t0e="syntax",Om=class{constructor(t,e,i,o,r){this.editorModel=t,this.providers=e,this.handleFoldingRangesChange=i,this.foldingRangesLimit=o,this.fallbackRangeProvider=r,this.id=t0e,this.disposables=new G,r&&this.disposables.add(r);for(let s of e)typeof s.onDidChange=="function"&&this.disposables.add(s.onDidChange(i))}compute(t){return i0e(this.providers,this.editorModel,t).then(e=>e?n0e(e,this.foldingRangesLimit):this.fallbackRangeProvider?.compute(t)??null)}dispose(){this.disposables.dispose()}};function i0e(n,t,e){let i=null,o=n.map((r,s)=>Promise.resolve(r.provideFoldingRanges(t,e0e,e)).then(a=>{if(!e.isCancellationRequested&&Array.isArray(a)){Array.isArray(i)||(i=[]);let l=t.getLineCount();for(let c of a)c.start>0&&c.end>c.start&&c.end<=l&&i.push({start:c.start,end:c.end,rank:s,kind:c.kind})}},zt));return Promise.all(o).then(r=>i)}var BF=class{constructor(t){this._startIndexes=[],this._endIndexes=[],this._nestingLevels=[],this._nestingLevelCounts=[],this._types=[],this._length=0,this._foldingRangesLimit=t}add(t,e,i,o){if(t>Ns||e>Ns)return;let r=this._length;this._startIndexes[r]=t,this._endIndexes[r]=e,this._nestingLevels[r]=o,this._types[r]=i,this._length++,o<30&&(this._nestingLevelCounts[o]=(this._nestingLevelCounts[o]||0)+1)}toIndentRanges(){let t=this._foldingRangesLimit.limit;if(this._length<=t){this._foldingRangesLimit.update(this._length,!1);let e=new Uint32Array(this._length),i=new Uint32Array(this._length);for(let o=0;o<this._length;o++)e[o]=this._startIndexes[o],i[o]=this._endIndexes[o];return new Ko(e,i,this._types)}else{this._foldingRangesLimit.update(this._length,t);let e=0,i=this._nestingLevelCounts.length;for(let a=0;a<this._nestingLevelCounts.length;a++){let l=this._nestingLevelCounts[a];if(l){if(l+e>t){i=a;break}e+=l}}let o=new Uint32Array(t),r=new Uint32Array(t),s=[];for(let a=0,l=0;a<this._length;a++){let c=this._nestingLevels[a];(c<i||c===i&&e++<t)&&(o[l]=this._startIndexes[a],r[l]=this._endIndexes[a],s[l]=this._types[a],l++)}return new Ko(o,r,s)}}};function n0e(n,t){let e=n.sort((s,a)=>{let l=s.start-a.start;return l===0&&(l=s.rank-a.rank),l}),i=new BF(t),o,r=[];for(let s of e)if(!o)o=s,i.add(s.start,s.end,s.kind&&s.kind.value,r.length);else if(s.start>o.start)if(s.end<=o.end)r.push(o),o=s,i.add(s.start,s.end,s.kind&&s.kind.value,r.length);else{if(s.start>o.end){do o=r.pop();while(o&&s.start>o.end);o&&r.push(o),o=s}i.add(s.start,s.end,s.kind&&s.kind.value,r.length)}return i.toIndentRanges()}Xs();Ks();Lt();oi();qi();Ln();bs();bn();var o0e=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},Xy=function(n,t){return function(e,i){t(e,i,n)}},Zy,Mo=new ot("foldingEnabled",!1),$l=class extends U{static{Zy=this}static{this.ID="editor.contrib.folding"}static get(e){return e.getContribution(Zy.ID)}static getFoldingRangeProviders(e,i){let o=e.foldingRangeProvider.ordered(i);return Zy._foldingRangeSelector?.(o,i)??o}constructor(e,i,o,r,s,a){super(),this.contextKeyService=i,this.languageConfigurationService=o,this.languageFeaturesService=a,this.localToDispose=this._register(new G),this.editor=e,this._foldingLimitReporter=new Qy(e);let l=this.editor.getOptions();this._isEnabled=l.get(43),this._useFoldingProviders=l.get(44)!=="indentation",this._unfoldOnClickAfterEndOfLine=l.get(48),this._restoringViewState=!1,this._currentModelHasFoldedImports=!1,this._foldingImportsByDefault=l.get(46),this.updateDebounceInfo=s.for(a.foldingRangeProvider,"Folding",{min:200}),this.foldingModel=null,this.hiddenRangeModel=null,this.rangeProvider=null,this.foldingRegionPromise=null,this.foldingModelPromise=null,this.updateScheduler=null,this.cursorChangedScheduler=null,this.mouseDownInfo=null,this.foldingDecorationProvider=new JE(e),this.foldingDecorationProvider.showFoldingControls=l.get(111),this.foldingDecorationProvider.showFoldingHighlights=l.get(45),this.foldingEnabled=Mo.bindTo(this.contextKeyService),this.foldingEnabled.set(this._isEnabled),this._register(this.editor.onDidChangeModel(()=>this.onModelChanged())),this._register(this.editor.onDidChangeConfiguration(c=>{if(c.hasChanged(43)&&(this._isEnabled=this.editor.getOptions().get(43),this.foldingEnabled.set(this._isEnabled),this.onModelChanged()),c.hasChanged(47)&&this.onModelChanged(),c.hasChanged(111)||c.hasChanged(45)){let d=this.editor.getOptions();this.foldingDecorationProvider.showFoldingControls=d.get(111),this.foldingDecorationProvider.showFoldingHighlights=d.get(45),this.triggerFoldingModelChanged()}c.hasChanged(44)&&(this._useFoldingProviders=this.editor.getOptions().get(44)!=="indentation",this.onFoldingStrategyChanged()),c.hasChanged(48)&&(this._unfoldOnClickAfterEndOfLine=this.editor.getOptions().get(48)),c.hasChanged(46)&&(this._foldingImportsByDefault=this.editor.getOptions().get(46))})),this.onModelChanged()}saveViewState(){let e=this.editor.getModel();if(!e||!this._isEnabled||e.isTooLargeForTokenization())return{};if(this.foldingModel){let i=this.foldingModel.getMemento(),o=this.rangeProvider?this.rangeProvider.id:void 0;return{collapsedRegions:i,lineCount:e.getLineCount(),provider:o,foldedImports:this._currentModelHasFoldedImports}}}restoreViewState(e){let i=this.editor.getModel();if(!(!i||!this._isEnabled||i.isTooLargeForTokenization()||!this.hiddenRangeModel)&&e&&(this._currentModelHasFoldedImports=!!e.foldedImports,e.collapsedRegions&&e.collapsedRegions.length>0&&this.foldingModel)){this._restoringViewState=!0;try{this.foldingModel.applyMemento(e.collapsedRegions)}finally{this._restoringViewState=!1}}}onModelChanged(){this.localToDispose.clear();let e=this.editor.getModel();!this._isEnabled||!e||e.isTooLargeForTokenization()||(this._currentModelHasFoldedImports=!1,this.foldingModel=new KE(e,this.foldingDecorationProvider),this.localToDispose.add(this.foldingModel),this.hiddenRangeModel=new ZE(this.foldingModel),this.localToDispose.add(this.hiddenRangeModel),this.localToDispose.add(this.hiddenRangeModel.onDidChange(i=>this.onHiddenRangesChanges(i))),this.updateScheduler=new Ar(this.updateDebounceInfo.get(e)),this.cursorChangedScheduler=new ai(()=>this.revealCursor(),200),this.localToDispose.add(this.cursorChangedScheduler),this.localToDispose.add(this.languageFeaturesService.foldingRangeProvider.onDidChange(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelLanguageConfiguration(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelContent(i=>this.onDidChangeModelContent(i))),this.localToDispose.add(this.editor.onDidChangeCursorPosition(()=>this.onCursorPositionChanged())),this.localToDispose.add(this.editor.onMouseDown(i=>this.onEditorMouseDown(i))),this.localToDispose.add(this.editor.onMouseUp(i=>this.onEditorMouseUp(i))),this.localToDispose.add({dispose:()=>{this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.updateScheduler?.cancel(),this.updateScheduler=null,this.foldingModel=null,this.foldingModelPromise=null,this.hiddenRangeModel=null,this.cursorChangedScheduler=null,this.rangeProvider?.dispose(),this.rangeProvider=null}}),this.triggerFoldingModelChanged())}onFoldingStrategyChanged(){this.rangeProvider?.dispose(),this.rangeProvider=null,this.triggerFoldingModelChanged()}getRangeProvider(e){if(this.rangeProvider)return this.rangeProvider;let i=new Rm(e,this.languageConfigurationService,this._foldingLimitReporter);if(this.rangeProvider=i,this._useFoldingProviders&&this.foldingModel){let o=Zy.getFoldingRangeProviders(this.languageFeaturesService,e);o.length>0&&(this.rangeProvider=new Om(e,o,()=>this.triggerFoldingModelChanged(),this._foldingLimitReporter,i))}return this.rangeProvider}getFoldingModel(){return this.foldingModelPromise}onDidChangeModelContent(e){this.hiddenRangeModel?.notifyChangeModelContent(e),this.triggerFoldingModelChanged()}triggerFoldingModelChanged(){this.updateScheduler&&(this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.foldingModelPromise=this.updateScheduler.trigger(()=>{let e=this.foldingModel;if(!e)return null;let i=new Xi,o=this.getRangeProvider(e.textModel),r=this.foldingRegionPromise=Ci(s=>o.compute(s));return r.then(s=>{if(s&&r===this.foldingRegionPromise){let a;if(this._foldingImportsByDefault&&!this._currentModelHasFoldedImports){let d=s.setCollapsedAllOfType(Sp.Imports.value,!0);d&&(a=El.capture(this.editor),this._currentModelHasFoldedImports=d)}let l=this.editor.getSelections();e.update(s,r0e(l)),a?.restore(this.editor);let c=this.updateDebounceInfo.update(e.textModel,i.elapsed());this.updateScheduler&&(this.updateScheduler.defaultDelay=c)}return e})}).then(void 0,e=>(ht(e),null)))}onHiddenRangesChanges(e){if(this.hiddenRangeModel&&e.length&&!this._restoringViewState){let i=this.editor.getSelections();i&&this.hiddenRangeModel.adjustSelections(i)&&this.editor.setSelections(i)}this.editor.setHiddenAreas(e,this)}onCursorPositionChanged(){this.hiddenRangeModel&&this.hiddenRangeModel.hasRanges()&&this.cursorChangedScheduler.schedule()}revealCursor(){let e=this.getFoldingModel();e&&e.then(i=>{if(i){let o=this.editor.getSelections();if(o&&o.length>0){let r=[];for(let s of o){let a=s.selectionStartLineNumber;this.hiddenRangeModel&&this.hiddenRangeModel.isHidden(a)&&r.push(...i.getAllRegionsAtLine(a,l=>l.isCollapsed&&a>l.startLineNumber))}r.length&&(i.toggleCollapseState(r),this.reveal(o[0].getPosition()))}}}).then(void 0,ht)}onEditorMouseDown(e){if(this.mouseDownInfo=null,!this.hiddenRangeModel||!e.target||!e.target.range||!e.event.leftButton&&!e.event.middleButton)return;let i=e.target.range,o=!1;switch(e.target.type){case 4:{let r=e.target.detail,s=e.target.element.offsetLeft;if(r.offsetX-s<4)return;o=!0;break}case 7:{if(this._unfoldOnClickAfterEndOfLine&&this.hiddenRangeModel.hasRanges()&&!e.target.detail.isAfterLines)break;return}case 6:{if(this.hiddenRangeModel.hasRanges()){let r=this.editor.getModel();if(r&&i.startColumn===r.getLineMaxColumn(i.startLineNumber))break}return}default:return}this.mouseDownInfo={lineNumber:i.startLineNumber,iconClicked:o}}onEditorMouseUp(e){let i=this.foldingModel;if(!i||!this.mouseDownInfo||!e.target)return;let o=this.mouseDownInfo.lineNumber,r=this.mouseDownInfo.iconClicked,s=e.target.range;if(!s||s.startLineNumber!==o)return;if(r){if(e.target.type!==4)return}else{let l=this.editor.getModel();if(!l||s.startColumn!==l.getLineMaxColumn(o))return}let a=i.getRegionAtLine(o);if(a&&a.startLineNumber===o){let l=a.isCollapsed;if(r||l){let c=e.event.altKey,d=[];if(c){let u=m=>!m.containedBy(a)&&!a.containedBy(m),h=i.getRegionsInside(null,u);for(let m of h)m.isCollapsed&&d.push(m);d.length===0&&(d=h)}else{let u=e.event.middleButton||e.event.shiftKey;if(u)for(let h of i.getRegionsInside(a))h.isCollapsed===l&&d.push(h);(l||!u||d.length===0)&&d.push(a)}i.toggleCollapseState(d),this.reveal({lineNumber:o,column:1})}}}reveal(e){this.editor.revealPositionInCenterIfOutsideViewport(e,0)}};$l=Zy=o0e([Xy(1,Ze),Xy(2,yi),Xy(3,Hi),Xy(4,yn),Xy(5,ce)],$l);var Qy=class{constructor(t){this.editor=t,this._onDidChange=new je,this._computed=0,this._limited=!1}get limit(){return this.editor.getOptions().get(47)}update(t,e){(t!==this._computed||e!==this._limited)&&(this._computed=t,this._limited=e,this._onDidChange.fire())}},po=class extends Q{runEditorCommand(t,e,i){let o=t.get(yi),r=$l.get(e);if(!r)return;let s=r.getFoldingModel();if(s)return this.reportTelemetry(t,e),s.then(a=>{if(a){this.invoke(r,a,e,i,o);let l=e.getSelection();l&&r.reveal(l.getStartPosition())}})}getSelectedLines(t){let e=t.getSelections();return e?e.map(i=>i.startLineNumber):[]}getLineNumbers(t,e){return t&&t.selectionLines?t.selectionLines.map(i=>i+1):this.getSelectedLines(e)}run(t,e){}};function r0e(n){return!n||n.length===0?{startsInside:()=>!1}:{startsInside(t,e){for(let i of n){let o=i.startLineNumber;if(o>=t&&o<=e)return!0}return!1}}}function S7(n){if(!Sh(n)){if(!Sx(n))return!1;let t=n;if(!Sh(t.levels)&&!rR(t.levels)||!Sh(t.direction)&&!Cx(t.direction)||!Sh(t.selectionLines)&&(!Array.isArray(t.selectionLines)||!t.selectionLines.every(rR)))return!1}return!0}var HF=class extends po{constructor(){super({id:"editor.unfold",label:_("unfoldAction.label","Unfold"),alias:"Unfold",precondition:Mo,kbOpts:{kbExpr:T.editorTextFocus,primary:3166,mac:{primary:2654},weight:100},metadata:{description:"Unfold the content in the editor",args:[{name:"Unfold editor argument",description:`Property-value pairs that can be passed through this argument:
						* 'levels': Number of levels to unfold. If not set, defaults to 1.
						* 'direction': If 'up', unfold given number of levels up otherwise unfolds down.
						* 'selectionLines': Array of the start lines (0-based) of the editor selections to apply the unfold action to. If not set, the active selection(s) will be used.
						`,constraint:S7,schema:{type:"object",properties:{levels:{type:"number",default:1},direction:{type:"string",enum:["up","down"],default:"down"},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(t,e,i,o){let r=o&&o.levels||1,s=this.getLineNumbers(o,i);o&&o.direction==="up"?LF(e,!1,r,s):Am(e,!1,r,s)}},VF=class extends po{constructor(){super({id:"editor.unfoldRecursively",label:_("unFoldRecursivelyAction.label","Unfold Recursively"),alias:"Unfold Recursively",precondition:Mo,kbOpts:{kbExpr:T.editorTextFocus,primary:Pi(2089,2142),weight:100}})}invoke(t,e,i,o){Am(e,!1,Number.MAX_VALUE,this.getSelectedLines(i))}},WF=class extends po{constructor(){super({id:"editor.fold",label:_("foldAction.label","Fold"),alias:"Fold",precondition:Mo,kbOpts:{kbExpr:T.editorTextFocus,primary:3164,mac:{primary:2652},weight:100},metadata:{description:"Fold the content in the editor",args:[{name:"Fold editor argument",description:`Property-value pairs that can be passed through this argument:
							* 'levels': Number of levels to fold.
							* 'direction': If 'up', folds given number of levels up otherwise folds down.
							* 'selectionLines': Array of the start lines (0-based) of the editor selections to apply the fold action to. If not set, the active selection(s) will be used.
							If no levels or direction is set, folds the region at the locations or if already collapsed, the first uncollapsed parent instead.
						`,constraint:S7,schema:{type:"object",properties:{levels:{type:"number"},direction:{type:"string",enum:["up","down"]},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(t,e,i,o){let r=this.getLineNumbers(o,i),s=o&&o.levels,a=o&&o.direction;typeof s!="number"&&typeof a!="string"?f7(e,!0,r):a==="up"?LF(e,!0,s||1,r):Am(e,!0,s||1,r)}},jF=class extends po{constructor(){super({id:"editor.toggleFold",label:_("toggleFoldAction.label","Toggle Fold"),alias:"Toggle Fold",precondition:Mo,kbOpts:{kbExpr:T.editorTextFocus,primary:Pi(2089,2090),weight:100}})}invoke(t,e,i){let o=this.getSelectedLines(i);$y(e,1,o)}},UF=class extends po{constructor(){super({id:"editor.foldRecursively",label:_("foldRecursivelyAction.label","Fold Recursively"),alias:"Fold Recursively",precondition:Mo,kbOpts:{kbExpr:T.editorTextFocus,primary:Pi(2089,2140),weight:100}})}invoke(t,e,i){let o=this.getSelectedLines(i);Am(e,!0,Number.MAX_VALUE,o)}},qF=class extends po{constructor(){super({id:"editor.toggleFoldRecursively",label:_("toggleFoldRecursivelyAction.label","Toggle Fold Recursively"),alias:"Toggle Fold Recursively",precondition:Mo,kbOpts:{kbExpr:T.editorTextFocus,primary:Pi(2089,3114),weight:100}})}invoke(t,e,i){let o=this.getSelectedLines(i);$y(e,Number.MAX_VALUE,o)}},GF=class extends po{constructor(){super({id:"editor.foldAllBlockComments",label:_("foldAllBlockComments.label","Fold All Block Comments"),alias:"Fold All Block Comments",precondition:Mo,kbOpts:{kbExpr:T.editorTextFocus,primary:Pi(2089,2138),weight:100}})}invoke(t,e,i,o,r){if(e.regions.hasTypes())XE(e,Sp.Comment.value,!0);else{let s=i.getModel();if(!s)return;let a=r.getLanguageConfiguration(s.getLanguageId()).comments;if(a&&a.blockCommentStartToken){let l=new RegExp("^\\s*"+yc(a.blockCommentStartToken));YE(e,l,!0)}}}},$F=class extends po{constructor(){super({id:"editor.foldAllMarkerRegions",label:_("foldAllMarkerRegions.label","Fold All Regions"),alias:"Fold All Regions",precondition:Mo,kbOpts:{kbExpr:T.editorTextFocus,primary:Pi(2089,2077),weight:100}})}invoke(t,e,i,o,r){if(e.regions.hasTypes())XE(e,Sp.Region.value,!0);else{let s=i.getModel();if(!s)return;let a=r.getLanguageConfiguration(s.getLanguageId()).foldingRules;if(a&&a.markers&&a.markers.start){let l=new RegExp(a.markers.start);YE(e,l,!0)}}}},KF=class extends po{constructor(){super({id:"editor.unfoldAllMarkerRegions",label:_("unfoldAllMarkerRegions.label","Unfold All Regions"),alias:"Unfold All Regions",precondition:Mo,kbOpts:{kbExpr:T.editorTextFocus,primary:Pi(2089,2078),weight:100}})}invoke(t,e,i,o,r){if(e.regions.hasTypes())XE(e,Sp.Region.value,!1);else{let s=i.getModel();if(!s)return;let a=r.getLanguageConfiguration(s.getLanguageId()).foldingRules;if(a&&a.markers&&a.markers.start){let l=new RegExp(a.markers.start);YE(e,l,!1)}}}},YF=class extends po{constructor(){super({id:"editor.foldAllExcept",label:_("foldAllExcept.label","Fold All Except Selected"),alias:"Fold All Except Selected",precondition:Mo,kbOpts:{kbExpr:T.editorTextFocus,primary:Pi(2089,2136),weight:100}})}invoke(t,e,i){let o=this.getSelectedLines(i);NF(e,!0,o)}},XF=class extends po{constructor(){super({id:"editor.unfoldAllExcept",label:_("unfoldAllExcept.label","Unfold All Except Selected"),alias:"Unfold All Except Selected",precondition:Mo,kbOpts:{kbExpr:T.editorTextFocus,primary:Pi(2089,2134),weight:100}})}invoke(t,e,i){let o=this.getSelectedLines(i);NF(e,!1,o)}},ZF=class extends po{constructor(){super({id:"editor.foldAll",label:_("foldAllAction.label","Fold All"),alias:"Fold All",precondition:Mo,kbOpts:{kbExpr:T.editorTextFocus,primary:Pi(2089,2069),weight:100}})}invoke(t,e,i){Am(e,!0)}},QF=class extends po{constructor(){super({id:"editor.unfoldAll",label:_("unfoldAllAction.label","Unfold All"),alias:"Unfold All",precondition:Mo,kbOpts:{kbExpr:T.editorTextFocus,primary:Pi(2089,2088),weight:100}})}invoke(t,e,i){Am(e,!1)}},C7=(()=>{class n extends po{static{this.ID_PREFIX="editor.foldLevel"}static{this.ID=e=>n.ID_PREFIX+e}getFoldingLevel(){return parseInt(this.id.substr(n.ID_PREFIX.length))}invoke(e,i,o){g7(i,this.getFoldingLevel(),!0,this.getSelectedLines(o))}}return n})(),JF=class extends po{constructor(){super({id:"editor.gotoParentFold",label:_("gotoParentFold.label","Go to Parent Fold"),alias:"Go to Parent Fold",precondition:Mo,kbOpts:{kbExpr:T.editorTextFocus,weight:100}})}invoke(t,e,i){let o=this.getSelectedLines(i);if(o.length>0){let r=_7(o[0],e);r!==null&&i.setSelection({startLineNumber:r,startColumn:1,endLineNumber:r,endColumn:1})}}},e2=class extends po{constructor(){super({id:"editor.gotoPreviousFold",label:_("gotoPreviousFold.label","Go to Previous Folding Range"),alias:"Go to Previous Folding Range",precondition:Mo,kbOpts:{kbExpr:T.editorTextFocus,weight:100}})}invoke(t,e,i){let o=this.getSelectedLines(i);if(o.length>0){let r=v7(o[0],e);r!==null&&i.setSelection({startLineNumber:r,startColumn:1,endLineNumber:r,endColumn:1})}}},t2=class extends po{constructor(){super({id:"editor.gotoNextFold",label:_("gotoNextFold.label","Go to Next Folding Range"),alias:"Go to Next Folding Range",precondition:Mo,kbOpts:{kbExpr:T.editorTextFocus,weight:100}})}invoke(t,e,i){let o=this.getSelectedLines(i);if(o.length>0){let r=b7(o[0],e);r!==null&&i.setSelection({startLineNumber:r,startColumn:1,endLineNumber:r,endColumn:1})}}},i2=class extends po{constructor(){super({id:"editor.createFoldingRangeFromSelection",label:_("createManualFoldRange.label","Create Folding Range from Selection"),alias:"Create Folding Range from Selection",precondition:Mo,kbOpts:{kbExpr:T.editorTextFocus,primary:Pi(2089,2135),weight:100}})}invoke(t,e,i){let o=[],r=i.getSelections();if(r){for(let s of r){let a=s.endLineNumber;s.endColumn===1&&--a,a>s.startLineNumber&&(o.push({startLineNumber:s.startLineNumber,endLineNumber:a,type:void 0,isCollapsed:!0,source:1}),i.setSelection({startLineNumber:s.startLineNumber,startColumn:1,endLineNumber:s.startLineNumber,endColumn:1}))}if(o.length>0){o.sort((a,l)=>a.startLineNumber-l.startLineNumber);let s=Ko.sanitizeAndMerge(e.regions,o,i.getModel()?.getLineCount());e.updatePost(Ko.fromFoldRanges(s))}}}},n2=class extends po{constructor(){super({id:"editor.removeManualFoldingRanges",label:_("removeManualFoldingRanges.label","Remove Manual Folding Ranges"),alias:"Remove Manual Folding Ranges",precondition:Mo,kbOpts:{kbExpr:T.editorTextFocus,primary:Pi(2089,2137),weight:100}})}invoke(t,e,i){let o=i.getSelections();if(o){let r=[];for(let s of o){let{startLineNumber:a,endLineNumber:l}=s;r.push(l>=a?{startLineNumber:a,endLineNumber:l}:{endLineNumber:l,startLineNumber:a})}e.removeManualRanges(r),t.triggerFoldingModelChanged()}}};Te($l.ID,$l,0);V(HF);V(VF);V(WF);V(UF);V(qF);V(ZF);V(QF);V(GF);V($F);V(KF);V(YF);V(XF);V(jF);V(JF);V(e2);V(t2);V(i2);V(n2);for(let n=1;n<=7;n++)Z4(new C7({id:C7.ID(n),label:_("foldLevelAction.label","Fold Level {0}",n),alias:`Fold Level ${n}`,precondition:Mo,kbOpts:{kbExpr:T.editorTextFocus,primary:Pi(2089,2048|21+n),weight:100}}));Pt.registerCommand("_executeFoldingRangeProvider",function(n,...t){return M(this,null,function*(){let[e]=t;if(!(e instanceof mt))throw _s();let i=n.get(ce),o=n.get(Ui).getModel(e);if(!o)throw _s();let r=n.get(vt);if(!r.getValue("editor.folding",{resource:e}))return[];let s=n.get(yi),a=r.getValue("editor.foldingStrategy",{resource:e}),l={get limit(){return r.getValue("editor.foldingMaximumRegions",{resource:e})},update:(m,f)=>{}},c=new Rm(o,s,l),d=c;if(a!=="indentation"){let m=$l.getFoldingRangeProviders(i,o);m.length&&(d=new Om(o,m,()=>{},l,c))}let u=yield d.compute(Qe.None),h=[];try{if(u)for(let m=0;m<u.length;m++){let f=u.getType(m);h.push({start:u.getStartLineNumber(m),end:u.getEndLineNumber(m),kind:f?Sp.fromValue(f):void 0})}return h}finally{d.dispose()}})});it();Re();var o2=class extends Q{constructor(){super({id:"editor.action.fontZoomIn",label:_("EditorFontZoomIn.label","Increase Editor Font Size"),alias:"Increase Editor Font Size",precondition:void 0})}run(t,e){kp.setZoomLevel(kp.getZoomLevel()+1)}},r2=class extends Q{constructor(){super({id:"editor.action.fontZoomOut",label:_("EditorFontZoomOut.label","Decrease Editor Font Size"),alias:"Decrease Editor Font Size",precondition:void 0})}run(t,e){kp.setZoomLevel(kp.getZoomLevel()-1)}},s2=class extends Q{constructor(){super({id:"editor.action.fontZoomReset",label:_("EditorFontZoomReset.label","Reset Editor Font Size"),alias:"Reset Editor Font Size",precondition:void 0})}run(t,e){kp.setZoomLevel(0)}};V(o2);V(r2);V(s2);Oi();bi();Bt();bc();ue();it();Uo();IR();qe();Kt();Fh();Lt();Re();qi();pt();Ot();var D7=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},Jy=function(n,t){return function(e,i){t(e,i,n)}},e1=class{static{this.ID="editor.contrib.autoFormat"}constructor(t,e,i,o){this._editor=t,this._languageFeaturesService=e,this._workerService=i,this._accessibilitySignalService=o,this._disposables=new G,this._sessionDisposables=new G,this._disposables.add(e.onTypeFormattingEditProvider.onDidChange(this._update,this)),this._disposables.add(t.onDidChangeModel(()=>this._update())),this._disposables.add(t.onDidChangeModelLanguage(()=>this._update())),this._disposables.add(t.onDidChangeConfiguration(r=>{r.hasChanged(56)&&this._update()})),this._update()}dispose(){this._disposables.dispose(),this._sessionDisposables.dispose()}_update(){if(this._sessionDisposables.clear(),!this._editor.getOption(56)||!this._editor.hasModel())return;let t=this._editor.getModel(),[e]=this._languageFeaturesService.onTypeFormattingEditProvider.ordered(t);if(!e||!e.autoFormatTriggerCharacters)return;let i=new Ah;for(let o of e.autoFormatTriggerCharacters)i.add(o.charCodeAt(0));this._sessionDisposables.add(this._editor.onDidType(o=>{let r=o.charCodeAt(o.length-1);i.has(r)&&this._trigger(String.fromCharCode(r))}))}_trigger(t){if(!this._editor.hasModel()||this._editor.getSelections().length>1||!this._editor.getSelection().isEmpty())return;let e=this._editor.getModel(),i=this._editor.getPosition(),o=new vi,r=this._editor.onDidChangeModelContent(s=>{if(s.isFlush){o.cancel(),r.dispose();return}for(let a=0,l=s.changes.length;a<l;a++)if(s.changes[a].range.endLineNumber<=i.lineNumber){o.cancel(),r.dispose();return}});L8(this._workerService,this._languageFeaturesService,e,i,t,e.getFormattingOptions(),o.token).then(s=>{o.token.isCancellationRequested||Mn(s)&&(this._accessibilitySignalService.playSignal(MC.format,{userGesture:!1}),O8.execute(this._editor,s,!0))}).finally(()=>{r.dispose()})}};e1=D7([Jy(1,ce),Jy(2,wr),Jy(3,EC)],e1);var t1=class{static{this.ID="editor.contrib.formatOnPaste"}constructor(t,e,i){this.editor=t,this._languageFeaturesService=e,this._instantiationService=i,this._callOnDispose=new G,this._callOnModel=new G,this._callOnDispose.add(t.onDidChangeConfiguration(()=>this._update())),this._callOnDispose.add(t.onDidChangeModel(()=>this._update())),this._callOnDispose.add(t.onDidChangeModelLanguage(()=>this._update())),this._callOnDispose.add(e.documentRangeFormattingEditProvider.onDidChange(this._update,this))}dispose(){this._callOnDispose.dispose(),this._callOnModel.dispose()}_update(){this._callOnModel.clear(),this.editor.getOption(55)&&this.editor.hasModel()&&this._languageFeaturesService.documentRangeFormattingEditProvider.has(this.editor.getModel())&&this._callOnModel.add(this.editor.onDidPaste(({range:t})=>this._trigger(t)))}_trigger(t){this.editor.hasModel()&&(this.editor.getSelections().length>1||this._instantiationService.invokeFunction(sO,this.editor,t,2,Cs.None,Qe.None,!1).catch(ht))}};t1=D7([Jy(1,ce),Jy(2,Me)],t1);var a2=class extends Q{constructor(){super({id:"editor.action.formatDocument",label:_("formatDocument.label","Format Document"),alias:"Format Document",precondition:K.and(T.notInCompositeEditor,T.writable,T.hasDocumentFormattingProvider),kbOpts:{kbExpr:T.editorTextFocus,primary:1572,linux:{primary:3111},weight:100},contextMenuOpts:{group:"1_modification",order:1.3}})}run(t,e){return M(this,null,function*(){if(e.hasModel()){let i=t.get(Me);yield t.get(Pc).showWhile(i.invokeFunction(P8,e,1,Cs.None,Qe.None,!0),250)}})}},l2=class extends Q{constructor(){super({id:"editor.action.formatSelection",label:_("formatSelection.label","Format Selection"),alias:"Format Selection",precondition:K.and(T.writable,T.hasDocumentSelectionFormattingProvider),kbOpts:{kbExpr:T.editorTextFocus,primary:Pi(2089,2084),weight:100},contextMenuOpts:{when:T.hasNonEmptySelection,group:"1_modification",order:1.31}})}run(t,e){return M(this,null,function*(){if(!e.hasModel())return;let i=t.get(Me),o=e.getModel(),r=e.getSelections().map(a=>a.isEmpty()?new A(a.startLineNumber,1,a.startLineNumber,o.getLineMaxColumn(a.startLineNumber)):a);yield t.get(Pc).showWhile(i.invokeFunction(sO,e,r,1,Cs.None,Qe.None,!0),250)})}};Te(e1.ID,e1,2);Te(t1.ID,t1,2);V(a2);V(l2);Pt.registerCommand("editor.action.format",n=>M(void 0,null,function*(){let t=n.get(Zt).getFocusedCodeEditor();if(!t||!t.hasModel())return;let e=n.get(di);t.getSelection().isEmpty()?yield e.executeCommand("editor.action.formatDocument"):yield e.executeCommand("editor.action.formatSelection")}));bi();ro();Ln();vl();zg();qi();Pt.registerCommand("_executeDocumentSymbolProvider",function(n,...t){return M(this,null,function*(){let[e]=t;Tt(mt.isUri(e));let i=n.get(rd),r=yield n.get(so).createModelReference(e);try{return(yield i.getOrCreate(r.object.textEditorModel,Qe.None)).getTopLevelSymbols()}finally{r.dispose()}})});it();co();RU();it();Kt();co();zi();Rue();pt();ue();Re();var Yo=class n extends U{static{this.inlineSuggestionVisible=new ot("inlineSuggestionVisible",!1,_("inlineSuggestionVisible","Whether an inline suggestion is visible"))}static{this.inlineSuggestionHasIndentation=new ot("inlineSuggestionHasIndentation",!1,_("inlineSuggestionHasIndentation","Whether the inline suggestion starts with whitespace"))}static{this.inlineSuggestionHasIndentationLessThanTabSize=new ot("inlineSuggestionHasIndentationLessThanTabSize",!0,_("inlineSuggestionHasIndentationLessThanTabSize","Whether the inline suggestion starts with whitespace that is less than what would be inserted by tab"))}static{this.suppressSuggestions=new ot("inlineSuggestionSuppressSuggestions",void 0,_("suppressSuggestions","Whether suggestions should be suppressed for the current suggestion"))}constructor(t,e){super(),this.contextKeyService=t,this.model=e,this.inlineCompletionVisible=n.inlineSuggestionVisible.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentation=n.inlineSuggestionHasIndentation.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentationLessThanTabSize=n.inlineSuggestionHasIndentationLessThanTabSize.bindTo(this.contextKeyService),this.suppressSuggestions=n.suppressSuggestions.bindTo(this.contextKeyService),this._register(ti(i=>{let r=this.model.read(i)?.state.read(i),s=!!r?.inlineCompletion&&r?.primaryGhostText!==void 0&&!r?.primaryGhostText.isEmpty();this.inlineCompletionVisible.set(s),r?.primaryGhostText&&r?.inlineCompletion&&this.suppressSuggestions.set(r.inlineCompletion.inlineCompletion.source.inlineCompletions.suppressSuggestions)})),this._register(ti(i=>{let o=this.model.read(i),r=!1,s=!0,a=o?.primaryGhostText.read(i);if(o?.selectedSuggestItem&&a&&a.parts.length>0){let{column:l,lines:c}=a.parts[0],d=c[0],u=o.textModel.getLineIndentColumn(a.lineNumber);if(l<=u){let m=gv(d);m===-1&&(m=d.length-1),r=m>0;let f=o.textModel.getOptions().tabSize;s=UU.visibleColumnFromColumn(d,m+1,f)<f}}this.inlineCompletionSuggestsIndentation.set(r),this.inlineCompletionSuggestsIndentationLessThanTabSize.set(s)}))}};_t();ue();co();function I7(n){let t=new G,e=t.add(Nx());return t.add(ti(i=>{e.setStyle(n.read(i))})),t}Ht();bi();ue();co();Hd();Aue();ro();Bv();hi();Xs();Lt();oi();ue();co();zi();hi();qe();e5();Pa();Na();fU();Oi();zi();hi();qe();var Kl=class{constructor(t,e){this.lineNumber=t,this.parts=e}equals(t){return this.lineNumber===t.lineNumber&&this.parts.length===t.parts.length&&this.parts.every((e,i)=>e.equals(t.parts[i]))}renderForScreenReader(t){if(this.parts.length===0)return"";let e=this.parts[this.parts.length-1],i=t.substr(0,e.column-1);return new jx([...this.parts.map(r=>new Nr(A.fromPositions(new pe(1,r.column)),r.lines.join(`
`)))]).applyToString(i).substring(this.parts[0].column-1)}isEmpty(){return this.parts.every(t=>t.lines.length===0)}get lineCount(){return 1+this.parts.reduce((t,e)=>t+e.lines.length-1,0)}},Ou=class{constructor(t,e,i){this.column=t,this.text=e,this.preview=i,this.lines=Dh(this.text)}equals(t){return this.column===t.column&&this.lines.length===t.lines.length&&this.lines.every((e,i)=>e===t.lines[i])}},Bg=class{constructor(t,e,i,o=0){this.lineNumber=t,this.columnRange=e,this.text=i,this.additionalReservedLineCount=o,this.parts=[new Ou(this.columnRange.endColumnExclusive,this.text,!1)],this.newLines=Dh(this.text)}renderForScreenReader(t){return this.newLines.join(`
`)}get lineCount(){return this.newLines.length}isEmpty(){return this.parts.every(t=>t.lines.length===0)}equals(t){return this.lineNumber===t.lineNumber&&this.columnRange.equals(t.columnRange)&&this.newLines.length===t.newLines.length&&this.newLines.every((e,i)=>e===t.newLines[i])&&this.additionalReservedLineCount===t.additionalReservedLineCount}};function u2(n,t){return Jo(n,t,h2)}function h2(n,t){return n===t?!0:!n||!t?!1:n instanceof Kl&&t instanceof Kl||n instanceof Bg&&t instanceof Bg?n.equals(t):!1}Bt();ue();co();hi();qe();var a0e=[];function E7(){return a0e}var Hg=class{constructor(t,e){if(this.startColumn=t,this.endColumnExclusive=e,t>e)throw new ml(`startColumn ${t} cannot be after endColumnExclusive ${e}`)}toRange(t){return new A(t,this.startColumn,t,this.endColumnExclusive)}equals(t){return this.startColumn===t.startColumn&&this.endColumnExclusive===t.endColumnExclusive}};function i1(n,t){let e=new G,i=n.createDecorationsCollection();return e.add(OU({debugName:()=>`Apply decorations from ${t.debugName}`},o=>{let r=t.read(o);i.set(r)})),e.add({dispose:()=>{i.clear()}}),e}function M7(n,t){return new pe(n.lineNumber+t.lineNumber-1,t.lineNumber===1?n.column+t.column-1:t.column)}function m2(n,t){return new pe(n.lineNumber-t.lineNumber+1,n.lineNumber-t.lineNumber===0?n.column-t.column+1:n.column)}var l0e=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},c0e=function(n,t){return function(e,i){t(e,i,n)}},k7="ghost-text",n1=class extends U{constructor(t,e,i){super(),this.editor=t,this.model=e,this.languageService=i,this.isDisposed=Yn(this,!1),this.currentTextModel=lo(this,this.editor.onDidChangeModel,()=>this.editor.getModel()),this.uiState=qt(this,o=>{if(this.isDisposed.read(o))return;let r=this.currentTextModel.read(o);if(r!==this.model.targetTextModel.read(o))return;let s=this.model.ghostText.read(o);if(!s)return;let a=s instanceof Bg?s.columnRange:void 0,l=[],c=[];function d(p,g){if(c.length>0){let v=c[c.length-1];g&&v.decorations.push(new jd(v.content.length+1,v.content.length+1+p[0].length,g,0)),v.content+=p[0],p=p.slice(1)}for(let v of p)c.push({content:v,decorations:g?[new jd(1,v.length+1,g,0)]:[]})}let u=r.getLineContent(s.lineNumber),h,m=0;for(let p of s.parts){let g=p.lines;h===void 0?(l.push({column:p.column,text:g[0],preview:p.preview}),g=g.slice(1)):d([u.substring(m,p.column-1)],void 0),g.length>0&&(d(g,k7),h===void 0&&p.column<=u.length&&(h=p.column)),m=p.column-1}h!==void 0&&d([u.substring(m)],void 0);let f=h!==void 0?new Hg(h,u.length+1):void 0;return{replacedRange:a,inlineTexts:l,additionalLines:c,hiddenRange:f,lineNumber:s.lineNumber,additionalReservedLineCount:this.model.minReservedLineCount.read(o),targetTextModel:r}}),this.decorations=qt(this,o=>{let r=this.uiState.read(o);if(!r)return[];let s=[];r.replacedRange&&s.push({range:r.replacedRange.toRange(r.lineNumber),options:{inlineClassName:"inline-completion-text-to-replace",description:"GhostTextReplacement"}}),r.hiddenRange&&s.push({range:r.hiddenRange.toRange(r.lineNumber),options:{inlineClassName:"ghost-text-hidden",description:"ghost-text-hidden"}});for(let a of r.inlineTexts)s.push({range:A.fromPositions(new pe(r.lineNumber,a.column)),options:{description:k7,after:{content:a.text,inlineClassName:a.preview?"ghost-text-decoration-preview":"ghost-text-decoration",cursorStops:Ec.Left},showIfCollapsed:!0}});return s}),this.additionalLinesWidget=this._register(new p2(this.editor,this.languageService.languageIdCodec,qt(o=>{let r=this.uiState.read(o);return r?{lineNumber:r.lineNumber,additionalLines:r.additionalLines,minReservedLineCount:r.additionalReservedLineCount,targetTextModel:r.targetTextModel}:void 0}))),this._register(kt(()=>{this.isDisposed.set(!0,void 0)})),this._register(i1(this.editor,this.decorations))}ownsViewZone(t){return this.additionalLinesWidget.viewZoneId===t}};n1=l0e([c0e(2,qn)],n1);var p2=class extends U{get viewZoneId(){return this._viewZoneId}constructor(t,e,i){super(),this.editor=t,this.languageIdCodec=e,this.lines=i,this._viewZoneId=void 0,this.editorOptionsChanged=Ba("editorOptionChanged",xi.filter(this.editor.onDidChangeConfiguration,o=>o.hasChanged(33)||o.hasChanged(118)||o.hasChanged(100)||o.hasChanged(95)||o.hasChanged(51)||o.hasChanged(50)||o.hasChanged(67))),this._register(ti(o=>{let r=this.lines.read(o);this.editorOptionsChanged.read(o),r?this.updateLines(r.lineNumber,r.additionalLines,r.minReservedLineCount):this.clear()}))}dispose(){super.dispose(),this.clear()}clear(){this.editor.changeViewZones(t=>{this._viewZoneId&&(t.removeZone(this._viewZoneId),this._viewZoneId=void 0)})}updateLines(t,e,i){let o=this.editor.getModel();if(!o)return;let{tabSize:r}=o.getOptions();this.editor.changeViewZones(s=>{this._viewZoneId&&(s.removeZone(this._viewZoneId),this._viewZoneId=void 0);let a=Math.max(e.length,i);if(a>0){let l=document.createElement("div");d0e(l,r,e,this.editor.getOptions(),this.languageIdCodec),this._viewZoneId=s.addZone({afterLineNumber:t,heightInLines:a,domNode:l,afterColumnAffinity:1})}})}};function d0e(n,t,e,i,o){let r=i.get(33),s=i.get(118),a="none",l=i.get(95),c=i.get(51),d=i.get(50),u=i.get(67),h=new Hx(1e4);h.appendString('<div class="suggest-preview-text">');for(let p=0,g=e.length;p<g;p++){let v=e[p],b=v.content;h.appendString('<div class="view-line'),h.appendString('" style="top:'),h.appendString(String(p*u)),h.appendString('px;width:1000000px;">');let C=Ax(b),k=S4(b),E=mU.createEmpty(b,o);TC(new kC(d.isMonospace&&!r,d.canUseHalfwidthRightwardsArrow,b,!1,C,k,0,E,v.decorations,t,0,d.spaceWidth,d.middotWidth,d.wsmiddotWidth,s,a,l,c!==o4.OFF,null),h),h.appendString("</div>")}h.appendString("</div>"),Fx(n,d);let m=h.build(),f=T7?T7.createHTML(m):m;n.innerHTML=f}var T7=Bx("editorGhostText",{createHTML:n=>n});Oi();wv();dC();Bt();ue();co();zi();ro();hi();qe();Nn();MR();vn();rr();bi();dC();Rc();ue();co();qe();MR();vn();rr();Lt();_ue();Ht();bi();Ic();Bt();hi();qe();Fue();Pue();zue();Lue();Nue();function A7(n,t){let e=new $U,i=new YU(e,c=>t.getLanguageConfiguration(c)),o=new KU(new f2([n]),i),r=XU(o,[],void 0,!0),s="",a=n.getLineContent();function l(c,d){if(c.kind===2)if(l(c.openingBracket,d),d=Up(d,c.openingBracket.length),c.child&&(l(c.child,d),d=Up(d,c.child.length)),c.closingBracket)l(c.closingBracket,d),d=Up(d,c.closingBracket.length);else{let h=i.getSingleLanguageBracketTokens(c.openingBracket.languageId).findClosingTokenText(c.openingBracket.bracketIds);s+=h}else if(c.kind!==3){if(c.kind===0||c.kind===1)s+=a.substring(d,Up(d,c.length));else if(c.kind===4)for(let u of c.children)l(u,d),d=Up(d,u.length)}}return l(r,GU),s}var f2=class{constructor(t){this.lines=t,this.tokenization={getLineTokens:e=>this.lines[e-1]}}getLineCount(){return this.lines.length}getLineLength(t){return this.lines[t-1].getLineContent().length}};function o1(s,a,l,c){return M(this,arguments,function*(n,t,e,i,o=Qe.None,r){let d=t instanceof pe?u0e(t,e):t,u=n.all(e),h=new i5;for(let E of u)E.groupId&&h.add(E.groupId,E);function m(E){if(!E.yieldsToGroupIds)return[];let F=[];for(let L of E.yieldsToGroupIds||[]){let H=h.get(L);for(let re of H)F.push(re)}return F}let f=new Map,p=new Set;function g(E,F){if(F=[...F,E],p.has(E))return F;p.add(E);try{let L=m(E);for(let H of L){let re=g(H,F);if(re)return re}}finally{p.delete(E)}}function v(E){let F=f.get(E);if(F)return F;let L=g(E,[]);L&&zt(new Error(`Inline completions: cyclic yield-to dependency detected. Path: ${L.map(re=>re.toString?re.toString():""+re).join(" -> ")}`));let H=new Ad;return f.set(E,H.p),M(this,null,function*(){if(!L){let re=m(E);for(let R of re){let W=yield v(R);if(W&&W.items.length>0)return}}try{return t instanceof pe?yield E.provideInlineCompletions(e,t,i,o):yield E.provideInlineEdits?.(e,t,i,o)}catch(re){zt(re);return}}).then(re=>H.complete(re),re=>H.error(re)),H.p}let b=yield Promise.all(u.map(E=>M(this,null,function*(){return{provider:E,completions:yield v(E)}}))),C=new Map,k=[];for(let E of b){let F=E.completions;if(!F)continue;let L=new _2(F,E.provider);k.push(L);for(let H of F.items){let re=v2.from(H,L,d,e,r);C.set(re.hash(),re)}}return new g2(Array.from(C.values()),new Set(C.keys()),k)})}var g2=class{constructor(t,e,i){this.completions=t,this.hashs=e,this.providerResults=i}has(t){return this.hashs.has(t.hash())}dispose(){for(let t of this.providerResults)t.removeRef()}},_2=class{constructor(t,e){this.inlineCompletions=t,this.provider=e,this.refCount=1}addRef(){this.refCount++}removeRef(){this.refCount--,this.refCount===0&&this.provider.freeInlineCompletions(this.inlineCompletions)}},v2=class n{static from(t,e,i,o,r){let s,a,l=t.range?A.lift(t.range):i;if(typeof t.insertText=="string"){if(s=t.insertText,r&&t.completeBracketPairs){s=R7(s,l.getStartPosition(),o,r);let c=s.length-t.insertText.length;c!==0&&(l=new A(l.startLineNumber,l.startColumn,l.endLineNumber,l.endColumn+c))}a=void 0}else if("snippet"in t.insertText){let c=t.insertText.snippet.length;if(r&&t.completeBracketPairs){t.insertText.snippet=R7(t.insertText.snippet,l.getStartPosition(),o,r);let u=t.insertText.snippet.length-c;u!==0&&(l=new A(l.startLineNumber,l.startColumn,l.endLineNumber,l.endColumn+u))}let d=new Vr().parse(t.insertText.snippet);d.children.length===1&&d.children[0]instanceof So?(s=d.children[0].value,a=void 0):(s=d.toString(),a={snippet:t.insertText.snippet,range:l})}else K4(t.insertText);return new n(s,t.command,l,s,a,t.additionalTextEdits||E7(),t,e)}constructor(t,e,i,o,r,s,a,l){this.filterText=t,this.command=e,this.range=i,this.insertText=o,this.snippetInfo=r,this.additionalTextEdits=s,this.sourceInlineCompletion=a,this.source=l,t=t.replace(/\r\n|\r/g,`
`),o=t.replace(/\r\n|\r/g,`
`)}withRange(t){return new n(this.filterText,this.command,t,this.insertText,this.snippetInfo,this.additionalTextEdits,this.sourceInlineCompletion,this.source)}hash(){return JSON.stringify({insertText:this.insertText,range:this.range.toString()})}toSingleTextEdit(){return new Nr(this.range,this.insertText)}};function u0e(n,t){let e=t.getWordAtPosition(n),i=t.getLineMaxColumn(n.lineNumber);return e?new A(n.lineNumber,e.startColumn,n.lineNumber,i):A.fromPositions(n,n.with(void 0,i))}function R7(n,t,e,i){let r=e.getLineContent(t.lineNumber).substring(0,t.column-1)+n,a=e.tokenization.tokenizeLineWithEdit(t,r.length-(t.column-1),n)?.sliceAndInflate(t.column-1,r.length,0);return a?A7(a,i):n}zi();qe();MR();function Yl(n,t,e){let i=e?n.range.intersectRanges(e):n.range;if(!i)return n;let o=t.getValueInRange(i,1),r=pl(o,n.text),s=Rh.ofText(o.substring(0,r)).addToPosition(n.range.getStartPosition()),a=n.text.substring(r),l=A.fromPositions(s,n.range.getEndPosition());return new Nr(l,a)}function s1(n,t){return n.text.startsWith(t.text)&&h0e(n.range,t.range)}function b2(n,t,e,i,o=0){let r=Yl(n,t);if(r.range.endLineNumber!==r.range.startLineNumber)return;let s=t.getLineContent(r.range.startLineNumber),a=hn(s).length;if(r.range.startColumn-1<=a){let f=hn(r.text).length,p=s.substring(r.range.startColumn-1,a),[g,v]=[r.range.getStartPosition(),r.range.getEndPosition()],b=g.column+p.length<=v.column?g.delta(0,p.length):v,C=A.fromPositions(b,v),k=r.text.startsWith(p)?r.text.substring(p.length):r.text.substring(f);r=new Nr(C,k)}let c=t.getValueInRange(r.range),d=m0e(c,r.text);if(!d)return;let u=r.range.startLineNumber,h=new Array;if(e==="prefix"){let f=d.filter(p=>p.originalLength===0);if(f.length>1||f.length===1&&f[0].originalStart!==c.length)return}let m=r.text.length-o;for(let f of d){let p=r.range.startColumn+f.originalStart+f.originalLength;if(e==="subwordSmart"&&i&&i.lineNumber===r.range.startLineNumber&&p<i.column||f.originalLength>0)return;if(f.modifiedLength===0)continue;let g=f.modifiedStart+f.modifiedLength,v=Math.max(f.modifiedStart,Math.min(g,m)),b=r.text.substring(f.modifiedStart,v),C=r.text.substring(v,Math.max(f.modifiedStart,g));b.length>0&&h.push(new Ou(p,b,!1)),C.length>0&&h.push(new Ou(p,C,!0))}return new Kl(u,h)}function h0e(n,t){return t.getStartPosition().equals(n.getStartPosition())&&t.getEndPosition().isBeforeOrEqual(n.getEndPosition())}var r1;function m0e(n,t){if(r1?.originalValue===n&&r1?.newValue===t)return r1?.changes;{let e=P7(n,t,!0);if(e){let i=O7(e);if(i>0){let o=P7(n,t,!1);o&&O7(o)<i&&(e=o)}}return r1={originalValue:n,newValue:t,changes:e},e}}function O7(n){let t=0;for(let e of n)t+=e.originalLength;return t}function P7(n,t,e){if(n.length>5e3||t.length>5e3)return;function i(c){let d=0;for(let u=0,h=c.length;u<h;u++){let m=c.charCodeAt(u);m>d&&(d=m)}return d}let o=Math.max(i(n),i(t));function r(c){if(c<0)throw new Error("unexpected");return o+c+1}function s(c){let d=0,u=0,h=new Int32Array(c.length);for(let m=0,f=c.length;m<f;m++)if(e&&c[m]==="("){let p=u*100+d;h[m]=r(2*p),d++}else if(e&&c[m]===")"){d=Math.max(d-1,0);let p=u*100+d;h[m]=r(2*p+1),d===0&&u++}else h[m]=c.charCodeAt(m);return h}let a=s(n),l=s(t);return new t5({getElements:()=>a},{getElements:()=>l}).ComputeDiff(!1).changes}var p0e=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},L7=function(n,t){return function(e,i){t(e,i,n)}},a1=class extends U{constructor(t,e,i,o,r){super(),this.textModel=t,this.versionId=e,this._debounceValue=i,this.languageFeaturesService=o,this.languageConfigurationService=r,this._updateOperation=this._register(new un),this.inlineCompletions=Tv("inlineCompletions",void 0),this.suggestWidgetInlineCompletions=Tv("suggestWidgetInlineCompletions",void 0),this._register(this.textModel.onDidChangeContent(()=>{this._updateOperation.clear()}))}fetch(t,e,i){let o=new w2(t,e,this.textModel.getVersionId()),r=e.selectedSuggestionInfo?this.suggestWidgetInlineCompletions:this.inlineCompletions;if(this._updateOperation.value?.request.satisfies(o))return this._updateOperation.value.promise;if(r.get()?.request.satisfies(o))return Promise.resolve(!0);let s=!!this._updateOperation.value;this._updateOperation.clear();let a=new vi,l=M(this,null,function*(){if((s||e.triggerKind===vs.Automatic)&&(yield f0e(this._debounceValue.get(this.textModel),a.token)),a.token.isCancellationRequested||this._store.isDisposed||this.textModel.getVersionId()!==o.versionId)return!1;let u=new Date,h=yield o1(this.languageFeaturesService.inlineCompletionsProvider,t,this.textModel,e,a.token,this.languageConfigurationService);if(a.token.isCancellationRequested||this._store.isDisposed||this.textModel.getVersionId()!==o.versionId)return!1;let m=new Date;this._debounceValue.update(this.textModel,m.getTime()-u.getTime());let f=new C2(h,o,this.textModel,this.versionId);if(i){let p=i.toInlineCompletion(void 0);i.canBeReused(this.textModel,t)&&!h.has(p)&&f.prepend(i.inlineCompletion,p.range,!0)}return this._updateOperation.clear(),Ss(p=>{r.set(f,p)}),!0}),c=new x2(o,a,l);return this._updateOperation.value=c,l}clear(t){this._updateOperation.clear(),this.inlineCompletions.set(void 0,t),this.suggestWidgetInlineCompletions.set(void 0,t)}clearSuggestWidgetInlineCompletions(t){this._updateOperation.value?.request.context.selectedSuggestionInfo&&this._updateOperation.clear(),this.suggestWidgetInlineCompletions.set(void 0,t)}cancelUpdate(){this._updateOperation.clear()}};a1=p0e([L7(3,ce),L7(4,yi)],a1);function f0e(n,t){return new Promise(e=>{let i,o=setTimeout(()=>{i&&i.dispose(),e()},n);t&&(i=t.onCancellationRequested(()=>{clearTimeout(o),i&&i.dispose(),e()}))})}var w2=class{constructor(t,e,i){this.position=t,this.context=e,this.versionId=i}satisfies(t){return this.position.equals(t.position)&&AU(this.context.selectedSuggestionInfo,t.context.selectedSuggestionInfo,TU())&&(t.context.triggerKind===vs.Automatic||this.context.triggerKind===vs.Explicit)&&this.versionId===t.versionId}},x2=class{constructor(t,e,i){this.request=t,this.cancellationTokenSource=e,this.promise=i}dispose(){this.cancellationTokenSource.cancel()}},C2=class{get inlineCompletions(){return this._inlineCompletions}constructor(t,e,i,o){this.inlineCompletionProviderResult=t,this.request=e,this._textModel=i,this._versionId=o,this._refCount=1,this._prependedInlineCompletionItems=[];let r=i.deltaDecorations([],t.completions.map(s=>({range:s.range,options:{description:"inline-completion-tracking-range"}})));this._inlineCompletions=t.completions.map((s,a)=>new l1(s,r[a],this._textModel,this._versionId))}clone(){return this._refCount++,this}dispose(){if(this._refCount--,this._refCount===0){setTimeout(()=>{this._textModel.isDisposed()||this._textModel.deltaDecorations(this._inlineCompletions.map(t=>t.decorationId),[])},0),this.inlineCompletionProviderResult.dispose();for(let t of this._prependedInlineCompletionItems)t.source.removeRef()}}prepend(t,e,i){i&&t.source.addRef();let o=this._textModel.deltaDecorations([],[{range:e,options:{description:"inline-completion-tracking-range"}}])[0];this._inlineCompletions.unshift(new l1(t,o,this._textModel,this._versionId)),this._prependedInlineCompletionItems.push(t)}},l1=class{get forwardStable(){return this.inlineCompletion.source.inlineCompletions.enableForwardStability??!1}constructor(t,e,i,o){this.inlineCompletion=t,this.decorationId=e,this._textModel=i,this._modelVersion=o,this.semanticId=JSON.stringify([this.inlineCompletion.filterText,this.inlineCompletion.insertText,this.inlineCompletion.range.getStartPosition().toString()]),this._updatedRange=Ds({owner:this,equalsFn:A.equalsRange},r=>(this._modelVersion.read(r),this._textModel.getDecorationRange(this.decorationId)))}toInlineCompletion(t){return this.inlineCompletion.withRange(this._updatedRange.read(t)??y2)}toSingleTextEdit(t){return new Nr(this._updatedRange.read(t)??y2,this.inlineCompletion.insertText)}isVisible(t,e,i){let o=Yl(this._toFilterTextReplacement(i),t),r=this._updatedRange.read(i);if(!r||!this.inlineCompletion.range.getStartPosition().equals(r.getStartPosition())||e.lineNumber!==o.range.startLineNumber)return!1;let s=t.getValueInRange(o.range,1),a=o.text,l=Math.max(0,e.column-o.range.startColumn),c=a.substring(0,l),d=a.substring(l),u=s.substring(0,l),h=s.substring(l),m=t.getLineIndentColumn(o.range.startLineNumber);return o.range.startColumn<=m&&(u=u.trimStart(),u.length===0&&(h=h.trimStart()),c=c.trimStart(),c.length===0&&(d=d.trimStart())),c.startsWith(u)&&!!eU(h,d)}canBeReused(t,e){let i=this._updatedRange.read(void 0);return!!i&&i.containsPosition(e)&&this.isVisible(t,e,void 0)&&Rh.ofRange(i).isGreaterThanOrEqualTo(Rh.ofRange(this.inlineCompletion.range))}_toFilterTextReplacement(t){return new Nr(this._updatedRange.read(t)??y2,this.inlineCompletion.filterText)}},y2=new A(1,1,1,1);ue();ro();it();hi();Kt();rr();Lt();bi();Bt();Rc();ue();Ks();ro();Ln();hi();qe();vl();Re();$i();qi();pt();Lt();var ct={Visible:qE,HasFocusedSuggestion:new ot("suggestWidgetHasFocusedSuggestion",!1,_("suggestWidgetHasSelection","Whether any suggestion is focused")),DetailsVisible:new ot("suggestWidgetDetailsVisible",!1,_("suggestWidgetDetailsVisible","Whether suggestion details are visible")),MultipleSuggestions:new ot("suggestWidgetMultipleSuggestions",!1,_("suggestWidgetMultipleSuggestions","Whether there are multiple suggestions to pick from")),MakesTextEdit:new ot("suggestionMakesTextEdit",!0,_("suggestionMakesTextEdit","Whether inserting the current suggestion yields in a change or has everything already been typed")),AcceptSuggestionsOnEnter:new ot("acceptSuggestionOnEnter",!0,_("acceptSuggestionOnEnter","Whether suggestions are inserted when pressing Enter")),HasInsertAndReplaceRange:new ot("suggestionHasInsertAndReplaceRange",!1,_("suggestionHasInsertAndReplaceRange","Whether the current suggestion has insert and replace behaviour")),InsertMode:new ot("suggestionInsertMode",void 0,{type:"string",description:_("suggestionInsertMode","Whether the default behaviour is to insert or replace")}),CanResolve:new ot("suggestionCanResolve",!1,_("suggestionCanResolve","Whether the current suggestion supports to resolve further details"))},Zl=new be("suggestWidgetStatusBar"),S2=class{constructor(t,e,i,o){this.position=t,this.completion=e,this.container=i,this.provider=o,this.isInvalid=!1,this.score=Ac.Default,this.distance=0,this.textLabel=typeof e.label=="string"?e.label:e.label?.label,this.labelLow=this.textLabel.toLowerCase(),this.isInvalid=!this.textLabel,this.sortTextLow=e.sortText&&e.sortText.toLowerCase(),this.filterTextLow=e.filterText&&e.filterText.toLowerCase(),this.extensionId=e.extensionId,A.isIRange(e.range)?(this.editStart=new pe(e.range.startLineNumber,e.range.startColumn),this.editInsertEnd=new pe(e.range.endLineNumber,e.range.endColumn),this.editReplaceEnd=new pe(e.range.endLineNumber,e.range.endColumn),this.isInvalid=this.isInvalid||A.spansMultipleLines(e.range)||e.range.startLineNumber!==t.lineNumber):(this.editStart=new pe(e.range.insert.startLineNumber,e.range.insert.startColumn),this.editInsertEnd=new pe(e.range.insert.endLineNumber,e.range.insert.endColumn),this.editReplaceEnd=new pe(e.range.replace.endLineNumber,e.range.replace.endColumn),this.isInvalid=this.isInvalid||A.spansMultipleLines(e.range.insert)||A.spansMultipleLines(e.range.replace)||e.range.insert.startLineNumber!==t.lineNumber||e.range.replace.startLineNumber!==t.lineNumber||e.range.insert.startColumn!==e.range.replace.startColumn),typeof o.resolveCompletionItem!="function"&&(this._resolveCache=Promise.resolve(),this._resolveDuration=0)}get isResolved(){return this._resolveDuration!==void 0}get resolveDuration(){return this._resolveDuration!==void 0?this._resolveDuration:-1}resolve(t){return M(this,null,function*(){if(!this._resolveCache){let e=t.onCancellationRequested(()=>{this._resolveCache=void 0,this._resolveDuration=void 0}),i=new Xi(!0);this._resolveCache=Promise.resolve(this.provider.resolveCompletionItem(this.completion,t)).then(o=>{Object.assign(this.completion,o),this._resolveDuration=i.elapsed()},o=>{gr(o)&&(this._resolveCache=void 0,this._resolveDuration=void 0)}).finally(()=>{e.dispose()})}return this._resolveCache})}},Pm=class n{static{this.default=new n}constructor(t=2,e=new Set,i=new Set,o=new Map,r=!0){this.snippetSortOrder=t,this.kindFilter=e,this.providerFilter=i,this.providerItemsToReuse=o,this.showDeprecated=r}},Vg;function N7(){return Vg}var D2=class{constructor(t,e,i,o){this.items=t,this.needsClipboard=e,this.durations=i,this.disposable=o}};function i0(s,a,l){return M(this,arguments,function*(n,t,e,i=Pm.default,o={triggerKind:0},r=Qe.None){let c=new Xi;e=e.clone();let d=t.getWordAtPosition(e),u=d?new A(e.lineNumber,d.startColumn,e.lineNumber,d.endColumn):A.fromPositions(e),h={replace:u,insert:u.setEndPosition(e.lineNumber,e.column)},m=[],f=new G,p=[],g=!1,v=(C,k,E)=>{let F=!1;if(!k)return F;for(let L of k.suggestions)if(!i.kindFilter.has(L.kind)){if(!i.showDeprecated&&L?.tags?.includes(1))continue;L.range||(L.range=h),L.sortText||(L.sortText=typeof L.label=="string"?L.label:L.label.label),!g&&L.insertTextRules&&L.insertTextRules&4&&(g=Vr.guessNeedsClipboard(L.insertText)),m.push(new S2(e,L,k,C)),F=!0}return kx(k)&&f.add(k),p.push({providerName:C._debugDisplayName??"unknown_provider",elapsedProvider:k.duration??-1,elapsedOverall:E.elapsed()}),F},b=M(this,null,function*(){if(!Vg||i.kindFilter.has(27))return;let C=i.providerItemsToReuse.get(Vg);if(C){C.forEach(F=>m.push(F));return}if(i.providerFilter.size>0&&!i.providerFilter.has(Vg))return;let k=new Xi,E=yield Vg.provideCompletionItems(t,e,o,r);v(Vg,E,k)});for(let C of n.orderedGroups(t)){let k=!1;if(yield Promise.all(C.map(E=>M(this,null,function*(){if(i.providerItemsToReuse.has(E)){let F=i.providerItemsToReuse.get(E);F.forEach(L=>m.push(L)),k=k||F.length>0;return}if(!(i.providerFilter.size>0&&!i.providerFilter.has(E)))try{let F=new Xi,L=yield E.provideCompletionItems(t,e,o,r);k=v(E,L,F)||k}catch(F){zt(F)}}))),k||r.isCancellationRequested)break}return yield b,r.isCancellationRequested?(f.dispose(),Promise.reject(new kd)):new D2(m.sort(v0e(i.snippetSortOrder)),g,{entries:p,elapsed:c.elapsed()},f)})}function I2(n,t){if(n.sortTextLow&&t.sortTextLow){if(n.sortTextLow<t.sortTextLow)return-1;if(n.sortTextLow>t.sortTextLow)return 1}return n.textLabel<t.textLabel?-1:n.textLabel>t.textLabel?1:n.completion.kind-t.completion.kind}function g0e(n,t){if(n.completion.kind!==t.completion.kind){if(n.completion.kind===27)return-1;if(t.completion.kind===27)return 1}return I2(n,t)}function _0e(n,t){if(n.completion.kind!==t.completion.kind){if(n.completion.kind===27)return 1;if(t.completion.kind===27)return-1}return I2(n,t)}var c1=new Map;c1.set(0,g0e);c1.set(2,_0e);c1.set(1,I2);function v0e(n){return c1.get(n)}Pt.registerCommand("_executeCompletionItemProvider",(n,...t)=>M(void 0,null,function*(){let[e,i,o,r]=t;Tt(mt.isUri(e)),Tt(pe.isIPosition(i)),Tt(typeof o=="string"||!o),Tt(typeof r=="number"||!r);let{completionProvider:s}=n.get(ce),a=yield n.get(so).createModelReference(e);try{let l={incomplete:!1,suggestions:[]},c=[],d=a.object.textEditorModel.validatePosition(i),u=yield i0(s,a.object.textEditorModel,d,void 0,{triggerCharacter:o??void 0,triggerKind:o?1:0});for(let h of u.items)c.length<(r??0)&&c.push(h.resolve(Qe.None)),l.incomplete=l.incomplete||h.container.incomplete,l.suggestions.push(h.completion);try{return yield Promise.all(c),l}finally{setTimeout(()=>u.disposable.dispose(),100)}}finally{a.dispose()}}));function F7(n,t){n.getContribution("editor.contrib.suggestController")?.triggerSuggest(new Set().add(t),void 0,!0)}var Xl=class{static isAllOff(t){return t.other==="off"&&t.comments==="off"&&t.strings==="off"}static isAllOn(t){return t.other==="on"&&t.comments==="on"&&t.strings==="on"}static valueFor(t,e){switch(e){case 1:return t.comments;case 2:return t.strings;default:return t.other}}};Re();pt();Tp();Oi();ue();zi();qe();Nn();rr();wn();Eue();tr();function E2(n,t=Ed){return m5(n,t)?n.charAt(0).toUpperCase()+n.slice(1):n}l4();Zr();zi();rr();Re();var b0e=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},y0e=function(n,t){return function(e,i){t(e,i,n)}},Lkt=Object.freeze({CURRENT_YEAR:!0,CURRENT_YEAR_SHORT:!0,CURRENT_MONTH:!0,CURRENT_DATE:!0,CURRENT_HOUR:!0,CURRENT_MINUTE:!0,CURRENT_SECOND:!0,CURRENT_DAY_NAME:!0,CURRENT_DAY_NAME_SHORT:!0,CURRENT_MONTH_NAME:!0,CURRENT_MONTH_NAME_SHORT:!0,CURRENT_SECONDS_UNIX:!0,CURRENT_TIMEZONE_OFFSET:!0,SELECTION:!0,CLIPBOARD:!0,TM_SELECTED_TEXT:!0,TM_CURRENT_LINE:!0,TM_CURRENT_WORD:!0,TM_LINE_INDEX:!0,TM_LINE_NUMBER:!0,TM_FILENAME:!0,TM_FILENAME_BASE:!0,TM_DIRECTORY:!0,TM_FILEPATH:!0,CURSOR_INDEX:!0,CURSOR_NUMBER:!0,RELATIVE_FILEPATH:!0,BLOCK_COMMENT_START:!0,BLOCK_COMMENT_END:!0,LINE_COMMENT:!0,WORKSPACE_NAME:!0,WORKSPACE_FOLDER:!0,RANDOM:!0,RANDOM_HEX:!0,UUID:!0}),n0=class{constructor(t){this._delegates=t}resolve(t){for(let e of this._delegates){let i=e.resolve(t);if(i!==void 0)return i}}},o0=class{constructor(t,e,i,o){this._model=t,this._selection=e,this._selectionIdx=i,this._overtypingCapturer=o}resolve(t){let{name:e}=t;if(e==="SELECTION"||e==="TM_SELECTED_TEXT"){let i=this._model.getValueInRange(this._selection)||void 0,o=this._selection.startLineNumber!==this._selection.endLineNumber;if(!i&&this._overtypingCapturer){let r=this._overtypingCapturer.getLastOvertypedInfo(this._selectionIdx);r&&(i=r.value,o=r.multiline)}if(i&&o&&t.snippet){let r=this._model.getLineContent(this._selection.startLineNumber),s=hn(r,0,this._selection.startColumn-1),a=s;t.snippet.walk(c=>c===t?!1:(c instanceof So&&(a=hn(Dh(c.value).pop())),!0));let l=pl(a,s);i=i.replace(/(\r\n|\r|\n)(.*)/g,(c,d,u)=>`${d}${a.substr(l)}${u}`)}return i}else{if(e==="TM_CURRENT_LINE")return this._model.getLineContent(this._selection.positionLineNumber);if(e==="TM_CURRENT_WORD"){let i=this._model.getWordAtPosition({lineNumber:this._selection.positionLineNumber,column:this._selection.positionColumn});return i&&i.word||void 0}else{if(e==="TM_LINE_INDEX")return String(this._selection.positionLineNumber-1);if(e==="TM_LINE_NUMBER")return String(this._selection.positionLineNumber);if(e==="CURSOR_INDEX")return String(this._selectionIdx);if(e==="CURSOR_NUMBER")return String(this._selectionIdx+1)}}}},r0=class{constructor(t,e){this._labelService=t,this._model=e}resolve(t){let{name:e}=t;if(e==="TM_FILENAME")return xp(this._model.uri.fsPath);if(e==="TM_FILENAME_BASE"){let i=xp(this._model.uri.fsPath),o=i.lastIndexOf(".");return o<=0?i:i.slice(0,o)}else{if(e==="TM_DIRECTORY")return a4(this._model.uri.fsPath)==="."?"":this._labelService.getUriLabel(Np(this._model.uri));if(e==="TM_FILEPATH")return this._labelService.getUriLabel(this._model.uri);if(e==="RELATIVE_FILEPATH")return this._labelService.getUriLabel(this._model.uri,{relative:!0,noPrefix:!0})}}},s0=class{constructor(t,e,i,o){this._readClipboardText=t,this._selectionIdx=e,this._selectionCount=i,this._spread=o}resolve(t){if(t.name!=="CLIPBOARD")return;let e=this._readClipboardText();if(e){if(this._spread){let i=e.split(/\r\n|\n|\r/).filter(o=>!g4(o));if(i.length===this._selectionCount)return i[this._selectionIdx]}return e}}},a0=class{constructor(t,e,i){this._model=t,this._selection=e,this._languageConfigurationService=i}resolve(t){let{name:e}=t,i=this._model.getLanguageIdAtPosition(this._selection.selectionStartLineNumber,this._selection.selectionStartColumn),o=this._languageConfigurationService.getLanguageConfiguration(i).comments;if(o){if(e==="LINE_COMMENT")return o.lineCommentToken||void 0;if(e==="BLOCK_COMMENT_START")return o.blockCommentStartToken||void 0;if(e==="BLOCK_COMMENT_END")return o.blockCommentEndToken||void 0}}};a0=b0e([y0e(2,yi)],a0);var l0=class n{constructor(){this._date=new Date}static{this.dayNames=[_("Sunday","Sunday"),_("Monday","Monday"),_("Tuesday","Tuesday"),_("Wednesday","Wednesday"),_("Thursday","Thursday"),_("Friday","Friday"),_("Saturday","Saturday")]}static{this.dayNamesShort=[_("SundayShort","Sun"),_("MondayShort","Mon"),_("TuesdayShort","Tue"),_("WednesdayShort","Wed"),_("ThursdayShort","Thu"),_("FridayShort","Fri"),_("SaturdayShort","Sat")]}static{this.monthNames=[_("January","January"),_("February","February"),_("March","March"),_("April","April"),_("May","May"),_("June","June"),_("July","July"),_("August","August"),_("September","September"),_("October","October"),_("November","November"),_("December","December")]}static{this.monthNamesShort=[_("JanuaryShort","Jan"),_("FebruaryShort","Feb"),_("MarchShort","Mar"),_("AprilShort","Apr"),_("MayShort","May"),_("JuneShort","Jun"),_("JulyShort","Jul"),_("AugustShort","Aug"),_("SeptemberShort","Sep"),_("OctoberShort","Oct"),_("NovemberShort","Nov"),_("DecemberShort","Dec")]}resolve(t){let{name:e}=t;if(e==="CURRENT_YEAR")return String(this._date.getFullYear());if(e==="CURRENT_YEAR_SHORT")return String(this._date.getFullYear()).slice(-2);if(e==="CURRENT_MONTH")return String(this._date.getMonth().valueOf()+1).padStart(2,"0");if(e==="CURRENT_DATE")return String(this._date.getDate().valueOf()).padStart(2,"0");if(e==="CURRENT_HOUR")return String(this._date.getHours().valueOf()).padStart(2,"0");if(e==="CURRENT_MINUTE")return String(this._date.getMinutes().valueOf()).padStart(2,"0");if(e==="CURRENT_SECOND")return String(this._date.getSeconds().valueOf()).padStart(2,"0");if(e==="CURRENT_DAY_NAME")return n.dayNames[this._date.getDay()];if(e==="CURRENT_DAY_NAME_SHORT")return n.dayNamesShort[this._date.getDay()];if(e==="CURRENT_MONTH_NAME")return n.monthNames[this._date.getMonth()];if(e==="CURRENT_MONTH_NAME_SHORT")return n.monthNamesShort[this._date.getMonth()];if(e==="CURRENT_SECONDS_UNIX")return String(Math.floor(this._date.getTime()/1e3));if(e==="CURRENT_TIMEZONE_OFFSET"){let i=this._date.getTimezoneOffset(),o=i>0?"-":"+",r=Math.trunc(Math.abs(i/60)),s=r<10?"0"+r:r,a=Math.abs(i)-r*60,l=a<10?"0"+a:a;return o+s+":"+l}}},c0=class{constructor(t){this._workspaceService=t}resolve(t){if(!this._workspaceService)return;let e=SU(this._workspaceService.getWorkspace());if(!CU(e)){if(t.name==="WORKSPACE_NAME")return this._resolveWorkspaceName(e);if(t.name==="WORKSPACE_FOLDER")return this._resoveWorkspacePath(e)}}_resolveWorkspaceName(t){if(FR(t))return xp(t.uri.path);let e=xp(t.configPath.path);return e.endsWith(zR)&&(e=e.substr(0,e.length-zR.length-1)),e}_resoveWorkspacePath(t){if(FR(t))return E2(t.uri.fsPath);let e=xp(t.configPath.path),i=t.configPath.fsPath;return i.endsWith(e)&&(i=i.substr(0,i.length-e.length-1)),i?E2(i):"/"}},d0=class{resolve(t){let{name:e}=t;if(e==="RANDOM")return Math.random().toString().slice(-6);if(e==="RANDOM_HEX")return Math.random().toString(16).slice(-6);if(e==="UUID")return vu()}};var w0e=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},x0e=function(n,t){return function(e,i){t(e,i,n)}},Ja,d1=class n{static{this._decor={active:lt.register({description:"snippet-placeholder-1",stickiness:0,className:"snippet-placeholder"}),inactive:lt.register({description:"snippet-placeholder-2",stickiness:1,className:"snippet-placeholder"}),activeFinal:lt.register({description:"snippet-placeholder-3",stickiness:1,className:"finish-snippet-placeholder"}),inactiveFinal:lt.register({description:"snippet-placeholder-4",stickiness:1,className:"finish-snippet-placeholder"})}}constructor(t,e,i){this._editor=t,this._snippet=e,this._snippetLineLeadingWhitespace=i,this._offset=-1,this._nestingLevel=1,this._placeholderGroups=oR(e.placeholders,as.compareByIndex),this._placeholderGroupsIdx=-1}initialize(t){this._offset=t.newPosition}dispose(){this._placeholderDecorations&&this._editor.removeDecorations([...this._placeholderDecorations.values()]),this._placeholderGroups.length=0}_initDecorations(){if(this._offset===-1)throw new Error("Snippet not initialized!");if(this._placeholderDecorations)return;this._placeholderDecorations=new Map;let t=this._editor.getModel();this._editor.changeDecorations(e=>{for(let i of this._snippet.placeholders){let o=this._snippet.offset(i),r=this._snippet.fullLen(i),s=A.fromPositions(t.getPositionAt(this._offset+o),t.getPositionAt(this._offset+o+r)),a=i.isFinalTabstop?n._decor.inactiveFinal:n._decor.inactive,l=e.addDecoration(s,a);this._placeholderDecorations.set(i,l)}})}move(t){if(!this._editor.hasModel())return[];if(this._initDecorations(),this._placeholderGroupsIdx>=0){let o=[];for(let r of this._placeholderGroups[this._placeholderGroupsIdx])if(r.transform){let s=this._placeholderDecorations.get(r),a=this._editor.getModel().getDecorationRange(s),l=this._editor.getModel().getValueInRange(a),c=r.transform.resolve(l).split(/\r\n|\r|\n/);for(let d=1;d<c.length;d++)c[d]=this._editor.getModel().normalizeIndentation(this._snippetLineLeadingWhitespace+c[d]);o.push(mi.replace(a,c.join(this._editor.getModel().getEOL())))}o.length>0&&this._editor.executeEdits("snippet.placeholderTransform",o)}let e=!1;t===!0&&this._placeholderGroupsIdx<this._placeholderGroups.length-1?(this._placeholderGroupsIdx+=1,e=!0):t===!1&&this._placeholderGroupsIdx>0&&(this._placeholderGroupsIdx-=1,e=!0);let i=this._editor.getModel().changeDecorations(o=>{let r=new Set,s=[];for(let a of this._placeholderGroups[this._placeholderGroupsIdx]){let l=this._placeholderDecorations.get(a),c=this._editor.getModel().getDecorationRange(l);s.push(new Be(c.startLineNumber,c.startColumn,c.endLineNumber,c.endColumn)),e=e&&this._hasPlaceholderBeenCollapsed(a),o.changeDecorationOptions(l,a.isFinalTabstop?n._decor.activeFinal:n._decor.active),r.add(a);for(let d of this._snippet.enclosingPlaceholders(a)){let u=this._placeholderDecorations.get(d);o.changeDecorationOptions(u,d.isFinalTabstop?n._decor.activeFinal:n._decor.active),r.add(d)}}for(let[a,l]of this._placeholderDecorations)r.has(a)||o.changeDecorationOptions(l,a.isFinalTabstop?n._decor.inactiveFinal:n._decor.inactive);return s});return e?this.move(t):i??[]}_hasPlaceholderBeenCollapsed(t){let e=t;for(;e;){if(e instanceof as){let i=this._placeholderDecorations.get(e);if(this._editor.getModel().getDecorationRange(i).isEmpty()&&e.toString().length>0)return!0}e=e.parent}return!1}get isAtFirstPlaceholder(){return this._placeholderGroupsIdx<=0||this._placeholderGroups.length===0}get isAtLastPlaceholder(){return this._placeholderGroupsIdx===this._placeholderGroups.length-1}get hasPlaceholder(){return this._snippet.placeholders.length>0}get isTrivialSnippet(){if(this._snippet.placeholders.length===0)return!0;if(this._snippet.placeholders.length===1){let[t]=this._snippet.placeholders;if(t.isFinalTabstop&&this._snippet.rightMostDescendant===t)return!0}return!1}computePossibleSelections(){let t=new Map;for(let e of this._placeholderGroups){let i;for(let o of e){if(o.isFinalTabstop)break;i||(i=[],t.set(o.index,i));let r=this._placeholderDecorations.get(o),s=this._editor.getModel().getDecorationRange(r);if(!s){t.delete(o.index);break}i.push(s)}}return t}get activeChoice(){if(!this._placeholderDecorations)return;let t=this._placeholderGroups[this._placeholderGroupsIdx][0];if(!t?.choice)return;let e=this._placeholderDecorations.get(t);if(!e)return;let i=this._editor.getModel().getDecorationRange(e);if(i)return{range:i,choice:t.choice}}get hasChoice(){let t=!1;return this._snippet.walk(e=>(t=e instanceof cm,!t)),t}merge(t){let e=this._editor.getModel();this._nestingLevel*=10,this._editor.changeDecorations(i=>{for(let o of this._placeholderGroups[this._placeholderGroupsIdx]){let r=t.shift();console.assert(r._offset!==-1),console.assert(!r._placeholderDecorations);let s=r._snippet.placeholderInfo.last.index;for(let l of r._snippet.placeholderInfo.all)l.isFinalTabstop?l.index=o.index+(s+1)/this._nestingLevel:l.index=o.index+l.index/this._nestingLevel;this._snippet.replace(o,r._snippet.children);let a=this._placeholderDecorations.get(o);i.removeDecoration(a),this._placeholderDecorations.delete(o);for(let l of r._snippet.placeholders){let c=r._snippet.offset(l),d=r._snippet.fullLen(l),u=A.fromPositions(e.getPositionAt(r._offset+c),e.getPositionAt(r._offset+c+d)),h=i.addDecoration(u,n._decor.inactive);this._placeholderDecorations.set(l,h)}}this._placeholderGroups=oR(this._snippet.placeholders,as.compareByIndex)})}},z7={overwriteBefore:0,overwriteAfter:0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0},Wg=Ja=class{static adjustWhitespace(t,e,i,o,r){let s=t.getLineContent(e.lineNumber),a=hn(s,0,e.column-1),l;return o.walk(c=>{if(!(c instanceof So)||c.parent instanceof cm||r&&!r.has(c))return!0;let d=c.value.split(/\r\n|\r|\n/);if(i){let h=o.offset(c);if(h===0)d[0]=t.normalizeIndentation(d[0]);else{l=l??o.toString();let m=l.charCodeAt(h-1);(m===10||m===13)&&(d[0]=t.normalizeIndentation(a+d[0]))}for(let m=1;m<d.length;m++)d[m]=t.normalizeIndentation(a+d[m])}let u=d.join(t.getEOL());return u!==c.value&&(c.parent.replace(c,[new So(u)]),l=void 0),!0}),a}static adjustSelection(t,e,i,o){if(i!==0||o!==0){let{positionLineNumber:r,positionColumn:s}=e,a=s-i,l=s+o,c=t.validateRange({startLineNumber:r,startColumn:a,endLineNumber:r,endColumn:l});e=Be.createWithDirection(c.startLineNumber,c.startColumn,c.endLineNumber,c.endColumn,e.getDirection())}return e}static createEditsAndSnippetsFromSelections(t,e,i,o,r,s,a,l,c){let d=[],u=[];if(!t.hasModel())return{edits:d,snippets:u};let h=t.getModel(),m=t.invokeWithinContext(k=>k.get(Lc)),f=t.invokeWithinContext(k=>new r0(k.get(Oc),h)),p=()=>a,g=h.getValueInRange(Ja.adjustSelection(h,t.getSelection(),i,0)),v=h.getValueInRange(Ja.adjustSelection(h,t.getSelection(),0,o)),b=h.getLineFirstNonWhitespaceColumn(t.getSelection().positionLineNumber),C=t.getSelections().map((k,E)=>({selection:k,idx:E})).sort((k,E)=>A.compareRangesUsingStarts(k.selection,E.selection));for(let{selection:k,idx:E}of C){let F=Ja.adjustSelection(h,k,i,0),L=Ja.adjustSelection(h,k,0,o);g!==h.getValueInRange(F)&&(F=k),v!==h.getValueInRange(L)&&(L=k);let H=k.setStartPosition(F.startLineNumber,F.startColumn).setEndPosition(L.endLineNumber,L.endColumn),re=new Vr().parse(e,!0,r),R=H.getStartPosition(),W=Ja.adjustWhitespace(h,R,s||E>0&&b!==h.getLineFirstNonWhitespaceColumn(k.positionLineNumber),re);re.resolveVariables(new n0([f,new s0(p,E,C.length,t.getOption(79)==="spread"),new o0(h,k,E,l),new a0(h,k,c),new l0,new c0(m),new d0])),d[E]=mi.replace(H,re.toString()),d[E].identifier={major:E,minor:0},d[E]._isTracked=!0,u[E]=new d1(t,re,W)}return{edits:d,snippets:u}}static createEditsAndSnippetsFromEdits(t,e,i,o,r,s,a){if(!t.hasModel()||e.length===0)return{edits:[],snippets:[]};let l=[],c=t.getModel(),d=new Vr,u=new rg,h=new n0([t.invokeWithinContext(f=>new r0(f.get(Oc),c)),new s0(()=>r,0,t.getSelections().length,t.getOption(79)==="spread"),new o0(c,t.getSelection(),0,s),new a0(c,t.getSelection(),a),new l0,new c0(t.invokeWithinContext(f=>f.get(Lc))),new d0]);e=e.sort((f,p)=>A.compareRangesUsingStarts(f.range,p.range));let m=0;for(let f=0;f<e.length;f++){let{range:p,template:g}=e[f];if(f>0){let E=e[f-1].range,F=A.fromPositions(E.getEndPosition(),p.getStartPosition()),L=new So(c.getValueInRange(F));u.appendChild(L),m+=L.value.length}let v=d.parseFragment(g,u);Ja.adjustWhitespace(c,p.getStartPosition(),!0,u,new Set(v)),u.resolveVariables(h);let b=u.toString(),C=b.slice(m);m=b.length;let k=mi.replace(p,C);k.identifier={major:f,minor:0},k._isTracked=!0,l.push(k)}return d.ensureFinalTabstop(u,i,!0),{edits:l,snippets:[new d1(t,u,"")]}}constructor(t,e,i=z7,o){this._editor=t,this._template=e,this._options=i,this._languageConfigurationService=o,this._templateMerges=[],this._snippets=[]}dispose(){dn(this._snippets)}_logInfo(){return`template="${this._template}", merged_templates="${this._templateMerges.join(" -> ")}"`}insert(){if(!this._editor.hasModel())return;let{edits:t,snippets:e}=typeof this._template=="string"?Ja.createEditsAndSnippetsFromSelections(this._editor,this._template,this._options.overwriteBefore,this._options.overwriteAfter,!1,this._options.adjustWhitespace,this._options.clipboardText,this._options.overtypingCapturer,this._languageConfigurationService):Ja.createEditsAndSnippetsFromEdits(this._editor,this._template,!1,this._options.adjustWhitespace,this._options.clipboardText,this._options.overtypingCapturer,this._languageConfigurationService);this._snippets=e,this._editor.executeEdits("snippet",t,i=>{let o=i.filter(r=>!!r.identifier);for(let r=0;r<e.length;r++)e[r].initialize(o[r].textChange);return this._snippets[0].hasPlaceholder?this._move(!0):o.map(r=>Be.fromPositions(r.range.getEndPosition()))}),this._editor.revealRange(this._editor.getSelections()[0])}merge(t,e=z7){if(!this._editor.hasModel())return;this._templateMerges.push([this._snippets[0]._nestingLevel,this._snippets[0]._placeholderGroupsIdx,t]);let{edits:i,snippets:o}=Ja.createEditsAndSnippetsFromSelections(this._editor,t,e.overwriteBefore,e.overwriteAfter,!0,e.adjustWhitespace,e.clipboardText,e.overtypingCapturer,this._languageConfigurationService);this._editor.executeEdits("snippet",i,r=>{let s=r.filter(l=>!!l.identifier);for(let l=0;l<o.length;l++)o[l].initialize(s[l].textChange);let a=o[0].isTrivialSnippet;if(!a){for(let l of this._snippets)l.merge(o);console.assert(o.length===0)}return this._snippets[0].hasPlaceholder&&!a?this._move(void 0):s.map(l=>Be.fromPositions(l.range.getEndPosition()))})}next(){let t=this._move(!0);this._editor.setSelections(t),this._editor.revealPositionInCenterIfOutsideViewport(t[0].getPosition())}prev(){let t=this._move(!1);this._editor.setSelections(t),this._editor.revealPositionInCenterIfOutsideViewport(t[0].getPosition())}_move(t){let e=[];for(let i of this._snippets){let o=i.move(t);e.push(...o)}return e}get isAtFirstPlaceholder(){return this._snippets[0].isAtFirstPlaceholder}get isAtLastPlaceholder(){return this._snippets[0].isAtLastPlaceholder}get hasPlaceholder(){return this._snippets[0].hasPlaceholder}get hasChoice(){return this._snippets[0].hasChoice}get activeChoice(){return this._snippets[0].activeChoice}isSelectionWithinPlaceholders(){if(!this.hasPlaceholder)return!1;let t=this._editor.getSelections();if(t.length<this._snippets.length)return!1;let e=new Map;for(let i of this._snippets){let o=i.computePossibleSelections();if(e.size===0)for(let[r,s]of o){s.sort(A.compareRangesUsingStarts);for(let a of t)if(s[0].containsRange(a)){e.set(r,[]);break}}if(e.size===0)return!1;e.forEach((r,s)=>{r.push(...o.get(s))})}t.sort(A.compareRangesUsingStarts);for(let[i,o]of e){if(o.length!==t.length){e.delete(i);continue}o.sort(A.compareRangesUsingStarts);for(let r=0;r<o.length;r++)if(!o[r].containsRange(t[r])){e.delete(i);continue}}return e.size>0}};Wg=Ja=w0e([x0e(3,yi)],Wg);var C0e=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},u1=function(n,t){return function(e,i){t(e,i,n)}},jg,B7={overwriteBefore:0,overwriteAfter:0,undoStopBefore:!0,undoStopAfter:!0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0},ko=class{static{jg=this}static{this.ID="snippetController2"}static get(t){return t.getContribution(jg.ID)}static{this.InSnippetMode=new ot("inSnippetMode",!1,_("inSnippetMode","Whether the editor in current in snippet mode"))}static{this.HasNextTabstop=new ot("hasNextTabstop",!1,_("hasNextTabstop","Whether there is a next tab stop when in snippet mode"))}static{this.HasPrevTabstop=new ot("hasPrevTabstop",!1,_("hasPrevTabstop","Whether there is a previous tab stop when in snippet mode"))}constructor(t,e,i,o,r){this._editor=t,this._logService=e,this._languageFeaturesService=i,this._languageConfigurationService=r,this._snippetListener=new G,this._modelVersionId=-1,this._inSnippet=jg.InSnippetMode.bindTo(o),this._hasNextTabstop=jg.HasNextTabstop.bindTo(o),this._hasPrevTabstop=jg.HasPrevTabstop.bindTo(o)}dispose(){this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),this._session?.dispose(),this._snippetListener.dispose()}insert(t,e){try{this._doInsert(t,typeof e>"u"?B7:j(j({},B7),e))}catch(i){this.cancel(),this._logService.error(i),this._logService.error("snippet_error"),this._logService.error("insert_template=",t),this._logService.error("existing_template=",this._session?this._session._logInfo():"<no_session>")}}_doInsert(t,e){if(this._editor.hasModel()){if(this._snippetListener.clear(),e.undoStopBefore&&this._editor.getModel().pushStackElement(),this._session&&typeof t!="string"&&this.cancel(),this._session?(Tt(typeof t=="string"),this._session.merge(t,e)):(this._modelVersionId=this._editor.getModel().getAlternativeVersionId(),this._session=new Wg(this._editor,t,e,this._languageConfigurationService),this._session.insert()),e.undoStopAfter&&this._editor.getModel().pushStackElement(),this._session?.hasChoice){let i={_debugDisplayName:"snippetChoiceCompletions",provideCompletionItems:(c,d)=>{if(!this._session||c!==this._editor.getModel()||!pe.equals(this._editor.getPosition(),d))return;let{activeChoice:u}=this._session;if(!u||u.choice.options.length===0)return;let h=c.getValueInRange(u.range),m=!!u.choice.options.find(p=>p.value===h),f=[];for(let p=0;p<u.choice.options.length;p++){let g=u.choice.options[p];f.push({kind:13,label:g.value,insertText:g.value,sortText:"a".repeat(p+1),range:u.range,filterText:m?`${h}_${g.value}`:void 0,command:{id:"jumpToNextSnippetPlaceholder",title:_("next","Go to next placeholder...")}})}return{suggestions:f}}},o=this._editor.getModel(),r,s=!1,a=()=>{r?.dispose(),s=!1},l=()=>{s||(r=this._languageFeaturesService.completionProvider.register({language:o.getLanguageId(),pattern:o.uri.fsPath,scheme:o.uri.scheme,exclusive:!0},i),this._snippetListener.add(r),s=!0)};this._choiceCompletions={provider:i,enable:l,disable:a}}this._updateState(),this._snippetListener.add(this._editor.onDidChangeModelContent(i=>i.isFlush&&this.cancel())),this._snippetListener.add(this._editor.onDidChangeModel(()=>this.cancel())),this._snippetListener.add(this._editor.onDidChangeCursorSelection(()=>this._updateState()))}}_updateState(){if(!(!this._session||!this._editor.hasModel())){if(this._modelVersionId===this._editor.getModel().getAlternativeVersionId())return this.cancel();if(!this._session.hasPlaceholder)return this.cancel();if(this._session.isAtLastPlaceholder||!this._session.isSelectionWithinPlaceholders())return this._editor.getModel().pushStackElement(),this.cancel();this._inSnippet.set(!0),this._hasPrevTabstop.set(!this._session.isAtFirstPlaceholder),this._hasNextTabstop.set(!this._session.isAtLastPlaceholder),this._handleChoice()}}_handleChoice(){if(!this._session||!this._editor.hasModel()){this._currentChoice=void 0;return}let{activeChoice:t}=this._session;if(!t||!this._choiceCompletions){this._choiceCompletions?.disable(),this._currentChoice=void 0;return}this._currentChoice!==t.choice&&(this._currentChoice=t.choice,this._choiceCompletions.enable(),queueMicrotask(()=>{F7(this._editor,this._choiceCompletions.provider)}))}finish(){for(;this._inSnippet.get();)this.next()}cancel(t=!1){this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),this._snippetListener.clear(),this._currentChoice=void 0,this._session?.dispose(),this._session=void 0,this._modelVersionId=-1,t&&this._editor.setSelections([this._editor.getSelection()])}prev(){this._session?.prev(),this._updateState()}next(){this._session?.next(),this._updateState()}isInSnippet(){return!!this._inSnippet.get()}};ko=jg=C0e([u1(1,ws),u1(2,ce),u1(3,Ze),u1(4,yi)],ko);Te(ko.ID,ko,4);var h1=Ki.bindToContribution(ko.get);ze(new h1({id:"jumpToNextSnippetPlaceholder",precondition:K.and(ko.InSnippetMode,ko.HasNextTabstop),handler:n=>n.next(),kbOpts:{weight:130,kbExpr:T.textInputFocus,primary:2}}));ze(new h1({id:"jumpToPrevSnippetPlaceholder",precondition:K.and(ko.InSnippetMode,ko.HasPrevTabstop),handler:n=>n.prev(),kbOpts:{weight:130,kbExpr:T.textInputFocus,primary:1026}}));ze(new h1({id:"leaveSnippet",precondition:ko.InSnippetMode,handler:n=>n.cancel(!0),kbOpts:{weight:130,kbExpr:T.textInputFocus,primary:9,secondary:[1033]}}));ze(new h1({id:"acceptSnippet",precondition:ko.InSnippetMode,handler:n=>n.finish()}));qi();Ot();var S0e=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},M2=function(n,t){return function(e,i){t(e,i,n)}},m1=class extends U{get isAcceptingPartially(){return this._isAcceptingPartially}constructor(t,e,i,o,r,s,a,l,c,d,u,h){super(),this.textModel=t,this.selectedSuggestItem=e,this._textModelVersionId=i,this._positions=o,this._debounceValue=r,this._suggestPreviewEnabled=s,this._suggestPreviewMode=a,this._inlineSuggestMode=l,this._enabled=c,this._instantiationService=d,this._commandService=u,this._languageConfigurationService=h,this._source=this._register(this._instantiationService.createInstance(a1,this.textModel,this._textModelVersionId,this._debounceValue)),this._isActive=Yn(this,!1),this._forceUpdateExplicitlySignal=Hp(this),this._selectedInlineCompletionId=Yn(this,void 0),this._primaryPosition=qt(this,f=>this._positions.read(f)[0]??new pe(1,1)),this._isAcceptingPartially=!1,this._preserveCurrentCompletionReasons=new Set([Pu.Redo,Pu.Undo,Pu.AcceptWord]),this._fetchInlineCompletionsPromise=mC({owner:this,createEmptyChangeSummary:()=>({preserveCurrentCompletion:!1,inlineCompletionTriggerKind:vs.Automatic}),handleChange:(f,p)=>(f.didChange(this._textModelVersionId)&&this._preserveCurrentCompletionReasons.has(this._getReason(f.change))?p.preserveCurrentCompletion=!0:f.didChange(this._forceUpdateExplicitlySignal)&&(p.inlineCompletionTriggerKind=vs.Explicit),!0)},(f,p)=>{if(this._forceUpdateExplicitlySignal.read(f),!(this._enabled.read(f)&&this.selectedSuggestItem.read(f)||this._isActive.read(f))){this._source.cancelUpdate();return}this._textModelVersionId.read(f);let v=this._source.suggestWidgetInlineCompletions.get(),b=this.selectedSuggestItem.read(f);if(v&&!b){let L=this._source.inlineCompletions.get();Ss(H=>{(!L||v.request.versionId>L.request.versionId)&&this._source.inlineCompletions.set(v.clone(),H),this._source.clearSuggestWidgetInlineCompletions(H)})}let C=this._primaryPosition.read(f),k={triggerKind:p.inlineCompletionTriggerKind,selectedSuggestionInfo:b?.toSelectedSuggestionInfo()},E=this.selectedInlineCompletion.get(),F=p.preserveCurrentCompletion||E?.forwardStable?E:void 0;return this._source.fetch(C,k,F)}),this._filteredInlineCompletionItems=Ds({owner:this,equalsFn:kv()},f=>{let p=this._source.inlineCompletions.read(f);if(!p)return[];let g=this._primaryPosition.read(f);return p.inlineCompletions.filter(b=>b.isVisible(this.textModel,g,f))}),this.selectedInlineCompletionIndex=qt(this,f=>{let p=this._selectedInlineCompletionId.read(f),g=this._filteredInlineCompletionItems.read(f),v=this._selectedInlineCompletionId===void 0?-1:g.findIndex(b=>b.semanticId===p);return v===-1?(this._selectedInlineCompletionId.set(void 0,void 0),0):v}),this.selectedInlineCompletion=qt(this,f=>{let p=this._filteredInlineCompletionItems.read(f),g=this.selectedInlineCompletionIndex.read(f);return p[g]}),this.activeCommands=Ds({owner:this,equalsFn:kv()},f=>this.selectedInlineCompletion.read(f)?.inlineCompletion.source.inlineCompletions.commands??[]),this.lastTriggerKind=this._source.inlineCompletions.map(this,f=>f?.request.context.triggerKind),this.inlineCompletionsCount=qt(this,f=>{if(this.lastTriggerKind.read(f)===vs.Explicit)return this._filteredInlineCompletionItems.read(f).length}),this.state=Ds({owner:this,equalsFn:(f,p)=>!f||!p?f===p:u2(f.ghostTexts,p.ghostTexts)&&f.inlineCompletion===p.inlineCompletion&&f.suggestItem===p.suggestItem},f=>{let p=this.textModel,g=this.selectedSuggestItem.read(f);if(g){let v=Yl(g.toSingleTextEdit(),p),b=this._computeAugmentation(v,f);if(!this._suggestPreviewEnabled.read(f)&&!b)return;let k=b?.edit??v,E=b?b.edit.text.length-v.text.length:0,F=this._suggestPreviewMode.read(f),L=this._positions.read(f),H=[k,...k2(this.textModel,L,k)],re=H.map((W,I)=>b2(W,p,F,L[I],E)).filter(vp),R=re[0]??new Kl(k.range.endLineNumber,[]);return{edits:H,primaryGhostText:R,ghostTexts:re,inlineCompletion:b?.completion,suggestItem:g}}else{if(!this._isActive.read(f))return;let v=this.selectedInlineCompletion.read(f);if(!v)return;let b=v.toSingleTextEdit(f),C=this._inlineSuggestMode.read(f),k=this._positions.read(f),E=[b,...k2(this.textModel,k,b)],F=E.map((L,H)=>b2(L,p,C,k[H],0)).filter(vp);return F[0]?{edits:E,primaryGhostText:F[0],ghostTexts:F,inlineCompletion:v,suggestItem:void 0}:void 0}}),this.ghostTexts=Ds({owner:this,equalsFn:u2},f=>{let p=this.state.read(f);if(p)return p.ghostTexts}),this.primaryGhostText=Ds({owner:this,equalsFn:h2},f=>{let p=this.state.read(f);if(p)return p?.primaryGhostText}),this._register(fC(this._fetchInlineCompletionsPromise));let m;this._register(ti(f=>{let g=this.state.read(f)?.inlineCompletion;if(g?.semanticId!==m?.semanticId&&(m=g,g)){let v=g.inlineCompletion,b=v.source;b.provider.handleItemDidShow?.(b.inlineCompletions,v.sourceInlineCompletion,v.insertText)}}))}_getReason(t){return t?.isUndoing?Pu.Undo:t?.isRedoing?Pu.Redo:this.isAcceptingPartially?Pu.AcceptWord:Pu.Other}trigger(t){return M(this,null,function*(){this._isActive.set(!0,t),yield this._fetchInlineCompletionsPromise.get()})}triggerExplicitly(t){return M(this,null,function*(){Bp(t,e=>{this._isActive.set(!0,e),this._forceUpdateExplicitlySignal.trigger(e)}),yield this._fetchInlineCompletionsPromise.get()})}stop(t){Bp(t,e=>{this._isActive.set(!1,e),this._source.clear(e)})}_computeAugmentation(t,e){let i=this.textModel,o=this._source.suggestWidgetInlineCompletions.read(e),r=o?o.inlineCompletions:[this.selectedInlineCompletion.read(e)].filter(vp);return a5(r,a=>{let l=a.toSingleTextEdit(e);return l=Yl(l,i,A.fromPositions(l.range.getStartPosition(),t.range.getEndPosition())),s1(l,t)?{completion:a,edit:l}:void 0})}_deltaSelectedInlineCompletionIndex(t){return M(this,null,function*(){yield this.triggerExplicitly();let e=this._filteredInlineCompletionItems.get()||[];if(e.length>0){let i=(this.selectedInlineCompletionIndex.get()+t+e.length)%e.length;this._selectedInlineCompletionId.set(e[i].semanticId,void 0)}else this._selectedInlineCompletionId.set(void 0,void 0)})}next(){return M(this,null,function*(){yield this._deltaSelectedInlineCompletionIndex(1)})}previous(){return M(this,null,function*(){yield this._deltaSelectedInlineCompletionIndex(-1)})}accept(t){return M(this,null,function*(){if(t.getModel()!==this.textModel)throw new ml;let e=this.state.get();if(!e||e.primaryGhostText.isEmpty()||!e.inlineCompletion)return;let i=e.inlineCompletion.toInlineCompletion(void 0);if(i.command&&i.source.addRef(),t.pushUndoStop(),i.snippetInfo)t.executeEdits("inlineSuggestion.accept",[mi.replace(i.range,""),...i.additionalTextEdits]),t.setPosition(i.snippetInfo.range.getStartPosition(),"inlineCompletionAccept"),ko.get(t)?.insert(i.snippetInfo.snippet,{undoStopBefore:!1});else{let o=e.edits,r=H7(o).map(s=>Be.fromPositions(s));t.executeEdits("inlineSuggestion.accept",[...o.map(s=>mi.replace(s.range,s.text)),...i.additionalTextEdits]),t.setSelections(r,"inlineCompletionAccept")}this.stop(),i.command&&(yield this._commandService.executeCommand(i.command.id,...i.command.arguments||[]).then(void 0,zt),i.source.removeRef())})}acceptNextWord(t){return M(this,null,function*(){yield this._acceptNext(t,(e,i)=>{let o=this.textModel.getLanguageIdAtPosition(e.lineNumber,e.column),r=this._languageConfigurationService.getLanguageConfiguration(o),s=new RegExp(r.wordDefinition.source,r.wordDefinition.flags.replace("g","")),a=i.match(s),l=0;a&&a.index!==void 0?a.index===0?l=a[0].length:l=a.index:l=i.length;let d=/\s+/g.exec(i);return d&&d.index!==void 0&&d.index+d[0].length<l&&(l=d.index+d[0].length),l},0)})}acceptNextLine(t){return M(this,null,function*(){yield this._acceptNext(t,(e,i)=>{let o=i.match(/\n/);return o&&o.index!==void 0?o.index+1:i.length},1)})}_acceptNext(t,e,i){return M(this,null,function*(){if(t.getModel()!==this.textModel)throw new ml;let o=this.state.get();if(!o||o.primaryGhostText.isEmpty()||!o.inlineCompletion)return;let r=o.primaryGhostText,s=o.inlineCompletion.toInlineCompletion(void 0);if(s.snippetInfo||s.filterText!==s.insertText){yield this.accept(t);return}let a=r.parts[0],l=new pe(r.lineNumber,a.column),c=a.text,d=e(l,c);if(d===c.length&&r.parts.length===1){this.accept(t);return}let u=c.substring(0,d),h=this._positions.get(),m=h[0];s.source.addRef();try{this._isAcceptingPartially=!0;try{t.pushUndoStop();let f=A.fromPositions(m,l),p=t.getModel().getValueInRange(f)+u,g=new Nr(f,p),v=[g,...k2(this.textModel,h,g)],b=H7(v).map(C=>Be.fromPositions(C));t.executeEdits("inlineSuggestion.accept",v.map(C=>mi.replace(C.range,C.text))),t.setSelections(b,"inlineCompletionPartialAccept"),t.revealPositionInCenterIfOutsideViewport(t.getPosition(),1)}finally{this._isAcceptingPartially=!1}if(s.source.provider.handlePartialAccept){let f=A.fromPositions(s.range.getStartPosition(),Rh.ofText(u).addToPosition(l)),p=t.getModel().getValueInRange(f,1);s.source.provider.handlePartialAccept(s.source.inlineCompletions,s.sourceInlineCompletion,p.length,{kind:i})}}finally{s.source.removeRef()}})}handleSuggestAccepted(t){let e=Yl(t.toSingleTextEdit(),this.textModel),i=this._computeAugmentation(e,void 0);if(!i)return;let o=i.completion.inlineCompletion;o.source.provider.handlePartialAccept?.(o.source.inlineCompletions,o.sourceInlineCompletion,e.text.length,{kind:2})}};m1=S0e([M2(9,Me),M2(10,di),M2(11,yi)],m1);var Pu=function(n){return n[n.Undo=0]="Undo",n[n.Redo=1]="Redo",n[n.AcceptWord=2]="AcceptWord",n[n.Other=3]="Other",n}(Pu||{});function k2(n,t,e){if(t.length===1)return[];let i=t[0],o=t.slice(1),r=e.range.getStartPosition(),s=e.range.getEndPosition(),a=n.getValueInRange(A.fromPositions(i,s)),l=m2(i,r);if(l.lineNumber<1)return ht(new ml(`positionWithinTextEdit line number should be bigger than 0.
			Invalid subtraction between ${i.toString()} and ${r.toString()}`)),[];let c=D0e(e.text,l);return o.map(d=>{let u=M7(m2(d,r),s),h=n.getValueInRange(A.fromPositions(d,u)),m=pl(a,h),f=A.fromPositions(d,d.delta(0,m));return new Nr(f,c)})}function D0e(n,t){let e="",i=b4(n);for(let o=t.lineNumber-1;o<i.length;o++)e+=i[o].substring(o===t.lineNumber-1?t.column-1:0);return e}function H7(n){let t=Xj.createSortPermutation(n,vc(r=>r.range,A.compareRangesUsingStarts)),i=new jx(t.apply(n)).getNewRanges();return t.inverse().apply(i).map(r=>r.getEndPosition())}Oi();wv();oi();ue();hi();qe();vn();Oi();bi();Bt();oi();fue();ue();tr();Ks();ro();it();hi();qe();Kt();Ht();ue();Ic();vn();bn();Sc();Ot();var I0e=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},V7=function(n,t){return function(e,i){t(e,i,n)}},u0,h0=class{constructor(t){this.name=t}select(t,e,i){if(i.length===0)return 0;let o=i[0].score[0];for(let r=0;r<i.length;r++){let{score:s,completion:a}=i[r];if(s[0]!==o)break;if(a.preselect)return r}return 0}},p1=class extends h0{constructor(){super("first")}memorize(t,e,i){}toJSON(){}fromJSON(){}},T2=class extends h0{constructor(){super("recentlyUsed"),this._cache=new wl(300,.66),this._seq=0}memorize(t,e,i){let o=`${t.getLanguageId()}/${i.textLabel}`;this._cache.set(o,{touch:this._seq++,type:i.completion.kind,insertText:i.completion.insertText})}select(t,e,i){if(i.length===0)return 0;let o=t.getLineContent(e.lineNumber).substr(e.column-10,e.column-1);if(/\s$/.test(o))return super.select(t,e,i);let r=i[0].score[0],s=-1,a=-1,l=-1;for(let c=0;c<i.length&&i[c].score[0]===r;c++){let d=`${t.getLanguageId()}/${i[c].textLabel}`,u=this._cache.peek(d);if(u&&u.touch>l&&u.type===i[c].completion.kind&&u.insertText===i[c].completion.insertText&&(l=u.touch,a=c),i[c].completion.preselect&&s===-1)return s=c}return a!==-1?a:s!==-1?s:0}toJSON(){return this._cache.toJSON()}fromJSON(t){this._cache.clear();let e=0;for(let[i,o]of t)o.touch=e,o.type=typeof o.type=="number"?o.type:mv.fromString(o.type),this._cache.set(i,o);this._seq=this._cache.size}},A2=class extends h0{constructor(){super("recentlyUsedByPrefix"),this._trie=xU.forStrings(),this._seq=0}memorize(t,e,i){let{word:o}=t.getWordUntilPosition(e),r=`${t.getLanguageId()}/${o}`;this._trie.set(r,{type:i.completion.kind,insertText:i.completion.insertText,touch:this._seq++})}select(t,e,i){let{word:o}=t.getWordUntilPosition(e);if(!o)return super.select(t,e,i);let r=`${t.getLanguageId()}/${o}`,s=this._trie.get(r);if(s||(s=this._trie.findSubstr(r)),s)for(let a=0;a<i.length;a++){let{kind:l,insertText:c}=i[a].completion;if(l===s.type&&c===s.insertText)return a}return super.select(t,e,i)}toJSON(){let t=[];return this._trie.forEach((e,i)=>t.push([i,e])),t.sort((e,i)=>-(e[1].touch-i[1].touch)).forEach((e,i)=>e[1].touch=i),t.slice(0,200)}fromJSON(t){if(this._trie.clear(),t.length>0){this._seq=t[0][1].touch+1;for(let[e,i]of t)i.type=typeof i.type=="number"?i.type:mv.fromString(i.type),this._trie.set(e,i)}}},R2=class{static{u0=this}static{this._strategyCtors=new Map([["recentlyUsedByPrefix",A2],["recentlyUsed",T2],["first",p1]])}static{this._storagePrefix="suggest/memories"}constructor(t,e){this._storageService=t,this._configService=e,this._disposables=new G,this._persistSoon=new ai(()=>this._saveState(),500),this._disposables.add(t.onWillSaveState(i=>{i.reason===Wp.SHUTDOWN&&this._saveState()}))}dispose(){this._disposables.dispose(),this._persistSoon.dispose()}memorize(t,e,i){this._withStrategy(t,e).memorize(t,e,i),this._persistSoon.schedule()}select(t,e,i){return this._withStrategy(t,e).select(t,e,i)}_withStrategy(t,e){let i=this._configService.getValue("editor.suggestSelection",{overrideIdentifier:t.getLanguageIdAtPosition(e.lineNumber,e.column),resource:t.uri});if(this._strategy?.name!==i){this._saveState();let o=u0._strategyCtors.get(i)||p1;this._strategy=new o;try{let s=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,a=this._storageService.get(`${u0._storagePrefix}/${i}`,s);a&&this._strategy.fromJSON(JSON.parse(a))}catch{}}return this._strategy}_saveState(){if(this._strategy){let e=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,i=JSON.stringify(this._strategy);this._storageService.store(`${u0._storagePrefix}/${this._strategy.name}`,i,e,1)}}};R2=u0=I0e([V7(0,Fr),V7(1,vt)],R2);var Ug=jo("ISuggestMemories");qo(Ug,R2,1);pt();var E0e=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},M0e=function(n,t){return function(e,i){t(e,i,n)}},O2,m0=class{static{O2=this}static{this.AtEnd=new ot("atEndOfWord",!1)}constructor(t,e){this._editor=t,this._enabled=!1,this._ckAtEnd=O2.AtEnd.bindTo(e),this._configListener=this._editor.onDidChangeConfiguration(i=>i.hasChanged(124)&&this._update()),this._update()}dispose(){this._configListener.dispose(),this._selectionListener?.dispose(),this._ckAtEnd.reset()}_update(){let t=this._editor.getOption(124)==="on";if(this._enabled!==t)if(this._enabled=t,this._enabled){let e=()=>{if(!this._editor.hasModel()){this._ckAtEnd.set(!1);return}let i=this._editor.getModel(),o=this._editor.getSelection(),r=i.getWordAtPosition(o.getStartPosition());if(!r){this._ckAtEnd.set(!1);return}this._ckAtEnd.set(r.endColumn===o.getStartPosition().column)};this._selectionListener=this._editor.onDidChangeCursorSelection(e),e()}else this._selectionListener&&(this._ckAtEnd.reset(),this._selectionListener.dispose(),this._selectionListener=void 0)}};m0=O2=E0e([M0e(1,Ze)],m0);Re();qi();pt();Ot();Tp();pt();var k0e=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},T0e=function(n,t){return function(e,i){t(e,i,n)}},p0,Lm=class{static{p0=this}static{this.OtherSuggestions=new ot("hasOtherSuggestions",!1)}constructor(t,e){this._editor=t,this._index=0,this._ckOtherSuggestions=p0.OtherSuggestions.bindTo(e)}dispose(){this.reset()}reset(){this._ckOtherSuggestions.reset(),this._listener?.dispose(),this._model=void 0,this._acceptNext=void 0,this._ignore=!1}set({model:t,index:e},i){if(t.items.length===0){this.reset();return}if(p0._moveIndex(!0,t,e)===e){this.reset();return}this._acceptNext=i,this._model=t,this._index=e,this._listener=this._editor.onDidChangeCursorPosition(()=>{this._ignore||this.reset()}),this._ckOtherSuggestions.set(!0)}static _moveIndex(t,e,i){let o=i;for(let r=e.items.length;r>0&&(o=(o+e.items.length+(t?1:-1))%e.items.length,!(o===i||!e.items[o].completion.additionalTextEdits));r--);return o}next(){this._move(!0)}prev(){this._move(!1)}_move(t){if(this._model)try{this._ignore=!0,this._index=p0._moveIndex(t,this._model,this._index),this._acceptNext({index:this._index,item:this._model.items[this._index],model:this._model})}finally{this._ignore=!1}}};Lm=p0=k0e([T0e(1,Ze)],Lm);Oi();ue();IR();var f1=class{constructor(t,e,i,o){this._disposables=new G,this._disposables.add(i.onDidSuggest(r=>{r.completionModel.items.length===0&&this.reset()})),this._disposables.add(i.onDidCancel(r=>{this.reset()})),this._disposables.add(e.onDidShow(()=>this._onItem(e.getFocusedItem()))),this._disposables.add(e.onDidFocus(this._onItem,this)),this._disposables.add(e.onDidHide(this.reset,this)),this._disposables.add(t.onWillType(r=>{if(this._active&&!e.isFrozen()&&i.state!==0){let s=r.charCodeAt(r.length-1);this._active.acceptCharacters.has(s)&&t.getOption(0)&&o(this._active.item)}}))}_onItem(t){if(!t||!Mn(t.item.completion.commitCharacters)){this.reset();return}if(this._active&&this._active.item.item===t.item)return;let e=new Ah;for(let i of t.item.completion.commitCharacters)i.length>0&&e.add(i.charCodeAt(0));this._active={acceptCharacters:e,item:t}}reset(){this._active=void 0}dispose(){this._disposables.dispose()}};Ht();bi();Bt();oi();ue();zi();Nn();Fh();Oi();qe();n4();hi();qe();var g1=(()=>{class n{provideSelectionRanges(e,i){return M(this,null,function*(){let o=[];for(let r of i){let s=[];o.push(s);let a=new Map;yield new Promise(l=>n._bracketsRightYield(l,0,e,r,a)),yield new Promise(l=>n._bracketsLeftYield(l,0,e,r,a,s))}return o})}static{this._maxDuration=30}static{this._maxRounds=2}static _bracketsRightYield(e,i,o,r,s){let a=new Map,l=Date.now();for(;;){if(i>=n._maxRounds){e();break}if(!r){e();break}let c=o.bracketPairs.findNextBracket(r);if(!c){e();break}if(Date.now()-l>n._maxDuration){setTimeout(()=>n._bracketsRightYield(e,i+1,o,r,s));break}if(c.bracketInfo.isOpeningBracket){let u=c.bracketInfo.bracketText,h=a.has(u)?a.get(u):0;a.set(u,h+1)}else{let u=c.bracketInfo.getOpeningBrackets()[0].bracketText,h=a.has(u)?a.get(u):0;if(h-=1,a.set(u,Math.max(0,h)),h<0){let m=s.get(u);m||(m=new Dx,s.set(u,m)),m.push(c.range)}}r=c.range.getEndPosition()}}static _bracketsLeftYield(e,i,o,r,s,a){let l=new Map,c=Date.now();for(;;){if(i>=n._maxRounds&&s.size===0){e();break}if(!r){e();break}let d=o.bracketPairs.findPrevBracket(r);if(!d){e();break}if(Date.now()-c>n._maxDuration){setTimeout(()=>n._bracketsLeftYield(e,i+1,o,r,s,a));break}if(d.bracketInfo.isOpeningBracket){let h=d.bracketInfo.bracketText,m=l.has(h)?l.get(h):0;if(m-=1,l.set(h,Math.max(0,m)),m<0){let f=s.get(h);if(f){let p=f.shift();f.size===0&&s.delete(h);let g=A.fromPositions(d.range.getEndPosition(),p.getStartPosition()),v=A.fromPositions(d.range.getStartPosition(),p.getEndPosition());a.push({range:g}),a.push({range:v}),n._addBracketLeading(o,v,a)}}}else{let h=d.bracketInfo.getOpeningBrackets()[0].bracketText,m=l.has(h)?l.get(h):0;l.set(h,m+1)}r=d.range.getStartPosition()}}static _addBracketLeading(e,i,o){if(i.startLineNumber===i.endLineNumber)return;let r=i.startLineNumber,s=e.getLineFirstNonWhitespaceColumn(r);s!==0&&s!==i.startColumn&&(o.push({range:A.fromPositions(new pe(r,s),i.getEndPosition())}),o.push({range:A.fromPositions(new pe(r,1),i.getEndPosition())}));let a=r-1;if(a>0){let l=e.getLineFirstNonWhitespaceColumn(a);l===i.startColumn&&l!==e.getLineLastNonWhitespaceColumn(a)&&(o.push({range:A.fromPositions(new pe(a,l),i.getEndPosition())}),o.push({range:A.fromPositions(new pe(a,1),i.getEndPosition())}))}}}return n})();var qg=class n{static{this.None=new class extends n{distance(){return 0}}}static create(t,e){return M(this,null,function*(){if(!e.getOption(119).localityBonus||!e.hasModel())return n.None;let i=e.getModel(),o=e.getPosition();if(!t.canComputeWordRanges(i.uri))return n.None;let[r]=yield new g1().provideSelectionRanges(i,[o]);if(r.length===0)return n.None;let s=yield t.computeWordRanges(i.uri,r[0].range);if(!s)return n.None;let a=i.getWordUntilPosition(o);return delete s[a.word],new class extends n{distance(l,c){if(!o.equals(e.getPosition()))return 0;if(c.kind===17)return 2<<20;let d=typeof c.label=="string"?c.label:c.label.label,u=s[d];if(Kj(u))return 2<<20;let h=xh(u,A.fromPositions(l),A.compareRangesUsingStarts),m=h>=0?u[h]:u[Math.max(0,~h-1)],f=r.length;for(let p of r){if(!A.containsRange(p.range,m))break;f-=1}return f}}})}};bn();pt();Tp();Oa();Oi();Rc();zi();var f0=class{constructor(t,e){this.leadingLineContent=t,this.characterCountDelta=e}},Gg=class n{constructor(t,e,i,o,r,s,a=sC.default,l=void 0){this.clipboardText=l,this._snippetCompareFn=n._compareCompletionItems,this._items=t,this._column=e,this._wordDistance=o,this._options=r,this._refilterKind=1,this._lineContext=i,this._fuzzyScoreOptions=a,s==="top"?this._snippetCompareFn=n._compareCompletionItemsSnippetsUp:s==="bottom"&&(this._snippetCompareFn=n._compareCompletionItemsSnippetsDown)}get lineContext(){return this._lineContext}set lineContext(t){(this._lineContext.leadingLineContent!==t.leadingLineContent||this._lineContext.characterCountDelta!==t.characterCountDelta)&&(this._refilterKind=this._lineContext.characterCountDelta<t.characterCountDelta&&this._filteredItems?2:1,this._lineContext=t)}get items(){return this._ensureCachedState(),this._filteredItems}getItemsByProvider(){return this._ensureCachedState(),this._itemsByProvider}getIncompleteProvider(){this._ensureCachedState();let t=new Set;for(let[e,i]of this.getItemsByProvider())i.length>0&&i[0].container.incomplete&&t.add(e);return t}get stats(){return this._ensureCachedState(),this._stats}_ensureCachedState(){this._refilterKind!==0&&this._createCachedState()}_createCachedState(){this._itemsByProvider=new Map;let t=[],{leadingLineContent:e,characterCountDelta:i}=this._lineContext,o="",r="",s=this._refilterKind===1?this._items:this._filteredItems,a=[],l=!this._options.filterGraceful||s.length>2e3?aC:nU;for(let c=0;c<s.length;c++){let d=s[c];if(d.isInvalid)continue;let u=this._itemsByProvider.get(d.provider);u?u.push(d):this._itemsByProvider.set(d.provider,[d]);let h=d.position.column-d.editStart.column,m=h+i-(d.position.column-this._column);if(o.length!==m&&(o=m===0?"":e.slice(-m),r=o.toLowerCase()),d.word=o,m===0)d.score=Ac.Default;else{let f=0;for(;f<h;){let p=o.charCodeAt(f);if(p===32||p===9)f+=1;else break}if(f>=m)d.score=Ac.Default;else if(typeof d.completion.filterText=="string"){let p=l(o,r,f,d.completion.filterText,d.filterTextLow,0,this._fuzzyScoreOptions);if(!p)continue;y4(d.completion.filterText,d.textLabel)===0?d.score=p:(d.score=iU(o,r,f,d.textLabel,d.labelLow,0),d.score[0]=p[0])}else{let p=l(o,r,f,d.textLabel,d.labelLow,0,this._fuzzyScoreOptions);if(!p)continue;d.score=p}}d.idx=c,d.distance=this._wordDistance.distance(d.position,d.completion),a.push(d),t.push(d.textLabel.length)}this._filteredItems=a.sort(this._snippetCompareFn),this._refilterKind=0,this._stats={pLabelLen:t.length?$j(t.length-.85,t,(c,d)=>c-d):0}}static _compareCompletionItems(t,e){return t.score[0]>e.score[0]?-1:t.score[0]<e.score[0]?1:t.distance<e.distance?-1:t.distance>e.distance?1:t.idx<e.idx?-1:t.idx>e.idx?1:0}static _compareCompletionItemsSnippetsDown(t,e){if(t.completion.kind!==e.completion.kind){if(t.completion.kind===27)return 1;if(e.completion.kind===27)return-1}return n._compareCompletionItems(t,e)}static _compareCompletionItemsSnippetsUp(t,e){if(t.completion.kind!==e.completion.kind){if(t.completion.kind===27)return-1;if(e.completion.kind===27)return 1}return n._compareCompletionItems(t,e)}};Lt();Rc();ro();Sue();var A0e=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},Lu=function(n,t){return function(e,i){t(e,i,n)}},P2,sd=class{static shouldAutoTrigger(t){if(!t.hasModel())return!1;let e=t.getModel(),i=t.getPosition();e.tokenization.tokenizeIfCheap(i.lineNumber);let o=e.getWordAtPosition(i);return!(!o||o.endColumn!==i.column&&o.startColumn+1!==i.column||!isNaN(Number(o.word)))}constructor(t,e,i){this.leadingLineContent=t.getLineContent(e.lineNumber).substr(0,e.column-1),this.leadingWord=t.getWordUntilPosition(e),this.lineNumber=e.lineNumber,this.column=e.column,this.triggerOptions=i}};function R0e(n,t,e){if(!t.getContextKeyValue(Yo.inlineSuggestionVisible.key))return!0;let i=t.getContextKeyValue(Yo.suppressSuggestions.key);return i!==void 0?!i:!n.getOption(62).suppressSuggestions}function O0e(n,t,e){if(!t.getContextKeyValue("inlineSuggestionVisible"))return!0;let i=t.getContextKeyValue(Yo.suppressSuggestions.key);return i!==void 0?!i:!n.getOption(62).suppressSuggestions}var $g=P2=class{constructor(t,e,i,o,r,s,a,l,c){this._editor=t,this._editorWorkerService=e,this._clipboardService=i,this._telemetryService=o,this._logService=r,this._contextKeyService=s,this._configurationService=a,this._languageFeaturesService=l,this._envService=c,this._toDispose=new G,this._triggerCharacterListener=new G,this._triggerQuickSuggest=new gl,this._triggerState=void 0,this._completionDisposables=new G,this._onDidCancel=new je,this._onDidTrigger=new je,this._onDidSuggest=new je,this.onDidCancel=this._onDidCancel.event,this.onDidTrigger=this._onDidTrigger.event,this.onDidSuggest=this._onDidSuggest.event,this._telemetryGate=0,this._currentSelection=this._editor.getSelection()||new Be(1,1,1,1),this._toDispose.add(this._editor.onDidChangeModel(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeModelLanguage(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeConfiguration(()=>{this._updateTriggerCharacters()})),this._toDispose.add(this._languageFeaturesService.completionProvider.onDidChange(()=>{this._updateTriggerCharacters(),this._updateActiveSuggestSession()}));let d=!1;this._toDispose.add(this._editor.onDidCompositionStart(()=>{d=!0})),this._toDispose.add(this._editor.onDidCompositionEnd(()=>{d=!1,this._onCompositionEnd()})),this._toDispose.add(this._editor.onDidChangeCursorSelection(u=>{d||this._onCursorChange(u)})),this._toDispose.add(this._editor.onDidChangeModelContent(()=>{!d&&this._triggerState!==void 0&&this._refilterCompletionItems()})),this._updateTriggerCharacters()}dispose(){dn(this._triggerCharacterListener),dn([this._onDidCancel,this._onDidSuggest,this._onDidTrigger,this._triggerQuickSuggest]),this._toDispose.dispose(),this._completionDisposables.dispose(),this.cancel()}_updateTriggerCharacters(){if(this._triggerCharacterListener.clear(),this._editor.getOption(92)||!this._editor.hasModel()||!this._editor.getOption(122))return;let t=new Map;for(let i of this._languageFeaturesService.completionProvider.all(this._editor.getModel()))for(let o of i.triggerCharacters||[]){let r=t.get(o);if(!r){r=new Set;let s=N7();s&&r.add(s),t.set(o,r)}r.add(i)}let e=i=>{if(!O0e(this._editor,this._contextKeyService,this._configurationService)||sd.shouldAutoTrigger(this._editor))return;if(!i){let s=this._editor.getPosition();i=this._editor.getModel().getLineContent(s.lineNumber).substr(0,s.column-1)}let o="";C4(i.charCodeAt(i.length-1))?x4(i.charCodeAt(i.length-2))&&(o=i.substr(i.length-2)):o=i.charAt(i.length-1);let r=t.get(o);if(r){let s=new Map;if(this._completionModel)for(let[a,l]of this._completionModel.getItemsByProvider())r.has(a)||s.set(a,l);this.trigger({auto:!0,triggerKind:1,triggerCharacter:o,retrigger:!!this._completionModel,clipboardText:this._completionModel?.clipboardText,completionOptions:{providerFilter:r,providerItemsToReuse:s}})}};this._triggerCharacterListener.add(this._editor.onDidType(e)),this._triggerCharacterListener.add(this._editor.onDidCompositionEnd(()=>e()))}get state(){return this._triggerState?this._triggerState.auto?2:1:0}cancel(t=!1){this._triggerState!==void 0&&(this._triggerQuickSuggest.cancel(),this._requestToken?.cancel(),this._requestToken=void 0,this._triggerState=void 0,this._completionModel=void 0,this._context=void 0,this._onDidCancel.fire({retrigger:t}))}clear(){this._completionDisposables.clear()}_updateActiveSuggestSession(){this._triggerState!==void 0&&(!this._editor.hasModel()||!this._languageFeaturesService.completionProvider.has(this._editor.getModel())?this.cancel():this.trigger({auto:this._triggerState.auto,retrigger:!0}))}_onCursorChange(t){if(!this._editor.hasModel())return;let e=this._currentSelection;if(this._currentSelection=this._editor.getSelection(),!t.selection.isEmpty()||t.reason!==0&&t.reason!==3||t.source!=="keyboard"&&t.source!=="deleteLeft"){this.cancel();return}this._triggerState===void 0&&t.reason===0?(e.containsRange(this._currentSelection)||e.getEndPosition().isBeforeOrEqual(this._currentSelection.getPosition()))&&this._doTriggerQuickSuggest():this._triggerState!==void 0&&t.reason===3&&this._refilterCompletionItems()}_onCompositionEnd(){this._triggerState===void 0?this._doTriggerQuickSuggest():this._refilterCompletionItems()}_doTriggerQuickSuggest(){Xl.isAllOff(this._editor.getOption(90))||this._editor.getOption(119).snippetsPreventQuickSuggestions&&ko.get(this._editor)?.isInSnippet()||(this.cancel(),this._triggerQuickSuggest.cancelAndSet(()=>{if(this._triggerState!==void 0||!sd.shouldAutoTrigger(this._editor)||!this._editor.hasModel()||!this._editor.hasWidgetFocus())return;let t=this._editor.getModel(),e=this._editor.getPosition(),i=this._editor.getOption(90);if(!Xl.isAllOff(i)){if(!Xl.isAllOn(i)){t.tokenization.tokenizeIfCheap(e.lineNumber);let o=t.tokenization.getLineTokens(e.lineNumber),r=o.getStandardTokenType(o.findTokenIndexAtOffset(Math.max(e.column-1-1,0)));if(Xl.valueFor(i,r)!=="on")return}R0e(this._editor,this._contextKeyService,this._configurationService)&&this._languageFeaturesService.completionProvider.has(t)&&this.trigger({auto:!0})}},this._editor.getOption(91)))}_refilterCompletionItems(){Tt(this._editor.hasModel()),Tt(this._triggerState!==void 0);let t=this._editor.getModel(),e=this._editor.getPosition(),i=new sd(t,e,Ae(j({},this._triggerState),{refilter:!0}));this._onNewContext(i)}trigger(t){if(!this._editor.hasModel())return;let e=this._editor.getModel(),i=new sd(e,this._editor.getPosition(),t);this.cancel(t.retrigger),this._triggerState=t,this._onDidTrigger.fire({auto:t.auto,shy:t.shy??!1,position:this._editor.getPosition()}),this._context=i;let o={triggerKind:t.triggerKind??0};t.triggerCharacter&&(o={triggerKind:1,triggerCharacter:t.triggerCharacter}),this._requestToken=new vi;let r=this._editor.getOption(113),s=1;switch(r){case"top":s=0;break;case"bottom":s=2;break}let{itemKind:a,showDeprecated:l}=P2.createSuggestFilter(this._editor),c=new Pm(s,t.completionOptions?.kindFilter??a,t.completionOptions?.providerFilter,t.completionOptions?.providerItemsToReuse,l),d=qg.create(this._editorWorkerService,this._editor),u=i0(this._languageFeaturesService.completionProvider,e,this._editor.getPosition(),c,o,this._requestToken.token);Promise.all([u,d]).then(f=>M(this,[f],function*([h,m]){if(this._requestToken?.dispose(),!this._editor.hasModel())return;let p=t?.clipboardText;if(!p&&h.needsClipboard&&(p=yield this._clipboardService.readText()),this._triggerState===void 0)return;let g=this._editor.getModel(),v=new sd(g,this._editor.getPosition(),t),b=Ae(j({},sC.default),{firstMatchCanBeWeak:!this._editor.getOption(119).matchOnWordStartOnly});if(this._completionModel=new Gg(h.items,this._context.column,{leadingLineContent:v.leadingLineContent,characterCountDelta:v.column-this._context.column},m,this._editor.getOption(119),this._editor.getOption(113),b,p),this._completionDisposables.add(h.disposable),this._onNewContext(v),this._reportDurationsTelemetry(h.durations),!this._envService.isBuilt||this._envService.isExtensionDevelopment)for(let C of h.items)C.isInvalid&&this._logService.warn(`[suggest] did IGNORE invalid completion item from ${C.provider._debugDisplayName}`,C.completion)})).catch(ht)}_reportDurationsTelemetry(t){this._telemetryGate++%230===0&&setTimeout(()=>{this._telemetryService.publicLog2("suggest.durations.json",{data:JSON.stringify(t)}),this._logService.debug("suggest.durations.json",t)})}static createSuggestFilter(t){let e=new Set;t.getOption(113)==="none"&&e.add(27);let o=t.getOption(119);return o.showMethods||e.add(0),o.showFunctions||e.add(1),o.showConstructors||e.add(2),o.showFields||e.add(3),o.showVariables||e.add(4),o.showClasses||e.add(5),o.showStructs||e.add(6),o.showInterfaces||e.add(7),o.showModules||e.add(8),o.showProperties||e.add(9),o.showEvents||e.add(10),o.showOperators||e.add(11),o.showUnits||e.add(12),o.showValues||e.add(13),o.showConstants||e.add(14),o.showEnums||e.add(15),o.showEnumMembers||e.add(16),o.showKeywords||e.add(17),o.showWords||e.add(18),o.showColors||e.add(19),o.showFiles||e.add(20),o.showReferences||e.add(21),o.showColors||e.add(22),o.showFolders||e.add(23),o.showTypeParameters||e.add(24),o.showSnippets||e.add(27),o.showUsers||e.add(25),o.showIssues||e.add(26),{itemKind:e,showDeprecated:o.showDeprecated}}_onNewContext(t){if(this._context){if(t.lineNumber!==this._context.lineNumber){this.cancel();return}if(hn(t.leadingLineContent)!==hn(this._context.leadingLineContent)){this.cancel();return}if(t.column<this._context.column){t.leadingWord.word?this.trigger({auto:this._context.triggerOptions.auto,retrigger:!0}):this.cancel();return}if(this._completionModel){if(t.leadingWord.word.length!==0&&t.leadingWord.startColumn>this._context.leadingWord.startColumn){if(sd.shouldAutoTrigger(this._editor)&&this._context){let i=this._completionModel.getItemsByProvider();this.trigger({auto:this._context.triggerOptions.auto,retrigger:!0,clipboardText:this._completionModel.clipboardText,completionOptions:{providerItemsToReuse:i}})}return}if(t.column>this._context.column&&this._completionModel.getIncompleteProvider().size>0&&t.leadingWord.word.length!==0){let e=new Map,i=new Set;for(let[o,r]of this._completionModel.getItemsByProvider())r.length>0&&r[0].container.incomplete?i.add(o):e.set(o,r);this.trigger({auto:this._context.triggerOptions.auto,triggerKind:2,retrigger:!0,clipboardText:this._completionModel.clipboardText,completionOptions:{providerFilter:i,providerItemsToReuse:e}})}else{let e=this._completionModel.lineContext,i=!1;if(this._completionModel.lineContext={leadingLineContent:t.leadingLineContent,characterCountDelta:t.column-this._context.column},this._completionModel.items.length===0){let o=sd.shouldAutoTrigger(this._editor);if(!this._context){this.cancel();return}if(o&&this._context.leadingWord.endColumn<t.leadingWord.startColumn){this.trigger({auto:this._context.triggerOptions.auto,retrigger:!0});return}if(this._context.triggerOptions.auto){this.cancel();return}else if(this._completionModel.lineContext=e,i=this._completionModel.items.length>0,i&&t.leadingWord.word.length===0){this.cancel();return}}this._onDidSuggest.fire({completionModel:this._completionModel,triggerOptions:t.triggerOptions,isFrozen:i})}}}}};$g=P2=A0e([Lu(1,wr),Lu(2,Va),Lu(3,Un),Lu(4,ws),Lu(5,Ze),Lu(6,vt),Lu(7,ce),Lu(8,u5)],$g);ue();var W7=(()=>{class n{static{this._maxSelectionLength=51200}constructor(e,i){this._disposables=new G,this._lastOvertyped=[],this._locked=!1,this._disposables.add(e.onWillType(()=>{if(this._locked||!e.hasModel())return;let o=e.getSelections(),r=o.length,s=!1;for(let l=0;l<r;l++)if(!o[l].isEmpty()){s=!0;break}if(!s){this._lastOvertyped.length!==0&&(this._lastOvertyped.length=0);return}this._lastOvertyped=[];let a=e.getModel();for(let l=0;l<r;l++){let c=o[l];if(a.getValueLengthInRange(c)>n._maxSelectionLength)return;this._lastOvertyped[l]={value:a.getValueInRange(c),multiline:c.startLineNumber!==c.endLineNumber}}})),this._disposables.add(i.onDidTrigger(o=>{this._locked=!0})),this._disposables.add(i.onDidCancel(o=>{this._locked=!1}))}getLastOvertypedInfo(e){if(e>=0&&e<this._lastOvertyped.length)return this._lastOvertyped[e]}dispose(){this._disposables.dispose()}}return n})();_t();Ht();Bt();oi();ue();Cue();zi();_t();ue();$i();pt();Ot();var P0e=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},L2=function(n,t){return function(e,i){t(e,i,n)}},_1=class{constructor(t,e,i,o,r){this._menuId=e,this._menuService=o,this._contextKeyService=r,this._menuDisposables=new G,this.element=Ce(t,ye(".suggest-status-bar"));let s=a=>a instanceof yl?i.createInstance(HU,a,{useComma:!0}):void 0;this._leftActions=new Nc(this.element,{actionViewItemProvider:s}),this._rightActions=new Nc(this.element,{actionViewItemProvider:s}),this._leftActions.domNode.classList.add("left"),this._rightActions.domNode.classList.add("right")}dispose(){this._menuDisposables.dispose(),this._leftActions.dispose(),this._rightActions.dispose(),this.element.remove()}show(){let t=this._menuService.createMenu(this._menuId,this._contextKeyService),e=()=>{let i=[],o=[];for(let[r,s]of t.getActions())r==="left"?i.push(...s):o.push(...s);this._leftActions.clear(),this._leftActions.push(i),this._rightActions.clear(),this._rightActions.push(o)};this._menuDisposables.add(t.onDidChange(()=>e())),this._menuDisposables.add(t)}hide(){this._menuDisposables.clear()}};_1=P0e([L2(2,Me),L2(3,Ys),L2(4,Ze)],_1);Re();pt();Ot();Po();Ux();Oo();_t();Wn();nr();oi();Js();ue();Re();Ot();var L0e=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},N0e=function(n,t){return function(e,i){t(e,i,n)}};function g0(n){return!!n&&!!(n.completion.documentation||n.completion.detail&&n.completion.detail!==n.completion.label)}var v1=class{constructor(t,e){this._editor=t,this._onDidClose=new je,this.onDidClose=this._onDidClose.event,this._onDidChangeContents=new je,this.onDidChangeContents=this._onDidChangeContents.event,this._disposables=new G,this._renderDisposeable=new G,this._borderWidth=1,this._size=new li(330,0),this.domNode=ye(".suggest-details"),this.domNode.classList.add("no-docs"),this._markdownRenderer=e.createInstance(ea,{editor:t}),this._body=ye(".body"),this._scrollbar=new iC(this._body,{alwaysConsumeMouseWheel:!0}),Ce(this.domNode,this._scrollbar.getDomNode()),this._disposables.add(this._scrollbar),this._header=Ce(this._body,ye(".header")),this._close=Ce(this._header,ye("span"+Dt.asCSSSelector(Ge.close))),this._close.title=_("details.close","Close"),this._type=Ce(this._header,ye("p.type")),this._docs=Ce(this._body,ye("p.docs")),this._configureFont(),this._disposables.add(this._editor.onDidChangeConfiguration(i=>{i.hasChanged(50)&&this._configureFont()}))}dispose(){this._disposables.dispose(),this._renderDisposeable.dispose()}_configureFont(){let t=this._editor.getOptions(),e=t.get(50),i=e.getMassagedFontFamily(),o=t.get(120)||e.fontSize,r=t.get(121)||e.lineHeight,s=e.fontWeight,a=`${o}px`,l=`${r}px`;this.domNode.style.fontSize=a,this.domNode.style.lineHeight=`${r/o}`,this.domNode.style.fontWeight=s,this.domNode.style.fontFeatureSettings=e.fontFeatureSettings,this._type.style.fontFamily=i,this._close.style.height=l,this._close.style.width=l}getLayoutInfo(){let t=this._editor.getOption(121)||this._editor.getOption(50).lineHeight,e=this._borderWidth,i=e*2;return{lineHeight:t,borderWidth:e,borderHeight:i,verticalPadding:22,horizontalPadding:14}}renderLoading(){this._type.textContent=_("loading","Loading..."),this._docs.textContent="",this.domNode.classList.remove("no-docs","no-type"),this.layout(this.size.width,this.getLayoutInfo().lineHeight*2),this._onDidChangeContents.fire(this)}renderItem(t,e){this._renderDisposeable.clear();let{detail:i,documentation:o}=t.completion;if(e){let r="";r+=`score: ${t.score[0]}
`,r+=`prefix: ${t.word??"(no prefix)"}
`,r+=`word: ${t.completion.filterText?t.completion.filterText+" (filterText)":t.textLabel}
`,r+=`distance: ${t.distance} (localityBonus-setting)
`,r+=`index: ${t.idx}, based on ${t.completion.sortText&&`sortText: "${t.completion.sortText}"`||"label"}
`,r+=`commit_chars: ${t.completion.commitCharacters?.join("")}
`,o=new mn().appendCodeblock("empty",r),i=`Provider: ${t.provider._debugDisplayName}`}if(!e&&!g0(t)){this.clearContents();return}if(this.domNode.classList.remove("no-docs","no-type"),i){let r=i.length>1e5?`${i.substr(0,1e5)}\u2026`:i;this._type.textContent=r,this._type.title=r,ir(this._type),this._type.classList.toggle("auto-wrap",!/\r?\n^\s+/gmi.test(r))}else Rr(this._type),this._type.title="",Ro(this._type),this.domNode.classList.add("no-type");if(Rr(this._docs),typeof o=="string")this._docs.classList.remove("markdown-docs"),this._docs.textContent=o;else if(o){this._docs.classList.add("markdown-docs"),Rr(this._docs);let r=this._markdownRenderer.render(o);this._docs.appendChild(r.element),this._renderDisposeable.add(r),this._renderDisposeable.add(this._markdownRenderer.onDidRenderAsync(()=>{this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}))}this.domNode.style.userSelect="text",this.domNode.tabIndex=-1,this._close.onmousedown=r=>{r.preventDefault(),r.stopPropagation()},this._close.onclick=r=>{r.preventDefault(),r.stopPropagation(),this._onDidClose.fire()},this._body.scrollTop=0,this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}clearContents(){this.domNode.classList.add("no-docs"),this._type.textContent="",this._docs.textContent=""}get isEmpty(){return this.domNode.classList.contains("no-docs")}get size(){return this._size}layout(t,e){let i=new li(t,e);li.equals(i,this._size)||(this._size=i,F4(this.domNode,t,e)),this._scrollbar.scanDomNode()}scrollDown(t=8){this._body.scrollTop+=t}scrollUp(t=8){this._body.scrollTop-=t}scrollTop(){this._body.scrollTop=0}scrollBottom(){this._body.scrollTop=this._body.scrollHeight}pageDown(){this.scrollDown(80)}pageUp(){this.scrollUp(80)}set borderWidth(t){this._borderWidth=t}get borderWidth(){return this._borderWidth}};v1=L0e([N0e(1,Me)],v1);var b1=class{constructor(t,e){this.widget=t,this._editor=e,this.allowEditorOverflow=!0,this._disposables=new G,this._added=!1,this._preferAlignAtTop=!0,this._resizable=new Iu,this._resizable.domNode.classList.add("suggest-details-container"),this._resizable.domNode.appendChild(t.domNode),this._resizable.enableSashes(!1,!0,!0,!1);let i,o,r=0,s=0;this._disposables.add(this._resizable.onDidWillResize(()=>{i=this._topLeft,o=this._resizable.size})),this._disposables.add(this._resizable.onDidResize(a=>{if(i&&o){this.widget.layout(a.dimension.width,a.dimension.height);let l=!1;a.west&&(s=o.width-a.dimension.width,l=!0),a.north&&(r=o.height-a.dimension.height,l=!0),l&&this._applyTopLeft({top:i.top+r,left:i.left+s})}a.done&&(i=void 0,o=void 0,r=0,s=0,this._userSize=a.dimension)})),this._disposables.add(this.widget.onDidChangeContents(()=>{this._anchorBox&&this._placeAtAnchor(this._anchorBox,this._userSize??this.widget.size,this._preferAlignAtTop)}))}dispose(){this._resizable.dispose(),this._disposables.dispose(),this.hide()}getId(){return"suggest.details"}getDomNode(){return this._resizable.domNode}getPosition(){return this._topLeft?{preference:this._topLeft}:null}show(){this._added||(this._editor.addOverlayWidget(this),this._added=!0)}hide(t=!1){this._resizable.clearSashHoverState(),this._added&&(this._editor.removeOverlayWidget(this),this._added=!1,this._anchorBox=void 0,this._topLeft=void 0),t&&(this._userSize=void 0,this.widget.clearContents())}placeAtAnchor(t,e){let i=t.getBoundingClientRect();this._anchorBox=i,this._preferAlignAtTop=e,this._placeAtAnchor(this._anchorBox,this._userSize??this.widget.size,e)}_placeAtAnchor(t,e,i){let o=_l(this.getDomNode().ownerDocument.body),r=this.widget.getLayoutInfo(),s=new li(220,2*r.lineHeight),a=t.top,l=function(){let E=o.width-(t.left+t.width+r.borderWidth+r.horizontalPadding),F=-r.borderWidth+t.left+t.width,L=new li(E,o.height-t.top-r.borderHeight-r.verticalPadding),H=L.with(void 0,t.top+t.height-r.borderHeight-r.verticalPadding);return{top:a,left:F,fit:E-e.width,maxSizeTop:L,maxSizeBottom:H,minSize:s.with(Math.min(E,s.width))}}(),c=function(){let E=t.left-r.borderWidth-r.horizontalPadding,F=Math.max(r.horizontalPadding,t.left-e.width-r.borderWidth),L=new li(E,o.height-t.top-r.borderHeight-r.verticalPadding),H=L.with(void 0,t.top+t.height-r.borderHeight-r.verticalPadding);return{top:a,left:F,fit:E-e.width,maxSizeTop:L,maxSizeBottom:H,minSize:s.with(Math.min(E,s.width))}}(),d=function(){let E=t.left,F=-r.borderWidth+t.top+t.height,L=new li(t.width-r.borderHeight,o.height-t.top-t.height-r.verticalPadding);return{top:F,left:E,fit:L.height-e.height,maxSizeBottom:L,maxSizeTop:L,minSize:s.with(L.width)}}(),u=[l,c,d],h=u.find(E=>E.fit>=0)??u.sort((E,F)=>F.fit-E.fit)[0],m=t.top+t.height-r.borderHeight,f,p=e.height,g=Math.max(h.maxSizeTop.height,h.maxSizeBottom.height);p>g&&(p=g);let v;i?p<=h.maxSizeTop.height?(f=!0,v=h.maxSizeTop):(f=!1,v=h.maxSizeBottom):p<=h.maxSizeBottom.height?(f=!1,v=h.maxSizeBottom):(f=!0,v=h.maxSizeTop);let{top:b,left:C}=h;!f&&p>t.height&&(b=m-p);let k=this._editor.getDomNode();if(k){let E=k.getBoundingClientRect();b-=E.top,C-=E.left}this._applyTopLeft({left:C,top:b}),this._resizable.enableSashes(!f,h===l,f,h!==l),this._resizable.minSize=h.minSize,this._resizable.maxSize=v,this._resizable.layout(p,Math.min(v.width,e.width)),this.widget.layout(this._resizable.size.width,this._resizable.size.height)}_applyTopLeft(t){this._topLeft=t,this._editor.layoutOverlayWidget(this)}};_t();Wn();nr();oi();Rc();ue();Ln();vn();Ih();Zr();Ln();Vx();var el=function(n){return n[n.FILE=0]="FILE",n[n.FOLDER=1]="FOLDER",n[n.ROOT_FOLDER=2]="ROOT_FOLDER",n}(el||{});nr();var F0e=/(?:\/|^)(?:([^\/]+)\/)?([^\/]+)$/;function _0(n,t,e,i,o){if(Dt.isThemeIcon(o))return[`codicon-${o.id}`,"predefined-file-icon"];if(mt.isUri(o))return[];let r=i===el.ROOT_FOLDER?["rootfolder-icon"]:i===el.FOLDER?["folder-icon"]:["file-icon"];if(e){let s;if(e.scheme===Fn.data)s=Ev.parseMetaData(e).get(Ev.META_DATA_LABEL);else{let a=e.path.match(F0e);a?(s=y1(a[2].toLowerCase()),a[1]&&r.push(`${y1(a[1].toLowerCase())}-name-dir-icon`)):s=y1(e.authority.toLowerCase())}if(i===el.ROOT_FOLDER)r.push(`${s}-root-name-folder-icon`);else if(i===el.FOLDER)r.push(`${s}-name-folder-icon`);else{if(s){if(r.push(`${s}-name-file-icon`),r.push("name-file-icon"),s.length<=255){let l=s.split(".");for(let c=1;c<l.length;c++)r.push(`${l.slice(c).join(".")}-ext-file-icon`)}r.push("ext-file-icon")}let a=z0e(n,t,e);a&&r.push(`${y1(a)}-lang-file-icon`)}}return r}function z0e(n,t,e){if(!e)return null;let i=null;if(e.scheme===Fn.data){let r=Ev.parseMetaData(e).get(Ev.META_DATA_MIME);r&&(i=t.getLanguageIdByMimeType(r))}else{let o=n.getModel(e);o&&(i=o.getLanguageId())}return i&&i!==Dc?i:t.guessLanguageIdByFilepathOrFirstLine(e)}function y1(n){return n.replace(/[\s]/g,"/")}bs();Pa();Re();Oo();var B0e=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},N2=function(n,t){return function(e,i){t(e,i,n)}};function z2(n){return`suggest-aria-id:${n}`}var H0e=Ii("suggest-more-info",Ge.chevronRight,_("suggestMoreInfoIcon","Icon for more information in the suggest widget.")),V0e=new class v0{static{this._regexRelaxed=/(#([\da-fA-F]{3}){1,2}|(rgb|hsl)a\(\s*(\d{1,3}%?\s*,\s*){3}(1|0?\.\d+)\)|(rgb|hsl)\(\s*\d{1,3}%?(\s*,\s*\d{1,3}%?){2}\s*\))/}static{this._regexStrict=new RegExp(`^${v0._regexRelaxed.source}$`,"i")}extract(t,e){if(t.textLabel.match(v0._regexStrict))return e[0]=t.textLabel,!0;if(t.completion.detail&&t.completion.detail.match(v0._regexStrict))return e[0]=t.completion.detail,!0;if(t.completion.documentation){let i=typeof t.completion.documentation=="string"?t.completion.documentation:t.completion.documentation.value,o=v0._regexRelaxed.exec(i);if(o&&(o.index===0||o.index+o[0].length===i.length))return e[0]=o[0],!0}return!1}},w1=class{constructor(t,e,i,o){this._editor=t,this._modelService=e,this._languageService=i,this._themeService=o,this._onDidToggleDetails=new je,this.onDidToggleDetails=this._onDidToggleDetails.event,this.templateId="suggestion"}dispose(){this._onDidToggleDetails.dispose()}renderTemplate(t){let e=new G,i=t;i.classList.add("show-file-icons");let o=Ce(t,ye(".icon")),r=Ce(o,ye("span.colorspan")),s=Ce(t,ye(".contents")),a=Ce(s,ye(".main")),l=Ce(a,ye(".icon-label.codicon")),c=Ce(a,ye("span.left")),d=Ce(a,ye("span.right")),u=new CC(c,{supportHighlights:!0,supportIcons:!0});e.add(u);let h=Ce(c,ye("span.signature-label")),m=Ce(c,ye("span.qualifier-label")),f=Ce(d,ye("span.details-label")),p=Ce(d,ye("span.readMore"+Dt.asCSSSelector(H0e)));return p.title=_("readMore","Read More"),{root:i,left:c,right:d,icon:o,colorspan:r,iconLabel:u,iconContainer:l,parametersLabel:h,qualifierLabel:m,detailsLabel:f,readMore:p,disposables:e,configureFont:()=>{let v=this._editor.getOptions(),b=v.get(50),C=b.getMassagedFontFamily(),k=b.fontFeatureSettings,E=v.get(120)||b.fontSize,F=v.get(121)||b.lineHeight,L=b.fontWeight,H=b.letterSpacing,re=`${E}px`,R=`${F}px`,W=`${H}px`;i.style.fontSize=re,i.style.fontWeight=L,i.style.letterSpacing=W,a.style.fontFamily=C,a.style.fontFeatureSettings=k,a.style.lineHeight=R,o.style.height=R,o.style.width=R,p.style.height=R,p.style.width=R}}}renderElement(t,e,i){i.configureFont();let{completion:o}=t;i.root.id=z2(e),i.colorspan.style.backgroundColor="";let r={labelEscapeNewLines:!0,matches:Ph(t.score)},s=[];if(o.kind===19&&V0e.extract(t,s))i.icon.className="icon customcolor",i.iconContainer.className="icon hide",i.colorspan.style.backgroundColor=s[0];else if(o.kind===20&&this._themeService.getFileIconTheme().hasFileIcons){i.icon.className="icon hide",i.iconContainer.className="icon hide";let a=_0(this._modelService,this._languageService,mt.from({scheme:"fake",path:t.textLabel}),el.FILE),l=_0(this._modelService,this._languageService,mt.from({scheme:"fake",path:o.detail}),el.FILE);r.extraClasses=a.length>l.length?a:l}else o.kind===23&&this._themeService.getFileIconTheme().hasFolderIcons?(i.icon.className="icon hide",i.iconContainer.className="icon hide",r.extraClasses=[_0(this._modelService,this._languageService,mt.from({scheme:"fake",path:t.textLabel}),el.FOLDER),_0(this._modelService,this._languageService,mt.from({scheme:"fake",path:o.detail}),el.FOLDER)].flat()):(i.icon.className="icon hide",i.iconContainer.className="",i.iconContainer.classList.add("suggest-icon",...Dt.asClassNameArray(mv.toIcon(o.kind))));o.tags&&o.tags.indexOf(1)>=0&&(r.extraClasses=(r.extraClasses||[]).concat(["deprecated"]),r.matches=[]),i.iconLabel.setLabel(t.textLabel,void 0,r),typeof o.label=="string"?(i.parametersLabel.textContent="",i.detailsLabel.textContent=F2(o.detail||""),i.root.classList.add("string-label")):(i.parametersLabel.textContent=F2(o.label.detail||""),i.detailsLabel.textContent=F2(o.label.description||""),i.root.classList.remove("string-label")),this._editor.getOption(119).showInlineDetails?ir(i.detailsLabel):Ro(i.detailsLabel),g0(t)?(i.right.classList.add("can-expand-details"),ir(i.readMore),i.readMore.onmousedown=a=>{a.stopPropagation(),a.preventDefault()},i.readMore.onclick=a=>{a.stopPropagation(),a.preventDefault(),this._onDidToggleDetails.fire()}):(i.right.classList.remove("can-expand-details"),Ro(i.readMore),i.readMore.onmousedown=null,i.readMore.onclick=null)}disposeTemplate(t){t.disposables.dispose()}};w1=B0e([N2(1,Ui),N2(2,qn),N2(3,Gn)],w1);function F2(n){return n.replace(/\r\n|\r|\n/g,"")}var W0e=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},x1=function(n,t){return function(e,i){t(e,i,n)}},Kg;Pe("editorSuggestWidget.background",$x,_("editorSuggestWidgetBackground","Background color of the suggest widget."));Pe("editorSuggestWidget.border",_5,_("editorSuggestWidgetBorder","Border color of the suggest widget."));var j0e=Pe("editorSuggestWidget.foreground",Oh,_("editorSuggestWidgetForeground","Foreground color of the suggest widget."));Pe("editorSuggestWidget.selectedForeground",Jx,_("editorSuggestWidgetSelectedForeground","Foreground color of the selected entry in the suggest widget."));Pe("editorSuggestWidget.selectedIconForeground",V5,_("editorSuggestWidgetSelectedIconForeground","Icon foreground color of the selected entry in the suggest widget."));var U0e=Pe("editorSuggestWidget.selectedBackground",eC,_("editorSuggestWidgetSelectedBackground","Background color of the selected entry in the suggest widget."));Pe("editorSuggestWidget.highlightForeground",Qx,_("editorSuggestWidgetHighlightForeground","Color of the match highlights in the suggest widget."));Pe("editorSuggestWidget.focusHighlightForeground",H5,_("editorSuggestWidgetFocusHighlightForeground","Color of the match highlights in the suggest widget when an item is focused."));Pe("editorSuggestWidgetStatus.foreground",xs(j0e,.5),_("editorSuggestWidgetStatusForeground","Foreground color of the suggest widget status."));var B2=class{constructor(t,e){this._service=t,this._key=`suggestWidget.size/${e.getEditorType()}/${e instanceof Io}`}restore(){let t=this._service.get(this._key,0)??"";try{let e=JSON.parse(t);if(li.is(e))return li.lift(e)}catch{}}store(t){this._service.store(this._key,JSON.stringify(t),0,1)}reset(){this._service.remove(this._key,0)}},C1=class{static{Kg=this}static{this.LOADING_MESSAGE=_("suggestWidget.loading","Loading...")}static{this.NO_SUGGESTIONS_MESSAGE=_("suggestWidget.noSuggestions","No suggestions.")}constructor(t,e,i,o,r){this.editor=t,this._storageService=e,this._state=0,this._isAuto=!1,this._pendingLayout=new un,this._pendingShowDetails=new un,this._ignoreFocusEvents=!1,this._forceRenderingAbove=!1,this._explainMode=!1,this._showTimeout=new gl,this._disposables=new G,this._onDidSelect=new cR,this._onDidFocus=new cR,this._onDidHide=new je,this._onDidShow=new je,this.onDidSelect=this._onDidSelect.event,this.onDidFocus=this._onDidFocus.event,this.onDidHide=this._onDidHide.event,this.onDidShow=this._onDidShow.event,this._onDetailsKeydown=new je,this.onDetailsKeyDown=this._onDetailsKeydown.event,this.element=new Iu,this.element.domNode.classList.add("editor-widget","suggest-widget"),this._contentWidget=new H2(this,t),this._persistedSize=new B2(e,t);class s{constructor(m,f,p=!1,g=!1){this.persistedSize=m,this.currentSize=f,this.persistHeight=p,this.persistWidth=g}}let a;this._disposables.add(this.element.onDidWillResize(()=>{this._contentWidget.lockPreference(),a=new s(this._persistedSize.restore(),this.element.size)})),this._disposables.add(this.element.onDidResize(h=>{if(this._resize(h.dimension.width,h.dimension.height),a&&(a.persistHeight=a.persistHeight||!!h.north||!!h.south,a.persistWidth=a.persistWidth||!!h.east||!!h.west),!!h.done){if(a){let{itemHeight:m,defaultSize:f}=this.getLayoutInfo(),p=Math.round(m/2),{width:g,height:v}=this.element.size;(!a.persistHeight||Math.abs(a.currentSize.height-v)<=p)&&(v=a.persistedSize?.height??f.height),(!a.persistWidth||Math.abs(a.currentSize.width-g)<=p)&&(g=a.persistedSize?.width??f.width),this._persistedSize.store(new li(g,v))}this._contentWidget.unlockPreference(),a=void 0}})),this._messageElement=Ce(this.element.domNode,ye(".message")),this._listElement=Ce(this.element.domNode,ye(".tree"));let l=this._disposables.add(r.createInstance(v1,this.editor));l.onDidClose(this.toggleDetails,this,this._disposables),this._details=new b1(l,this.editor);let c=()=>this.element.domNode.classList.toggle("no-icons",!this.editor.getOption(119).showIcons);c();let d=r.createInstance(w1,this.editor);this._disposables.add(d),this._disposables.add(d.onDidToggleDetails(()=>this.toggleDetails())),this._list=new Vp("SuggestWidget",this._listElement,{getHeight:h=>this.getLayoutInfo().itemHeight,getTemplateId:h=>"suggestion"},[d],{alwaysConsumeMouseWheel:!0,useShadows:!1,mouseSupport:!1,multipleSelectionSupport:!1,accessibilityProvider:{getRole:()=>"option",getWidgetAriaLabel:()=>_("suggest","Suggest"),getWidgetRole:()=>"listbox",getAriaLabel:h=>{let m=h.textLabel;if(typeof h.completion.label!="string"){let{detail:v,description:b}=h.completion.label;v&&b?m=_("label.full","{0} {1}, {2}",m,v,b):v?m=_("label.detail","{0} {1}",m,v):b&&(m=_("label.desc","{0}, {1}",m,b))}if(!h.isResolved||!this._isDetailsVisible())return m;let{documentation:f,detail:p}=h.completion,g=Ep("{0}{1}",p||"",f?typeof f=="string"?f:f.value:"");return _("ariaCurrenttSuggestionReadDetails","{0}, docs: {1}",m,g)}}}),this._list.style(vC({listInactiveFocusBackground:U0e,listInactiveFocusOutline:Sl})),this._status=r.createInstance(_1,this.element.domNode,Zl);let u=()=>this.element.domNode.classList.toggle("with-status-bar",this.editor.getOption(119).showStatusBar);u(),this._disposables.add(o.onDidColorThemeChange(h=>this._onThemeChange(h))),this._onThemeChange(o.getColorTheme()),this._disposables.add(this._list.onMouseDown(h=>this._onListMouseDownOrTap(h))),this._disposables.add(this._list.onTap(h=>this._onListMouseDownOrTap(h))),this._disposables.add(this._list.onDidChangeSelection(h=>this._onListSelection(h))),this._disposables.add(this._list.onDidChangeFocus(h=>this._onListFocus(h))),this._disposables.add(this.editor.onDidChangeCursorSelection(()=>this._onCursorSelectionChanged())),this._disposables.add(this.editor.onDidChangeConfiguration(h=>{h.hasChanged(119)&&(u(),c()),this._completionModel&&(h.hasChanged(50)||h.hasChanged(120)||h.hasChanged(121))&&this._list.splice(0,this._list.length,this._completionModel.items)})),this._ctxSuggestWidgetVisible=ct.Visible.bindTo(i),this._ctxSuggestWidgetDetailsVisible=ct.DetailsVisible.bindTo(i),this._ctxSuggestWidgetMultipleSuggestions=ct.MultipleSuggestions.bindTo(i),this._ctxSuggestWidgetHasFocusedSuggestion=ct.HasFocusedSuggestion.bindTo(i),this._disposables.add(vr(this._details.widget.domNode,"keydown",h=>{this._onDetailsKeydown.fire(h)})),this._disposables.add(this.editor.onMouseDown(h=>this._onEditorMouseDown(h)))}dispose(){this._details.widget.dispose(),this._details.dispose(),this._list.dispose(),this._status.dispose(),this._disposables.dispose(),this._loadingTimeout?.dispose(),this._pendingLayout.dispose(),this._pendingShowDetails.dispose(),this._showTimeout.dispose(),this._contentWidget.dispose(),this.element.dispose()}_onEditorMouseDown(t){this._details.widget.domNode.contains(t.target.element)?this._details.widget.domNode.focus():this.element.domNode.contains(t.target.element)&&this.editor.focus()}_onCursorSelectionChanged(){this._state!==0&&this._contentWidget.layout()}_onListMouseDownOrTap(t){typeof t.element>"u"||typeof t.index>"u"||(t.browserEvent.preventDefault(),t.browserEvent.stopPropagation(),this._select(t.element,t.index))}_onListSelection(t){t.elements.length&&this._select(t.elements[0],t.indexes[0])}_select(t,e){let i=this._completionModel;i&&(this._onDidSelect.fire({item:t,index:e,model:i}),this.editor.focus())}_onThemeChange(t){this._details.widget.borderWidth=Mc(t.type)?2:1}_onListFocus(t){if(this._ignoreFocusEvents)return;if(!t.elements.length){this._currentSuggestionDetails&&(this._currentSuggestionDetails.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=void 0),this.editor.setAriaOptions({activeDescendant:void 0}),this._ctxSuggestWidgetHasFocusedSuggestion.set(!1);return}if(!this._completionModel)return;this._ctxSuggestWidgetHasFocusedSuggestion.set(!0);let e=t.elements[0],i=t.indexes[0];e!==this._focusedItem&&(this._currentSuggestionDetails?.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=e,this._list.reveal(i),this._currentSuggestionDetails=Ci(o=>M(this,null,function*(){let r=wc(()=>{this._isDetailsVisible()&&this.showDetails(!0)},250),s=o.onCancellationRequested(()=>r.dispose());try{return yield e.resolve(o)}finally{r.dispose(),s.dispose()}})),this._currentSuggestionDetails.then(()=>{i>=this._list.length||e!==this._list.element(i)||(this._ignoreFocusEvents=!0,this._list.splice(i,1,[e]),this._list.setFocus([i]),this._ignoreFocusEvents=!1,this._isDetailsVisible()?this.showDetails(!1):this.element.domNode.classList.remove("docs-side"),this.editor.setAriaOptions({activeDescendant:z2(i)}))}).catch(ht)),this._onDidFocus.fire({item:e,index:i,model:this._completionModel})}_setState(t){if(this._state!==t)switch(this._state=t,this.element.domNode.classList.toggle("frozen",t===4),this.element.domNode.classList.remove("message"),t){case 0:Ro(this._messageElement,this._listElement,this._status.element),this._details.hide(!0),this._status.hide(),this._contentWidget.hide(),this._ctxSuggestWidgetVisible.reset(),this._ctxSuggestWidgetMultipleSuggestions.reset(),this._ctxSuggestWidgetHasFocusedSuggestion.reset(),this._showTimeout.cancel(),this.element.domNode.classList.remove("visible"),this._list.splice(0,this._list.length),this._focusedItem=void 0,this._cappedHeight=void 0,this._explainMode=!1;break;case 1:this.element.domNode.classList.add("message"),this._messageElement.textContent=Kg.LOADING_MESSAGE,Ro(this._listElement,this._status.element),ir(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0,za(Kg.LOADING_MESSAGE);break;case 2:this.element.domNode.classList.add("message"),this._messageElement.textContent=Kg.NO_SUGGESTIONS_MESSAGE,Ro(this._listElement,this._status.element),ir(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0,za(Kg.NO_SUGGESTIONS_MESSAGE);break;case 3:Ro(this._messageElement),ir(this._listElement,this._status.element),this._show();break;case 4:Ro(this._messageElement),ir(this._listElement,this._status.element),this._show();break;case 5:Ro(this._messageElement),ir(this._listElement,this._status.element),this._details.show(),this._show();break}}_show(){this._status.show(),this._contentWidget.show(),this._layout(this._persistedSize.restore()),this._ctxSuggestWidgetVisible.set(!0),this._showTimeout.cancelAndSet(()=>{this.element.domNode.classList.add("visible"),this._onDidShow.fire(this)},100)}showTriggered(t,e){this._state===0&&(this._contentWidget.setPosition(this.editor.getPosition()),this._isAuto=!!t,this._isAuto||(this._loadingTimeout=wc(()=>this._setState(1),e)))}showSuggestions(t,e,i,o,r){if(this._contentWidget.setPosition(this.editor.getPosition()),this._loadingTimeout?.dispose(),this._currentSuggestionDetails?.cancel(),this._currentSuggestionDetails=void 0,this._completionModel!==t&&(this._completionModel=t),i&&this._state!==2&&this._state!==0){this._setState(4);return}let s=this._completionModel.items.length,a=s===0;if(this._ctxSuggestWidgetMultipleSuggestions.set(s>1),a){this._setState(o?0:2),this._completionModel=void 0;return}this._focusedItem=void 0,this._onDidFocus.pause(),this._onDidSelect.pause();try{this._list.splice(0,this._list.length,this._completionModel.items),this._setState(i?4:3),this._list.reveal(e,0),this._list.setFocus(r?[]:[e])}finally{this._onDidFocus.resume(),this._onDidSelect.resume()}this._pendingLayout.value=vR(Aa(this.element.domNode),()=>{this._pendingLayout.clear(),this._layout(this.element.size),this._details.widget.domNode.classList.remove("focused")})}focusSelected(){this._list.length>0&&this._list.setFocus([0])}selectNextPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageDown(),!0;case 1:return!this._isAuto;default:return this._list.focusNextPage(),!0}}selectNext(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusNext(1,!0),!0}}selectLast(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollBottom(),!0;case 1:return!this._isAuto;default:return this._list.focusLast(),!0}}selectPreviousPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageUp(),!0;case 1:return!this._isAuto;default:return this._list.focusPreviousPage(),!0}}selectPrevious(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusPrevious(1,!0),!1}}selectFirst(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollTop(),!0;case 1:return!this._isAuto;default:return this._list.focusFirst(),!0}}getFocusedItem(){if(this._state!==0&&this._state!==2&&this._state!==1&&this._completionModel&&this._list.getFocus().length>0)return{item:this._list.getFocusedElements()[0],index:this._list.getFocus()[0],model:this._completionModel}}toggleDetailsFocus(){this._state===5?(this._setState(3),this._details.widget.domNode.classList.remove("focused")):this._state===3&&this._isDetailsVisible()&&(this._setState(5),this._details.widget.domNode.classList.add("focused"))}toggleDetails(){this._isDetailsVisible()?(this._pendingShowDetails.clear(),this._ctxSuggestWidgetDetailsVisible.set(!1),this._setDetailsVisible(!1),this._details.hide(),this.element.domNode.classList.remove("shows-details")):(g0(this._list.getFocusedElements()[0])||this._explainMode)&&(this._state===3||this._state===5||this._state===4)&&(this._ctxSuggestWidgetDetailsVisible.set(!0),this._setDetailsVisible(!0),this.showDetails(!1))}showDetails(t){this._pendingShowDetails.value=vR(Aa(this.element.domNode),()=>{this._pendingShowDetails.clear(),this._details.show(),t?this._details.widget.renderLoading():this._details.widget.renderItem(this._list.getFocusedElements()[0],this._explainMode),this._details.widget.isEmpty?this._details.hide():(this._positionDetails(),this.element.domNode.classList.add("shows-details")),this.editor.focus()})}toggleExplainMode(){this._list.getFocusedElements()[0]&&(this._explainMode=!this._explainMode,this._isDetailsVisible()?this.showDetails(!1):this.toggleDetails())}resetPersistedSize(){this._persistedSize.reset()}hideWidget(){this._pendingLayout.clear(),this._pendingShowDetails.clear(),this._loadingTimeout?.dispose(),this._setState(0),this._onDidHide.fire(this),this.element.clearSashHoverState();let t=this._persistedSize.restore(),e=Math.ceil(this.getLayoutInfo().itemHeight*4.3);t&&t.height<e&&this._persistedSize.store(t.with(void 0,e))}isFrozen(){return this._state===4}_afterRender(t){if(t===null){this._isDetailsVisible()&&this._details.hide();return}this._state===2||this._state===1||(this._isDetailsVisible()&&!this._details.widget.isEmpty&&this._details.show(),this._positionDetails())}_layout(t){if(!this.editor.hasModel()||!this.editor.getDomNode())return;let e=_l(this.element.domNode.ownerDocument.body),i=this.getLayoutInfo();t||(t=i.defaultSize);let o=t.height,r=t.width;if(this._status.element.style.height=`${i.itemHeight}px`,this._state===2||this._state===1)o=i.itemHeight+i.borderHeight,r=i.defaultSize.width/2,this.element.enableSashes(!1,!1,!1,!1),this.element.minSize=this.element.maxSize=new li(r,o),this._contentWidget.setPreference(2);else{let s=e.width-i.borderHeight-2*i.horizontalPadding;r>s&&(r=s);let a=this._completionModel?this._completionModel.stats.pLabelLen*i.typicalHalfwidthCharacterWidth:r,l=i.statusBarHeight+this._list.contentHeight+i.borderHeight,c=i.itemHeight+i.statusBarHeight,d=Gi(this.editor.getDomNode()),u=this.editor.getScrolledVisiblePosition(this.editor.getPosition()),h=d.top+u.top+u.height,m=Math.min(e.height-h-i.verticalPadding,l),f=d.top+u.top-i.verticalPadding,p=Math.min(f,l),g=Math.min(Math.max(p,m)+i.borderHeight,l);o===this._cappedHeight?.capped&&(o=this._cappedHeight.wanted),o<c&&(o=c),o>g&&(o=g),o>m||this._forceRenderingAbove&&f>150?(this._contentWidget.setPreference(1),this.element.enableSashes(!0,!0,!1,!1),g=p):(this._contentWidget.setPreference(2),this.element.enableSashes(!1,!0,!0,!1),g=m),this.element.preferredSize=new li(a,i.defaultSize.height),this.element.maxSize=new li(s,g),this.element.minSize=new li(220,c),this._cappedHeight=o===l?{wanted:this._cappedHeight?.wanted??t.height,capped:o}:void 0}this._resize(r,o)}_resize(t,e){let{width:i,height:o}=this.element.maxSize;t=Math.min(i,t),e=Math.min(o,e);let{statusBarHeight:r}=this.getLayoutInfo();this._list.layout(e-r,t),this._listElement.style.height=`${e-r}px`,this.element.layout(e,t),this._contentWidget.layout(),this._positionDetails()}_positionDetails(){this._isDetailsVisible()&&this._details.placeAtAnchor(this.element.domNode,this._contentWidget.getPosition()?.preference[0]===2)}getLayoutInfo(){let t=this.editor.getOption(50),e=d5(this.editor.getOption(121)||t.lineHeight,8,1e3),i=!this.editor.getOption(119).showStatusBar||this._state===2||this._state===1?0:e,o=this._details.widget.borderWidth,r=2*o;return{itemHeight:e,statusBarHeight:i,borderWidth:o,borderHeight:r,typicalHalfwidthCharacterWidth:t.typicalHalfwidthCharacterWidth,verticalPadding:22,horizontalPadding:14,defaultSize:new li(430,i+12*e+r)}}_isDetailsVisible(){return this._storageService.getBoolean("expandSuggestionDocs",0,!1)}_setDetailsVisible(t){this._storageService.store("expandSuggestionDocs",t,0,0)}forceRenderingAbove(){this._forceRenderingAbove||(this._forceRenderingAbove=!0,this._layout(this._persistedSize.restore()))}stopForceRenderingAbove(){this._forceRenderingAbove=!1}};C1=Kg=W0e([x1(1,Fr),x1(2,Ze),x1(3,Gn),x1(4,Me)],C1);var H2=class{constructor(t,e){this._widget=t,this._editor=e,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._preferenceLocked=!1,this._added=!1,this._hidden=!1}dispose(){this._added&&(this._added=!1,this._editor.removeContentWidget(this))}getId(){return"editor.widget.suggestWidget"}getDomNode(){return this._widget.element.domNode}show(){this._hidden=!1,this._added||(this._added=!0,this._editor.addContentWidget(this))}hide(){this._hidden||(this._hidden=!0,this.layout())}layout(){this._editor.layoutContentWidget(this)}getPosition(){return this._hidden||!this._position||!this._preference?null:{position:this._position,preference:[this._preference]}}beforeRender(){let{height:t,width:e}=this._widget.element.size,{borderWidth:i,horizontalPadding:o}=this._widget.getLayoutInfo();return new li(e+2*i+o,t+2*i)}afterRender(t){this._widget._afterRender(t)}setPreference(t){this._preferenceLocked||(this._preference=t)}lockPreference(){this._preferenceLocked=!0}unlockPreference(){this._preferenceLocked=!1}setPosition(t){this._position=t}};Oa();Zr();R4();_t();wn();var q0e=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},Yg=function(n,t){return function(e,i){t(e,i,n)}},V2,G0e=!1,W2=class{constructor(t,e){if(this._model=t,this._position=e,this._decorationOptions=lt.register({description:"suggest-line-suffix",stickiness:1}),t.getLineMaxColumn(e.lineNumber)!==e.column){let o=t.getOffsetAt(e),r=t.getPositionAt(o+1);t.changeDecorations(s=>{this._marker&&s.removeDecoration(this._marker),this._marker=s.addDecoration(A.fromPositions(e,r),this._decorationOptions)})}}dispose(){this._marker&&!this._model.isDisposed()&&this._model.changeDecorations(t=>{t.removeDecoration(this._marker),this._marker=void 0})}delta(t){if(this._model.isDisposed()||this._position.lineNumber!==t.lineNumber)return 0;if(this._marker){let e=this._model.getDecorationRange(this._marker);return this._model.getOffsetAt(e.getStartPosition())-this._model.getOffsetAt(t)}else return this._model.getLineMaxColumn(t.lineNumber)-t.column}},ds=class{static{V2=this}static{this.ID="editor.contrib.suggestController"}static get(e){return e.getContribution(V2.ID)}constructor(e,i,o,r,s,a,l){this._memoryService=i,this._commandService=o,this._contextKeyService=r,this._instantiationService=s,this._logService=a,this._telemetryService=l,this._lineSuffix=new un,this._toDispose=new G,this._selectors=new j2(h=>h.priority),this._onWillInsertSuggestItem=new je,this.onWillInsertSuggestItem=this._onWillInsertSuggestItem.event,this.editor=e,this.model=s.createInstance($g,this.editor),this._selectors.register({priority:0,select:(h,m,f)=>this._memoryService.select(h,m,f)});let c=ct.InsertMode.bindTo(r);c.set(e.getOption(119).insertMode),this._toDispose.add(this.model.onDidTrigger(()=>c.set(e.getOption(119).insertMode))),this.widget=this._toDispose.add(new Px(Aa(e.getDomNode()),()=>{let h=this._instantiationService.createInstance(C1,this.editor);this._toDispose.add(h),this._toDispose.add(h.onDidSelect(v=>this._insertSuggestion(v,0),this));let m=new f1(this.editor,h,this.model,v=>this._insertSuggestion(v,2));this._toDispose.add(m);let f=ct.MakesTextEdit.bindTo(this._contextKeyService),p=ct.HasInsertAndReplaceRange.bindTo(this._contextKeyService),g=ct.CanResolve.bindTo(this._contextKeyService);return this._toDispose.add(kt(()=>{f.reset(),p.reset(),g.reset()})),this._toDispose.add(h.onDidFocus(({item:v})=>{let b=this.editor.getPosition(),C=v.editStart.column,k=b.column,E=!0;this.editor.getOption(1)==="smart"&&this.model.state===2&&!v.completion.additionalTextEdits&&!(v.completion.insertTextRules&4)&&k-C===v.completion.insertText.length&&(E=this.editor.getModel().getValueInRange({startLineNumber:b.lineNumber,startColumn:C,endLineNumber:b.lineNumber,endColumn:k})!==v.completion.insertText),f.set(E),p.set(!pe.equals(v.editInsertEnd,v.editReplaceEnd)),g.set(!!v.provider.resolveCompletionItem||!!v.completion.documentation||v.completion.detail!==v.completion.label)})),this._toDispose.add(h.onDetailsKeyDown(v=>{if(v.toKeyCodeChord().equals(new _R(!0,!1,!1,!1,33))||fr&&v.toKeyCodeChord().equals(new _R(!1,!1,!1,!0,33))){v.stopPropagation();return}v.toKeyCodeChord().isModifierKey()||this.editor.focus()})),h})),this._overtypingCapturer=this._toDispose.add(new Px(Aa(e.getDomNode()),()=>this._toDispose.add(new W7(this.editor,this.model)))),this._alternatives=this._toDispose.add(new Px(Aa(e.getDomNode()),()=>this._toDispose.add(new Lm(this.editor,this._contextKeyService)))),this._toDispose.add(s.createInstance(m0,e)),this._toDispose.add(this.model.onDidTrigger(h=>{this.widget.value.showTriggered(h.auto,h.shy?250:50),this._lineSuffix.value=new W2(this.editor.getModel(),h.position)})),this._toDispose.add(this.model.onDidSuggest(h=>{if(h.triggerOptions.shy)return;let m=-1;for(let p of this._selectors.itemsOrderedByPriorityDesc)if(m=p.select(this.editor.getModel(),this.editor.getPosition(),h.completionModel.items),m!==-1)break;if(m===-1&&(m=0),this.model.state===0)return;let f=!1;if(h.triggerOptions.auto){let p=this.editor.getOption(119);p.selectionMode==="never"||p.selectionMode==="always"?f=p.selectionMode==="never":p.selectionMode==="whenTriggerCharacter"?f=h.triggerOptions.triggerKind!==1:p.selectionMode==="whenQuickSuggestion"&&(f=h.triggerOptions.triggerKind===1&&!h.triggerOptions.refilter)}this.widget.value.showSuggestions(h.completionModel,m,h.isFrozen,h.triggerOptions.auto,f)})),this._toDispose.add(this.model.onDidCancel(h=>{h.retrigger||this.widget.value.hideWidget()})),this._toDispose.add(this.editor.onDidBlurEditorWidget(()=>{G0e||(this.model.cancel(),this.model.clear())}));let d=ct.AcceptSuggestionsOnEnter.bindTo(r),u=()=>{let h=this.editor.getOption(1);d.set(h==="on"||h==="smart")};this._toDispose.add(this.editor.onDidChangeConfiguration(()=>u())),u()}dispose(){this._alternatives.dispose(),this._toDispose.dispose(),this.widget.dispose(),this.model.dispose(),this._lineSuffix.dispose(),this._onWillInsertSuggestItem.dispose()}_insertSuggestion(e,i){if(!e||!e.item){this._alternatives.value.reset(),this.model.cancel(),this.model.clear();return}if(!this.editor.hasModel())return;let o=ko.get(this.editor);if(!o)return;this._onWillInsertSuggestItem.fire({item:e.item});let r=this.editor.getModel(),s=r.getAlternativeVersionId(),{item:a}=e,l=[],c=new vi;i&1||this.editor.pushUndoStop();let d=this.getOverwriteInfo(a,!!(i&8));this._memoryService.memorize(r,this.editor.getPosition(),a);let u=a.isResolved,h=-1,m=-1;if(Array.isArray(a.completion.additionalTextEdits)){this.model.cancel();let p=El.capture(this.editor);this.editor.executeEdits("suggestController.additionalTextEdits.sync",a.completion.additionalTextEdits.map(g=>{let v=A.lift(g.range);if(v.startLineNumber===a.position.lineNumber&&v.startColumn>a.position.column){let b=this.editor.getPosition().column-a.position.column,C=b,k=A.spansMultipleLines(v)?0:b;v=new A(v.startLineNumber,v.startColumn+C,v.endLineNumber,v.endColumn+k)}return mi.replaceMove(v,g.text)})),p.restoreRelativeVerticalPositionOfCursor(this.editor)}else if(!u){let p=new Xi,g,v=r.onDidChangeContent(E=>{if(E.isFlush){c.cancel(),v.dispose();return}for(let F of E.changes){let L=A.getEndPosition(F.range);(!g||pe.isBefore(L,g))&&(g=L)}}),b=i;i|=2;let C=!1,k=this.editor.onWillType(()=>{k.dispose(),C=!0,b&2||this.editor.pushUndoStop()});l.push(a.resolve(c.token).then(()=>{if(!a.completion.additionalTextEdits||c.token.isCancellationRequested)return;if(g&&a.completion.additionalTextEdits.some(F=>pe.isBefore(g,A.getStartPosition(F.range))))return!1;C&&this.editor.pushUndoStop();let E=El.capture(this.editor);return this.editor.executeEdits("suggestController.additionalTextEdits.async",a.completion.additionalTextEdits.map(F=>mi.replaceMove(A.lift(F.range),F.text))),E.restoreRelativeVerticalPositionOfCursor(this.editor),(C||!(b&2))&&this.editor.pushUndoStop(),!0}).then(E=>{this._logService.trace("[suggest] async resolving of edits DONE (ms, applied?)",p.elapsed(),E),m=E===!0?1:E===!1?0:-2}).finally(()=>{v.dispose(),k.dispose()}))}let{insertText:f}=a.completion;if(a.completion.insertTextRules&4||(f=Vr.escape(f)),this.model.cancel(),o.insert(f,{overwriteBefore:d.overwriteBefore,overwriteAfter:d.overwriteAfter,undoStopBefore:!1,undoStopAfter:!1,adjustWhitespace:!(a.completion.insertTextRules&1),clipboardText:e.model.clipboardText,overtypingCapturer:this._overtypingCapturer.value}),i&2||this.editor.pushUndoStop(),a.completion.command)if(a.completion.command.id===j7.id)this.model.trigger({auto:!0,retrigger:!0});else{let p=new Xi;l.push(this._commandService.executeCommand(a.completion.command.id,...a.completion.command.arguments?[...a.completion.command.arguments]:[]).catch(g=>{a.completion.extensionId?zt(g):ht(g)}).finally(()=>{h=p.elapsed()}))}i&4&&this._alternatives.value.set(e,p=>{for(c.cancel();r.canUndo();){s!==r.getAlternativeVersionId()&&r.undo(),this._insertSuggestion(p,3|(i&8?8:0));break}}),this._alertCompletionItem(a),Promise.all(l).finally(()=>{this._reportSuggestionAcceptedTelemetry(a,r,u,h,m,e.index,e.model.items),this.model.clear(),c.dispose()})}_reportSuggestionAcceptedTelemetry(e,i,o,r,s,a,l){if(Math.floor(Math.random()*100)===0)return;let c=new Map;for(let m=0;m<Math.min(30,l.length);m++){let f=l[m].textLabel;c.has(f)?c.get(f).push(m):c.set(f,[m])}let d=c.get(e.textLabel),h=d&&d.length>1?d[0]:-1;this._telemetryService.publicLog2("suggest.acceptedSuggestion",{extensionId:e.extensionId?.value??"unknown",providerId:e.provider._debugDisplayName??"unknown",kind:e.completion.kind,basenameHash:Ox(yr(i.uri)).toString(16),languageId:i.getLanguageId(),fileExtension:aU(i.uri),resolveInfo:e.provider.resolveCompletionItem?o?1:0:-1,resolveDuration:e.resolveDuration,commandDuration:r,additionalEditsAsync:s,index:a,firstIndex:h})}getOverwriteInfo(e,i){Tt(this.editor.hasModel());let o=this.editor.getOption(119).insertMode==="replace";i&&(o=!o);let r=e.position.column-e.editStart.column,s=(o?e.editReplaceEnd.column:e.editInsertEnd.column)-e.position.column,a=this.editor.getPosition().column-e.position.column,l=this._lineSuffix.value?this._lineSuffix.value.delta(this.editor.getPosition()):0;return{overwriteBefore:r+a,overwriteAfter:s+l}}_alertCompletionItem(e){if(Mn(e.completion.additionalTextEdits)){let i=_("aria.alert.snippet","Accepting '{0}' made {1} additional edits",e.textLabel,e.completion.additionalTextEdits.length);Kn(i)}}triggerSuggest(e,i,o){this.editor.hasModel()&&(this.model.trigger({auto:i??!1,completionOptions:{providerFilter:e,kindFilter:o?new Set:void 0}}),this.editor.revealPosition(this.editor.getPosition(),0),this.editor.focus())}triggerSuggestAndAcceptBest(e){if(!this.editor.hasModel())return;let i=this.editor.getPosition(),o=()=>{i.equals(this.editor.getPosition())&&this._commandService.executeCommand(e.fallback)},r=s=>{if(s.completion.insertTextRules&4||s.completion.additionalTextEdits)return!0;let a=this.editor.getPosition(),l=s.editStart.column,c=a.column;return c-l!==s.completion.insertText.length?!0:this.editor.getModel().getValueInRange({startLineNumber:a.lineNumber,startColumn:l,endLineNumber:a.lineNumber,endColumn:c})!==s.completion.insertText};xi.once(this.model.onDidTrigger)(s=>{let a=[];xi.any(this.model.onDidTrigger,this.model.onDidCancel)(()=>{dn(a),o()},void 0,a),this.model.onDidSuggest(({completionModel:l})=>{if(dn(a),l.items.length===0){o();return}let c=this._memoryService.select(this.editor.getModel(),this.editor.getPosition(),l.items),d=l.items[c];if(!r(d)){o();return}this.editor.pushUndoStop(),this._insertSuggestion({index:c,item:d,model:l},7)},void 0,a)}),this.model.trigger({auto:!1,shy:!0}),this.editor.revealPosition(i,0),this.editor.focus()}acceptSelectedSuggestion(e,i){let o=this.widget.value.getFocusedItem(),r=0;e&&(r|=4),i&&(r|=8),this._insertSuggestion(o,r)}acceptNextSuggestion(){this._alternatives.value.next()}acceptPrevSuggestion(){this._alternatives.value.prev()}cancelSuggestWidget(){this.model.cancel(),this.model.clear(),this.widget.value.hideWidget()}focusSuggestion(){this.widget.value.focusSelected()}selectNextSuggestion(){this.widget.value.selectNext()}selectNextPageSuggestion(){this.widget.value.selectNextPage()}selectLastSuggestion(){this.widget.value.selectLast()}selectPrevSuggestion(){this.widget.value.selectPrevious()}selectPrevPageSuggestion(){this.widget.value.selectPreviousPage()}selectFirstSuggestion(){this.widget.value.selectFirst()}toggleSuggestionDetails(){this.widget.value.toggleDetails()}toggleExplainMode(){this.widget.value.toggleExplainMode()}toggleSuggestionFocus(){this.widget.value.toggleDetailsFocus()}resetWidgetSize(){this.widget.value.resetPersistedSize()}forceRenderingAbove(){this.widget.value.forceRenderingAbove()}stopForceRenderingAbove(){this.widget.isInitialized&&this.widget.value.stopForceRenderingAbove()}registerSelector(e){return this._selectors.register(e)}};ds=V2=q0e([Yg(1,Ug),Yg(2,di),Yg(3,Ze),Yg(4,Me),Yg(5,ws),Yg(6,Un)],ds);var j2=class{constructor(t){this.prioritySelector=t,this._items=new Array}register(t){if(this._items.indexOf(t)!==-1)throw new Error("Value is already registered");return this._items.push(t),this._items.sort((e,i)=>this.prioritySelector(i)-this.prioritySelector(e)),{dispose:()=>{let e=this._items.indexOf(t);e>=0&&this._items.splice(e,1)}}}get itemsOrderedByPriorityDesc(){return this._items}},j7=(()=>{class n extends Q{static{this.id="editor.action.triggerSuggest"}constructor(){super({id:n.id,label:_("suggest.trigger.label","Trigger Suggest"),alias:"Trigger Suggest",precondition:K.and(T.writable,T.hasCompletionItemProvider,ct.Visible.toNegated()),kbOpts:{kbExpr:T.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[521,2087]},weight:100}})}run(e,i,o){let r=ds.get(i);if(!r)return;let s;o&&typeof o=="object"&&o.auto===!0&&(s=!0),r.triggerSuggest(void 0,s,void 0)}}return n})();Te(ds.ID,ds,2);V(j7);var us=190,cr=Ki.bindToContribution(ds.get);ze(new cr({id:"acceptSelectedSuggestion",precondition:K.and(ct.Visible,ct.HasFocusedSuggestion),handler(n){n.acceptSelectedSuggestion(!0,!1)},kbOpts:[{primary:2,kbExpr:K.and(ct.Visible,T.textInputFocus),weight:us},{primary:3,kbExpr:K.and(ct.Visible,T.textInputFocus,ct.AcceptSuggestionsOnEnter,ct.MakesTextEdit),weight:us}],menuOpts:[{menuId:Zl,title:_("accept.insert","Insert"),group:"left",order:1,when:ct.HasInsertAndReplaceRange.toNegated()},{menuId:Zl,title:_("accept.insert","Insert"),group:"left",order:1,when:K.and(ct.HasInsertAndReplaceRange,ct.InsertMode.isEqualTo("insert"))},{menuId:Zl,title:_("accept.replace","Replace"),group:"left",order:1,when:K.and(ct.HasInsertAndReplaceRange,ct.InsertMode.isEqualTo("replace"))}]}));ze(new cr({id:"acceptAlternativeSelectedSuggestion",precondition:K.and(ct.Visible,T.textInputFocus,ct.HasFocusedSuggestion),kbOpts:{weight:us,kbExpr:T.textInputFocus,primary:1027,secondary:[1026]},handler(n){n.acceptSelectedSuggestion(!1,!0)},menuOpts:[{menuId:Zl,group:"left",order:2,when:K.and(ct.HasInsertAndReplaceRange,ct.InsertMode.isEqualTo("insert")),title:_("accept.replace","Replace")},{menuId:Zl,group:"left",order:2,when:K.and(ct.HasInsertAndReplaceRange,ct.InsertMode.isEqualTo("replace")),title:_("accept.insert","Insert")}]}));Pt.registerCommandAlias("acceptSelectedSuggestionOnEnter","acceptSelectedSuggestion");ze(new cr({id:"hideSuggestWidget",precondition:ct.Visible,handler:n=>n.cancelSuggestWidget(),kbOpts:{weight:us,kbExpr:T.textInputFocus,primary:9,secondary:[1033]}}));ze(new cr({id:"selectNextSuggestion",precondition:K.and(ct.Visible,K.or(ct.MultipleSuggestions,ct.HasFocusedSuggestion.negate())),handler:n=>n.selectNextSuggestion(),kbOpts:{weight:us,kbExpr:T.textInputFocus,primary:18,secondary:[2066],mac:{primary:18,secondary:[2066,300]}}}));ze(new cr({id:"selectNextPageSuggestion",precondition:K.and(ct.Visible,K.or(ct.MultipleSuggestions,ct.HasFocusedSuggestion.negate())),handler:n=>n.selectNextPageSuggestion(),kbOpts:{weight:us,kbExpr:T.textInputFocus,primary:12,secondary:[2060]}}));ze(new cr({id:"selectLastSuggestion",precondition:K.and(ct.Visible,K.or(ct.MultipleSuggestions,ct.HasFocusedSuggestion.negate())),handler:n=>n.selectLastSuggestion()}));ze(new cr({id:"selectPrevSuggestion",precondition:K.and(ct.Visible,K.or(ct.MultipleSuggestions,ct.HasFocusedSuggestion.negate())),handler:n=>n.selectPrevSuggestion(),kbOpts:{weight:us,kbExpr:T.textInputFocus,primary:16,secondary:[2064],mac:{primary:16,secondary:[2064,302]}}}));ze(new cr({id:"selectPrevPageSuggestion",precondition:K.and(ct.Visible,K.or(ct.MultipleSuggestions,ct.HasFocusedSuggestion.negate())),handler:n=>n.selectPrevPageSuggestion(),kbOpts:{weight:us,kbExpr:T.textInputFocus,primary:11,secondary:[2059]}}));ze(new cr({id:"selectFirstSuggestion",precondition:K.and(ct.Visible,K.or(ct.MultipleSuggestions,ct.HasFocusedSuggestion.negate())),handler:n=>n.selectFirstSuggestion()}));ze(new cr({id:"focusSuggestion",precondition:K.and(ct.Visible,ct.HasFocusedSuggestion.negate()),handler:n=>n.focusSuggestion(),kbOpts:{weight:us,kbExpr:T.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[2087]}}}));ze(new cr({id:"focusAndAcceptSuggestion",precondition:K.and(ct.Visible,ct.HasFocusedSuggestion.negate()),handler:n=>{n.focusSuggestion(),n.acceptSelectedSuggestion(!0,!1)}}));ze(new cr({id:"toggleSuggestionDetails",precondition:K.and(ct.Visible,ct.HasFocusedSuggestion),handler:n=>n.toggleSuggestionDetails(),kbOpts:{weight:us,kbExpr:T.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[2087]}},menuOpts:[{menuId:Zl,group:"right",order:1,when:K.and(ct.DetailsVisible,ct.CanResolve),title:_("detail.more","Show Less")},{menuId:Zl,group:"right",order:1,when:K.and(ct.DetailsVisible.toNegated(),ct.CanResolve),title:_("detail.less","Show More")}]}));ze(new cr({id:"toggleExplainMode",precondition:ct.Visible,handler:n=>n.toggleExplainMode(),kbOpts:{weight:100,primary:2138}}));ze(new cr({id:"toggleSuggestionFocus",precondition:ct.Visible,handler:n=>n.toggleSuggestionFocus(),kbOpts:{weight:us,kbExpr:T.textInputFocus,primary:2570,mac:{primary:778}}}));ze(new cr({id:"insertBestCompletion",precondition:K.and(T.textInputFocus,K.equals("config.editor.tabCompletion","on"),m0.AtEnd,ct.Visible.toNegated(),Lm.OtherSuggestions.toNegated(),ko.InSnippetMode.toNegated()),handler:(n,t)=>{n.triggerSuggestAndAcceptBest(Sx(t)?j({fallback:"tab"},t):{fallback:"tab"})},kbOpts:{weight:us,primary:2}}));ze(new cr({id:"insertNextSuggestion",precondition:K.and(T.textInputFocus,K.equals("config.editor.tabCompletion","on"),Lm.OtherSuggestions,ct.Visible.toNegated(),ko.InSnippetMode.toNegated()),handler:n=>n.acceptNextSuggestion(),kbOpts:{weight:us,kbExpr:T.textInputFocus,primary:2}}));ze(new cr({id:"insertPrevSuggestion",precondition:K.and(T.textInputFocus,K.equals("config.editor.tabCompletion","on"),Lm.OtherSuggestions,ct.Visible.toNegated(),ko.InSnippetMode.toNegated()),handler:n=>n.acceptPrevSuggestion(),kbOpts:{weight:us,kbExpr:T.textInputFocus,primary:1026}}));V(class extends Q{constructor(){super({id:"editor.action.resetSuggestSize",label:_("suggest.reset.label","Reset Suggest Widget Size"),alias:"Reset Suggest Widget Size",precondition:void 0})}run(n,t){ds.get(t)?.resetWidgetSize()}});var S1=class extends U{get selectedItem(){return this._currentSuggestItemInfo}constructor(t,e,i){super(),this.editor=t,this.suggestControllerPreselector=e,this.onWillAccept=i,this.isSuggestWidgetVisible=!1,this.isShiftKeyPressed=!1,this._isActive=!1,this._currentSuggestItemInfo=void 0,this._onDidSelectedItemChange=this._register(new je),this.onDidSelectedItemChange=this._onDidSelectedItemChange.event,this._register(t.onKeyDown(r=>{r.shiftKey&&!this.isShiftKeyPressed&&(this.isShiftKeyPressed=!0,this.update(this._isActive))})),this._register(t.onKeyUp(r=>{r.shiftKey&&this.isShiftKeyPressed&&(this.isShiftKeyPressed=!1,this.update(this._isActive))}));let o=ds.get(this.editor);if(o){this._register(o.registerSelector({priority:100,select:(a,l,c)=>{let d=this.editor.getModel();if(!d)return-1;let u=this.suggestControllerPreselector(),h=u?Yl(u,d):void 0;if(!h)return-1;let m=pe.lift(l),f=c.map((g,v)=>{let b=b0.fromSuggestion(o,d,m,g,this.isShiftKeyPressed),C=Yl(b.toSingleTextEdit(),d),k=s1(h,C);return{index:v,valid:k,prefixLength:C.text.length,suggestItem:g}}).filter(g=>g&&g.valid&&g.prefixLength>0),p=s5(f,vc(g=>g.prefixLength,Ch));return p?p.index:-1}}));let r=!1,s=()=>{r||(r=!0,this._register(o.widget.value.onDidShow(()=>{this.isSuggestWidgetVisible=!0,this.update(!0)})),this._register(o.widget.value.onDidHide(()=>{this.isSuggestWidgetVisible=!1,this.update(!1)})),this._register(o.widget.value.onDidFocus(()=>{this.isSuggestWidgetVisible=!0,this.update(!0)})))};this._register(xi.once(o.model.onDidTrigger)(a=>{s()})),this._register(o.onWillInsertSuggestItem(a=>{let l=this.editor.getPosition(),c=this.editor.getModel();if(!l||!c)return;let d=b0.fromSuggestion(o,c,l,a.item,this.isShiftKeyPressed);this.onWillAccept(d)}))}this.update(this._isActive)}update(t){let e=this.getSuggestItemInfo();(this._isActive!==t||!$0e(this._currentSuggestItemInfo,e))&&(this._isActive=t,this._currentSuggestItemInfo=e,this._onDidSelectedItemChange.fire())}getSuggestItemInfo(){let t=ds.get(this.editor);if(!t||!this.isSuggestWidgetVisible)return;let e=t.widget.value.getFocusedItem(),i=this.editor.getPosition(),o=this.editor.getModel();if(!(!e||!i||!o))return b0.fromSuggestion(t,o,i,e.item,this.isShiftKeyPressed)}stopForceRenderingAbove(){ds.get(this.editor)?.stopForceRenderingAbove()}forceRenderingAbove(){ds.get(this.editor)?.forceRenderingAbove()}},b0=class n{static fromSuggestion(t,e,i,o,r){let{insertText:s}=o.completion,a=!1;if(o.completion.insertTextRules&4){let c=new Vr().parse(s);c.children.length<100&&Wg.adjustWhitespace(e,i,!0,c),s=c.toString(),a=!0}let l=t.getOverwriteInfo(o,r);return new n(A.fromPositions(i.delta(0,-l.overwriteBefore),i.delta(0,Math.max(l.overwriteAfter,0))),s,o.completion.kind,a)}constructor(t,e,i,o){this.range=t,this.insertText=e,this.completionItemKind=i,this.isSnippetText=o}equals(t){return this.range.equalsRange(t.range)&&this.insertText===t.insertText&&this.completionItemKind===t.completionItemKind&&this.isSnippetText===t.isSnippetText}toSelectedSuggestionInfo(){return new c4(this.range,this.insertText,this.completionItemKind,this.isSnippetText)}toSingleTextEdit(){return new Nr(this.range,this.insertText)}};function $0e(n,t){return n===t?!0:!n||!t?!1:n.equals(t)}Re();qi();bn();pt();Ot();var K0e=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},ad=function(n,t){return function(e,i){t(e,i,n)}},U2,Er=class extends U{static{U2=this}static{this.ID="editor.contrib.inlineCompletionsController"}static get(e){return e.getContribution(U2.ID)}constructor(e,i,o,r,s,a,l,c,d,u){super(),this.editor=e,this._instantiationService=i,this._contextKeyService=o,this._configurationService=r,this._commandService=s,this._debounceService=a,this._languageFeaturesService=l,this._accessibilitySignalService=c,this._keybindingService=d,this._accessibilityService=u,this._editorObs=zr(this.editor),this._positions=qt(this,m=>this._editorObs.selections.read(m)?.map(f=>f.getEndPosition())??[new pe(1,1)]),this._suggestWidgetAdaptor=this._register(new S1(this.editor,()=>(this._editorObs.forceUpdate(),this.model.get()?.selectedInlineCompletion.get()?.toSingleTextEdit(void 0)),m=>this._editorObs.forceUpdate(f=>{this.model.get()?.handleSuggestAccepted(m)}))),this._suggestWidgetSelectedItem=lo(this,m=>this._suggestWidgetAdaptor.onDidSelectedItemChange(()=>{this._editorObs.forceUpdate(f=>m(void 0))}),()=>this._suggestWidgetAdaptor.selectedItem),this._enabledInConfig=lo(this,this.editor.onDidChangeConfiguration,()=>this.editor.getOption(62).enabled),this._isScreenReaderEnabled=lo(this,this._accessibilityService.onDidChangeScreenReaderOptimized,()=>this._accessibilityService.isScreenReaderOptimized()),this._editorDictationInProgress=lo(this,this._contextKeyService.onDidChangeContext,()=>this._contextKeyService.getContext(this.editor.getDomNode()).getValue("editorDictation.inProgress")===!0),this._enabled=qt(this,m=>this._enabledInConfig.read(m)&&(!this._isScreenReaderEnabled.read(m)||!this._editorDictationInProgress.read(m))),this._debounceValue=this._debounceService.for(this._languageFeaturesService.inlineCompletionsProvider,"InlineCompletionsDebounce",{min:50,max:50}),this.model=Is(this,m=>{if(this._editorObs.isReadonly.read(m))return;let f=this._editorObs.model.read(m);return f?this._instantiationService.createInstance(m1,f,this._suggestWidgetSelectedItem,this._editorObs.versionId,this._positions,this._debounceValue,lo(this.editor.onDidChangeConfiguration,()=>this.editor.getOption(119).preview),lo(this.editor.onDidChangeConfiguration,()=>this.editor.getOption(119).previewMode),lo(this.editor.onDidChangeConfiguration,()=>this.editor.getOption(62).mode),this._enabled):void 0}).recomputeInitiallyAndOnChange(this._store),this._ghostTexts=qt(this,m=>this.model.read(m)?.ghostTexts.read(m)??[]),this._stablizedGhostTexts=Y0e(this._ghostTexts,this._store),this._ghostTextWidgets=PU(this,this._stablizedGhostTexts,(m,f)=>f.add(this._instantiationService.createInstance(n1,this.editor,{ghostText:m,minReservedLineCount:Qr(0),targetTextModel:this.model.map(p=>p?.textModel)}))).recomputeInitiallyAndOnChange(this._store),this._playAccessibilitySignal=Hp(this),this._fontFamily=lo(this,this.editor.onDidChangeConfiguration,()=>this.editor.getOption(62).fontFamily),this._register(new Yo(this._contextKeyService,this.model)),this._register(nO(this._editorObs.onDidType,(m,f)=>{this._enabled.get()&&this.model.get()?.trigger()})),this._register(this._commandService.onDidExecuteCommand(m=>{new Set([Kp.Tab.id,Kp.DeleteLeft.id,Kp.DeleteRight.id,qI,"acceptSelectedSuggestion"]).has(m.commandId)&&e.hasTextFocus()&&this._enabled.get()&&this._editorObs.forceUpdate(p=>{this.model.get()?.trigger(p)})})),this._register(nO(this._editorObs.selections,(m,f)=>{f.some(p=>p.reason===3||p.source==="api")&&this.model.get()?.stop()})),this._register(this.editor.onDidBlurEditorWidget(()=>{this._contextKeyService.getContextKeyValue("accessibleViewIsShown")||this._configurationService.getValue("editor.inlineSuggest.keepOnBlur")||e.getOption(62).keepOnBlur||Jc.dropDownVisible||Ss(m=>{this.model.get()?.stop(m)})})),this._register(ti(m=>{let f=this.model.read(m)?.state.read(m);f?.suggestItem?f.primaryGhostText.lineCount>=2&&this._suggestWidgetAdaptor.forceRenderingAbove():this._suggestWidgetAdaptor.stopForceRenderingAbove()})),this._register(kt(()=>{this._suggestWidgetAdaptor.stopForceRenderingAbove()}));let h=Vd(this,(m,f)=>{let g=this.model.read(m)?.state.read(m);return this._suggestWidgetSelectedItem.get()?f:g?.inlineCompletion?.semanticId});this._register(k8(qt(m=>(this._playAccessibilitySignal.read(m),h.read(m),{})),(m,f,p)=>M(this,null,function*(){let g=this.model.get(),v=g?.state.get();if(!v||!g)return;let b=g.textModel.getLineContent(v.primaryGhostText.lineNumber);yield Td(50,hv(p)),yield LU(this._suggestWidgetSelectedItem,Sh,()=>!1,hv(p)),yield this._accessibilitySignalService.playSignal(MC.inlineSuggestion),this.editor.getOption(8)&&this._provideScreenReaderUpdate(v.primaryGhostText.renderForScreenReader(b))}))),this._register(new YI(this.editor,this.model,this._instantiationService)),this._register(I7(qt(m=>{let f=this._fontFamily.read(m);return f===""||f==="default"?"":`
.monaco-editor .ghost-text-decoration,
.monaco-editor .ghost-text-decoration-preview,
.monaco-editor .ghost-text {
	font-family: ${f};
}`}))),this._register(this._configurationService.onDidChangeConfiguration(m=>{m.affectsConfiguration("accessibility.verbosity.inlineCompletions")&&this.editor.updateOptions({inlineCompletionsAccessibilityVerbose:this._configurationService.getValue("accessibility.verbosity.inlineCompletions")})})),this.editor.updateOptions({inlineCompletionsAccessibilityVerbose:this._configurationService.getValue("accessibility.verbosity.inlineCompletions")})}playAccessibilitySignal(e){this._playAccessibilitySignal.trigger(e)}_provideScreenReaderUpdate(e){let i=this._contextKeyService.getContextKeyValue("accessibleViewIsShown"),o=this._keybindingService.lookupKeybinding("editor.action.accessibleView"),r;!i&&o&&this.editor.getOption(150)&&(r=_("showAccessibleViewHint","Inspect this in the accessible view ({0})",o.getAriaLabel())),Kn(r?e+", "+r:e)}shouldShowHoverAt(e){let i=this.model.get()?.primaryGhostText.get();return i?i.parts.some(o=>e.containsPosition(new pe(i.lineNumber,o.column))):!1}shouldShowHoverAtViewZone(e){return this._ghostTextWidgets.get()[0]?.ownsViewZone(e)??!1}};Er=U2=K0e([ad(1,Me),ad(2,Ze),ad(3,vt),ad(4,di),ad(5,yn),ad(6,ce),ad(7,EC),ad(8,Vt),ad(9,zd)],Er);function Y0e(n,t){let e=Yn("result",[]),i=[];return t.add(ti(o=>{let r=n.read(o);Ss(s=>{if(r.length!==i.length){i.length=r.length;for(let a=0;a<i.length;a++)i[a]||(i[a]=Yn("item",r[a]));e.set([...i],s)}i.forEach((a,l)=>a.set(r[l],s))})})),e}Re();$i();bn();pt();var U7=(()=>{class n extends Q{static{this.ID=$I}constructor(){super({id:n.ID,label:_("action.inlineSuggest.showNext","Show Next Inline Suggestion"),alias:"Show Next Inline Suggestion",precondition:K.and(T.writable,Yo.inlineSuggestionVisible),kbOpts:{weight:100,primary:606}})}run(e,i){return M(this,null,function*(){Er.get(i)?.model.get()?.next()})}}return n})(),q7=(()=>{class n extends Q{static{this.ID=GI}constructor(){super({id:n.ID,label:_("action.inlineSuggest.showPrevious","Show Previous Inline Suggestion"),alias:"Show Previous Inline Suggestion",precondition:K.and(T.writable,Yo.inlineSuggestionVisible),kbOpts:{weight:100,primary:604}})}run(e,i){return M(this,null,function*(){Er.get(i)?.model.get()?.previous()})}}return n})(),D1=class extends Q{constructor(){super({id:"editor.action.inlineSuggest.trigger",label:_("action.inlineSuggest.trigger","Trigger Inline Suggestion"),alias:"Trigger Inline Suggestion",precondition:T.writable})}run(t,e){return M(this,null,function*(){let i=Er.get(e);yield uC(o=>M(this,null,function*(){yield i?.model.get()?.triggerExplicitly(o),i?.playAccessibilitySignal(o)}))})}},I1=class extends Q{constructor(){super({id:"editor.action.inlineSuggest.acceptNextWord",label:_("action.inlineSuggest.acceptNextWord","Accept Next Word Of Inline Suggestion"),alias:"Accept Next Word Of Inline Suggestion",precondition:K.and(T.writable,Yo.inlineSuggestionVisible),kbOpts:{weight:101,primary:2065,kbExpr:K.and(T.writable,Yo.inlineSuggestionVisible)},menuOpts:[{menuId:be.InlineSuggestionToolbar,title:_("acceptWord","Accept Word"),group:"primary",order:2}]})}run(t,e){return M(this,null,function*(){let i=Er.get(e);yield i?.model.get()?.acceptNextWord(i.editor)})}},E1=class extends Q{constructor(){super({id:"editor.action.inlineSuggest.acceptNextLine",label:_("action.inlineSuggest.acceptNextLine","Accept Next Line Of Inline Suggestion"),alias:"Accept Next Line Of Inline Suggestion",precondition:K.and(T.writable,Yo.inlineSuggestionVisible),kbOpts:{weight:101},menuOpts:[{menuId:be.InlineSuggestionToolbar,title:_("acceptLine","Accept Line"),group:"secondary",order:2}]})}run(t,e){return M(this,null,function*(){let i=Er.get(e);yield i?.model.get()?.acceptNextLine(i.editor)})}},M1=class extends Q{constructor(){super({id:qI,label:_("action.inlineSuggest.accept","Accept Inline Suggestion"),alias:"Accept Inline Suggestion",precondition:Yo.inlineSuggestionVisible,menuOpts:[{menuId:be.InlineSuggestionToolbar,title:_("accept","Accept"),group:"primary",order:1}],kbOpts:{primary:2,weight:200,kbExpr:K.and(Yo.inlineSuggestionVisible,T.tabMovesFocus.toNegated(),Yo.inlineSuggestionHasIndentationLessThanTabSize,ct.Visible.toNegated(),T.hoverFocused.toNegated())}})}run(t,e){return M(this,null,function*(){let i=Er.get(e);i&&(i.model.get()?.accept(i.editor),i.editor.focus())})}},G7=(()=>{class n extends Q{static{this.ID="editor.action.inlineSuggest.hide"}constructor(){super({id:n.ID,label:_("action.inlineSuggest.hide","Hide Inline Suggestion"),alias:"Hide Inline Suggestion",precondition:Yo.inlineSuggestionVisible,kbOpts:{weight:100,primary:9}})}run(e,i){return M(this,null,function*(){let o=Er.get(i);Ss(r=>{o?.model.get()?.stop(r)})})}}return n})(),$7=(()=>{class n extends jn{static{this.ID="editor.action.inlineSuggest.toggleAlwaysShowToolbar"}constructor(){super({id:n.ID,title:_("action.inlineSuggest.alwaysShowToolbar","Always Show Toolbar"),f1:!1,precondition:void 0,menu:[{id:be.InlineSuggestionToolbar,group:"secondary",order:10}],toggled:K.equals("config.editor.inlineSuggest.showToolbar","always")})}run(e,i){return M(this,null,function*(){let o=e.get(vt),s=o.getValue("editor.inlineSuggest.showToolbar")==="always"?"onHover":"always";o.updateValue("editor.inlineSuggest.showToolbar",s)})}}return n})();_t();Js();ue();co();qe();Pa();Re();Ot();Oa();var X0e=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},y0=function(n,t){return function(e,i){t(e,i,n)}},q2=class{constructor(t,e,i){this.owner=t,this.range=e,this.controller=i}isValidForHoverAnchor(t){return t.type===1&&this.range.startColumn<=t.range.startColumn&&this.range.endColumn>=t.range.endColumn}},k1=class{constructor(t,e,i,o,r,s){this._editor=t,this._languageService=e,this._openerService=i,this.accessibilityService=o,this._instantiationService=r,this._telemetryService=s,this.hoverOrdinal=4}suggestHoverAnchor(t){let e=Er.get(this._editor);if(!e)return null;let i=t.target;if(i.type===8){let o=i.detail;if(e.shouldShowHoverAtViewZone(o.viewZoneId))return new Su(1e3,this,A.fromPositions(this._editor.getModel().validatePosition(o.positionBefore||o.position)),t.event.posx,t.event.posy,!1)}return i.type===7&&e.shouldShowHoverAt(i.range)?new Su(1e3,this,i.range,t.event.posx,t.event.posy,!1):i.type===6&&i.detail.mightBeForeignElement&&e.shouldShowHoverAt(i.range)?new Su(1e3,this,i.range,t.event.posx,t.event.posy,!1):null}computeSync(t,e){if(this._editor.getOption(62).showToolbar!=="onHover")return[];let i=Er.get(this._editor);return i&&i.shouldShowHoverAt(t.range)?[new q2(this,t.range,i)]:[]}renderHoverParts(t,e){let i=new G,o=e[0];this._telemetryService.publicLog2("inlineCompletionHover.shown"),this.accessibilityService.isScreenReaderOptimized()&&!this._editor.getOption(8)&&i.add(this.renderScreenReaderText(t,o));let r=o.controller.model.get(),s=this._instantiationService.createInstance(Jc,this._editor,!1,Qr(null),r.selectedInlineCompletionIndex,r.inlineCompletionsCount,r.activeCommands),a=s.getDomNode();t.fragment.appendChild(a),r.triggerExplicitly(),i.add(s);let l={hoverPart:o,hoverElement:a,dispose(){i.dispose()}};return new cs([l])}renderScreenReaderText(t,e){let i=new G,o=ye,r=o("div.hover-row.markdown-hover"),s=Ce(r,o("div.hover-contents",{"aria-live":"assertive"})),a=i.add(new ea({editor:this._editor},this._languageService,this._openerService)),l=c=>{i.add(a.onDidRenderAsync(()=>{s.className="hover-contents code-hover-contents",t.onContentsChanged()}));let d=_("inlineSuggestionFollows","Suggestion:"),u=i.add(a.render(new mn().appendText(d).appendCodeblock("text",c)));s.replaceChildren(u.element)};return i.add(ti(c=>{let d=e.controller.model.read(c)?.primaryGhostText.read(c);if(d){let u=this._editor.getModel().getLineContent(d.lineNumber);l(d.renderForScreenReader(u))}else Mh(s)})),t.fragment.appendChild(r),i}};k1=X0e([y0(1,qn),y0(2,$n),y0(3,zd),y0(4,Me),y0(5,Un)],k1);var T1=class{};var Xg=new class{constructor(){this._implementations=[]}register(t){return this._implementations.push(t),{dispose:()=>{let e=this._implementations.indexOf(t);e!==-1&&this._implementations.splice(e,1)}}}getImplementations(){return this._implementations}};$i();Te(Er.ID,Er,3);V(D1);V(U7);V(q7);V(I1);V(E1);V(M1);V(G7);$t($7);Os.register(k1);Xg.register(new T1);Ht();Bt();Js();ue();Bh();it();qe();Pa();vl();Re();pt();Lt();wn();var Z0e=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},G2=function(n,t){return function(e,i){t(e,i,n)}},w0,Zg=class{static{w0=this}static{this.ID="editor.contrib.gotodefinitionatposition"}static{this.MAX_SOURCE_PREVIEW_LINES=8}constructor(e,i,o,r){this.textModelResolverService=i,this.languageService=o,this.languageFeaturesService=r,this.toUnhook=new G,this.toUnhookForKeyboard=new G,this.currentWordAtPosition=null,this.previousPromise=null,this.editor=e,this.linkDecorations=this.editor.createDecorationsCollection();let s=new Vl(e);this.toUnhook.add(s),this.toUnhook.add(s.onMouseMoveOrRelevantKeyDown(([a,l])=>{this.startFindDefinitionFromMouse(a,l??void 0)})),this.toUnhook.add(s.onExecute(a=>{this.isEnabled(a)&&this.gotoDefinition(a.target.position,a.hasSideBySideModifier).catch(l=>{ht(l)}).finally(()=>{this.removeLinkDecorations()})})),this.toUnhook.add(s.onCancel(()=>{this.removeLinkDecorations(),this.currentWordAtPosition=null}))}static get(e){return e.getContribution(w0.ID)}startFindDefinitionFromCursor(e){return M(this,null,function*(){yield this.startFindDefinition(e),this.toUnhookForKeyboard.add(this.editor.onDidChangeCursorPosition(()=>{this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear()})),this.toUnhookForKeyboard.add(this.editor.onKeyDown(i=>{i&&(this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear())}))})}startFindDefinitionFromMouse(e,i){if(e.target.type===9&&this.linkDecorations.length>0)return;if(!this.editor.hasModel()||!this.isEnabled(e,i)){this.currentWordAtPosition=null,this.removeLinkDecorations();return}let o=e.target.position;this.startFindDefinition(o)}startFindDefinition(e){return M(this,null,function*(){this.toUnhookForKeyboard.clear();let i=e?this.editor.getModel()?.getWordAtPosition(e):null;if(!i){this.currentWordAtPosition=null,this.removeLinkDecorations();return}if(this.currentWordAtPosition&&this.currentWordAtPosition.startColumn===i.startColumn&&this.currentWordAtPosition.endColumn===i.endColumn&&this.currentWordAtPosition.word===i.word)return;this.currentWordAtPosition=i;let o=new jC(this.editor,15);this.previousPromise&&(this.previousPromise.cancel(),this.previousPromise=null),this.previousPromise=Ci(a=>this.findDefinition(e,a));let r;try{r=yield this.previousPromise}catch(a){ht(a);return}if(!r||!r.length||!o.validate(this.editor)){this.removeLinkDecorations();return}let s=r[0].originSelectionRange?A.lift(r[0].originSelectionRange):new A(e.lineNumber,i.startColumn,e.lineNumber,i.endColumn);if(r.length>1){let a=s;for(let{originSelectionRange:l}of r)l&&(a=A.plusRange(a,l));this.addDecoration(a,new mn().appendText(_("multipleResults","Click to show {0} definitions.",r.length)))}else{let a=r[0];if(!a.uri)return;this.textModelResolverService.createModelReference(a.uri).then(l=>{if(!l.object||!l.object.textEditorModel){l.dispose();return}let{object:{textEditorModel:c}}=l,{startLineNumber:d}=a.range;if(d<1||d>c.getLineCount()){l.dispose();return}let u=this.getPreviewValue(c,d,a),h=this.languageService.guessLanguageIdByFilepathOrFirstLine(c.uri);this.addDecoration(s,u?new mn().appendCodeblock(h||"",u):void 0),l.dispose()})}})}getPreviewValue(e,i,o){let r=o.range;return r.endLineNumber-r.startLineNumber>=w0.MAX_SOURCE_PREVIEW_LINES&&(r=this.getPreviewRangeBasedOnIndentation(e,i)),this.stripIndentationFromPreviewRange(e,i,r)}stripIndentationFromPreviewRange(e,i,o){let s=e.getLineFirstNonWhitespaceColumn(i);for(let l=i+1;l<o.endLineNumber;l++){let c=e.getLineFirstNonWhitespaceColumn(l);s=Math.min(s,c)}return e.getValueInRange(o).replace(new RegExp(`^\\s{${s-1}}`,"gm"),"").trim()}getPreviewRangeBasedOnIndentation(e,i){let o=e.getLineFirstNonWhitespaceColumn(i),r=Math.min(e.getLineCount(),i+w0.MAX_SOURCE_PREVIEW_LINES),s=i+1;for(;s<r;s++){let a=e.getLineFirstNonWhitespaceColumn(s);if(o===a)break}return new A(i,1,s+1,1)}addDecoration(e,i){let o={range:e,options:{description:"goto-definition-link",inlineClassName:"goto-definition-link",hoverMessage:i}};this.linkDecorations.set([o])}removeLinkDecorations(){this.linkDecorations.clear()}isEnabled(e,i){return this.editor.hasModel()&&e.isLeftClick&&e.isNoneOrSingleMouseDown&&e.target.type===6&&!(e.target.detail.injectedText?.options instanceof qp)&&(e.hasTriggerModifier||(i?i.keyCodeIsTriggerKey:!1))&&this.languageFeaturesService.definitionProvider.has(this.editor.getModel())}findDefinition(e,i){let o=this.editor.getModel();return o?Mu(this.languageFeaturesService.definitionProvider,o,e,!1,i):Promise.resolve(null)}gotoDefinition(e,i){return this.editor.setPosition(e),this.editor.invokeWithinContext(o=>{let r=!i&&this.editor.getOption(89)&&!this.isInPeekEditor(o);return new nd({openToSide:i,openInPeek:r,muteMessage:!0},{title:{value:"",original:""},id:"",precondition:void 0}).run(o)})}isInPeekEditor(e){let i=e.get(Ze);return Eo.inPeekEditor.getValue(i)}dispose(){this.toUnhook.dispose(),this.toUnhookForKeyboard.dispose()}};Zg=w0=Z0e([G2(1,so),G2(2,qn),G2(3,ce)],Zg);Te(Zg.ID,Zg,2);Wn();ue();it();Uo();hi();qe();Kt();Oi();oi();ue();n4();zi();Ln();qe();Sc();Ot();bn();var K7=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},A1=function(n,t){return function(e,i){t(e,i,n)}},R1=class{constructor(t,e,i){this.marker=t,this.index=e,this.total=i}},$2=class{constructor(t,e,i){this._markerService=e,this._configService=i,this._onDidChange=new je,this.onDidChange=this._onDidChange.event,this._dispoables=new G,this._markers=[],this._nextIdx=-1,mt.isUri(t)?this._resourceFilter=a=>a.toString()===t.toString():t&&(this._resourceFilter=t);let o=this._configService.getValue("problems.sortOrder"),r=(a,l)=>{let c=mR(a.resource.toString(),l.resource.toString());return c===0&&(o==="position"?c=A.compareRangesUsingStarts(a,l)||wo.compare(a.severity,l.severity):c=wo.compare(a.severity,l.severity)||A.compareRangesUsingStarts(a,l)),c},s=()=>{this._markers=this._markerService.read({resource:mt.isUri(t)?t:void 0,severities:wo.Error|wo.Warning|wo.Info}),typeof t=="function"&&(this._markers=this._markers.filter(a=>this._resourceFilter(a.resource))),this._markers.sort(r)};s(),this._dispoables.add(e.onMarkerChanged(a=>{(!this._resourceFilter||a.some(l=>this._resourceFilter(l)))&&(s(),this._nextIdx=-1,this._onDidChange.fire())}))}dispose(){this._dispoables.dispose(),this._onDidChange.dispose()}matches(t){return!this._resourceFilter&&!t?!0:!this._resourceFilter||!t?!1:this._resourceFilter(t)}get selected(){let t=this._markers[this._nextIdx];return t&&new R1(t,this._nextIdx+1,this._markers.length)}_initIdx(t,e,i){let o=!1,r=this._markers.findIndex(s=>s.resource.toString()===t.uri.toString());r<0&&(r=xh(this._markers,{resource:t.uri},(s,a)=>mR(s.resource.toString(),a.resource.toString())),r<0&&(r=~r));for(let s=r;s<this._markers.length;s++){let a=A.lift(this._markers[s]);if(a.isEmpty()){let l=t.getWordAtPosition(a.getStartPosition());l&&(a=new A(a.startLineNumber,l.startColumn,a.startLineNumber,l.endColumn))}if(e&&(a.containsPosition(e)||e.isBeforeOrEqual(a.getStartPosition()))){this._nextIdx=s,o=!0;break}if(this._markers[s].resource.toString()!==t.uri.toString())break}o||(this._nextIdx=i?0:this._markers.length-1),this._nextIdx<0&&(this._nextIdx=this._markers.length-1)}resetIndex(){this._nextIdx=-1}move(t,e,i){if(this._markers.length===0)return!1;let o=this._nextIdx;return this._nextIdx===-1?this._initIdx(e,i,t):t?this._nextIdx=(this._nextIdx+1)%this._markers.length:t||(this._nextIdx=(this._nextIdx-1+this._markers.length)%this._markers.length),o!==this._nextIdx}find(t,e){let i=this._markers.findIndex(o=>o.resource.toString()===t.toString());if(!(i<0)){for(;i<this._markers.length;i++)if(A.containsPosition(this._markers[i],e))return new R1(this._markers[i],i+1,this._markers.length)}}};$2=K7([A1(1,Ov),A1(2,vt)],$2);var Y2=jo("IMarkerNavigationService"),K2=class{constructor(t,e){this._markerService=t,this._configService=e,this._provider=new Dx}getMarkerList(t){for(let e of this._provider){let i=e.getMarkerList(t);if(i)return i}return new $2(t,this._markerService,this._configService)}};K2=K7([A1(0,Ov),A1(1,vt)],K2);qo(Y2,K2,1);Re();$i();pt();Ot();_t();Oi();xl();oi();ue();Zr();zi();qe();Re();$i();pt();Ot();Wn();nr();var O1;(function(n){function t(e){switch(e){case Cv.Ignore:return"severity-ignore "+Dt.asClassName(Ge.info);case Cv.Info:return Dt.asClassName(Ge.info);case Cv.Warning:return Dt.asClassName(Ge.warning);case Cv.Error:return Dt.asClassName(Ge.error);default:return""}}n.className=t})(O1||(O1={}));Po();Oo();var Q0e=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},Qg=function(n,t){return function(e,i){t(e,i,n)}},X2,Z2=class{constructor(t,e,i,o,r){this._openerService=o,this._labelService=r,this._lines=0,this._longestLineLength=0,this._relatedDiagnostics=new WeakMap,this._disposables=new G,this._editor=e;let s=document.createElement("div");s.className="descriptioncontainer",this._messageBlock=document.createElement("div"),this._messageBlock.classList.add("message"),this._messageBlock.setAttribute("aria-live","assertive"),this._messageBlock.setAttribute("role","alert"),s.appendChild(this._messageBlock),this._relatedBlock=document.createElement("div"),s.appendChild(this._relatedBlock),this._disposables.add(vr(this._relatedBlock,"click",a=>{a.preventDefault();let l=this._relatedDiagnostics.get(a.target);l&&i(l)})),this._scrollable=new U5(s,{horizontal:1,vertical:1,useShadows:!1,horizontalScrollbarSize:6,verticalScrollbarSize:6}),t.appendChild(this._scrollable.getDomNode()),this._disposables.add(this._scrollable.onScroll(a=>{s.style.left=`-${a.scrollLeft}px`,s.style.top=`-${a.scrollTop}px`})),this._disposables.add(this._scrollable)}dispose(){dn(this._disposables)}update(t){let{source:e,message:i,relatedInformation:o,code:r}=t,s=(e?.length||0)+2;r&&(typeof r=="string"?s+=r.length:s+=r.value.length);let a=Dh(i);this._lines=a.length,this._longestLineLength=0;for(let h of a)this._longestLineLength=Math.max(h.length+s,this._longestLineLength);Rr(this._messageBlock),this._messageBlock.setAttribute("aria-label",this.getAriaLabel(t)),this._editor.applyFontInfo(this._messageBlock);let l=this._messageBlock;for(let h of a)l=document.createElement("div"),l.innerText=h,h===""&&(l.style.height=this._messageBlock.style.lineHeight),this._messageBlock.appendChild(l);if(e||r){let h=document.createElement("span");if(h.classList.add("details"),l.appendChild(h),e){let m=document.createElement("span");m.innerText=e,m.classList.add("source"),h.appendChild(m)}if(r)if(typeof r=="string"){let m=document.createElement("span");m.innerText=`(${r})`,m.classList.add("code"),h.appendChild(m)}else{this._codeLink=ye("a.code-link"),this._codeLink.setAttribute("href",`${r.target.toString()}`),this._codeLink.onclick=f=>{this._openerService.open(r.target,{allowCommands:!0}),f.preventDefault(),f.stopPropagation()};let m=Ce(this._codeLink,ye("span"));m.innerText=r.value,h.appendChild(this._codeLink)}}if(Rr(this._relatedBlock),this._editor.applyFontInfo(this._relatedBlock),Mn(o)){let h=this._relatedBlock.appendChild(document.createElement("div"));h.style.paddingTop=`${Math.floor(this._editor.getOption(67)*.66)}px`,this._lines+=1;for(let m of o){let f=document.createElement("div"),p=document.createElement("a");p.classList.add("filename"),p.innerText=`${this._labelService.getUriBasenameLabel(m.resource)}(${m.startLineNumber}, ${m.startColumn}): `,p.title=this._labelService.getUriLabel(m.resource),this._relatedDiagnostics.set(p,m);let g=document.createElement("span");g.innerText=m.message,f.appendChild(p),f.appendChild(g),this._lines+=1,h.appendChild(f)}}let c=this._editor.getOption(50),d=Math.ceil(c.typicalFullwidthCharacterWidth*this._longestLineLength*.75),u=c.lineHeight*this._lines;this._scrollable.setScrollDimensions({scrollWidth:d,scrollHeight:u})}layout(t,e){this._scrollable.getDomNode().style.height=`${t}px`,this._scrollable.getDomNode().style.width=`${e}px`,this._scrollable.setScrollDimensions({width:e,height:t})}getHeightInLines(){return Math.min(17,this._lines)}getAriaLabel(t){let e="";switch(t.severity){case wo.Error:e=_("Error","Error");break;case wo.Warning:e=_("Warning","Warning");break;case wo.Info:e=_("Info","Info");break;case wo.Hint:e=_("Hint","Hint");break}let i=_("marker aria","{0} at {1}. ",e,t.startLineNumber+":"+t.startColumn),o=this._editor.getModel();return o&&t.startLineNumber<=o.getLineCount()&&t.startLineNumber>=1&&(i=`${o.getLineContent(t.startLineNumber)}, ${i}`),i}},Jg=class extends Cg{static{X2=this}static{this.TitleMenu=new be("gotoErrorTitleMenu")}constructor(t,e,i,o,r,s,a){super(t,{showArrow:!0,showFrame:!0,isAccessible:!0,frameWidth:1},r),this._themeService=e,this._openerService=i,this._menuService=o,this._contextKeyService=s,this._labelService=a,this._callOnDispose=new G,this._onDidSelectRelatedInformation=new je,this.onDidSelectRelatedInformation=this._onDidSelectRelatedInformation.event,this._severity=wo.Warning,this._backgroundColor=It.white,this._applyTheme(e.getColorTheme()),this._callOnDispose.add(e.onDidColorThemeChange(this._applyTheme.bind(this))),this.create()}_applyTheme(t){this._backgroundColor=t.getColor(iwe);let e=Q2,i=J0e;this._severity===wo.Warning?(e=P1,i=ewe):this._severity===wo.Info&&(e=J2,i=twe);let o=t.getColor(e),r=t.getColor(i);this.style({arrowColor:o,frameColor:o,headerBackgroundColor:r,primaryHeadingColor:t.getColor(oE),secondaryHeadingColor:t.getColor(rE)})}_applyStyles(){this._parentContainer&&(this._parentContainer.style.backgroundColor=this._backgroundColor?this._backgroundColor.toString():""),super._applyStyles()}dispose(){this._callOnDispose.dispose(),super.dispose()}_fillHead(t){super._fillHead(t),this._disposables.add(this._actionbarWidget.actionRunner.onWillRun(o=>this.editor.focus()));let e=[],i=this._menuService.getMenuActions(X2.TitleMenu,this._contextKeyService);jp(i,e),this._actionbarWidget.push(e,{label:!1,icon:!0,index:0})}_fillTitleIcon(t){this._icon=Ce(t,ye(""))}_fillBody(t){this._parentContainer=t,t.classList.add("marker-widget"),this._parentContainer.tabIndex=0,this._parentContainer.setAttribute("role","tooltip"),this._container=document.createElement("div"),t.appendChild(this._container),this._message=new Z2(this._container,this.editor,e=>this._onDidSelectRelatedInformation.fire(e),this._openerService,this._labelService),this._disposables.add(this._message)}show(){throw new Error("call showAtMarker")}showAtMarker(t,e,i){this._container.classList.remove("stale"),this._message.update(t),this._severity=t.severity,this._applyTheme(this._themeService.getColorTheme());let o=A.lift(t),r=this.editor.getPosition(),s=r&&o.containsPosition(r)?r:o.getStartPosition();super.show(s,this.computeRequiredHeight());let a=this.editor.getModel();if(a){let l=i>1?_("problems","{0} of {1} problems",e,i):_("change","{0} of {1} problem",e,i);this.setTitle(yr(a.uri),l)}this._icon.className=`codicon ${O1.className(wo.toSeverity(this._severity))}`,this.editor.revealPositionNearTop(s,0),this.editor.focus()}updateMarker(t){this._container.classList.remove("stale"),this._message.update(t)}showStale(){this._container.classList.add("stale"),this._relayout()}_doLayoutBody(t,e){super._doLayoutBody(t,e),this._heightInPixel=t,this._message.layout(t,e),this._container.style.height=`${t}px`}_onWidth(t){this._message.layout(this._heightInPixel,t)}_relayout(){super._relayout(this.computeRequiredHeight())}computeRequiredHeight(){return 3+this._message.getHeightInLines()}};Jg=X2=Q0e([Qg(1,Gn),Qg(2,$n),Qg(3,Ys),Qg(4,Me),Qg(5,Ze),Qg(6,Oc)],Jg);var Y7=Gx(v5,b5),X7=Gx(y5,w5),Z7=Gx(Dv,x5),Q2=Pe("editorMarkerNavigationError.background",{dark:Y7,light:Y7,hcDark:Zs,hcLight:Zs},_("editorMarkerNavigationError","Editor marker navigation widget error color.")),J0e=Pe("editorMarkerNavigationError.headerBackground",{dark:xs(Q2,.1),light:xs(Q2,.1),hcDark:null,hcLight:null},_("editorMarkerNavigationErrorHeaderBackground","Editor marker navigation widget error heading background.")),P1=Pe("editorMarkerNavigationWarning.background",{dark:X7,light:X7,hcDark:Zs,hcLight:Zs},_("editorMarkerNavigationWarning","Editor marker navigation widget warning color.")),ewe=Pe("editorMarkerNavigationWarning.headerBackground",{dark:xs(P1,.1),light:xs(P1,.1),hcDark:"#0C141F",hcLight:xs(P1,.2)},_("editorMarkerNavigationWarningBackground","Editor marker navigation widget warning heading background.")),J2=Pe("editorMarkerNavigationInfo.background",{dark:Z7,light:Z7,hcDark:Zs,hcLight:Zs},_("editorMarkerNavigationInfo","Editor marker navigation widget info color.")),twe=Pe("editorMarkerNavigationInfo.headerBackground",{dark:xs(J2,.1),light:xs(J2,.1),hcDark:null,hcLight:null},_("editorMarkerNavigationInfoHeaderBackground","Editor marker navigation widget info heading background.")),iwe=Pe("editorMarkerNavigation.background",g5,_("editorMarkerNavigationBackground","Editor marker navigation widget background."));var nwe=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},L1=function(n,t){return function(e,i){t(e,i,n)}},x0,Nu=class{static{x0=this}static{this.ID="editor.contrib.markerController"}static get(e){return e.getContribution(x0.ID)}constructor(e,i,o,r,s){this._markerNavigationService=i,this._contextKeyService=o,this._editorService=r,this._instantiationService=s,this._sessionDispoables=new G,this._editor=e,this._widgetVisible=Q7.bindTo(this._contextKeyService)}dispose(){this._cleanUp(),this._sessionDispoables.dispose()}_cleanUp(){this._widgetVisible.reset(),this._sessionDispoables.clear(),this._widget=void 0,this._model=void 0}_getOrCreateModel(e){if(this._model&&this._model.matches(e))return this._model;let i=!1;return this._model&&(i=!0,this._cleanUp()),this._model=this._markerNavigationService.getMarkerList(e),i&&this._model.move(!0,this._editor.getModel(),this._editor.getPosition()),this._widget=this._instantiationService.createInstance(Jg,this._editor),this._widget.onDidClose(()=>this.close(),this,this._sessionDispoables),this._widgetVisible.set(!0),this._sessionDispoables.add(this._model),this._sessionDispoables.add(this._widget),this._sessionDispoables.add(this._editor.onDidChangeCursorPosition(o=>{(!this._model?.selected||!A.containsPosition(this._model?.selected.marker,o.position))&&this._model?.resetIndex()})),this._sessionDispoables.add(this._model.onDidChange(()=>{if(!this._widget||!this._widget.position||!this._model)return;let o=this._model.find(this._editor.getModel().uri,this._widget.position);o?this._widget.updateMarker(o.marker):this._widget.showStale()})),this._sessionDispoables.add(this._widget.onDidSelectRelatedInformation(o=>{this._editorService.openCodeEditor({resource:o.resource,options:{pinned:!0,revealIfOpened:!0,selection:A.lift(o).collapseToStart()}},this._editor),this.close(!1)})),this._sessionDispoables.add(this._editor.onDidChangeModel(()=>this._cleanUp())),this._model}close(e=!0){this._cleanUp(),e&&this._editor.focus()}showAtMarker(e){if(this._editor.hasModel()){let i=this._getOrCreateModel(this._editor.getModel().uri);i.resetIndex(),i.move(!0,this._editor.getModel(),new pe(e.startLineNumber,e.startColumn)),i.selected&&this._widget.showAtMarker(i.selected.marker,i.selected.index,i.selected.total)}}nagivate(e,i){return M(this,null,function*(){if(this._editor.hasModel()){let o=this._getOrCreateModel(i?void 0:this._editor.getModel().uri);if(o.move(e,this._editor.getModel(),this._editor.getPosition()),!o.selected)return;if(o.selected.marker.resource.toString()!==this._editor.getModel().uri.toString()){this._cleanUp();let r=yield this._editorService.openCodeEditor({resource:o.selected.marker.resource,options:{pinned:!1,revealIfOpened:!0,selectionRevealType:2,selection:o.selected.marker}},this._editor);r&&(x0.get(r)?.close(),x0.get(r)?.nagivate(e,i))}else this._widget.showAtMarker(o.selected.marker,o.selected.index,o.selected.total)}})}};Nu=x0=nwe([L1(1,Y2),L1(2,Ze),L1(3,Zt),L1(4,Me)],Nu);var e_=class extends Q{constructor(t,e,i){super(i),this._next=t,this._multiFile=e}run(t,e){return M(this,null,function*(){e.hasModel()&&Nu.get(e)?.nagivate(this._next,this._multiFile)})}},C0=class n extends e_{static{this.ID="editor.action.marker.next"}static{this.LABEL=_("markerAction.next.label","Go to Next Problem (Error, Warning, Info)")}constructor(){super(!0,!1,{id:n.ID,label:n.LABEL,alias:"Go to Next Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:T.focus,primary:578,weight:100},menuOpts:{menuId:Jg.TitleMenu,title:n.LABEL,icon:Ii("marker-navigation-next",Ge.arrowDown,_("nextMarkerIcon","Icon for goto next marker.")),group:"navigation",order:1}})}},ez=class n extends e_{static{this.ID="editor.action.marker.prev"}static{this.LABEL=_("markerAction.previous.label","Go to Previous Problem (Error, Warning, Info)")}constructor(){super(!1,!1,{id:n.ID,label:n.LABEL,alias:"Go to Previous Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:T.focus,primary:1602,weight:100},menuOpts:{menuId:Jg.TitleMenu,title:n.LABEL,icon:Ii("marker-navigation-previous",Ge.arrowUp,_("previousMarkerIcon","Icon for goto previous marker.")),group:"navigation",order:2}})}},tz=class extends e_{constructor(){super(!0,!0,{id:"editor.action.marker.nextInFiles",label:_("markerAction.nextInFiles.label","Go to Next Problem in Files (Error, Warning, Info)"),alias:"Go to Next Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:T.focus,primary:66,weight:100},menuOpts:{menuId:be.MenubarGoMenu,title:_({key:"miGotoNextProblem",comment:["&& denotes a mnemonic"]},"Next &&Problem"),group:"6_problem_nav",order:1}})}},iz=class extends e_{constructor(){super(!1,!0,{id:"editor.action.marker.prevInFiles",label:_("markerAction.previousInFiles.label","Go to Previous Problem in Files (Error, Warning, Info)"),alias:"Go to Previous Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:T.focus,primary:1090,weight:100},menuOpts:{menuId:be.MenubarGoMenu,title:_({key:"miGotoPreviousProblem",comment:["&& denotes a mnemonic"]},"Previous &&Problem"),group:"6_problem_nav",order:2}})}};Te(Nu.ID,Nu,4);V(C0);V(ez);V(tz);V(iz);var Q7=new ot("markersNavigationVisible",!1),owe=Ki.bindToContribution(Nu.get);ze(new owe({id:"closeMarkersNavigation",precondition:Q7,handler:n=>n.close(),kbOpts:{weight:150,kbExpr:T.focus,primary:9,secondary:[1033]}}));bc();it();qe();Kt();vn();Re();var Ql=function(n){return n.NoAutoFocus="noAutoFocus",n.FocusIfVisible="focusIfVisible",n.AutoFocusImmediately="autoFocusImmediately",n}(Ql||{}),N1=class extends Q{constructor(){super({id:UI,label:_({key:"showOrFocusHover",comment:["Label for action that will trigger the showing/focusing of a hover in the editor.","If the hover is not visible, it will show the hover.","This allows for users to show the hover without using the mouse."]},"Show or Focus Hover"),metadata:{description:Ne("showOrFocusHoverDescription","Show or focus the editor hover which shows documentation, references, and other content for a symbol at the current cursor position."),args:[{name:"args",schema:{type:"object",properties:{focus:{description:"Controls if and when the hover should take focus upon being triggered by this action.",enum:[Ql.NoAutoFocus,Ql.FocusIfVisible,Ql.AutoFocusImmediately],enumDescriptions:[_("showOrFocusHover.focus.noAutoFocus","The hover will not automatically take focus."),_("showOrFocusHover.focus.focusIfVisible","The hover will take focus only if it is already visible."),_("showOrFocusHover.focus.autoFocusImmediately","The hover will automatically take focus when it appears.")],default:Ql.FocusIfVisible}}}}]},alias:"Show or Focus Hover",precondition:void 0,kbOpts:{kbExpr:T.editorTextFocus,primary:Pi(2089,2087),weight:100}})}run(t,e,i){if(!e.hasModel())return;let o=mo.get(e);if(!o)return;let r=i?.focus,s=Ql.FocusIfVisible;Object.values(Ql).includes(r)?s=r:typeof r=="boolean"&&r&&(s=Ql.AutoFocusImmediately);let a=c=>{let d=e.getPosition(),u=new A(d.lineNumber,d.column,d.lineNumber,d.column);o.showContentHover(u,1,1,c)},l=e.getOption(2)===2;o.isHoverVisible?s!==Ql.NoAutoFocus?o.focus():a(l):a(l||s===Ql.AutoFocusImmediately)}},F1=class extends Q{constructor(){super({id:sK,label:_({key:"showDefinitionPreviewHover",comment:["Label for action that will trigger the showing of definition preview hover in the editor.","This allows for users to show the definition preview hover without using the mouse."]},"Show Definition Preview Hover"),alias:"Show Definition Preview Hover",precondition:void 0,metadata:{description:Ne("showDefinitionPreviewHoverDescription","Show the definition preview hover in the editor.")}})}run(t,e){let i=mo.get(e);if(!i)return;let o=e.getPosition();if(!o)return;let r=new A(o.lineNumber,o.column,o.lineNumber,o.column),s=Zg.get(e);if(!s)return;s.startFindDefinitionFromCursor(o).then(()=>{i.showContentHover(r,1,1,!0)})}},z1=class extends Q{constructor(){super({id:aK,label:_({key:"scrollUpHover",comment:["Action that allows to scroll up in the hover widget with the up arrow when the hover widget is focused."]},"Scroll Up Hover"),alias:"Scroll Up Hover",precondition:T.hoverFocused,kbOpts:{kbExpr:T.hoverFocused,primary:16,weight:100},metadata:{description:Ne("scrollUpHoverDescription","Scroll up the editor hover.")}})}run(t,e){let i=mo.get(e);i&&i.scrollUp()}},B1=class extends Q{constructor(){super({id:lK,label:_({key:"scrollDownHover",comment:["Action that allows to scroll down in the hover widget with the up arrow when the hover widget is focused."]},"Scroll Down Hover"),alias:"Scroll Down Hover",precondition:T.hoverFocused,kbOpts:{kbExpr:T.hoverFocused,primary:18,weight:100},metadata:{description:Ne("scrollDownHoverDescription","Scroll down the editor hover.")}})}run(t,e){let i=mo.get(e);i&&i.scrollDown()}},H1=class extends Q{constructor(){super({id:cK,label:_({key:"scrollLeftHover",comment:["Action that allows to scroll left in the hover widget with the left arrow when the hover widget is focused."]},"Scroll Left Hover"),alias:"Scroll Left Hover",precondition:T.hoverFocused,kbOpts:{kbExpr:T.hoverFocused,primary:15,weight:100},metadata:{description:Ne("scrollLeftHoverDescription","Scroll left the editor hover.")}})}run(t,e){let i=mo.get(e);i&&i.scrollLeft()}},V1=class extends Q{constructor(){super({id:dK,label:_({key:"scrollRightHover",comment:["Action that allows to scroll right in the hover widget with the right arrow when the hover widget is focused."]},"Scroll Right Hover"),alias:"Scroll Right Hover",precondition:T.hoverFocused,kbOpts:{kbExpr:T.hoverFocused,primary:17,weight:100},metadata:{description:Ne("scrollRightHoverDescription","Scroll right the editor hover.")}})}run(t,e){let i=mo.get(e);i&&i.scrollRight()}},W1=class extends Q{constructor(){super({id:uK,label:_({key:"pageUpHover",comment:["Action that allows to page up in the hover widget with the page up command when the hover widget is focused."]},"Page Up Hover"),alias:"Page Up Hover",precondition:T.hoverFocused,kbOpts:{kbExpr:T.hoverFocused,primary:11,secondary:[528],weight:100},metadata:{description:Ne("pageUpHoverDescription","Page up the editor hover.")}})}run(t,e){let i=mo.get(e);i&&i.pageUp()}},j1=class extends Q{constructor(){super({id:hK,label:_({key:"pageDownHover",comment:["Action that allows to page down in the hover widget with the page down command when the hover widget is focused."]},"Page Down Hover"),alias:"Page Down Hover",precondition:T.hoverFocused,kbOpts:{kbExpr:T.hoverFocused,primary:12,secondary:[530],weight:100},metadata:{description:Ne("pageDownHoverDescription","Page down the editor hover.")}})}run(t,e){let i=mo.get(e);i&&i.pageDown()}},U1=class extends Q{constructor(){super({id:mK,label:_({key:"goToTopHover",comment:["Action that allows to go to the top of the hover widget with the home command when the hover widget is focused."]},"Go To Top Hover"),alias:"Go To Bottom Hover",precondition:T.hoverFocused,kbOpts:{kbExpr:T.hoverFocused,primary:14,secondary:[2064],weight:100},metadata:{description:Ne("goToTopHoverDescription","Go to the top of the editor hover.")}})}run(t,e){let i=mo.get(e);i&&i.goToTop()}},q1=class extends Q{constructor(){super({id:pK,label:_({key:"goToBottomHover",comment:["Action that allows to go to the bottom in the hover widget with the end command when the hover widget is focused."]},"Go To Bottom Hover"),alias:"Go To Bottom Hover",precondition:T.hoverFocused,kbOpts:{kbExpr:T.hoverFocused,primary:13,secondary:[2066],weight:100},metadata:{description:Ne("goToBottomHoverDescription","Go to the bottom of the editor hover.")}})}run(t,e){let i=mo.get(e);i&&i.goToBottom()}},G1=class extends Q{constructor(){super({id:wm,label:fK,alias:"Increase Hover Verbosity Level",precondition:T.hoverVisible})}run(t,e,i){let o=mo.get(e);if(!o)return;let r=i?.index!==void 0?i.index:o.focusedHoverPartIndex();o.updateHoverVerbosityLevel(Tr.Increase,r,i?.focus)}},$1=class extends Q{constructor(){super({id:xm,label:gK,alias:"Decrease Hover Verbosity Level",precondition:T.hoverVisible})}run(t,e,i){let o=mo.get(e);if(!o)return;let r=i?.index!==void 0?i.index:o.focusedHoverPartIndex();mo.get(e)?.updateHoverVerbosityLevel(Tr.Decrease,r,i?.focus)}};it();Po();Oo();_t();Oi();Ht();Bt();ue();Zr();qe();Lt();Re();var rwe=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},nz=function(n,t){return function(e,i){t(e,i,n)}},da=ye,oz=class{constructor(t,e,i){this.owner=t,this.range=e,this.marker=i}isValidForHoverAnchor(t){return t.type===1&&this.range.startColumn<=t.range.startColumn&&this.range.endColumn>=t.range.endColumn}},J7={type:1,filter:{include:ui.QuickFix},triggerAction:Bo.QuickFixHover},K1=class{constructor(t,e,i,o){this._editor=t,this._markerDecorationsService=e,this._openerService=i,this._languageFeaturesService=o,this.hoverOrdinal=1,this.recentMarkerCodeActionsInfo=void 0}computeSync(t,e){if(!this._editor.hasModel()||t.type!==1&&!t.supportsMarkerHover)return[];let i=this._editor.getModel(),o=t.range.startLineNumber,r=i.getLineMaxColumn(o),s=[];for(let a of e){let l=a.range.startLineNumber===o?a.range.startColumn:1,c=a.range.endLineNumber===o?a.range.endColumn:r,d=this._markerDecorationsService.getMarker(i.uri,a);if(!d)continue;let u=new A(t.range.startLineNumber,l,t.range.startLineNumber,c);s.push(new oz(this,u,d))}return s}renderHoverParts(t,e){if(!e.length)return new cs([]);let i=new G,o=[];e.forEach(s=>{let a=this._renderMarkerHover(s);t.fragment.appendChild(a.hoverElement),o.push(a)});let r=e.length===1?e[0]:e.sort((s,a)=>wo.compare(s.marker.severity,a.marker.severity))[0];return this.renderMarkerStatusbar(t,r,i),new cs(o)}_renderMarkerHover(t){let e=new G,i=da("div.hover-row"),o=Ce(i,da("div.marker.hover-contents")),{source:r,message:s,code:a,relatedInformation:l}=t.marker;this._editor.applyFontInfo(o);let c=Ce(o,da("span"));if(c.style.whiteSpace="pre-wrap",c.innerText=s,r||a)if(a&&typeof a!="string"){let u=da("span");if(r){let p=Ce(u,da("span"));p.innerText=r}let h=Ce(u,da("a.code-link"));h.setAttribute("href",a.target.toString()),e.add(St(h,"click",p=>{this._openerService.open(a.target,{allowCommands:!0}),p.preventDefault(),p.stopPropagation()}));let m=Ce(h,da("span"));m.innerText=a.value;let f=Ce(o,u);f.style.opacity="0.6",f.style.paddingLeft="6px"}else{let u=Ce(o,da("span"));u.style.opacity="0.6",u.style.paddingLeft="6px",u.innerText=r&&a?`${r}(${a})`:r||`(${a})`}if(Mn(l))for(let{message:u,resource:h,startLineNumber:m,startColumn:f}of l){let p=Ce(o,da("div"));p.style.marginTop="8px";let g=Ce(p,da("a"));g.innerText=`${yr(h)}(${m}, ${f}): `,g.style.cursor="pointer",e.add(St(g,"click",b=>{if(b.stopPropagation(),b.preventDefault(),this._openerService){let C={selection:{startLineNumber:m,startColumn:f}};this._openerService.open(h,{fromUserGesture:!0,editorOptions:C}).catch(ht)}}));let v=Ce(p,da("span"));v.innerText=u,this._editor.applyFontInfo(v)}return{hoverPart:t,hoverElement:i,dispose:()=>e.dispose()}}renderMarkerStatusbar(t,e,i){if(e.marker.severity===wo.Error||e.marker.severity===wo.Warning||e.marker.severity===wo.Info){let o=Nu.get(this._editor);o&&t.statusBar.addAction({label:_("view problem","View Problem"),commandId:C0.ID,run:()=>{t.hide(),o.showAtMarker(e.marker),this._editor.focus()}})}if(!this._editor.getOption(92)){let o=t.statusBar.append(da("div"));this.recentMarkerCodeActionsInfo&&(jR.makeKey(this.recentMarkerCodeActionsInfo.marker)===jR.makeKey(e.marker)?this.recentMarkerCodeActionsInfo.hasCodeActions||(o.textContent=_("noQuickFixes","No quick fixes available")):this.recentMarkerCodeActionsInfo=void 0);let r=this.recentMarkerCodeActionsInfo&&!this.recentMarkerCodeActionsInfo.hasCodeActions?U.None:wc(()=>o.textContent=_("checkingForQuickFixes","Checking for quick fixes..."),200,i);o.textContent||(o.textContent="\xA0");let s=this.getCodeActions(e.marker);i.add(kt(()=>s.cancel())),s.then(a=>{if(r.dispose(),this.recentMarkerCodeActionsInfo={marker:e.marker,hasCodeActions:a.validActions.length>0},!this.recentMarkerCodeActionsInfo.hasCodeActions){a.dispose(),o.textContent=_("noQuickFixes","No quick fixes available");return}o.style.display="none";let l=!1;i.add(kt(()=>{l||a.dispose()})),t.statusBar.addAction({label:_("quick fixes","Quick Fix..."),commandId:ug,run:c=>{l=!0;let d=Qc.get(this._editor),u=Gi(c);t.hide(),d?.showCodeActions(J7,a,{x:u.left,y:u.top,width:u.width,height:u.height})}})},ht)}}getCodeActions(t){return Ci(e=>xu(this._languageFeaturesService.codeActionProvider,this._editor.getModel(),new A(t.startLineNumber,t.startColumn,t.endLineNumber,t.endColumn),J7,Cs.None,e))}};K1=rwe([nz(1,jU),nz(2,$n),nz(3,ce)],K1);ue();Ot();Ht();_t();ue();Pa();Oi();Js();Na();var Y1=class{get lineNumber(){return this._lineNumber}set lineNumber(t){this._lineNumber=t}get lane(){return this._laneOrLine}set lane(t){this._laneOrLine=t}constructor(t){this._editor=t,this._lineNumber=-1,this._laneOrLine=Ap.Center}computeSync(){let t=r=>({value:r}),e=this._editor.getLineDecorations(this._lineNumber),i=[],o=this._laneOrLine==="lineNo";if(!e)return i;for(let r of e){let s=r.options.glyphMargin?.position??Ap.Center;if(!o&&s!==this._laneOrLine)continue;let a=o?r.options.lineNumberHoverMessage:r.options.glyphMarginHoverMessage;!a||Fd(a)||i.push(...xx(a).map(t))}return i}};var swe=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},eY=function(n,t){return function(e,i){t(e,i,n)}},rz,tY=ye,X1=class extends U{static{rz=this}static{this.ID="editor.contrib.modesGlyphHoverWidget"}constructor(e,i,o){super(),this._renderDisposeables=this._register(new G),this._editor=e,this._isVisible=!1,this._messages=[],this._hover=this._register(new nC),this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible),this._markdownRenderer=this._register(new ea({editor:this._editor},i,o)),this._computer=new Y1(this._editor),this._hoverOperation=this._register(new vg(this._editor,this._computer)),this._register(this._hoverOperation.onResult(r=>{this._withResult(r.value)})),this._register(this._editor.onDidChangeModelDecorations(()=>this._onModelDecorationsChanged())),this._register(this._editor.onDidChangeConfiguration(r=>{r.hasChanged(50)&&this._updateFont()})),this._register(vr(this._hover.containerDomNode,"mouseleave",r=>{this._onMouseLeave(r)})),this._editor.addOverlayWidget(this)}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return rz.ID}getDomNode(){return this._hover.containerDomNode}getPosition(){return null}_updateFont(){Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach(i=>this._editor.applyFontInfo(i))}_onModelDecorationsChanged(){this._isVisible&&(this._hoverOperation.cancel(),this._hoverOperation.start(0))}showsOrWillShow(e){let i=e.target;return i.type===2&&i.detail.glyphMarginLane?(this._startShowingAt(i.position.lineNumber,i.detail.glyphMarginLane),!0):i.type===3?(this._startShowingAt(i.position.lineNumber,"lineNo"),!0):!1}_startShowingAt(e,i){this._computer.lineNumber===e&&this._computer.lane===i||(this._hoverOperation.cancel(),this.hide(),this._computer.lineNumber=e,this._computer.lane=i,this._hoverOperation.start(0))}hide(){this._computer.lineNumber=-1,this._hoverOperation.cancel(),this._isVisible&&(this._isVisible=!1,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible))}_withResult(e){this._messages=e,this._messages.length>0?this._renderMessages(this._computer.lineNumber,this._messages):this.hide()}_renderMessages(e,i){this._renderDisposeables.clear();let o=document.createDocumentFragment();for(let r of i){let s=tY("div.hover-row.markdown-hover"),a=Ce(s,tY("div.hover-contents")),l=this._renderDisposeables.add(this._markdownRenderer.render(r.value));a.appendChild(l.element),o.appendChild(s)}this._updateContents(o),this._showAt(e)}_updateContents(e){this._hover.contentsDomNode.textContent="",this._hover.contentsDomNode.appendChild(e),this._updateFont()}_showAt(e){this._isVisible||(this._isVisible=!0,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible));let i=this._editor.getLayoutInfo(),o=this._editor.getTopForLineNumber(e),r=this._editor.getScrollTop(),s=this._editor.getOption(67),a=this._hover.containerDomNode.clientHeight,l=o-r-(a-s)/2,c=i.glyphMarginLeft+i.glyphMarginWidth+(this._computer.lane==="lineNo"?i.lineNumbersWidth:0);this._hover.containerDomNode.style.left=`${c}px`,this._hover.containerDomNode.style.top=`${Math.max(Math.round(l),0)}px`}_onMouseLeave(e){let i=this._editor.getDomNode();(!i||!Du(i,e.x,e.y))&&this.hide()}};X1=rz=swe([eY(1,qn),eY(2,$n)],X1);var awe=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},lwe=function(n,t){return function(e,i){t(e,i,n)}},sz=!1,S0=class extends U{static{this.ID="editor.contrib.marginHover"}constructor(t,e){super(),this._editor=t,this._instantiationService=e,this.shouldKeepOpenOnEditorMouseMoveOrLeave=!1,this._listenersStore=new G,this._hoverState={mouseDown:!1},this._reactToEditorMouseMoveRunner=this._register(new ai(()=>this._reactToEditorMouseMove(this._mouseMoveEvent),0)),this._hookListeners(),this._register(this._editor.onDidChangeConfiguration(i=>{i.hasChanged(60)&&(this._unhookListeners(),this._hookListeners())}))}_hookListeners(){let t=this._editor.getOption(60);this._hoverSettings={enabled:t.enabled,sticky:t.sticky,hidingDelay:t.hidingDelay},t.enabled?(this._listenersStore.add(this._editor.onMouseDown(e=>this._onEditorMouseDown(e))),this._listenersStore.add(this._editor.onMouseUp(()=>this._onEditorMouseUp())),this._listenersStore.add(this._editor.onMouseMove(e=>this._onEditorMouseMove(e))),this._listenersStore.add(this._editor.onKeyDown(e=>this._onKeyDown(e)))):(this._listenersStore.add(this._editor.onMouseMove(e=>this._onEditorMouseMove(e))),this._listenersStore.add(this._editor.onKeyDown(e=>this._onKeyDown(e)))),this._listenersStore.add(this._editor.onMouseLeave(e=>this._onEditorMouseLeave(e))),this._listenersStore.add(this._editor.onDidChangeModel(()=>{this._cancelScheduler(),this._hideWidgets()})),this._listenersStore.add(this._editor.onDidChangeModelContent(()=>this._cancelScheduler())),this._listenersStore.add(this._editor.onDidScrollChange(e=>this._onEditorScrollChanged(e)))}_unhookListeners(){this._listenersStore.clear()}_cancelScheduler(){this._mouseMoveEvent=void 0,this._reactToEditorMouseMoveRunner.cancel()}_onEditorScrollChanged(t){(t.scrollTopChanged||t.scrollLeftChanged)&&this._hideWidgets()}_onEditorMouseDown(t){this._hoverState.mouseDown=!0,!this._isMouseOnMarginHoverWidget(t)&&this._hideWidgets()}_isMouseOnMarginHoverWidget(t){let e=this._glyphWidget?.getDomNode();return e?Du(e,t.event.posx,t.event.posy):!1}_onEditorMouseUp(){this._hoverState.mouseDown=!1}_onEditorMouseLeave(t){this.shouldKeepOpenOnEditorMouseMoveOrLeave||(this._cancelScheduler(),this._isMouseOnMarginHoverWidget(t))||sz||this._hideWidgets()}_shouldNotRecomputeCurrentHoverWidget(t){let e=this._hoverSettings.sticky,i=this._isMouseOnMarginHoverWidget(t);return e&&i}_onEditorMouseMove(t){if(this.shouldKeepOpenOnEditorMouseMoveOrLeave)return;if(this._mouseMoveEvent=t,this._shouldNotRecomputeCurrentHoverWidget(t)){this._reactToEditorMouseMoveRunner.cancel();return}this._reactToEditorMouseMove(t)}_reactToEditorMouseMove(t){!t||this._tryShowHoverWidget(t)||sz||this._hideWidgets()}_tryShowHoverWidget(t){return this._getOrCreateGlyphWidget().showsOrWillShow(t)}_onKeyDown(t){this._editor.hasModel()&&(t.keyCode===5||t.keyCode===6||t.keyCode===57||t.keyCode===4||this._hideWidgets())}_hideWidgets(){sz||this._glyphWidget?.hide()}_getOrCreateGlyphWidget(){return this._glyphWidget||(this._glyphWidget=this._instantiationService.createInstance(X1,this._editor)),this._glyphWidget}dispose(){super.dispose(),this._unhookListeners(),this._listenersStore.dispose(),this._glyphWidget?.dispose()}};S0=awe([lwe(1,Me)],S0);var Z1=class{},Q1=class{},J1=class{};Te(mo.ID,mo,2);Te(S0.ID,S0,2);V(N1);V(F1);V(z1);V(B1);V(H1);V(V1);V(W1);V(j1);V(U1);V(q1);V(G1);V($1);Os.register(Eu);Os.register(K1);Ld((n,t)=>{let e=n.getColor(k5);e&&(t.addRule(`.monaco-editor .monaco-hover .hover-row:not(:first-child):not(:empty) { border-top: 1px solid ${e.transparent(.5)}; }`),t.addRule(`.monaco-editor .monaco-hover hr { border-top: 1px solid ${e.transparent(.5)}; }`),t.addRule(`.monaco-editor .monaco-hover hr { border-bottom: 0px solid ${e.transparent(.5)}; }`))});Xg.register(new Z1);Xg.register(new Q1);Xg.register(new J1);ue();zi();it();qe();Kt();rr();bs();function dr(n,t){let e=0;for(let i=0;i<n.length;i++)n.charAt(i)==="	"?e+=t:e++;return e}function Nm(n,t,e){n=n<0?0:n;let i="";if(!e){let o=Math.floor(n/t);n=n%t;for(let r=0;r<o;r++)i+="	"}for(let o=0;o<n;o++)i+=" ";return i}Re();zi();Oue();Nn();function az(n,t,e,i){if(n.getLineCount()===1&&n.getLineMaxColumn(1)===1)return[];let o=t.getLanguageConfiguration(n.getLanguageId()).indentRulesSupport;if(!o)return[];let r=new y8(n,o,t);for(i=Math.min(i,n.getLineCount());e<=i&&r.shouldIgnore(e);)e++;if(e>i-1)return[];let{tabSize:s,indentSize:a,insertSpaces:l}=n.getOptions(),c=(p,g)=>(g=g||1,Bc.shiftIndent(p,p.length+g,s,a,l)),d=(p,g)=>(g=g||1,Bc.unshiftIndent(p,p.length+g,s,a,l)),u=[],h=n.getLineContent(e),m=hn(h),f=m;r.shouldIncrease(e)?(f=c(f),m=c(m)):r.shouldIndentNextLine(e)&&(f=c(f)),e++;for(let p=e;p<=i;p++){if(cwe(n,p))continue;let g=n.getLineContent(p),v=hn(g),b=f;r.shouldDecrease(p,b)&&(f=d(f),m=d(m)),v!==f&&u.push(mi.replaceMove(new Be(p,1,p,v.length+1),qU(f,a,l))),!r.shouldIgnore(p)&&(r.shouldIncrease(p,b)?(m=c(m),f=m):r.shouldIndentNextLine(p,b)?f=c(f):f=m)}return u}function cwe(n,t){return n.tokenization.isCheapToTokenize(t)?n.tokenization.getLineTokens(t).getStandardTokenType(0)===2:!1}fU();var dwe=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},uwe=function(n,t){return function(e,i){t(e,i,n)}},hwe=(()=>{class n extends Q{static{this.ID="editor.action.indentationToSpaces"}constructor(){super({id:n.ID,label:_("indentationToSpaces","Convert Indentation to Spaces"),alias:"Convert Indentation to Spaces",precondition:T.writable,metadata:{description:Ne("indentationToSpacesDescription","Convert the tab indentation to spaces.")}})}run(e,i){let o=i.getModel();if(!o)return;let r=o.getOptions(),s=i.getSelection();if(!s)return;let a=new uz(s,r.tabSize);i.pushUndoStop(),i.executeCommands(this.id,[a]),i.pushUndoStop(),o.updateOptions({insertSpaces:!0})}}return n})(),mwe=(()=>{class n extends Q{static{this.ID="editor.action.indentationToTabs"}constructor(){super({id:n.ID,label:_("indentationToTabs","Convert Indentation to Tabs"),alias:"Convert Indentation to Tabs",precondition:T.writable,metadata:{description:Ne("indentationToTabsDescription","Convert the spaces indentation to tabs.")}})}run(e,i){let o=i.getModel();if(!o)return;let r=o.getOptions(),s=i.getSelection();if(!s)return;let a=new hz(s,r.tabSize);i.pushUndoStop(),i.executeCommands(this.id,[a]),i.pushUndoStop(),o.updateOptions({insertSpaces:!1})}}return n})(),D0=class extends Q{constructor(t,e,i){super(i),this.insertSpaces=t,this.displaySizeOnly=e}run(t,e){let i=t.get(Go),o=t.get(Ui),r=e.getModel();if(!r)return;let s=o.getCreationOptions(r.getLanguageId(),r.uri,r.isForSimpleWidget),a=r.getOptions(),l=[1,2,3,4,5,6,7,8].map(d=>({id:d.toString(),label:d.toString(),description:d===s.tabSize&&d===a.tabSize?_("configuredTabSize","Configured Tab Size"):d===s.tabSize?_("defaultTabSize","Default Tab Size"):d===a.tabSize?_("currentTabSize","Current Tab Size"):void 0})),c=Math.min(r.getOptions().tabSize-1,7);setTimeout(()=>{i.pick(l,{placeHolder:_({key:"selectTabWidth",comment:["Tab corresponds to the tab key"]},"Select Tab Size for Current File"),activeItem:l[c]}).then(d=>{if(d&&r&&!r.isDisposed()){let u=parseInt(d.label,10);this.displaySizeOnly?r.updateOptions({tabSize:u}):r.updateOptions({tabSize:u,indentSize:u,insertSpaces:this.insertSpaces})}})},50)}},pwe=(()=>{class n extends D0{static{this.ID="editor.action.indentUsingTabs"}constructor(){super(!1,!1,{id:n.ID,label:_("indentUsingTabs","Indent Using Tabs"),alias:"Indent Using Tabs",precondition:void 0,metadata:{description:Ne("indentUsingTabsDescription","Use indentation with tabs.")}})}}return n})(),fwe=(()=>{class n extends D0{static{this.ID="editor.action.indentUsingSpaces"}constructor(){super(!0,!1,{id:n.ID,label:_("indentUsingSpaces","Indent Using Spaces"),alias:"Indent Using Spaces",precondition:void 0,metadata:{description:Ne("indentUsingSpacesDescription","Use indentation with spaces.")}})}}return n})(),gwe=(()=>{class n extends D0{static{this.ID="editor.action.changeTabDisplaySize"}constructor(){super(!0,!0,{id:n.ID,label:_("changeTabDisplaySize","Change Tab Display Size"),alias:"Change Tab Display Size",precondition:void 0,metadata:{description:Ne("changeTabDisplaySizeDescription","Change the space size equivalent of the tab.")}})}}return n})(),_we=(()=>{class n extends Q{static{this.ID="editor.action.detectIndentation"}constructor(){super({id:n.ID,label:_("detectIndentation","Detect Indentation from Content"),alias:"Detect Indentation from Content",precondition:void 0,metadata:{description:Ne("detectIndentationDescription","Detect the indentation from content.")}})}run(e,i){let o=e.get(Ui),r=i.getModel();if(!r)return;let s=o.getCreationOptions(r.getLanguageId(),r.uri,r.isForSimpleWidget);r.detectIndentation(s.insertSpaces,s.tabSize)}}return n})(),lz=class extends Q{constructor(){super({id:"editor.action.reindentlines",label:_("editor.reindentlines","Reindent Lines"),alias:"Reindent Lines",precondition:T.writable,metadata:{description:Ne("editor.reindentlinesDescription","Reindent the lines of the editor.")}})}run(t,e){let i=t.get(yi),o=e.getModel();if(!o)return;let r=az(o,i,1,o.getLineCount());r.length>0&&(e.pushUndoStop(),e.executeEdits(this.id,r),e.pushUndoStop())}},cz=class extends Q{constructor(){super({id:"editor.action.reindentselectedlines",label:_("editor.reindentselectedlines","Reindent Selected Lines"),alias:"Reindent Selected Lines",precondition:T.writable,metadata:{description:Ne("editor.reindentselectedlinesDescription","Reindent the selected lines of the editor.")}})}run(t,e){let i=t.get(yi),o=e.getModel();if(!o)return;let r=e.getSelections();if(r===null)return;let s=[];for(let a of r){let l=a.startLineNumber,c=a.endLineNumber;if(l!==c&&a.endColumn===1&&c--,l===1){if(l===c)continue}else l--;let d=az(o,i,l,c);s.push(...d)}s.length>0&&(e.pushUndoStop(),e.executeEdits(this.id,s),e.pushUndoStop())}},dz=class{constructor(t,e){this._initialSelection=e,this._edits=[],this._selectionId=null;for(let i of t)i.range&&typeof i.text=="string"&&this._edits.push(i)}getEditOperations(t,e){for(let o of this._edits)e.addEditOperation(A.lift(o.range),o.text);let i=!1;Array.isArray(this._edits)&&this._edits.length===1&&this._initialSelection.isEmpty()&&(this._edits[0].range.startColumn===this._initialSelection.endColumn&&this._edits[0].range.startLineNumber===this._initialSelection.endLineNumber?(i=!0,this._selectionId=e.trackSelection(this._initialSelection,!0)):this._edits[0].range.endColumn===this._initialSelection.startColumn&&this._edits[0].range.endLineNumber===this._initialSelection.startLineNumber&&(i=!0,this._selectionId=e.trackSelection(this._initialSelection,!1))),i||(this._selectionId=e.trackSelection(this._initialSelection))}computeCursorState(t,e){return e.getTrackedSelection(this._selectionId)}},eM=class{static{this.ID="editor.contrib.autoIndentOnPaste"}constructor(t,e){this.editor=t,this._languageConfigurationService=e,this.callOnDispose=new G,this.callOnModel=new G,this.callOnDispose.add(t.onDidChangeConfiguration(()=>this.update())),this.callOnDispose.add(t.onDidChangeModel(()=>this.update())),this.callOnDispose.add(t.onDidChangeModelLanguage(()=>this.update()))}update(){this.callOnModel.clear(),!(this.editor.getOption(12)<4||this.editor.getOption(55))&&this.editor.hasModel()&&this.callOnModel.add(this.editor.onDidPaste(({range:t})=>{this.trigger(t)}))}trigger(t){let e=this.editor.getSelections();if(e===null||e.length>1)return;let i=this.editor.getModel();if(!i||this.rangeContainsOnlyWhitespaceCharacters(i,t)||vwe(i,t)||!i.tokenization.isCheapToTokenize(t.getStartPosition().lineNumber))return;let r=this.editor.getOption(12),{tabSize:s,indentSize:a,insertSpaces:l}=i.getOptions(),c=[],d={shiftIndent:f=>Bc.shiftIndent(f,f.length+1,s,a,l),unshiftIndent:f=>Bc.unshiftIndent(f,f.length+1,s,a,l)},u=t.startLineNumber;for(;u<=t.endLineNumber;){if(this.shouldIgnoreLine(i,u)){u++;continue}break}if(u>t.endLineNumber)return;let h=i.getLineContent(u);if(!/\S/.test(h.substring(0,t.startColumn-1))){let f=zh(r,i,i.getLanguageId(),u,d,this._languageConfigurationService);if(f!==null){let p=hn(h),g=dr(f,s),v=dr(p,s);if(g!==v){let b=Nm(g,s,l);c.push({range:new A(u,1,u,p.length+1),text:b}),h=b+h.substring(p.length)}else{let b=LC(i,u,this._languageConfigurationService);if(b===0||b===8)return}}}let m=u;for(;u<t.endLineNumber;){if(!/\S/.test(i.getLineContent(u+1))){u++;continue}break}if(u!==t.endLineNumber){let p=zh(r,{tokenization:{getLineTokens:g=>i.tokenization.getLineTokens(g),getLanguageId:()=>i.getLanguageId(),getLanguageIdAtPosition:(g,v)=>i.getLanguageIdAtPosition(g,v)},getLineContent:g=>g===m?h:i.getLineContent(g)},i.getLanguageId(),u+1,d,this._languageConfigurationService);if(p!==null){let g=dr(p,s),v=dr(hn(i.getLineContent(u+1)),s);if(g!==v){let b=g-v;for(let C=u+1;C<=t.endLineNumber;C++){let k=i.getLineContent(C),E=hn(k),L=dr(E,s)+b,H=Nm(L,s,l);H!==E&&c.push({range:new A(C,1,C,E.length+1),text:H})}}}}if(c.length>0){this.editor.pushUndoStop();let f=new dz(c,this.editor.getSelection());this.editor.executeCommand("autoIndentOnPaste",f),this.editor.pushUndoStop()}}rangeContainsOnlyWhitespaceCharacters(t,e){let i=r=>r.trim().length===0,o=!0;if(e.startLineNumber===e.endLineNumber){let s=t.getLineContent(e.startLineNumber).substring(e.startColumn-1,e.endColumn-1);o=i(s)}else for(let r=e.startLineNumber;r<=e.endLineNumber;r++){let s=t.getLineContent(r);if(r===e.startLineNumber){let a=s.substring(e.startColumn-1);o=i(a)}else if(r===e.endLineNumber){let a=s.substring(0,e.endColumn-1);o=i(a)}else o=t.getLineFirstNonWhitespaceColumn(r)===0;if(!o)break}return o}shouldIgnoreLine(t,e){t.tokenization.forceTokenization(e);let i=t.getLineFirstNonWhitespaceColumn(e);if(i===0)return!0;let o=t.tokenization.getLineTokens(e);if(o.getCount()>0){let r=o.findTokenIndexAtOffset(i);if(r>=0&&o.getStandardTokenType(r)===1)return!0}return!1}dispose(){this.callOnDispose.dispose(),this.callOnModel.dispose()}};eM=dwe([uwe(1,yi)],eM);function vwe(n,t){let e=i=>pU(n,i)===2;return e(t.getStartPosition())||e(t.getEndPosition())}function nY(n,t,e,i){if(n.getLineCount()===1&&n.getLineMaxColumn(1)===1)return;let o="";for(let s=0;s<e;s++)o+=" ";let r=new RegExp(o,"gi");for(let s=1,a=n.getLineCount();s<=a;s++){let l=n.getLineFirstNonWhitespaceColumn(s);if(l===0&&(l=n.getLineMaxColumn(s)),l===1)continue;let c=new A(s,1,s,l),d=n.getValueInRange(c),u=i?d.replace(/\t/ig,o):d.replace(r,"	");t.addEditOperation(c,u)}}var uz=class{constructor(t,e){this.selection=t,this.tabSize=e,this.selectionId=null}getEditOperations(t,e){this.selectionId=e.trackSelection(this.selection),nY(t,e,this.tabSize,!0)}computeCursorState(t,e){return e.getTrackedSelection(this.selectionId)}},hz=class{constructor(t,e){this.selection=t,this.tabSize=e,this.selectionId=null}getEditOperations(t,e){this.selectionId=e.trackSelection(this.selection),nY(t,e,this.tabSize,!1)}computeCursorState(t,e){return e.getTrackedSelection(this.selectionId)}};Te(eM.ID,eM,2);V(hwe);V(mwe);V(pwe);V(fwe);V(gwe);V(_we);V(lz);V(cz);it();Te(Em.ID,Em,1);Os.register(Tg);var F$t=up(sY());it();Kt();Re();var fz=class extends Q{constructor(){super({id:"expandLineSelection",label:_("expandLineSelection","Expand Line Selection"),alias:"Expand Line Selection",precondition:void 0,kbOpts:{weight:0,kbExpr:T.textInputFocus,primary:2090}})}run(t,e,i){if(i=i||{},!e.hasModel())return;let o=e._getViewModel();o.model.pushStackElement(),o.setCursorStates(i.source,3,Fv.expandLineSelection(o,o.getCursorStates())),o.revealAllCursors(i.source,!0)}};V(fz);bc();it();zi();qe();var nM=class{constructor(t,e,i){this._selection=t,this._cursors=e,this._selectionId=null,this._trimInRegexesAndStrings=i}getEditOperations(t,e){let i=wwe(t,this._cursors,this._trimInRegexesAndStrings);for(let o=0,r=i.length;o<r;o++){let s=i[o];e.addEditOperation(s.range,s.text)}this._selectionId=e.trackSelection(this._selection)}computeCursorState(t,e){return e.getTrackedSelection(this._selectionId)}};function wwe(n,t,e){t.sort((a,l)=>a.lineNumber===l.lineNumber?a.column-l.column:a.lineNumber-l.lineNumber);for(let a=t.length-2;a>=0;a--)t[a].lineNumber===t[a+1].lineNumber&&t.splice(a,1);let i=[],o=0,r=0,s=t.length;for(let a=1,l=n.getLineCount();a<=l;a++){let c=n.getLineContent(a),d=c.length+1,u=0;if(r<s&&t[r].lineNumber===a&&(u=t[r].column,r++,u===d)||c.length===0)continue;let h=Mp(c),m=0;if(h===-1)m=1;else if(h!==c.length-1)m=h+2;else continue;if(!e){if(!n.tokenization.hasAccurateTokensForLine(a))continue;let f=n.tokenization.getLineTokens(a),p=f.getStandardTokenType(f.findTokenIndexAtOffset(m));if(p===2||p===3)continue}m=Math.max(u,m),i[o++]=mi.delete(new A(a,m,a,d))}return i}hi();qe();Nn();Kt();qe();Nn();var E0=class{constructor(t,e,i){this._selection=t,this._isCopyingDown=e,this._noop=i||!1,this._selectionDirection=0,this._selectionId=null,this._startLineNumberDelta=0,this._endLineNumberDelta=0}getEditOperations(t,e){let i=this._selection;this._startLineNumberDelta=0,this._endLineNumberDelta=0,i.startLineNumber<i.endLineNumber&&i.endColumn===1&&(this._endLineNumberDelta=1,i=i.setEndPosition(i.endLineNumber-1,t.getLineMaxColumn(i.endLineNumber-1)));let o=[];for(let s=i.startLineNumber;s<=i.endLineNumber;s++)o.push(t.getLineContent(s));let r=o.join(`
`);r===""&&this._isCopyingDown&&(this._startLineNumberDelta++,this._endLineNumberDelta++),this._noop?e.addEditOperation(new A(i.endLineNumber,t.getLineMaxColumn(i.endLineNumber),i.endLineNumber+1,1),i.endLineNumber===t.getLineCount()?"":`
`):this._isCopyingDown?e.addEditOperation(new A(i.startLineNumber,1,i.startLineNumber,1),r+`
`):e.addEditOperation(new A(i.endLineNumber,t.getLineMaxColumn(i.endLineNumber),i.endLineNumber,t.getLineMaxColumn(i.endLineNumber)),`
`+r),this._selectionId=e.trackSelection(i),this._selectionDirection=this._selection.getDirection()}computeCursorState(t,e){let i=e.getTrackedSelection(this._selectionId);if(this._startLineNumberDelta!==0||this._endLineNumberDelta!==0){let o=i.startLineNumber,r=i.startColumn,s=i.endLineNumber,a=i.endColumn;this._startLineNumberDelta!==0&&(o=o+this._startLineNumberDelta,r=1),this._endLineNumberDelta!==0&&(s=s+this._endLineNumberDelta,a=1),i=Be.createWithDirection(o,r,s,a,this._selectionDirection)}return i}};zi();qe();Nn();vue();rr();var xwe=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},Cwe=function(n,t){return function(e,i){t(e,i,n)}},oM=class{constructor(t,e,i,o){this._languageConfigurationService=o,this._selection=t,this._isMovingDown=e,this._autoIndent=i,this._selectionId=null,this._moveEndLineSelectionShrink=!1}getEditOperations(t,e){let i=()=>t.getLanguageId(),o=(u,h)=>t.getLanguageIdAtPosition(u,h),r=t.getLineCount();if(this._isMovingDown&&this._selection.endLineNumber===r){this._selectionId=e.trackSelection(this._selection);return}if(!this._isMovingDown&&this._selection.startLineNumber===1){this._selectionId=e.trackSelection(this._selection);return}this._moveEndPositionDown=!1;let s=this._selection;s.startLineNumber<s.endLineNumber&&s.endColumn===1&&(this._moveEndPositionDown=!0,s=s.setEndPosition(s.endLineNumber-1,t.getLineMaxColumn(s.endLineNumber-1)));let{tabSize:a,indentSize:l,insertSpaces:c}=t.getOptions(),d=this.buildIndentConverter(a,l,c);if(s.startLineNumber===s.endLineNumber&&t.getLineMaxColumn(s.startLineNumber)===1){let u=s.startLineNumber,h=this._isMovingDown?u+1:u-1;t.getLineMaxColumn(h)===1?e.addEditOperation(new A(1,1,1,1),null):(e.addEditOperation(new A(u,1,u,1),t.getLineContent(h)),e.addEditOperation(new A(h,1,h,t.getLineMaxColumn(h)),null)),s=new Be(h,1,h,1)}else{let u,h;if(this._isMovingDown){u=s.endLineNumber+1,h=t.getLineContent(u),e.addEditOperation(new A(u-1,t.getLineMaxColumn(u-1),u,t.getLineMaxColumn(u)),null);let m=h;if(this.shouldAutoIndent(t,s)){let f=this.matchEnterRule(t,d,a,u,s.startLineNumber-1);if(f!==null){let g=hn(t.getLineContent(u)),v=f+dr(g,a);m=Nm(v,a,c)+this.trimStart(h)}else{let g={tokenization:{getLineTokens:b=>b===s.startLineNumber?t.tokenization.getLineTokens(u):t.tokenization.getLineTokens(b),getLanguageId:i,getLanguageIdAtPosition:o},getLineContent:b=>b===s.startLineNumber?t.getLineContent(u):t.getLineContent(b)},v=zh(this._autoIndent,g,t.getLanguageIdAtPosition(u,1),s.startLineNumber,d,this._languageConfigurationService);if(v!==null){let b=hn(t.getLineContent(u)),C=dr(v,a),k=dr(b,a);C!==k&&(m=Nm(C,a,c)+this.trimStart(h))}}e.addEditOperation(new A(s.startLineNumber,1,s.startLineNumber,1),m+`
`);let p=this.matchEnterRuleMovingDown(t,d,a,s.startLineNumber,u,m);if(p!==null)p!==0&&this.getIndentEditsOfMovingBlock(t,e,s,a,c,p);else{let g={tokenization:{getLineTokens:b=>b===s.startLineNumber?t.tokenization.getLineTokens(u):b>=s.startLineNumber+1&&b<=s.endLineNumber+1?t.tokenization.getLineTokens(b-1):t.tokenization.getLineTokens(b),getLanguageId:i,getLanguageIdAtPosition:o},getLineContent:b=>b===s.startLineNumber?m:b>=s.startLineNumber+1&&b<=s.endLineNumber+1?t.getLineContent(b-1):t.getLineContent(b)},v=zh(this._autoIndent,g,t.getLanguageIdAtPosition(u,1),s.startLineNumber+1,d,this._languageConfigurationService);if(v!==null){let b=hn(t.getLineContent(s.startLineNumber)),C=dr(v,a),k=dr(b,a);if(C!==k){let E=C-k;this.getIndentEditsOfMovingBlock(t,e,s,a,c,E)}}}}else e.addEditOperation(new A(s.startLineNumber,1,s.startLineNumber,1),m+`
`)}else if(u=s.startLineNumber-1,h=t.getLineContent(u),e.addEditOperation(new A(u,1,u+1,1),null),e.addEditOperation(new A(s.endLineNumber,t.getLineMaxColumn(s.endLineNumber),s.endLineNumber,t.getLineMaxColumn(s.endLineNumber)),`
`+h),this.shouldAutoIndent(t,s)){let m={tokenization:{getLineTokens:p=>p===u?t.tokenization.getLineTokens(s.startLineNumber):t.tokenization.getLineTokens(p),getLanguageId:i,getLanguageIdAtPosition:o},getLineContent:p=>p===u?t.getLineContent(s.startLineNumber):t.getLineContent(p)},f=this.matchEnterRule(t,d,a,s.startLineNumber,s.startLineNumber-2);if(f!==null)f!==0&&this.getIndentEditsOfMovingBlock(t,e,s,a,c,f);else{let p=zh(this._autoIndent,m,t.getLanguageIdAtPosition(s.startLineNumber,1),u,d,this._languageConfigurationService);if(p!==null){let g=hn(t.getLineContent(s.startLineNumber)),v=dr(p,a),b=dr(g,a);if(v!==b){let C=v-b;this.getIndentEditsOfMovingBlock(t,e,s,a,c,C)}}}}}this._selectionId=e.trackSelection(s)}buildIndentConverter(t,e,i){return{shiftIndent:o=>Bc.shiftIndent(o,o.length+1,t,e,i),unshiftIndent:o=>Bc.unshiftIndent(o,o.length+1,t,e,i)}}parseEnterResult(t,e,i,o,r){if(r){let s=r.indentation;r.indentAction===yv.None||r.indentAction===yv.Indent?s=r.indentation+r.appendText:r.indentAction===yv.IndentOutdent?s=r.indentation:r.indentAction===yv.Outdent&&(s=e.unshiftIndent(r.indentation)+r.appendText);let a=t.getLineContent(o);if(this.trimStart(a).indexOf(this.trimStart(s))>=0){let l=hn(t.getLineContent(o)),c=hn(s),d=LC(t,o,this._languageConfigurationService);d!==null&&d&2&&(c=e.unshiftIndent(c));let u=dr(c,i),h=dr(l,i);return u-h}}return null}matchEnterRuleMovingDown(t,e,i,o,r,s){if(Mp(s)>=0){let a=t.getLineMaxColumn(r),l=PC(this._autoIndent,t,new A(r,a,r,a),this._languageConfigurationService);return this.parseEnterResult(t,e,i,o,l)}else{let a=o-1;for(;a>=1;){let d=t.getLineContent(a);if(Mp(d)>=0)break;a--}if(a<1||o>t.getLineCount())return null;let l=t.getLineMaxColumn(a),c=PC(this._autoIndent,t,new A(a,l,a,l),this._languageConfigurationService);return this.parseEnterResult(t,e,i,o,c)}}matchEnterRule(t,e,i,o,r,s){let a=r;for(;a>=1;){let d;if(a===r&&s!==void 0?d=s:d=t.getLineContent(a),Mp(d)>=0)break;a--}if(a<1||o>t.getLineCount())return null;let l=t.getLineMaxColumn(a),c=PC(this._autoIndent,t,new A(a,l,a,l),this._languageConfigurationService);return this.parseEnterResult(t,e,i,o,c)}trimStart(t){return t.replace(/^\s+/,"")}shouldAutoIndent(t,e){if(this._autoIndent<4||!t.tokenization.isCheapToTokenize(e.startLineNumber))return!1;let i=t.getLanguageIdAtPosition(e.startLineNumber,1),o=t.getLanguageIdAtPosition(e.endLineNumber,1);return!(i!==o||this._languageConfigurationService.getLanguageConfiguration(i).indentRulesSupport===null)}getIndentEditsOfMovingBlock(t,e,i,o,r,s){for(let a=i.startLineNumber;a<=i.endLineNumber;a++){let l=t.getLineContent(a),c=hn(l),u=dr(c,o)+s,h=Nm(u,o,r);h!==c&&(e.addEditOperation(new A(a,1,a,c.length+1),h),a===i.endLineNumber&&i.endColumn<=c.length+1&&h===""&&(this._moveEndLineSelectionShrink=!0))}}computeCursorState(t,e){let i=e.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(i=i.setEndPosition(i.endLineNumber+1,1)),this._moveEndLineSelectionShrink&&i.startLineNumber<i.endLineNumber&&(i=i.setEndPosition(i.endLineNumber,2)),i}};oM=xwe([Cwe(3,yi)],oM);qe();var rM=(()=>{class n{static{this._COLLATOR=null}static getCollator(){return n._COLLATOR||(n._COLLATOR=new Intl.Collator),n._COLLATOR}constructor(e,i){this.selection=e,this.descending=i,this.selectionId=null}getEditOperations(e,i){let o=Swe(e,this.selection,this.descending);o&&i.addEditOperation(o.range,o.text),this.selectionId=i.trackSelection(this.selection)}computeCursorState(e,i){return i.getTrackedSelection(this.selectionId)}static canRun(e,i,o){if(e===null)return!1;let r=aY(e,i,o);if(!r)return!1;for(let s=0,a=r.before.length;s<a;s++)if(r.before[s]!==r.after[s])return!0;return!1}}return n})();function aY(n,t,e){let i=t.startLineNumber,o=t.endLineNumber;if(t.endColumn===1&&o--,i>=o)return null;let r=[];for(let a=i;a<=o;a++)r.push(n.getLineContent(a));let s=r.slice(0);return s.sort(rM.getCollator().compare),e===!0&&(s=s.reverse()),{startLineNumber:i,endLineNumber:o,before:r,after:s}}function Swe(n,t,e){let i=aY(n,t,e);return i?mi.replace(new A(i.startLineNumber,1,i.endLineNumber,n.getLineMaxColumn(i.endLineNumber)),i.after.join(`
`)):null}Re();$i();rr();bn();var sM=class extends Q{constructor(t,e){super(e),this.down=t}run(t,e){if(!e.hasModel())return;let i=e.getSelections().map((s,a)=>({selection:s,index:a,ignore:!1}));i.sort((s,a)=>A.compareRangesUsingStarts(s.selection,a.selection));let o=i[0];for(let s=1;s<i.length;s++){let a=i[s];o.selection.endLineNumber===a.selection.startLineNumber&&(o.index<a.index?a.ignore=!0:(o.ignore=!0,o=a))}let r=[];for(let s of i)r.push(new E0(s.selection,this.down,s.ignore));e.pushUndoStop(),e.executeCommands(this.id,r),e.pushUndoStop()}},gz=class extends sM{constructor(){super(!1,{id:"editor.action.copyLinesUpAction",label:_("lines.copyUp","Copy Line Up"),alias:"Copy Line Up",precondition:T.writable,kbOpts:{kbExpr:T.editorTextFocus,primary:1552,linux:{primary:3600},weight:100},menuOpts:{menuId:be.MenubarSelectionMenu,group:"2_line",title:_({key:"miCopyLinesUp",comment:["&& denotes a mnemonic"]},"&&Copy Line Up"),order:1}})}},_z=class extends sM{constructor(){super(!0,{id:"editor.action.copyLinesDownAction",label:_("lines.copyDown","Copy Line Down"),alias:"Copy Line Down",precondition:T.writable,kbOpts:{kbExpr:T.editorTextFocus,primary:1554,linux:{primary:3602},weight:100},menuOpts:{menuId:be.MenubarSelectionMenu,group:"2_line",title:_({key:"miCopyLinesDown",comment:["&& denotes a mnemonic"]},"Co&&py Line Down"),order:2}})}},vz=class extends Q{constructor(){super({id:"editor.action.duplicateSelection",label:_("duplicateSelection","Duplicate Selection"),alias:"Duplicate Selection",precondition:T.writable,menuOpts:{menuId:be.MenubarSelectionMenu,group:"2_line",title:_({key:"miDuplicateSelection",comment:["&& denotes a mnemonic"]},"&&Duplicate Selection"),order:5}})}run(t,e,i){if(!e.hasModel())return;let o=[],r=e.getSelections(),s=e.getModel();for(let a of r)if(a.isEmpty())o.push(new E0(a,!0));else{let l=new Be(a.endLineNumber,a.endColumn,a.endLineNumber,a.endColumn);o.push(new b8(l,s.getValueInRange(a)))}e.pushUndoStop(),e.executeCommands(this.id,o),e.pushUndoStop()}},aM=class extends Q{constructor(t,e){super(e),this.down=t}run(t,e){let i=t.get(yi),o=[],r=e.getSelections()||[],s=e.getOption(12);for(let a of r)o.push(new oM(a,this.down,s,i));e.pushUndoStop(),e.executeCommands(this.id,o),e.pushUndoStop()}},bz=class extends aM{constructor(){super(!1,{id:"editor.action.moveLinesUpAction",label:_("lines.moveUp","Move Line Up"),alias:"Move Line Up",precondition:T.writable,kbOpts:{kbExpr:T.editorTextFocus,primary:528,linux:{primary:528},weight:100},menuOpts:{menuId:be.MenubarSelectionMenu,group:"2_line",title:_({key:"miMoveLinesUp",comment:["&& denotes a mnemonic"]},"Mo&&ve Line Up"),order:3}})}},yz=class extends aM{constructor(){super(!0,{id:"editor.action.moveLinesDownAction",label:_("lines.moveDown","Move Line Down"),alias:"Move Line Down",precondition:T.writable,kbOpts:{kbExpr:T.editorTextFocus,primary:530,linux:{primary:530},weight:100},menuOpts:{menuId:be.MenubarSelectionMenu,group:"2_line",title:_({key:"miMoveLinesDown",comment:["&& denotes a mnemonic"]},"Move &&Line Down"),order:4}})}},lM=class extends Q{constructor(t,e){super(e),this.descending=t}run(t,e){if(!e.hasModel())return;let i=e.getModel(),o=e.getSelections();o.length===1&&o[0].isEmpty()&&(o=[new Be(1,1,i.getLineCount(),i.getLineMaxColumn(i.getLineCount()))]);for(let s of o)if(!rM.canRun(e.getModel(),s,this.descending))return;let r=[];for(let s=0,a=o.length;s<a;s++)r[s]=new rM(o[s],this.descending);e.pushUndoStop(),e.executeCommands(this.id,r),e.pushUndoStop()}},wz=class extends lM{constructor(){super(!1,{id:"editor.action.sortLinesAscending",label:_("lines.sortAscending","Sort Lines Ascending"),alias:"Sort Lines Ascending",precondition:T.writable})}},xz=class extends lM{constructor(){super(!0,{id:"editor.action.sortLinesDescending",label:_("lines.sortDescending","Sort Lines Descending"),alias:"Sort Lines Descending",precondition:T.writable})}},Cz=class extends Q{constructor(){super({id:"editor.action.removeDuplicateLines",label:_("lines.deleteDuplicates","Delete Duplicate Lines"),alias:"Delete Duplicate Lines",precondition:T.writable})}run(t,e){if(!e.hasModel())return;let i=e.getModel();if(i.getLineCount()===1&&i.getLineMaxColumn(1)===1)return;let o=[],r=[],s=0,a=!0,l=e.getSelections();l.length===1&&l[0].isEmpty()&&(l=[new Be(1,1,i.getLineCount(),i.getLineMaxColumn(i.getLineCount()))],a=!1);for(let c of l){let d=new Set,u=[];for(let p=c.startLineNumber;p<=c.endLineNumber;p++){let g=i.getLineContent(p);d.has(g)||(u.push(g),d.add(g))}let h=new Be(c.startLineNumber,1,c.endLineNumber,i.getLineMaxColumn(c.endLineNumber)),m=c.startLineNumber-s,f=new Be(m,1,m+u.length-1,u[u.length-1].length);o.push(mi.replace(h,u.join(`
`))),r.push(f),s+=c.endLineNumber-c.startLineNumber+1-u.length}e.pushUndoStop(),e.executeEdits(this.id,o,a?r:void 0),e.pushUndoStop()}},Dwe=(()=>{class n extends Q{static{this.ID="editor.action.trimTrailingWhitespace"}constructor(){super({id:n.ID,label:_("lines.trimTrailingWhitespace","Trim Trailing Whitespace"),alias:"Trim Trailing Whitespace",precondition:T.writable,kbOpts:{kbExpr:T.editorTextFocus,primary:Pi(2089,2102),weight:100}})}run(e,i,o){let r=[];o.reason==="auto-save"&&(r=(i.getSelections()||[]).map(u=>new pe(u.positionLineNumber,u.positionColumn)));let s=i.getSelection();if(s===null)return;let a=e.get(vt),l=i.getModel(),c=a.getValue("files.trimTrailingWhitespaceInRegexAndStrings",{overrideIdentifier:l?.getLanguageId(),resource:l?.uri}),d=new nM(s,r,c);i.pushUndoStop(),i.executeCommands(this.id,[d]),i.pushUndoStop()}}return n})(),Sz=class extends Q{constructor(){super({id:"editor.action.deleteLines",label:_("lines.delete","Delete Line"),alias:"Delete Line",precondition:T.writable,kbOpts:{kbExpr:T.textInputFocus,primary:3113,weight:100}})}run(t,e){if(!e.hasModel())return;let i=this._getLinesToRemove(e),o=e.getModel();if(o.getLineCount()===1&&o.getLineMaxColumn(1)===1)return;let r=0,s=[],a=[];for(let l=0,c=i.length;l<c;l++){let d=i[l],u=d.startLineNumber,h=d.endLineNumber,m=1,f=o.getLineMaxColumn(h);h<o.getLineCount()?(h+=1,f=1):u>1&&(u-=1,m=o.getLineMaxColumn(u)),s.push(mi.replace(new Be(u,m,h,f),"")),a.push(new Be(u-r,d.positionColumn,u-r,d.positionColumn)),r+=d.endLineNumber-d.startLineNumber+1}e.pushUndoStop(),e.executeEdits(this.id,s,a),e.pushUndoStop()}_getLinesToRemove(t){let e=t.getSelections().map(r=>{let s=r.endLineNumber;return r.startLineNumber<r.endLineNumber&&r.endColumn===1&&(s-=1),{startLineNumber:r.startLineNumber,selectionStartColumn:r.selectionStartColumn,endLineNumber:s,positionColumn:r.positionColumn}});e.sort((r,s)=>r.startLineNumber===s.startLineNumber?r.endLineNumber-s.endLineNumber:r.startLineNumber-s.startLineNumber);let i=[],o=e[0];for(let r=1;r<e.length;r++)o.endLineNumber+1>=e[r].startLineNumber?o.endLineNumber=e[r].endLineNumber:(i.push(o),o=e[r]);return i.push(o),i}},Dz=class extends Q{constructor(){super({id:"editor.action.indentLines",label:_("lines.indent","Indent Line"),alias:"Indent Line",precondition:T.writable,kbOpts:{kbExpr:T.editorTextFocus,primary:2142,weight:100}})}run(t,e){let i=e._getViewModel();i&&(e.pushUndoStop(),e.executeCommands(this.id,w8.indent(i.cursorConfig,e.getModel(),e.getSelections())),e.pushUndoStop())}},Iz=class extends Q{constructor(){super({id:"editor.action.outdentLines",label:_("lines.outdent","Outdent Line"),alias:"Outdent Line",precondition:T.writable,kbOpts:{kbExpr:T.editorTextFocus,primary:2140,weight:100}})}run(t,e){Kp.Outdent.runEditorCommand(t,e,null)}},Ez=class extends Q{constructor(){super({id:"editor.action.insertLineBefore",label:_("lines.insertBefore","Insert Line Above"),alias:"Insert Line Above",precondition:T.writable,kbOpts:{kbExpr:T.editorTextFocus,primary:3075,weight:100}})}run(t,e){let i=e._getViewModel();i&&(e.pushUndoStop(),e.executeCommands(this.id,JR.lineInsertBefore(i.cursorConfig,e.getModel(),e.getSelections())))}},Mz=class extends Q{constructor(){super({id:"editor.action.insertLineAfter",label:_("lines.insertAfter","Insert Line Below"),alias:"Insert Line Below",precondition:T.writable,kbOpts:{kbExpr:T.editorTextFocus,primary:2051,weight:100}})}run(t,e){let i=e._getViewModel();i&&(e.pushUndoStop(),e.executeCommands(this.id,JR.lineInsertAfter(i.cursorConfig,e.getModel(),e.getSelections())))}},cM=class extends Q{run(t,e){if(!e.hasModel())return;let i=e.getSelection(),o=this._getRangesToDelete(e),r=[];for(let l=0,c=o.length-1;l<c;l++){let d=o[l],u=o[l+1];A.intersectRanges(d,u)===null?r.push(d):o[l+1]=A.plusRange(d,u)}r.push(o[o.length-1]);let s=this._getEndCursorState(i,r),a=r.map(l=>mi.replace(l,""));e.pushUndoStop(),e.executeEdits(this.id,a,s),e.pushUndoStop()}},kz=class extends cM{constructor(){super({id:"deleteAllLeft",label:_("lines.deleteAllLeft","Delete All Left"),alias:"Delete All Left",precondition:T.writable,kbOpts:{kbExpr:T.textInputFocus,primary:0,mac:{primary:2049},weight:100}})}_getEndCursorState(t,e){let i=null,o=[],r=0;return e.forEach(s=>{let a;if(s.endColumn===1&&r>0){let l=s.startLineNumber-r;a=new Be(l,s.startColumn,l,s.startColumn)}else a=new Be(s.startLineNumber,s.startColumn,s.startLineNumber,s.startColumn);r+=s.endLineNumber-s.startLineNumber,s.intersectRanges(t)?i=a:o.push(a)}),i&&o.unshift(i),o}_getRangesToDelete(t){let e=t.getSelections();if(e===null)return[];let i=e,o=t.getModel();return o===null?[]:(i.sort(A.compareRangesUsingStarts),i=i.map(r=>{if(r.isEmpty())if(r.startColumn===1){let s=Math.max(1,r.startLineNumber-1),a=r.startLineNumber===1?1:o.getLineLength(s)+1;return new A(s,a,r.startLineNumber,1)}else return new A(r.startLineNumber,1,r.startLineNumber,r.startColumn);else return new A(r.startLineNumber,1,r.endLineNumber,r.endColumn)}),i)}},Tz=class extends cM{constructor(){super({id:"deleteAllRight",label:_("lines.deleteAllRight","Delete All Right"),alias:"Delete All Right",precondition:T.writable,kbOpts:{kbExpr:T.textInputFocus,primary:0,mac:{primary:297,secondary:[2068]},weight:100}})}_getEndCursorState(t,e){let i=null,o=[];for(let r=0,s=e.length,a=0;r<s;r++){let l=e[r],c=new Be(l.startLineNumber-a,l.startColumn,l.startLineNumber-a,l.startColumn);l.intersectRanges(t)?i=c:o.push(c)}return i&&o.unshift(i),o}_getRangesToDelete(t){let e=t.getModel();if(e===null)return[];let i=t.getSelections();if(i===null)return[];let o=i.map(r=>{if(r.isEmpty()){let s=e.getLineMaxColumn(r.startLineNumber);return r.startColumn===s?new A(r.startLineNumber,r.startColumn,r.startLineNumber+1,1):new A(r.startLineNumber,r.startColumn,r.startLineNumber,s)}return r});return o.sort(A.compareRangesUsingStarts),o}},Az=class extends Q{constructor(){super({id:"editor.action.joinLines",label:_("lines.joinLines","Join Lines"),alias:"Join Lines",precondition:T.writable,kbOpts:{kbExpr:T.editorTextFocus,primary:0,mac:{primary:296},weight:100}})}run(t,e){let i=e.getSelections();if(i===null)return;let o=e.getSelection();if(o===null)return;i.sort(A.compareRangesUsingStarts);let r=[],s=i.reduce((h,m)=>h.isEmpty()?h.endLineNumber===m.startLineNumber?(o.equalsSelection(h)&&(o=m),m):m.startLineNumber>h.endLineNumber+1?(r.push(h),m):new Be(h.startLineNumber,h.startColumn,m.endLineNumber,m.endColumn):m.startLineNumber>h.endLineNumber?(r.push(h),m):new Be(h.startLineNumber,h.startColumn,m.endLineNumber,m.endColumn));r.push(s);let a=e.getModel();if(a===null)return;let l=[],c=[],d=o,u=0;for(let h=0,m=r.length;h<m;h++){let f=r[h],p=f.startLineNumber,g=1,v=0,b,C,k=a.getLineLength(f.endLineNumber)-f.endColumn;if(f.isEmpty()||f.startLineNumber===f.endLineNumber){let L=f.getStartPosition();L.lineNumber<a.getLineCount()?(b=p+1,C=a.getLineMaxColumn(b)):(b=L.lineNumber,C=a.getLineMaxColumn(L.lineNumber))}else b=f.endLineNumber,C=a.getLineMaxColumn(b);let E=a.getLineContent(p);for(let L=p+1;L<=b;L++){let H=a.getLineContent(L),re=a.getLineFirstNonWhitespaceColumn(L);if(re>=1){let R=!0;E===""&&(R=!1),R&&(E.charAt(E.length-1)===" "||E.charAt(E.length-1)==="	")&&(R=!1,E=E.replace(/[\s\uFEFF\xA0]+$/g," "));let W=H.substr(re-1);E+=(R?" ":"")+W,R?v=W.length+1:v=W.length}else v=0}let F=new A(p,g,b,C);if(!F.isEmpty()){let L;f.isEmpty()?(l.push(mi.replace(F,E)),L=new Be(F.startLineNumber-u,E.length-v+1,p-u,E.length-v+1)):f.startLineNumber===f.endLineNumber?(l.push(mi.replace(F,E)),L=new Be(f.startLineNumber-u,f.startColumn,f.endLineNumber-u,f.endColumn)):(l.push(mi.replace(F,E)),L=new Be(f.startLineNumber-u,f.startColumn,f.startLineNumber-u,E.length-k)),A.intersectRanges(F,o)!==null?d=L:c.push(L)}u+=F.endLineNumber-F.startLineNumber}c.unshift(d),e.pushUndoStop(),e.executeEdits(this.id,l,c),e.pushUndoStop()}},Rz=class extends Q{constructor(){super({id:"editor.action.transpose",label:_("editor.transpose","Transpose Characters around the Cursor"),alias:"Transpose Characters around the Cursor",precondition:T.writable})}run(t,e){let i=e.getSelections();if(i===null)return;let o=e.getModel();if(o===null)return;let r=[];for(let s=0,a=i.length;s<a;s++){let l=i[s];if(!l.isEmpty())continue;let c=l.getStartPosition(),d=o.getLineMaxColumn(c.lineNumber);if(c.column>=d){if(c.lineNumber===o.getLineCount())continue;let u=new A(c.lineNumber,Math.max(1,c.column-1),c.lineNumber+1,1),h=o.getValueInRange(u).split("").reverse().join("");r.push(new zc(new Be(c.lineNumber,Math.max(1,c.column-1),c.lineNumber+1,1),h))}else{let u=new A(c.lineNumber,Math.max(1,c.column-1),c.lineNumber,c.column+1),h=o.getValueInRange(u).split("").reverse().join("");r.push(new RC(u,h,new Be(c.lineNumber,c.column+1,c.lineNumber,c.column+1)))}}e.pushUndoStop(),e.executeCommands(this.id,r),e.pushUndoStop()}},ld=class extends Q{run(t,e){let i=e.getSelections();if(i===null)return;let o=e.getModel();if(o===null)return;let r=e.getOption(132),s=[];for(let a of i)if(a.isEmpty()){let l=a.getStartPosition(),c=e.getConfiguredWordAtPosition(l);if(!c)continue;let d=new A(l.lineNumber,c.startColumn,l.lineNumber,c.endColumn),u=o.getValueInRange(d);s.push(mi.replace(d,this._modifyText(u,r)))}else{let l=o.getValueInRange(a);s.push(mi.replace(a,this._modifyText(l,r)))}e.pushUndoStop(),e.executeEdits(this.id,s),e.pushUndoStop()}},Oz=class extends ld{constructor(){super({id:"editor.action.transformToUppercase",label:_("editor.transformToUppercase","Transform to Uppercase"),alias:"Transform to Uppercase",precondition:T.writable})}_modifyText(t,e){return t.toLocaleUpperCase()}},Pz=class extends ld{constructor(){super({id:"editor.action.transformToLowercase",label:_("editor.transformToLowercase","Transform to Lowercase"),alias:"Transform to Lowercase",precondition:T.writable})}_modifyText(t,e){return t.toLocaleLowerCase()}},tl=class{constructor(t,e){this._pattern=t,this._flags=e,this._actual=null,this._evaluated=!1}get(){if(!this._evaluated){this._evaluated=!0;try{this._actual=new RegExp(this._pattern,this._flags)}catch{}}return this._actual}isSupported(){return this.get()!==null}},dM=class n extends ld{static{this.titleBoundary=new tl("(^|[^\\p{L}\\p{N}']|((^|\\P{L})'))\\p{L}","gmu")}constructor(){super({id:"editor.action.transformToTitlecase",label:_("editor.transformToTitlecase","Transform to Title Case"),alias:"Transform to Title Case",precondition:T.writable})}_modifyText(t,e){let i=n.titleBoundary.get();return i?t.toLocaleLowerCase().replace(i,o=>o.toLocaleUpperCase()):t}},M0=class n extends ld{static{this.caseBoundary=new tl("(\\p{Ll})(\\p{Lu})","gmu")}static{this.singleLetters=new tl("(\\p{Lu}|\\p{N})(\\p{Lu})(\\p{Ll})","gmu")}constructor(){super({id:"editor.action.transformToSnakecase",label:_("editor.transformToSnakecase","Transform to Snake Case"),alias:"Transform to Snake Case",precondition:T.writable})}_modifyText(t,e){let i=n.caseBoundary.get(),o=n.singleLetters.get();return!i||!o?t:t.replace(i,"$1_$2").replace(o,"$1_$2$3").toLocaleLowerCase()}},uM=class n extends ld{static{this.wordBoundary=new tl("[_\\s-]","gm")}constructor(){super({id:"editor.action.transformToCamelcase",label:_("editor.transformToCamelcase","Transform to Camel Case"),alias:"Transform to Camel Case",precondition:T.writable})}_modifyText(t,e){let i=n.wordBoundary.get();if(!i)return t;let o=t.split(i);return o.shift()+o.map(s=>s.substring(0,1).toLocaleUpperCase()+s.substring(1)).join("")}},hM=class n extends ld{static{this.wordBoundary=new tl("[_\\s-]","gm")}static{this.wordBoundaryToMaintain=new tl("(?<=\\.)","gm")}constructor(){super({id:"editor.action.transformToPascalcase",label:_("editor.transformToPascalcase","Transform to Pascal Case"),alias:"Transform to Pascal Case",precondition:T.writable})}_modifyText(t,e){let i=n.wordBoundary.get(),o=n.wordBoundaryToMaintain.get();return!i||!o?t:t.split(o).map(a=>a.split(i)).flat().map(a=>a.substring(0,1).toLocaleUpperCase()+a.substring(1)).join("")}},mM=class n extends ld{static isSupported(){return[this.caseBoundary,this.singleLetters,this.underscoreBoundary].every(e=>e.isSupported())}static{this.caseBoundary=new tl("(\\p{Ll})(\\p{Lu})","gmu")}static{this.singleLetters=new tl("(\\p{Lu}|\\p{N})(\\p{Lu}\\p{Ll})","gmu")}static{this.underscoreBoundary=new tl("(\\S)(_)(\\S)","gm")}constructor(){super({id:"editor.action.transformToKebabcase",label:_("editor.transformToKebabcase","Transform to Kebab Case"),alias:"Transform to Kebab Case",precondition:T.writable})}_modifyText(t,e){let i=n.caseBoundary.get(),o=n.singleLetters.get(),r=n.underscoreBoundary.get();return!i||!o||!r?t:t.replace(r,"$1-$3").replace(i,"$1-$2").replace(o,"$1-$2").toLocaleLowerCase()}};V(gz);V(_z);V(vz);V(bz);V(yz);V(wz);V(xz);V(Cz);V(Dwe);V(Sz);V(Dz);V(Iz);V(Ez);V(Mz);V(kz);V(Tz);V(Az);V(Rz);V(Oz);V(Pz);M0.caseBoundary.isSupported()&&M0.singleLetters.isSupported()&&V(M0);uM.wordBoundary.isSupported()&&V(uM);hM.wordBoundary.isSupported()&&V(hM);dM.titleBoundary.isSupported()&&V(dM);mM.isSupported()&&V(mM);Oi();Ht();bi();xl();Bt();oi();ue();zi();Ln();it();Uo();hi();qe();Kt();wn();rr();Re();pt();Lt();Po();Xs();Ks();var Iwe=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},pM=function(n,t){return function(e,i){t(e,i,n)}},fM,lY=new ot("LinkedEditingInputVisible",!1),Ewe="linked-editing-decoration",i_=class extends U{static{fM=this}static{this.ID="editor.contrib.linkedEditing"}static{this.DECORATION=lt.register({description:"linked-editing",stickiness:0,className:Ewe})}static get(t){return t.getContribution(fM.ID)}constructor(t,e,i,o,r){super(),this.languageConfigurationService=o,this._syncRangesToken=0,this._localToDispose=this._register(new G),this._editor=t,this._providers=i.linkedEditingRangeProvider,this._enabled=!1,this._visibleContextKey=lY.bindTo(e),this._debounceInformation=r.for(this._providers,"Linked Editing",{max:200}),this._currentDecorations=this._editor.createDecorationsCollection(),this._languageWordPattern=null,this._currentWordPattern=null,this._ignoreChangeEvent=!1,this._localToDispose=this._register(new G),this._rangeUpdateTriggerPromise=null,this._rangeSyncTriggerPromise=null,this._currentRequestCts=null,this._currentRequestPosition=null,this._currentRequestModelVersion=null,this._register(this._editor.onDidChangeModel(()=>this.reinitialize(!0))),this._register(this._editor.onDidChangeConfiguration(s=>{(s.hasChanged(70)||s.hasChanged(94))&&this.reinitialize(!1)})),this._register(this._providers.onDidChange(()=>this.reinitialize(!1))),this._register(this._editor.onDidChangeModelLanguage(()=>this.reinitialize(!0))),this.reinitialize(!0)}reinitialize(t){let e=this._editor.getModel(),i=e!==null&&(this._editor.getOption(70)||this._editor.getOption(94))&&this._providers.has(e);if(i===this._enabled&&!t||(this._enabled=i,this.clearRanges(),this._localToDispose.clear(),!i||e===null))return;this._localToDispose.add(xi.runAndSubscribe(e.onDidChangeLanguageConfiguration,()=>{this._languageWordPattern=this.languageConfigurationService.getLanguageConfiguration(e.getLanguageId()).getWordDefinition()}));let o=new Ar(this._debounceInformation.get(e)),r=()=>{this._rangeUpdateTriggerPromise=o.trigger(()=>this.updateRanges(),this._debounceDuration??this._debounceInformation.get(e))},s=new Ar(0),a=l=>{this._rangeSyncTriggerPromise=s.trigger(()=>this._syncRanges(l))};this._localToDispose.add(this._editor.onDidChangeCursorPosition(()=>{r()})),this._localToDispose.add(this._editor.onDidChangeModelContent(l=>{if(!this._ignoreChangeEvent&&this._currentDecorations.length>0){let c=this._currentDecorations.getRange(0);if(c&&l.changes.every(d=>c.intersectRanges(d.range))){a(this._syncRangesToken);return}}r()})),this._localToDispose.add({dispose:()=>{o.dispose(),s.dispose()}}),this.updateRanges()}_syncRanges(t){if(!this._editor.hasModel()||t!==this._syncRangesToken||this._currentDecorations.length===0)return;let e=this._editor.getModel(),i=this._currentDecorations.getRange(0);if(!i||i.startLineNumber!==i.endLineNumber)return this.clearRanges();let o=e.getValueInRange(i);if(this._currentWordPattern){let s=o.match(this._currentWordPattern);if((s?s[0].length:0)!==o.length)return this.clearRanges()}let r=[];for(let s=1,a=this._currentDecorations.length;s<a;s++){let l=this._currentDecorations.getRange(s);if(l)if(l.startLineNumber!==l.endLineNumber)r.push({range:l,text:o});else{let c=e.getValueInRange(l),d=o,u=l.startColumn,h=l.endColumn,m=pl(c,d);u+=m,c=c.substr(m),d=d.substr(m);let f=w4(c,d);h-=f,c=c.substr(0,c.length-f),d=d.substr(0,d.length-f),(u!==h||d.length!==0)&&r.push({range:new A(l.startLineNumber,u,l.endLineNumber,h),text:d})}}if(r.length!==0)try{this._editor.popUndoStop(),this._ignoreChangeEvent=!0;let s=this._editor._getViewModel().getPrevEditOperationType();this._editor.executeEdits("linkedEditing",r),this._editor._getViewModel().setPrevEditOperationType(s)}finally{this._ignoreChangeEvent=!1}}dispose(){this.clearRanges(),super.dispose()}clearRanges(){this._visibleContextKey.set(!1),this._currentDecorations.clear(),this._currentRequestCts&&(this._currentRequestCts.cancel(),this._currentRequestCts=null,this._currentRequestPosition=null)}updateRanges(t=!1){return M(this,null,function*(){if(!this._editor.hasModel()){this.clearRanges();return}let e=this._editor.getPosition();if(!this._enabled&&!t||this._editor.getSelections().length>1){this.clearRanges();return}let i=this._editor.getModel(),o=i.getVersionId();if(this._currentRequestPosition&&this._currentRequestModelVersion===o){if(e.equals(this._currentRequestPosition))return;if(this._currentDecorations.length>0){let s=this._currentDecorations.getRange(0);if(s&&s.containsPosition(e))return}}this.clearRanges(),this._currentRequestPosition=e,this._currentRequestModelVersion=o;let r=this._currentRequestCts=new vi;try{let s=new Xi(!1),a=yield cY(this._providers,i,e,r.token);if(this._debounceInformation.update(i,s.elapsed()),r!==this._currentRequestCts||(this._currentRequestCts=null,o!==i.getVersionId()))return;let l=[];a?.ranges&&(l=a.ranges),this._currentWordPattern=a?.wordPattern||this._languageWordPattern;let c=!1;for(let u=0,h=l.length;u<h;u++)if(A.containsPosition(l[u],e)){if(c=!0,u!==0){let m=l[u];l.splice(u,1),l.unshift(m)}break}if(!c){this.clearRanges();return}let d=l.map(u=>({range:u,options:fM.DECORATION}));this._visibleContextKey.set(!0),this._currentDecorations.set(d),this._syncRangesToken++}catch(s){gr(s)||ht(s),(this._currentRequestCts===r||!this._currentRequestCts)&&this.clearRanges()}})}};i_=fM=Iwe([pM(1,Ze),pM(2,ce),pM(3,yi),pM(4,yn)],i_);var Lz=class extends Q{constructor(){super({id:"editor.action.linkedEditing",label:_("linkedEditing.label","Start Linked Editing"),alias:"Start Linked Editing",precondition:K.and(T.writable,T.hasRenameProvider),kbOpts:{kbExpr:T.editorTextFocus,primary:3132,weight:100}})}runCommand(t,e){let i=t.get(Zt),[o,r]=Array.isArray(e)&&e||[void 0,void 0];return mt.isUri(o)&&pe.isIPosition(r)?i.openCodeEditor({resource:o},i.getActiveCodeEditor()).then(s=>{s&&(s.setPosition(r),s.invokeWithinContext(a=>(this.reportTelemetry(a,s),this.run(a,s))))},ht):super.runCommand(t,e)}run(t,e){let i=i_.get(e);return i?Promise.resolve(i.updateRanges(!0)):Promise.resolve()}},Mwe=Ki.bindToContribution(i_.get);ze(new Mwe({id:"cancelLinkedEditingInput",precondition:lY,handler:n=>n.clearRanges(),kbOpts:{kbExpr:T.editorTextFocus,weight:199,primary:9,secondary:[1033]}}));function cY(n,t,e,i){let o=n.ordered(t);return vv(o.map(r=>()=>M(this,null,function*(){try{return yield r.provideLinkedEditingRanges(t,e,i)}catch(s){zt(s);return}})),r=>!!r&&Mn(r?.ranges))}var lBt=Pe("editor.linkedEditingBackground",{dark:It.fromHex("#f00").transparent(.3),light:It.fromHex("#f00").transparent(.3),hcDark:It.fromHex("#f00").transparent(.3),hcLight:It.white},_("editorLinkedEditingBackground","Background color when the editor auto renames on type."));ao("_executeLinkedEditingProvider",(n,t,e)=>{let{linkedEditingRangeProvider:i}=n.get(ce);return cY(i,t,e,Qe.None)});Te(i_.ID,i_,1);V(Lz);Ht();bi();Bt();Js();ue();Ih();tr();Zr();Ks();Ln();it();wn();Xs();Lt();Oi();bi();Bt();ue();ro();Ln();qe();bs();qi();Lt();var Nz=class{constructor(t,e){this._link=t,this._provider=e}toJSON(){return{range:this.range,url:this.url,tooltip:this.tooltip}}get range(){return this._link.range}get url(){return this._link.url}get tooltip(){return this._link.tooltip}resolve(t){return M(this,null,function*(){return this._link.url?this._link.url:typeof this._provider.resolveLink=="function"?Promise.resolve(this._provider.resolveLink(this._link,t)).then(e=>(this._link=e||this._link,this._link.url?this.resolve(t):Promise.reject(new Error("missing")))):Promise.reject(new Error("missing"))})}},gM=class n{constructor(t){this._disposables=new G;let e=[];for(let[i,o]of t){let r=i.links.map(s=>new Nz(s,o));e=n._union(e,r),kx(i)&&this._disposables.add(i)}this.links=e}dispose(){this._disposables.dispose(),this.links.length=0}static _union(t,e){let i=[],o,r,s,a;for(o=0,s=0,r=t.length,a=e.length;o<r&&s<a;){let l=t[o],c=e[s];if(A.areIntersectingOrTouching(l.range,c.range)){o++;continue}A.compareRangesUsingStarts(l.range,c.range)<0?(i.push(l),o++):(i.push(c),s++)}for(;o<r;o++)i.push(t[o]);for(;s<a;s++)i.push(e[s]);return i}};function Fz(n,t,e){let i=[],o=n.ordered(t).reverse().map((r,s)=>Promise.resolve(r.provideLinks(t,e)).then(a=>{a&&(i[s]=[a,r])},zt));return Promise.all(o).then(()=>{let r=new gM(er(i));return e.isCancellationRequested?(r.dispose(),new gM([])):r})}Pt.registerCommand("_executeLinkProvider",(n,...t)=>M(void 0,null,function*(){let[e,i]=t;Tt(e instanceof mt),typeof i!="number"&&(i=0);let{linkProvider:o}=n.get(ce),r=n.get(Ui).getModel(e);if(!r)return[];let s=yield Fz(o,r,Qe.None);if(!s)return[];for(let l=0;l<Math.min(i,s.links.length);l++)yield s.links[l].resolve(Qe.None);let a=s.links.slice(0);return s.dispose(),a}));Re();var kwe=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},_M=function(n,t){return function(e,i){t(e,i,n)}},zz,k0=class extends U{static{zz=this}static{this.ID="editor.linkDetector"}static get(e){return e.getContribution(zz.ID)}constructor(e,i,o,r,s){super(),this.editor=e,this.openerService=i,this.notificationService=o,this.languageFeaturesService=r,this.providers=this.languageFeaturesService.linkProvider,this.debounceInformation=s.for(this.providers,"Links",{min:1e3,max:4e3}),this.computeLinks=this._register(new ai(()=>this.computeLinksNow(),1e3)),this.computePromise=null,this.activeLinksList=null,this.currentOccurrences={},this.activeLinkDecorationId=null;let a=this._register(new Vl(e));this._register(a.onMouseMoveOrRelevantKeyDown(([l,c])=>{this._onEditorMouseMove(l,c)})),this._register(a.onExecute(l=>{this.onEditorMouseUp(l)})),this._register(a.onCancel(l=>{this.cleanUpActiveLinkDecoration()})),this._register(e.onDidChangeConfiguration(l=>{l.hasChanged(71)&&(this.updateDecorations([]),this.stop(),this.computeLinks.schedule(0))})),this._register(e.onDidChangeModelContent(l=>{this.editor.hasModel()&&this.computeLinks.schedule(this.debounceInformation.get(this.editor.getModel()))})),this._register(e.onDidChangeModel(l=>{this.currentOccurrences={},this.activeLinkDecorationId=null,this.stop(),this.computeLinks.schedule(0)})),this._register(e.onDidChangeModelLanguage(l=>{this.stop(),this.computeLinks.schedule(0)})),this._register(this.providers.onDidChange(l=>{this.stop(),this.computeLinks.schedule(0)})),this.computeLinks.schedule(0)}computeLinksNow(){return M(this,null,function*(){if(!this.editor.hasModel()||!this.editor.getOption(71))return;let e=this.editor.getModel();if(!e.isTooLargeForSyncing()&&this.providers.has(e)){this.activeLinksList&&(this.activeLinksList.dispose(),this.activeLinksList=null),this.computePromise=Ci(i=>Fz(this.providers,e,i));try{let i=new Xi(!1);if(this.activeLinksList=yield this.computePromise,this.debounceInformation.update(e,i.elapsed()),e.isDisposed())return;this.updateDecorations(this.activeLinksList.links)}catch(i){ht(i)}finally{this.computePromise=null}}})}updateDecorations(e){let i=this.editor.getOption(78)==="altKey",o=[],r=Object.keys(this.currentOccurrences);for(let a of r){let l=this.currentOccurrences[a];o.push(l.decorationId)}let s=[];if(e)for(let a of e)s.push(vM.decoration(a,i));this.editor.changeDecorations(a=>{let l=a.deltaDecorations(o,s);this.currentOccurrences={},this.activeLinkDecorationId=null;for(let c=0,d=l.length;c<d;c++){let u=new vM(e[c],l[c]);this.currentOccurrences[u.decorationId]=u}})}_onEditorMouseMove(e,i){let o=this.editor.getOption(78)==="altKey";if(this.isEnabled(e,i)){this.cleanUpActiveLinkDecoration();let r=this.getLinkOccurrence(e.target.position);r&&this.editor.changeDecorations(s=>{r.activate(s,o),this.activeLinkDecorationId=r.decorationId})}else this.cleanUpActiveLinkDecoration()}cleanUpActiveLinkDecoration(){let e=this.editor.getOption(78)==="altKey";if(this.activeLinkDecorationId){let i=this.currentOccurrences[this.activeLinkDecorationId];i&&this.editor.changeDecorations(o=>{i.deactivate(o,e)}),this.activeLinkDecorationId=null}}onEditorMouseUp(e){if(!this.isEnabled(e))return;let i=this.getLinkOccurrence(e.target.position);i&&this.openLinkOccurrence(i,e.hasSideBySideModifier,!0)}openLinkOccurrence(e,i,o=!1){if(!this.openerService)return;let{link:r}=e;r.resolve(Qe.None).then(s=>{if(typeof s=="string"&&this.editor.hasModel()){let a=this.editor.getModel().uri;if(a.scheme===Fn.file&&s.startsWith(`${Fn.file}:`)){let l=mt.parse(s);if(l.scheme===Fn.file){let c=rU(l),d=null;c.startsWith("/./")||c.startsWith("\\.\\")?d=`.${c.substr(1)}`:(c.startsWith("//./")||c.startsWith("\\\\.\\"))&&(d=`.${c.substr(2)}`),d&&(s=lU(a,d))}}}return this.openerService.open(s,{openToSide:i,fromUserGesture:o,allowContributedOpeners:!0,allowCommands:!0,fromWorkspace:!0})},s=>{let a=s instanceof Error?s.message:s;a==="invalid"?this.notificationService.warn(_("invalid.url","Failed to open this link because it is not well-formed: {0}",r.url.toString())):a==="missing"?this.notificationService.warn(_("missing.url","Failed to open this link because its target is missing.")):ht(s)})}getLinkOccurrence(e){if(!this.editor.hasModel()||!e)return null;let i=this.editor.getModel().getDecorationsInRange({startLineNumber:e.lineNumber,startColumn:e.column,endLineNumber:e.lineNumber,endColumn:e.column},0,!0);for(let o of i){let r=this.currentOccurrences[o.id];if(r)return r}return null}isEnabled(e,i){return!!(e.target.type===6&&(e.hasTriggerModifier||i&&i.keyCodeIsTriggerKey))}stop(){this.computeLinks.cancel(),this.activeLinksList&&(this.activeLinksList?.dispose(),this.activeLinksList=null),this.computePromise&&(this.computePromise.cancel(),this.computePromise=null)}dispose(){super.dispose(),this.stop()}};k0=zz=kwe([_M(1,$n),_M(2,Hi),_M(3,ce),_M(4,yn)],k0);var dY={general:lt.register({description:"detected-link",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link"}),active:lt.register({description:"detected-link-active",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link-active"})},vM=class n{static decoration(t,e){return{range:t.range,options:n._getOptions(t,e,!1)}}static _getOptions(t,e,i){let o=j({},i?dY.active:dY.general);return o.hoverMessage=Twe(t,e),o}constructor(t,e){this.link=t,this.decorationId=e}activate(t,e){t.changeDecorationOptions(this.decorationId,n._getOptions(this.link,e,!0))}deactivate(t,e){t.changeDecorationOptions(this.decorationId,n._getOptions(this.link,e,!1))}};function Twe(n,t){let e=n.url&&/^command:/i.test(n.url.toString()),i=n.tooltip?n.tooltip:e?_("links.navigate.executeCmd","Execute command"):_("links.navigate.follow","Follow link"),o=t?fr?_("links.navigate.kb.meta.mac","cmd + click"):_("links.navigate.kb.meta","ctrl + click"):fr?_("links.navigate.kb.alt.mac","option + click"):_("links.navigate.kb.alt","alt + click");if(n.url){let r="";if(/^command:/i.test(n.url.toString())){let a=n.url.toString().match(/^command:([^?#]+)/);if(a){let l=a[1];r=_("tooltip.explanation","Execute command {0}",l)}}return new mn("",!0).appendLink(n.url.toString(!0).replace(/ /g,"%20"),i,r).appendMarkdown(` (${o})`)}else return new mn().appendText(`${i} (${o})`)}var Bz=class extends Q{constructor(){super({id:"editor.action.openLink",label:_("label","Open Link"),alias:"Open Link",precondition:void 0})}run(t,e){let i=k0.get(e);if(!i||!e.hasModel())return;let o=e.getSelections();for(let r of o){let s=i.getLinkOccurrence(r.getEndPosition());s&&i.openLinkOccurrence(s,!1)}}};Te(k0.ID,k0,1);V(Bz);ue();it();var uY=(()=>{class n extends U{static{this.ID="editor.contrib.longLinesHelper"}constructor(e){super(),this._editor=e,this._register(this._editor.onMouseDown(i=>{let o=this._editor.getOption(118);o>=0&&i.target.type===6&&i.target.position.column>=o&&this._editor.updateOptions({stopRenderingLineAfter:-1})}))}}return n})();Te(uY.ID,uY,2);Ht();bc();ue();it();qe();Nn();Kt();Re();$i();pt();Lt();Na();wn();vn();Re();Po();Oo();var Awe=Pe("editor.wordHighlightBackground",{dark:"#575757B8",light:"#57575740",hcDark:null,hcLight:null},_("wordHighlight","Background color of a symbol during read-access, like reading a variable. The color must not be opaque so as not to hide underlying decorations."),!0);Pe("editor.wordHighlightStrongBackground",{dark:"#004972B8",light:"#0e639c40",hcDark:null,hcLight:null},_("wordHighlightStrong","Background color of a symbol during write-access, like writing to a variable. The color must not be opaque so as not to hide underlying decorations."),!0);Pe("editor.wordHighlightTextBackground",Awe,_("wordHighlightText","Background color of a textual occurrence for a symbol. The color must not be opaque so as not to hide underlying decorations."),!0);var Rwe=Pe("editor.wordHighlightBorder",{light:null,dark:null,hcDark:Sl,hcLight:Sl},_("wordHighlightBorder","Border color of a symbol during read-access, like reading a variable."));Pe("editor.wordHighlightStrongBorder",{light:null,dark:null,hcDark:Sl,hcLight:Sl},_("wordHighlightStrongBorder","Border color of a symbol during write-access, like writing to a variable."));Pe("editor.wordHighlightTextBorder",Rwe,_("wordHighlightTextBorder","Border color of a textual occurrence for a symbol."));var Owe=Pe("editorOverviewRuler.wordHighlightForeground","#A0A0A0CC",_("overviewRulerWordHighlightForeground","Overview ruler marker color for symbol highlights. The color must not be opaque so as not to hide underlying decorations."),!0),Pwe=Pe("editorOverviewRuler.wordHighlightStrongForeground","#C0A0C0CC",_("overviewRulerWordHighlightStrongForeground","Overview ruler marker color for write-access symbol highlights. The color must not be opaque so as not to hide underlying decorations."),!0),Lwe=Pe("editorOverviewRuler.wordHighlightTextForeground",RR,_("overviewRulerWordHighlightTextForeground","Overview ruler marker color of a textual occurrence for a symbol. The color must not be opaque so as not to hide underlying decorations."),!0),Nwe=lt.register({description:"word-highlight-strong",stickiness:1,className:"wordHighlightStrong",overviewRuler:{color:Bi(Pwe),position:Lr.Center},minimap:{color:Bi(Iv),position:1}}),Fwe=lt.register({description:"word-highlight-text",stickiness:1,className:"wordHighlightText",overviewRuler:{color:Bi(Lwe),position:Lr.Center},minimap:{color:Bi(Iv),position:1}}),zwe=lt.register({description:"selection-highlight-overview",stickiness:1,className:"selectionHighlight",overviewRuler:{color:Bi(RR),position:Lr.Center},minimap:{color:Bi(Iv),position:1}}),Bwe=lt.register({description:"selection-highlight",stickiness:1,className:"selectionHighlight"}),Hwe=lt.register({description:"word-highlight",stickiness:1,className:"wordHighlight",overviewRuler:{color:Bi(Owe),position:Lr.Center},minimap:{color:Bi(Iv),position:1}});function hY(n){return n===Cp.Write?Nwe:n===Cp.Text?Fwe:Hwe}function mY(n){return n?Bwe:zwe}Ld((n,t)=>{let e=n.getColor(S5);e&&t.addRule(`.monaco-editor .selectionHighlight { background-color: ${e.transparent(.5)}; }`)});Ot();var Vwe=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},Wwe=function(n,t){return function(e,i){t(e,i,n)}},Hz;function zu(n,t){let e=t.filter(i=>!n.find(o=>o.equals(i)));if(e.length>=1){let i=e.map(r=>`line ${r.viewState.position.lineNumber} column ${r.viewState.position.column}`).join(", "),o=e.length===1?_("cursorAdded","Cursor added: {0}",i):_("cursorsAdded","Cursors added: {0}",i);za(o)}}var Vz=class extends Q{constructor(){super({id:"editor.action.insertCursorAbove",label:_("mutlicursor.insertAbove","Add Cursor Above"),alias:"Add Cursor Above",precondition:void 0,kbOpts:{kbExpr:T.editorTextFocus,primary:2576,linux:{primary:1552,secondary:[3088]},weight:100},menuOpts:{menuId:be.MenubarSelectionMenu,group:"3_multi",title:_({key:"miInsertCursorAbove",comment:["&& denotes a mnemonic"]},"&&Add Cursor Above"),order:2}})}run(t,e,i){if(!e.hasModel())return;let o=!0;i&&i.logicalLine===!1&&(o=!1);let r=e._getViewModel();if(r.cursorConfig.readOnly)return;r.model.pushStackElement();let s=r.getCursorStates();r.setCursorStates(i.source,3,Fv.addCursorUp(r,s,o)),r.revealTopMostCursor(i.source),zu(s,r.getCursorStates())}},Wz=class extends Q{constructor(){super({id:"editor.action.insertCursorBelow",label:_("mutlicursor.insertBelow","Add Cursor Below"),alias:"Add Cursor Below",precondition:void 0,kbOpts:{kbExpr:T.editorTextFocus,primary:2578,linux:{primary:1554,secondary:[3090]},weight:100},menuOpts:{menuId:be.MenubarSelectionMenu,group:"3_multi",title:_({key:"miInsertCursorBelow",comment:["&& denotes a mnemonic"]},"A&&dd Cursor Below"),order:3}})}run(t,e,i){if(!e.hasModel())return;let o=!0;i&&i.logicalLine===!1&&(o=!1);let r=e._getViewModel();if(r.cursorConfig.readOnly)return;r.model.pushStackElement();let s=r.getCursorStates();r.setCursorStates(i.source,3,Fv.addCursorDown(r,s,o)),r.revealBottomMostCursor(i.source),zu(s,r.getCursorStates())}},jz=class extends Q{constructor(){super({id:"editor.action.insertCursorAtEndOfEachLineSelected",label:_("mutlicursor.insertAtEndOfEachLineSelected","Add Cursors to Line Ends"),alias:"Add Cursors to Line Ends",precondition:void 0,kbOpts:{kbExpr:T.editorTextFocus,primary:1575,weight:100},menuOpts:{menuId:be.MenubarSelectionMenu,group:"3_multi",title:_({key:"miInsertCursorAtEndOfEachLineSelected",comment:["&& denotes a mnemonic"]},"Add C&&ursors to Line Ends"),order:4}})}getCursorsForSelection(t,e,i){if(!t.isEmpty()){for(let o=t.startLineNumber;o<t.endLineNumber;o++){let r=e.getLineMaxColumn(o);i.push(new Be(o,r,o,r))}t.endColumn>1&&i.push(new Be(t.endLineNumber,t.endColumn,t.endLineNumber,t.endColumn))}}run(t,e){if(!e.hasModel())return;let i=e.getModel(),o=e.getSelections(),r=e._getViewModel(),s=r.getCursorStates(),a=[];o.forEach(l=>this.getCursorsForSelection(l,i,a)),a.length>0&&e.setSelections(a),zu(s,r.getCursorStates())}},Uz=class extends Q{constructor(){super({id:"editor.action.addCursorsToBottom",label:_("mutlicursor.addCursorsToBottom","Add Cursors To Bottom"),alias:"Add Cursors To Bottom",precondition:void 0})}run(t,e){if(!e.hasModel())return;let i=e.getSelections(),o=e.getModel().getLineCount(),r=[];for(let l=i[0].startLineNumber;l<=o;l++)r.push(new Be(l,i[0].startColumn,l,i[0].endColumn));let s=e._getViewModel(),a=s.getCursorStates();r.length>0&&e.setSelections(r),zu(a,s.getCursorStates())}},qz=class extends Q{constructor(){super({id:"editor.action.addCursorsToTop",label:_("mutlicursor.addCursorsToTop","Add Cursors To Top"),alias:"Add Cursors To Top",precondition:void 0})}run(t,e){if(!e.hasModel())return;let i=e.getSelections(),o=[];for(let a=i[0].startLineNumber;a>=1;a--)o.push(new Be(a,i[0].startColumn,a,i[0].endColumn));let r=e._getViewModel(),s=r.getCursorStates();o.length>0&&e.setSelections(o),zu(s,r.getCursorStates())}},n_=class{constructor(t,e,i){this.selections=t,this.revealRange=e,this.revealScrollType=i}},bM=class n{static create(t,e){if(!t.hasModel())return null;let i=e.getState();if(!t.hasTextFocus()&&i.isRevealed&&i.searchString.length>0)return new n(t,e,!1,i.searchString,i.wholeWord,i.matchCase,null);let o=!1,r,s,a=t.getSelections();a.length===1&&a[0].isEmpty()?(o=!0,r=!0,s=!0):(r=i.wholeWord,s=i.matchCase);let l=t.getSelection(),c,d=null;if(l.isEmpty()){let u=t.getConfiguredWordAtPosition(l.getStartPosition());if(!u)return null;c=u.word,d=new Be(l.startLineNumber,u.startColumn,l.startLineNumber,u.endColumn)}else c=t.getModel().getValueInRange(l).replace(/\r\n/g,`
`);return new n(t,e,o,c,r,s,d)}constructor(t,e,i,o,r,s,a){this._editor=t,this.findController=e,this.isDisconnectedFromFindController=i,this.searchText=o,this.wholeWord=r,this.matchCase=s,this.currentMatch=a}addSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;let t=this._getNextMatch();if(!t)return null;let e=this._editor.getSelections();return new n_(e.concat(t),t,0)}moveSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;let t=this._getNextMatch();if(!t)return null;let e=this._editor.getSelections();return new n_(e.slice(0,e.length-1).concat(t),t,0)}_getNextMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){let o=this.currentMatch;return this.currentMatch=null,o}this.findController.highlightFindOptions();let t=this._editor.getSelections(),e=t[t.length-1],i=this._editor.getModel().findNextMatch(this.searchText,e.getEndPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(132):null,!1);return i?new Be(i.range.startLineNumber,i.range.startColumn,i.range.endLineNumber,i.range.endColumn):null}addSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;let t=this._getPreviousMatch();if(!t)return null;let e=this._editor.getSelections();return new n_(e.concat(t),t,0)}moveSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;let t=this._getPreviousMatch();if(!t)return null;let e=this._editor.getSelections();return new n_(e.slice(0,e.length-1).concat(t),t,0)}_getPreviousMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){let o=this.currentMatch;return this.currentMatch=null,o}this.findController.highlightFindOptions();let t=this._editor.getSelections(),e=t[t.length-1],i=this._editor.getModel().findPreviousMatch(this.searchText,e.getStartPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(132):null,!1);return i?new Be(i.range.startLineNumber,i.range.startColumn,i.range.endLineNumber,i.range.endColumn):null}selectAll(t){if(!this._editor.hasModel())return[];this.findController.highlightFindOptions();let e=this._editor.getModel();return t?e.findMatches(this.searchText,t,!1,this.matchCase,this.wholeWord?this._editor.getOption(132):null,!1,1073741824):e.findMatches(this.searchText,!0,!1,this.matchCase,this.wholeWord?this._editor.getOption(132):null,!1,1073741824)}},yM=(()=>{class n extends U{static{this.ID="editor.contrib.multiCursorController"}static get(e){return e.getContribution(n.ID)}constructor(e){super(),this._sessionDispose=this._register(new G),this._editor=e,this._ignoreSelectionChange=!1,this._session=null}dispose(){this._endSession(),super.dispose()}_beginSessionIfNeeded(e){if(!this._session){let i=bM.create(this._editor,e);if(!i)return;this._session=i;let o={searchString:this._session.searchText};this._session.isDisconnectedFromFindController&&(o.wholeWordOverride=1,o.matchCaseOverride=1,o.isRegexOverride=2),e.getState().change(o,!1),this._sessionDispose.add(this._editor.onDidChangeCursorSelection(r=>{this._ignoreSelectionChange||this._endSession()})),this._sessionDispose.add(this._editor.onDidBlurEditorText(()=>{this._endSession()})),this._sessionDispose.add(e.getState().onFindReplaceStateChange(r=>{(r.matchCase||r.wholeWord)&&this._endSession()}))}}_endSession(){if(this._sessionDispose.clear(),this._session&&this._session.isDisconnectedFromFindController){let e={wholeWordOverride:0,matchCaseOverride:0,isRegexOverride:0};this._session.findController.getState().change(e,!1)}this._session=null}_setSelections(e){this._ignoreSelectionChange=!0,this._editor.setSelections(e),this._ignoreSelectionChange=!1}_expandEmptyToWord(e,i){if(!i.isEmpty())return i;let o=this._editor.getConfiguredWordAtPosition(i.getStartPosition());return o?new Be(i.startLineNumber,o.startColumn,i.startLineNumber,o.endColumn):i}_applySessionResult(e){e&&(this._setSelections(e.selections),e.revealRange&&this._editor.revealRangeInCenterIfOutsideViewport(e.revealRange,e.revealScrollType))}getSession(e){return this._session}addSelectionToNextFindMatch(e){if(this._editor.hasModel()){if(!this._session){let i=this._editor.getSelections();if(i.length>1){let r=e.getState().matchCase;if(!fY(this._editor.getModel(),i,r)){let a=this._editor.getModel(),l=[];for(let c=0,d=i.length;c<d;c++)l[c]=this._expandEmptyToWord(a,i[c]);this._editor.setSelections(l);return}}}this._beginSessionIfNeeded(e),this._session&&this._applySessionResult(this._session.addSelectionToNextFindMatch())}}addSelectionToPreviousFindMatch(e){this._beginSessionIfNeeded(e),this._session&&this._applySessionResult(this._session.addSelectionToPreviousFindMatch())}moveSelectionToNextFindMatch(e){this._beginSessionIfNeeded(e),this._session&&this._applySessionResult(this._session.moveSelectionToNextFindMatch())}moveSelectionToPreviousFindMatch(e){this._beginSessionIfNeeded(e),this._session&&this._applySessionResult(this._session.moveSelectionToPreviousFindMatch())}selectAll(e){if(!this._editor.hasModel())return;let i=null,o=e.getState();if(o.isRevealed&&o.searchString.length>0&&o.isRegex){let r=this._editor.getModel();o.searchScope?i=r.findMatches(o.searchString,o.searchScope,o.isRegex,o.matchCase,o.wholeWord?this._editor.getOption(132):null,!1,1073741824):i=r.findMatches(o.searchString,!0,o.isRegex,o.matchCase,o.wholeWord?this._editor.getOption(132):null,!1,1073741824)}else{if(this._beginSessionIfNeeded(e),!this._session)return;i=this._session.selectAll(o.searchScope)}if(i.length>0){let r=this._editor.getSelection();for(let s=0,a=i.length;s<a;s++){let l=i[s];if(l.range.intersectRanges(r)){i[s]=i[0],i[0]=l;break}}this._setSelections(i.map(s=>new Be(s.range.startLineNumber,s.range.startColumn,s.range.endLineNumber,s.range.endColumn)))}}}return n})(),Fu=class extends Q{run(t,e){let i=yM.get(e);if(!i)return;let o=e._getViewModel();if(o){let r=o.getCursorStates(),s=lr.get(e);if(s)this._run(i,s);else{let a=t.get(Me).createInstance(lr,e);this._run(i,a),a.dispose()}zu(r,o.getCursorStates())}}},Gz=class extends Fu{constructor(){super({id:"editor.action.addSelectionToNextFindMatch",label:_("addSelectionToNextFindMatch","Add Selection To Next Find Match"),alias:"Add Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:T.focus,primary:2082,weight:100},menuOpts:{menuId:be.MenubarSelectionMenu,group:"3_multi",title:_({key:"miAddSelectionToNextFindMatch",comment:["&& denotes a mnemonic"]},"Add &&Next Occurrence"),order:5}})}_run(t,e){t.addSelectionToNextFindMatch(e)}},$z=class extends Fu{constructor(){super({id:"editor.action.addSelectionToPreviousFindMatch",label:_("addSelectionToPreviousFindMatch","Add Selection To Previous Find Match"),alias:"Add Selection To Previous Find Match",precondition:void 0,menuOpts:{menuId:be.MenubarSelectionMenu,group:"3_multi",title:_({key:"miAddSelectionToPreviousFindMatch",comment:["&& denotes a mnemonic"]},"Add P&&revious Occurrence"),order:6}})}_run(t,e){t.addSelectionToPreviousFindMatch(e)}},Kz=class extends Fu{constructor(){super({id:"editor.action.moveSelectionToNextFindMatch",label:_("moveSelectionToNextFindMatch","Move Last Selection To Next Find Match"),alias:"Move Last Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:T.focus,primary:Pi(2089,2082),weight:100}})}_run(t,e){t.moveSelectionToNextFindMatch(e)}},Yz=class extends Fu{constructor(){super({id:"editor.action.moveSelectionToPreviousFindMatch",label:_("moveSelectionToPreviousFindMatch","Move Last Selection To Previous Find Match"),alias:"Move Last Selection To Previous Find Match",precondition:void 0})}_run(t,e){t.moveSelectionToPreviousFindMatch(e)}},Xz=class extends Fu{constructor(){super({id:"editor.action.selectHighlights",label:_("selectAllOccurrencesOfFindMatch","Select All Occurrences of Find Match"),alias:"Select All Occurrences of Find Match",precondition:void 0,kbOpts:{kbExpr:T.focus,primary:3114,weight:100},menuOpts:{menuId:be.MenubarSelectionMenu,group:"3_multi",title:_({key:"miSelectHighlights",comment:["&& denotes a mnemonic"]},"Select All &&Occurrences"),order:7}})}_run(t,e){t.selectAll(e)}},Zz=class extends Fu{constructor(){super({id:"editor.action.changeAll",label:_("changeAll.label","Change All Occurrences"),alias:"Change All Occurrences",precondition:K.and(T.writable,T.editorTextFocus),kbOpts:{kbExpr:T.editorTextFocus,primary:2108,weight:100},contextMenuOpts:{group:"1_modification",order:1.2}})}_run(t,e){t.selectAll(e)}},Qz=class{constructor(t,e,i,o,r){this._model=t,this._searchText=e,this._matchCase=i,this._wordSeparators=o,this._modelVersionId=this._model.getVersionId(),this._cachedFindMatches=null,r&&this._model===r._model&&this._searchText===r._searchText&&this._matchCase===r._matchCase&&this._wordSeparators===r._wordSeparators&&this._modelVersionId===r._modelVersionId&&(this._cachedFindMatches=r._cachedFindMatches)}findMatches(){return this._cachedFindMatches===null&&(this._cachedFindMatches=this._model.findMatches(this._searchText,!0,!1,this._matchCase,this._wordSeparators,!1).map(t=>t.range),this._cachedFindMatches.sort(A.compareRangesUsingStarts)),this._cachedFindMatches}},wM=class extends U{static{Hz=this}static{this.ID="editor.contrib.selectionHighlighter"}constructor(e,i){super(),this._languageFeaturesService=i,this.editor=e,this._isEnabled=e.getOption(109),this._decorations=e.createDecorationsCollection(),this.updateSoon=this._register(new ai(()=>this._update(),300)),this.state=null,this._register(e.onDidChangeConfiguration(r=>{this._isEnabled=e.getOption(109)})),this._register(e.onDidChangeCursorSelection(r=>{this._isEnabled&&(r.selection.isEmpty()?r.reason===3?(this.state&&this._setState(null),this.updateSoon.schedule()):this._setState(null):this._update())})),this._register(e.onDidChangeModel(r=>{this._setState(null)})),this._register(e.onDidChangeModelContent(r=>{this._isEnabled&&this.updateSoon.schedule()}));let o=lr.get(e);o&&this._register(o.getState().onFindReplaceStateChange(r=>{this._update()})),this.updateSoon.schedule()}_update(){this._setState(Hz._createState(this.state,this._isEnabled,this.editor))}static _createState(e,i,o){if(!i||!o.hasModel())return null;let r=o.getSelection();if(r.startLineNumber!==r.endLineNumber)return null;let s=yM.get(o);if(!s)return null;let a=lr.get(o);if(!a)return null;let l=s.getSession(a);if(!l){let u=o.getSelections();if(u.length>1){let m=a.getState().matchCase;if(!fY(o.getModel(),u,m))return null}l=bM.create(o,a)}if(!l||l.currentMatch||/^[ \t]+$/.test(l.searchText)||l.searchText.length>200)return null;let c=a.getState(),d=c.matchCase;if(c.isRevealed){let u=c.searchString;d||(u=u.toLowerCase());let h=l.searchText;if(d||(h=h.toLowerCase()),u===h&&l.matchCase===c.matchCase&&l.wholeWord===c.wholeWord&&!c.isRegex)return null}return new Qz(o.getModel(),l.searchText,l.matchCase,l.wholeWord?o.getOption(132):null,e)}_setState(e){if(this.state=e,!this.state){this._decorations.clear();return}if(!this.editor.hasModel())return;let i=this.editor.getModel();if(i.isTooLargeForTokenization())return;let o=this.state.findMatches(),r=this.editor.getSelections();r.sort(A.compareRangesUsingStarts);let s=[];for(let d=0,u=0,h=o.length,m=r.length;d<h;){let f=o[d];if(u>=m)s.push(f),d++;else{let p=A.compareRangesUsingStarts(f,r[u]);p<0?((r[u].isEmpty()||!A.areIntersecting(f,r[u]))&&s.push(f),d++):(p>0||d++,u++)}}let a=this.editor.getOption(81)!=="off",l=this._languageFeaturesService.documentHighlightProvider.has(i)&&a,c=s.map(d=>({range:d,options:mY(l)}));this._decorations.set(c)}dispose(){this._setState(null),super.dispose()}};wM=Hz=Vwe([Wwe(1,ce)],wM);function fY(n,t,e){let i=pY(n,t[0],!e);for(let o=1,r=t.length;o<r;o++){let s=t[o];if(s.isEmpty())return!1;let a=pY(n,s,!e);if(i!==a)return!1}return!0}function pY(n,t,e){let i=n.getValueInRange(t);return e?i.toLowerCase():i}var Jz=class extends Q{constructor(){super({id:"editor.action.focusNextCursor",label:_("mutlicursor.focusNextCursor","Focus Next Cursor"),metadata:{description:_("mutlicursor.focusNextCursor.description","Focuses the next cursor"),args:[]},alias:"Focus Next Cursor",precondition:void 0})}run(t,e,i){if(!e.hasModel())return;let o=e._getViewModel();if(o.cursorConfig.readOnly)return;o.model.pushStackElement();let r=Array.from(o.getCursorStates()),s=r.shift();s&&(r.push(s),o.setCursorStates(i.source,3,r),o.revealPrimaryCursor(i.source,!0),zu(r,o.getCursorStates()))}},eB=class extends Q{constructor(){super({id:"editor.action.focusPreviousCursor",label:_("mutlicursor.focusPreviousCursor","Focus Previous Cursor"),metadata:{description:_("mutlicursor.focusPreviousCursor.description","Focuses the previous cursor"),args:[]},alias:"Focus Previous Cursor",precondition:void 0})}run(t,e,i){if(!e.hasModel())return;let o=e._getViewModel();if(o.cursorConfig.readOnly)return;o.model.pushStackElement();let r=Array.from(o.getCursorStates()),s=r.pop();s&&(r.unshift(s),o.setCursorStates(i.source,3,r),o.revealPrimaryCursor(i.source,!0),zu(r,o.getCursorStates()))}};Te(yM.ID,yM,4);Te(wM.ID,wM,1);V(Vz);V(Wz);V(jz);V(Gz);V($z);V(Kz);V(Yz);V(Xz);V(Zz);V(Uz);V(qz);V(Jz);V(eB);it();it();Kt();var gY="editor.action.inlineEdit.accept",_Y="editor.action.inlineEdit.reject",vY="editor.action.inlineEdit.jumpTo",bY="editor.action.inlineEdit.jumpBack";ue();co();hi();qe();ue();co();hi();qe();Pa();Na();var jwe=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},Uwe=function(n,t){return function(e,i){t(e,i,n)}},tB="inline-edit",xM=class extends U{constructor(t,e,i){super(),this.editor=t,this.model=e,this.languageService=i,this.isDisposed=Yn(this,!1),this.currentTextModel=lo(this,this.editor.onDidChangeModel,()=>this.editor.getModel()),this.uiState=qt(this,o=>{if(this.isDisposed.read(o))return;let r=this.currentTextModel.read(o);if(r!==this.model.targetTextModel.read(o))return;let s=this.model.ghostText.read(o);if(!s)return;let a=this.model.range?.read(o);a&&a.startLineNumber===a.endLineNumber&&a.startColumn===a.endColumn&&(a=void 0);let l=(a?a.startLineNumber===a.endLineNumber:!0)&&s.parts.length===1&&s.parts[0].lines.length===1,c=s.parts.length===1&&s.parts[0].lines.every(b=>b.length===0),d=[],u=[];function h(b,C){if(u.length>0){let k=u[u.length-1];C&&k.decorations.push(new jd(k.content.length+1,k.content.length+1+b[0].length,C,0)),k.content+=b[0],b=b.slice(1)}for(let k of b)u.push({content:k,decorations:C?[new jd(1,k.length+1,C,0)]:[]})}let m=r.getLineContent(s.lineNumber),f,p=0;if(!c&&(l||!a)){for(let b of s.parts){let C=b.lines;a&&!l&&(h(C,tB),C=[]),f===void 0?(d.push({column:b.column,text:C[0],preview:b.preview}),C=C.slice(1)):h([m.substring(p,b.column-1)],void 0),C.length>0&&(h(C,tB),f===void 0&&b.column<=m.length&&(f=b.column)),p=b.column-1}f!==void 0&&h([m.substring(p)],void 0)}let g=f!==void 0?new Hg(f,m.length+1):void 0,v=l||!a?s.lineNumber:a.endLineNumber-1;return{inlineTexts:d,additionalLines:u,hiddenRange:g,lineNumber:v,additionalReservedLineCount:this.model.minReservedLineCount.read(o),targetTextModel:r,range:a,isSingleLine:l,isPureRemove:c}}),this.decorations=qt(this,o=>{let r=this.uiState.read(o);if(!r)return[];let s=[];if(r.hiddenRange&&s.push({range:r.hiddenRange.toRange(r.lineNumber),options:{inlineClassName:"inline-edit-hidden",description:"inline-edit-hidden"}}),r.range){let a=[];if(r.isSingleLine)a.push(r.range);else if(!r.isPureRemove){let l=r.range.endLineNumber-r.range.startLineNumber;for(let c=0;c<l;c++){let d=r.range.startLineNumber+c,u=r.targetTextModel.getLineFirstNonWhitespaceColumn(d),h=r.targetTextModel.getLineLastNonWhitespaceColumn(d),m=new A(d,u,d,h);a.push(m)}}for(let l of a)s.push({range:l,options:Xp})}if(r.range&&!r.isSingleLine&&r.isPureRemove){let a=new A(r.range.startLineNumber,1,r.range.endLineNumber-1,1);s.push({range:a,options:Yp})}for(let a of r.inlineTexts)s.push({range:A.fromPositions(new pe(r.lineNumber,a.column)),options:{description:tB,after:{content:a.text,inlineClassName:a.preview?"inline-edit-decoration-preview":"inline-edit-decoration",cursorStops:Ec.Left},showIfCollapsed:!0}});return s}),this._register(kt(()=>{this.isDisposed.set(!0,void 0)})),this._register(i1(this.editor,this.decorations))}};xM=jwe([Uwe(2,qn)],xM);pt();Ot();vn();Lt();bi();qi();_t();Th();Oi();ue();co();tr();hi();$i();qi();pt();Ot();Oa();var rB=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},Jl=function(n,t){return function(e,i){t(e,i,n)}},CM,SM=class extends U{constructor(t,e,i){super(),this.editor=t,this.model=e,this.instantiationService=i,this.alwaysShowToolbar=lo(this,this.editor.onDidChangeConfiguration,()=>this.editor.getOption(63).showToolbar==="always"),this.sessionPosition=void 0,this.position=qt(this,o=>{let r=this.model.read(o)?.model.ghostText.read(o);if(!this.alwaysShowToolbar.read(o)||!r||r.parts.length===0)return this.sessionPosition=void 0,null;let s=r.parts[0].column;this.sessionPosition&&this.sessionPosition.lineNumber!==r.lineNumber&&(this.sessionPosition=void 0);let a=new pe(r.lineNumber,Math.min(s,this.sessionPosition?.column??Number.MAX_SAFE_INTEGER));return this.sessionPosition=a,a}),this._register(Dl((o,r)=>{if(!this.model.read(o)||!this.alwaysShowToolbar.read(o))return;let a=r.add(this.instantiationService.createInstance(iB,this.editor,!0,this.position));t.addContentWidget(a),r.add(kt(()=>t.removeContentWidget(a)))}))}};SM=rB([Jl(2,Me)],SM);var iB=class extends U{static{CM=this}static{this._dropDownVisible=!1}static{this.id=0}constructor(e,i,o,r,s,a){super(),this.editor=e,this.withBorder=i,this._position=o,this._contextKeyService=s,this._menuService=a,this.id=`InlineEditHintsContentWidget${CM.id++}`,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this.nodes=br("div.inlineEditHints",{className:this.withBorder?".withBorder":""},[br("div@toolBar")]),this.inlineCompletionsActionsMenus=this._register(this._menuService.createMenu(be.InlineEditActions,this._contextKeyService)),this.toolBar=this._register(r.createInstance(oB,this.nodes.toolBar,this.editor,be.InlineEditToolbar,{menuOptions:{renderShortTitle:!0},toolbarOptions:{primaryGroup:l=>l.startsWith("primary")},actionViewItemProvider:(l,c)=>{if(l instanceof yl)return r.createInstance(nB,l,void 0)},telemetrySource:"InlineEditToolbar"})),this._register(this.toolBar.onDidChangeDropdownVisibility(l=>{CM._dropDownVisible=l})),this._register(ti(l=>{this._position.read(l),this.editor.layoutContentWidget(this)})),this._register(ti(l=>{let c=[];for(let[d,u]of this.inlineCompletionsActionsMenus.getActions())for(let h of u)h instanceof yl&&c.push(h);c.length>0&&c.unshift(new xc),this.toolBar.setAdditionalSecondaryActions(c)}))}getId(){return this.id}getDomNode(){return this.nodes.root}getPosition(){return{position:this._position.get(),preference:[1,2],positionAffinity:3}}};iB=CM=rB([Jl(3,Me),Jl(4,Ze),Jl(5,Ys)],iB);var nB=class extends bC{updateLabel(){let t=this._keybindingService.lookupKeybinding(this._action.id,this._contextKeyService);if(!t)return super.updateLabel();if(this.label){let e=br("div.keybinding").root;this._register(new Gp(e,yp,j({disableTitle:!0},SC))).set(t),this.label.textContent=this._action.label,this.label.appendChild(e),this.label.classList.add("inlineEditStatusBarItemLabel")}}updateTooltip(){}},oB=class extends WC{constructor(t,e,i,o,r,s,a,l,c,d){super(t,j({resetMenu:i},o),r,s,a,l,c,d),this.editor=e,this.menuId=i,this.options2=o,this.menuService=r,this.contextKeyService=s,this.menu=this._store.add(this.menuService.createMenu(this.menuId,this.contextKeyService,{emitEventsForSubmenuChanges:!0})),this.additionalActions=[],this.prependedPrimaryActions=[],this._store.add(this.menu.onDidChange(()=>this.updateToolbar())),this._store.add(this.editor.onDidChangeCursorPosition(()=>this.updateToolbar())),this.updateToolbar()}updateToolbar(){let t=[],e=[];jp(this.menu,this.options2?.menuOptions,{primary:t,secondary:e},this.options2?.toolbarOptions?.primaryGroup,this.options2?.toolbarOptions?.shouldInlineSubmenu,this.options2?.toolbarOptions?.useSeparatorsInPrimaryActions),e.push(...this.additionalActions),t.unshift(...this.prependedPrimaryActions),this.setActions(t,e)}setAdditionalSecondaryActions(t){Jo(this.additionalActions,t,(e,i)=>e===i)||(this.additionalActions=t,this.updateToolbar())}};oB=rB([Jl(4,Ys),Jl(5,Ze),Jl(6,Qs),Jl(7,Vt),Jl(8,di),Jl(9,Un)],oB);_t();bn();Bt();Hd();_t();bi();ue();co();Hd();Ln();Bv();hi();qe();Vx();wn();bs();Ot();var yY=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},DM=function(n,t){return function(e,i){t(e,i,n)}},T0,aB;function*qwe(n,t,e=1){t===void 0&&([t,n]=[n,0]);for(let i=n;i<t;i+=e)yield i}function sB(n){let t=n[0].match(/^\s*/)?.[0]??"",e=t.length;return{text:n.map(i=>i.replace(new RegExp("^"+t),"")),shift:e}}var IM=class extends U{static{T0=this}static{this._modelId=0}static _createUniqueUri(){return mt.from({scheme:"inline-edit-widget",path:new Date().toString()+String(T0._modelId++)})}constructor(e,i,o,r,s){super(),this._editor=e,this._model=i,this._instantiationService=o,this._diffProviderFactoryService=r,this._modelService=s,this._position=qt(this,a=>{let l=this._model.read(a);if(!l||l.text.length===0||l.range.startLineNumber===l.range.endLineNumber&&!(l.range.startColumn===l.range.endColumn&&l.range.startColumn===1))return null;let c=this._editor.getModel();if(!c)return null;let d=Array.from(qwe(l.range.startLineNumber,l.range.endLineNumber+1)),u=d.map(g=>c.getLineLastNonWhitespaceColumn(g)),h=Math.max(...u),m=d[u.indexOf(h)],f=new pe(m,h);return{top:l.range.startLineNumber,left:f}}),this._text=qt(this,a=>{let l=this._model.read(a);if(!l)return{text:"",shift:0};let c=sB(l.text.split(`
`));return{text:c.text.join(`
`),shift:c.shift}}),this._originalModel=Is(()=>this._modelService.createModel("",null,T0._createUniqueUri())).keepObserved(this._store),this._modifiedModel=Is(()=>this._modelService.createModel("",null,T0._createUniqueUri())).keepObserved(this._store),this._diff=qt(this,a=>this._diffPromise.read(a)?.promiseResult.read(a)?.data),this._diffPromise=qt(this,a=>{let l=this._model.read(a);if(!l)return;let c=this._editor.getModel();if(!c)return;let d=sB(c.getValueInRange(l.range).split(`
`)).text.join(`
`),u=sB(l.text.split(`
`)).text.join(`
`);this._originalModel.get().setValue(d),this._modifiedModel.get().setValue(u);let h=this._diffProviderFactoryService.createDiffProvider({diffAlgorithm:"advanced"});return gC.fromFn(()=>M(this,null,function*(){let m=yield h.computeDiff(this._originalModel.get(),this._modifiedModel.get(),{computeMoves:!1,ignoreTrimWhitespace:!1,maxComputationTimeMs:1e3},Qe.None);if(!m.identical)return m.changes}))}),this._register(Dl((a,l)=>{if(!this._model.read(a)||this._position.get()===null)return;let d=l.add(this._instantiationService.createInstance(lB,this._editor,this._position,this._text.map(u=>u.text),this._text.map(u=>u.shift),this._diff));e.addOverlayWidget(d),l.add(kt(()=>e.removeOverlayWidget(d)))}))}};IM=T0=yY([DM(2,Me),DM(3,Zp),DM(4,Ui)],IM);var lB=class extends U{static{aB=this}static{this.id=0}constructor(e,i,o,r,s,a){super(),this._editor=e,this._position=i,this._text=o,this._shift=r,this._diff=s,this._instantiationService=a,this.id=`InlineEditSideBySideContentWidget${aB.id++}`,this.allowEditorOverflow=!1,this._nodes=ye("div.inlineEditSideBySide",void 0),this._scrollChanged=Ba("editor.onDidScrollChange",this._editor.onDidScrollChange),this._previewEditor=this._register(this._instantiationService.createInstance(Io,this._nodes,{glyphMargin:!1,lineNumbers:"off",minimap:{enabled:!1},guides:{indentation:!1,bracketPairs:!1,bracketPairsHorizontal:!1,highlightActiveIndentation:!1},folding:!1,selectOnLineNumbers:!1,selectionHighlight:!1,columnSelection:!1,overviewRulerBorder:!1,overviewRulerLanes:0,lineDecorationsWidth:0,lineNumbersMinChars:0,scrollbar:{vertical:"hidden",horizontal:"hidden",alwaysConsumeMouseWheel:!1,handleMouseWheel:!1},readOnly:!0,wordWrap:"off",wordWrapOverride1:"off",wordWrapOverride2:"off",wrappingIndent:"none",wrappingStrategy:void 0},{contributions:[],isSimpleWidget:!0},this._editor)),this._previewEditorObs=zr(this._previewEditor),this._editorObs=zr(this._editor),this._previewTextModel=this._register(this._instantiationService.createInstance(Ha,"",this._editor.getModel()?.getLanguageId()??Dc,Ha.DEFAULT_CREATION_OPTIONS,null)),this._setText=qt(l=>{let c=this._text.read(l);c&&this._previewTextModel.setValue(c)}).recomputeInitiallyAndOnChange(this._store),this._decorations=qt(this,l=>{this._setText.read(l);let c=this._position.read(l);if(!c)return{org:[],mod:[]};let d=this._diff.read(l);if(!d)return{org:[],mod:[]};let u=[],h=[];if(d.length===1&&d[0].innerChanges[0].modifiedRange.equalsRange(this._previewTextModel.getFullModelRange()))return{org:[],mod:[]};let m=this._shift.get(),f=p=>new A(p.startLineNumber+c.top-1,p.startColumn+m,p.endLineNumber+c.top-1,p.endColumn+m);for(let p of d)if(p.original.isEmpty||u.push({range:f(p.original.toInclusiveRange()),options:Yp}),p.modified.isEmpty||h.push({range:p.modified.toInclusiveRange(),options:NC}),p.modified.isEmpty||p.original.isEmpty)p.original.isEmpty||u.push({range:f(p.original.toInclusiveRange()),options:HC}),p.modified.isEmpty||h.push({range:p.modified.toInclusiveRange(),options:zC});else for(let g of p.innerChanges||[])p.original.contains(g.originalRange.startLineNumber)&&u.push({range:f(g.originalRange),options:g.originalRange.isEmpty()?VC:Xp}),p.modified.contains(g.modifiedRange.startLineNumber)&&h.push({range:g.modifiedRange,options:g.modifiedRange.isEmpty()?BC:FC});return{org:u,mod:h}}),this._originalDecorations=qt(this,l=>this._decorations.read(l).org),this._modifiedDecorations=qt(this,l=>this._decorations.read(l).mod),this._previewEditor.setModel(this._previewTextModel),this._register(this._editorObs.setDecorations(this._originalDecorations)),this._register(this._previewEditorObs.setDecorations(this._modifiedDecorations)),this._register(ti(l=>{let c=this._previewEditorObs.contentWidth.read(l),d=this._text.read(l).split(`
`).length-1,u=this._editor.getOption(67)*d;c<=0||this._previewEditor.layout({height:u,width:c})})),this._register(ti(l=>{this._position.read(l),this._editor.layoutOverlayWidget(this)})),this._register(ti(l=>{this._scrollChanged.read(l),this._position.read(l)&&this._editor.layoutOverlayWidget(this)}))}getId(){return this.id}getDomNode(){return this._nodes}getPosition(){let e=this._position.get();if(!e)return null;let i=this._editor.getLayoutInfo(),o=this._editor.getScrolledVisiblePosition(new pe(e.top,1));if(!o)return null;let r=o.top-1,s=this._editor.getOffsetForColumn(e.left.lineNumber,e.left.column);return{preference:{left:i.contentLeft+s+10,top:r}}}};lB=aB=yY([DM(5,Me)],lB);bs();var Gwe=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},Fm=function(n,t){return function(e,i){t(e,i,n)}},A0,Ho=class extends U{static{A0=this}static{this.ID="editor.contrib.inlineEditController"}static{this.inlineEditVisibleKey="inlineEditVisible"}static{this.inlineEditVisibleContext=new ot(this.inlineEditVisibleKey,!1)}static{this.cursorAtInlineEditKey="cursorAtInlineEdit"}static{this.cursorAtInlineEditContext=new ot(this.cursorAtInlineEditKey,!1)}static get(t){return t.getContribution(A0.ID)}constructor(t,e,i,o,r,s,a,l){super(),this.editor=t,this.instantiationService=e,this.contextKeyService=i,this.languageFeaturesService=o,this._commandService=r,this._configurationService=s,this._diffProviderFactoryService=a,this._modelService=l,this._isVisibleContext=A0.inlineEditVisibleContext.bindTo(this.contextKeyService),this._isCursorAtInlineEditContext=A0.cursorAtInlineEditContext.bindTo(this.contextKeyService),this._currentEdit=Yn(this,void 0),this._currentWidget=Is(this._currentEdit,f=>{let p=this._currentEdit.read(f);if(!p)return;let g=p.range.endLineNumber,v=p.range.endColumn,b=p.text.endsWith(`
`)&&!(p.range.startLineNumber===p.range.endLineNumber&&p.range.startColumn===p.range.endColumn)?p.text.slice(0,-1):p.text,C=new Kl(g,[new Ou(v,b,!1)]),k=p.range.startLineNumber===p.range.endLineNumber&&C.parts.length===1&&C.parts[0].lines.length===1,E=p.text==="";return!k&&!E?void 0:this.instantiationService.createInstance(xM,this.editor,{ghostText:Qr(C),minReservedLineCount:Qr(0),targetTextModel:Qr(this.editor.getModel()??void 0),range:Qr(p.range)})}),this._isAccepting=Yn(this,!1),this._enabled=lo(this,this.editor.onDidChangeConfiguration,()=>this.editor.getOption(63).enabled),this._fontFamily=lo(this,this.editor.onDidChangeConfiguration,()=>this.editor.getOption(63).fontFamily);let c=Ba("InlineEditController.modelContentChangedSignal",t.onDidChangeModelContent);this._register(ti(f=>{this._enabled.read(f)&&(c.read(f),!this._isAccepting.read(f)&&this.getInlineEdit(t,!0))}));let d=lo(this,t.onDidChangeCursorPosition,()=>t.getPosition());this._register(ti(f=>{if(!this._enabled.read(f))return;let p=d.read(f);p&&this.checkCursorPosition(p)})),this._register(ti(f=>{let p=this._currentEdit.read(f);if(this._isCursorAtInlineEditContext.set(!1),!p){this._isVisibleContext.set(!1);return}this._isVisibleContext.set(!0);let g=t.getPosition();g&&this.checkCursorPosition(g)}));let u=Ba("InlineEditController.editorBlurSignal",t.onDidBlurEditorWidget);this._register(ti(f=>M(this,null,function*(){this._enabled.read(f)&&(u.read(f),!(this._configurationService.getValue("editor.experimentalInlineEdit.keepOnBlur")||t.getOption(63).keepOnBlur)&&(this._currentRequestCts?.dispose(!0),this._currentRequestCts=void 0,yield this.clear(!1)))})));let h=Ba("InlineEditController.editorFocusSignal",t.onDidFocusEditorText);this._register(ti(f=>{this._enabled.read(f)&&(h.read(f),this.getInlineEdit(t,!0))}));let m=this._register(Nx());this._register(ti(f=>{let p=this._fontFamily.read(f);m.setStyle(p===""||p==="default"?"":`
.monaco-editor .inline-edit-decoration,
.monaco-editor .inline-edit-decoration-preview,
.monaco-editor .inline-edit {
	font-family: ${p};
}`)})),this._register(new SM(this.editor,this._currentWidget,this.instantiationService)),this._register(new IM(this.editor,this._currentEdit,this.instantiationService,this._diffProviderFactoryService,this._modelService))}checkCursorPosition(t){if(!this._currentEdit){this._isCursorAtInlineEditContext.set(!1);return}let e=this._currentEdit.get();if(!e){this._isCursorAtInlineEditContext.set(!1);return}this._isCursorAtInlineEditContext.set(A.containsPosition(e.range,t))}validateInlineEdit(t,e){if(e.text.includes(`
`)&&e.range.startLineNumber!==e.range.endLineNumber&&e.range.startColumn!==e.range.endColumn){if(e.range.startColumn!==1)return!1;let o=e.range.endLineNumber,r=e.range.endColumn,s=t.getModel()?.getLineLength(o)??0;if(r!==s+1)return!1}return!0}fetchInlineEdit(t,e){return M(this,null,function*(){this._currentRequestCts&&this._currentRequestCts.dispose(!0);let i=t.getModel();if(!i)return;let o=i.getVersionId(),r=this.languageFeaturesService.inlineEditProvider.all(i);if(r.length===0)return;let s=r[0];this._currentRequestCts=new vi;let a=this._currentRequestCts.token,l=e?uR.Automatic:uR.Invoke;if(e&&(yield $we(50,a)),a.isCancellationRequested||i.isDisposed()||i.getVersionId()!==o)return;let d=yield s.provideInlineEdit(i,{triggerKind:l},a);if(d&&!(a.isCancellationRequested||i.isDisposed()||i.getVersionId()!==o)&&this.validateInlineEdit(t,d))return d})}getInlineEdit(t,e){return M(this,null,function*(){this._isCursorAtInlineEditContext.set(!1),yield this.clear();let i=yield this.fetchInlineEdit(t,e);i&&this._currentEdit.set(i,void 0)})}trigger(){return M(this,null,function*(){yield this.getInlineEdit(this.editor,!1)})}jumpBack(){return M(this,null,function*(){this._jumpBackPosition&&(this.editor.setPosition(this._jumpBackPosition),this.editor.revealPositionInCenterIfOutsideViewport(this._jumpBackPosition))})}accept(){return M(this,null,function*(){this._isAccepting.set(!0,void 0);let t=this._currentEdit.get();if(!t)return;let e=t.text;t.text.startsWith(`
`)&&(e=t.text.substring(1)),this.editor.pushUndoStop(),this.editor.executeEdits("acceptCurrent",[mi.replace(A.lift(t.range),e)]),t.accepted&&(yield this._commandService.executeCommand(t.accepted.id,...t.accepted.arguments||[]).then(void 0,zt)),this.freeEdit(t),Ss(i=>{this._currentEdit.set(void 0,i),this._isAccepting.set(!1,i)})})}jumpToCurrent(){this._jumpBackPosition=this.editor.getSelection()?.getStartPosition();let t=this._currentEdit.get();if(!t)return;let e=pe.lift({lineNumber:t.range.startLineNumber,column:t.range.startColumn});this.editor.setPosition(e),this.editor.revealPositionInCenterIfOutsideViewport(e)}clear(t=!0){return M(this,null,function*(){let e=this._currentEdit.get();e&&e?.rejected&&t&&(yield this._commandService.executeCommand(e.rejected.id,...e.rejected.arguments||[]).then(void 0,zt)),e&&this.freeEdit(e),this._currentEdit.set(void 0,void 0)})}freeEdit(t){let e=this.editor.getModel();if(!e)return;let i=this.languageFeaturesService.inlineEditProvider.all(e);i.length!==0&&i[0].freeInlineEdit(t)}};Ho=A0=Gwe([Fm(1,Me),Fm(2,Ze),Fm(3,ce),Fm(4,di),Fm(5,vt),Fm(6,Zp),Fm(7,Ui)],Ho);function $we(n,t){return new Promise(e=>{let i,o=setTimeout(()=>{i&&i.dispose(),e()},n);t&&(i=t.onCancellationRequested(()=>{clearTimeout(o),i&&i.dispose(),e()}))})}$i();pt();var EM=class extends Q{constructor(){super({id:gY,label:"Accept Inline Edit",alias:"Accept Inline Edit",precondition:K.and(T.writable,Ho.inlineEditVisibleContext),kbOpts:[{weight:101,primary:2,kbExpr:K.and(T.writable,Ho.inlineEditVisibleContext,Ho.cursorAtInlineEditContext)}],menuOpts:[{menuId:be.InlineEditToolbar,title:"Accept",group:"primary",order:1}]})}run(t,e){return M(this,null,function*(){yield Ho.get(e)?.accept()})}},MM=class extends Q{constructor(){let t=K.and(T.writable,K.not(Ho.inlineEditVisibleKey));super({id:"editor.action.inlineEdit.trigger",label:"Trigger Inline Edit",alias:"Trigger Inline Edit",precondition:t,kbOpts:{weight:101,primary:2646,kbExpr:t}})}run(t,e){return M(this,null,function*(){Ho.get(e)?.trigger()})}},kM=class extends Q{constructor(){let t=K.and(T.writable,Ho.inlineEditVisibleContext,K.not(Ho.cursorAtInlineEditKey));super({id:vY,label:"Jump to Inline Edit",alias:"Jump to Inline Edit",precondition:t,kbOpts:{weight:101,primary:2646,kbExpr:t},menuOpts:[{menuId:be.InlineEditToolbar,title:"Jump To Edit",group:"primary",order:3,when:t}]})}run(t,e){return M(this,null,function*(){Ho.get(e)?.jumpToCurrent()})}},TM=class extends Q{constructor(){let t=K.and(T.writable,Ho.cursorAtInlineEditContext);super({id:bY,label:"Jump Back from Inline Edit",alias:"Jump Back from Inline Edit",precondition:t,kbOpts:{weight:110,primary:2646,kbExpr:t},menuOpts:[{menuId:be.InlineEditToolbar,title:"Jump Back",group:"primary",order:3,when:t}]})}run(t,e){return M(this,null,function*(){Ho.get(e)?.jumpBack()})}},AM=class extends Q{constructor(){let t=K.and(T.writable,Ho.inlineEditVisibleContext);super({id:_Y,label:"Reject Inline Edit",alias:"Reject Inline Edit",precondition:t,kbOpts:{weight:100,primary:9,kbExpr:t},menuOpts:[{menuId:be.InlineEditToolbar,title:"Reject",group:"secondary",order:2}]})}run(t,e){return M(this,null,function*(){yield Ho.get(e)?.clear()})}};V(EM);V(AM);V(kM);V(TM);V(MM);Te(Ho.ID,Ho,3);it();Wn();co();RU();it();Kt();Re();pt();var wY="editor.action.inlineEdits.accept",xY="editor.action.inlineEdits.showPrevious",CY="editor.action.inlineEdits.showNext",Bu=new ot("inlineEditsVisible",!1,_("inlineEditsVisible","Whether an inline edit is visible")),SY=new ot("inlineEditsIsPinned",!1,_("isPinned","Whether an inline edit is visible"));ue();co();Hd();Bv();Nn();Xs();Lt();Ht();bi();dC();Bt();ue();co();Hd();Ln();xue();vn();Lt();bs();_t();ue();co();Hd();it();Bv();E8();Vx();wn();_t();dC();ue();co();Hd();Bv();var R0=(()=>{class n extends U{static{this.ID="editor.contrib.placeholderText"}constructor(e){super(),this._editor=e,this._editorObs=zr(this._editor),this._placeholderText=this._editorObs.getOption(88),this._state=Ds({owner:this,equalsFn:cC},i=>{let o=this._placeholderText.read(i);if(o&&this._editorObs.valueIsEmpty.read(i))return{placeholder:o}}),this._shouldViewBeAlive=Kwe(this,i=>this._state.read(i)?.placeholder!==void 0),this._view=pC((i,o)=>{if(!this._shouldViewBeAlive.read(i))return;let r=br("div.editorPlaceholder");o.add(ti(s=>{let a=this._state.read(s),l=a?.placeholder!==void 0;r.root.style.display=l?"block":"none",r.root.innerText=a?.placeholder??""})),o.add(ti(s=>{let a=this._editorObs.layoutInfo.read(s);r.root.style.left=`${a.contentLeft}px`,r.root.style.width=a.contentWidth-a.verticalScrollbarWidth+"px",r.root.style.top=`${this._editor.getTopForLineNumber(0)}px`})),o.add(ti(s=>{r.root.style.fontFamily=this._editorObs.getOption(49).read(s),r.root.style.fontSize=this._editorObs.getOption(52).read(s)+"px",r.root.style.lineHeight=this._editorObs.getOption(67).read(s)+"px"})),o.add(this._editorObs.createOverlayWidget({allowEditorOverflow:!1,minContentWidthInPx:Qr(0),position:Qr(null),domNode:r.root}))}),this._view.recomputeInitiallyAndOnChange(this._store)}}return n})();function Kwe(n,t){return Vd(n,(e,i)=>i===!0?!0:t(e))}Ot();var Ywe=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},Xwe=function(n,t){return function(e,i){t(e,i,n)}},RM=class{constructor(t,e,i){this.range=t,this.newLines=e,this.changes=i}},OM=class extends U{constructor(t,e,i,o){super(),this._editor=t,this._edit=e,this._userPrompt=i,this._instantiationService=o,this._editorObs=zr(this._editor),this._elements=br("div.inline-edits-widget",{style:{position:"absolute",overflow:"visible",top:"0px",left:"0px"}},[br("div@editorContainer",{style:{position:"absolute",top:"0px",left:"0px",width:"500px",height:"500px"}},[br("div.toolbar@toolbar",{style:{position:"absolute",top:"-25px",left:"0px"}}),br("div.promptEditor@promptEditor",{style:{position:"absolute",top:"-25px",left:"80px",width:"300px",height:"22px"}}),br("div.preview@editor",{style:{position:"absolute",top:"0px",left:"0px"}})]),kh("svg",{style:{overflow:"visible",pointerEvents:"none"}},[kh("defs",[kh("linearGradient",{id:"Gradient2",x1:"0",y1:"0",x2:"1",y2:"0"},[kh("stop",{offset:"0%",class:"gradient-stop"}),kh("stop",{offset:"100%",class:"gradient-stop"})])]),kh("path@path",{d:"",fill:"url(#Gradient2)"})])]),this._previewTextModel=this._register(this._instantiationService.createInstance(Ha,"",Dc,Ha.DEFAULT_CREATION_OPTIONS,null)),this._setText=qt(s=>{let a=this._edit.read(s);a&&this._previewTextModel.setValue(a.newLines.join(`
`))}).recomputeInitiallyAndOnChange(this._store),this._promptTextModel=this._register(this._instantiationService.createInstance(Ha,"",Dc,Ha.DEFAULT_CREATION_OPTIONS,null)),this._promptEditor=this._register(this._instantiationService.createInstance(Io,this._elements.promptEditor,{glyphMargin:!1,lineNumbers:"off",minimap:{enabled:!1},guides:{indentation:!1,bracketPairs:!1,bracketPairsHorizontal:!1,highlightActiveIndentation:!1},folding:!1,selectOnLineNumbers:!1,selectionHighlight:!1,columnSelection:!1,overviewRulerBorder:!1,overviewRulerLanes:0,lineDecorationsWidth:0,lineNumbersMinChars:0,placeholder:"Describe the change you want...",fontFamily:x8},{contributions:Q4.getSomeEditorContributions([ds.ID,R0.ID,km.ID]),isSimpleWidget:!0},this._editor)),this._previewEditor=this._register(this._instantiationService.createInstance(Io,this._elements.editor,{glyphMargin:!1,lineNumbers:"off",minimap:{enabled:!1},guides:{indentation:!1,bracketPairs:!1,bracketPairsHorizontal:!1,highlightActiveIndentation:!1},folding:!1,selectOnLineNumbers:!1,selectionHighlight:!1,columnSelection:!1,overviewRulerBorder:!1,overviewRulerLanes:0,lineDecorationsWidth:0,lineNumbersMinChars:0},{contributions:[]},this._editor)),this._previewEditorObs=zr(this._previewEditor),this._decorations=qt(this,s=>{this._setText.read(s);let a=this._edit.read(s)?.changes;if(!a)return[];let l=[],c=[];if(a.length===1&&a[0].innerChanges[0].modifiedRange.equalsRange(this._previewTextModel.getFullModelRange()))return[];for(let d of a)if(d.original.isEmpty||l.push({range:d.original.toInclusiveRange(),options:Yp}),d.modified.isEmpty||c.push({range:d.modified.toInclusiveRange(),options:NC}),d.modified.isEmpty||d.original.isEmpty)d.original.isEmpty||l.push({range:d.original.toInclusiveRange(),options:HC}),d.modified.isEmpty||c.push({range:d.modified.toInclusiveRange(),options:zC});else for(let u of d.innerChanges||[])d.original.contains(u.originalRange.startLineNumber)&&l.push({range:u.originalRange,options:u.originalRange.isEmpty()?VC:Xp}),d.modified.contains(u.modifiedRange.startLineNumber)&&c.push({range:u.modifiedRange,options:u.modifiedRange.isEmpty()?BC:FC});return c}),this._layout1=qt(this,s=>{let a=this._editor.getModel(),l=this._edit.read(s);if(!l)return null;let c=l.range,d=0;for(let m=c.startLineNumber;m<c.endLineNumberExclusive;m++){let f=a.getLineMaxColumn(m),p=this._editor.getOffsetForColumn(m,f);d=Math.max(d,p)}return{left:this._editor.getLayoutInfo().contentLeft+d}}),this._layout=qt(this,s=>{let a=this._edit.read(s);if(!a)return null;let l=a.range,c=this._editorObs.scrollLeft.read(s),d=this._layout1.read(s).left+20-c,u=this._editor.getTopForLineNumber(l.startLineNumber)-this._editorObs.scrollTop.read(s),h=this._editor.getTopForLineNumber(l.endLineNumberExclusive)-this._editorObs.scrollTop.read(s),m=new o_(d,u),f=new o_(d,h),p=h-u,g=50,v=this._editor.getOption(67)*a.newLines.length,b=p-v,C=new o_(d+g,u+b/2),k=new o_(d+g,h-b/2);return{topCode:m,bottomCode:f,codeHeight:p,topEdit:C,bottomEdit:k,editHeight:v}});let r=qt(this,s=>this._edit.read(s)!==void 0||this._userPrompt.read(s)!==void 0);this._register(D8(this._elements.root,{display:qt(this,s=>r.read(s)?"block":"none")})),this._register(S8(this._editor.getDomNode(),this._elements.root)),this._register(zr(t).createOverlayWidget({domNode:this._elements.root,position:Qr(null),allowEditorOverflow:!1,minContentWidthInPx:qt(s=>{let a=this._layout1.read(s)?.left;if(a===void 0)return 0;let l=this._previewEditorObs.contentWidth.read(s);return a+l})})),this._previewEditor.setModel(this._previewTextModel),this._register(this._previewEditorObs.setDecorations(this._decorations)),this._register(ti(s=>{let a=this._layout.read(s);if(!a)return;let{topCode:l,bottomCode:c,topEdit:d,bottomEdit:u,editHeight:h}=a,m=10,f=0,p=40,g=new cB().moveTo(l).lineTo(l.deltaX(m)).curveTo(l.deltaX(m+p),d.deltaX(-p-f),d.deltaX(-f)).lineTo(d).lineTo(u).lineTo(u.deltaX(-f)).curveTo(u.deltaX(-p-f),c.deltaX(m+p),c.deltaX(m)).lineTo(c).build();this._elements.path.setAttribute("d",g),this._elements.editorContainer.style.top=`${d.y}px`,this._elements.editorContainer.style.left=`${d.x}px`,this._elements.editorContainer.style.height=`${h}px`;let v=this._previewEditorObs.contentWidth.read(s);this._previewEditor.layout({height:h,width:v})})),this._promptEditor.setModel(this._promptTextModel),this._promptEditor.layout(),this._register(Qwe(Zwe(this._userPrompt,s=>s??"",s=>s),zr(this._promptEditor).value)),this._register(ti(s=>{let a=zr(this._promptEditor).isFocused.read(s);this._elements.root.classList.toggle("focused",a)}))}};OM=Ywe([Xwe(3,Me)],OM);function Zwe(n,t,e){return hC(void 0,i=>t(n.read(i)),(i,o)=>n.set(e(i),o))}var o_=class n{constructor(t,e){this.x=t,this.y=e}deltaX(t){return new n(this.x+t,this.y)}},cB=class{constructor(){this._data=""}moveTo(t){return this._data+=`M ${t.x} ${t.y} `,this}lineTo(t){return this._data+=`L ${t.x} ${t.y} `,this}curveTo(t,e,i){return this._data+=`C ${t.x} ${t.y} ${e.x} ${e.y} ${i.x} ${i.y} `,this}build(){return this._data}};function Qwe(n,t){let e=new G;return e.add(ti(i=>{let o=n.read(i);t.set(o,void 0)})),e.add(ti(i=>{let o=t.read(i);n.set(o,void 0)})),e}var Jwe=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},dB=function(n,t){return function(e,i){t(e,i,n)}},O0,PM=class extends U{static{O0=this}static{this._modelId=0}static _createUniqueUri(){return mt.from({scheme:"inline-edits",path:new Date().toString()+String(O0._modelId++)})}constructor(e,i,o,r,s,a,l){super(),this.textModel=e,this._textModelVersionId=i,this._selection=o,this._debounceValue=r,this.languageFeaturesService=s,this._diffProviderFactoryService=a,this._modelService=l,this._forceUpdateExplicitlySignal=Hp(this),this._selectedInlineCompletionId=Yn(this,void 0),this._isActive=Yn(this,!1),this._originalModel=Is(()=>this._modelService.createModel("",null,O0._createUniqueUri())).keepObserved(this._store),this._modifiedModel=Is(()=>this._modelService.createModel("",null,O0._createUniqueUri())).keepObserved(this._store),this._pinnedRange=new hB(this.textModel,this._textModelVersionId),this.isPinned=this._pinnedRange.range.map(c=>!!c),this.userPrompt=Yn(this,void 0),this.inlineEdit=qt(this,c=>this._inlineEdit.read(c)?.promiseResult.read(c)?.data),this._inlineEdit=qt(this,c=>{let d=this.selectedInlineEdit.read(c);if(!d)return;let u=d.inlineCompletion.range;if(d.inlineCompletion.insertText.trim()==="")return;let h=d.inlineCompletion.insertText.split(/\r\n|\r|\n/);function m(v){let b=v[0].match(/^\s*/)?.[0]??"";return v.map(C=>C.replace(new RegExp("^"+b),""))}h=m(h);let p=this.textModel.getValueInRange(u).split(/\r\n|\r|\n/);p=m(p),this._originalModel.get().setValue(p.join(`
`)),this._modifiedModel.get().setValue(h.join(`
`));let g=this._diffProviderFactoryService.createDiffProvider({diffAlgorithm:"advanced"});return gC.fromFn(()=>M(this,null,function*(){let v=yield g.computeDiff(this._originalModel.get(),this._modifiedModel.get(),{computeMoves:!1,ignoreTrimWhitespace:!1,maxComputationTimeMs:1e3},Qe.None);if(!v.identical)return new RM(l5.fromRangeInclusive(u),m(h),v.changes)}))}),this._fetchStore=this._register(new G),this._inlineEditsFetchResult=Tv(this,void 0),this._inlineEdits=Ds({owner:this,equalsFn:cC},c=>this._inlineEditsFetchResult.read(c)?.completions.map(d=>new uB(d))??[]),this._fetchInlineEditsPromise=mC({owner:this,createEmptyChangeSummary:()=>({inlineCompletionTriggerKind:vs.Automatic}),handleChange:(c,d)=>(c.didChange(this._forceUpdateExplicitlySignal)&&(d.inlineCompletionTriggerKind=vs.Explicit),!0)},(c,d)=>M(this,null,function*(){this._fetchStore.clear(),this._forceUpdateExplicitlySignal.read(c),this._textModelVersionId.read(c);function u(g,v){return v(g)}let h=this._pinnedRange.range.read(c)??u(this._selection.read(c),g=>g.isEmpty()?void 0:g);if(!h){this._inlineEditsFetchResult.set(void 0,void 0),this.userPrompt.set(void 0,void 0);return}let m={triggerKind:d.inlineCompletionTriggerKind,selectedSuggestionInfo:void 0,userPrompt:this.userPrompt.read(c)},f=hv(this._fetchStore);yield Td(200,f);let p=yield o1(this.languageFeaturesService.inlineCompletionsProvider,h,this.textModel,m,f);f.isCancellationRequested||this._inlineEditsFetchResult.set(p,void 0)})),this._filteredInlineEditItems=Ds({owner:this,equalsFn:kv()},c=>this._inlineEdits.read(c)),this.selectedInlineCompletionIndex=qt(this,c=>{let d=this._selectedInlineCompletionId.read(c),u=this._filteredInlineEditItems.read(c),h=this._selectedInlineCompletionId===void 0?-1:u.findIndex(m=>m.semanticId===d);return h===-1?(this._selectedInlineCompletionId.set(void 0,void 0),0):h}),this.selectedInlineEdit=qt(this,c=>{let d=this._filteredInlineEditItems.read(c),u=this.selectedInlineCompletionIndex.read(c);return d[u]}),this._register(fC(this._fetchInlineEditsPromise))}triggerExplicitly(e){return M(this,null,function*(){Bp(e,i=>{this._isActive.set(!0,i),this._forceUpdateExplicitlySignal.trigger(i)}),yield this._fetchInlineEditsPromise.get()})}stop(e){Bp(e,i=>{this.userPrompt.set(void 0,i),this._isActive.set(!1,i),this._inlineEditsFetchResult.set(void 0,i),this._pinnedRange.setRange(void 0,i)})}_deltaSelectedInlineCompletionIndex(e){return M(this,null,function*(){yield this.triggerExplicitly();let i=this._filteredInlineEditItems.get()||[];if(i.length>0){let o=(this.selectedInlineCompletionIndex.get()+e+i.length)%i.length;this._selectedInlineCompletionId.set(i[o].semanticId,void 0)}else this._selectedInlineCompletionId.set(void 0,void 0)})}next(){return M(this,null,function*(){yield this._deltaSelectedInlineCompletionIndex(1)})}previous(){return M(this,null,function*(){yield this._deltaSelectedInlineCompletionIndex(-1)})}accept(e){return M(this,null,function*(){if(e.getModel()!==this.textModel)throw new ml;let i=this.selectedInlineEdit.get();i&&(e.pushUndoStop(),e.executeEdits("inlineSuggestion.accept",[i.inlineCompletion.toSingleTextEdit().toSingleEditOperation()]),this.stop())})}};PM=O0=Jwe([dB(4,ce),dB(5,Zp),dB(6,Ui)],PM);var uB=class{constructor(t){this.inlineCompletion=t,this.semanticId=this.inlineCompletion.hash()}},hB=class extends U{constructor(t,e){super(),this._textModel=t,this._versionId=e,this._decorations=Yn(this,[]),this.range=qt(this,i=>{this._versionId.read(i);let o=this._decorations.read(i)[0];return o?this._textModel.getDecorationRange(o)??null:null}),this._register(kt(()=>{this._textModel.deltaDecorations(this._decorations.get(),[])}))}setRange(t,e){this._decorations.set(this._textModel.deltaDecorations(this._decorations.get(),t?[{range:t,options:{description:"trackedRange"}}]:[]),e)}};bn();pt();Ot();var exe=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},P0=function(n,t){return function(e,i){t(e,i,n)}},mB,il=class extends U{static{mB=this}static{this.ID="editor.contrib.inlineEditsController"}static get(e){return e.getContribution(mB.ID)}constructor(e,i,o,r,s,a){super(),this.editor=e,this._instantiationService=i,this._contextKeyService=o,this._debounceService=r,this._languageFeaturesService=s,this._configurationService=a,this._enabled=A8("editor.inlineEdits.enabled",!1,this._configurationService),this._editorObs=zr(this.editor),this._selection=qt(this,l=>this._editorObs.cursorSelection.read(l)??new Be(1,1,1,1)),this._debounceValue=this._debounceService.for(this._languageFeaturesService.inlineCompletionsProvider,"InlineEditsDebounce",{min:50,max:50}),this.model=Is(this,l=>{if(!this._enabled.read(l)||this._editorObs.isReadonly.read(l))return;let c=this._editorObs.model.read(l);return c?this._instantiationService.createInstance(zv(PM,l),c,this._editorObs.versionId,this._selection,this._debounceValue):void 0}),this._hadInlineEdit=Vd(this,(l,c)=>c||this.model.read(l)?.inlineEdit.read(l)!==void 0),this._widget=Is(this,l=>{if(this._hadInlineEdit.read(l))return this._instantiationService.createInstance(zv(OM,l),this.editor,this.model.map((c,d)=>c?.inlineEdit.read(d)),txe(c=>this.model.read(c)?.userPrompt??Yn("empty","")))}),this._register(oO(Bu,this._contextKeyService,l=>!!this.model.read(l)?.inlineEdit.read(l))),this._register(oO(SY,this._contextKeyService,l=>!!this.model.read(l)?.isPinned.read(l))),this.model.recomputeInitiallyAndOnChange(this._store),this._widget.recomputeInitiallyAndOnChange(this._store)}};il=mB=exe([P0(1,Me),P0(2,Ze),P0(3,yn),P0(4,ce),P0(5,vt)],il);function txe(n){return hC(void 0,t=>n(t).read(t),(t,e)=>{n(void 0).set(t,e)})}Re();$i();pt();function L0(n){return{label:n.value,alias:n.original}}var DY=(()=>{class n extends Q{static{this.ID=CY}constructor(){super(Ae(j({id:n.ID},L0(Ne("action.inlineEdits.showNext","Show Next Inline Edit"))),{precondition:K.and(T.writable,Bu),kbOpts:{weight:100,primary:606}}))}run(e,i){return M(this,null,function*(){il.get(i)?.model.get()?.next()})}}return n})(),IY=(()=>{class n extends Q{static{this.ID=xY}constructor(){super(Ae(j({id:n.ID},L0(Ne("action.inlineEdits.showPrevious","Show Previous Inline Edit"))),{precondition:K.and(T.writable,Bu),kbOpts:{weight:100,primary:604}}))}run(e,i){return M(this,null,function*(){il.get(i)?.model.get()?.previous()})}}return n})(),LM=class extends Q{constructor(){super(Ae(j({id:"editor.action.inlineEdits.trigger"},L0(Ne("action.inlineEdits.trigger","Trigger Inline Edit"))),{precondition:T.writable}))}run(t,e){return M(this,null,function*(){let i=il.get(e);yield uC(o=>M(this,null,function*(){yield i?.model.get()?.triggerExplicitly(o)}))})}},NM=class extends Q{constructor(){super(Ae(j({id:wY},L0(Ne("action.inlineEdits.accept","Accept Inline Edit"))),{precondition:Bu,menuOpts:{menuId:be.InlineEditsActions,title:_("inlineEditsActions","Accept Inline Edit"),group:"primary",order:1,icon:Ge.check},kbOpts:{primary:2058,weight:2e4,kbExpr:Bu}}))}run(t,e){return M(this,null,function*(){e instanceof Io&&(e=e.getParentEditor());let i=il.get(e);i&&(i.model.get()?.accept(i.editor),i.editor.focus())})}},EY=(()=>{class n extends Q{static{this.ID="editor.action.inlineEdits.hide"}constructor(){super(Ae(j({id:n.ID},L0(Ne("action.inlineEdits.hide","Hide Inline Edit"))),{precondition:Bu,kbOpts:{weight:100,primary:9}}))}run(e,i){return M(this,null,function*(){let o=il.get(i);Ss(r=>{o?.model.get()?.stop(r)})})}}return n})();Te(il.ID,il,3);V(LM);V(DY);V(IY);V(NM);V(EY);hR();ue();it();Kt();vn();Lt();Ht();Bt();oi();ue();IR();vn();bi();Bt();ro();Ln();hi();vn();Lt();vl();qi();pt();var cd={Visible:new ot("parameterHintsVisible",!1),MultipleSignatures:new ot("parameterHintsMultipleSignatures",!1)};function pB(n,t,e,i,o){return M(this,null,function*(){let r=n.ordered(t);for(let s of r)try{let a=yield s.provideSignatureHelp(t,e,o,i);if(a)return a}catch(a){zt(a)}})}Pt.registerCommand("_executeSignatureHelpProvider",(n,...t)=>M(void 0,null,function*(){let[e,i,o]=t;Tt(mt.isUri(e)),Tt(pe.isIPosition(i)),Tt(typeof o=="string"||!o);let r=n.get(ce),s=yield n.get(so).createModelReference(e);try{let a=yield pB(r.signatureHelpProvider,s.object.textEditorModel,pe.lift(i),{triggerKind:Ta.Invoke,isRetrigger:!1,triggerCharacter:o},Qe.None);return a?(setTimeout(()=>a.dispose(),0),a.value):void 0}finally{s.dispose()}}));var Hu;(function(n){n.Default={type:0};class t{constructor(o,r){this.request=o,this.previouslyActiveHints=r,this.type=2}}n.Pending=t;class e{constructor(o){this.hints=o,this.type=1}}n.Active=e})(Hu||(Hu={}));var MY=(()=>{class n extends U{static{this.DEFAULT_DELAY=120}constructor(e,i,o=n.DEFAULT_DELAY){super(),this._onChangedHints=this._register(new je),this.onChangedHints=this._onChangedHints.event,this.triggerOnType=!1,this._state=Hu.Default,this._pendingTriggers=[],this._lastSignatureHelpResult=this._register(new un),this.triggerChars=new Ah,this.retriggerChars=new Ah,this.triggerId=0,this.editor=e,this.providers=i,this.throttledDelayer=new Ar(o),this._register(this.editor.onDidBlurEditorWidget(()=>this.cancel())),this._register(this.editor.onDidChangeConfiguration(()=>this.onEditorConfigurationChange())),this._register(this.editor.onDidChangeModel(r=>this.onModelChanged())),this._register(this.editor.onDidChangeModelLanguage(r=>this.onModelChanged())),this._register(this.editor.onDidChangeCursorSelection(r=>this.onCursorChange(r))),this._register(this.editor.onDidChangeModelContent(r=>this.onModelContentChange())),this._register(this.providers.onDidChange(this.onModelChanged,this)),this._register(this.editor.onDidType(r=>this.onDidType(r))),this.onEditorConfigurationChange(),this.onModelChanged()}get state(){return this._state}set state(e){this._state.type===2&&this._state.request.cancel(),this._state=e}cancel(e=!1){this.state=Hu.Default,this.throttledDelayer.cancel(),e||this._onChangedHints.fire(void 0)}trigger(e,i){let o=this.editor.getModel();if(!o||!this.providers.has(o))return;let r=++this.triggerId;this._pendingTriggers.push(e),this.throttledDelayer.trigger(()=>this.doTrigger(r),i).catch(ht)}next(){if(this.state.type!==1)return;let e=this.state.hints.signatures.length,i=this.state.hints.activeSignature,o=i%e===e-1,r=this.editor.getOption(86).cycle;if((e<2||o)&&!r){this.cancel();return}this.updateActiveSignature(o&&r?0:i+1)}previous(){if(this.state.type!==1)return;let e=this.state.hints.signatures.length,i=this.state.hints.activeSignature,o=i===0,r=this.editor.getOption(86).cycle;if((e<2||o)&&!r){this.cancel();return}this.updateActiveSignature(o&&r?e-1:i-1)}updateActiveSignature(e){this.state.type===1&&(this.state=new Hu.Active(Ae(j({},this.state.hints),{activeSignature:e})),this._onChangedHints.fire(this.state.hints))}doTrigger(e){return M(this,null,function*(){let i=this.state.type===1||this.state.type===2,o=this.getLastActiveHints();if(this.cancel(!0),this._pendingTriggers.length===0)return!1;let r=this._pendingTriggers.reduce(ixe);this._pendingTriggers=[];let s={triggerKind:r.triggerKind,triggerCharacter:r.triggerCharacter,isRetrigger:i,activeSignatureHelp:o};if(!this.editor.hasModel())return!1;let a=this.editor.getModel(),l=this.editor.getPosition();this.state=new Hu.Pending(Ci(c=>pB(this.providers,a,l,s,c)),o);try{let c=yield this.state.request;return e!==this.triggerId?(c?.dispose(),!1):!c||!c.value.signatures||c.value.signatures.length===0?(c?.dispose(),this._lastSignatureHelpResult.clear(),this.cancel(),!1):(this.state=new Hu.Active(c.value),this._lastSignatureHelpResult.value=c,this._onChangedHints.fire(this.state.hints),!0)}catch(c){return e===this.triggerId&&(this.state=Hu.Default),ht(c),!1}})}getLastActiveHints(){switch(this.state.type){case 1:return this.state.hints;case 2:return this.state.previouslyActiveHints;default:return}}get isTriggered(){return this.state.type===1||this.state.type===2||this.throttledDelayer.isTriggered()}onModelChanged(){this.cancel(),this.triggerChars.clear(),this.retriggerChars.clear();let e=this.editor.getModel();if(e)for(let i of this.providers.ordered(e)){for(let o of i.signatureHelpTriggerCharacters||[])if(o.length){let r=o.charCodeAt(0);this.triggerChars.add(r),this.retriggerChars.add(r)}for(let o of i.signatureHelpRetriggerCharacters||[])o.length&&this.retriggerChars.add(o.charCodeAt(0))}}onDidType(e){if(!this.triggerOnType)return;let i=e.length-1,o=e.charCodeAt(i);(this.triggerChars.has(o)||this.isTriggered&&this.retriggerChars.has(o))&&this.trigger({triggerKind:Ta.TriggerCharacter,triggerCharacter:e.charAt(i)})}onCursorChange(e){e.source==="mouse"?this.cancel():this.isTriggered&&this.trigger({triggerKind:Ta.ContentChange})}onModelContentChange(){this.isTriggered&&this.trigger({triggerKind:Ta.ContentChange})}onEditorConfigurationChange(){this.triggerOnType=this.editor.getOption(86).enabled,this.triggerOnType||this.cancel()}dispose(){this.cancel(!0),super.dispose()}}return n})();function ixe(n,t){switch(t.triggerKind){case Ta.Invoke:return t;case Ta.ContentChange:return n;case Ta.TriggerCharacter:default:return t}}Re();pt();Ot();_t();Wn();oi();ue();zi();ro();Pa();Re();pt();Po();nr();Ks();Oa();var nxe=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},FM=function(n,t){return function(e,i){t(e,i,n)}},fB,hs=ye,oxe=Ii("parameter-hints-next",Ge.chevronDown,_("parameterHintsNextIcon","Icon for show next parameter hint.")),rxe=Ii("parameter-hints-previous",Ge.chevronUp,_("parameterHintsPreviousIcon","Icon for show previous parameter hint.")),zM=class extends U{static{fB=this}static{this.ID="editor.widget.parameterHintsWidget"}constructor(e,i,o,r,s,a){super(),this.editor=e,this.model=i,this.telemetryService=a,this.renderDisposeables=this._register(new G),this.visible=!1,this.announcedLabel=null,this.allowEditorOverflow=!0,this.markdownRenderer=this._register(new ea({editor:e},s,r)),this.keyVisible=cd.Visible.bindTo(o),this.keyMultipleSignatures=cd.MultipleSignatures.bindTo(o)}createParameterHintDOMNodes(){let e=hs(".editor-widget.parameter-hints-widget"),i=Ce(e,hs(".phwrapper"));i.tabIndex=-1;let o=Ce(i,hs(".controls")),r=Ce(o,hs(".button"+Dt.asCSSSelector(rxe))),s=Ce(o,hs(".overloads")),a=Ce(o,hs(".button"+Dt.asCSSSelector(oxe)));this._register(St(r,"click",m=>{Eh.stop(m),this.previous()})),this._register(St(a,"click",m=>{Eh.stop(m),this.next()}));let l=hs(".body"),c=new iC(l,{alwaysConsumeMouseWheel:!0});this._register(c),i.appendChild(c.getDomNode());let d=Ce(l,hs(".signature")),u=Ce(l,hs(".docs"));e.style.userSelect="text",this.domNodes={element:e,signature:d,overloads:s,docs:u,scrollbar:c},this.editor.addContentWidget(this),this.hide(),this._register(this.editor.onDidChangeCursorSelection(m=>{this.visible&&this.editor.layoutContentWidget(this)}));let h=()=>{if(!this.domNodes)return;let m=this.editor.getOption(50),f=this.domNodes.element;f.style.fontSize=`${m.fontSize}px`,f.style.lineHeight=`${m.lineHeight/m.fontSize}`,f.style.setProperty("--vscode-parameterHintsWidget-editorFontFamily",m.fontFamily),f.style.setProperty("--vscode-parameterHintsWidget-editorFontFamilyDefault",wp.fontFamily)};h(),this._register(xi.chain(this.editor.onDidChangeConfiguration.bind(this.editor),m=>m.filter(f=>f.hasChanged(50)))(h)),this._register(this.editor.onDidLayoutChange(m=>this.updateMaxHeight())),this.updateMaxHeight()}show(){this.visible||(this.domNodes||this.createParameterHintDOMNodes(),this.keyVisible.set(!0),this.visible=!0,setTimeout(()=>{this.domNodes?.element.classList.add("visible")},100),this.editor.layoutContentWidget(this))}hide(){this.renderDisposeables.clear(),this.visible&&(this.keyVisible.reset(),this.visible=!1,this.announcedLabel=null,this.domNodes?.element.classList.remove("visible"),this.editor.layoutContentWidget(this))}getPosition(){return this.visible?{position:this.editor.getPosition(),preference:[1,2]}:null}render(e){if(this.renderDisposeables.clear(),!this.domNodes)return;let i=e.signatures.length>1;this.domNodes.element.classList.toggle("multiple",i),this.keyMultipleSignatures.set(i),this.domNodes.signature.innerText="",this.domNodes.docs.innerText="";let o=e.signatures[e.activeSignature];if(!o)return;let r=Ce(this.domNodes.signature,hs(".code")),s=o.parameters.length>0,a=o.activeParameter??e.activeParameter;if(s)this.renderParameters(r,o,a);else{let d=Ce(r,hs("span"));d.textContent=o.label}let l=o.parameters[a];if(l?.documentation){let d=hs("span.documentation");if(typeof l.documentation=="string")d.textContent=l.documentation;else{let u=this.renderMarkdownDocs(l.documentation);d.appendChild(u.element)}Ce(this.domNodes.docs,hs("p",{},d))}if(o.documentation!==void 0)if(typeof o.documentation=="string")Ce(this.domNodes.docs,hs("p",{},o.documentation));else{let d=this.renderMarkdownDocs(o.documentation);Ce(this.domNodes.docs,d.element)}let c=this.hasDocs(o,l);if(this.domNodes.signature.classList.toggle("has-docs",c),this.domNodes.docs.classList.toggle("empty",!c),this.domNodes.overloads.textContent=String(e.activeSignature+1).padStart(e.signatures.length.toString().length,"0")+"/"+e.signatures.length,l){let d="",u=o.parameters[a];Array.isArray(u.label)?d=o.label.substring(u.label[0],u.label[1]):d=u.label,u.documentation&&(d+=typeof u.documentation=="string"?`, ${u.documentation}`:`, ${u.documentation.value}`),o.documentation&&(d+=typeof o.documentation=="string"?`, ${o.documentation}`:`, ${o.documentation.value}`),this.announcedLabel!==d&&(Kn(_("hint","{0}, hint",d)),this.announcedLabel=d)}this.editor.layoutContentWidget(this),this.domNodes.scrollbar.scanDomNode()}renderMarkdownDocs(e){let i=new Xi,o=this.renderDisposeables.add(this.markdownRenderer.render(e,{asyncRenderCallback:()=>{this.domNodes?.scrollbar.scanDomNode()}}));o.element.classList.add("markdown-docs");let r=i.elapsed();return r>300&&this.telemetryService.publicLog2("parameterHints.parseMarkdown",{renderDuration:r}),o}hasDocs(e,i){return!!(i&&typeof i.documentation=="string"&&Id(i.documentation).length>0||i&&typeof i.documentation=="object"&&Id(i.documentation).value.length>0||e.documentation&&typeof e.documentation=="string"&&Id(e.documentation).length>0||e.documentation&&typeof e.documentation=="object"&&Id(e.documentation.value).length>0)}renderParameters(e,i,o){let[r,s]=this.getParameterLabelOffsets(i,o),a=document.createElement("span");a.textContent=i.label.substring(0,r);let l=document.createElement("span");l.textContent=i.label.substring(r,s),l.className="parameter active";let c=document.createElement("span");c.textContent=i.label.substring(s),Ce(e,a,l,c)}getParameterLabelOffsets(e,i){let o=e.parameters[i];if(o){if(Array.isArray(o.label))return o.label;if(o.label.length){let r=new RegExp(`(\\W|^)${yc(o.label)}(?=\\W|$)`,"g");r.test(e.label);let s=r.lastIndex-o.label.length;return s>=0?[s,r.lastIndex]:[0,0]}else return[0,0]}else return[0,0]}next(){this.editor.focus(),this.model.next()}previous(){this.editor.focus(),this.model.previous()}getDomNode(){return this.domNodes||this.createParameterHintDOMNodes(),this.domNodes.element}getId(){return fB.ID}updateMaxHeight(){if(!this.domNodes)return;let i=`${Math.max(this.editor.getLayoutInfo().height/4,250)}px`;this.domNodes.element.style.maxHeight=i;let o=this.domNodes.element.getElementsByClassName("phwrapper");o.length&&(o[0].style.maxHeight=i)}};zM=fB=nxe([FM(2,Ze),FM(3,$n),FM(4,qn),FM(5,Un)],zM);Pe("editorHoverWidget.highlightForeground",Qx,_("editorHoverWidgetHighlightForeground","Foreground color of the active item in the parameter hint."));var sxe=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},kY=function(n,t){return function(e,i){t(e,i,n)}},gB,r_=class extends U{static{gB=this}static{this.ID="editor.controller.parameterHints"}static get(e){return e.getContribution(gB.ID)}constructor(e,i,o){super(),this.editor=e,this.model=this._register(new MY(e,o.signatureHelpProvider)),this._register(this.model.onChangedHints(r=>{r?(this.widget.value.show(),this.widget.value.render(r)):this.widget.rawValue?.hide()})),this.widget=new Ip(()=>this._register(i.createInstance(zM,this.editor,this.model)))}cancel(){this.model.cancel()}previous(){this.widget.rawValue?.previous()}next(){this.widget.rawValue?.next()}trigger(e){this.model.trigger(e,0)}};r_=gB=sxe([kY(1,Me),kY(2,ce)],r_);var _B=class extends Q{constructor(){super({id:"editor.action.triggerParameterHints",label:_("parameterHints.trigger.label","Trigger Parameter Hints"),alias:"Trigger Parameter Hints",precondition:T.hasSignatureHelpProvider,kbOpts:{kbExpr:T.editorTextFocus,primary:3082,weight:100}})}run(t,e){r_.get(e)?.trigger({triggerKind:Ta.Invoke})}};Te(r_.ID,r_,2);V(_B);var vB=175,bB=Ki.bindToContribution(r_.get);ze(new bB({id:"closeParameterHints",precondition:cd.Visible,handler:n=>n.cancel(),kbOpts:{weight:vB,kbExpr:T.focus,primary:9,secondary:[1033]}}));ze(new bB({id:"showPrevParameterHint",precondition:K.and(cd.Visible,cd.MultipleSignatures),handler:n=>n.previous(),kbOpts:{weight:vB,kbExpr:T.focus,primary:16,secondary:[528],mac:{primary:16,secondary:[528,302]}}}));ze(new bB({id:"showNextParameterHint",precondition:K.and(cd.Visible,cd.MultipleSignatures),handler:n=>n.next(),kbOpts:{weight:vB,kbExpr:T.focus,primary:18,secondary:[530],mac:{primary:18,secondary:[530,300]}}}));it();UR();Re();Mue();co();Ot();var axe=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},lxe=function(n,t){return function(e,i){t(e,i,n)}},yB=class{constructor(t){this.instantiationService=t}init(...t){}};function cxe(n,t){return class extends t{constructor(){super(...arguments),this._autorun=void 0}init(...i){this._autorun=Dl((o,r)=>{let s=zv(n(),o);r.add(this.instantiationService.createInstance(s,...i))})}dispose(){this._autorun?.dispose()}}}function TY(n){return M8()?cxe(n,wB):n()}var wB=class extends yB{constructor(t,e){super(e),this.init(t)}};wB=axe([lxe(1,Me)],wB);Te(R0.ID,TY(()=>R0),0);Pe("editor.placeholder.foreground",WU,_("placeholderForeground","Foreground color of the placeholder text in the editor."));Ht();bi();Bt();Js();ue();ro();Ln();it();Uo();hi();qe();Kt();vn();Lt();Bh();Re();$i();DR();pt();Ot();Tp();Cc();Oa();_t();E4();X5();Oi();Ht();bi();Wn();oi();ue();Ks();ro();hi();qe();vn();Re();pt();Tp();Po();Oo();var dxe=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},BM=function(n,t){return function(e,i){t(e,i,n)}},uxe=!1,zm=new ot("renameInputVisible",!1,_("renameInputVisible","Whether the rename input widget is visible")),C4t=new ot("renameInputFocused",!1,_("renameInputFocused","Whether the rename input widget is focused")),HM=class{constructor(t,e,i,o,r,s){this._editor=t,this._acceptKeybindings=e,this._themeService=i,this._keybindingService=o,this._logService=s,this.allowEditorOverflow=!0,this._disposables=new G,this._visibleContextKey=zm.bindTo(r),this._isEditingRenameCandidate=!1,this._nRenameSuggestionsInvocations=0,this._hadAutomaticRenameSuggestionsInvocation=!1,this._candidates=new Set,this._beforeFirstInputFieldEditSW=new Xi,this._inputWithButton=new CB,this._disposables.add(this._inputWithButton),this._editor.addContentWidget(this),this._disposables.add(this._editor.onDidChangeConfiguration(a=>{a.hasChanged(50)&&this._updateFont()})),this._disposables.add(i.onDidColorThemeChange(this._updateStyles,this))}dispose(){this._disposables.dispose(),this._editor.removeContentWidget(this)}getId(){return"__renameInputWidget"}getDomNode(){return this._domNode||(this._domNode=document.createElement("div"),this._domNode.className="monaco-editor rename-box",this._domNode.appendChild(this._inputWithButton.domNode),this._renameCandidateListView=this._disposables.add(new xB(this._domNode,{fontInfo:this._editor.getOption(50),onFocusChange:t=>{this._inputWithButton.input.value=t,this._isEditingRenameCandidate=!1},onSelectionChange:()=>{this._isEditingRenameCandidate=!1,this.acceptInput(!1)}})),this._disposables.add(this._inputWithButton.onDidInputChange(()=>{this._renameCandidateListView?.focusedCandidate!==void 0&&(this._isEditingRenameCandidate=!0),this._timeBeforeFirstInputFieldEdit??=this._beforeFirstInputFieldEditSW.elapsed(),this._renameCandidateProvidersCts?.token.isCancellationRequested===!1&&this._renameCandidateProvidersCts.cancel(),this._renameCandidateListView?.clearFocus()})),this._label=document.createElement("div"),this._label.className="rename-label",this._domNode.appendChild(this._label),this._updateFont(),this._updateStyles(this._themeService.getColorTheme())),this._domNode}_updateStyles(t){if(!this._domNode)return;let e=t.getColor(N5),i=t.getColor(F5);this._domNode.style.backgroundColor=String(t.getColor($x)??""),this._domNode.style.boxShadow=e?` 0 0 8px 2px ${e}`:"",this._domNode.style.border=i?`1px solid ${i}`:"",this._domNode.style.color=String(t.getColor(z5)??"");let o=t.getColor(B5);this._inputWithButton.domNode.style.backgroundColor=String(t.getColor(PR)??""),this._inputWithButton.input.style.backgroundColor=String(t.getColor(PR)??""),this._inputWithButton.domNode.style.borderWidth=o?"1px":"0px",this._inputWithButton.domNode.style.borderStyle=o?"solid":"none",this._inputWithButton.domNode.style.borderColor=o?.toString()??"none"}_updateFont(){if(this._domNode===void 0)return;Tt(this._label!==void 0,"RenameWidget#_updateFont: _label must not be undefined given _domNode is defined"),this._editor.applyFontInfo(this._inputWithButton.input);let t=this._editor.getOption(50);this._label.style.fontSize=`${this._computeLabelFontSize(t.fontSize)}px`}_computeLabelFontSize(t){return t*.8}getPosition(){if(!this._visible||!this._editor.hasModel()||!this._editor.getDomNode())return null;let t=_l(this.getDomNode().ownerDocument.body),e=Gi(this._editor.getDomNode()),i=this._getTopForPosition();this._nPxAvailableAbove=i+e.top,this._nPxAvailableBelow=t.height-this._nPxAvailableAbove;let o=this._editor.getOption(67),{totalHeight:r}=SB.getLayoutInfo({lineHeight:o}),s=this._nPxAvailableBelow>r*6?[2,1]:[1,2];return{position:this._position,preference:s}}beforeRender(){let[t,e]=this._acceptKeybindings;return this._label.innerText=_({key:"label",comment:['placeholders are keybindings, e.g "F2 to Rename, Shift+F2 to Preview"']},"{0} to Rename, {1} to Preview",this._keybindingService.lookupKeybinding(t)?.getLabel(),this._keybindingService.lookupKeybinding(e)?.getLabel()),this._domNode.style.minWidth="200px",null}afterRender(t){if(t===null){this.cancelInput(!0,"afterRender (because position is null)");return}if(!this._editor.hasModel()||!this._editor.getDomNode())return;Tt(this._renameCandidateListView),Tt(this._nPxAvailableAbove!==void 0),Tt(this._nPxAvailableBelow!==void 0);let e=Rd(this._inputWithButton.domNode),i=Rd(this._label),o;t===2?o=this._nPxAvailableBelow:o=this._nPxAvailableAbove,this._renameCandidateListView.layout({height:o-i-e,width:Or(this._inputWithButton.domNode)})}acceptInput(t){this._trace("invoking acceptInput"),this._currentAcceptInput?.(t)}cancelInput(t,e){this._currentCancelInput?.(t)}focusNextRenameSuggestion(){this._renameCandidateListView?.focusNext()||(this._inputWithButton.input.value=this._currentName)}focusPreviousRenameSuggestion(){this._renameCandidateListView?.focusPrevious()||(this._inputWithButton.input.value=this._currentName)}getInput(t,e,i,o,r){let{start:s,end:a}=this._getSelection(t,e);this._renameCts=r;let l=new G;this._nRenameSuggestionsInvocations=0,this._hadAutomaticRenameSuggestionsInvocation=!1,o===void 0?this._inputWithButton.button.style.display="none":(this._inputWithButton.button.style.display="flex",this._requestRenameCandidatesOnce=o,this._requestRenameCandidates(e,!1),l.add(St(this._inputWithButton.button,"click",()=>this._requestRenameCandidates(e,!0))),l.add(St(this._inputWithButton.button,ci.KEY_DOWN,d=>{let u=new _v(d);(u.equals(3)||u.equals(10))&&(u.stopPropagation(),u.preventDefault(),this._requestRenameCandidates(e,!0))}))),this._isEditingRenameCandidate=!1,this._domNode.classList.toggle("preview",i),this._position=new pe(t.startLineNumber,t.startColumn),this._currentName=e,this._inputWithButton.input.value=e,this._inputWithButton.input.setAttribute("selectionStart",s.toString()),this._inputWithButton.input.setAttribute("selectionEnd",a.toString()),this._inputWithButton.input.size=Math.max((t.endColumn-t.startColumn)*1.1,20),this._beforeFirstInputFieldEditSW.reset(),l.add(kt(()=>{this._renameCts=void 0,r.dispose(!0)})),l.add(kt(()=>{this._renameCandidateProvidersCts!==void 0&&(this._renameCandidateProvidersCts.dispose(!0),this._renameCandidateProvidersCts=void 0)})),l.add(kt(()=>this._candidates.clear()));let c=new Ad;return c.p.finally(()=>{l.dispose(),this._hide()}),this._currentCancelInput=d=>(this._trace("invoking _currentCancelInput"),this._currentAcceptInput=void 0,this._currentCancelInput=void 0,this._renameCandidateListView?.clearCandidates(),c.complete(d),!0),this._currentAcceptInput=d=>{this._trace("invoking _currentAcceptInput"),Tt(this._renameCandidateListView!==void 0);let u=this._renameCandidateListView.nCandidates,h,m,f=this._renameCandidateListView.focusedCandidate;if(f!==void 0?(this._trace("using new name from renameSuggestion"),h=f,m={k:"renameSuggestion"}):(this._trace("using new name from inputField"),h=this._inputWithButton.input.value,m=this._isEditingRenameCandidate?{k:"userEditedRenameSuggestion"}:{k:"inputField"}),h===e||h.trim().length===0){this.cancelInput(!0,"_currentAcceptInput (because newName === value || newName.trim().length === 0)");return}this._currentAcceptInput=void 0,this._currentCancelInput=void 0,this._renameCandidateListView.clearCandidates(),c.complete({newName:h,wantsPreview:i&&d,stats:{source:m,nRenameSuggestions:u,timeBeforeFirstInputFieldEdit:this._timeBeforeFirstInputFieldEdit,nRenameSuggestionsInvocations:this._nRenameSuggestionsInvocations,hadAutomaticRenameSuggestionsInvocation:this._hadAutomaticRenameSuggestionsInvocation}})},l.add(r.token.onCancellationRequested(()=>this.cancelInput(!0,"cts.token.onCancellationRequested"))),uxe||l.add(this._editor.onDidBlurEditorWidget(()=>this.cancelInput(!this._domNode?.ownerDocument.hasFocus(),"editor.onDidBlurEditorWidget"))),this._show(),c.p}_requestRenameCandidates(t,e){if(this._requestRenameCandidatesOnce!==void 0&&(this._renameCandidateProvidersCts!==void 0&&this._renameCandidateProvidersCts.dispose(!0),Tt(this._renameCts),this._inputWithButton.buttonState!=="stop")){this._renameCandidateProvidersCts=new vi;let i=e?fv.Invoke:fv.Automatic,o=this._requestRenameCandidatesOnce(i,this._renameCandidateProvidersCts.token);if(o.length===0){this._inputWithButton.setSparkleButton();return}e||(this._hadAutomaticRenameSuggestionsInvocation=!0),this._nRenameSuggestionsInvocations+=1,this._inputWithButton.setStopButton(),this._updateRenameCandidates(o,t,this._renameCts.token)}}_getSelection(t,e){Tt(this._editor.hasModel());let i=this._editor.getSelection(),o=0,r=e.length;return!A.isEmpty(i)&&!A.spansMultipleLines(i)&&A.containsRange(t,i)&&(o=Math.max(0,i.startColumn-t.startColumn),r=Math.min(t.endColumn,i.endColumn)-t.startColumn),{start:o,end:r}}_show(){this._trace("invoking _show"),this._editor.revealLineInCenterIfOutsideViewport(this._position.lineNumber,0),this._visible=!0,this._visibleContextKey.set(!0),this._editor.layoutContentWidget(this),setTimeout(()=>{this._inputWithButton.input.focus(),this._inputWithButton.input.setSelectionRange(parseInt(this._inputWithButton.input.getAttribute("selectionStart")),parseInt(this._inputWithButton.input.getAttribute("selectionEnd")))},100)}_updateRenameCandidates(t,e,i){return M(this,null,function*(){let o=(...c)=>this._trace("_updateRenameCandidates",...c);o("start");let r=yield fl(Promise.allSettled(t),i);if(this._inputWithButton.setSparkleButton(),r===void 0){o("returning early - received updateRenameCandidates results - undefined");return}let s=r.flatMap(c=>c.status==="fulfilled"&&vp(c.value)?c.value:[]);o(`received updateRenameCandidates results - total (unfiltered) ${s.length} candidates.`);let a=wx(s,c=>c.newSymbolName);o(`distinct candidates - ${a.length} candidates.`);let l=a.filter(({newSymbolName:c})=>c.trim().length>0&&c!==this._inputWithButton.input.value&&c!==e&&!this._candidates.has(c));if(o(`valid distinct candidates - ${s.length} candidates.`),l.forEach(c=>this._candidates.add(c.newSymbolName)),l.length<1){o("returning early - no valid distinct candidates");return}o("setting candidates"),this._renameCandidateListView.setCandidates(l),o("asking editor to re-layout"),this._editor.layoutContentWidget(this)})}_hide(){this._trace("invoked _hide"),this._visible=!1,this._visibleContextKey.reset(),this._editor.layoutContentWidget(this)}_getTopForPosition(){let t=this._editor.getVisibleRanges(),e;return t.length>0?e=t[0].startLineNumber:(this._logService.warn("RenameWidget#_getTopForPosition: this should not happen - visibleRanges is empty"),e=Math.max(1,this._position.lineNumber-5)),this._editor.getTopForLineNumber(this._position.lineNumber)-this._editor.getTopForLineNumber(e)}_trace(...t){this._logService.trace("RenameWidget",...t)}};HM=dxe([BM(2,Gn),BM(3,Vt),BM(4,Ze),BM(5,ws)],HM);var xB=class n{constructor(t,e){this._disposables=new G,this._availableHeight=0,this._minimumWidth=0,this._lineHeight=e.fontInfo.lineHeight,this._typicalHalfwidthCharacterWidth=e.fontInfo.typicalHalfwidthCharacterWidth,this._listContainer=document.createElement("div"),this._listContainer.className="rename-box rename-candidate-list-container",t.appendChild(this._listContainer),this._listWidget=n._createListWidget(this._listContainer,this._candidateViewHeight,e.fontInfo),this._listWidget.onDidChangeFocus(i=>{i.elements.length===1&&e.onFocusChange(i.elements[0].newSymbolName)},this._disposables),this._listWidget.onDidChangeSelection(i=>{i.elements.length===1&&e.onSelectionChange()},this._disposables),this._disposables.add(this._listWidget.onDidBlur(i=>{this._listWidget.setFocus([])})),this._listWidget.style(vC({listInactiveFocusForeground:Jx,listInactiveFocusBackground:eC}))}dispose(){this._listWidget.dispose(),this._disposables.dispose()}layout({height:t,width:e}){this._availableHeight=t,this._minimumWidth=e}setCandidates(t){this._listWidget.splice(0,0,t);let e=this._pickListHeight(this._listWidget.length),i=this._pickListWidth(t);this._listWidget.layout(e,i),this._listContainer.style.height=`${e}px`,this._listContainer.style.width=`${i}px`,za(_("renameSuggestionsReceivedAria","Received {0} rename suggestions",t.length))}clearCandidates(){this._listContainer.style.height="0px",this._listContainer.style.width="0px",this._listWidget.splice(0,this._listWidget.length,[])}get nCandidates(){return this._listWidget.length}get focusedCandidate(){if(this._listWidget.length===0)return;let t=this._listWidget.getSelectedElements()[0];if(t!==void 0)return t.newSymbolName;let e=this._listWidget.getFocusedElements()[0];if(e!==void 0)return e.newSymbolName}focusNext(){if(this._listWidget.length===0)return!1;let t=this._listWidget.getFocus();if(t.length===0)return this._listWidget.focusFirst(),this._listWidget.reveal(0),!0;if(t[0]===this._listWidget.length-1)return this._listWidget.setFocus([]),this._listWidget.reveal(0),!1;{this._listWidget.focusNext();let e=this._listWidget.getFocus()[0];return this._listWidget.reveal(e),!0}}focusPrevious(){if(this._listWidget.length===0)return!1;let t=this._listWidget.getFocus();if(t.length===0){this._listWidget.focusLast();let e=this._listWidget.getFocus()[0];return this._listWidget.reveal(e),!0}else{if(t[0]===0)return this._listWidget.setFocus([]),!1;{this._listWidget.focusPrevious();let e=this._listWidget.getFocus()[0];return this._listWidget.reveal(e),!0}}}clearFocus(){this._listWidget.setFocus([])}get _candidateViewHeight(){let{totalHeight:t}=SB.getLayoutInfo({lineHeight:this._lineHeight});return t}_pickListHeight(t){let e=this._candidateViewHeight*t;return Math.min(e,this._availableHeight,this._candidateViewHeight*7)}_pickListWidth(t){let e=Math.ceil(Math.max(...t.map(o=>o.newSymbolName.length))*this._typicalHalfwidthCharacterWidth);return Math.max(this._minimumWidth,25+e+10)}static _createListWidget(t,e,i){let o=new class{getTemplateId(s){return"candidate"}getHeight(s){return e}},r=new class{constructor(){this.templateId="candidate"}renderTemplate(s){return new SB(s,i)}renderElement(s,a,l){l.populate(s)}disposeTemplate(s){s.dispose()}};return new Vp("NewSymbolNameCandidates",t,o,[r],{keyboardSupport:!1,mouseSupport:!0,multipleSelectionSupport:!1})}},CB=class{constructor(){this._onDidInputChange=new je,this.onDidInputChange=this._onDidInputChange.event,this._disposables=new G}get domNode(){return this._domNode||(this._domNode=document.createElement("div"),this._domNode.className="rename-input-with-button",this._domNode.style.display="flex",this._domNode.style.flexDirection="row",this._domNode.style.alignItems="center",this._inputNode=document.createElement("input"),this._inputNode.className="rename-input",this._inputNode.type="text",this._inputNode.style.border="none",this._inputNode.setAttribute("aria-label",_("renameAriaLabel","Rename input. Type new name and press Enter to commit.")),this._domNode.appendChild(this._inputNode),this._buttonNode=document.createElement("div"),this._buttonNode.className="rename-suggestions-button",this._buttonNode.setAttribute("tabindex","0"),this._buttonGenHoverText=_("generateRenameSuggestionsButton","Generate new name suggestions"),this._buttonCancelHoverText=_("cancelRenameSuggestionsButton","Cancel"),this._buttonHover=NU().setupManagedHover(Wd("element"),this._buttonNode,this._buttonGenHoverText),this._disposables.add(this._buttonHover),this._domNode.appendChild(this._buttonNode),this._disposables.add(St(this.input,ci.INPUT,()=>this._onDidInputChange.fire())),this._disposables.add(St(this.input,ci.KEY_DOWN,t=>{let e=new _v(t);(e.keyCode===15||e.keyCode===17)&&this._onDidInputChange.fire()})),this._disposables.add(St(this.input,ci.CLICK,()=>this._onDidInputChange.fire())),this._disposables.add(St(this.input,ci.FOCUS,()=>{this.domNode.style.outlineWidth="1px",this.domNode.style.outlineStyle="solid",this.domNode.style.outlineOffset="-1px",this.domNode.style.outlineColor="var(--vscode-focusBorder)"})),this._disposables.add(St(this.input,ci.BLUR,()=>{this.domNode.style.outline="none"}))),this._domNode}get input(){return Tt(this._inputNode),this._inputNode}get button(){return Tt(this._buttonNode),this._buttonNode}get buttonState(){return this._buttonState}setSparkleButton(){this._buttonState="sparkle",this._sparkleIcon??=rC(Ge.sparkle),Rr(this.button),this.button.appendChild(this._sparkleIcon),this.button.setAttribute("aria-label","Generating new name suggestions"),this._buttonHover?.update(this._buttonGenHoverText),this.input.focus()}setStopButton(){this._buttonState="stop",this._stopIcon??=rC(Ge.primitiveSquare),Rr(this.button),this.button.appendChild(this._stopIcon),this.button.setAttribute("aria-label","Cancel generating new name suggestions"),this._buttonHover?.update(this._buttonCancelHoverText),this.input.focus()}dispose(){this._disposables.dispose()}},SB=(()=>{class n{static{this._PADDING=2}constructor(e,i){this._domNode=document.createElement("div"),this._domNode.className="rename-box rename-candidate",this._domNode.style.display="flex",this._domNode.style.columnGap="5px",this._domNode.style.alignItems="center",this._domNode.style.height=`${i.lineHeight}px`,this._domNode.style.padding=`${n._PADDING}px`;let o=document.createElement("div");o.style.display="flex",o.style.alignItems="center",o.style.width=o.style.height=`${i.lineHeight*.8}px`,this._domNode.appendChild(o),this._icon=rC(Ge.sparkle),this._icon.style.display="none",o.appendChild(this._icon),this._label=document.createElement("div"),Fx(this._label,i),this._domNode.appendChild(this._label),e.appendChild(this._domNode)}populate(e){this._updateIcon(e),this._updateLabel(e)}_updateIcon(e){let i=!!e.tags?.includes(m4.AIGenerated);this._icon.style.display=i?"inherit":"none"}_updateLabel(e){this._label.innerText=e.newSymbolName}static getLayoutInfo({lineHeight:e}){return{totalHeight:e+n._PADDING*2}}dispose(){}}return n})();var hxe=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},Vu=function(n,t){return function(e,i){t(e,i,n)}},DB,N0=class{constructor(t,e,i){this.model=t,this.position=e,this._providerRenameIdx=0,this._providers=i.ordered(t)}hasProvider(){return this._providers.length>0}resolveRenameLocation(t){return M(this,null,function*(){let e=[];for(this._providerRenameIdx=0;this._providerRenameIdx<this._providers.length;this._providerRenameIdx++){let o=this._providers[this._providerRenameIdx];if(!o.resolveRenameLocation)break;let r=yield o.resolveRenameLocation(this.model,this.position,t);if(r){if(r.rejectReason){e.push(r.rejectReason);continue}return r}}this._providerRenameIdx=0;let i=this.model.getWordAtPosition(this.position);return i?{range:new A(this.position.lineNumber,i.startColumn,this.position.lineNumber,i.endColumn),text:i.word,rejectReason:e.length>0?e.join(`
`):void 0}:{range:A.fromPositions(this.position),text:"",rejectReason:e.length>0?e.join(`
`):void 0}})}provideRenameEdits(t,e){return M(this,null,function*(){return this._provideRenameEdits(t,this._providerRenameIdx,[],e)})}_provideRenameEdits(t,e,i,o){return M(this,null,function*(){let r=this._providers[e];if(!r)return{edits:[],rejectReason:i.join(`
`)};let s=yield r.provideRenameEdits(this.model,this.position,t,o);if(s){if(s.rejectReason)return this._provideRenameEdits(t,e+1,i.concat(s.rejectReason),o)}else return this._provideRenameEdits(t,e+1,i.concat(_("no result","No result.")),o);return s})}};function mxe(n,t,e,i){return M(this,null,function*(){let o=new N0(t,e,n),r=yield o.resolveRenameLocation(Qe.None);return r?.rejectReason?{edits:[],rejectReason:r.rejectReason}:o.provideRenameEdits(i,Qe.None)})}var Wu=class{static{DB=this}static{this.ID="editor.contrib.renameController"}static get(e){return e.getContribution(DB.ID)}constructor(e,i,o,r,s,a,l,c,d){this.editor=e,this._instaService=i,this._notificationService=o,this._bulkEditService=r,this._progressService=s,this._logService=a,this._configService=l,this._languageFeaturesService=c,this._telemetryService=d,this._disposableStore=new G,this._cts=new vi,this._renameWidget=this._disposableStore.add(this._instaService.createInstance(HM,this.editor,["acceptRenameInput","acceptRenameInputWithPreview"]))}dispose(){this._disposableStore.dispose(),this._cts.dispose(!0)}run(){return M(this,null,function*(){let e=this._logService.trace.bind(this._logService,"[rename]");if(this._cts.dispose(!0),this._cts=new vi,!this.editor.hasModel()){e("editor has no model");return}let i=this.editor.getPosition(),o=new N0(this.editor.getModel(),i,this._languageFeaturesService.renameProvider);if(!o.hasProvider()){e("skeleton has no provider");return}let r=new Ml(this.editor,5,void 0,this._cts.token),s;try{e("resolving rename location");let p=o.resolveRenameLocation(r.token);this._progressService.showWhile(p,250),s=yield p,e("resolved rename location")}catch(p){p instanceof kd?e("resolve rename location cancelled",JSON.stringify(p,null,"	")):(e("resolve rename location failed",p instanceof Error?p:JSON.stringify(p,null,"	")),(typeof p=="string"||Fp(p))&&Do.get(this.editor)?.showMessage(p||_("resolveRenameLocationFailed","An unknown error occurred while resolving rename location"),i));return}finally{r.dispose()}if(!s){e("returning early - no loc");return}if(s.rejectReason){e(`returning early - rejected with reason: ${s.rejectReason}`,s.rejectReason),Do.get(this.editor)?.showMessage(s.rejectReason,i);return}if(r.token.isCancellationRequested){e("returning early - cts1 cancelled");return}let a=new Ml(this.editor,5,s.range,this._cts.token),l=this.editor.getModel(),c=this._languageFeaturesService.newSymbolNamesProvider.all(l),d=yield Promise.all(c.map(p=>M(this,null,function*(){return[p,(yield p.supportsAutomaticNewSymbolNamesTriggerKind)??!1]}))),u=(p,g)=>{let v=d.slice();return p===fv.Automatic&&(v=v.filter(([b,C])=>C)),v.map(([b])=>b.provideNewSymbolNames(l,s.range,p,g))};e("creating rename input field and awaiting its result");let h=this._bulkEditService.hasPreviewHandler()&&this._configService.getValue(this.editor.getModel().uri,"editor.rename.enablePreview"),m=yield this._renameWidget.getInput(s.range,s.text,h,c.length>0?u:void 0,a);if(e("received response from rename input field"),c.length>0&&this._reportTelemetry(c.length,l.getLanguageId(),m),typeof m=="boolean"){e(`returning early - rename input field response - ${m}`),m&&this.editor.focus(),a.dispose();return}this.editor.focus(),e("requesting rename edits");let f=fl(o.provideRenameEdits(m.newName,a.token),a.token).then(p=>M(this,null,function*(){if(!p){e("returning early - no rename edits result");return}if(!this.editor.hasModel()){e("returning early - no model after rename edits are provided");return}if(p.rejectReason){e(`returning early - rejected with reason: ${p.rejectReason}`),this._notificationService.info(p.rejectReason);return}this.editor.setSelection(A.fromPositions(this.editor.getSelection().getPosition())),e("applying edits"),this._bulkEditService.apply(p,{editor:this.editor,showPreview:m.wantsPreview,label:_("label","Renaming '{0}' to '{1}'",s?.text,m.newName),code:"undoredo.rename",quotableLabel:_("quotableLabel","Renaming {0} to {1}",s?.text,m.newName),respectAutoSaveConfig:!0}).then(g=>{e("edits applied"),g.ariaSummary&&Kn(_("aria","Successfully renamed '{0}' to '{1}'. Summary: {2}",s.text,m.newName,g.ariaSummary))}).catch(g=>{e(`error when applying edits ${JSON.stringify(g,null,"	")}`),this._notificationService.error(_("rename.failedApply","Rename failed to apply edits")),this._logService.error(g)})}),p=>{e("error when providing rename edits",JSON.stringify(p,null,"	")),this._notificationService.error(_("rename.failed","Rename failed to compute edits")),this._logService.error(p)}).finally(()=>{a.dispose()});return e("returning rename operation"),this._progressService.showWhile(f,250),f})}acceptRenameInput(e){this._renameWidget.acceptInput(e)}cancelRenameInput(){this._renameWidget.cancelInput(!0,"cancelRenameInput command")}focusNextRenameSuggestion(){this._renameWidget.focusNextRenameSuggestion()}focusPreviousRenameSuggestion(){this._renameWidget.focusPreviousRenameSuggestion()}_reportTelemetry(e,i,o){let r=typeof o=="boolean"?{kind:"cancelled",languageId:i,nRenameSuggestionProviders:e}:{kind:"accepted",languageId:i,nRenameSuggestionProviders:e,source:o.stats.source.k,nRenameSuggestions:o.stats.nRenameSuggestions,timeBeforeFirstInputFieldEdit:o.stats.timeBeforeFirstInputFieldEdit,wantsPreview:o.wantsPreview,nRenameSuggestionsInvocations:o.stats.nRenameSuggestionsInvocations,hadAutomaticRenameSuggestionsInvocation:o.stats.hadAutomaticRenameSuggestionsInvocation};this._telemetryService.publicLog2("renameInvokedEvent",r)}};Wu=DB=hxe([Vu(1,Me),Vu(2,Hi),Vu(3,Bd),Vu(4,Pc),Vu(5,ws),Vu(6,c5),Vu(7,ce),Vu(8,Un)],Wu);var IB=class extends Q{constructor(){super({id:"editor.action.rename",label:_("rename.label","Rename Symbol"),alias:"Rename Symbol",precondition:K.and(T.writable,T.hasRenameProvider),kbOpts:{kbExpr:T.editorTextFocus,primary:60,weight:100},contextMenuOpts:{group:"1_modification",order:1.1}})}runCommand(t,e){let i=t.get(Zt),[o,r]=Array.isArray(e)&&e||[void 0,void 0];return mt.isUri(o)&&pe.isIPosition(r)?i.openCodeEditor({resource:o},i.getActiveCodeEditor()).then(s=>{s&&(s.setPosition(r),s.invokeWithinContext(a=>(this.reportTelemetry(a,s),this.run(a,s))))},ht):super.runCommand(t,e)}run(t,e){let i=t.get(ws),o=Wu.get(e);return o?(i.trace("[RenameAction] got controller, running..."),o.run()):(i.trace("[RenameAction] returning early - controller missing"),Promise.resolve())}};Te(Wu.ID,Wu,4);V(IB);var EB=Ki.bindToContribution(Wu.get);ze(new EB({id:"acceptRenameInput",precondition:zm,handler:n=>n.acceptRenameInput(!1),kbOpts:{weight:199,kbExpr:K.and(T.focus,K.not("isComposing")),primary:3}}));ze(new EB({id:"acceptRenameInputWithPreview",precondition:K.and(zm,K.has("config.editor.rename.enablePreview")),handler:n=>n.acceptRenameInput(!0),kbOpts:{weight:199,kbExpr:K.and(T.focus,K.not("isComposing")),primary:2051}}));ze(new EB({id:"cancelRenameInput",precondition:zm,handler:n=>n.cancelRenameInput(),kbOpts:{weight:199,kbExpr:T.focus,primary:9,secondary:[1033]}}));$t(class extends jn{constructor(){super({id:"focusNextRenameSuggestion",title:j({},Ne("focusNextRenameSuggestion","Focus Next Rename Suggestion")),precondition:zm,keybinding:[{primary:18,weight:199}]})}run(t){let e=t.get(Zt).getFocusedCodeEditor();if(!e)return;let i=Wu.get(e);i&&i.focusNextRenameSuggestion()}});$t(class extends jn{constructor(){super({id:"focusPreviousRenameSuggestion",title:j({},Ne("focusPreviousRenameSuggestion","Focus Previous Rename Suggestion")),precondition:zm,keybinding:[{primary:16,weight:199}]})}run(t){let e=t.get(Zt).getFocusedCodeEditor();if(!e)return;let i=Wu.get(e);i&&i.focusPreviousRenameSuggestion()}});ao("_executeDocumentRenameProvider",function(n,t,e,...i){let[o]=i;Tt(typeof o=="string");let{renameProvider:r}=n.get(ce);return mxe(r,t,e,o)});ao("_executePrepareRename",function(n,t,e){return M(this,null,function*(){let{renameProvider:i}=n.get(ce),r=yield new N0(t,e,i).resolveRenameLocation(Qe.None);if(r?.rejectReason)throw new Error(r.rejectReason);return r})});yo.as(Od.Configuration).registerConfiguration({id:"editor",properties:{"editor.rename.enablePreview":{scope:5,description:_("enablePreview","Enable/disable the ability to preview changes before renaming"),default:!0,type:"boolean"}}});Ht();ue();it();rr();wn();Fh();var pxe=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},AY=function(n,t){return function(e,i){t(e,i,n)}},VM=class extends U{static{this.ID="editor.sectionHeaderDetector"}constructor(t,e,i){super(),this.editor=t,this.languageConfigurationService=e,this.editorWorkerService=i,this.decorations=this.editor.createDecorationsCollection(),this.options=this.createOptions(t.getOption(73)),this.computePromise=null,this.currentOccurrences={},this._register(t.onDidChangeModel(o=>{this.currentOccurrences={},this.options=this.createOptions(t.getOption(73)),this.stop(),this.computeSectionHeaders.schedule(0)})),this._register(t.onDidChangeModelLanguage(o=>{this.currentOccurrences={},this.options=this.createOptions(t.getOption(73)),this.stop(),this.computeSectionHeaders.schedule(0)})),this._register(e.onDidChange(o=>{let r=this.editor.getModel()?.getLanguageId();r&&o.affects(r)&&(this.currentOccurrences={},this.options=this.createOptions(t.getOption(73)),this.stop(),this.computeSectionHeaders.schedule(0))})),this._register(t.onDidChangeConfiguration(o=>{this.options&&!o.hasChanged(73)||(this.options=this.createOptions(t.getOption(73)),this.updateDecorations([]),this.stop(),this.computeSectionHeaders.schedule(0))})),this._register(this.editor.onDidChangeModelContent(o=>{this.computeSectionHeaders.schedule()})),this._register(t.onDidChangeModelTokens(o=>{this.computeSectionHeaders.isScheduled()||this.computeSectionHeaders.schedule(1e3)})),this.computeSectionHeaders=this._register(new ai(()=>{this.findSectionHeaders()},250)),this.computeSectionHeaders.schedule(0)}createOptions(t){if(!t||!this.editor.hasModel())return;let e=this.editor.getModel().getLanguageId();if(!e)return;let i=this.languageConfigurationService.getLanguageConfiguration(e).comments,o=this.languageConfigurationService.getLanguageConfiguration(e).foldingRules;if(!(!i&&!o?.markers))return{foldingRules:o,findMarkSectionHeaders:t.showMarkSectionHeaders,findRegionSectionHeaders:t.showRegionSectionHeaders}}findSectionHeaders(){if(!this.editor.hasModel()||!this.options?.findMarkSectionHeaders&&!this.options?.findRegionSectionHeaders)return;let t=this.editor.getModel();if(t.isDisposed()||t.isTooLargeForSyncing())return;let e=t.getVersionId();this.editorWorkerService.findSectionHeaders(t.uri,this.options).then(i=>{t.isDisposed()||t.getVersionId()!==e||this.updateDecorations(i)})}updateDecorations(t){let e=this.editor.getModel();e&&(t=t.filter(r=>{if(!r.shouldBeInComments)return!0;let s=e.validateRange(r.range),a=e.tokenization.getLineTokens(s.startLineNumber),l=a.findTokenIndexAtOffset(s.startColumn-1),c=a.getStandardTokenType(l);return a.getLanguageId(l)===e.getLanguageId()&&c===1}));let i=Object.values(this.currentOccurrences).map(r=>r.decorationId),o=t.map(r=>fxe(r));this.editor.changeDecorations(r=>{let s=r.deltaDecorations(i,o);this.currentOccurrences={};for(let a=0,l=s.length;a<l;a++){let c={sectionHeader:t[a],decorationId:s[a]};this.currentOccurrences[c.decorationId]=c}})}stop(){this.computeSectionHeaders.cancel(),this.computePromise&&(this.computePromise.cancel(),this.computePromise=null)}dispose(){super.dispose(),this.stop(),this.decorations.clear()}};VM=pxe([AY(1,yi),AY(2,wr)],VM);function fxe(n){return{range:n.range,options:lt.createDynamic({description:"section-header",stickiness:3,collapseOnReplaceEdit:!0,minimap:{color:void 0,position:1,sectionHeaderStyle:n.hasSeparatorLine?2:1,sectionHeaderText:n.text}})}}Te(VM.ID,VM,1);ue();Bt();bs();bn();Ht();bi();Oo();bi();Bt();Ln();bs();qi();ro();bue();tr();function gxe(n){for(let t=0,e=n.length;t<e;t+=4){let i=n[t+0],o=n[t+1],r=n[t+2],s=n[t+3];n[t+0]=s,n[t+1]=r,n[t+2]=o,n[t+3]=i}}function _xe(n){let t=new Uint8Array(n.buffer,n.byteOffset,n.length*4);return i4()||gxe(t),J4.wrap(t)}function MB(n){let t=new Uint32Array(vxe(n)),e=0;if(t[e++]=n.id,n.type==="full")t[e++]=1,t[e++]=n.data.length,t.set(n.data,e),e+=n.data.length;else{t[e++]=2,t[e++]=n.deltas.length;for(let i of n.deltas)t[e++]=i.start,t[e++]=i.deleteCount,i.data?(t[e++]=i.data.length,t.set(i.data,e),e+=i.data.length):t[e++]=0}return _xe(t)}function vxe(n){let t=0;if(t+=2,n.type==="full")t+=1+n.data.length;else{t+=1,t+=3*n.deltas.length;for(let e of n.deltas)e.data&&(t+=e.data.length)}return t}qe();Lt();function F0(n){return n&&!!n.data}function AB(n){return n&&Array.isArray(n.edits)}var kB=class{constructor(t,e,i){this.provider=t,this.tokens=e,this.error=i}};function RB(n,t){return n.has(t)}function bxe(n,t){let e=n.orderedGroups(t);return e.length>0?e[0]:[]}function OB(n,t,e,i,o){return M(this,null,function*(){let r=bxe(n,t),s=yield Promise.all(r.map(a=>M(this,null,function*(){let l,c=null;try{l=yield a.provideDocumentSemanticTokens(t,a===e?i:null,o)}catch(d){c=d,l=null}return(!l||!F0(l)&&!AB(l))&&(l=null),new kB(a,l,c)})));for(let a of s){if(a.error)throw a.error;if(a.tokens)return a}return s.length>0?s[0]:null})}function yxe(n,t){let e=n.orderedGroups(t);return e.length>0?e[0]:null}var TB=class{constructor(t,e){this.provider=t,this.tokens=e}};function RY(n,t){return n.has(t)}function OY(n,t){let e=n.orderedGroups(t);return e.length>0?e[0]:[]}function WM(n,t,e,i){return M(this,null,function*(){let o=OY(n,t),r=yield Promise.all(o.map(s=>M(this,null,function*(){let a;try{a=yield s.provideDocumentRangeSemanticTokens(t,e,i)}catch(l){zt(l),a=null}return(!a||!F0(a))&&(a=null),new TB(s,a)})));for(let s of r)if(s.tokens)return s;return r.length>0?r[0]:null})}Pt.registerCommand("_provideDocumentSemanticTokensLegend",(n,...t)=>M(void 0,null,function*(){let[e]=t;Tt(e instanceof mt);let i=n.get(Ui).getModel(e);if(!i)return;let{documentSemanticTokensProvider:o}=n.get(ce),r=yxe(o,i);return r?r[0].getLegend():n.get(di).executeCommand("_provideDocumentRangeSemanticTokensLegend",e)}));Pt.registerCommand("_provideDocumentSemanticTokens",(n,...t)=>M(void 0,null,function*(){let[e]=t;Tt(e instanceof mt);let i=n.get(Ui).getModel(e);if(!i)return;let{documentSemanticTokensProvider:o}=n.get(ce);if(!RB(o,i))return n.get(di).executeCommand("_provideDocumentRangeSemanticTokens",e,i.getFullModelRange());let r=yield OB(o,i,null,null,Qe.None);if(!r)return;let{provider:s,tokens:a}=r;if(!a||!F0(a))return;let l=MB({id:0,type:"full",data:a.data});return a.resultId&&s.releaseDocumentSemanticTokens(a.resultId),l}));Pt.registerCommand("_provideDocumentRangeSemanticTokensLegend",(n,...t)=>M(void 0,null,function*(){let[e,i]=t;Tt(e instanceof mt);let o=n.get(Ui).getModel(e);if(!o)return;let{documentRangeSemanticTokensProvider:r}=n.get(ce),s=OY(r,o);if(s.length===0)return;if(s.length===1)return s[0].getLegend();if(!i||!A.isIRange(i))return console.warn("provideDocumentRangeSemanticTokensLegend might be out-of-sync with provideDocumentRangeSemanticTokens unless a range argument is passed in"),s[0].getLegend();let a=yield WM(r,o,A.lift(i),Qe.None);if(a)return a.provider.getLegend()}));Pt.registerCommand("_provideDocumentRangeSemanticTokens",(n,...t)=>M(void 0,null,function*(){let[e,i]=t;Tt(e instanceof mt),Tt(A.isIRange(i));let o=n.get(Ui).getModel(e);if(!o)return;let{documentRangeSemanticTokensProvider:r}=n.get(ce),s=yield WM(r,o,A.lift(i),Qe.None);if(!(!s||!s.tokens))return MB({id:0,type:"full",data:s.tokens.data})}));Xs();Ks();Lt();var z0="editor.semanticHighlighting";function s_(n,t,e){let i=e.getValue(z0,{overrideIdentifier:n.getLanguageId(),resource:n.uri})?.enabled;return typeof i=="boolean"?i:t.getColorTheme().semanticHighlighting}var PY=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},ec=function(n,t){return function(e,i){t(e,i,n)}},ju,PB=class extends U{constructor(t,e,i,o,r,s){super(),this._watchers=Object.create(null);let a=d=>{this._watchers[d.uri.toString()]=new LB(d,t,i,r,s)},l=(d,u)=>{u.dispose(),delete this._watchers[d.uri.toString()]},c=()=>{for(let d of e.getModels()){let u=this._watchers[d.uri.toString()];s_(d,i,o)?u||a(d):u&&l(d,u)}};e.getModels().forEach(d=>{s_(d,i,o)&&a(d)}),this._register(e.onModelAdded(d=>{s_(d,i,o)&&a(d)})),this._register(e.onModelRemoved(d=>{let u=this._watchers[d.uri.toString()];u&&l(d,u)})),this._register(o.onDidChangeConfiguration(d=>{d.affectsConfiguration(z0)&&c()})),this._register(i.onDidColorThemeChange(c))}dispose(){for(let t of Object.values(this._watchers))t.dispose();super.dispose()}};PB=PY([ec(0,Sv),ec(1,Ui),ec(2,Gn),ec(3,vt),ec(4,yn),ec(5,ce)],PB);var LB=class extends U{static{ju=this}static{this.REQUEST_MIN_DELAY=300}static{this.REQUEST_MAX_DELAY=2e3}constructor(e,i,o,r,s){super(),this._semanticTokensStylingService=i,this._isDisposed=!1,this._model=e,this._provider=s.documentSemanticTokensProvider,this._debounceInformation=r.for(this._provider,"DocumentSemanticTokens",{min:ju.REQUEST_MIN_DELAY,max:ju.REQUEST_MAX_DELAY}),this._fetchDocumentSemanticTokens=this._register(new ai(()=>this._fetchDocumentSemanticTokensNow(),ju.REQUEST_MIN_DELAY)),this._currentDocumentResponse=null,this._currentDocumentRequestCancellationTokenSource=null,this._documentProvidersChangeListeners=[],this._providersChangedDuringRequest=!1,this._register(this._model.onDidChangeContent(()=>{this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._register(this._model.onDidChangeAttached(()=>{this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._register(this._model.onDidChangeLanguage(()=>{this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule(0)}));let a=()=>{dn(this._documentProvidersChangeListeners),this._documentProvidersChangeListeners=[];for(let l of this._provider.all(e))typeof l.onDidChange=="function"&&this._documentProvidersChangeListeners.push(l.onDidChange(()=>{if(this._currentDocumentRequestCancellationTokenSource){this._providersChangedDuringRequest=!0;return}this._fetchDocumentSemanticTokens.schedule(0)}))};a(),this._register(this._provider.onDidChange(()=>{a(),this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._register(o.onDidColorThemeChange(l=>{this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._fetchDocumentSemanticTokens.schedule(0)}dispose(){this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),dn(this._documentProvidersChangeListeners),this._documentProvidersChangeListeners=[],this._setDocumentSemanticTokens(null,null,null,[]),this._isDisposed=!0,super.dispose()}_fetchDocumentSemanticTokensNow(){if(this._currentDocumentRequestCancellationTokenSource)return;if(!RB(this._provider,this._model)){this._currentDocumentResponse&&this._model.tokenization.setSemanticTokens(null,!1);return}if(!this._model.isAttachedToEditor())return;let e=new vi,i=this._currentDocumentResponse?this._currentDocumentResponse.provider:null,o=this._currentDocumentResponse&&this._currentDocumentResponse.resultId||null,r=OB(this._provider,this._model,i,o,e.token);this._currentDocumentRequestCancellationTokenSource=e,this._providersChangedDuringRequest=!1;let s=[],a=this._model.onDidChangeContent(c=>{s.push(c)}),l=new Xi(!1);r.then(c=>{if(this._debounceInformation.update(this._model,l.elapsed()),this._currentDocumentRequestCancellationTokenSource=null,a.dispose(),!c)this._setDocumentSemanticTokens(null,null,null,s);else{let{provider:d,tokens:u}=c,h=this._semanticTokensStylingService.getStyling(d);this._setDocumentSemanticTokens(d,u||null,h,s)}},c=>{c&&(gr(c)||typeof c.message=="string"&&c.message.indexOf("busy")!==-1)||ht(c),this._currentDocumentRequestCancellationTokenSource=null,a.dispose(),(s.length>0||this._providersChangedDuringRequest)&&(this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model)))})}static _copy(e,i,o,r,s){s=Math.min(s,o.length-r,e.length-i);for(let a=0;a<s;a++)o[r+a]=e[i+a]}_setDocumentSemanticTokens(e,i,o,r){let s=this._currentDocumentResponse,a=()=>{(r.length>0||this._providersChangedDuringRequest)&&!this._fetchDocumentSemanticTokens.isScheduled()&&this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))};if(this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._isDisposed){e&&i&&e.releaseDocumentSemanticTokens(i.resultId);return}if(!e||!o){this._model.tokenization.setSemanticTokens(null,!1);return}if(!i){this._model.tokenization.setSemanticTokens(null,!0),a();return}if(AB(i)){if(!s){this._model.tokenization.setSemanticTokens(null,!0);return}if(i.edits.length===0)i={resultId:i.resultId,data:s.data};else{let l=0;for(let m of i.edits)l+=(m.data?m.data.length:0)-m.deleteCount;let c=s.data,d=new Uint32Array(c.length+l),u=c.length,h=d.length;for(let m=i.edits.length-1;m>=0;m--){let f=i.edits[m];if(f.start>c.length){o.warnInvalidEditStart(s.resultId,i.resultId,m,f.start,c.length),this._model.tokenization.setSemanticTokens(null,!0);return}let p=u-(f.start+f.deleteCount);p>0&&(ju._copy(c,u-p,d,h-p,p),h-=p),f.data&&(ju._copy(f.data,0,d,h-f.data.length,f.data.length),h-=f.data.length),u=f.start}u>0&&ju._copy(c,0,d,0,u),i={resultId:i.resultId,data:d}}}if(F0(i)){this._currentDocumentResponse=new NB(e,i.resultId,i.data);let l=qx(i,o,this._model.getLanguageId());if(r.length>0)for(let c of r)for(let d of l)for(let u of c.changes)d.applyEdit(u.range,u.text);this._model.tokenization.setSemanticTokens(l,!0)}else this._model.tokenization.setSemanticTokens(null,!0);a()}};LB=ju=PY([ec(1,Sv),ec(2,Gn),ec(3,yn),ec(4,ce)],LB);var NB=class{constructor(t,e,i){this.provider=t,this.resultId=e,this.data=i}dispose(){this.provider.releaseDocumentSemanticTokens(this.resultId)}};ta(PB);Ht();ue();it();bn();Oo();Xs();Ks();Lt();var wxe=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},B0=function(n,t){return function(e,i){t(e,i,n)}},jM=class extends U{static{this.ID="editor.contrib.viewportSemanticTokens"}constructor(t,e,i,o,r,s){super(),this._semanticTokensStylingService=e,this._themeService=i,this._configurationService=o,this._editor=t,this._provider=s.documentRangeSemanticTokensProvider,this._debounceInformation=r.for(this._provider,"DocumentRangeSemanticTokens",{min:100,max:500}),this._tokenizeViewport=this._register(new ai(()=>this._tokenizeViewportNow(),100)),this._outstandingRequests=[];let a=()=>{this._editor.hasModel()&&this._tokenizeViewport.schedule(this._debounceInformation.get(this._editor.getModel()))};this._register(this._editor.onDidScrollChange(()=>{a()})),this._register(this._editor.onDidChangeModel(()=>{this._cancelAll(),a()})),this._register(this._editor.onDidChangeModelContent(l=>{this._cancelAll(),a()})),this._register(this._provider.onDidChange(()=>{this._cancelAll(),a()})),this._register(this._configurationService.onDidChangeConfiguration(l=>{l.affectsConfiguration(z0)&&(this._cancelAll(),a())})),this._register(this._themeService.onDidColorThemeChange(()=>{this._cancelAll(),a()})),a()}_cancelAll(){for(let t of this._outstandingRequests)t.cancel();this._outstandingRequests=[]}_removeOutstandingRequest(t){for(let e=0,i=this._outstandingRequests.length;e<i;e++)if(this._outstandingRequests[e]===t){this._outstandingRequests.splice(e,1);return}}_tokenizeViewportNow(){if(!this._editor.hasModel())return;let t=this._editor.getModel();if(t.tokenization.hasCompleteSemanticTokens())return;if(!s_(t,this._themeService,this._configurationService)){t.tokenization.hasSomeSemanticTokens()&&t.tokenization.setSemanticTokens(null,!1);return}if(!RY(this._provider,t)){t.tokenization.hasSomeSemanticTokens()&&t.tokenization.setSemanticTokens(null,!1);return}let e=this._editor.getVisibleRangesPlusViewportAboveBelow();this._outstandingRequests=this._outstandingRequests.concat(e.map(i=>this._requestRange(t,i)))}_requestRange(t,e){let i=t.getVersionId(),o=Ci(s=>Promise.resolve(WM(this._provider,t,e,s))),r=new Xi(!1);return o.then(s=>{if(this._debounceInformation.update(t,r.elapsed()),!s||!s.tokens||t.isDisposed()||t.getVersionId()!==i)return;let{provider:a,tokens:l}=s,c=this._semanticTokensStylingService.getStyling(a);t.tokenization.setPartialSemanticTokens(e,qx(l,c,t.getLanguageId()))}).then(()=>this._removeOutstandingRequest(o),()=>this._removeOutstandingRequest(o)),o}};jM=wxe([B0(1,Sv),B0(2,Gn),B0(3,vt),B0(4,yn),B0(5,ce)],jM);Te(jM.ID,jM,1);Oi();bi();Bt();it();hi();qe();Nn();Kt();zi();qe();var UM=class{constructor(t=!0){this.selectSubwords=t}provideSelectionRanges(t,e){let i=[];for(let o of e){let r=[];i.push(r),this.selectSubwords&&this._addInWordRanges(r,t,o),this._addWordRanges(r,t,o),this._addWhitespaceLine(r,t,o),r.push({range:t.getFullModelRange()})}return i}_addInWordRanges(t,e,i){let o=e.getWordAtPosition(i);if(!o)return;let{word:r,startColumn:s}=o,a=i.column-s,l=a,c=a,d=0;for(;l>=0;l--){let u=r.charCodeAt(l);if(l!==a&&(u===95||u===45))break;if(pR(u)&&fR(d))break;d=u}for(l+=1;c<r.length;c++){let u=r.charCodeAt(c);if(fR(u)&&pR(d))break;if(u===95||u===45)break;d=u}l<c&&t.push({range:new A(i.lineNumber,s+l,i.lineNumber,s+c)})}_addWordRanges(t,e,i){let o=e.getWordAtPosition(i);o&&t.push({range:new A(i.lineNumber,o.startColumn,i.lineNumber,o.endColumn)})}_addWhitespaceLine(t,e,i){e.getLineLength(i.lineNumber)>0&&e.getLineFirstNonWhitespaceColumn(i.lineNumber)===0&&e.getLineLastNonWhitespaceColumn(i.lineNumber)===0&&t.push({range:new A(i.lineNumber,1,i.lineNumber,e.getLineMaxColumn(i.lineNumber))})}};Re();$i();qi();Lt();vl();ro();Ln();var xxe=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},Cxe=function(n,t){return function(e,i){t(e,i,n)}},FB,zB=class n{constructor(t,e){this.index=t,this.ranges=e}mov(t){let e=this.index+(t?1:-1);if(e<0||e>=this.ranges.length)return this;let i=new n(e,this.ranges);return i.ranges[e].equalsRange(this.ranges[this.index])?i.mov(t):i}},H0=class{static{FB=this}static{this.ID="editor.contrib.smartSelectController"}static get(e){return e.getContribution(FB.ID)}constructor(e,i){this._editor=e,this._languageFeaturesService=i,this._ignoreSelection=!1}dispose(){this._selectionListener?.dispose()}run(e){return M(this,null,function*(){if(!this._editor.hasModel())return;let i=this._editor.getSelections(),o=this._editor.getModel();if(this._state||(yield LY(this._languageFeaturesService.selectionRangeProvider,o,i.map(s=>s.getPosition()),this._editor.getOption(114),Qe.None).then(s=>{if(!(!Mn(s)||s.length!==i.length)&&!(!this._editor.hasModel()||!Jo(this._editor.getSelections(),i,(a,l)=>a.equalsSelection(l)))){for(let a=0;a<s.length;a++)s[a]=s[a].filter(l=>l.containsPosition(i[a].getStartPosition())&&l.containsPosition(i[a].getEndPosition())),s[a].unshift(i[a]);this._state=s.map(a=>new zB(0,a)),this._selectionListener?.dispose(),this._selectionListener=this._editor.onDidChangeCursorPosition(()=>{this._ignoreSelection||(this._selectionListener?.dispose(),this._state=void 0)})}})),!this._state)return;this._state=this._state.map(s=>s.mov(e));let r=this._state.map(s=>Be.fromPositions(s.ranges[s.index].getStartPosition(),s.ranges[s.index].getEndPosition()));this._ignoreSelection=!0;try{this._editor.setSelections(r)}finally{this._ignoreSelection=!1}})}};H0=FB=xxe([Cxe(1,ce)],H0);var qM=class extends Q{constructor(t,e){super(e),this._forward=t}run(t,e){return M(this,null,function*(){let i=H0.get(e);i&&(yield i.run(this._forward))})}},BB=class extends qM{constructor(){super(!0,{id:"editor.action.smartSelect.expand",label:_("smartSelect.expand","Expand Selection"),alias:"Expand Selection",precondition:void 0,kbOpts:{kbExpr:T.editorTextFocus,primary:1553,mac:{primary:3345,secondary:[1297]},weight:100},menuOpts:{menuId:be.MenubarSelectionMenu,group:"1_basic",title:_({key:"miSmartSelectGrow",comment:["&& denotes a mnemonic"]},"&&Expand Selection"),order:2}})}};Pt.registerCommandAlias("editor.action.smartSelect.grow","editor.action.smartSelect.expand");var HB=class extends qM{constructor(){super(!1,{id:"editor.action.smartSelect.shrink",label:_("smartSelect.shrink","Shrink Selection"),alias:"Shrink Selection",precondition:void 0,kbOpts:{kbExpr:T.editorTextFocus,primary:1551,mac:{primary:3343,secondary:[1295]},weight:100},menuOpts:{menuId:be.MenubarSelectionMenu,group:"1_basic",title:_({key:"miSmartSelectShrink",comment:["&& denotes a mnemonic"]},"&&Shrink Selection"),order:3}})}};Te(H0.ID,H0,4);V(BB);V(HB);function LY(n,t,e,i,o){return M(this,null,function*(){let r=n.all(t).concat(new UM(i.selectSubwords));r.length===1&&r.unshift(new g1);let s=[],a=[];for(let l of r)s.push(Promise.resolve(l.provideSelectionRanges(t,e,o)).then(c=>{if(Mn(c)&&c.length===e.length)for(let d=0;d<e.length;d++){a[d]||(a[d]=[]);for(let u of c[d])A.isIRange(u.range)&&A.containsPosition(u.range,e[d])&&a[d].push(A.lift(u.range))}},zt));return yield Promise.all(s),a.map(l=>{if(l.length===0)return[];l.sort((h,m)=>pe.isBefore(h.getStartPosition(),m.getStartPosition())?1:pe.isBefore(m.getStartPosition(),h.getStartPosition())||pe.isBefore(h.getEndPosition(),m.getEndPosition())?-1:pe.isBefore(m.getEndPosition(),h.getEndPosition())?1:0);let c=[],d;for(let h of l)(!d||A.containsRange(h,d)&&!A.equalsRange(h,d))&&(c.push(h),d=h);if(!i.selectLeadingAndTrailingWhitespace)return c;let u=[c[0]];for(let h=1;h<c.length;h++){let m=c[h-1],f=c[h];if(f.startLineNumber!==m.startLineNumber||f.endLineNumber!==m.endLineNumber){let p=new A(m.startLineNumber,t.getLineFirstNonWhitespaceColumn(m.startLineNumber),m.endLineNumber,t.getLineLastNonWhitespaceColumn(m.endLineNumber));p.containsRange(m)&&!p.equalsRange(m)&&f.containsRange(p)&&!f.equalsRange(p)&&u.push(p);let g=new A(m.startLineNumber,1,m.endLineNumber,t.getLineMaxColumn(m.endLineNumber));g.containsRange(m)&&!g.equalsRange(p)&&f.containsRange(g)&&!f.equalsRange(g)&&u.push(g)}u.push(f)}return u})})}Pt.registerCommand("_executeSelectionRangeProvider",function(n,...t){return M(this,null,function*(){let[e,i]=t;Tt(mt.isUri(e));let o=n.get(ce).selectionRangeProvider,r=yield n.get(so).createModelReference(e);try{return LY(o,r.object.textEditorModel,i,{selectLeadingAndTrailingWhitespace:!0,selectSubwords:!0},Qe.None)}finally{r.dispose()}})});it();it();Re();Re();var NY=Object.freeze({View:Ne("view","View"),Help:Ne("help","Help"),Test:Ne("test","Test"),File:Ne("file","File"),Preferences:Ne("preferences","Preferences"),Developer:Ne({key:"developer",comment:["A developer on Code itself or someone diagnosing issues in Code"]},"Developer")});$i();bn();pt();Kt();ue();Lt();_t();Oi();ue();nr();hi();e5();var a_=class n{constructor(t,e,i,o=null){this.startLineNumbers=t,this.endLineNumbers=e,this.lastLineRelativePosition=i,this.showEndForLine=o}equals(t){return!!t&&this.lastLineRelativePosition===t.lastLineRelativePosition&&this.showEndForLine===t.showEndForLine&&Jo(this.startLineNumbers,t.startLineNumbers)&&Jo(this.endLineNumbers,t.endLineNumbers)}static get Empty(){return new n([],[],0)}},FY=Bx("stickyScrollViewLayer",{createHTML:n=>n}),VB="data-sticky-line-index",zY="data-sticky-is-line",Sxe="data-sticky-is-line-number",BY="data-sticky-is-folding-icon",GM=class extends U{constructor(t){super(),this._editor=t,this._foldingIconStore=new G,this._rootDomNode=document.createElement("div"),this._lineNumbersDomNode=document.createElement("div"),this._linesDomNodeScrollable=document.createElement("div"),this._linesDomNode=document.createElement("div"),this._lineHeight=this._editor.getOption(67),this._renderedStickyLines=[],this._lineNumbers=[],this._lastLineRelativePosition=0,this._minContentWidthInPx=0,this._isOnGlyphMargin=!1,this._lineNumbersDomNode.className="sticky-widget-line-numbers",this._lineNumbersDomNode.setAttribute("role","none"),this._linesDomNode.className="sticky-widget-lines",this._linesDomNode.setAttribute("role","list"),this._linesDomNodeScrollable.className="sticky-widget-lines-scrollable",this._linesDomNodeScrollable.appendChild(this._linesDomNode),this._rootDomNode.className="sticky-widget",this._rootDomNode.classList.toggle("peek",t instanceof Io),this._rootDomNode.appendChild(this._lineNumbersDomNode),this._rootDomNode.appendChild(this._linesDomNodeScrollable);let e=()=>{this._linesDomNode.style.left=this._editor.getOption(116).scrollWithEditor?`-${this._editor.getScrollLeft()}px`:"0px"};this._register(this._editor.onDidChangeConfiguration(i=>{i.hasChanged(116)&&e(),i.hasChanged(67)&&(this._lineHeight=this._editor.getOption(67))})),this._register(this._editor.onDidScrollChange(i=>{i.scrollLeftChanged&&e(),i.scrollWidthChanged&&this._updateWidgetWidth()})),this._register(this._editor.onDidChangeModel(()=>{e(),this._updateWidgetWidth()})),this._register(this._foldingIconStore),e(),this._register(this._editor.onDidLayoutChange(i=>{this._updateWidgetWidth()})),this._updateWidgetWidth()}get lineNumbers(){return this._lineNumbers}get lineNumberCount(){return this._lineNumbers.length}getRenderedStickyLine(t){return this._renderedStickyLines.find(e=>e.lineNumber===t)}getCurrentLines(){return this._lineNumbers}setState(t,e,i){if(i===void 0&&(!this._previousState&&!t||this._previousState&&this._previousState.equals(t)))return;let o=this._isWidgetHeightZero(t),r=o?void 0:t,s=o?0:this._findLineToRebuildWidgetFrom(t,i);this._renderRootNode(r,e,s),this._previousState=t}_isWidgetHeightZero(t){if(!t)return!0;let e=t.startLineNumbers.length*this._lineHeight+t.lastLineRelativePosition;if(e>0){this._lastLineRelativePosition=t.lastLineRelativePosition;let i=[...t.startLineNumbers];t.showEndForLine!==null&&(i[t.showEndForLine]=t.endLineNumbers[t.showEndForLine]),this._lineNumbers=i}else this._lastLineRelativePosition=0,this._lineNumbers=[];return e===0}_findLineToRebuildWidgetFrom(t,e){if(!t||!this._previousState)return 0;if(e!==void 0)return e;let i=this._previousState,o=t.startLineNumbers.findIndex(r=>!i.startLineNumbers.includes(r));return o===-1?0:o}_updateWidgetWidth(){let t=this._editor.getLayoutInfo(),e=t.contentLeft;this._lineNumbersDomNode.style.width=`${e}px`,this._linesDomNodeScrollable.style.setProperty("--vscode-editorStickyScroll-scrollableWidth",`${this._editor.getScrollWidth()-t.verticalScrollbarWidth}px`),this._rootDomNode.style.width=`${t.width-t.verticalScrollbarWidth}px`}_clearStickyLinesFromLine(t){this._foldingIconStore.clear();for(let e=t;e<this._renderedStickyLines.length;e++){let i=this._renderedStickyLines[e];i.lineNumberDomNode.remove(),i.lineDomNode.remove()}this._renderedStickyLines=this._renderedStickyLines.slice(0,t),this._rootDomNode.style.display="none"}_useFoldingOpacityTransition(t){this._lineNumbersDomNode.style.setProperty("--vscode-editorStickyScroll-foldingOpacityTransition",`opacity ${t?.5:0}s`)}_setFoldingIconsVisibility(t){for(let e of this._renderedStickyLines){let i=e.foldingIcon;i&&i.setVisible(t?!0:i.isCollapsed)}}_renderRootNode(t,e,i){return M(this,null,function*(){if(this._clearStickyLinesFromLine(i),!t)return;for(let a of this._renderedStickyLines)this._updateTopAndZIndexOfStickyLine(a);let o=this._editor.getLayoutInfo(),r=this._lineNumbers.slice(i);for(let[a,l]of r.entries()){let c=this._renderChildNode(a+i,l,e,o);c&&(this._linesDomNode.appendChild(c.lineDomNode),this._lineNumbersDomNode.appendChild(c.lineNumberDomNode),this._renderedStickyLines.push(c))}e&&(this._setFoldingHoverListeners(),this._useFoldingOpacityTransition(!this._isOnGlyphMargin));let s=this._lineNumbers.length*this._lineHeight+this._lastLineRelativePosition;this._rootDomNode.style.display="block",this._lineNumbersDomNode.style.height=`${s}px`,this._linesDomNodeScrollable.style.height=`${s}px`,this._rootDomNode.style.height=`${s}px`,this._rootDomNode.style.marginLeft="0px",this._minContentWidthInPx=Math.max(...this._renderedStickyLines.map(a=>a.scrollWidth))+o.verticalScrollbarWidth,this._editor.layoutOverlayWidget(this)})}_setFoldingHoverListeners(){this._editor.getOption(111)==="mouseover"&&(this._foldingIconStore.add(St(this._lineNumbersDomNode,ci.MOUSE_ENTER,()=>{this._isOnGlyphMargin=!0,this._setFoldingIconsVisibility(!0)})),this._foldingIconStore.add(St(this._lineNumbersDomNode,ci.MOUSE_LEAVE,()=>{this._isOnGlyphMargin=!1,this._useFoldingOpacityTransition(!0),this._setFoldingIconsVisibility(!1)})))}_renderChildNode(t,e,i,o){let r=this._editor._getViewModel();if(!r)return;let s=r.coordinatesConverter.convertModelPositionToViewPosition(new pe(e,1)).lineNumber,a=r.getViewLineRenderingData(s),l=this._editor.getOption(68),c;try{c=jd.filter(a.inlineDecorations,s,a.minColumn,a.maxColumn)}catch{c=[]}let d=new kC(!0,!0,a.content,a.continuesWithWrappedLine,a.isBasicASCII,a.containsRTL,0,a.tokens,c,a.tabSize,a.startVisibleColumn,1,1,1,500,"none",!0,!0,null),u=new Hx(2e3),h=TC(d,u),m;FY?m=FY.createHTML(u.build()):m=u.build();let f=document.createElement("span");f.setAttribute(VB,String(t)),f.setAttribute(zY,""),f.setAttribute("role","listitem"),f.tabIndex=0,f.className="sticky-line-content",f.classList.add(`stickyLine${e}`),f.style.lineHeight=`${this._lineHeight}px`,f.innerHTML=m;let p=document.createElement("span");p.setAttribute(VB,String(t)),p.setAttribute(Sxe,""),p.className="sticky-line-number",p.style.lineHeight=`${this._lineHeight}px`;let g=o.contentLeft;p.style.width=`${g}px`;let v=document.createElement("span");l.renderType===1||l.renderType===3&&e%10===0?v.innerText=e.toString():l.renderType===2&&(v.innerText=Math.abs(e-this._editor.getPosition().lineNumber).toString()),v.className="sticky-line-number-inner",v.style.lineHeight=`${this._lineHeight}px`,v.style.width=`${o.lineNumbersWidth}px`,v.style.paddingLeft=`${o.lineNumbersLeft}px`,p.appendChild(v);let b=this._renderFoldingIconForLine(i,e);b&&p.appendChild(b.domNode),this._editor.applyFontInfo(f),this._editor.applyFontInfo(v),p.style.lineHeight=`${this._lineHeight}px`,f.style.lineHeight=`${this._lineHeight}px`,p.style.height=`${this._lineHeight}px`,f.style.height=`${this._lineHeight}px`;let C=new WB(t,e,f,p,b,h.characterMapping,f.scrollWidth);return this._updateTopAndZIndexOfStickyLine(C)}_updateTopAndZIndexOfStickyLine(t){let e=t.index,i=t.lineDomNode,o=t.lineNumberDomNode,r=e===this._lineNumbers.length-1,s="0",a="1";i.style.zIndex=r?s:a,o.style.zIndex=r?s:a;let l=`${e*this._lineHeight+this._lastLineRelativePosition+(t.foldingIcon?.isCollapsed?1:0)}px`,c=`${e*this._lineHeight}px`;return i.style.top=r?l:c,o.style.top=r?l:c,t}_renderFoldingIconForLine(t,e){let i=this._editor.getOption(111);if(!t||i==="never")return;let o=t.regions,r=o.findRange(e),s=o.getStartLineNumber(r);if(!(e===s))return;let l=o.isCollapsed(r),c=new jB(l,s,o.getEndLineNumber(r),this._lineHeight);return c.setVisible(this._isOnGlyphMargin?!0:l||i==="always"),c.domNode.setAttribute(BY,""),c}getId(){return"editor.contrib.stickyScrollWidget"}getDomNode(){return this._rootDomNode}getPosition(){return{preference:2,stackOridinal:10}}getMinContentWidthInPx(){return this._minContentWidthInPx}focusLineWithIndex(t){0<=t&&t<this._renderedStickyLines.length&&this._renderedStickyLines[t].lineDomNode.focus()}getEditorPositionFromNode(t){if(!t||t.children.length>0)return null;let e=this._getRenderedStickyLineFromChildDomNode(t);if(!e)return null;let i=f8(e.characterMapping,t,0);return new pe(e.lineNumber,i)}getLineNumberFromChildDomNode(t){return this._getRenderedStickyLineFromChildDomNode(t)?.lineNumber??null}_getRenderedStickyLineFromChildDomNode(t){let e=this.getLineIndexFromChildDomNode(t);return e===null||e<0||e>=this._renderedStickyLines.length?null:this._renderedStickyLines[e]}getLineIndexFromChildDomNode(t){let e=this._getAttributeValue(t,VB);return e?parseInt(e,10):null}isInStickyLine(t){return this._getAttributeValue(t,zY)!==void 0}isInFoldingIconDomNode(t){return this._getAttributeValue(t,BY)!==void 0}_getAttributeValue(t,e){for(;t&&t!==this._rootDomNode;){let i=t.getAttribute(e);if(i!==null)return i;t=t.parentElement}}},WB=class{constructor(t,e,i,o,r,s,a){this.index=t,this.lineNumber=e,this.lineDomNode=i,this.lineNumberDomNode=o,this.foldingIcon=r,this.characterMapping=s,this.scrollWidth=a}},jB=class{constructor(t,e,i,o){this.isCollapsed=t,this.foldingStartLine=e,this.foldingEndLine=i,this.dimension=o,this.domNode=document.createElement("div"),this.domNode.style.width=`${o}px`,this.domNode.style.height=`${o}px`,this.domNode.className=Dt.asClassName(t?Yy:Ky)}setVisible(t){this.domNode.style.cursor=t?"pointer":"default",this.domNode.style.opacity=t?"1":"0"}};ue();Lt();bi();Ht();Oi();oi();rr();ue();Lt();zg();Ht();rr();Bt();var dd=class{constructor(t,e){this.startLineNumber=t,this.endLineNumber=e}},Bm=class{constructor(t,e,i){this.range=t,this.children=e,this.parent=i}},V0=class{constructor(t,e,i,o){this.uri=t,this.version=e,this.element=i,this.outlineProviderId=o}};dv();Ot();var ZM=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},W0=function(n,t){return function(e,i){t(e,i,n)}},$M=function(n){return n.OUTLINE_MODEL="outlineModel",n.FOLDING_PROVIDER_MODEL="foldingProviderModel",n.INDENTATION_MODEL="indentationModel",n}($M||{}),Hm=function(n){return n[n.VALID=0]="VALID",n[n.INVALID=1]="INVALID",n[n.CANCELED=2]="CANCELED",n}(Hm||{}),KM=class extends U{constructor(t,e,i,o){switch(super(),this._editor=t,this._modelProviders=[],this._modelPromise=null,this._updateScheduler=this._register(new Ar(300)),this._updateOperation=this._register(new G),this._editor.getOption(116).defaultModel){case $M.OUTLINE_MODEL:this._modelProviders.push(new UB(this._editor,o));case $M.FOLDING_PROVIDER_MODEL:this._modelProviders.push(new GB(this._editor,e,o));case $M.INDENTATION_MODEL:this._modelProviders.push(new qB(this._editor,i));break}}dispose(){this._modelProviders.forEach(t=>t.dispose()),this._updateOperation.clear(),this._cancelModelPromise(),super.dispose()}_cancelModelPromise(){this._modelPromise&&(this._modelPromise.cancel(),this._modelPromise=null)}update(t){return M(this,null,function*(){return this._updateOperation.clear(),this._updateOperation.add({dispose:()=>{this._cancelModelPromise(),this._updateScheduler.cancel()}}),this._cancelModelPromise(),yield this._updateScheduler.trigger(()=>M(this,null,function*(){for(let e of this._modelProviders){let{statusPromise:i,modelPromise:o}=e.computeStickyModel(t);this._modelPromise=o;let r=yield i;if(this._modelPromise!==o)return null;switch(r){case Hm.CANCELED:return this._updateOperation.clear(),null;case Hm.VALID:return e.stickyModel}}return null})).catch(e=>(ht(e),null))})}};KM=ZM([W0(2,Me),W0(3,ce)],KM);var YM=class extends U{constructor(t){super(),this._editor=t,this._stickyModel=null}get stickyModel(){return this._stickyModel}_invalid(){return this._stickyModel=null,Hm.INVALID}computeStickyModel(t){if(t.isCancellationRequested||!this.isProviderValid())return{statusPromise:this._invalid(),modelPromise:null};let e=Ci(i=>this.createModelFromProvider(i));return{statusPromise:e.then(i=>this.isModelValid(i)?t.isCancellationRequested?Hm.CANCELED:(this._stickyModel=this.createStickyModel(t,i),Hm.VALID):this._invalid()).then(void 0,i=>(ht(i),Hm.CANCELED)),modelPromise:e}}isModelValid(t){return!0}isProviderValid(){return!0}},UB=class extends YM{constructor(t,e){super(t),this._languageFeaturesService=e}createModelFromProvider(t){return t0.create(this._languageFeaturesService.documentSymbolProvider,this._editor.getModel(),t)}createStickyModel(t,e){let{stickyOutlineElement:i,providerID:o}=this._stickyModelFromOutlineModel(e,this._stickyModel?.outlineProviderId),r=this._editor.getModel();return new V0(r.uri,r.getVersionId(),i,o)}isModelValid(t){return t&&t.children.size>0}_stickyModelFromOutlineModel(t,e){let i;if(Xr.first(t.children.values())instanceof e0){let a=Xr.find(t.children.values(),l=>l.id===e);if(a)i=a.children;else{let l="",c=-1,d;for(let[u,h]of t.children.entries()){let m=this._findSumOfRangesOfGroup(h);m>c&&(d=h,c=m,l=h.id)}e=l,i=d.children}}else i=t.children;let o=[],r=Array.from(i.values()).sort((a,l)=>{let c=new dd(a.symbol.range.startLineNumber,a.symbol.range.endLineNumber),d=new dd(l.symbol.range.startLineNumber,l.symbol.range.endLineNumber);return this._comparator(c,d)});for(let a of r)o.push(this._stickyModelFromOutlineElement(a,a.symbol.selectionRange.startLineNumber));return{stickyOutlineElement:new Bm(void 0,o,void 0),providerID:e}}_stickyModelFromOutlineElement(t,e){let i=[];for(let r of t.children.values())if(r.symbol.selectionRange.startLineNumber!==r.symbol.range.endLineNumber)if(r.symbol.selectionRange.startLineNumber!==e)i.push(this._stickyModelFromOutlineElement(r,r.symbol.selectionRange.startLineNumber));else for(let s of r.children.values())i.push(this._stickyModelFromOutlineElement(s,r.symbol.selectionRange.startLineNumber));i.sort((r,s)=>this._comparator(r.range,s.range));let o=new dd(t.symbol.selectionRange.startLineNumber,t.symbol.range.endLineNumber);return new Bm(o,i,void 0)}_comparator(t,e){return t.startLineNumber!==e.startLineNumber?t.startLineNumber-e.startLineNumber:e.endLineNumber-t.endLineNumber}_findSumOfRangesOfGroup(t){let e=0;for(let i of t.children.values())e+=this._findSumOfRangesOfGroup(i);return t instanceof Fg?e+t.symbol.range.endLineNumber-t.symbol.selectionRange.startLineNumber:e}};UB=ZM([W0(1,ce)],UB);var XM=class extends YM{constructor(t){super(t),this._foldingLimitReporter=new Qy(t)}createStickyModel(t,e){let i=this._fromFoldingRegions(e),o=this._editor.getModel();return new V0(o.uri,o.getVersionId(),i,void 0)}isModelValid(t){return t!==null}_fromFoldingRegions(t){let e=t.length,i=[],o=new Bm(void 0,[],void 0);for(let r=0;r<e;r++){let s=t.getParentIndex(r),a;s!==-1?a=i[s]:a=o;let l=new Bm(new dd(t.getStartLineNumber(r),t.getEndLineNumber(r)+1),[],a);a.children.push(l),i.push(l)}return o}},qB=class extends XM{constructor(t,e){super(t),this._languageConfigurationService=e,this.provider=this._register(new Rm(t.getModel(),this._languageConfigurationService,this._foldingLimitReporter))}createModelFromProvider(t){return M(this,null,function*(){return this.provider.compute(t)})}};qB=ZM([W0(1,yi)],qB);var GB=class extends XM{constructor(t,e,i){super(t),this._languageFeaturesService=i;let o=$l.getFoldingRangeProviders(this._languageFeaturesService,t.getModel());o.length>0&&(this.provider=this._register(new Om(t.getModel(),o,e,this._foldingLimitReporter,void 0)))}isProviderValid(){return this.provider!==void 0}createModelFromProvider(t){return M(this,null,function*(){return this.provider?.compute(t)??null})}};GB=ZM([W0(2,ce)],GB);var Dxe=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},HY=function(n,t){return function(e,i){t(e,i,n)}},$B=class{constructor(t,e,i){this.startLineNumber=t,this.endLineNumber=e,this.nestingDepth=i}},QM=class extends U{constructor(t,e,i){super(),this._languageFeaturesService=e,this._languageConfigurationService=i,this._onDidChangeStickyScroll=this._register(new je),this.onDidChangeStickyScroll=this._onDidChangeStickyScroll.event,this._model=null,this._cts=null,this._stickyModelProvider=null,this._editor=t,this._sessionStore=this._register(new G),this._updateSoon=this._register(new ai(()=>this.update(),50)),this._register(this._editor.onDidChangeConfiguration(o=>{o.hasChanged(116)&&this.readConfiguration()})),this.readConfiguration()}readConfiguration(){this._sessionStore.clear(),this._editor.getOption(116).enabled&&(this._sessionStore.add(this._editor.onDidChangeModel(()=>{this._model=null,this.updateStickyModelProvider(),this._onDidChangeStickyScroll.fire(),this.update()})),this._sessionStore.add(this._editor.onDidChangeHiddenAreas(()=>this.update())),this._sessionStore.add(this._editor.onDidChangeModelContent(()=>this._updateSoon.schedule())),this._sessionStore.add(this._languageFeaturesService.documentSymbolProvider.onDidChange(()=>this.update())),this._sessionStore.add(kt(()=>{this._stickyModelProvider?.dispose(),this._stickyModelProvider=null})),this.updateStickyModelProvider(),this.update())}getVersionId(){return this._model?.version}updateStickyModelProvider(){this._stickyModelProvider?.dispose(),this._stickyModelProvider=null;let t=this._editor;t.hasModel()&&(this._stickyModelProvider=new KM(t,()=>this._updateSoon.schedule(),this._languageConfigurationService,this._languageFeaturesService))}update(){return M(this,null,function*(){this._cts?.dispose(!0),this._cts=new vi,yield this.updateStickyModel(this._cts.token),this._onDidChangeStickyScroll.fire()})}updateStickyModel(t){return M(this,null,function*(){if(!this._editor.hasModel()||!this._stickyModelProvider||this._editor.getModel().isTooLargeForTokenization()){this._model=null;return}let e=yield this._stickyModelProvider.update(t);t.isCancellationRequested||(this._model=e)})}updateIndex(t){return t===-1?t=0:t<0&&(t=-t-2),t}getCandidateStickyLinesIntersectingFromStickyModel(t,e,i,o,r){if(e.children.length===0)return;let s=r,a=[];for(let d=0;d<e.children.length;d++){let u=e.children[d];u.range&&a.push(u.range.startLineNumber)}let l=this.updateIndex(xh(a,t.startLineNumber,(d,u)=>d-u)),c=this.updateIndex(xh(a,t.startLineNumber+o,(d,u)=>d-u));for(let d=l;d<=c;d++){let u=e.children[d];if(!u)return;if(u.range){let h=u.range.startLineNumber,m=u.range.endLineNumber;t.startLineNumber<=m+1&&h-1<=t.endLineNumber&&h!==s&&(s=h,i.push(new $B(h,m-1,o+1)),this.getCandidateStickyLinesIntersectingFromStickyModel(t,u,i,o+1,h))}else this.getCandidateStickyLinesIntersectingFromStickyModel(t,u,i,o,r)}}getCandidateStickyLinesIntersecting(t){if(!this._model?.element)return[];let e=[];this.getCandidateStickyLinesIntersectingFromStickyModel(t,this._model.element,e,0,-1);let i=this._editor._getViewModel()?.getHiddenAreas();if(i)for(let o of i)e=e.filter(r=>!(r.startLineNumber>=o.startLineNumber&&r.endLineNumber<=o.endLineNumber+1));return e}};QM=Dxe([HY(1,ce),HY(2,yi)],QM);Ot();$i();pt();Kt();qe();hi();bi();rr();Xs();_t();gue();var Ixe=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},l_=function(n,t){return function(e,i){t(e,i,n)}},KB,nl=class extends U{static{KB=this}static{this.ID="store.contrib.stickyScrollController"}constructor(e,i,o,r,s,a,l){super(),this._editor=e,this._contextMenuService=i,this._languageFeaturesService=o,this._instaService=r,this._contextKeyService=l,this._sessionStore=new G,this._maxStickyLines=Number.MAX_SAFE_INTEGER,this._candidateDefinitionsLength=-1,this._focusedStickyElementIndex=-1,this._enabled=!1,this._focused=!1,this._positionRevealed=!1,this._onMouseDown=!1,this._endLineNumbers=[],this._stickyScrollWidget=new GM(this._editor),this._stickyLineCandidateProvider=new QM(this._editor,o,s),this._register(this._stickyScrollWidget),this._register(this._stickyLineCandidateProvider),this._widgetState=a_.Empty,this._onDidResize(),this._readConfiguration();let c=this._stickyScrollWidget.getDomNode();this._register(this._editor.onDidChangeConfiguration(u=>{this._readConfigurationChange(u)})),this._register(St(c,ci.CONTEXT_MENU,u=>M(this,null,function*(){this._onContextMenu(Aa(c),u)}))),this._stickyScrollFocusedContextKey=T.stickyScrollFocused.bindTo(this._contextKeyService),this._stickyScrollVisibleContextKey=T.stickyScrollVisible.bindTo(this._contextKeyService);let d=this._register(Ra(c));this._register(d.onDidBlur(u=>{this._positionRevealed===!1&&c.clientHeight===0?(this._focusedStickyElementIndex=-1,this.focus()):this._disposeFocusStickyScrollStore()})),this._register(d.onDidFocus(u=>{this.focus()})),this._registerMouseListeners(),this._register(St(c,ci.MOUSE_DOWN,u=>{this._onMouseDown=!0}))}static get(e){return e.getContribution(KB.ID)}_disposeFocusStickyScrollStore(){this._stickyScrollFocusedContextKey.set(!1),this._focusDisposableStore?.dispose(),this._focused=!1,this._positionRevealed=!1,this._onMouseDown=!1}focus(){if(this._onMouseDown){this._onMouseDown=!1,this._editor.focus();return}this._stickyScrollFocusedContextKey.get()!==!0&&(this._focused=!0,this._focusDisposableStore=new G,this._stickyScrollFocusedContextKey.set(!0),this._focusedStickyElementIndex=this._stickyScrollWidget.lineNumbers.length-1,this._stickyScrollWidget.focusLineWithIndex(this._focusedStickyElementIndex))}focusNext(){this._focusedStickyElementIndex<this._stickyScrollWidget.lineNumberCount-1&&this._focusNav(!0)}focusPrevious(){this._focusedStickyElementIndex>0&&this._focusNav(!1)}selectEditor(){this._editor.focus()}_focusNav(e){this._focusedStickyElementIndex=e?this._focusedStickyElementIndex+1:this._focusedStickyElementIndex-1,this._stickyScrollWidget.focusLineWithIndex(this._focusedStickyElementIndex)}goToFocused(){let e=this._stickyScrollWidget.lineNumbers;this._disposeFocusStickyScrollStore(),this._revealPosition({lineNumber:e[this._focusedStickyElementIndex],column:1})}_revealPosition(e){this._reveaInEditor(e,()=>this._editor.revealPosition(e))}_revealLineInCenterIfOutsideViewport(e){this._reveaInEditor(e,()=>this._editor.revealLineInCenterIfOutsideViewport(e.lineNumber,0))}_reveaInEditor(e,i){this._focused&&this._disposeFocusStickyScrollStore(),this._positionRevealed=!0,i(),this._editor.setSelection(A.fromPositions(e)),this._editor.focus()}_registerMouseListeners(){let e=this._register(new G),i=this._register(new Vl(this._editor,{extractLineNumberFromMouseEvent:s=>{let a=this._stickyScrollWidget.getEditorPositionFromNode(s.target.element);return a?a.lineNumber:0}})),o=s=>{if(!this._editor.hasModel()||s.target.type!==12||s.target.detail!==this._stickyScrollWidget.getId())return null;let a=s.target.element;if(!a||a.innerText!==a.innerHTML)return null;let l=this._stickyScrollWidget.getEditorPositionFromNode(a);return l?{range:new A(l.lineNumber,l.column,l.lineNumber,l.column+a.innerText.length),textElement:a}:null},r=this._stickyScrollWidget.getDomNode();this._register(vr(r,ci.CLICK,s=>{if(s.ctrlKey||s.altKey||s.metaKey||!s.leftButton)return;if(s.shiftKey){let d=this._stickyScrollWidget.getLineIndexFromChildDomNode(s.target);if(d===null)return;let u=new pe(this._endLineNumbers[d],1);this._revealLineInCenterIfOutsideViewport(u);return}if(this._stickyScrollWidget.isInFoldingIconDomNode(s.target)){let d=this._stickyScrollWidget.getLineNumberFromChildDomNode(s.target);this._toggleFoldingRegionForLine(d);return}if(!this._stickyScrollWidget.isInStickyLine(s.target))return;let c=this._stickyScrollWidget.getEditorPositionFromNode(s.target);if(!c){let d=this._stickyScrollWidget.getLineNumberFromChildDomNode(s.target);if(d===null)return;c=new pe(d,1)}this._revealPosition(c)})),this._register(vr(r,ci.MOUSE_MOVE,s=>{if(s.shiftKey){let a=this._stickyScrollWidget.getLineIndexFromChildDomNode(s.target);if(a===null||this._showEndForLine!==null&&this._showEndForLine===a)return;this._showEndForLine=a,this._renderStickyScroll();return}this._showEndForLine!==void 0&&(this._showEndForLine=void 0,this._renderStickyScroll())})),this._register(St(r,ci.MOUSE_LEAVE,s=>{this._showEndForLine!==void 0&&(this._showEndForLine=void 0,this._renderStickyScroll())})),this._register(i.onMouseMoveOrRelevantKeyDown(([s,a])=>{let l=o(s);if(!l||!s.hasTriggerModifier||!this._editor.hasModel()){e.clear();return}let{range:c,textElement:d}=l;if(!c.equalsRange(this._stickyRangeProjectedOnEditor))this._stickyRangeProjectedOnEditor=c,e.clear();else if(d.style.textDecoration==="underline")return;let u=new vi;e.add(kt(()=>u.dispose(!0)));let h;Mu(this._languageFeaturesService.definitionProvider,this._editor.getModel(),new pe(c.startLineNumber,c.startColumn+1),!1,u.token).then(m=>{if(!u.token.isCancellationRequested)if(m.length!==0){this._candidateDefinitionsLength=m.length;let f=d;h!==f?(e.clear(),h=f,h.style.textDecoration="underline",e.add(kt(()=>{h.style.textDecoration="none"}))):h||(h=f,h.style.textDecoration="underline",e.add(kt(()=>{h.style.textDecoration="none"})))}else e.clear()})})),this._register(i.onCancel(()=>{e.clear()})),this._register(i.onExecute(s=>M(this,null,function*(){if(s.target.type!==12||s.target.detail!==this._stickyScrollWidget.getId())return;let a=this._stickyScrollWidget.getEditorPositionFromNode(s.target.element);a&&(!this._editor.hasModel()||!this._stickyRangeProjectedOnEditor||(this._candidateDefinitionsLength>1&&(this._focused&&this._disposeFocusStickyScrollStore(),this._revealPosition({lineNumber:a.lineNumber,column:1})),this._instaService.invokeFunction(CE,s,this._editor,{uri:this._editor.getModel().uri,range:this._stickyRangeProjectedOnEditor})))})))}_onContextMenu(e,i){let o=new M4(e,i);this._contextMenuService.showContextMenu({menuId:be.StickyScrollContext,getAnchor:()=>o})}_toggleFoldingRegionForLine(e){if(!this._foldingModel||e===null)return;let i=this._stickyScrollWidget.getRenderedStickyLine(e),o=i?.foldingIcon;if(!o)return;$y(this._foldingModel,Number.MAX_VALUE,[e]),o.isCollapsed=!o.isCollapsed;let r=(o.isCollapsed?this._editor.getTopForLineNumber(o.foldingEndLine):this._editor.getTopForLineNumber(o.foldingStartLine))-this._editor.getOption(67)*i.index+1;this._editor.setScrollTop(r),this._renderStickyScroll(e)}_readConfiguration(){let e=this._editor.getOption(116);if(e.enabled===!1){this._editor.removeOverlayWidget(this._stickyScrollWidget),this._sessionStore.clear(),this._enabled=!1;return}else e.enabled&&!this._enabled&&(this._editor.addOverlayWidget(this._stickyScrollWidget),this._sessionStore.add(this._editor.onDidScrollChange(o=>{o.scrollTopChanged&&(this._showEndForLine=void 0,this._renderStickyScroll())})),this._sessionStore.add(this._editor.onDidLayoutChange(()=>this._onDidResize())),this._sessionStore.add(this._editor.onDidChangeModelTokens(o=>this._onTokensChange(o))),this._sessionStore.add(this._stickyLineCandidateProvider.onDidChangeStickyScroll(()=>{this._showEndForLine=void 0,this._renderStickyScroll()})),this._enabled=!0);this._editor.getOption(68).renderType===2&&this._sessionStore.add(this._editor.onDidChangeCursorPosition(()=>{this._showEndForLine=void 0,this._renderStickyScroll(0)}))}_readConfigurationChange(e){(e.hasChanged(116)||e.hasChanged(73)||e.hasChanged(67)||e.hasChanged(111)||e.hasChanged(68))&&this._readConfiguration(),e.hasChanged(68)&&this._renderStickyScroll(0)}_needsUpdate(e){let i=this._stickyScrollWidget.getCurrentLines();for(let o of i)for(let r of e.ranges)if(o>=r.fromLineNumber&&o<=r.toLineNumber)return!0;return!1}_onTokensChange(e){this._needsUpdate(e)&&this._renderStickyScroll(0)}_onDidResize(){let i=this._editor.getLayoutInfo().height/this._editor.getOption(67);this._maxStickyLines=Math.round(i*.25)}_renderStickyScroll(e){return M(this,null,function*(){let i=this._editor.getModel();if(!i||i.isTooLargeForTokenization()){this._resetState();return}let o=this._updateAndGetMinRebuildFromLine(e),r=this._stickyLineCandidateProvider.getVersionId();if(r===void 0||r===i.getVersionId())if(!this._focused)yield this._updateState(o);else if(this._focusedStickyElementIndex===-1)yield this._updateState(o),this._focusedStickyElementIndex=this._stickyScrollWidget.lineNumberCount-1,this._focusedStickyElementIndex!==-1&&this._stickyScrollWidget.focusLineWithIndex(this._focusedStickyElementIndex);else{let a=this._stickyScrollWidget.lineNumbers[this._focusedStickyElementIndex];yield this._updateState(o),this._stickyScrollWidget.lineNumberCount===0?this._focusedStickyElementIndex=-1:(this._stickyScrollWidget.lineNumbers.includes(a)||(this._focusedStickyElementIndex=this._stickyScrollWidget.lineNumberCount-1),this._stickyScrollWidget.focusLineWithIndex(this._focusedStickyElementIndex))}})}_updateAndGetMinRebuildFromLine(e){if(e!==void 0){let i=this._minRebuildFromLine!==void 0?this._minRebuildFromLine:1/0;this._minRebuildFromLine=Math.min(e,i)}return this._minRebuildFromLine}_updateState(e){return M(this,null,function*(){this._minRebuildFromLine=void 0,this._foldingModel=(yield $l.get(this._editor)?.getFoldingModel())??void 0,this._widgetState=this.findScrollWidgetState();let i=this._widgetState.startLineNumbers.length>0;this._stickyScrollVisibleContextKey.set(i),this._stickyScrollWidget.setState(this._widgetState,this._foldingModel,e)})}_resetState(){return M(this,null,function*(){this._minRebuildFromLine=void 0,this._foldingModel=void 0,this._widgetState=a_.Empty,this._stickyScrollVisibleContextKey.set(!1),this._stickyScrollWidget.setState(void 0,void 0)})}findScrollWidgetState(){let e=this._editor.getOption(67),i=Math.min(this._maxStickyLines,this._editor.getOption(116).maxLineCount),o=this._editor.getScrollTop(),r=0,s=[],a=[],l=this._editor.getVisibleRanges();if(l.length!==0){let c=new dd(l[0].startLineNumber,l[l.length-1].endLineNumber),d=this._stickyLineCandidateProvider.getCandidateStickyLinesIntersecting(c);for(let u of d){let h=u.startLineNumber,m=u.endLineNumber,f=u.nestingDepth;if(m-h>0){let p=(f-1)*e,g=f*e,v=this._editor.getBottomForLineNumber(h)-o,b=this._editor.getTopForLineNumber(m)-o,C=this._editor.getBottomForLineNumber(m)-o;if(p>b&&p<=C){s.push(h),a.push(m+1),r=C-g;break}else g>v&&g<=C&&(s.push(h),a.push(m+1));if(s.length===i)break}}}return this._endLineNumbers=a,new a_(s,a,r,this._showEndForLine)}dispose(){super.dispose(),this._sessionStore.dispose()}};nl=KB=Ixe([l_(1,Qs),l_(2,ce),l_(3,Me),l_(4,yi),l_(5,yn),l_(6,Ze)],nl);var JM=class extends jn{constructor(){super({id:"editor.action.toggleStickyScroll",title:Ae(j({},Ne("toggleEditorStickyScroll","Toggle Editor Sticky Scroll")),{mnemonicTitle:_({key:"mitoggleStickyScroll",comment:["&& denotes a mnemonic"]},"&&Toggle Editor Sticky Scroll")}),metadata:{description:Ne("toggleEditorStickyScroll.description","Toggle/enable the editor sticky scroll which shows the nested scopes at the top of the viewport")},category:NY.View,toggled:{condition:K.equals("config.editor.stickyScroll.enabled",!0),title:_("stickyScroll","Sticky Scroll"),mnemonicTitle:_({key:"miStickyScroll",comment:["&& denotes a mnemonic"]},"&&Sticky Scroll")},menu:[{id:be.CommandPalette},{id:be.MenubarAppearanceMenu,group:"4_editor",order:3},{id:be.StickyScrollContext}]})}run(t){return M(this,null,function*(){let e=t.get(vt),i=!e.getValue("editor.stickyScroll.enabled");return e.updateValue("editor.stickyScroll.enabled",i)})}},rk=100,ek=class extends Pr{constructor(){super({id:"editor.action.focusStickyScroll",title:Ae(j({},Ne("focusStickyScroll","Focus on the editor sticky scroll")),{mnemonicTitle:_({key:"mifocusStickyScroll",comment:["&& denotes a mnemonic"]},"&&Focus Sticky Scroll")}),precondition:K.and(K.has("config.editor.stickyScroll.enabled"),T.stickyScrollVisible),menu:[{id:be.CommandPalette}]})}runEditorCommand(t,e){nl.get(e)?.focus()}},tk=class extends Pr{constructor(){super({id:"editor.action.selectNextStickyScrollLine",title:Ne("selectNextStickyScrollLine.title","Select the next editor sticky scroll line"),precondition:T.stickyScrollFocused.isEqualTo(!0),keybinding:{weight:rk,primary:18}})}runEditorCommand(t,e){nl.get(e)?.focusNext()}},ik=class extends Pr{constructor(){super({id:"editor.action.selectPreviousStickyScrollLine",title:Ne("selectPreviousStickyScrollLine.title","Select the previous sticky scroll line"),precondition:T.stickyScrollFocused.isEqualTo(!0),keybinding:{weight:rk,primary:16}})}runEditorCommand(t,e){nl.get(e)?.focusPrevious()}},nk=class extends Pr{constructor(){super({id:"editor.action.goToFocusedStickyScrollLine",title:Ne("goToFocusedStickyScrollLine.title","Go to the focused sticky scroll line"),precondition:T.stickyScrollFocused.isEqualTo(!0),keybinding:{weight:rk,primary:3}})}runEditorCommand(t,e){nl.get(e)?.goToFocused()}},ok=class extends Pr{constructor(){super({id:"editor.action.selectEditor",title:Ne("selectEditor.title","Select Editor"),precondition:T.stickyScrollFocused.isEqualTo(!0),keybinding:{weight:rk,primary:9}})}runEditorCommand(t,e){nl.get(e)?.selectEditor()}};$i();Te(nl.ID,nl,1);$t(JM);$t(ek);$t(ik);$t(tk);$t(nk);$t(ok);bi();Rc();dv();ue();Uo();qe();Lt();var VY=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},j0=function(n,t){return function(e,i){t(e,i,n)}},YB=class{constructor(t,e,i,o,r,s){this.range=t,this.insertText=e,this.filterText=i,this.additionalTextEdits=o,this.command=r,this.completion=s}},XB=class extends s4{constructor(t,e,i,o,r,s){super(r.disposable),this.model=t,this.line=e,this.word=i,this.completionModel=o,this._suggestMemoryService=s}canBeReused(t,e,i){return this.model===t&&this.line===e&&this.word.word.length>0&&this.word.startColumn===i.startColumn&&this.word.endColumn<i.endColumn&&this.completionModel.getIncompleteProvider().size===0}get items(){let t=[],{items:e}=this.completionModel,i=this._suggestMemoryService.select(this.model,{lineNumber:this.line,column:this.word.endColumn+this.completionModel.lineContext.characterCountDelta},e),o=Xr.slice(e,i),r=Xr.slice(e,0,i),s=5;for(let a of Xr.concat(o,r)){if(a.score===Ac.Default)continue;let l=new A(a.editStart.lineNumber,a.editStart.column,a.editInsertEnd.lineNumber,a.editInsertEnd.column+this.completionModel.lineContext.characterCountDelta),c=a.completion.insertTextRules&&a.completion.insertTextRules&4?{snippet:a.completion.insertText}:a.completion.insertText;t.push(new YB(l,c,a.filterTextLow??a.labelLow,a.completion.additionalTextEdits,a.completion.command,a)),s-->=0&&a.resolve(Qe.None)}return t}};XB=VY([j0(5,Ug)],XB);var ZB=class extends U{constructor(t,e,i,o){super(),this._languageFeatureService=t,this._clipboardService=e,this._suggestMemoryService=i,this._editorService=o,this._store.add(t.inlineCompletionsProvider.register("*",this))}provideInlineCompletions(t,e,i,o){return M(this,null,function*(){if(i.selectedSuggestionInfo)return;let r;for(let m of this._editorService.listCodeEditors())if(m.getModel()===t){r=m;break}if(!r)return;let s=r.getOption(90);if(Xl.isAllOff(s))return;t.tokenization.tokenizeIfCheap(e.lineNumber);let a=t.tokenization.getLineTokens(e.lineNumber),l=a.getStandardTokenType(a.findTokenIndexAtOffset(Math.max(e.column-1-1,0)));if(Xl.valueFor(s,l)!=="inline")return;let c=t.getWordAtPosition(e),d;if(c?.word||(d=this._getTriggerCharacterInfo(t,e)),!c?.word&&!d||(c||(c=t.getWordUntilPosition(e)),c.endColumn!==e.column))return;let u,h=t.getValueInRange(new A(e.lineNumber,1,e.lineNumber,e.column));if(!d&&this._lastResult?.canBeReused(t,e.lineNumber,c)){let m=new f0(h,e.column-this._lastResult.word.endColumn);this._lastResult.completionModel.lineContext=m,this._lastResult.acquire(),u=this._lastResult}else{let m=yield i0(this._languageFeatureService.completionProvider,t,e,new Pm(void 0,$g.createSuggestFilter(r).itemKind,d?.providers),d&&{triggerKind:1,triggerCharacter:d.ch},o),f;m.needsClipboard&&(f=yield this._clipboardService.readText());let p=new Gg(m.items,e.column,new f0(h,0),qg.None,r.getOption(119),r.getOption(113),{boostFullMatch:!1,firstMatchCanBeWeak:!1},f);u=new XB(t,e.lineNumber,c,p,m,this._suggestMemoryService)}return this._lastResult=u,u})}handleItemDidShow(t,e){e.completion.resolve(Qe.None)}freeInlineCompletions(t){t.release()}_getTriggerCharacterInfo(t,e){let i=t.getValueInRange(A.fromPositions({lineNumber:e.lineNumber,column:e.column-1},e)),o=new Set;for(let r of this._languageFeatureService.completionProvider.all(t))r.triggerCharacters?.includes(i)&&o.add(r);if(o.size!==0)return{providers:o,ch:i}}};ZB=VY([j0(0,ce),j0(1,Va),j0(2,Ug),j0(3,Zt)],ZB);ta(ZB);Ks();it();Re();var QB=class extends Q{constructor(){super({id:"editor.action.forceRetokenize",label:_("forceRetokenize","Developer: Force Retokenize"),alias:"Developer: Force Retokenize",precondition:void 0})}run(t,e){if(!e.hasModel())return;let i=e.getModel();i.tokenization.resetTokenization();let o=new Xi;i.tokenization.forceTokenization(i.getLineCount()),o.stop(),console.log(`tokenization took ${o.elapsed()}`)}};V(QB);Re();$i();var Exe=(()=>{class n extends jn{static{this.ID="editor.action.toggleTabFocusMode"}constructor(){super({id:n.ID,title:Ne({key:"toggle.tabMovesFocus",comment:["Turn on/off use of tab key for moving focus around VS Code"]},"Toggle Tab Key Moves Focus"),precondition:void 0,keybinding:{primary:2091,mac:{primary:1323},weight:100},metadata:{description:Ne("tabMovesFocusDescriptions","Determines whether the tab key moves focus around the workbench or inserts the tab character in the current editor. This is also called tab trapping, tab navigation, or tab focus mode.")},f1:!0})}run(){let i=!ZR.getTabFocusMode();ZR.setTabFocusMode(i),i?Kn(_("toggle.tabMovesFocus.on","Pressing Tab will now move focus to the next focusable element")):Kn(_("toggle.tabMovesFocus.off","Pressing Tab will now insert the tab character"))}}return n})();$t(Exe);Ht();Wn();Js();ue();tr();zi();it();wn();Fh();Pa();_t();Th();ue();Ot();_t();E4();oi();ue();var Mxe=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},WY=function(n,t){return function(e,i){t(e,i,n)}},sk=class extends U{get enabled(){return this._enabled}set enabled(t){t?(this.el.setAttribute("aria-disabled","false"),this.el.tabIndex=0,this.el.style.pointerEvents="auto",this.el.style.opacity="1",this.el.style.cursor="pointer",this._enabled=!1):(this.el.setAttribute("aria-disabled","true"),this.el.tabIndex=-1,this.el.style.pointerEvents="none",this.el.style.opacity="0.4",this.el.style.cursor="default",this._enabled=!0),this._enabled=t}constructor(t,e,i={},o,r){super(),this._link=e,this._hoverService=o,this._enabled=!0,this.el=Ce(t,ye("a.monaco-link",{tabIndex:e.tabIndex??0,href:e.href},e.label)),this.hoverDelegate=i.hoverDelegate??Wd("mouse"),this.setTooltip(e.title),this.el.setAttribute("role","button");let s=this._register(new oC(this.el,"click")),a=this._register(new oC(this.el,"keypress")),l=xi.chain(a.event,u=>u.map(h=>new _v(h)).filter(h=>h.keyCode===3)),c=this._register(new oC(this.el,j5.Tap)).event;this._register(tC.addTarget(this.el));let d=xi.any(s.event,l,c);this._register(d(u=>{this.enabled&&(Eh.stop(u,!0),i?.opener?i.opener(this._link.href):r.open(this._link.href,{allowCommands:!0}))})),this.enabled=!0}setTooltip(t){this.hoverDelegate.showNativeHover?this.el.title=t??"":!this.hover&&t?this.hover=this._register(this._hoverService.setupManagedHover(this.hoverDelegate,this.el,t)):this.hover&&this.hover.update(t)}};sk=Mxe([WY(3,kc),WY(4,$n)],sk);nr();var jY=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},UY=function(n,t){return function(e,i){t(e,i,n)}},kxe=26,ak=class extends U{constructor(t,e){super(),this._editor=t,this.instantiationService=e,this.banner=this._register(this.instantiationService.createInstance(JB))}hide(){this._editor.setBanner(null,0),this.banner.clear()}show(t){this.banner.show(Ae(j({},t),{onClose:()=>{this.hide(),t.onClose?.()}})),this._editor.setBanner(this.banner.element,kxe)}};ak=jY([UY(1,Me)],ak);var JB=class extends U{constructor(t){super(),this.instantiationService=t,this.markdownRenderer=this.instantiationService.createInstance(ea,{}),this.element=ye("div.editor-banner"),this.element.tabIndex=0}getAriaLabel(t){if(t.ariaLabel)return t.ariaLabel;if(typeof t.message=="string")return t.message}getBannerMessage(t){if(typeof t=="string"){let e=ye("span");return e.innerText=t,e}return this.markdownRenderer.render(t).element}clear(){Rr(this.element)}show(t){Rr(this.element);let e=this.getAriaLabel(t);e&&this.element.setAttribute("aria-label",e);let i=Ce(this.element,ye("div.icon-container"));i.setAttribute("aria-hidden","true"),t.icon&&i.appendChild(ye(`div${Dt.asCSSSelector(t.icon)}`));let o=Ce(this.element,ye("div.message-container"));if(o.setAttribute("aria-hidden","true"),o.appendChild(this.getBannerMessage(t.message)),this.messageActionsContainer=Ce(this.element,ye("div.message-actions-container")),t.actions)for(let s of t.actions)this._register(this.instantiationService.createInstance(sk,this.messageActionsContainer,Ae(j({},s),{tabIndex:-1}),{}));let r=Ce(this.element,ye("div.action-container"));this.actionBar=this._register(new Nc(r)),this.actionBar.push(this._register(new bl("banner.close","Close Banner",Dt.asClassName(DC),!0,()=>{typeof t.onClose=="function"&&t.onClose()})),{icon:!0,label:!1}),this.actionBar.setFocusable(!1)}};JB=jY([UY(0,Me)],JB);Re();bn();Ot();var aH=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},c_=function(n,t){return function(e,i){t(e,i,n)}},Txe=Ii("extensions-warning-message",Ge.warning,_("warningIcon","Icon shown with a warning message in the extensions editor.")),U0=class extends U{static{this.ID="editor.contrib.unicodeHighlighter"}constructor(t,e,i,o){super(),this._editor=t,this._editorWorkerService=e,this._workspaceTrustService=i,this._highlighter=null,this._bannerClosed=!1,this._updateState=r=>{if(r&&r.hasMore){if(this._bannerClosed)return;let s=Math.max(r.ambiguousCharacterCount,r.nonBasicAsciiCharacterCount,r.invisibleCharacterCount),a;if(r.nonBasicAsciiCharacterCount>=s)a={message:_("unicodeHighlighting.thisDocumentHasManyNonBasicAsciiUnicodeCharacters","This document contains many non-basic ASCII unicode characters"),command:new cH};else if(r.ambiguousCharacterCount>=s)a={message:_("unicodeHighlighting.thisDocumentHasManyAmbiguousUnicodeCharacters","This document contains many ambiguous unicode characters"),command:new q0};else if(r.invisibleCharacterCount>=s)a={message:_("unicodeHighlighting.thisDocumentHasManyInvisibleUnicodeCharacters","This document contains many invisible unicode characters"),command:new lH};else throw new Error("Unreachable");this._bannerController.show({id:"unicodeHighlightBanner",message:a.message,icon:Txe,actions:[{label:a.command.shortLabel,href:`command:${a.command.id}`}],onClose:()=>{this._bannerClosed=!0}})}else this._bannerController.hide()},this._bannerController=this._register(o.createInstance(ak,t)),this._register(this._editor.onDidChangeModel(()=>{this._bannerClosed=!1,this._updateHighlighter()})),this._options=t.getOption(126),this._register(i.onDidChangeTrust(r=>{this._updateHighlighter()})),this._register(t.onDidChangeConfiguration(r=>{r.hasChanged(126)&&(this._options=t.getOption(126),this._updateHighlighter())})),this._updateHighlighter()}dispose(){this._highlighter&&(this._highlighter.dispose(),this._highlighter=null),super.dispose()}_updateHighlighter(){if(this._updateState(null),this._highlighter&&(this._highlighter.dispose(),this._highlighter=null),!this._editor.hasModel())return;let t=Axe(this._workspaceTrustService.isWorkspaceTrusted(),this._options);if([t.nonBasicASCII,t.ambiguousCharacters,t.invisibleCharacters].every(i=>i===!1))return;let e={nonBasicASCII:t.nonBasicASCII,ambiguousCharacters:t.ambiguousCharacters,invisibleCharacters:t.invisibleCharacters,includeComments:t.includeComments,includeStrings:t.includeStrings,allowedCodePoints:Object.keys(t.allowedCharacters).map(i=>i.codePointAt(0)),allowedLocales:Object.keys(t.allowedLocales).map(i=>i==="_os"?new Intl.NumberFormat().resolvedOptions().locale:i==="_vscode"?t4:i)};this._editorWorkerService.canComputeUnicodeHighlights(this._editor.getModel().uri)?this._highlighter=new tH(this._editor,e,this._updateState,this._editorWorkerService):this._highlighter=new iH(this._editor,e,this._updateState)}getDecorationInfo(t){return this._highlighter?this._highlighter.getDecorationInfo(t):null}};U0=aH([c_(1,wr),c_(2,kU),c_(3,Me)],U0);function Axe(n,t){return{nonBasicASCII:t.nonBasicASCII===Ex?!n:t.nonBasicASCII,ambiguousCharacters:t.ambiguousCharacters,invisibleCharacters:t.invisibleCharacters,includeComments:t.includeComments===Ex?!n:t.includeComments,includeStrings:t.includeStrings===Ex?!n:t.includeStrings,allowedCharacters:t.allowedCharacters,allowedLocales:t.allowedLocales}}var tH=class extends U{constructor(t,e,i,o){super(),this._editor=t,this._options=e,this._updateState=i,this._editorWorkerService=o,this._model=this._editor.getModel(),this._decorations=this._editor.createDecorationsCollection(),this._updateSoon=this._register(new ai(()=>this._update(),250)),this._register(this._editor.onDidChangeModelContent(()=>{this._updateSoon.schedule()})),this._updateSoon.schedule()}dispose(){this._decorations.clear(),super.dispose()}_update(){if(this._model.isDisposed())return;if(!this._model.mightContainNonBasicASCII()){this._decorations.clear();return}let t=this._model.getVersionId();this._editorWorkerService.computedUnicodeHighlights(this._model.uri,this._options).then(e=>{if(this._model.isDisposed()||this._model.getVersionId()!==t)return;this._updateState(e);let i=[];if(!e.hasMore)for(let o of e.ranges)i.push({range:o,options:lk.instance.getDecorationFromOptions(this._options)});this._decorations.set(i)})}getDecorationInfo(t){if(!this._decorations.has(t))return null;let e=this._editor.getModel();if(!eO(e,t))return null;let i=e.getValueInRange(t.range);return{reason:GY(i,this._options),inComment:tO(e,t),inString:iO(e,t)}}};tH=aH([c_(3,wr)],tH);var iH=class extends U{constructor(t,e,i){super(),this._editor=t,this._options=e,this._updateState=i,this._model=this._editor.getModel(),this._decorations=this._editor.createDecorationsCollection(),this._updateSoon=this._register(new ai(()=>this._update(),250)),this._register(this._editor.onDidLayoutChange(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidScrollChange(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidChangeHiddenAreas(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidChangeModelContent(()=>{this._updateSoon.schedule()})),this._updateSoon.schedule()}dispose(){this._decorations.clear(),super.dispose()}_update(){if(this._model.isDisposed())return;if(!this._model.mightContainNonBasicASCII()){this._decorations.clear();return}let t=this._editor.getVisibleRanges(),e=[],i={ranges:[],ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0,hasMore:!1};for(let o of t){let r=ER.computeUnicodeHighlights(this._model,this._options,o);for(let s of r.ranges)i.ranges.push(s);i.ambiguousCharacterCount+=i.ambiguousCharacterCount,i.invisibleCharacterCount+=i.invisibleCharacterCount,i.nonBasicAsciiCharacterCount+=i.nonBasicAsciiCharacterCount,i.hasMore=i.hasMore||r.hasMore}if(!i.hasMore)for(let o of i.ranges)e.push({range:o,options:lk.instance.getDecorationFromOptions(this._options)});this._updateState(i),this._decorations.set(e)}getDecorationInfo(t){if(!this._decorations.has(t))return null;let e=this._editor.getModel(),i=e.getValueInRange(t.range);return eO(e,t)?{reason:GY(i,this._options),inComment:tO(e,t),inString:iO(e,t)}:null}},qY=_("unicodeHighlight.configureUnicodeHighlightOptions","Configure Unicode Highlight Options"),nH=class{constructor(t,e,i){this._editor=t,this._languageService=e,this._openerService=i,this.hoverOrdinal=5}computeSync(t,e){if(!this._editor.hasModel()||t.type!==1)return[];let i=this._editor.getModel(),o=this._editor.getContribution(U0.ID);if(!o)return[];let r=[],s=new Set,a=300;for(let l of e){let c=o.getDecorationInfo(l);if(!c)continue;let u=i.getValueInRange(l.range).codePointAt(0),h=eH(u),m;switch(c.reason.kind){case 0:{Ax(c.reason.confusableWith)?m=_("unicodeHighlight.characterIsAmbiguousASCII","The character {0} could be confused with the ASCII character {1}, which is more common in source code.",h,eH(c.reason.confusableWith.codePointAt(0))):m=_("unicodeHighlight.characterIsAmbiguous","The character {0} could be confused with the character {1}, which is more common in source code.",h,eH(c.reason.confusableWith.codePointAt(0)));break}case 1:m=_("unicodeHighlight.characterIsInvisible","The character {0} is invisible.",h);break;case 2:m=_("unicodeHighlight.characterIsNonBasicAscii","The character {0} is not a basic ASCII character.",h);break}if(s.has(m))continue;s.add(m);let f={codePoint:u,reason:c.reason,inComment:c.inComment,inString:c.inString},p=_("unicodeHighlight.adjustSettings","Adjust settings"),g=`command:${$Y.ID}?${encodeURIComponent(JSON.stringify(f))}`,v=new mn("",!0).appendMarkdown(m).appendText(" ").appendLink(g,p,qY);r.push(new Dr(this,l.range,[v],!1,a++))}return r}renderHoverParts(t,e){return wK(t,e,this._editor,this._languageService,this._openerService)}};nH=aH([c_(1,qn),c_(2,$n)],nH);function oH(n){return`U+${n.toString(16).padStart(4,"0")}`}function eH(n){let t=`\`${oH(n)}\``;return gR.isInvisibleCharacter(n)||(t+=` "${`${Rxe(n)}`}"`),t}function Rxe(n){return n===96?"`` ` ``":"`"+String.fromCodePoint(n)+"`"}function GY(n,t){return ER.computeUnicodeHighlightReason(n,t)}var lk=class n{constructor(){this.map=new Map}static{this.instance=new n}getDecorationFromOptions(t){return this.getDecoration(!t.includeComments,!t.includeStrings)}getDecoration(t,e){let i=`${t}${e}`,o=this.map.get(i);return o||(o=lt.createDynamic({description:"unicode-highlight",stickiness:1,className:"unicode-highlight",showIfCollapsed:!0,overviewRuler:null,minimap:null,hideInCommentTokens:t,hideInStringTokens:e}),this.map.set(i,o)),o}},rH=class extends Q{constructor(){super({id:q0.ID,label:_("action.unicodeHighlight.disableHighlightingInComments","Disable highlighting of characters in comments"),alias:"Disable highlighting of characters in comments",precondition:void 0}),this.shortLabel=_("unicodeHighlight.disableHighlightingInComments.shortLabel","Disable Highlight In Comments")}run(t,e,i){return M(this,null,function*(){let o=t?.get(vt);o&&this.runAction(o)})}runAction(t){return M(this,null,function*(){yield t.updateValue(hl.includeComments,!1,2)})}},sH=class extends Q{constructor(){super({id:q0.ID,label:_("action.unicodeHighlight.disableHighlightingInStrings","Disable highlighting of characters in strings"),alias:"Disable highlighting of characters in strings",precondition:void 0}),this.shortLabel=_("unicodeHighlight.disableHighlightingInStrings.shortLabel","Disable Highlight In Strings")}run(t,e,i){return M(this,null,function*(){let o=t?.get(vt);o&&this.runAction(o)})}runAction(t){return M(this,null,function*(){yield t.updateValue(hl.includeStrings,!1,2)})}},q0=(()=>{class n extends Q{static{this.ID="editor.action.unicodeHighlight.disableHighlightingOfAmbiguousCharacters"}constructor(){super({id:n.ID,label:_("action.unicodeHighlight.disableHighlightingOfAmbiguousCharacters","Disable highlighting of ambiguous characters"),alias:"Disable highlighting of ambiguous characters",precondition:void 0}),this.shortLabel=_("unicodeHighlight.disableHighlightingOfAmbiguousCharacters.shortLabel","Disable Ambiguous Highlight")}run(e,i,o){return M(this,null,function*(){let r=e?.get(vt);r&&this.runAction(r)})}runAction(e){return M(this,null,function*(){yield e.updateValue(hl.ambiguousCharacters,!1,2)})}}return n})(),lH=(()=>{class n extends Q{static{this.ID="editor.action.unicodeHighlight.disableHighlightingOfInvisibleCharacters"}constructor(){super({id:n.ID,label:_("action.unicodeHighlight.disableHighlightingOfInvisibleCharacters","Disable highlighting of invisible characters"),alias:"Disable highlighting of invisible characters",precondition:void 0}),this.shortLabel=_("unicodeHighlight.disableHighlightingOfInvisibleCharacters.shortLabel","Disable Invisible Highlight")}run(e,i,o){return M(this,null,function*(){let r=e?.get(vt);r&&this.runAction(r)})}runAction(e){return M(this,null,function*(){yield e.updateValue(hl.invisibleCharacters,!1,2)})}}return n})(),cH=(()=>{class n extends Q{static{this.ID="editor.action.unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters"}constructor(){super({id:n.ID,label:_("action.unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters","Disable highlighting of non basic ASCII characters"),alias:"Disable highlighting of non basic ASCII characters",precondition:void 0}),this.shortLabel=_("unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters.shortLabel","Disable Non ASCII Highlight")}run(e,i,o){return M(this,null,function*(){let r=e?.get(vt);r&&this.runAction(r)})}runAction(e){return M(this,null,function*(){yield e.updateValue(hl.nonBasicASCII,!1,2)})}}return n})(),$Y=(()=>{class n extends Q{static{this.ID="editor.action.unicodeHighlight.showExcludeOptions"}constructor(){super({id:n.ID,label:_("action.unicodeHighlight.showExcludeOptions","Show Exclude Options"),alias:"Show Exclude Options",precondition:void 0})}run(e,i,o){return M(this,null,function*(){let{codePoint:r,reason:s,inString:a,inComment:l}=o,c=String.fromCodePoint(r),d=e.get(Go),u=e.get(vt);function h(p){return gR.isInvisibleCharacter(p)?_("unicodeHighlight.excludeInvisibleCharFromBeingHighlighted","Exclude {0} (invisible character) from being highlighted",oH(p)):_("unicodeHighlight.excludeCharFromBeingHighlighted","Exclude {0} from being highlighted",`${oH(p)} "${c}"`)}let m=[];if(s.kind===0)for(let p of s.notAmbiguousInLocales)m.push({label:_("unicodeHighlight.allowCommonCharactersInLanguage",'Allow unicode characters that are more common in the language "{0}".',p),run:()=>M(this,null,function*(){Pxe(u,[p])})});if(m.push({label:h(r),run:()=>Oxe(u,[r])}),l){let p=new rH;m.push({label:p.label,run:()=>M(this,null,function*(){return p.runAction(u)})})}else if(a){let p=new sH;m.push({label:p.label,run:()=>M(this,null,function*(){return p.runAction(u)})})}if(s.kind===0){let p=new q0;m.push({label:p.label,run:()=>M(this,null,function*(){return p.runAction(u)})})}else if(s.kind===1){let p=new lH;m.push({label:p.label,run:()=>M(this,null,function*(){return p.runAction(u)})})}else if(s.kind===2){let p=new cH;m.push({label:p.label,run:()=>M(this,null,function*(){return p.runAction(u)})})}else Lxe(s);let f=yield d.pick(m,{title:qY});f&&(yield f.run())})}}return n})();function Oxe(n,t){return M(this,null,function*(){let e=n.getValue(hl.allowedCharacters),i;typeof e=="object"&&e?i=e:i={};for(let o of t)i[String.fromCodePoint(o)]=!0;yield n.updateValue(hl.allowedCharacters,i,2)})}function Pxe(n,t){return M(this,null,function*(){let e=n.inspect(hl.allowedLocales).user?.value,i;typeof e=="object"&&e?i=Object.assign({},e):i={};for(let o of t)i[o]=!0;yield n.updateValue(hl.allowedLocales,i,2)})}function Lxe(n){throw new Error(`Unexpected value: ${n}`)}V(q0);V(lH);V(cH);V($Y);Te(U0.ID,U0,1);Os.register(nH);ue();Zr();it();Uo();Re();var Nxe=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},KY=function(n,t){return function(e,i){t(e,i,n)}},YY="ignoreUnusualLineTerminators";function Fxe(n,t,e){n.setModelProperty(t.uri,YY,e)}function zxe(n,t){return n.getModelProperty(t.uri,YY)}var ck=class extends U{static{this.ID="editor.contrib.unusualLineTerminatorsDetector"}constructor(t,e,i){super(),this._editor=t,this._dialogService=e,this._codeEditorService=i,this._isPresentingDialog=!1,this._config=this._editor.getOption(127),this._register(this._editor.onDidChangeConfiguration(o=>{o.hasChanged(127)&&(this._config=this._editor.getOption(127),this._checkForUnusualLineTerminators())})),this._register(this._editor.onDidChangeModel(()=>{this._checkForUnusualLineTerminators()})),this._register(this._editor.onDidChangeModelContent(o=>{o.isUndoing||this._checkForUnusualLineTerminators()})),this._checkForUnusualLineTerminators()}_checkForUnusualLineTerminators(){return M(this,null,function*(){if(this._config==="off"||!this._editor.hasModel())return;let t=this._editor.getModel();if(!t.mightContainUnusualLineTerminators()||zxe(this._codeEditorService,t)===!0||this._editor.getOption(92))return;if(this._config==="auto"){t.removeUnusualLineTerminators(this._editor.getSelections());return}if(this._isPresentingDialog)return;let i;try{this._isPresentingDialog=!0,i=yield this._dialogService.confirm({title:_("unusualLineTerminators.title","Unusual Line Terminators"),message:_("unusualLineTerminators.message","Detected unusual line terminators"),detail:_("unusualLineTerminators.detail","The file '{0}' contains one or more unusual line terminator characters, like Line Separator (LS) or Paragraph Separator (PS).\n\nIt is recommended to remove them from the file. This can be configured via `editor.unusualLineTerminators`.",yr(t.uri)),primaryButton:_({key:"unusualLineTerminators.fix",comment:["&& denotes a mnemonic"]},"&&Remove Unusual Line Terminators"),cancelButton:_("unusualLineTerminators.ignore","Ignore")})}finally{this._isPresentingDialog=!1}if(!i.confirmed){Fxe(this._codeEditorService,t,!0);return}t.removeUnusualLineTerminators(this._editor.getSelections())})}};ck=Nxe([KY(1,Rp),KY(2,Zt)],ck);Te(ck.ID,ck,1);Re();Ht();bi();Bt();ue();it();Uo();qe();Kt();Na();Lt();pt();Ih();Ic();Zr();hue();Lt();vn();ue();Ic();var Bxe=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},Hxe=function(n,t){return function(e,i){t(e,i,n)}},dk=class{constructor(){this.selector={language:"*"}}provideDocumentHighlights(t,e,i){let o=[],r=t.getWordAtPosition({lineNumber:e.lineNumber,column:e.column});return r?t.isDisposed()?void 0:t.findMatches(r.word,!0,!1,!0,aR,!1).map(a=>({range:a.range,kind:Cp.Text})):Promise.resolve(o)}provideMultiDocumentHighlights(t,e,i,o){let r=new La,s=t.getWordAtPosition({lineNumber:e.lineNumber,column:e.column});if(!s)return Promise.resolve(r);for(let a of[t,...i]){if(a.isDisposed())continue;let c=a.findMatches(s.word,!0,!1,!0,aR,!1).map(d=>({range:d.range,kind:Cp.Text}));c&&r.set(a.uri,c)}return r}},uk=class extends U{constructor(t){super(),this._register(t.documentHighlightProvider.register("*",new dk)),this._register(t.multiDocumentHighlightProvider.register("*",new dk))}};uk=Bxe([Hxe(0,ce)],uk);var XY=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},hk=function(n,t){return function(e,i){t(e,i,n)}},Qi,dH,_H=new ot("hasWordHighlights",!1);function ZY(n,t,e,i){let o=n.ordered(t);return vv(o.map(r=>()=>Promise.resolve(r.provideDocumentHighlights(t,e,i)).then(void 0,zt)),r=>r!=null).then(r=>{if(r){let s=new La;return s.set(t.uri,r),s}return new La})}function Vxe(n,t,e,i,o,r){let s=n.ordered(t);return vv(s.map(a=>()=>{let l=r.filter(c=>n5(c)).filter(c=>p5(a.selector,c.uri,c.getLanguageId(),!0,void 0,void 0)>0);return Promise.resolve(a.provideMultiDocumentHighlights(t,e,l,o)).then(void 0,zt)}),a=>a!=null)}var mk=class{constructor(t,e,i){this._model=t,this._selection=e,this._wordSeparators=i,this._wordRange=this._getCurrentWordRange(t,e),this._result=null}get result(){return this._result||(this._result=Ci(t=>this._compute(this._model,this._selection,this._wordSeparators,t))),this._result}_getCurrentWordRange(t,e){let i=t.getWordAtPosition(e.getPosition());return i?new A(e.startLineNumber,i.startColumn,e.startLineNumber,i.endColumn):null}isValid(t,e,i){let o=e.startLineNumber,r=e.startColumn,s=e.endColumn,a=this._getCurrentWordRange(t,e),l=!!(this._wordRange&&this._wordRange.equalsRange(a));for(let c=0,d=i.length;!l&&c<d;c++){let u=i.getRange(c);u&&u.startLineNumber===o&&u.startColumn<=r&&u.endColumn>=s&&(l=!0)}return l}cancel(){this.result.cancel()}},uH=class extends mk{constructor(t,e,i,o){super(t,e,i),this._providers=o}_compute(t,e,i,o){return ZY(this._providers,t,e.getPosition(),o).then(r=>r||new La)}},hH=class extends mk{constructor(t,e,i,o,r){super(t,e,i),this._providers=o,this._otherModels=r}_compute(t,e,i,o){return Vxe(this._providers,t,e.getPosition(),i,o,this._otherModels).then(r=>r||new La)}};function Wxe(n,t,e,i,o){return new uH(t,e,o,n)}function jxe(n,t,e,i,o,r){return new hH(t,e,o,n,r)}ao("_executeDocumentHighlights",(n,t,e)=>M(void 0,null,function*(){let i=n.get(ce);return(yield ZY(i.documentHighlightProvider,t,e,Qe.None))?.get(t.uri)}));var mH=class{static{Qi=this}static{this.storedDecorationIDs=new La}static{this.query=null}constructor(t,e,i,o,r){this.toUnhook=new G,this.workerRequestTokenId=0,this.workerRequestCompleted=!1,this.workerRequestValue=new La,this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1,this.runDelayer=this.toUnhook.add(new Ar(50)),this.editor=t,this.providers=e,this.multiDocumentProviders=i,this.codeEditorService=r,this._hasWordHighlights=_H.bindTo(o),this._ignorePositionChangeEvent=!1,this.occurrencesHighlight=this.editor.getOption(81),this.model=this.editor.getModel(),this.toUnhook.add(t.onDidChangeCursorPosition(s=>{this._ignorePositionChangeEvent||this.occurrencesHighlight!=="off"&&this.runDelayer.trigger(()=>{this._onPositionChanged(s)})})),this.toUnhook.add(t.onDidFocusEditorText(s=>{this.occurrencesHighlight!=="off"&&(this.workerRequest||this.runDelayer.trigger(()=>{this._run()}))})),this.toUnhook.add(t.onDidChangeModelContent(s=>{T4(this.model.uri,"output")||this._stopAll()})),this.toUnhook.add(t.onDidChangeModel(s=>{!s.newModelUrl&&s.oldModelUrl?this._stopSingular():Qi.query&&this._run()})),this.toUnhook.add(t.onDidChangeConfiguration(s=>{let a=this.editor.getOption(81);if(this.occurrencesHighlight!==a)switch(this.occurrencesHighlight=a,a){case"off":this._stopAll();break;case"singleFile":this._stopAll(Qi.query?.modelInfo?.model);break;case"multiFile":Qi.query&&this._run(!0);break;default:console.warn("Unknown occurrencesHighlight setting value:",a);break}})),this.decorations=this.editor.createDecorationsCollection(),this.workerRequestTokenId=0,this.workerRequest=null,this.workerRequestCompleted=!1,this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1,Qi.query&&this._run()}hasDecorations(){return this.decorations.length>0}restore(){this.occurrencesHighlight!=="off"&&(this.runDelayer.cancel(),this._run())}_getSortedHighlights(){return this.decorations.getRanges().sort(A.compareRangesUsingStarts)}moveNext(){let t=this._getSortedHighlights(),i=(t.findIndex(r=>r.containsPosition(this.editor.getPosition()))+1)%t.length,o=t[i];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(o.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(o);let r=this._getWord();if(r){let s=this.editor.getModel().getLineContent(o.startLineNumber);Kn(`${s}, ${i+1} of ${t.length} for '${r.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}moveBack(){let t=this._getSortedHighlights(),i=(t.findIndex(r=>r.containsPosition(this.editor.getPosition()))-1+t.length)%t.length,o=t[i];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(o.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(o);let r=this._getWord();if(r){let s=this.editor.getModel().getLineContent(o.startLineNumber);Kn(`${s}, ${i+1} of ${t.length} for '${r.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}_removeSingleDecorations(){if(!this.editor.hasModel())return;let t=Qi.storedDecorationIDs.get(this.editor.getModel().uri);t&&(this.editor.removeDecorations(t),Qi.storedDecorationIDs.delete(this.editor.getModel().uri),this.decorations.length>0&&(this.decorations.clear(),this._hasWordHighlights.set(!1)))}_removeAllDecorations(t){let e=this.codeEditorService.listCodeEditors(),i=[];for(let o of e){if(!o.hasModel()||Lh(o.getModel().uri,t?.uri))continue;let r=Qi.storedDecorationIDs.get(o.getModel().uri);if(!r)continue;o.removeDecorations(r),i.push(o.getModel().uri);let s=Uu.get(o);s?.wordHighlighter&&s.wordHighlighter.decorations.length>0&&(s.wordHighlighter.decorations.clear(),s.wordHighlighter.workerRequest=null,s.wordHighlighter._hasWordHighlights.set(!1))}for(let o of i)Qi.storedDecorationIDs.delete(o)}_stopSingular(){this._removeSingleDecorations(),this.editor.hasTextFocus()&&(this.editor.getModel()?.uri.scheme!==Fn.vscodeNotebookCell&&Qi.query?.modelInfo?.model.uri.scheme!==Fn.vscodeNotebookCell?(Qi.query=null,this._run()):Qi.query?.modelInfo&&(Qi.query.modelInfo=null)),this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1),this.workerRequest!==null&&(this.workerRequest.cancel(),this.workerRequest=null),this.workerRequestCompleted||(this.workerRequestTokenId++,this.workerRequestCompleted=!0)}_stopAll(t){this._removeAllDecorations(t),this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1),this.workerRequest!==null&&(this.workerRequest.cancel(),this.workerRequest=null),this.workerRequestCompleted||(this.workerRequestTokenId++,this.workerRequestCompleted=!0)}_onPositionChanged(t){if(this.occurrencesHighlight==="off"){this._stopAll();return}if(t.reason!==3&&this.editor.getModel()?.uri.scheme!==Fn.vscodeNotebookCell){this._stopAll();return}this._run()}_getWord(){let t=this.editor.getSelection(),e=t.startLineNumber,i=t.startColumn;return this.model.isDisposed()?null:this.model.getWordAtPosition({lineNumber:e,column:i})}getOtherModelsToHighlight(t){if(!t)return[];if(t.uri.scheme===Fn.vscodeNotebookCell){let r=[],s=this.codeEditorService.listCodeEditors();for(let a of s){let l=a.getModel();l&&l!==t&&l.uri.scheme===Fn.vscodeNotebookCell&&r.push(l)}return r}let i=[],o=this.codeEditorService.listCodeEditors();for(let r of o){if(!UC(r))continue;let s=r.getModel();s&&t===s.modified&&i.push(s.modified)}if(i.length)return i;if(this.occurrencesHighlight==="singleFile")return[];for(let r of o){let s=r.getModel();s&&s!==t&&i.push(s)}return i}_run(t){let e;if(this.editor.hasTextFocus()){let o=this.editor.getSelection();if(!o||o.startLineNumber!==o.endLineNumber){Qi.query=null,this._stopAll();return}let r=o.startColumn,s=o.endColumn,a=this._getWord();if(!a||a.startColumn>r||a.endColumn<s){Qi.query=null,this._stopAll();return}e=this.workerRequest&&this.workerRequest.isValid(this.model,o,this.decorations),Qi.query={modelInfo:{model:this.model,selection:o},word:a}}else if(!Qi.query){this._stopAll();return}if(this.lastCursorPositionChangeTime=new Date().getTime(),e)this.workerRequestCompleted&&this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1,this._beginRenderDecorations());else if(Lh(this.editor.getModel().uri,Qi.query.modelInfo?.model.uri)){if(!t){let s=this.decorations.getRanges();for(let a of s)if(a.containsPosition(this.editor.getPosition()))return}this._stopAll(t?this.model:void 0);let o=++this.workerRequestTokenId;this.workerRequestCompleted=!1;let r=this.getOtherModelsToHighlight(this.editor.getModel());if(!Qi.query||!Qi.query.modelInfo||Qi.query.modelInfo.model.isDisposed())return;this.workerRequest=this.computeWithModel(Qi.query.modelInfo.model,Qi.query.modelInfo.selection,Qi.query.word,r),this.workerRequest?.result.then(s=>{o===this.workerRequestTokenId&&(this.workerRequestCompleted=!0,this.workerRequestValue=s||[],this._beginRenderDecorations())},ht)}}computeWithModel(t,e,i,o){return o.length?jxe(this.multiDocumentProviders,t,e,i,this.editor.getOption(132),o):Wxe(this.providers,t,e,i,this.editor.getOption(132))}_beginRenderDecorations(){let t=new Date().getTime(),e=this.lastCursorPositionChangeTime+250;t>=e?(this.renderDecorationsTimer=-1,this.renderDecorations()):this.renderDecorationsTimer=setTimeout(()=>{this.renderDecorations()},e-t)}renderDecorations(){this.renderDecorationsTimer=-1;let t=this.codeEditorService.listCodeEditors();for(let e of t){let i=Uu.get(e);if(!i)continue;let o=[],r=e.getModel()?.uri;if(r&&this.workerRequestValue.has(r)){let s=Qi.storedDecorationIDs.get(r),a=this.workerRequestValue.get(r);if(a)for(let c of a)c.range&&o.push({range:c.range,options:hY(c.kind)});let l=[];e.changeDecorations(c=>{l=c.deltaDecorations(s??[],o)}),Qi.storedDecorationIDs=Qi.storedDecorationIDs.set(r,l),o.length>0&&(i.wordHighlighter?.decorations.set(o),i.wordHighlighter?._hasWordHighlights.set(!0))}}}dispose(){this._stopSingular(),this.toUnhook.dispose()}};mH=Qi=XY([hk(4,Zt)],mH);var Uu=class extends U{static{dH=this}static{this.ID="editor.contrib.wordHighlighter"}static get(e){return e.getContribution(dH.ID)}constructor(e,i,o,r){super(),this._wordHighlighter=null;let s=()=>{e.hasModel()&&!e.getModel().isTooLargeForTokenization()&&(this._wordHighlighter=new mH(e,o.documentHighlightProvider,o.multiDocumentHighlightProvider,i,r))};this._register(e.onDidChangeModel(a=>{this._wordHighlighter&&(this._wordHighlighter.dispose(),this._wordHighlighter=null),s()})),s()}get wordHighlighter(){return this._wordHighlighter}saveViewState(){return!!(this._wordHighlighter&&this._wordHighlighter.hasDecorations())}moveNext(){this._wordHighlighter?.moveNext()}moveBack(){this._wordHighlighter?.moveBack()}restoreViewState(e){this._wordHighlighter&&e&&this._wordHighlighter.restore()}dispose(){this._wordHighlighter&&(this._wordHighlighter.dispose(),this._wordHighlighter=null),super.dispose()}};Uu=dH=XY([hk(1,Ze),hk(2,ce),hk(3,Zt)],Uu);var pk=class extends Q{constructor(t,e){super(e),this._isNext=t}run(t,e){let i=Uu.get(e);i&&(this._isNext?i.moveNext():i.moveBack())}},pH=class extends pk{constructor(){super(!0,{id:"editor.action.wordHighlight.next",label:_("wordHighlight.next.label","Go to Next Symbol Highlight"),alias:"Go to Next Symbol Highlight",precondition:_H,kbOpts:{kbExpr:T.editorTextFocus,primary:65,weight:100}})}},fH=class extends pk{constructor(){super(!1,{id:"editor.action.wordHighlight.prev",label:_("wordHighlight.previous.label","Go to Previous Symbol Highlight"),alias:"Go to Previous Symbol Highlight",precondition:_H,kbOpts:{kbExpr:T.editorTextFocus,primary:1089,weight:100}})}},gH=class extends Q{constructor(){super({id:"editor.action.wordHighlight.trigger",label:_("wordHighlight.trigger.label","Trigger Symbol Highlight"),alias:"Trigger Symbol Highlight",precondition:void 0,kbOpts:{kbExpr:T.editorTextFocus,primary:0,weight:100}})}run(t,e,i){let o=Uu.get(e);o&&o.restoreViewState(!0)}};Te(Uu.ID,Uu,0);V(pH);V(fH);V(gH);ta(uk);it();yue();hi();qe();Nn();Kt();rr();Re();pt();var Vm=class extends Ki{constructor(t){super(t),this._inSelectionMode=t.inSelectionMode,this._wordNavigationType=t.wordNavigationType}runEditorCommand(t,e,i){if(!e.hasModel())return;let o=Pd(e.getOption(132),e.getOption(131)),r=e.getModel(),s=e.getSelections(),a=s.length>1,l=s.map(c=>{let d=new pe(c.positionLineNumber,c.positionColumn),u=this._move(o,r,d,this._wordNavigationType,a);return this._moveTo(c,u,this._inSelectionMode)});if(r.pushStackElement(),e._getViewModel().setCursorStates("moveWordCommand",3,l.map(c=>v8.fromModelSelection(c))),l.length===1){let c=new pe(l[0].positionLineNumber,l[0].positionColumn);e.revealPosition(c,0)}}_moveTo(t,e,i){return i?new Be(t.selectionStartLineNumber,t.selectionStartColumn,e.lineNumber,e.column):new Be(e.lineNumber,e.column,e.lineNumber,e.column)}},tc=class extends Vm{_move(t,e,i,o,r){return $p.moveWordLeft(t,e,i,o,r)}},ic=class extends Vm{_move(t,e,i,o,r){return $p.moveWordRight(t,e,i,o)}},vH=class extends tc{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartLeft",precondition:void 0})}},bH=class extends tc{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndLeft",precondition:void 0})}},yH=class extends tc{constructor(){super({inSelectionMode:!1,wordNavigationType:1,id:"cursorWordLeft",precondition:void 0,kbOpts:{kbExpr:K.and(T.textInputFocus,K.and(Mv,Lv)?.negate()),primary:2063,mac:{primary:527},weight:100}})}},wH=class extends tc{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartLeftSelect",precondition:void 0})}},xH=class extends tc{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndLeftSelect",precondition:void 0})}},CH=class extends tc{constructor(){super({inSelectionMode:!0,wordNavigationType:1,id:"cursorWordLeftSelect",precondition:void 0,kbOpts:{kbExpr:K.and(T.textInputFocus,K.and(Mv,Lv)?.negate()),primary:3087,mac:{primary:1551},weight:100}})}},SH=class extends tc{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityLeft",precondition:void 0})}_move(t,e,i,o,r){return super._move(Pd(uv.wordSeparators.defaultValue,t.intlSegmenterLocales),e,i,o,r)}},DH=class extends tc{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityLeftSelect",precondition:void 0})}_move(t,e,i,o,r){return super._move(Pd(uv.wordSeparators.defaultValue,t.intlSegmenterLocales),e,i,o,r)}},IH=class extends ic{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartRight",precondition:void 0})}},EH=class extends ic{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndRight",precondition:void 0,kbOpts:{kbExpr:K.and(T.textInputFocus,K.and(Mv,Lv)?.negate()),primary:2065,mac:{primary:529},weight:100}})}},MH=class extends ic{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordRight",precondition:void 0})}},kH=class extends ic{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartRightSelect",precondition:void 0})}},TH=class extends ic{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndRightSelect",precondition:void 0,kbOpts:{kbExpr:K.and(T.textInputFocus,K.and(Mv,Lv)?.negate()),primary:3089,mac:{primary:1553},weight:100}})}},AH=class extends ic{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordRightSelect",precondition:void 0})}},RH=class extends ic{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityRight",precondition:void 0})}_move(t,e,i,o,r){return super._move(Pd(uv.wordSeparators.defaultValue,t.intlSegmenterLocales),e,i,o,r)}},OH=class extends ic{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityRightSelect",precondition:void 0})}_move(t,e,i,o,r){return super._move(Pd(uv.wordSeparators.defaultValue,t.intlSegmenterLocales),e,i,o,r)}},Wm=class extends Ki{constructor(t){super(t),this._whitespaceHeuristics=t.whitespaceHeuristics,this._wordNavigationType=t.wordNavigationType}runEditorCommand(t,e,i){let o=t.get(yi);if(!e.hasModel())return;let r=Pd(e.getOption(132),e.getOption(131)),s=e.getModel(),a=e.getSelections(),l=e.getOption(6),c=e.getOption(11),d=o.getLanguageConfiguration(s.getLanguageId()).getAutoClosingPairs(),u=e._getViewModel(),h=a.map(m=>{let f=this._delete({wordSeparators:r,model:s,selection:m,whitespaceHeuristics:this._whitespaceHeuristics,autoClosingDelete:e.getOption(9),autoClosingBrackets:l,autoClosingQuotes:c,autoClosingPairs:d,autoClosedCharacters:u.getCursorAutoClosedCharacters()},this._wordNavigationType);return new zc(f,"")});e.pushUndoStop(),e.executeCommands(this.id,h),e.pushUndoStop()}},G0=class extends Wm{_delete(t,e){let i=$p.deleteWordLeft(t,e);return i||new A(1,1,1,1)}},$0=class extends Wm{_delete(t,e){let i=$p.deleteWordRight(t,e);if(i)return i;let o=t.model.getLineCount(),r=t.model.getLineMaxColumn(o);return new A(o,r,o,r)}},PH=class extends G0{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartLeft",precondition:T.writable})}},LH=class extends G0{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndLeft",precondition:T.writable})}},NH=class extends G0{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordLeft",precondition:T.writable,kbOpts:{kbExpr:T.textInputFocus,primary:2049,mac:{primary:513},weight:100}})}},FH=class extends $0{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartRight",precondition:T.writable})}},zH=class extends $0{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndRight",precondition:T.writable})}},BH=class extends $0{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordRight",precondition:T.writable,kbOpts:{kbExpr:T.textInputFocus,primary:2068,mac:{primary:532},weight:100}})}},HH=class extends Q{constructor(){super({id:"deleteInsideWord",precondition:T.writable,label:_("deleteInsideWord","Delete Word"),alias:"Delete Word"})}run(t,e,i){if(!e.hasModel())return;let o=Pd(e.getOption(132),e.getOption(131)),r=e.getModel(),a=e.getSelections().map(l=>{let c=$p.deleteInsideWord(o,r,l);return new zc(c,"")});e.pushUndoStop(),e.executeCommands(this.id,a),e.pushUndoStop()}};ze(new vH);ze(new bH);ze(new yH);ze(new wH);ze(new xH);ze(new CH);ze(new IH);ze(new EH);ze(new MH);ze(new kH);ze(new TH);ze(new AH);ze(new SH);ze(new DH);ze(new RH);ze(new OH);ze(new PH);ze(new LH);ze(new NH);ze(new FH);ze(new zH);ze(new BH);V(HH);it();qe();Kt();qi();var VH=class extends Wm{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordPartLeft",precondition:T.writable,kbOpts:{kbExpr:T.textInputFocus,primary:0,mac:{primary:769},weight:100}})}_delete(t,e){let i=Nv.deleteWordPartLeft(t);return i||new A(1,1,1,1)}},WH=class extends Wm{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordPartRight",precondition:T.writable,kbOpts:{kbExpr:T.textInputFocus,primary:0,mac:{primary:788},weight:100}})}_delete(t,e){let i=Nv.deleteWordPartRight(t);if(i)return i;let o=t.model.getLineCount(),r=t.model.getLineMaxColumn(o);return new A(o,r,o,r)}},fk=class extends Vm{_move(t,e,i,o,r){return Nv.moveWordPartLeft(t,e,i,r)}},jH=class extends fk{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordPartLeft",precondition:void 0,kbOpts:{kbExpr:T.textInputFocus,primary:0,mac:{primary:783},weight:100}})}};Pt.registerCommandAlias("cursorWordPartStartLeft","cursorWordPartLeft");var UH=class extends fk{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordPartLeftSelect",precondition:void 0,kbOpts:{kbExpr:T.textInputFocus,primary:0,mac:{primary:1807},weight:100}})}};Pt.registerCommandAlias("cursorWordPartStartLeftSelect","cursorWordPartLeftSelect");var gk=class extends Vm{_move(t,e,i,o,r){return Nv.moveWordPartRight(t,e,i)}},qH=class extends gk{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordPartRight",precondition:void 0,kbOpts:{kbExpr:T.textInputFocus,primary:0,mac:{primary:785},weight:100}})}},GH=class extends gk{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordPartRightSelect",precondition:void 0,kbOpts:{kbExpr:T.textInputFocus,primary:0,mac:{primary:1809},weight:100}})}};ze(new VH);ze(new WH);ze(new jH);ze(new UH);ze(new qH);ze(new GH);Js();ue();it();Re();var QY=(()=>{class n extends U{static{this.ID="editor.contrib.readOnlyMessageController"}constructor(e){super(),this.editor=e,this._register(this.editor.onDidAttemptReadOnlyEdit(()=>this._onDidAttemptReadOnlyEdit()))}_onDidAttemptReadOnlyEdit(){let e=Do.get(this.editor);if(e&&this.editor.hasModel()){let i=this.editor.getOptions().get(93);i||(this.editor.isSimpleWidget?i=new mn(_("editor.simple.readonly","Cannot edit in read-only input")):i=new mn(_("editor.readonly","Cannot edit in read-only editor"))),e.showMessage(i,this.editor.getPosition())}}}return n})();Te(QY.ID,QY,2);var u9t=up(eX());Nh();_t();ue();it();tr();var tX=(()=>{class n extends U{static{this.ID="editor.contrib.iPadShowKeyboard"}constructor(e){super(),this.editor=e,this.widget=null,cv&&(this._register(e.onDidChangeConfiguration(()=>this.update())),this.update())}update(){let e=!this.editor.getOption(92);!this.widget&&e?this.widget=new qxe(this.editor):this.widget&&!e&&(this.widget.dispose(),this.widget=null)}dispose(){super.dispose(),this.widget&&(this.widget.dispose(),this.widget=null)}}return n})(),qxe=(()=>{class n extends U{static{this.ID="editor.contrib.ShowKeyboardWidget"}constructor(e){super(),this.editor=e,this._domNode=document.createElement("textarea"),this._domNode.className="iPadShowKeyboard",this._register(St(this._domNode,"touchstart",i=>{this.editor.focus()})),this._register(St(this._domNode,"focus",i=>{this.editor.focus()})),this.editor.addOverlayWidget(this)}dispose(){this.editor.removeOverlayWidget(this),super.dispose()}getId(){return n.ID}getDomNode(){return this._domNode}getPosition(){return{preference:1}}}return n})();Te(tX.ID,tX,3);var mYt=up(oX());Cc();Nh();Re();Cc();ue();var Xxe=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},rX=function(n,t){return function(e,i){t(e,i,n)}},Z0,_k=class{static{Z0=this}static{this.PREFIX="?"}constructor(e,i){this.quickInputService=e,this.keybindingService=i,this.registry=yo.as(Il.Quickaccess)}provide(e){let i=new G;return i.add(e.onDidAccept(()=>{let[o]=e.selectedItems;o&&this.quickInputService.quickAccess.show(o.prefix,{preserveValue:!0})})),i.add(e.onDidChangeValue(o=>{let r=this.registry.getQuickAccessProvider(o.substr(Z0.PREFIX.length));r&&r.prefix&&r.prefix!==Z0.PREFIX&&this.quickInputService.quickAccess.show(r.prefix,{preserveValue:!0})})),e.items=this.getQuickAccessProviders().filter(o=>o.prefix!==Z0.PREFIX),i}getQuickAccessProviders(){return this.registry.getQuickAccessProviders().sort((i,o)=>i.prefix.localeCompare(o.prefix)).flatMap(i=>this.createPicks(i))}createPicks(e){return e.helpEntries.map(i=>{let o=i.prefix||e.prefix,r=o||"\u2026";return{prefix:o,label:r,keybinding:i.commandId?this.keybindingService.lookupKeybinding(i.commandId):void 0,ariaLabel:_("helpPickAriaLabel","{0}, {1}",r,i.description),description:i.description}})}};_k=Z0=Xxe([rX(0,Go),rX(1,Vt)],_k);yo.as(Il.Quickaccess).registerQuickAccessProvider({ctor:_k,prefix:"",helpEntries:[{description:EU.helpQuickAccessActionLabel}]});ue();r4();ue();Na();UR();Oo();var d_=class{constructor(t){this.options=t,this.rangeHighlightDecorationId=void 0}provide(t,e,i){let o=new G;t.canAcceptInBackground=!!this.options?.canAcceptInBackground,t.matchOnLabel=t.matchOnDescription=t.matchOnDetail=t.sortByLabel=!1;let r=o.add(new un);return r.value=this.doProvide(t,e,i),o.add(this.onDidActiveTextEditorControlChange(()=>{r.value=void 0,r.value=this.doProvide(t,e)})),o}doProvide(t,e,i){let o=new G,r=this.activeTextEditorControl;if(r&&this.canProvideWithTextEditor(r)){let s={editor:r},a=qC(r);if(a){let l=r.saveViewState()??void 0;o.add(a.onDidChangeCursorPosition(()=>{l=r.saveViewState()??void 0})),s.restoreViewState=()=>{l&&r===this.activeTextEditorControl&&r.restoreViewState(l)},o.add(Mx(e.onCancellationRequested)(()=>s.restoreViewState?.()))}o.add(kt(()=>this.clearDecorations(r))),o.add(this.provideWithTextEditor(s,t,e,i))}else o.add(this.provideWithoutTextEditor(t,e));return o}canProvideWithTextEditor(t){return!0}gotoLocation({editor:t},e){t.setSelection(e.range,"code.jump"),t.revealRangeInCenter(e.range,0),e.preserveFocus||t.focus();let i=t.getModel();i&&"getLineContent"in i&&za(`${i.getLineContent(e.range.startLineNumber)}`)}getModel(t){return UC(t)?t.getModel()?.modified:t.getModel()}addDecorations(t,e){t.changeDecorations(i=>{let o=[];this.rangeHighlightDecorationId&&(o.push(this.rangeHighlightDecorationId.overviewRulerDecorationId),o.push(this.rangeHighlightDecorationId.rangeHighlightId),this.rangeHighlightDecorationId=void 0);let r=[{range:e,options:{description:"quick-access-range-highlight",className:"rangeHighlight",isWholeLine:!0}},{range:e,options:{description:"quick-access-range-highlight-overview",overviewRuler:{color:Bi(yC),position:Lr.Full}}}],[s,a]=i.deltaDecorations(o,r);this.rangeHighlightDecorationId={rangeHighlightId:s,overviewRulerDecorationId:a}})}clearDecorations(t){let e=this.rangeHighlightDecorationId;e&&(t.changeDecorations(i=>{i.deltaDecorations([e.overviewRulerDecorationId,e.rangeHighlightId],[])}),this.rangeHighlightDecorationId=void 0)}};Re();var sX=(()=>{class n extends d_{static{this.PREFIX=":"}constructor(){super({canAcceptInBackground:!0})}provideWithoutTextEditor(e){let i=_("cannotRunGotoLine","Open a text editor first to go to a line.");return e.items=[{label:i}],e.ariaLabel=i,U.None}provideWithTextEditor(e,i,o){let r=e.editor,s=new G;s.add(i.onDidAccept(c=>{let[d]=i.selectedItems;if(d){if(!this.isValidLineNumber(r,d.lineNumber))return;this.gotoLocation(e,{range:this.toRange(d.lineNumber,d.column),keyMods:i.keyMods,preserveFocus:c.inBackground}),c.inBackground||i.hide()}}));let a=()=>{let c=this.parsePosition(r,i.value.trim().substr(n.PREFIX.length)),d=this.getPickLabel(r,c.lineNumber,c.column);if(i.items=[{lineNumber:c.lineNumber,column:c.column,label:d}],i.ariaLabel=d,!this.isValidLineNumber(r,c.lineNumber)){this.clearDecorations(r);return}let u=this.toRange(c.lineNumber,c.column);r.revealRangeInCenter(u,0),this.addDecorations(r,u)};a(),s.add(i.onDidChangeValue(()=>a()));let l=qC(r);return l&&l.getOptions().get(68).renderType===2&&(l.updateOptions({lineNumbers:"on"}),s.add(kt(()=>l.updateOptions({lineNumbers:"relative"})))),s}toRange(e=1,i=1){return{startLineNumber:e,startColumn:i,endLineNumber:e,endColumn:i}}parsePosition(e,i){let o=i.split(/,|:|#/).map(s=>parseInt(s,10)).filter(s=>!isNaN(s)),r=this.lineCount(e)+1;return{lineNumber:o[0]>0?o[0]:r+o[0],column:o[1]}}getPickLabel(e,i,o){if(this.isValidLineNumber(e,i))return this.isValidColumn(e,i,o)?_("gotoLineColumnLabel","Go to line {0} and character {1}.",i,o):_("gotoLineLabel","Go to line {0}.",i);let r=e.getPosition()||{lineNumber:1,column:1},s=this.lineCount(e);return s>1?_("gotoLineLabelEmptyWithLimit","Current Line: {0}, Character: {1}. Type a line number between 1 and {2} to navigate to.",r.lineNumber,r.column,s):_("gotoLineLabelEmpty","Current Line: {0}, Character: {1}. Type a line number to navigate to.",r.lineNumber,r.column)}isValidLineNumber(e,i){return!i||typeof i!="number"?!1:i>0&&i<=this.lineCount(e)}isValidColumn(e,i,o){if(!o||typeof o!="number")return!1;let r=this.getModel(e);if(!r)return!1;let s={lineNumber:i,column:o};return r.validatePosition(s).equals(s)}lineCount(e){return this.getModel(e)?.getLineCount()??0}}return n})();Cc();Uo();Nh();oi();it();Kt();var Zxe=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},Qxe=function(n,t){return function(e,i){t(e,i,n)}},Q0=class extends sX{constructor(t){super(),this.editorService=t,this.onDidActiveTextEditorControlChange=xi.None}get activeTextEditorControl(){return this.editorService.getFocusedCodeEditor()??void 0}};Q0=Zxe([Qxe(0,Zt)],Q0);var aX=(()=>{class n extends Q{static{this.ID="editor.action.gotoLine"}constructor(){super({id:n.ID,label:BR.gotoLineActionLabel,alias:"Go to Line/Column...",precondition:void 0,kbOpts:{kbExpr:T.focus,primary:2085,mac:{primary:293},weight:100}})}run(e){e.get(Go).quickAccess.show(Q0.PREFIX)}}return n})();V(aX);yo.as(Il.Quickaccess).registerQuickAccessProvider({ctor:Q0,prefix:Q0.PREFIX,helpEntries:[{description:BR.gotoLineActionLabel,commandId:aX.ID}]});Ht();bi();Wn();nr();Rc();l4();tr();zi();var dX=[void 0,[]];function bk(n,t,e=0,i=0){let o=t;return o.values&&o.values.length>1?Jxe(n,o.values,e,i):uX(n,t,e,i)}function Jxe(n,t,e,i){let o=0,r=[];for(let s of t){let[a,l]=uX(n,s,e,i);if(typeof a!="number")return dX;o+=a,r.push(...l)}return[o,eCe(r)]}function uX(n,t,e,i){let o=aC(t.original,t.originalLowercase,e,n,n.toLowerCase(),i,{firstMatchCanBeWeak:!0,boostFullMatch:!0});return o?[o[0],Ph(o)]:dX}var xKt=Object.freeze({score:0});function eCe(n){let t=n.sort((o,r)=>o.start-r.start),e=[],i;for(let o of t)!i||!tCe(i,o)?(i=o,e.push(o)):(i.start=Math.min(i.start,o.start),i.end=Math.max(i.end,o.end));return e}function tCe(n,t){return!(n.end<t.start||t.end<n.start)}function lX(n){return n.startsWith('"')&&n.endsWith('"')}var hX=" ";function vk(n){typeof n!="string"&&(n="");let t=n.toLowerCase(),{pathNormalized:e,normalized:i,normalizedLowercase:o}=cX(n),r=e.indexOf(Tx)>=0,s=lX(n),a,l=n.split(hX);if(l.length>1)for(let c of l){let d=lX(c),{pathNormalized:u,normalized:h,normalizedLowercase:m}=cX(c);h&&(a||(a=[]),a.push({original:c,originalLowercase:c.toLowerCase(),pathNormalized:u,normalized:h,normalizedLowercase:m,expectContiguousMatch:d}))}return{original:n,originalLowercase:t,pathNormalized:e,normalized:i,normalizedLowercase:o,values:a,containsPathSeparator:r,expectContiguousMatch:s}}function cX(n){let t;Ed?t=n.replace(/\//g,Tx):t=n.replace(/\\/g,Tx);let e=v4(t).replace(/\s|"/g,"");return{pathNormalized:t,normalized:e,normalizedLowercase:e.toLowerCase()}}function XH(n){return Array.isArray(n)?vk(n.map(t=>t.original).join(hX)):vk(n.original)}ue();zi();qe();vn();zg();Re();Lt();wv();var iCe=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},mX=function(n,t){return function(e,i){t(e,i,n)}},yk,qu=class extends d_{static{yk=this}static{this.PREFIX="@"}static{this.SCOPE_PREFIX=":"}static{this.PREFIX_BY_CATEGORY=`${this.PREFIX}${this.SCOPE_PREFIX}`}constructor(t,e,i=Object.create(null)){super(i),this._languageFeaturesService=t,this._outlineModelService=e,this.options=i,this.options.canAcceptInBackground=!0}provideWithoutTextEditor(t){return this.provideLabelPick(t,_("cannotRunGotoSymbolWithoutEditor","To go to a symbol, first open a text editor with symbol information.")),U.None}provideWithTextEditor(t,e,i,o){let r=t.editor,s=this.getModel(r);return s?this._languageFeaturesService.documentSymbolProvider.has(s)?this.doProvideWithEditorSymbols(t,s,e,i,o):this.doProvideWithoutEditorSymbols(t,s,e,i):U.None}doProvideWithoutEditorSymbols(t,e,i,o){let r=new G;return this.provideLabelPick(i,_("cannotRunGotoSymbolWithoutSymbolProvider","The active text editor does not provide symbol information.")),M(this,null,function*(){!(yield this.waitForLanguageSymbolRegistry(e,r))||o.isCancellationRequested||r.add(this.doProvideWithEditorSymbols(t,e,i,o))}),r}provideLabelPick(t,e){t.items=[{label:e,index:0,kind:14}],t.ariaLabel=e}waitForLanguageSymbolRegistry(t,e){return M(this,null,function*(){if(this._languageFeaturesService.documentSymbolProvider.has(t))return!0;let i=new Ad,o=e.add(this._languageFeaturesService.documentSymbolProvider.onDidChange(()=>{this._languageFeaturesService.documentSymbolProvider.has(t)&&(o.dispose(),i.complete(!0))}));return e.add(kt(()=>i.complete(!1))),i.p})}doProvideWithEditorSymbols(t,e,i,o,r){let s=t.editor,a=new G;a.add(i.onDidAccept(u=>{let[h]=i.selectedItems;h&&h.range&&(this.gotoLocation(t,{range:h.range.selection,keyMods:i.keyMods,preserveFocus:u.inBackground}),r?.handleAccept?.(h),u.inBackground||i.hide())})),a.add(i.onDidTriggerItemButton(({item:u})=>{u&&u.range&&(this.gotoLocation(t,{range:u.range.selection,keyMods:i.keyMods,forceSideBySide:!0}),i.hide())}));let l=this.getDocumentSymbols(e,o),c,d=u=>M(this,null,function*(){c?.dispose(!0),i.busy=!1,c=new vi(o),i.busy=!0;try{let h=vk(i.value.substr(yk.PREFIX.length).trim()),m=yield this.doGetSymbolPicks(l,h,void 0,c.token,e);if(o.isCancellationRequested)return;if(m.length>0){if(i.items=m,u&&h.original.length===0){let f=r5(m,p=>!!(p.type!=="separator"&&p.range&&A.containsPosition(p.range.decoration,u)));f&&(i.activeItems=[f])}}else h.original.length>0?this.provideLabelPick(i,_("noMatchingSymbolResults","No matching editor symbols")):this.provideLabelPick(i,_("noSymbolResults","No editor symbols"))}finally{o.isCancellationRequested||(i.busy=!1)}});return a.add(i.onDidChangeValue(()=>d(void 0))),d(s.getSelection()?.getPosition()),a.add(i.onDidChangeActive(()=>{let[u]=i.activeItems;u&&u.range&&(s.revealRangeInCenter(u.range.selection,0),this.addDecorations(s,u.range.decoration))})),a}doGetSymbolPicks(t,e,i,o,r){return M(this,null,function*(){let s=yield t;if(o.isCancellationRequested)return[];let a=e.original.indexOf(yk.SCOPE_PREFIX)===0,l=a?1:0,c,d;e.values&&e.values.length>1?(c=XH(e.values[0]),d=XH(e.values.slice(1))):c=e;let u,h=this.options?.openSideBySideDirection?.();h&&(u=[{iconClass:h==="right"?Dt.asClassName(Ge.splitHorizontal):Dt.asClassName(Ge.splitVertical),tooltip:h==="right"?_("openToSide","Open to the Side"):_("openToBottom","Open to the Bottom")}]);let m=[];for(let v=0;v<s.length;v++){let b=s[v],C=_4(b.name),k=`$(${h4.toIcon(b.kind).id}) ${C}`,E=k.length-C.length,F=b.containerName;i?.extraContainerLabel&&(F?F=`${i.extraContainerLabel} \u2022 ${F}`:F=i.extraContainerLabel);let L,H,re,R;if(e.original.length>l){let I=!1;if(c!==e&&([L,H]=bk(k,Ae(j({},e),{values:void 0}),l,E),typeof L=="number"&&(I=!0)),typeof L!="number"&&([L,H]=bk(k,c,l,E),typeof L!="number"))continue;if(!I&&d){if(F&&d.original.length>0&&([re,R]=bk(F,d)),typeof re!="number")continue;typeof L=="number"&&(L+=re)}}let W=b.tags&&b.tags.indexOf(1)>=0;m.push({index:v,kind:b.kind,score:L,label:k,ariaLabel:u4(b.name,b.kind),description:F,highlights:W?void 0:{label:H,description:R},range:{selection:A.collapseToStart(b.selectionRange),decoration:b.range},uri:r.uri,symbolName:C,strikethrough:W,buttons:u})}let f=m.sort((v,b)=>a?this.compareByKindAndScore(v,b):this.compareByScore(v,b)),p=[];if(a){let k=function(){b&&typeof v=="number"&&C>0&&(b.label=Ep(QH[v]||ZH,C))};var g=k;let v,b,C=0;for(let E of f)v!==E.kind?(k(),v=E.kind,C=1,b={type:"separator"},p.push(b)):C++,p.push(E);k()}else f.length>0&&(p=[{label:_("symbols","symbols ({0})",m.length),type:"separator"},...f]);return p})}compareByScore(t,e){if(typeof t.score!="number"&&typeof e.score=="number")return 1;if(typeof t.score=="number"&&typeof e.score!="number")return-1;if(typeof t.score=="number"&&typeof e.score=="number"){if(t.score>e.score)return-1;if(t.score<e.score)return 1}return t.index<e.index?-1:t.index>e.index?1:0}compareByKindAndScore(t,e){let i=QH[t.kind]||ZH,o=QH[e.kind]||ZH,r=i.localeCompare(o);return r===0?this.compareByScore(t,e):r}getDocumentSymbols(t,e){return M(this,null,function*(){let i=yield this._outlineModelService.getOrCreate(t,e);return e.isCancellationRequested?[]:i.asListOfDocumentSymbols()})}};qu=yk=iCe([mX(0,ce),mX(1,rd)],qu);var ZH=_("property","properties ({0})"),QH={5:_("method","methods ({0})"),11:_("function","functions ({0})"),8:_("_constructor","constructors ({0})"),12:_("variable","variables ({0})"),4:_("class","classes ({0})"),22:_("struct","structs ({0})"),23:_("event","events ({0})"),24:_("operator","operators ({0})"),10:_("interface","interfaces ({0})"),2:_("namespace","namespaces ({0})"),3:_("package","packages ({0})"),25:_("typeParameter","type parameters ({0})"),1:_("modules","modules ({0})"),6:_("property","properties ({0})"),9:_("enum","enumerations ({0})"),21:_("enumMember","enumeration members ({0})"),14:_("string","strings ({0})"),0:_("file","files ({0})"),17:_("array","arrays ({0})"),15:_("number","numbers ({0})"),16:_("boolean","booleans ({0})"),18:_("object","objects ({0})"),19:_("key","keys ({0})"),7:_("field","fields ({0})"),13:_("constant","constants ({0})")};Cc();Uo();Nh();oi();it();Kt();zg();Lt();var nCe=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},JH=function(n,t){return function(e,i){t(e,i,n)}},e3=class extends qu{constructor(t,e,i){super(e,i),this.editorService=t,this.onDidActiveTextEditorControlChange=xi.None}get activeTextEditorControl(){return this.editorService.getFocusedCodeEditor()??void 0}};e3=nCe([JH(0,Zt),JH(1,ce),JH(2,rd)],e3);var pX=(()=>{class n extends Q{static{this.ID="editor.action.quickOutline"}constructor(){super({id:n.ID,label:lC.quickOutlineActionLabel,alias:"Go to Symbol...",precondition:T.hasDocumentSymbolProvider,kbOpts:{kbExpr:T.focus,primary:3117,weight:100},contextMenuOpts:{group:"navigation",order:3}})}run(e){e.get(Go).quickAccess.show(qu.PREFIX,{itemActivation:QU.NONE})}}return n})();V(pX);yo.as(Il.Quickaccess).registerQuickAccessProvider({ctor:e3,prefix:qu.PREFIX,helpEntries:[{description:lC.quickOutlineActionLabel,prefix:qu.PREFIX,commandId:pX.ID},{description:lC.quickOutlineByCategoryActionLabel,prefix:qu.PREFIX_BY_CATEGORY}]});Cc();Nh();Uo();kue();Bt();Rc();r4();ue();Ic();function oCe(n){let t=new Map;for(let e of n)t.set(e,(t.get(e)??0)+1);return t}var wk=class n{constructor(){this.chunkCount=0,this.chunkOccurrences=new Map,this.documents=new Map}calculateScores(t,e){let i=this.computeEmbedding(t),o=new Map,r=[];for(let[s,a]of this.documents){if(e.isCancellationRequested)return[];for(let l of a.chunks){let c=this.computeSimilarityScore(l,i,o);c>0&&r.push({key:s,score:c})}}return r}static termFrequencies(t){return oCe(n.splitTerms(t))}static*splitTerms(t){let e=i=>i.toLowerCase();for(let[i]of t.matchAll(new RegExp("\\b\\p{Letter}[\\p{Letter}\\d]{2,}\\b","gu"))){yield e(i);let o=i.replace(/([a-z])([A-Z])/g,"$1 $2").split(/\s+/g);if(o.length>1)for(let r of o)r.length>2&&new RegExp("\\p{Letter}{3,}","gu").test(r)&&(yield e(r))}}updateDocuments(t){for(let{key:e}of t)this.deleteDocument(e);for(let e of t){let i=[];for(let o of e.textChunks){let r=n.termFrequencies(o);for(let s of r.keys())this.chunkOccurrences.set(s,(this.chunkOccurrences.get(s)??0)+1);i.push({text:o,tf:r})}this.chunkCount+=i.length,this.documents.set(e.key,{chunks:i})}return this}deleteDocument(t){let e=this.documents.get(t);if(e){this.documents.delete(t),this.chunkCount-=e.chunks.length;for(let i of e.chunks)for(let o of i.tf.keys()){let r=this.chunkOccurrences.get(o);if(typeof r=="number"){let s=r-1;s<=0?this.chunkOccurrences.delete(o):this.chunkOccurrences.set(o,s)}}}}computeSimilarityScore(t,e,i){let o=0;for(let[r,s]of Object.entries(e)){let a=t.tf.get(r);if(!a)continue;let l=i.get(r);typeof l!="number"&&(l=this.computeIdf(r),i.set(r,l));let c=a*l;o+=c*s}return o}computeEmbedding(t){let e=n.termFrequencies(t);return this.computeTfidf(e)}computeIdf(t){let e=this.chunkOccurrences.get(t)??0;return e>0?Math.log((this.chunkCount+1)/e):0}computeTfidf(t){let e=Object.create(null);for(let[i,o]of t){let r=this.computeIdf(i);r>0&&(e[i]=o*r)}return e}};function fX(n){let t=n.slice(0);t.sort((i,o)=>o.score-i.score);let e=t[0]?.score??0;if(e>0)for(let i of t)i.score/=e;return t}Re();qi();bn();Ot();Tp();Ht();bi();ue();ro();var J0=function(n){return n[n.NO_ACTION=0]="NO_ACTION",n[n.CLOSE_PICKER=1]="CLOSE_PICKER",n[n.REFRESH_PICKER=2]="REFRESH_PICKER",n[n.REMOVE_ITEM=3]="REMOVE_ITEM",n}(J0||{});function t3(n){let t=n;return Array.isArray(t.items)}function gX(n){let t=n;return!!t.picks&&t.additionalPicks instanceof Promise}var xk=class extends U{constructor(t,e){super(),this.prefix=t,this.options=e}provide(t,e,i){let o=new G;t.canAcceptInBackground=!!this.options?.canAcceptInBackground,t.matchOnLabel=t.matchOnDescription=t.matchOnDetail=t.sortByLabel=!1;let r,s=o.add(new un),a=()=>M(this,null,function*(){let c=s.value=new G;r?.dispose(!0),t.busy=!1,r=new vi(e);let d=r.token,u=t.value.substring(this.prefix.length);this.options?.shouldSkipTrimPickFilter||(u=u.trim());let h=this._getPicks(u,c,d,i),m=(p,g)=>{let v,b;if(t3(p)?(v=p.items,b=p.active):v=p,v.length===0){if(g)return!1;(u.length>0||t.hideInput)&&this.options?.noResultsPick&&(Zj(this.options.noResultsPick)?v=[this.options.noResultsPick(u)]:v=[this.options.noResultsPick])}return t.items=v,b&&(t.activeItems=[b]),!0},f=p=>M(this,null,function*(){let g=!1,v=!1;yield Promise.all([M(this,null,function*(){typeof p.mergeDelay=="number"&&(yield Td(p.mergeDelay),d.isCancellationRequested)||v||(g=m(p.picks,!0))}),M(this,null,function*(){t.busy=!0;try{let b=yield p.additionalPicks;if(d.isCancellationRequested)return;let C,k;t3(p.picks)?(C=p.picks.items,k=p.picks.active):C=p.picks;let E,F;if(t3(b)?(E=b.items,F=b.active):E=b,E.length>0||!g){let L;if(!k&&!F){let H=t.activeItems[0];H&&C.indexOf(H)!==-1&&(L=H)}m({items:[...C,...E],active:k||F||L})}}finally{d.isCancellationRequested||(t.busy=!1),v=!0}})])});if(h!==null)if(gX(h))yield f(h);else if(!(h instanceof Promise))m(h);else{t.busy=!0;try{let p=yield h;if(d.isCancellationRequested)return;gX(p)?yield f(p):m(p)}finally{d.isCancellationRequested||(t.busy=!1)}}});o.add(t.onDidChangeValue(()=>a())),a(),o.add(t.onDidAccept(c=>{if(i?.handleAccept){c.inBackground||t.hide(),i.handleAccept?.(t.activeItems[0]);return}let[d]=t.selectedItems;typeof d?.accept=="function"&&(c.inBackground||t.hide(),d.accept(t.keyMods,c))}));let l=(c,d)=>M(this,null,function*(){if(typeof d.trigger!="function")return;let u=d.buttons?.indexOf(c)??-1;if(u>=0){let h=d.trigger(u,t.keyMods),m=typeof h=="number"?h:yield h;if(e.isCancellationRequested)return;switch(m){case J0.NO_ACTION:break;case J0.CLOSE_PICKER:t.hide();break;case J0.REFRESH_PICKER:a();break;case J0.REMOVE_ITEM:{let f=t.items.indexOf(d);if(f!==-1){let p=t.items.slice(),g=p.splice(f,1),v=t.activeItems.filter(C=>C!==g[0]),b=t.keepScrollPosition;t.keepScrollPosition=!0,t.items=p,v&&(t.activeItems=v),t.keepScrollPosition=b}break}}}});return o.add(t.onDidTriggerItemButton(({button:c,item:d})=>l(c,d))),o.add(t.onDidTriggerSeparatorButton(({button:c,separator:d})=>l(c,d))),o}};Oa();var _X=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},Gu=function(n,t){return function(e,i){t(e,i,n)}},jm,Cn,Ck=class extends xk{static{jm=this}static{this.PREFIX=">"}static{this.TFIDF_THRESHOLD=.5}static{this.TFIDF_MAX_RESULTS=5}static{this.WORD_FILTER=Z5(Q5,tU,J5)}constructor(t,e,i,o,r,s){super(jm.PREFIX,t),this.instantiationService=e,this.keybindingService=i,this.commandService=o,this.telemetryService=r,this.dialogService=s,this.commandsHistory=this._register(this.instantiationService.createInstance(i3)),this.options=t}_getPicks(t,e,i,o){return M(this,null,function*(){let r=yield this.getCommandPicks(i);if(i.isCancellationRequested)return[];let s=Mx(()=>{let m=new wk;m.updateDocuments(r.map(p=>({key:p.commandId,textChunks:[this.getTfIdfChunk(p)]})));let f=m.calculateScores(t,i);return fX(f).filter(p=>p.score>jm.TFIDF_THRESHOLD).slice(0,jm.TFIDF_MAX_RESULTS)}),a=[];for(let m of r){let f=jm.WORD_FILTER(t,m.label)??void 0,p=m.commandAlias?jm.WORD_FILTER(t,m.commandAlias)??void 0:void 0;if(f||p)m.highlights={label:f,detail:this.options.showAlias?p:void 0},a.push(m);else if(t===m.commandId)a.push(m);else if(t.length>=3){let g=s();if(i.isCancellationRequested)return[];let v=g.find(b=>b.key===m.commandId);v&&(m.tfIdfScore=v.score,a.push(m))}}let l=new Map;for(let m of a){let f=l.get(m.label);f?(m.description=m.commandId,f.description=f.commandId):l.set(m.label,m)}a.sort((m,f)=>{if(m.tfIdfScore&&f.tfIdfScore)return m.tfIdfScore===f.tfIdfScore?m.label.localeCompare(f.label):f.tfIdfScore-m.tfIdfScore;if(m.tfIdfScore)return 1;if(f.tfIdfScore)return-1;let p=this.commandsHistory.peek(m.commandId),g=this.commandsHistory.peek(f.commandId);if(p&&g)return p>g?-1:1;if(p)return-1;if(g)return 1;if(this.options.suggestedCommandIds){let v=this.options.suggestedCommandIds.has(m.commandId),b=this.options.suggestedCommandIds.has(f.commandId);if(v&&b)return 0;if(v)return-1;if(b)return 1}return m.label.localeCompare(f.label)});let c=[],d=!1,u=!0,h=!!this.options.suggestedCommandIds;for(let m=0;m<a.length;m++){let f=a[m];m===0&&this.commandsHistory.peek(f.commandId)&&(c.push({type:"separator",label:_("recentlyUsed","recently used")}),d=!0),u&&f.tfIdfScore!==void 0&&(c.push({type:"separator",label:_("suggested","similar commands")}),u=!1),h&&f.tfIdfScore===void 0&&!this.commandsHistory.peek(f.commandId)&&this.options.suggestedCommandIds?.has(f.commandId)&&(c.push({type:"separator",label:_("commonlyUsed","commonly used")}),d=!0,h=!1),d&&f.tfIdfScore===void 0&&!this.commandsHistory.peek(f.commandId)&&!this.options.suggestedCommandIds?.has(f.commandId)&&(c.push({type:"separator",label:_("morecCommands","other commands")}),d=!1),c.push(this.toCommandPick(f,o))}return this.hasAdditionalCommandPicks(t,i)?{picks:c,additionalPicks:M(this,null,function*(){let m=yield this.getAdditionalCommandPicks(r,a,t,i);if(i.isCancellationRequested)return[];let f=m.map(p=>this.toCommandPick(p,o));return u&&f[0]?.type!=="separator"&&f.unshift({type:"separator",label:_("suggested","similar commands")}),f})}:c})}toCommandPick(t,e){if(t.type==="separator")return t;let i=this.keybindingService.lookupKeybinding(t.commandId),o=i?_("commandPickAriaLabelWithKeybinding","{0}, {1}",t.label,i.getAriaLabel()):t.label;return Ae(j({},t),{ariaLabel:o,detail:this.options.showAlias&&t.commandAlias!==t.label?t.commandAlias:void 0,keybinding:i,accept:()=>M(this,null,function*(){this.commandsHistory.push(t.commandId),this.telemetryService.publicLog2("workbenchActionExecuted",{id:t.commandId,from:e?.from??"quick open"});try{t.args?.length?yield this.commandService.executeCommand(t.commandId,...t.args):yield this.commandService.executeCommand(t.commandId)}catch(r){gr(r)||this.dialogService.error(_("canNotRun","Command '{0}' resulted in an error",t.label),ag(r))}})})}getTfIdfChunk({label:t,commandAlias:e,commandDescription:i}){let o=t;return e&&e!==t&&(o+=` - ${e}`),i&&i.value!==t&&(o+=` - ${i.value===i.original?i.value:`${i.value} (${i.original})`}`),o}};Ck=jm=_X([Gu(1,Me),Gu(2,Vt),Gu(3,di),Gu(4,Un),Gu(5,Rp)],Ck);var i3=class extends U{static{Cn=this}static{this.DEFAULT_COMMANDS_HISTORY_LENGTH=50}static{this.PREF_KEY_CACHE="commandPalette.mru.cache"}static{this.PREF_KEY_COUNTER="commandPalette.mru.counter"}static{this.counter=1}static{this.hasChanges=!1}constructor(e,i,o){super(),this.storageService=e,this.configurationService=i,this.logService=o,this.configuredCommandsHistoryLength=0,this.updateConfiguration(),this.load(),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(e=>this.updateConfiguration(e))),this._register(this.storageService.onWillSaveState(e=>{e.reason===Wp.SHUTDOWN&&this.saveState()}))}updateConfiguration(e){e&&!e.affectsConfiguration("workbench.commandPalette.history")||(this.configuredCommandsHistoryLength=Cn.getConfiguredCommandHistoryLength(this.configurationService),Cn.cache&&Cn.cache.limit!==this.configuredCommandsHistoryLength&&(Cn.cache.limit=this.configuredCommandsHistoryLength,Cn.hasChanges=!0))}load(){let e=this.storageService.get(Cn.PREF_KEY_CACHE,0),i;if(e)try{i=JSON.parse(e)}catch(r){this.logService.error(`[CommandsHistory] invalid data: ${r}`)}let o=Cn.cache=new wl(this.configuredCommandsHistoryLength,1);if(i){let r;i.usesLRU?r=i.entries:r=i.entries.sort((s,a)=>s.value-a.value),r.forEach(s=>o.set(s.key,s.value))}Cn.counter=this.storageService.getNumber(Cn.PREF_KEY_COUNTER,0,Cn.counter)}push(e){Cn.cache&&(Cn.cache.set(e,Cn.counter++),Cn.hasChanges=!0)}peek(e){return Cn.cache?.peek(e)}saveState(){if(!Cn.cache||!Cn.hasChanges)return;let e={usesLRU:!0,entries:[]};Cn.cache.forEach((i,o)=>e.entries.push({key:o,value:i})),this.storageService.store(Cn.PREF_KEY_CACHE,JSON.stringify(e),0,0),this.storageService.store(Cn.PREF_KEY_COUNTER,Cn.counter,0,0),Cn.hasChanges=!1}static getConfiguredCommandHistoryLength(e){let o=e.getValue().workbench?.commandPalette?.history;return typeof o=="number"?o:Cn.DEFAULT_COMMANDS_HISTORY_LENGTH}};i3=Cn=_X([Gu(0,Fr),Gu(1,vt),Gu(2,ws)],i3);var Sk=class extends Ck{constructor(t,e,i,o,r,s){super(t,e,i,o,r,s)}getCodeEditorCommandPicks(){let t=this.activeTextEditorControl;if(!t)return[];let e=[];for(let i of t.getSupportedActions()){let o;i.metadata?.description&&(FU(i.metadata.description)?o=i.metadata.description:o={original:i.metadata.description,value:i.metadata.description}),e.push({commandId:i.id,commandAlias:i.alias,commandDescription:o,label:oU(i.label)||i.id})}return e}};Ot();qi();Oa();it();Kt();var rCe=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},u_=function(n,t){return function(e,i){t(e,i,n)}},ew=class extends Sk{get activeTextEditorControl(){return this.codeEditorService.getFocusedCodeEditor()??void 0}constructor(t,e,i,o,r,s){super({showAlias:!1},t,i,o,r,s),this.codeEditorService=e}getCommandPicks(){return M(this,null,function*(){return this.getCodeEditorCommandPicks()})}hasAdditionalCommandPicks(){return!1}getAdditionalCommandPicks(){return M(this,null,function*(){return[]})}};ew=rCe([u_(0,Me),u_(1,Zt),u_(2,Vt),u_(3,di),u_(4,Un),u_(5,Rp)],ew);var vX=(()=>{class n extends Q{static{this.ID="editor.action.quickCommand"}constructor(){super({id:n.ID,label:HR.quickCommandActionLabel,alias:"Command Palette",precondition:void 0,kbOpts:{kbExpr:T.focus,primary:59,weight:100},contextMenuOpts:{group:"z_commands",order:1}})}run(e){e.get(Go).quickAccess.show(ew.PREFIX)}}return n})();V(vX);yo.as(Il.Quickaccess).registerQuickAccessProvider({ctor:ew,prefix:ew.PREFIX,helpEntries:[{description:HR.quickCommandHelp,commandId:vX.ID}]});it();Uo();bn();pt();Ot();var sCe=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},h_=function(n,t){return function(e,i){t(e,i,n)}},n3=class extends id{constructor(t,e,i,o,r,s,a){super(!0,t,e,i,o,r,s,a)}};n3=sCe([h_(1,Ze),h_(2,Zt),h_(3,Hi),h_(4,Me),h_(5,Fr),h_(6,vt)],n3);Te(id.ID,n3,4);it();p8();Nh();Ux();var o3=class extends Q{constructor(){super({id:"editor.action.toggleHighContrast",label:MU.toggleHighContrast,alias:"Toggle High Contrast Theme",precondition:void 0}),this._originalThemeName=null}run(t,e){let i=t.get(IC),o=i.getColorTheme();Mc(o.type)?(i.setTheme(this._originalThemeName||(kR(o.type)?u8:d8)),this._originalThemeName=null):(i.setTheme(kR(o.type)?h8:m8),this._originalThemeName=o.themeName)}};V(o3);function aCe(n,t){if(n&1){let e=Ft();w(0,"button",4),de("click",function(){let o=et(e).$implicit,r=X();return tt(r.onSubmit(o.value))}),P(1),x()}if(n&2){let e=t.$implicit;D(),ni(" ",e.label," ")}}var m_=class n{dialogRef=y(au);data=y(Af);title=this.data.title;onSubmit(t){this.dialogRef.close(t)}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=Z({type:n,selectors:[["app-list-picker-modal"]],decls:8,vars:3,consts:[["mat-dialog-title",""],["mat-list-item","",3,"click",4,"ngFor","ngForOf"],["align","end"],["mat-button","","cdkFocusInitial","",3,"mat-dialog-close"],["mat-list-item","",3,"click"]],template:function(e,i){e&1&&(w(0,"h2",0),P(1),x(),w(2,"mat-dialog-content")(3,"mat-action-list"),ee(4,aCe,2,1,"button",1),x()(),w(5,"mat-dialog-actions",2)(6,"button",3),P(7,"Zru\u0161i\u0165"),x()()),e&2&&(D(),xe(i.title),D(3),z("ngForOf",i.data.options),D(2),z("mat-dialog-close",void 0))},dependencies:[jb,Wb,Tn,Vb,Ub,Nl,ef,c$],encapsulation:2})};var Dk=class n{markingTypeToDecorationOptions={PLAG:{inlineClassName:"highlight-plag",hoverMessage:{value:"Spolo\u010Dn\xFD fragment"},zIndex:1},CODE:{inlineClassName:"highlight-code",hoverMessage:{value:"Fragment k\xF3du"},zIndex:5},TEMPLATE:{inlineClassName:"highlight-template",hoverMessage:{value:"Text zadania"},zIndex:2},MISSPELLED:{inlineClassName:"highlight-misspelled",zIndex:3},SPOOF:{inlineClassName:"highlight-spoof",hoverMessage:{value:"Boli pou\u017Eit\xE9 in\xE9 ako latinsk\xE9 znaky (Unicode Look-Alike)"},zIndex:3}};createDecorationsFromMarking(t,e,i){let o=[];for(let r of e){let s=this.getMarkingOffset(r,i),a=this.getLineColumnFromOffset(t.getValue(),s.start),l=this.getLineColumnFromOffset(t.getValue(),s.end);o.push({range:new N8(a.line,a.column,l.line,l.column),options:this.getOptionsForSpecialMarking(r)})}return o}getOptionsForSpecialMarking(t){return t.type==="MISSPELLED"?Ae(j({},this.markingTypeToDecorationOptions[t.type]),{hoverMessage:{value:`Pravdepodobn\xFD preklep [${t.comments||""}]`}}):t.type==="PLAG"?Ae(j({},this.markingTypeToDecorationOptions[t.type]),{hoverMessage:{value:`Spolo\u010Dn\xFD fragment [${t.first.start}:${t.first.end}:${t.second.start}:${t.second.end}]`}}):this.markingTypeToDecorationOptions[t.type]}getMarkingOffset(t,e){return e==0?t.first:t.second}getLineColumnFromOffset(t,e){let i=t.split(`
`),o=e;for(let r=0;r<i.length;r++){if(o<=i[r].length)return{line:r+1,column:o+1};o-=i[r].length+1}return{line:i.length,column:i[i.length-1].length+1}}navigateToOffset(t,e,i){if(t==null)return;let o=this.getMarkingOffset(e,i),r=this.getLineColumnFromOffset(t.getModel().getValue(),o.start);console.log("navigation to line "+r.line),t.setScrollTop(r.line),t.revealLineInCenter(r.line),t.setPosition({lineNumber:r.line,column:r.column})}hashCode(t){let o=0;for(let r=0;r<t.length;r++)o=(o*22570092147931+t.charCodeAt(r))%728437125089;return o%728437125089}static \u0275fac=function(e){return new(e||n)};static \u0275prov=se({token:n,factory:n.\u0275fac,providedIn:"root"})};function dCe(n,t){n&1&&Y(0,"mat-icon",5)}var p_=class n{constructor(t){this.monacoDecorationService=t;cn(()=>{if(!this.editor()||!this.submission)return;let e=this.createDecorations();dj(100).pipe(ul(),En(()=>Ve(e))).subscribe(i=>{let o=this.editor();if(!o)return;let r=o.getModel();if(!r)return;let s=r.deltaDecorations([],i);(this.plagCases||[]).concat(this.submission.markings).forEach((l,c)=>this.decorationIdToMarking.set(s[c],l))})})}editorOptions={theme:"vs-white",language:"plaintext",readOnly:!0,wordWrap:"on",wrappingIndent:"same",wordWrapBreakBeforeCharacters:"{([",wordWrapBreakAfterCharacters:" 	})"};editor=Ue(null);submission;markingSide;plagCases=null;scrollEventEmitter=new Le;navigatePlagCaseEventEmitter=new Le;forceUnsubscribeFromScrollEventEmitter=new Le;decorationIdToMarking=new Map;isScrollSyncEnabled=Ue(!0);isMarkingNavigationEnabled=Ue(!1);dialog=y(Gc);isModalOpened=!1;unsubscribeFromScrolling(){this.isScrollSyncEnabled.set(!1)}subscribeOnScrolling(t){this.isScrollSyncEnabled.set(!0),t.pipe(gx(()=>this.isScrollSyncEnabled())).subscribe(e=>{this.editor().setScrollTop(e.scrollEvent.scrollTop),this.editor().setScrollLeft(e.scrollEvent.scrollLeft)})}subscribeOnNavigationEvent(t){this.isMarkingNavigationEnabled.set(!0),t.subscribe(e=>{this.isMarkingNavigationEnabled()&&e&&e.type==="PLAG"&&(this.unsubscribeFromScrolling(),this.forceUnsubscribeFromScrollEventEmitter.emit(),this.monacoDecorationService.navigateToOffset(this.editor(),e,this.markingSide))})}toggleMarkingNavigation(t){this.isMarkingNavigationEnabled.set(t)}createDecorations(){let t=[];return this.plagCases&&t.push(...this.monacoDecorationService.createDecorationsFromMarking(this.editor(),this.plagCases,this.markingSide)),t.push(...this.monacoDecorationService.createDecorationsFromMarking(this.editor(),this.submission.markings,0)),t}initEditor(t){this.editor()||this.editor.set(t),t.onDidScrollChange(e=>this.scrollEventEmitter.emit({scrollEvent:e,editor:t})),t.onMouseUp(e=>{if(e.event.stopPropagation(),!!this.isMarkingNavigationEnabled()&&e.target.position){let i=t.getModel();if(!i)return;let o=e.target.position,r=i.getDecorationsInRange({startLineNumber:o.lineNumber,startColumn:o.column,endLineNumber:o.lineNumber,endColumn:o.column+1});if(r.length>0){let s=r.filter(a=>a.options.inlineClassName==="highlight-plag");!this.isModalOpened&&s&&s.length>0&&this.openNavigationDialog(s)}}})}openNavigationDialog(t){console.log(t),this.isModalOpened=!0,this.dialog.open(m_,{data:{title:"Zvo\u013Ete mo\u017Enos\u0165 navigacie ",options:t.map(i=>({label:i.options.hoverMessage?.value.toString(),value:i.id}))}}).afterClosed().pipe(qs(i=>(console.log(i),i!==void 0?Ve(i):Ca(()=>new Error("Cancel plag case navigation"))))).subscribe({next:i=>{this.unsubscribeFromScrolling(),this.forceUnsubscribeFromScrollEventEmitter.emit(),this.navigatePlagCaseEventEmitter.emit(this.decorationIdToMarking.get(i)),this.isModalOpened=!1},error:i=>{this.isModalOpened=!1,console.error(i)}})}ngOnDestroy(){let t=this.editor();t&&t.dispose()}static \u0275fac=function(e){return new(e||n)(J(Dk))};static \u0275cmp=Z({type:n,selectors:[["app-text-editor"]],inputs:{submission:"submission",markingSide:"markingSide",plagCases:"plagCases"},outputs:{scrollEventEmitter:"scrollEventEmitter",navigatePlagCaseEventEmitter:"navigatePlagCaseEventEmitter",forceUnsubscribeFromScrollEventEmitter:"forceUnsubscribeFromScrollEventEmitter"},decls:9,vars:5,consts:[[1,"editor-wrapper"],[1,"editor-header"],[1,"header-text-frame"],["svgIcon","file-document-check-outline","matTooltip","Tento dokument bol z\xEDskan\xFD z indexu dokumentov.",4,"ngIf"],[1,"editor",3,"onInit","options","ngModel"],["svgIcon","file-document-check-outline","matTooltip","Tento dokument bol z\xEDskan\xFD z indexu dokumentov."]],template:function(e,i){e&1&&(w(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3"),P(4),x(),w(5,"p"),P(6),x()(),ee(7,dCe,1,0,"mat-icon",3),x(),w(8,"ngx-monaco-editor",4),de("onInit",function(r){return i.initEditor(r)}),x()()),e&2&&(D(4),xe(i.submission.fileData.submitter),D(2),xe(i.submission.fileData.filename),D(),z("ngIf",i.submission.indexed),D(),z("options",i.editorOptions)("ngModel",i.submission.content))},dependencies:[r9,Zn,os,Rs,An,uo,$a],styles:[".editor[_ngcontent-%COMP%]{min-height:50vh;height:100%;width:100%;min-width:50%}.editor-wrapper[_ngcontent-%COMP%]{display:flex;box-sizing:border-box;flex-direction:column;width:100%;height:100%;gap:.5rem;padding:.5rem;border-radius:var(--mat-sys-corner-small);background-color:var(--mat-sys-surface-container-high)}.editor-header[_ngcontent-%COMP%]{display:flex;box-sizing:border-box;flex-direction:row;justify-content:space-between;align-items:center;width:100%;max-height:fit-content;padding-right:8px}.header-text-frame[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;max-height:fit-content}.header-text-frame[_ngcontent-%COMP%] > h3[_ngcontent-%COMP%]{font:var(--mat-sys-title-small);color:var(--mat-sys-on-surface);margin:0}.header-text-frame[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{font:var(--mat-sys-body-medium);color:var(--mat-sys-on-surface-variant);margin:0}"]})};var uCe=["*"];var hCe=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],mCe=["[mat-card-avatar], [matCardAvatar]",`mat-card-title, mat-card-subtitle,
      [mat-card-title], [mat-card-subtitle],
      [matCardTitle], [matCardSubtitle]`,"*"],pCe=new ae("MAT_CARD_CONFIG"),ua=(()=>{class n{appearance;constructor(){let e=y(pCe,{optional:!0});this.appearance=e?.appearance||"raised"}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Z({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(i,o){i&2&&Se("mat-mdc-card-outlined",o.appearance==="outlined")("mdc-card--outlined",o.appearance==="outlined")},inputs:{appearance:"appearance"},exportAs:["matCard"],ngContentSelectors:uCe,decls:1,vars:0,template:function(i,o){i&1&&(wt(),Fe(0))},styles:[`.mat-mdc-card{display:flex;flex-direction:column;box-sizing:border-box;position:relative;border-style:solid;border-width:0;background-color:var(--mdc-elevated-card-container-color, var(--mat-sys-surface-container-low));border-color:var(--mdc-elevated-card-container-color, var(--mat-sys-surface-container-low));border-radius:var(--mdc-elevated-card-container-shape, var(--mat-sys-corner-medium));box-shadow:var(--mdc-elevated-card-container-elevation, var(--mat-sys-level1))}.mat-mdc-card::after{position:absolute;top:0;left:0;width:100%;height:100%;border:solid 1px rgba(0,0,0,0);content:"";display:block;pointer-events:none;box-sizing:border-box;border-radius:var(--mdc-elevated-card-container-shape, var(--mat-sys-corner-medium))}.mat-mdc-card-outlined{background-color:var(--mdc-outlined-card-container-color, var(--mat-sys-surface));border-radius:var(--mdc-outlined-card-container-shape, var(--mat-sys-corner-medium));border-width:var(--mdc-outlined-card-outline-width, 1px);border-color:var(--mdc-outlined-card-outline-color, var(--mat-sys-outline-variant));box-shadow:var(--mdc-outlined-card-container-elevation, var(--mat-sys-level0))}.mat-mdc-card-outlined::after{border:none}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mat-mdc-card-actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font, var(--mat-sys-title-large-font));line-height:var(--mat-card-title-text-line-height, var(--mat-sys-title-large-line-height));font-size:var(--mat-card-title-text-size, var(--mat-sys-title-large-size));letter-spacing:var(--mat-card-title-text-tracking, var(--mat-sys-title-large-tracking));font-weight:var(--mat-card-title-text-weight, var(--mat-sys-title-large-weight))}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color, var(--mat-sys-on-surface));font-family:var(--mat-card-subtitle-text-font, var(--mat-sys-title-medium-font));line-height:var(--mat-card-subtitle-text-line-height, var(--mat-sys-title-medium-line-height));font-size:var(--mat-card-subtitle-text-size, var(--mat-sys-title-medium-size));letter-spacing:var(--mat-card-subtitle-text-tracking, var(--mat-sys-title-medium-tracking));font-weight:var(--mat-card-subtitle-text-weight, var(--mat-sys-title-medium-weight))}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}
`],encapsulation:2,changeDetection:0})}return n})(),$u=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275dir=me({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"]})}return n})();var nc=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275dir=me({type:n,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"]})}return n})(),Ik=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275dir=me({type:n,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-mdc-card-subtitle"]})}return n})();var Ku=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Z({type:n,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],ngContentSelectors:mCe,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function(i,o){i&1&&(wt(hCe),Fe(0),w(1,"div",0),Fe(2,1),x(),Fe(3,2))},encapsulation:2,changeDetection:0})}return n})(),bX=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275dir=me({type:n,selectors:[["mat-card-footer"]],hostAttrs:[1,"mat-mdc-card-footer"]})}return n})();var oc=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=yt({type:n});static \u0275inj=bt({imports:[oa,oa]})}return n})();var Mk=class{tracker;columnIndex=0;rowIndex=0;get rowCount(){return this.rowIndex+1}get rowspan(){let t=Math.max(...this.tracker);return t>1?this.rowCount+t-1:this.rowCount}positions;update(t,e){this.columnIndex=0,this.rowIndex=0,this.tracker=new Array(t),this.tracker.fill(0,0,this.tracker.length),this.positions=e.map(i=>this._trackTile(i))}_trackTile(t){let e=this._findMatchingGap(t.colspan);return this._markTilePosition(e,t),this.columnIndex=e+t.colspan,new r3(this.rowIndex,e)}_findMatchingGap(t){t>this.tracker.length;let e=-1,i=-1;do{if(this.columnIndex+t>this.tracker.length){this._nextRow(),e=this.tracker.indexOf(0,this.columnIndex),i=this._findGapEndIndex(e);continue}if(e=this.tracker.indexOf(0,this.columnIndex),e==-1){this._nextRow(),e=this.tracker.indexOf(0,this.columnIndex),i=this._findGapEndIndex(e);continue}i=this._findGapEndIndex(e),this.columnIndex=e+1}while(i-e<t||i==0);return Math.max(e,0)}_nextRow(){this.columnIndex=0,this.rowIndex++;for(let t=0;t<this.tracker.length;t++)this.tracker[t]=Math.max(0,this.tracker[t]-1)}_findGapEndIndex(t){for(let e=t+1;e<this.tracker.length;e++)if(this.tracker[e]!=0)return e;return this.tracker.length}_markTilePosition(t,e){for(let i=0;i<e.colspan;i++)this.tracker[t+i]=e.rowspan}},r3=class{row;col;constructor(t,e){this.row=t,this.col=e}};var s3=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=yt({type:n});static \u0275inj=bt({imports:[oa,oa]})}return n})();var yX=["*"];var fCe=`.mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-grid-tile-header,.mat-grid-tile .mat-grid-tile-footer{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-header>*,.mat-grid-tile .mat-grid-tile-footer>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-tile-header.mat-2-line,.mat-grid-tile .mat-grid-tile-footer.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}.mat-grid-tile-header{font-size:var(--mat-grid-list-tile-header-primary-text-size, var(--mat-sys-body-large))}.mat-grid-tile-header .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-grid-tile-header .mat-line:nth-child(n+2){font-size:var(--mat-grid-list-tile-header-secondary-text-size, var(--mat-sys-body-medium))}.mat-grid-tile-footer{font-size:var(--mat-grid-list-tile-footer-primary-text-size, var(--mat-sys-body-large))}.mat-grid-tile-footer .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-grid-tile-footer .mat-line:nth-child(n+2){font-size:var(--mat-grid-list-tile-footer-secondary-text-size, var(--mat-sys-body-medium))}.mat-grid-tile-content{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}
`,wX=new ae("MAT_GRID_LIST"),u3=(()=>{class n{_element=y(Oe);_gridList=y(wX,{optional:!0});_rowspan=1;_colspan=1;constructor(){}get rowspan(){return this._rowspan}set rowspan(e){this._rowspan=Math.round(Co(e))}get colspan(){return this._colspan}set colspan(e){this._colspan=Math.round(Co(e))}_setStyle(e,i){this._element.nativeElement.style[e]=i}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Z({type:n,selectors:[["mat-grid-tile"]],hostAttrs:[1,"mat-grid-tile"],hostVars:2,hostBindings:function(i,o){i&2&&ke("rowspan",o.rowspan)("colspan",o.colspan)},inputs:{rowspan:"rowspan",colspan:"colspan"},exportAs:["matGridTile"],ngContentSelectors:yX,decls:2,vars:0,consts:[[1,"mat-grid-tile-content"]],template:function(i,o){i&1&&(wt(),w(0,"div",0),Fe(1),x())},styles:[`.mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-grid-tile-header,.mat-grid-tile .mat-grid-tile-footer{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-header>*,.mat-grid-tile .mat-grid-tile-footer>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-tile-header.mat-2-line,.mat-grid-tile .mat-grid-tile-footer.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}.mat-grid-tile-header{font-size:var(--mat-grid-list-tile-header-primary-text-size, var(--mat-sys-body-large))}.mat-grid-tile-header .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-grid-tile-header .mat-line:nth-child(n+2){font-size:var(--mat-grid-list-tile-header-secondary-text-size, var(--mat-sys-body-medium))}.mat-grid-tile-footer{font-size:var(--mat-grid-list-tile-footer-primary-text-size, var(--mat-sys-body-large))}.mat-grid-tile-footer .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-grid-tile-footer .mat-line:nth-child(n+2){font-size:var(--mat-grid-list-tile-footer-secondary-text-size, var(--mat-sys-body-medium))}.mat-grid-tile-content{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}
`],encapsulation:2,changeDetection:0})}return n})();var gCe=/^-?\d+((\.\d+)?[A-Za-z%$]?)+$/,tw=class{_gutterSize;_rows=0;_rowspan=0;_cols;_direction;init(t,e,i,o){this._gutterSize=xX(t),this._rows=e.rowCount,this._rowspan=e.rowspan,this._cols=i,this._direction=o}getBaseTileSize(t,e){return`(${t}% - (${this._gutterSize} * ${e}))`}getTilePosition(t,e){return e===0?"0":Um(`(${t} + ${this._gutterSize}) * ${e}`)}getTileSize(t,e){return`(${t} * ${e}) + (${e-1} * ${this._gutterSize})`}setStyle(t,e,i){let o=100/this._cols,r=(this._cols-1)/this._cols;this.setColStyles(t,i,o,r),this.setRowStyles(t,e,o,r)}setColStyles(t,e,i,o){let r=this.getBaseTileSize(i,o),s=this._direction==="rtl"?"right":"left";t._setStyle(s,this.getTilePosition(r,e)),t._setStyle("width",Um(this.getTileSize(r,t.colspan)))}getGutterSpan(){return`${this._gutterSize} * (${this._rowspan} - 1)`}getTileSpan(t){return`${this._rowspan} * ${this.getTileSize(t,1)}`}getComputedHeight(){return null}},a3=class extends tw{fixedRowHeight;constructor(t){super(),this.fixedRowHeight=t}init(t,e,i,o){super.init(t,e,i,o),this.fixedRowHeight=xX(this.fixedRowHeight),gCe.test(this.fixedRowHeight)}setRowStyles(t,e){t._setStyle("top",this.getTilePosition(this.fixedRowHeight,e)),t._setStyle("height",Um(this.getTileSize(this.fixedRowHeight,t.rowspan)))}getComputedHeight(){return["height",Um(`${this.getTileSpan(this.fixedRowHeight)} + ${this.getGutterSpan()}`)]}reset(t){t._setListStyle(["height",null]),t._tiles&&t._tiles.forEach(e=>{e._setStyle("top",null),e._setStyle("height",null)})}},l3=class extends tw{rowHeightRatio;baseTileHeight;constructor(t){super(),this._parseRatio(t)}setRowStyles(t,e,i,o){let r=i/this.rowHeightRatio;this.baseTileHeight=this.getBaseTileSize(r,o),t._setStyle("marginTop",this.getTilePosition(this.baseTileHeight,e)),t._setStyle("paddingTop",Um(this.getTileSize(this.baseTileHeight,t.rowspan)))}getComputedHeight(){return["paddingBottom",Um(`${this.getTileSpan(this.baseTileHeight)} + ${this.getGutterSpan()}`)]}reset(t){t._setListStyle(["paddingBottom",null]),t._tiles.forEach(e=>{e._setStyle("marginTop",null),e._setStyle("paddingTop",null)})}_parseRatio(t){let e=t.split(":");e.length,this.rowHeightRatio=parseFloat(e[0])/parseFloat(e[1])}},c3=class extends tw{setRowStyles(t,e){let i=100/this._rowspan,o=(this._rows-1)/this._rows,r=this.getBaseTileSize(i,o);t._setStyle("top",this.getTilePosition(r,e)),t._setStyle("height",Um(this.getTileSize(r,t.rowspan)))}reset(t){t._tiles&&t._tiles.forEach(e=>{e._setStyle("top",null),e._setStyle("height",null)})}};function Um(n){return`calc(${n})`}function xX(n){return n.match(/([A-Za-z%]+)$/)?n:`${n}px`}var _Ce="fit",CX=(()=>{class n{_element=y(Oe);_dir=y(en,{optional:!0});_cols;_tileCoordinator;_rowHeight;_gutter="1px";_tileStyler;_tiles;constructor(){}get cols(){return this._cols}set cols(e){this._cols=Math.max(1,Math.round(Co(e)))}get gutterSize(){return this._gutter}set gutterSize(e){this._gutter=`${e??""}`}get rowHeight(){return this._rowHeight}set rowHeight(e){let i=`${e??""}`;i!==this._rowHeight&&(this._rowHeight=i,this._setTileStyler(this._rowHeight))}ngOnInit(){this._checkCols(),this._checkRowHeight()}ngAfterContentChecked(){this._layoutTiles()}_checkCols(){this.cols}_checkRowHeight(){this._rowHeight||this._setTileStyler("1:1")}_setTileStyler(e){this._tileStyler&&this._tileStyler.reset(this),e===_Ce?this._tileStyler=new c3:e&&e.indexOf(":")>-1?this._tileStyler=new l3(e):this._tileStyler=new a3(e)}_layoutTiles(){this._tileCoordinator||(this._tileCoordinator=new Mk);let e=this._tileCoordinator,i=this._tiles.filter(r=>!r._gridList||r._gridList===this),o=this._dir?this._dir.value:"ltr";this._tileCoordinator.update(this.cols,i),this._tileStyler.init(this.gutterSize,e,this.cols,o),i.forEach((r,s)=>{let a=e.positions[s];this._tileStyler.setStyle(r,a.row,a.col)}),this._setListStyle(this._tileStyler.getComputedHeight())}_setListStyle(e){e&&(this._element.nativeElement.style[e[0]]=e[1])}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Z({type:n,selectors:[["mat-grid-list"]],contentQueries:function(i,o,r){if(i&1&&xt(r,u3,5),i&2){let s;fe(s=ge())&&(o._tiles=s)}},hostAttrs:[1,"mat-grid-list"],hostVars:1,hostBindings:function(i,o){i&2&&ke("cols",o.cols)},inputs:{cols:"cols",gutterSize:"gutterSize",rowHeight:"rowHeight"},exportAs:["matGridList"],features:[At([{provide:wX,useExisting:n}])],ngContentSelectors:yX,decls:2,vars:0,template:function(i,o){i&1&&(wt(),w(0,"div"),Fe(1),x())},styles:[fCe],encapsulation:2,changeDetection:0})}return n})(),SX=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=yt({type:n});static \u0275inj=bt({imports:[s3,oa,s3,oa]})}return n})();var Wr=class{static mapUnixTimeToDate(t){t.toString().length===10&&(t*=1e3);let e=new Date(t),i=e.getFullYear(),o=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0"),s=e.getHours(),a=String(e.getMinutes()).padStart(2,"0");return`${i}-${o}-${r} ${s}:${a}`}static mapToSecondsToHhMmSs(t){if(isNaN(t)||t==0)return"00:00:00";let e=Math.floor(t/60),i=t%60;return`${e.toString().padStart(2,"0")}:${i.toString().padStart(2,"0")}:00`}};var rc=class n{transform(t){return Wr.mapToSecondsToHhMmSs(t)}static \u0275fac=function(e){return new(e||n)};static \u0275pipe=gc({name:"minutesTime",type:n,pure:!0})};var Yu=class n{transform(t){if(!t)return"Invalid Date";let e=Number(t);return isNaN(e)?"Invalid date":Wr.mapUnixTimeToDate(e)}static \u0275fac=function(e){return new(e||n)};static \u0275pipe=gc({name:"unixDate",type:n,pure:!0})};var kk=class n{constructor(t){this.analysisContextService=t}static DATE_DEVIATION_SECONDS=30*24*60*60*1e3;metadataStatistics=Ri(()=>{let t=this.analysisContextService.getReport()()?.submissions;return t!==void 0?this.calculateAverages([...t.values()].filter(e=>!e.indexed)):null});calculateAverages(t){let e=this.calculateAvg(t.map(a=>a.fileData.metadata.totalEditTime)),i=t.filter(a=>a.fileData.metadata.creationDate!==void 0).map(a=>a.fileData.metadata.creationDate),o=t.filter(a=>a.fileData.metadata.modificationDate!==void 0).map(a=>a.fileData.metadata.modificationDate),r=this.calculateAvgFromModeYearDate(i),s=this.calculateAvgFromModeYearDate(o);return{avgEditTime:e,avgCreationDate:r,avgModificationDate:s}}calculateAvg(t){return t.length>0?t.reduce((e,i)=>e+i)/t.length:0}calculateAvgFromModeYearDate(t){let e=this.findYearMode(t);return this.calculateAvg(t.filter(i=>new Date(i).getFullYear()==e))}findYearMode(t){let e={};t.forEach(r=>{let s=new Date(r).getFullYear();e[s]=(e[s]||0)+1});let i=null,o=0;for(let r in e)e[r]>o&&(i=parseInt(r),o=e[r]);return i}isBelowAvgEditTime(t){let e=this.metadataStatistics();return e===null?!1:t.fileData.metadata.totalEditTime<e.avgEditTime}isDateDeviating(t,e){let i=this.metadataStatistics();if(i===null)return!1;let o=t.fileData.metadata[e];if(!o)return!0;let r=e=="modificationDate"?i.avgModificationDate:i.avgCreationDate,s=n.DATE_DEVIATION_SECONDS;return Math.abs(o-r)>s}static \u0275fac=function(e){return new(e||n)(Je(jt))};static \u0275prov=se({token:n,factory:n.\u0275fac,providedIn:"root"})};var Xu=class n{constructor(t){this.metadataStatisticsService=t}submission;dateField=null;checkTimeDeviation=!1;metaWarning=!1;ngOnChanges(t){t.submission&&(this.checkTimeDeviation?this.metaWarning=this.metadataStatisticsService.isBelowAvgEditTime(this.submission):this.dateField!==null&&(this.metaWarning=this.metadataStatisticsService.isDateDeviating(this.submission,this.dateField)))}static \u0275fac=function(e){return new(e||n)(J(kk))};static \u0275dir=me({type:n,selectors:[["","appMetadataDeviationHighlight",""]],hostVars:2,hostBindings:function(e,i){e&2&&Se("meta-warning",i.metaWarning)},inputs:{submission:"submission",dateField:"dateField",checkTimeDeviation:"checkTimeDeviation"},features:[fi]})};var Tk=class n{first;second;metadataField;metaEquality=!1;ngOnInit(){let t=this.getFieldValue(this.first.fileData.metadata,this.metadataField),e=this.getFieldValue(this.second.fileData.metadata,this.metadataField);if(t&&e){this.metaEquality=t===e;return}this.metaEquality=!1}getFieldValue(t,e){return t[e]}static \u0275fac=function(e){return new(e||n)};static \u0275dir=me({type:n,selectors:[["","appMetadataEqualityHighlight",""]],hostVars:2,hostBindings:function(e,i){e&2&&Se("meta-equality",i.metaEquality)},inputs:{first:"first",second:"second",metadataField:"metadataField"}})};function yCe(n,t){if(n&1&&(w(0,"p"),P(1),x()),n&2){let e=X();D(),lv(" Zdrojom plagiatu v tejto dvojici ",e.isSourceIndexed()?"":"pravdepodobne"," bol ",e.getSource().fileData.submitter," ")}}function wCe(n,t){n&1&&(w(0,"p"),P(1,"Neviem pos\xFAdi\u0165 o zdroji plagi\xE1tu"),x())}var Ak=class n{first;second;submissionPair;isSourceIndexed(){return this.getSource().indexed}getSource(){return this.submissionPair.plagSource==="FIRST"?this.first:this.second}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=Z({type:n,selectors:[["app-metadata-diff-card"]],inputs:{first:"first",second:"second",submissionPair:"submissionPair"},decls:94,vars:53,consts:[[1,"grid-card"],["cols","3","rowHeight","32px","gutterSize","16px"],[1,"header"],[1,"label"],["appMetadataEqualityHighlight","","metadataField","submitter",3,"first","second"],["appTextOverflowScroll","",1,"scrollable-text"],["appMetadataEqualityHighlight","","metadataField","modifier",3,"first","second"],["appMetadataEqualityHighlight","","metadataField","creator",3,"first","second"],["appMetadataDeviationHighlight","","dateField","creationDate",3,"submission"],["appMetadataDeviationHighlight","","dateField","modificationDate",3,"submission"],["appMetadataDeviationHighlight","",3,"submission","checkTimeDeviation"]],template:function(e,i){e&1&&(w(0,"mat-card",0)(1,"mat-card-content")(2,"mat-grid-list",1),Y(3,"mat-grid-tile"),w(4,"mat-grid-tile",2)(5,"h3"),P(6,"Dokument A"),x()(),w(7,"mat-grid-tile",2)(8,"h3"),P(9,"Dokument B"),x()(),w(10,"mat-grid-tile",3)(11,"h3"),P(12,"Odosielate\u013E"),x()(),w(13,"mat-grid-tile",4)(14,"p",5),P(15),x()(),w(16,"mat-grid-tile",4)(17,"p",5),P(18),x()(),w(19,"mat-grid-tile",3)(20,"h3"),P(21,"Naposledy upravil"),x()(),w(22,"mat-grid-tile",6)(23,"p",5),P(24),x()(),w(25,"mat-grid-tile",6)(26,"p",5),P(27),x()(),w(28,"mat-grid-tile",3)(29,"h3"),P(30,"Autor"),x()(),w(31,"mat-grid-tile",7)(32,"p",5),P(33),x()(),w(34,"mat-grid-tile",7)(35,"p",5),P(36),x()(),w(37,"mat-grid-tile",3)(38,"h3"),P(39,"D\xE1tum vytvorenia"),x()(),w(40,"mat-grid-tile",8)(41,"p"),P(42),Ni(43,"unixDate"),x()(),w(44,"mat-grid-tile",8)(45,"p"),P(46),Ni(47,"unixDate"),x()(),w(48,"mat-grid-tile",3)(49,"h3"),P(50,"D\xE1tum \xFApravy"),x()(),w(51,"mat-grid-tile",9)(52,"p"),P(53),Ni(54,"unixDate"),x()(),w(55,"mat-grid-tile",9)(56,"p"),P(57),Ni(58,"unixDate"),x()(),w(59,"mat-grid-tile",3)(60,"h3"),P(61,"Naposledy vytla\u010Den\xE9"),x()(),w(62,"mat-grid-tile")(63,"p"),P(64),Ni(65,"unixDate"),x()(),w(66,"mat-grid-tile")(67,"p"),P(68),Ni(69,"unixDate"),x()(),w(70,"mat-grid-tile",3)(71,"h3"),P(72,"Celkov\xFD \u010Das \xFAprav"),x()(),w(73,"mat-grid-tile",10)(74,"p"),P(75),Ni(76,"minutesTime"),x()(),w(77,"mat-grid-tile",10)(78,"p"),P(79),Ni(80,"minutesTime"),x()(),w(81,"mat-grid-tile",3)(82,"h3"),P(83,"Po\u010Det rev\xEDzi\xED"),x()(),w(84,"mat-grid-tile")(85,"p"),P(86),x()(),w(87,"mat-grid-tile")(88,"p"),P(89),x()()()(),Y(90,"mat-divider"),w(91,"mat-card-footer"),ee(92,yCe,2,2,"p")(93,wCe,2,0,"p"),x()()),e&2&&(D(13),z("first",i.first)("second",i.second),D(2),xe(i.first.fileData.submitter||"Nezn\xE1my"),D(),z("first",i.first)("second",i.second),D(2),xe(i.second.fileData.submitter||"Nezn\xE1my"),D(4),z("first",i.first)("second",i.second),D(2),xe(i.first.fileData.metadata.modifier||"Nezn\xE1my"),D(),z("first",i.first)("second",i.second),D(2),xe(i.second.fileData.metadata.modifier||"Nezn\xE1my"),D(4),z("first",i.first)("second",i.second),D(2),xe(i.first.fileData.metadata.creator||"Nezn\xE1my"),D(),z("first",i.first)("second",i.second),D(2),xe(i.second.fileData.metadata.creator||"Nezn\xE1my"),D(4),z("submission",i.first),D(2),xe(i.first.fileData.metadata.creationDate?Fi(43,37,i.first.fileData.metadata.creationDate):"Nezn\xE1me"),D(2),z("submission",i.second),D(2),xe(i.second.fileData.metadata.creationDate?Fi(47,39,i.second.fileData.metadata.creationDate):"Nezn\xE1me"),D(5),z("submission",i.first),D(2),xe(i.first.fileData.metadata.modificationDate?Fi(54,41,i.first.fileData.metadata.modificationDate):"Nezn\xE1me"),D(2),z("submission",i.second),D(2),xe(i.second.fileData.metadata.modificationDate?Fi(58,43,i.second.fileData.metadata.modificationDate):"Nezn\xE1me"),D(7),xe(i.first.fileData.metadata.lastPrinted?Fi(65,45,i.first.fileData.metadata.lastPrinted):"Nezn\xE1me"),D(4),xe(i.second.fileData.metadata.lastPrinted?Fi(69,47,i.second.fileData.metadata.lastPrinted):"Nezn\xE1me"),D(5),z("submission",i.first)("checkTimeDeviation",!0),D(2),xe(Fi(76,49,i.first.fileData.metadata.totalEditTime)),D(2),z("submission",i.second)("checkTimeDeviation",!0),D(2),xe(Fi(80,51,i.second.fileData.metadata.totalEditTime)),D(7),xe(i.first.fileData.metadata.revisionsNumber||"Nezn\xE1me"),D(3),xe(i.second.fileData.metadata.revisionsNumber||"Nezn\xE1me"),D(3),Xe(i.submissionPair.plagSource!=="UNCERTAIN"?92:93))},dependencies:[oc,ua,nc,bX,SX,CX,u3,Yu,rc,Xu,Tk,lu,ss],styles:[`.medium-card{max-width:350px;min-width:200px}.large-card{max-width:400px;min-width:200px}.extra-large-card{max-width:450px;min-width:200px}.base-card{margin:auto;padding:16px}p{font:var(--mat-sys-body-medium);color:var(--mat-sys-on-surface-variant);margin:0}h3{font:var(--mat-sys-title-small);color:var(--mat-sys-on-surface);margin:0}h1{font:var(--mat-sys-title-large);color:var(--mat-sys-on-surface);margin:0}.text-frame{width:100%;overflow-y:hidden;display:flex;flex-direction:column;justify-content:center;align-content:start}.text-center{align-items:center}.text-frame h1{font:var(--mat-sys-title-large);color:var(--mat-sys-on-surface);margin:0}.text-frame p{font:var(--mat-sys-body-medium);color:var(--mat-sys-on-surface-variant);margin:0}.header-with-actions{display:flex;width:100%;flex-direction:row;align-items:center;justify-content:space-between}.header-with-actions button{justify-self:end}.header-with-actions h1{flex-grow:1;text-align:center;margin:0}.header-with-actions button{margin-left:auto}.info-list{display:flex;flex-direction:column;gap:24px}.info-list>mat-list-item{padding-left:0;padding-right:0;gap:16px}.card-group{display:flex;max-width:700px;min-width:300px;flex-direction:column;padding:16px;gap:24px;border-radius:var(--mat-sys-corner-extra-large);background-color:var(--mat-sys-surface-container-high)}.card-flex-box{display:flex;max-width:700px;min-width:300px;flex-direction:row;justify-content:center;flex-wrap:wrap;gap:16px}.horizontal-card-group-wrapper{display:flex;flex-direction:column;width:fit-content;height:100%;padding:16px;gap:8px;border-radius:var(--mat-sys-corner-extra-large);background-color:var(--mat-sys-surface-container-high)}.horizontal-card-group{display:flex;flex-direction:row;gap:32px}@media (max-width: 1250px){.horizontal-card-group{flex-wrap:wrap}}
`,`.grid-card{width:750px;height:fit-content;padding:16px;gap:16px}mat-grid-tile{display:flex;align-items:center;justify-content:center}
`],encapsulation:2})};var Rk=class n{value="";name="";static \u0275fac=function(e){return new(e||n)};static \u0275cmp=Z({type:n,selectors:[["app-stat-card"]],inputs:{value:"value",name:"name"},decls:9,vars:2,consts:[[1,"medium-card","base-card"]],template:function(e,i){e&1&&(w(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title")(3,"h1"),P(4),x()(),w(5,"mat-card-subtitle")(6,"p"),P(7),x()()(),Y(8,"mat-card-content"),x()),e&2&&(D(4),xe(i.value),D(3),xe(i.name))},dependencies:[oc,ua,nc,Ku,Ik,$u],styles:[".medium-card[_ngcontent-%COMP%]{max-width:350px;min-width:200px}.large-card[_ngcontent-%COMP%]{max-width:400px;min-width:200px}.extra-large-card[_ngcontent-%COMP%]{max-width:450px;min-width:200px}.base-card[_ngcontent-%COMP%]{margin:auto;padding:16px}p[_ngcontent-%COMP%]{font:var(--mat-sys-body-medium);color:var(--mat-sys-on-surface-variant);margin:0}h3[_ngcontent-%COMP%]{font:var(--mat-sys-title-small);color:var(--mat-sys-on-surface);margin:0}h1[_ngcontent-%COMP%]{font:var(--mat-sys-title-large);color:var(--mat-sys-on-surface);margin:0}.text-frame[_ngcontent-%COMP%]{width:100%;overflow-y:hidden;display:flex;flex-direction:column;justify-content:center;align-content:start}.text-center[_ngcontent-%COMP%]{align-items:center}.text-frame[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font:var(--mat-sys-title-large);color:var(--mat-sys-on-surface);margin:0}.text-frame[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font:var(--mat-sys-body-medium);color:var(--mat-sys-on-surface-variant);margin:0}.header-with-actions[_ngcontent-%COMP%]{display:flex;width:100%;flex-direction:row;align-items:center;justify-content:space-between}.header-with-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{justify-self:end}.header-with-actions[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{flex-grow:1;text-align:center;margin:0}.header-with-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:auto}.info-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:24px}.info-list[_ngcontent-%COMP%] > mat-list-item[_ngcontent-%COMP%]{padding-left:0;padding-right:0;gap:16px}.card-group[_ngcontent-%COMP%]{display:flex;max-width:700px;min-width:300px;flex-direction:column;padding:16px;gap:24px;border-radius:var(--mat-sys-corner-extra-large);background-color:var(--mat-sys-surface-container-high)}.card-flex-box[_ngcontent-%COMP%]{display:flex;max-width:700px;min-width:300px;flex-direction:row;justify-content:center;flex-wrap:wrap;gap:16px}.horizontal-card-group-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:fit-content;height:100%;padding:16px;gap:8px;border-radius:var(--mat-sys-corner-extra-large);background-color:var(--mat-sys-surface-container-high)}.horizontal-card-group[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:32px}@media (max-width: 1250px){.horizontal-card-group[_ngcontent-%COMP%]{flex-wrap:wrap}}",".stat-card[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center;width:fit-content;padding:16px;gap:24px;background-color:var(--mat-sys-surface-container-highest);border-radius:var(--mat-sys-corner-large)}.content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}.stat-value[_ngcontent-%COMP%]{font:var(--mat-sys-title-medium);color:var(--mat-sys-on-surface);margin:0}.stat-name[_ngcontent-%COMP%]{font:var(--mat-sys-label-small);color:var(--mat-sys-on-surface-variant);margin:0}"]})};var MX=["*",[["mat-chip-avatar"],["","matChipAvatar",""]],[["mat-chip-trailing-icon"],["","matChipRemove",""],["","matChipTrailingIcon",""]]],kX=["*","mat-chip-avatar, [matChipAvatar]","mat-chip-trailing-icon,[matChipRemove],[matChipTrailingIcon]"];function xCe(n,t){n&1&&(w(0,"span",3),Fe(1,1),x())}function CCe(n,t){n&1&&(w(0,"span",6),Fe(1,2),x())}function SCe(n,t){n&1&&(w(0,"span",3),Fe(1,1),w(2,"span",8),gi(),w(3,"svg",9),Y(4,"path",10),x()()())}function DCe(n,t){n&1&&(w(0,"span",6),Fe(1,2),x())}var ICe=`.mdc-evolution-chip,.mdc-evolution-chip__cell,.mdc-evolution-chip__action{display:inline-flex;align-items:center}.mdc-evolution-chip{position:relative;max-width:100%}.mdc-evolution-chip__cell,.mdc-evolution-chip__action{height:100%}.mdc-evolution-chip__cell--primary{flex-basis:100%;overflow-x:hidden}.mdc-evolution-chip__cell--trailing{flex:1 0 auto}.mdc-evolution-chip__action{align-items:center;background:none;border:none;box-sizing:content-box;cursor:pointer;display:inline-flex;justify-content:center;outline:none;padding:0;text-decoration:none;color:inherit}.mdc-evolution-chip__action--presentational{cursor:auto}.mdc-evolution-chip--disabled,.mdc-evolution-chip__action:disabled{pointer-events:none}@media(forced-colors: active){.mdc-evolution-chip--disabled,.mdc-evolution-chip__action:disabled{forced-color-adjust:none}}.mdc-evolution-chip__action--primary{font:inherit;letter-spacing:inherit;white-space:inherit;overflow-x:hidden}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary::before{border-width:var(--mdc-chip-outline-width, 1px);border-radius:var(--mdc-chip-container-shape-radius, 8px);box-sizing:border-box;content:"";height:100%;left:0;position:absolute;pointer-events:none;top:0;width:100%;z-index:1;border-style:solid}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__action--primary::before{border-color:var(--mdc-chip-outline-color, var(--mat-sys-outline))}.mdc-evolution-chip__action--primary:not(.mdc-evolution-chip__action--presentational):not(.mdc-ripple-upgraded):focus::before{border-color:var(--mdc-chip-focus-outline-color, var(--mat-sys-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__action--primary::before{border-color:var(--mdc-chip-disabled-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__action--primary::before{border-width:var(--mdc-chip-flat-selected-outline-width, 0)}.mat-mdc-basic-chip .mdc-evolution-chip__action--primary{font:inherit}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}.mdc-evolution-chip__action--trailing{position:relative;overflow:visible}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__action--trailing{color:var(--mdc-chip-with-trailing-icon-trailing-icon-color, var(--mat-sys-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__action--trailing{color:var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-color, var(--mat-sys-on-surface))}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}.mdc-evolution-chip__text-label{-webkit-user-select:none;user-select:none;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.mat-mdc-standard-chip .mdc-evolution-chip__text-label{font-family:var(--mdc-chip-label-text-font, var(--mat-sys-label-large-font));line-height:var(--mdc-chip-label-text-line-height, var(--mat-sys-label-large-line-height));font-size:var(--mdc-chip-label-text-size, var(--mat-sys-label-large-size));font-weight:var(--mdc-chip-label-text-weight, var(--mat-sys-label-large-weight));letter-spacing:var(--mdc-chip-label-text-tracking, var(--mat-sys-label-large-tracking))}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mdc-chip-label-text-color, var(--mat-sys-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--selected:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mdc-chip-selected-label-text-color, var(--mat-sys-on-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label,.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label{color:var(--mdc-chip-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-evolution-chip__graphic{align-items:center;display:inline-flex;justify-content:center;overflow:hidden;pointer-events:none;position:relative;flex:1 0 auto}.mat-mdc-standard-chip .mdc-evolution-chip__graphic{width:var(--mdc-chip-with-avatar-avatar-size, 24px);height:var(--mdc-chip-with-avatar-avatar-size, 24px);font-size:var(--mdc-chip-with-avatar-avatar-size, 24px)}.mdc-evolution-chip--selecting .mdc-evolution-chip__graphic{transition:width 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selectable:not(.mdc-evolution-chip--selected):not(.mdc-evolution-chip--with-primary-icon) .mdc-evolution-chip__graphic{width:0}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:8px;padding-right:4px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:8px;padding-right:4px}.mdc-evolution-chip__checkmark{position:absolute;opacity:0;top:50%;left:50%;height:20px;width:20px}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-selected-icon-color, var(--mat-sys-on-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-disabled-icon-color, var(--mat-sys-on-surface))}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark{transition:transform 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-75%, -50%)}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{transform:translate(-50%, -50%);opacity:1}.mdc-evolution-chip__checkmark-svg{display:block}.mdc-evolution-chip__checkmark-path{stroke-width:2px;stroke-dasharray:29.7833385;stroke-dashoffset:29.7833385;stroke:currentColor}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark-path{transition:stroke-dashoffset 150ms 45ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}@media(forced-colors: active){.mdc-evolution-chip__checkmark-path{stroke:CanvasText !important}}.mat-mdc-standard-chip .mdc-evolution-chip__icon--trailing{height:18px;width:18px;font-size:18px}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing.mat-mdc-chip-remove{opacity:calc(var(--mat-chip-trailing-action-opacity, 1)*var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity, 0.38))}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing.mat-mdc-chip-remove:focus{opacity:calc(var(--mat-chip-trailing-action-focus-opacity, 1)*var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity, 0.38))}.mat-mdc-standard-chip{border-radius:var(--mdc-chip-container-shape-radius, 8px);height:var(--mdc-chip-container-height, 32px)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled){background-color:var(--mdc-chip-elevated-container-color, transparent)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-elevated-disabled-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected:not(.mdc-evolution-chip--disabled){background-color:var(--mdc-chip-elevated-selected-container-color, var(--mat-sys-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-flat-disabled-selected-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}@media(forced-colors: active){.mat-mdc-standard-chip{outline:solid 1px}}.mat-mdc-standard-chip .mdc-evolution-chip__icon--primary{border-radius:var(--mdc-chip-with-avatar-avatar-shape-radius, 24px);width:var(--mdc-chip-with-icon-icon-size, 18px);height:var(--mdc-chip-with-icon-icon-size, 18px);font-size:var(--mdc-chip-with-icon-icon-size, 18px)}.mdc-evolution-chip--selected .mdc-evolution-chip__icon--primary{opacity:0}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-icon-color, var(--mat-sys-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-disabled-icon-color, var(--mat-sys-on-surface))}.mat-mdc-chip-highlighted{--mdc-chip-with-icon-icon-color:var(--mdc-chip-with-icon-selected-icon-color, var(--mat-sys-on-secondary-container));--mdc-chip-elevated-container-color:var(--mdc-chip-elevated-selected-container-color, var(--mat-sys-secondary-container));--mdc-chip-label-text-color:var(--mdc-chip-selected-label-text-color, var(--mat-sys-on-secondary-container));--mdc-chip-outline-width:var(--mdc-chip-flat-selected-outline-width, 0)}.mat-mdc-chip-focus-overlay{background:var(--mdc-chip-focus-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-chip-selected .mat-mdc-chip-focus-overlay,.mat-mdc-chip-highlighted .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-selected-focus-state-layer-color, var(--mat-sys-on-secondary-container))}.mat-mdc-chip:hover .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-hover-state-layer-color, var(--mat-sys-on-surface-variant));opacity:var(--mdc-chip-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-chip-focus-overlay .mat-mdc-chip-selected:hover,.mat-mdc-chip-highlighted:hover .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-selected-hover-state-layer-color, var(--mat-sys-on-secondary-container));opacity:var(--mdc-chip-selected-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-chip.cdk-focused .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-focus-state-layer-color, var(--mat-sys-on-surface-variant));opacity:var(--mdc-chip-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-chip-selected.cdk-focused .mat-mdc-chip-focus-overlay,.mat-mdc-chip-highlighted.cdk-focused .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-selected-focus-state-layer-color, var(--mat-sys-on-secondary-container));opacity:var(--mdc-chip-selected-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mdc-evolution-chip--disabled:not(.mdc-evolution-chip--selected) .mat-mdc-chip-avatar{opacity:var(--mdc-chip-with-avatar-disabled-avatar-opacity, 0.38)}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{opacity:var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity, 0.38)}.mdc-evolution-chip--disabled.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{opacity:var(--mdc-chip-with-icon-disabled-icon-opacity, 0.38)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{opacity:var(--mat-chip-disabled-container-opacity, 1)}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__icon--trailing,.mat-mdc-standard-chip.mat-mdc-chip-highlighted .mdc-evolution-chip__icon--trailing{color:var(--mat-chip-selected-trailing-icon-color, var(--mat-sys-on-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing,.mat-mdc-standard-chip.mat-mdc-chip-highlighted.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{color:var(--mat-chip-selected-disabled-trailing-icon-color, var(--mat-sys-on-surface))}.mat-mdc-chip-remove{opacity:var(--mat-chip-trailing-action-opacity, 1)}.mat-mdc-chip-remove:focus{opacity:var(--mat-chip-trailing-action-focus-opacity, 1)}.mat-mdc-chip-remove::after{background-color:var(--mat-chip-trailing-action-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-chip-remove:hover::after{opacity:var(--mat-chip-trailing-action-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-chip-remove:focus::after{opacity:var(--mat-chip-trailing-action-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-chip-selected .mat-mdc-chip-remove::after,.mat-mdc-chip-highlighted .mat-mdc-chip-remove::after{background-color:var(--mat-chip-selected-trailing-action-state-layer-color, var(--mat-sys-on-secondary-container))}.mat-mdc-standard-chip{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-standard-chip .mdc-evolution-chip__cell--primary,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip .mat-mdc-chip-action-label{overflow:visible}.mat-mdc-standard-chip .mat-mdc-chip-graphic,.mat-mdc-standard-chip .mat-mdc-chip-trailing-icon{box-sizing:content-box}.mat-mdc-standard-chip._mat-animation-noopable,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__graphic,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark-path{transition-duration:1ms;animation-duration:1ms}.mat-mdc-chip-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;opacity:0;border-radius:inherit;transition:opacity 150ms linear}._mat-animation-noopable .mat-mdc-chip-focus-overlay{transition:none}.mat-mdc-basic-chip .mat-mdc-chip-focus-overlay{display:none}.mat-mdc-chip .mat-ripple.mat-mdc-chip-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-chip-avatar{text-align:center;line-height:1;color:var(--mdc-chip-with-icon-icon-color, currentColor)}.mat-mdc-chip{position:relative;z-index:0}.mat-mdc-chip-action-label{text-align:left;z-index:1}[dir=rtl] .mat-mdc-chip-action-label{text-align:right}.mat-mdc-chip.mdc-evolution-chip--with-trailing-action .mat-mdc-chip-action-label{position:relative}.mat-mdc-chip-action-label .mat-mdc-chip-primary-focus-indicator{position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:none}.mat-mdc-chip-action-label .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-chip-remove::before{margin:calc(var(--mat-focus-indicator-border-width, 3px)*-1);left:8px;right:8px}.mat-mdc-chip-remove::after{content:"";display:block;opacity:0;position:absolute;top:-3px;bottom:-3px;left:5px;right:5px;border-radius:50%;box-sizing:border-box;padding:12px;margin:-12px;background-clip:content-box}.mat-mdc-chip-remove .mat-icon{width:18px;height:18px;font-size:18px;box-sizing:content-box}.mat-chip-edit-input{cursor:text;display:inline-block;color:inherit;outline:0}@media(forced-colors: active){.mat-mdc-chip-selected:not(.mat-mdc-chip-multiple){outline-width:3px}}.mat-mdc-chip-action:focus .mat-focus-indicator::before{content:""}
`;var TX=["*"],ECe=`.mat-mdc-chip-set{display:flex}.mat-mdc-chip-set:focus{outline:none}.mat-mdc-chip-set .mdc-evolution-chip-set__chips{min-width:100%;margin-left:-8px;margin-right:0}.mat-mdc-chip-set .mdc-evolution-chip{margin:4px 0 4px 8px}[dir=rtl] .mat-mdc-chip-set .mdc-evolution-chip-set__chips{margin-left:0;margin-right:-8px}[dir=rtl] .mat-mdc-chip-set .mdc-evolution-chip{margin-left:0;margin-right:8px}.mdc-evolution-chip-set__chips{display:flex;flex-flow:wrap;min-width:0}.mat-mdc-chip-set-stacked{flex-direction:column;align-items:flex-start}.mat-mdc-chip-set-stacked .mat-mdc-chip{width:100%}.mat-mdc-chip-set-stacked .mdc-evolution-chip__graphic{flex-grow:0}.mat-mdc-chip-set-stacked .mdc-evolution-chip__action--primary{flex-basis:100%;justify-content:start}input.mat-mdc-chip-input{flex:1 0 150px;margin-left:8px}[dir=rtl] input.mat-mdc-chip-input{margin-left:0;margin-right:8px}
`,AX=new ae("mat-chips-default-options",{providedIn:"root",factory:()=>({separatorKeyCodes:[13]})}),DX=new ae("MatChipAvatar"),IX=new ae("MatChipTrailingIcon"),EX=new ae("MatChipRemove"),p3=new ae("MatChip"),h3=(()=>{class n{_elementRef=y(Oe);_parentChip=y(p3);isInteractive=!0;_isPrimary=!0;get disabled(){return this._disabled||this._parentChip?.disabled||!1}set disabled(e){this._disabled=e}_disabled=!1;tabIndex=-1;_allowFocusWhenDisabled=!1;_getDisabledAttribute(){return this.disabled&&!this._allowFocusWhenDisabled?"":null}_getTabindex(){return this.disabled&&!this._allowFocusWhenDisabled||!this.isInteractive?null:this.tabIndex.toString()}constructor(){y(xn).load(Ts),this._elementRef.nativeElement.nodeName==="BUTTON"&&this._elementRef.nativeElement.setAttribute("type","button")}focus(){this._elementRef.nativeElement.focus()}_handleClick(e){!this.disabled&&this.isInteractive&&this._isPrimary&&(e.preventDefault(),this._parentChip._handlePrimaryActionInteraction())}_handleKeydown(e){(e.keyCode===13||e.keyCode===32)&&!this.disabled&&this.isInteractive&&this._isPrimary&&!this._parentChip._isEditing&&(e.preventDefault(),this._parentChip._handlePrimaryActionInteraction())}static \u0275fac=function(i){return new(i||n)};static \u0275dir=me({type:n,selectors:[["","matChipAction",""]],hostAttrs:[1,"mdc-evolution-chip__action","mat-mdc-chip-action"],hostVars:9,hostBindings:function(i,o){i&1&&de("click",function(s){return o._handleClick(s)})("keydown",function(s){return o._handleKeydown(s)}),i&2&&(ke("tabindex",o._getTabindex())("disabled",o._getDisabledAttribute())("aria-disabled",o.disabled),Se("mdc-evolution-chip__action--primary",o._isPrimary)("mdc-evolution-chip__action--presentational",!o.isInteractive)("mdc-evolution-chip__action--trailing",!o._isPrimary))},inputs:{isInteractive:"isInteractive",disabled:[2,"disabled","disabled",Ke],tabIndex:[2,"tabIndex","tabIndex",e=>e==null?-1:Yi(e)],_allowFocusWhenDisabled:"_allowFocusWhenDisabled"}})}return n})();var iw=(()=>{class n{_changeDetectorRef=y(Gt);_elementRef=y(Oe);_ngZone=y(Ye);_focusMonitor=y(ks);_globalRippleOptions=y(Ol,{optional:!0});_document=y(dt);_onFocus=new De;_onBlur=new De;_isBasicChip;role=null;_hasFocusInternal=!1;_pendingFocus;_actionChanges;_animationsDisabled;_allLeadingIcons;_allTrailingIcons;_allRemoveIcons;_hasFocus(){return this._hasFocusInternal}id=y(Bn).getId("mat-mdc-chip-");ariaLabel=null;ariaDescription=null;_ariaDescriptionId=`${this.id}-aria-description`;_chipListDisabled=!1;_textElement;get value(){return this._value!==void 0?this._value:this._textElement.textContent.trim()}set value(e){this._value=e}_value;color;removable=!0;highlighted=!1;disableRipple=!1;get disabled(){return this._disabled||this._chipListDisabled}set disabled(e){this._disabled=e}_disabled=!1;removed=new Le;destroyed=new Le;basicChipAttrName="mat-basic-chip";leadingIcon;trailingIcon;removeIcon;primaryAction;_rippleLoader=y(tD);_injector=y(_i);constructor(){let e=y(xn);e.load(Ts),e.load(Jd);let i=y(Ei,{optional:!0});this._animationsDisabled=i==="NoopAnimations",this._monitorFocus(),this._rippleLoader?.configureRipple(this._elementRef.nativeElement,{className:"mat-mdc-chip-ripple",disabled:this._isRippleDisabled()})}ngOnInit(){let e=this._elementRef.nativeElement;this._isBasicChip=e.hasAttribute(this.basicChipAttrName)||e.tagName.toLowerCase()===this.basicChipAttrName}ngAfterViewInit(){this._textElement=this._elementRef.nativeElement.querySelector(".mat-mdc-chip-action-label"),this._pendingFocus&&(this._pendingFocus=!1,this.focus())}ngAfterContentInit(){this._actionChanges=nn(this._allLeadingIcons.changes,this._allTrailingIcons.changes,this._allRemoveIcons.changes).subscribe(()=>this._changeDetectorRef.markForCheck())}ngDoCheck(){this._rippleLoader.setDisabled(this._elementRef.nativeElement,this._isRippleDisabled())}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement),this._actionChanges?.unsubscribe(),this.destroyed.emit({chip:this}),this.destroyed.complete()}remove(){this.removable&&this.removed.emit({chip:this})}_isRippleDisabled(){return this.disabled||this.disableRipple||this._animationsDisabled||this._isBasicChip||!!this._globalRippleOptions?.disabled}_hasTrailingIcon(){return!!(this.trailingIcon||this.removeIcon)}_handleKeydown(e){(e.keyCode===8&&!e.repeat||e.keyCode===46)&&(e.preventDefault(),this.remove())}focus(){this.disabled||(this.primaryAction?this.primaryAction.focus():this._pendingFocus=!0)}_getSourceAction(e){return this._getActions().find(i=>{let o=i._elementRef.nativeElement;return o===e||o.contains(e)})}_getActions(){let e=[];return this.primaryAction&&e.push(this.primaryAction),this.removeIcon&&e.push(this.removeIcon),this.trailingIcon&&e.push(this.trailingIcon),e}_handlePrimaryActionInteraction(){}_monitorFocus(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{let i=e!==null;i!==this._hasFocusInternal&&(this._hasFocusInternal=i,i?this._onFocus.next({chip:this}):(this._changeDetectorRef.markForCheck(),setTimeout(()=>this._ngZone.run(()=>this._onBlur.next({chip:this})))))})}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Z({type:n,selectors:[["mat-basic-chip"],["","mat-basic-chip",""],["mat-chip"],["","mat-chip",""]],contentQueries:function(i,o,r){if(i&1&&(xt(r,DX,5),xt(r,IX,5),xt(r,EX,5),xt(r,DX,5),xt(r,IX,5),xt(r,EX,5)),i&2){let s;fe(s=ge())&&(o.leadingIcon=s.first),fe(s=ge())&&(o.trailingIcon=s.first),fe(s=ge())&&(o.removeIcon=s.first),fe(s=ge())&&(o._allLeadingIcons=s),fe(s=ge())&&(o._allTrailingIcons=s),fe(s=ge())&&(o._allRemoveIcons=s)}},viewQuery:function(i,o){if(i&1&&st(h3,5),i&2){let r;fe(r=ge())&&(o.primaryAction=r.first)}},hostAttrs:[1,"mat-mdc-chip"],hostVars:31,hostBindings:function(i,o){i&1&&de("keydown",function(s){return o._handleKeydown(s)}),i&2&&(fs("id",o.id),ke("role",o.role)("aria-label",o.ariaLabel),Ao("mat-"+(o.color||"primary")),Se("mdc-evolution-chip",!o._isBasicChip)("mdc-evolution-chip--disabled",o.disabled)("mdc-evolution-chip--with-trailing-action",o._hasTrailingIcon())("mdc-evolution-chip--with-primary-graphic",o.leadingIcon)("mdc-evolution-chip--with-primary-icon",o.leadingIcon)("mdc-evolution-chip--with-avatar",o.leadingIcon)("mat-mdc-chip-with-avatar",o.leadingIcon)("mat-mdc-chip-highlighted",o.highlighted)("mat-mdc-chip-disabled",o.disabled)("mat-mdc-basic-chip",o._isBasicChip)("mat-mdc-standard-chip",!o._isBasicChip)("mat-mdc-chip-with-trailing-icon",o._hasTrailingIcon())("_mat-animation-noopable",o._animationsDisabled))},inputs:{role:"role",id:"id",ariaLabel:[0,"aria-label","ariaLabel"],ariaDescription:[0,"aria-description","ariaDescription"],value:"value",color:"color",removable:[2,"removable","removable",Ke],highlighted:[2,"highlighted","highlighted",Ke],disableRipple:[2,"disableRipple","disableRipple",Ke],disabled:[2,"disabled","disabled",Ke]},outputs:{removed:"removed",destroyed:"destroyed"},exportAs:["matChip"],features:[At([{provide:p3,useExisting:n}])],ngContentSelectors:kX,decls:8,vars:3,consts:[[1,"mat-mdc-chip-focus-overlay"],[1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--primary"],["matChipAction","",3,"isInteractive"],[1,"mdc-evolution-chip__graphic","mat-mdc-chip-graphic"],[1,"mdc-evolution-chip__text-label","mat-mdc-chip-action-label"],[1,"mat-mdc-chip-primary-focus-indicator","mat-focus-indicator"],[1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--trailing"]],template:function(i,o){i&1&&(wt(MX),Y(0,"span",0),w(1,"span",1)(2,"span",2),ee(3,xCe,2,0,"span",3),w(4,"span",4),Fe(5),Y(6,"span",5),x()()(),ee(7,CCe,2,0,"span",6)),i&2&&(D(2),z("isInteractive",!1),D(),Xe(o.leadingIcon?3:-1),D(4),Xe(o._hasTrailingIcon()?7:-1))},dependencies:[h3],styles:[`.mdc-evolution-chip,.mdc-evolution-chip__cell,.mdc-evolution-chip__action{display:inline-flex;align-items:center}.mdc-evolution-chip{position:relative;max-width:100%}.mdc-evolution-chip__cell,.mdc-evolution-chip__action{height:100%}.mdc-evolution-chip__cell--primary{flex-basis:100%;overflow-x:hidden}.mdc-evolution-chip__cell--trailing{flex:1 0 auto}.mdc-evolution-chip__action{align-items:center;background:none;border:none;box-sizing:content-box;cursor:pointer;display:inline-flex;justify-content:center;outline:none;padding:0;text-decoration:none;color:inherit}.mdc-evolution-chip__action--presentational{cursor:auto}.mdc-evolution-chip--disabled,.mdc-evolution-chip__action:disabled{pointer-events:none}@media(forced-colors: active){.mdc-evolution-chip--disabled,.mdc-evolution-chip__action:disabled{forced-color-adjust:none}}.mdc-evolution-chip__action--primary{font:inherit;letter-spacing:inherit;white-space:inherit;overflow-x:hidden}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary::before{border-width:var(--mdc-chip-outline-width, 1px);border-radius:var(--mdc-chip-container-shape-radius, 8px);box-sizing:border-box;content:"";height:100%;left:0;position:absolute;pointer-events:none;top:0;width:100%;z-index:1;border-style:solid}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__action--primary::before{border-color:var(--mdc-chip-outline-color, var(--mat-sys-outline))}.mdc-evolution-chip__action--primary:not(.mdc-evolution-chip__action--presentational):not(.mdc-ripple-upgraded):focus::before{border-color:var(--mdc-chip-focus-outline-color, var(--mat-sys-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__action--primary::before{border-color:var(--mdc-chip-disabled-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__action--primary::before{border-width:var(--mdc-chip-flat-selected-outline-width, 0)}.mat-mdc-basic-chip .mdc-evolution-chip__action--primary{font:inherit}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}.mdc-evolution-chip__action--trailing{position:relative;overflow:visible}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__action--trailing{color:var(--mdc-chip-with-trailing-icon-trailing-icon-color, var(--mat-sys-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__action--trailing{color:var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-color, var(--mat-sys-on-surface))}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}.mdc-evolution-chip__text-label{-webkit-user-select:none;user-select:none;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.mat-mdc-standard-chip .mdc-evolution-chip__text-label{font-family:var(--mdc-chip-label-text-font, var(--mat-sys-label-large-font));line-height:var(--mdc-chip-label-text-line-height, var(--mat-sys-label-large-line-height));font-size:var(--mdc-chip-label-text-size, var(--mat-sys-label-large-size));font-weight:var(--mdc-chip-label-text-weight, var(--mat-sys-label-large-weight));letter-spacing:var(--mdc-chip-label-text-tracking, var(--mat-sys-label-large-tracking))}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mdc-chip-label-text-color, var(--mat-sys-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--selected:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mdc-chip-selected-label-text-color, var(--mat-sys-on-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label,.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label{color:var(--mdc-chip-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-evolution-chip__graphic{align-items:center;display:inline-flex;justify-content:center;overflow:hidden;pointer-events:none;position:relative;flex:1 0 auto}.mat-mdc-standard-chip .mdc-evolution-chip__graphic{width:var(--mdc-chip-with-avatar-avatar-size, 24px);height:var(--mdc-chip-with-avatar-avatar-size, 24px);font-size:var(--mdc-chip-with-avatar-avatar-size, 24px)}.mdc-evolution-chip--selecting .mdc-evolution-chip__graphic{transition:width 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selectable:not(.mdc-evolution-chip--selected):not(.mdc-evolution-chip--with-primary-icon) .mdc-evolution-chip__graphic{width:0}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:8px;padding-right:4px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:8px;padding-right:4px}.mdc-evolution-chip__checkmark{position:absolute;opacity:0;top:50%;left:50%;height:20px;width:20px}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-selected-icon-color, var(--mat-sys-on-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-disabled-icon-color, var(--mat-sys-on-surface))}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark{transition:transform 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-75%, -50%)}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{transform:translate(-50%, -50%);opacity:1}.mdc-evolution-chip__checkmark-svg{display:block}.mdc-evolution-chip__checkmark-path{stroke-width:2px;stroke-dasharray:29.7833385;stroke-dashoffset:29.7833385;stroke:currentColor}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark-path{transition:stroke-dashoffset 150ms 45ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}@media(forced-colors: active){.mdc-evolution-chip__checkmark-path{stroke:CanvasText !important}}.mat-mdc-standard-chip .mdc-evolution-chip__icon--trailing{height:18px;width:18px;font-size:18px}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing.mat-mdc-chip-remove{opacity:calc(var(--mat-chip-trailing-action-opacity, 1)*var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity, 0.38))}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing.mat-mdc-chip-remove:focus{opacity:calc(var(--mat-chip-trailing-action-focus-opacity, 1)*var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity, 0.38))}.mat-mdc-standard-chip{border-radius:var(--mdc-chip-container-shape-radius, 8px);height:var(--mdc-chip-container-height, 32px)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled){background-color:var(--mdc-chip-elevated-container-color, transparent)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-elevated-disabled-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected:not(.mdc-evolution-chip--disabled){background-color:var(--mdc-chip-elevated-selected-container-color, var(--mat-sys-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-flat-disabled-selected-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}@media(forced-colors: active){.mat-mdc-standard-chip{outline:solid 1px}}.mat-mdc-standard-chip .mdc-evolution-chip__icon--primary{border-radius:var(--mdc-chip-with-avatar-avatar-shape-radius, 24px);width:var(--mdc-chip-with-icon-icon-size, 18px);height:var(--mdc-chip-with-icon-icon-size, 18px);font-size:var(--mdc-chip-with-icon-icon-size, 18px)}.mdc-evolution-chip--selected .mdc-evolution-chip__icon--primary{opacity:0}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-icon-color, var(--mat-sys-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-disabled-icon-color, var(--mat-sys-on-surface))}.mat-mdc-chip-highlighted{--mdc-chip-with-icon-icon-color:var(--mdc-chip-with-icon-selected-icon-color, var(--mat-sys-on-secondary-container));--mdc-chip-elevated-container-color:var(--mdc-chip-elevated-selected-container-color, var(--mat-sys-secondary-container));--mdc-chip-label-text-color:var(--mdc-chip-selected-label-text-color, var(--mat-sys-on-secondary-container));--mdc-chip-outline-width:var(--mdc-chip-flat-selected-outline-width, 0)}.mat-mdc-chip-focus-overlay{background:var(--mdc-chip-focus-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-chip-selected .mat-mdc-chip-focus-overlay,.mat-mdc-chip-highlighted .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-selected-focus-state-layer-color, var(--mat-sys-on-secondary-container))}.mat-mdc-chip:hover .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-hover-state-layer-color, var(--mat-sys-on-surface-variant));opacity:var(--mdc-chip-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-chip-focus-overlay .mat-mdc-chip-selected:hover,.mat-mdc-chip-highlighted:hover .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-selected-hover-state-layer-color, var(--mat-sys-on-secondary-container));opacity:var(--mdc-chip-selected-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-chip.cdk-focused .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-focus-state-layer-color, var(--mat-sys-on-surface-variant));opacity:var(--mdc-chip-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-chip-selected.cdk-focused .mat-mdc-chip-focus-overlay,.mat-mdc-chip-highlighted.cdk-focused .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-selected-focus-state-layer-color, var(--mat-sys-on-secondary-container));opacity:var(--mdc-chip-selected-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mdc-evolution-chip--disabled:not(.mdc-evolution-chip--selected) .mat-mdc-chip-avatar{opacity:var(--mdc-chip-with-avatar-disabled-avatar-opacity, 0.38)}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{opacity:var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity, 0.38)}.mdc-evolution-chip--disabled.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{opacity:var(--mdc-chip-with-icon-disabled-icon-opacity, 0.38)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{opacity:var(--mat-chip-disabled-container-opacity, 1)}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__icon--trailing,.mat-mdc-standard-chip.mat-mdc-chip-highlighted .mdc-evolution-chip__icon--trailing{color:var(--mat-chip-selected-trailing-icon-color, var(--mat-sys-on-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing,.mat-mdc-standard-chip.mat-mdc-chip-highlighted.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{color:var(--mat-chip-selected-disabled-trailing-icon-color, var(--mat-sys-on-surface))}.mat-mdc-chip-remove{opacity:var(--mat-chip-trailing-action-opacity, 1)}.mat-mdc-chip-remove:focus{opacity:var(--mat-chip-trailing-action-focus-opacity, 1)}.mat-mdc-chip-remove::after{background-color:var(--mat-chip-trailing-action-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-chip-remove:hover::after{opacity:var(--mat-chip-trailing-action-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-chip-remove:focus::after{opacity:var(--mat-chip-trailing-action-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-chip-selected .mat-mdc-chip-remove::after,.mat-mdc-chip-highlighted .mat-mdc-chip-remove::after{background-color:var(--mat-chip-selected-trailing-action-state-layer-color, var(--mat-sys-on-secondary-container))}.mat-mdc-standard-chip{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-standard-chip .mdc-evolution-chip__cell--primary,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip .mat-mdc-chip-action-label{overflow:visible}.mat-mdc-standard-chip .mat-mdc-chip-graphic,.mat-mdc-standard-chip .mat-mdc-chip-trailing-icon{box-sizing:content-box}.mat-mdc-standard-chip._mat-animation-noopable,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__graphic,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark-path{transition-duration:1ms;animation-duration:1ms}.mat-mdc-chip-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;opacity:0;border-radius:inherit;transition:opacity 150ms linear}._mat-animation-noopable .mat-mdc-chip-focus-overlay{transition:none}.mat-mdc-basic-chip .mat-mdc-chip-focus-overlay{display:none}.mat-mdc-chip .mat-ripple.mat-mdc-chip-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-chip-avatar{text-align:center;line-height:1;color:var(--mdc-chip-with-icon-icon-color, currentColor)}.mat-mdc-chip{position:relative;z-index:0}.mat-mdc-chip-action-label{text-align:left;z-index:1}[dir=rtl] .mat-mdc-chip-action-label{text-align:right}.mat-mdc-chip.mdc-evolution-chip--with-trailing-action .mat-mdc-chip-action-label{position:relative}.mat-mdc-chip-action-label .mat-mdc-chip-primary-focus-indicator{position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:none}.mat-mdc-chip-action-label .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-chip-remove::before{margin:calc(var(--mat-focus-indicator-border-width, 3px)*-1);left:8px;right:8px}.mat-mdc-chip-remove::after{content:"";display:block;opacity:0;position:absolute;top:-3px;bottom:-3px;left:5px;right:5px;border-radius:50%;box-sizing:border-box;padding:12px;margin:-12px;background-clip:content-box}.mat-mdc-chip-remove .mat-icon{width:18px;height:18px;font-size:18px;box-sizing:content-box}.mat-chip-edit-input{cursor:text;display:inline-block;color:inherit;outline:0}@media(forced-colors: active){.mat-mdc-chip-selected:not(.mat-mdc-chip-multiple){outline-width:3px}}.mat-mdc-chip-action:focus .mat-focus-indicator::before{content:""}
`],encapsulation:2,changeDetection:0})}return n})();var f3=(()=>{class n extends iw{_defaultOptions=y(AX,{optional:!0});chipListSelectable=!0;_chipListMultiple=!1;_chipListHideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1;get selectable(){return this._selectable&&this.chipListSelectable}set selectable(e){this._selectable=e,this._changeDetectorRef.markForCheck()}_selectable=!0;get selected(){return this._selected}set selected(e){this._setSelectedState(e,!1,!0)}_selected=!1;get ariaSelected(){return this.selectable?this.selected.toString():null}basicChipAttrName="mat-basic-chip-option";selectionChange=new Le;ngOnInit(){super.ngOnInit(),this.role="presentation"}select(){this._setSelectedState(!0,!1,!0)}deselect(){this._setSelectedState(!1,!1,!0)}selectViaInteraction(){this._setSelectedState(!0,!0,!0)}toggleSelected(e=!1){return this._setSelectedState(!this.selected,e,!0),this.selected}_handlePrimaryActionInteraction(){this.disabled||(this.focus(),this.selectable&&this.toggleSelected(!0))}_hasLeadingGraphic(){return this.leadingIcon?!0:!this._chipListHideSingleSelectionIndicator||this._chipListMultiple}_setSelectedState(e,i,o){e!==this.selected&&(this._selected=e,o&&this.selectionChange.emit({source:this,isUserInput:i,selected:this.selected}),this._changeDetectorRef.markForCheck())}static \u0275fac=(()=>{let e;return function(o){return(e||(e=Xt(n)))(o||n)}})();static \u0275cmp=Z({type:n,selectors:[["mat-basic-chip-option"],["","mat-basic-chip-option",""],["mat-chip-option"],["","mat-chip-option",""]],hostAttrs:[1,"mat-mdc-chip","mat-mdc-chip-option"],hostVars:37,hostBindings:function(i,o){i&2&&(fs("id",o.id),ke("tabindex",null)("aria-label",null)("aria-description",null)("role",o.role),Se("mdc-evolution-chip",!o._isBasicChip)("mdc-evolution-chip--filter",!o._isBasicChip)("mdc-evolution-chip--selectable",!o._isBasicChip)("mat-mdc-chip-selected",o.selected)("mat-mdc-chip-multiple",o._chipListMultiple)("mat-mdc-chip-disabled",o.disabled)("mat-mdc-chip-with-avatar",o.leadingIcon)("mdc-evolution-chip--disabled",o.disabled)("mdc-evolution-chip--selected",o.selected)("mdc-evolution-chip--selecting",!o._animationsDisabled)("mdc-evolution-chip--with-trailing-action",o._hasTrailingIcon())("mdc-evolution-chip--with-primary-icon",o.leadingIcon)("mdc-evolution-chip--with-primary-graphic",o._hasLeadingGraphic())("mdc-evolution-chip--with-avatar",o.leadingIcon)("mat-mdc-chip-highlighted",o.highlighted)("mat-mdc-chip-with-trailing-icon",o._hasTrailingIcon()))},inputs:{selectable:[2,"selectable","selectable",Ke],selected:[2,"selected","selected",Ke]},outputs:{selectionChange:"selectionChange"},features:[At([{provide:iw,useExisting:n},{provide:p3,useExisting:n}]),ut],ngContentSelectors:kX,decls:10,vars:8,consts:[[1,"mat-mdc-chip-focus-overlay"],[1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--primary"],["matChipAction","","role","option",3,"_allowFocusWhenDisabled"],[1,"mdc-evolution-chip__graphic","mat-mdc-chip-graphic"],[1,"mdc-evolution-chip__text-label","mat-mdc-chip-action-label"],[1,"mat-mdc-chip-primary-focus-indicator","mat-focus-indicator"],[1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--trailing"],[1,"cdk-visually-hidden",3,"id"],[1,"mdc-evolution-chip__checkmark"],["viewBox","-2 -3 30 30","focusable","false","aria-hidden","true",1,"mdc-evolution-chip__checkmark-svg"],["fill","none","stroke","currentColor","d","M1.73,12.91 8.1,19.28 22.79,4.59",1,"mdc-evolution-chip__checkmark-path"]],template:function(i,o){i&1&&(wt(MX),Y(0,"span",0),w(1,"span",1)(2,"button",2),ee(3,SCe,5,0,"span",3),w(4,"span",4),Fe(5),Y(6,"span",5),x()()(),ee(7,DCe,2,0,"span",6),w(8,"span",7),P(9),x()),i&2&&(D(2),z("_allowFocusWhenDisabled",!0),ke("aria-selected",o.ariaSelected)("aria-label",o.ariaLabel)("aria-describedby",o._ariaDescriptionId),D(),Xe(o._hasLeadingGraphic()?3:-1),D(4),Xe(o._hasTrailingIcon()?7:-1),D(),z("id",o._ariaDescriptionId),D(),xe(o.ariaDescription))},dependencies:[h3],styles:[ICe],encapsulation:2,changeDetection:0})}return n})();var MCe=(()=>{class n{_elementRef=y(Oe);_changeDetectorRef=y(Gt);_dir=y(en,{optional:!0});_lastDestroyedFocusedChipIndex=null;_keyManager;_destroyed=new De;_defaultRole="presentation";get chipFocusChanges(){return this._getChipStream(e=>e._onFocus)}get chipDestroyedChanges(){return this._getChipStream(e=>e.destroyed)}get chipRemovedChanges(){return this._getChipStream(e=>e.removed)}get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._syncChipsState()}_disabled=!1;get empty(){return!this._chips||this._chips.length===0}get role(){return this._explicitRole?this._explicitRole:this.empty?null:this._defaultRole}tabIndex=0;set role(e){this._explicitRole=e}_explicitRole=null;get focused(){return this._hasFocusedChip()}_chips;_chipActions=new _h;constructor(){}ngAfterViewInit(){this._setUpFocusManagement(),this._trackChipSetChanges(),this._trackDestroyedFocusedChip()}ngOnDestroy(){this._keyManager?.destroy(),this._chipActions.destroy(),this._destroyed.next(),this._destroyed.complete()}_hasFocusedChip(){return this._chips&&this._chips.some(e=>e._hasFocus())}_syncChipsState(){this._chips?.forEach(e=>{e._chipListDisabled=this._disabled,e._changeDetectorRef.markForCheck()})}focus(){}_handleKeydown(e){this._originatesFromChip(e)&&this._keyManager.onKeydown(e)}_isValidIndex(e){return e>=0&&e<this._chips.length}_allowFocusEscape(){let e=this._elementRef.nativeElement.tabIndex;e!==-1&&(this._elementRef.nativeElement.tabIndex=-1,setTimeout(()=>this._elementRef.nativeElement.tabIndex=e))}_getChipStream(e){return this._chips.changes.pipe(Ji(null),En(()=>nn(...this._chips.map(e))))}_originatesFromChip(e){let i=e.target;for(;i&&i!==this._elementRef.nativeElement;){if(i.classList.contains("mat-mdc-chip"))return!0;i=i.parentElement}return!1}_setUpFocusManagement(){this._chips.changes.pipe(Ji(this._chips)).subscribe(e=>{let i=[];e.forEach(o=>o._getActions().forEach(r=>i.push(r))),this._chipActions.reset(i),this._chipActions.notifyOnChanges()}),this._keyManager=new Rb(this._chipActions).withVerticalOrientation().withHorizontalOrientation(this._dir?this._dir.value:"ltr").withHomeAndEnd().skipPredicate(e=>this._skipPredicate(e)),this.chipFocusChanges.pipe(Ct(this._destroyed)).subscribe(({chip:e})=>{let i=e._getSourceAction(document.activeElement);i&&this._keyManager.updateActiveItem(i)}),this._dir?.change.pipe(Ct(this._destroyed)).subscribe(e=>this._keyManager.withHorizontalOrientation(e))}_skipPredicate(e){return!e.isInteractive||e.disabled}_trackChipSetChanges(){this._chips.changes.pipe(Ji(null),Ct(this._destroyed)).subscribe(()=>{this.disabled&&Promise.resolve().then(()=>this._syncChipsState()),this._redirectDestroyedChipFocus()})}_trackDestroyedFocusedChip(){this.chipDestroyedChanges.pipe(Ct(this._destroyed)).subscribe(e=>{let o=this._chips.toArray().indexOf(e.chip);this._isValidIndex(o)&&e.chip._hasFocus()&&(this._lastDestroyedFocusedChipIndex=o)})}_redirectDestroyedChipFocus(){if(this._lastDestroyedFocusedChipIndex!=null){if(this._chips.length){let e=Math.min(this._lastDestroyedFocusedChipIndex,this._chips.length-1),i=this._chips.toArray()[e];i.disabled?this._chips.length===1?this.focus():this._keyManager.setPreviousItemActive():i.focus()}else this.focus();this._lastDestroyedFocusedChipIndex=null}}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Z({type:n,selectors:[["mat-chip-set"]],contentQueries:function(i,o,r){if(i&1&&xt(r,iw,5),i&2){let s;fe(s=ge())&&(o._chips=s)}},hostAttrs:[1,"mat-mdc-chip-set","mdc-evolution-chip-set"],hostVars:1,hostBindings:function(i,o){i&1&&de("keydown",function(s){return o._handleKeydown(s)}),i&2&&ke("role",o.role)},inputs:{disabled:[2,"disabled","disabled",Ke],role:"role",tabIndex:[2,"tabIndex","tabIndex",e=>e==null?0:Yi(e)]},ngContentSelectors:TX,decls:2,vars:0,consts:[["role","presentation",1,"mdc-evolution-chip-set__chips"]],template:function(i,o){i&1&&(wt(),w(0,"div",0),Fe(1),x())},styles:[`.mat-mdc-chip-set{display:flex}.mat-mdc-chip-set:focus{outline:none}.mat-mdc-chip-set .mdc-evolution-chip-set__chips{min-width:100%;margin-left:-8px;margin-right:0}.mat-mdc-chip-set .mdc-evolution-chip{margin:4px 0 4px 8px}[dir=rtl] .mat-mdc-chip-set .mdc-evolution-chip-set__chips{margin-left:0;margin-right:-8px}[dir=rtl] .mat-mdc-chip-set .mdc-evolution-chip{margin-left:0;margin-right:8px}.mdc-evolution-chip-set__chips{display:flex;flex-flow:wrap;min-width:0}.mat-mdc-chip-set-stacked{flex-direction:column;align-items:flex-start}.mat-mdc-chip-set-stacked .mat-mdc-chip{width:100%}.mat-mdc-chip-set-stacked .mdc-evolution-chip__graphic{flex-grow:0}.mat-mdc-chip-set-stacked .mdc-evolution-chip__action--primary{flex-basis:100%;justify-content:start}input.mat-mdc-chip-input{flex:1 0 150px;margin-left:8px}[dir=rtl] input.mat-mdc-chip-input{margin-left:0;margin-right:8px}
`],encapsulation:2,changeDetection:0})}return n})(),m3=class{source;value;constructor(t,e){this.source=t,this.value=e}},kCe={provide:qa,useExisting:pr(()=>g3),multi:!0},g3=(()=>{class n extends MCe{_onTouched=()=>{};_onChange=()=>{};_defaultRole="listbox";_defaultOptions=y(AX,{optional:!0});get multiple(){return this._multiple}set multiple(e){this._multiple=e,this._syncListboxProperties()}_multiple=!1;get selected(){let e=this._chips.toArray().filter(i=>i.selected);return this.multiple?e:e[0]}ariaOrientation="horizontal";get selectable(){return this._selectable}set selectable(e){this._selectable=e,this._syncListboxProperties()}_selectable=!0;compareWith=(e,i)=>e===i;required=!1;get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(e){this._hideSingleSelectionIndicator=e,this._syncListboxProperties()}_hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1;get chipSelectionChanges(){return this._getChipStream(e=>e.selectionChange)}get chipBlurChanges(){return this._getChipStream(e=>e._onBlur)}get value(){return this._value}set value(e){this._chips&&this._chips.length&&this._setSelectionByValue(e,!1),this._value=e}_value;change=new Le;_chips=void 0;ngAfterContentInit(){this._chips.changes.pipe(Ji(null),Ct(this._destroyed)).subscribe(()=>{this.value!==void 0&&Promise.resolve().then(()=>{this._setSelectionByValue(this.value,!1)}),this._syncListboxProperties()}),this.chipBlurChanges.pipe(Ct(this._destroyed)).subscribe(()=>this._blur()),this.chipSelectionChanges.pipe(Ct(this._destroyed)).subscribe(e=>{this.multiple||this._chips.forEach(i=>{i!==e.source&&i._setSelectedState(!1,!1,!1)}),e.isUserInput&&this._propagateChanges()})}focus(){if(this.disabled)return;let e=this._getFirstSelectedChip();e&&!e.disabled?e.focus():this._chips.length>0?this._keyManager.setFirstItemActive():this._elementRef.nativeElement.focus()}writeValue(e){e!=null?this.value=e:this.value=void 0}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_setSelectionByValue(e,i=!0){this._clearSelection(),Array.isArray(e)?e.forEach(o=>this._selectValue(o,i)):this._selectValue(e,i)}_blur(){this.disabled||setTimeout(()=>{this.focused||this._markAsTouched()})}_keydown(e){e.keyCode===9&&super._allowFocusEscape()}_markAsTouched(){this._onTouched(),this._changeDetectorRef.markForCheck()}_propagateChanges(){let e=null;Array.isArray(this.selected)?e=this.selected.map(i=>i.value):e=this.selected?this.selected.value:void 0,this._value=e,this.change.emit(new m3(this,e)),this._onChange(e),this._changeDetectorRef.markForCheck()}_clearSelection(e){this._chips.forEach(i=>{i!==e&&i.deselect()})}_selectValue(e,i){let o=this._chips.find(r=>r.value!=null&&this.compareWith(r.value,e));return o&&(i?o.selectViaInteraction():o.select()),o}_syncListboxProperties(){this._chips&&Promise.resolve().then(()=>{this._chips.forEach(e=>{e._chipListMultiple=this.multiple,e.chipListSelectable=this._selectable,e._chipListHideSingleSelectionIndicator=this.hideSingleSelectionIndicator,e._changeDetectorRef.markForCheck()})})}_getFirstSelectedChip(){return Array.isArray(this.selected)?this.selected.length?this.selected[0]:void 0:this.selected}_skipPredicate(e){return!e.isInteractive}static \u0275fac=(()=>{let e;return function(o){return(e||(e=Xt(n)))(o||n)}})();static \u0275cmp=Z({type:n,selectors:[["mat-chip-listbox"]],contentQueries:function(i,o,r){if(i&1&&xt(r,f3,5),i&2){let s;fe(s=ge())&&(o._chips=s)}},hostAttrs:[1,"mdc-evolution-chip-set","mat-mdc-chip-listbox"],hostVars:10,hostBindings:function(i,o){i&1&&de("focus",function(){return o.focus()})("blur",function(){return o._blur()})("keydown",function(s){return o._keydown(s)}),i&2&&(fs("tabIndex",o.disabled||o.empty?-1:o.tabIndex),ke("role",o.role)("aria-required",o.role?o.required:null)("aria-disabled",o.disabled.toString())("aria-multiselectable",o.multiple)("aria-orientation",o.ariaOrientation),Se("mat-mdc-chip-list-disabled",o.disabled)("mat-mdc-chip-list-required",o.required))},inputs:{multiple:[2,"multiple","multiple",Ke],ariaOrientation:[0,"aria-orientation","ariaOrientation"],selectable:[2,"selectable","selectable",Ke],compareWith:"compareWith",required:[2,"required","required",Ke],hideSingleSelectionIndicator:[2,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",Ke],value:"value"},outputs:{change:"change"},features:[At([kCe]),ut],ngContentSelectors:TX,decls:2,vars:0,consts:[["role","presentation",1,"mdc-evolution-chip-set__chips"]],template:function(i,o){i&1&&(wt(),w(0,"div",0),Fe(1),x())},styles:[ECe],encapsulation:2,changeDetection:0})}return n})();var TCe=["*"];function ACe(n,t){if(n&1&&(w(0,"div",4),Fe(1),x()),n&2){let e=X();Se("toolbar-body-horizontal",e.isHorizontal)}}var ha=class n{isHorizontal=!1;isCollapsed=Ue(!1);toggleToolbar(){this.isCollapsed.update(t=>!t)}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=Z({type:n,selectors:[["app-floating-toolbar"]],inputs:{isHorizontal:"isHorizontal"},ngContentSelectors:TCe,decls:6,vars:4,consts:[[1,"floating-toolbar"],[1,"toolbar-header"],["mat-icon-button","",3,"click"],["class","toolbar-body",3,"toolbar-body-horizontal",4,"ngIf"],[1,"toolbar-body"]],template:function(e,i){e&1&&(wt(),w(0,"div",0)(1,"div",1)(2,"button",2),de("click",function(){return i.toggleToolbar()}),w(3,"mat-icon"),P(4),x()()(),ee(5,ACe,2,2,"div",3),x()),e&2&&(Se("collapsed",i.isCollapsed()),D(4),ni(" ",i.isCollapsed()?"keyboard_arrow_up":"keyboard_arrow_down"," "),D(),z("ngIf",!i.isCollapsed()))},dependencies:[As,An,uo],styles:[".floating-toolbar[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:fixed;bottom:20px;left:50%;width:fit-content;padding:10px 20px;gap:4px;transform:translate(-50%);background:#fff;border-radius:var(--mat-sys-corner-small);z-index:100;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.toolbar-header[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center;width:100%}.toolbar-body[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:center;width:fit-content;gap:16px}.toolbar-body-horizontal[_ngcontent-%COMP%]{flex-direction:column!important;gap:32px}.floating-toolbar.collapsed[_ngcontent-%COMP%]{transform:translate(-50%) translateY(45%);opacity:.5}"]})};var ma=class n{constructor(t){this.analysisContextService=t}typeToHeader={submission:["Odosielate\u013E","N\xE1zov s\xFAboru","Cesta k s\xFAboru","Autor","D\xE1tum vytvorenia","Naposledy upravil","D\xE1tum \xFApravy","\u010Cas \xFApravy","Po\u010Det rev\xEDzi\xED","Naposledy vytla\u010Den\xE9"],plagSource:["Odosielate\u013E","N\xE1zov s\xFAboru","Cesta k s\xFAboru","Autor","D\xE1tum vytvorenia","Naposledy upravil","D\xE1tum \xFApravy","\u010Cas \xFApravy","Po\u010Det rev\xEDzi\xED","Naposledy vytla\u010Den\xE9","Zhoda meta\xFAdajov","Jaccardov koeficient (slovn\xE9 n-gramy)","Semantick\xE1 podobnos\u0165"]};exportHeatmapToCsv(t,e){let i=this.getSeriesRows(t),r=[["submitter",...t.map(s=>s.name)],...i].map(s=>s.join(", ")).join(`
`);this.createFile(r,e)}exportSubmissionToCsv(t,e){let i=this.getSubmissionRows(t),o=[this.typeToHeader.submission,...i].map(r=>r.join(", ")).join(`
`);this.createFile(o,e)}createFile(t,e){let i=new Blob([t],{type:"text/csv"}),o=document.createElement("a");o.href=URL.createObjectURL(i),o.download=e,o.click()}getSubmissionRows(t){return t.map(e=>[this.escapeString(e.fileData.submitter),this.escapeString(e.fileData.filename),this.escapeString(e.fileData.persistentPath),this.escapeString(e.fileData.metadata.creator),e.fileData.metadata.creationDate?Wr.mapUnixTimeToDate(e.fileData.metadata.creationDate):"",this.escapeString(e.fileData.metadata.modifier),e.fileData.metadata.modificationDate?Wr.mapUnixTimeToDate(e.fileData.metadata.modificationDate):"",Wr.mapToSecondsToHhMmSs(e.fileData.metadata.totalEditTime),e.fileData.metadata.revisionsNumber,e.fileData.metadata.lastPrinted?Wr.mapUnixTimeToDate(e.fileData.metadata.lastPrinted):""])}getPlagSourceRow(t,e){return[this.escapeString(t.fileData.submitter),this.escapeString(t.fileData.filename),this.escapeString(t.fileData.persistentPath),this.escapeString(t.fileData.metadata.creator),t.fileData.metadata.creationDate?Wr.mapUnixTimeToDate(t.fileData.metadata.creationDate):"",this.escapeString(t.fileData.metadata.modifier),t.fileData.metadata.modificationDate?Wr.mapUnixTimeToDate(t.fileData.metadata.modificationDate):"",Wr.mapToSecondsToHhMmSs(t.fileData.metadata.totalEditTime),t.fileData.metadata.revisionsNumber,t.fileData.metadata.lastPrinted?Wr.mapUnixTimeToDate(t.fileData.metadata.lastPrinted):"",e?Ut.getFormattedScore(e,"META"):Ut.formatScore(0),e?Ut.getFormattedScore(e,"JACCARD"):Ut.formatScore(0),e?Ut.getFormattedScore(e,"SEMANTIC"):Ut.formatScore(0)]}getSeriesRows(t){return t.map(e=>[e.name,...e.data.map(i=>i.y)])}escapeString(t){return t?t.includes(",")?`"${t}"`:t:""}exportPlagSources(t,e,i,o,r){let s=this.analysisContextService.getReport()();if(!s)return;let a=s.submissions,l=[];l.push(this.typeToHeader.plagSource),l.push([]),l.push(["Podozriv\xFD dokument"]),l.push(this.getSubmissionRows([t])[0]);let c=this.getSourceSubmission(t,o,a);this.pushSourceSubmission(l,c,o,"Zadanie s rovnak\xFDm autorstvom pod\u013Ea meta\xFAdajov");let d=this.getSourceSubmission(t,i,a);this.pushSourceSubmission(l,d,i,"Najvy\u0161\u0161ia podobnos\u0165 zisten\xE1 Jaccardov\xFDm koeficientom");let u=this.getSourceSubmission(t,e,a);this.pushSourceSubmission(l,u,e,"Najv\xE4\u010D\u0161ia podobnos\u0165 zisten\xE1 pomocou s\xE9mantick\xE9ho porovnania");let h=l.map(m=>m.join(", ")).join(`
`);this.createFile(h,r)}pushSourceSubmission(t,e,i,o,r="Nen\xE1jden\xFD"){t.push([]),t.push([o]),t.push(e?this.getPlagSourceRow(e,i):[r])}getSourceSubmission(t,e,i){if(!e)return null;let o=t.id===e.firstId?e.secondId:e.firstId;return i.get(o)||null}exportPair(t,e){let i=this.analysisContextService.getReport()();if(!i)return;let o=i.submissions,r=[];r.push(this.typeToHeader.plagSource);let s=o.get(t.firstId),a=o.get(t.secondId);r.push(s?this.getPlagSourceRow(s,t):["Nen\xE1jden\xFD"]),r.push(a?this.getPlagSourceRow(a,t):["Nen\xE1jden\xFD"]);let l=r.map(c=>c.join(", ")).join(`
`);this.createFile(l,e)}static \u0275fac=function(e){return new(e||n)(Je(jt))};static \u0275prov=se({token:n,factory:n.\u0275fac,providedIn:"root"})};var RCe=["firstEditor"],OCe=["secondEditor"];function PCe(n,t){n&1&&(w(0,"app-content-container")(1,"app-surface",3),Y(2,"mat-progress-bar",4),x()())}function LCe(n,t){if(n&1){let e=Ft();w(0,"app-content-container")(1,"app-surface",5)(2,"div",6)(3,"div",7)(4,"button",8),de("click",function(){et(e);let o=X();return tt(o.onExport())}),w(5,"mat-icon"),P(6,"download"),x()()(),w(7,"div",9),Y(8,"app-metadata-diff-card",10),w(9,"div",11),Y(10,"app-stat-card",12)(11,"app-stat-card",13)(12,"app-stat-card",14),x()()()(),w(13,"app-surface",15)(14,"div",16)(15,"app-text-editor",17,0),de("forceUnsubscribeFromScrollEventEmitter",function(){et(e);let o=X();return tt(o.isScrollSyncEnabled.set(!1))}),x(),w(17,"app-text-editor",17,1),de("forceUnsubscribeFromScrollEventEmitter",function(){et(e);let o=X();return tt(o.isScrollSyncEnabled.set(!1))}),x()()(),w(19,"app-floating-toolbar",18)(20,"mat-chip-listbox",19)(21,"div",20)(22,"mat-chip-option",21),de("click",function(){et(e);let o=X();return tt(o.toggleScrollSync())}),P(23," Pos\xFAva\u0165 s\xFA\u010Dasne "),x(),w(24,"mat-chip-option",21),de("click",function(){et(e);let o=X();return tt(o.toggleMarkingNavigation())}),P(25," Povoli\u0165 navig\xE1ciu "),x()()(),w(26,"button",22),de("click",function(){et(e);let o=X();return tt(o.loadDiffPage())}),P(27," Zobrazi\u0165 rozdiel "),x()()()}if(n&2){let e=X();D(),z("isTitleCentered",!0)("wrapBreakpoint",1300)("isContentCentered",!1)("isHorizontal",!0),D(7),z("first",e.first())("second",e.second())("submissionPair",e.submissionPair()),D(2),z("value",e.getFormattedScore("JACCARD")),D(),z("value",e.getFormattedScore("META")),D(),z("value",e.getFormattedScore("SEMANTIC")),D(),z("subtitle",e.submissionPair().plagCases.length>0?"":"Pre t\xFAto dvojicu <strong>neboli vypo\u010D\xEDtan\xE9 podobn\xE9 fragmenty</strong>, dan\xE9 dva dokumenty s\xFA bu\u010F ve\u013Emi odli\u0161n\xE9, alebo ve\u013Emi podobn\xE9. Ak chcete vidie\u0165 rozdiely medzi dokumentmi, m\xF4\u017Eete prejs\u0165 na z\xE1lo\u017Eku <strong>Rozdiel obsahu</strong> kliknut\xEDm na tla\u010Didlo v dolnom paneli")("isContentCentered",!1)("isTitleCentered",!1),D(2),z("submission",e.first())("plagCases",e.plagCases())("markingSide",0),D(2),z("submission",e.second())("plagCases",e.plagCases())("markingSide",1),D(2),z("isHorizontal",!0),D(3),z("selected",e.isScrollSyncEnabled()),D(2),z("selected",e.isMarkingNavigationEnabled())}}var Ok=class n{constructor(t,e,i,o,r,s){this.analysisContext=t;this.exportService=e;this.router=i;this.route=o;this.elRef=r;this.renderer=s;cn(()=>{if(this.pairId()===null)return;let a=this.analysisContext.getReport()().pairs.get(this.pairId());if(a){this.submissionPair.set(a);let l=this.analysisContext.getReport()().submissions.get(a.firstId);this.first.set(l);let c=this.analysisContext.getReport()().submissions.get(a.secondId);this.second.set(c)}})}pairId=Ue(null);submissionPair=Ue(null);first=Ue(null);second=Ue(null);plagCases=Ri(()=>this.submissionPair()?.plagCases??[]);firstEditor;secondEditor;isScrollSyncEnabled=Ue(!0);isMarkingNavigationEnabled=Ue(!0);plagiarizedTextSelector=".highlight-plag";nonNavigableMarkingClass="non-navigable";ngAfterViewInit(){this.firstEditor&&this.secondEditor&&(this.firstEditor.subscribeOnScrolling(this.secondEditor.scrollEventEmitter),this.secondEditor.subscribeOnScrolling(this.firstEditor.scrollEventEmitter),this.firstEditor.subscribeOnNavigationEvent(this.secondEditor.navigatePlagCaseEventEmitter),this.secondEditor.subscribeOnNavigationEvent(this.firstEditor.navigatePlagCaseEventEmitter))}ngOnDestroy(){this.pairId.set(null),this.submissionPair.set(null)}ngOnInit(){this.route.paramMap.subscribe(t=>{this.pairId.set(t.get("id"))})}toggleScrollSync(){this.isScrollSyncEnabled.update(t=>!t),this.isScrollSyncEnabled()?(this.firstEditor.subscribeOnScrolling(this.secondEditor.scrollEventEmitter),this.secondEditor.subscribeOnScrolling(this.firstEditor.scrollEventEmitter)):(this.firstEditor.unsubscribeFromScrolling(),this.secondEditor.unsubscribeFromScrolling())}getScoreByType(t){let e=this.submissionPair();if(e!==null){let i=e.plagScores.filter(o=>o.type===t).at(0);return i||null}return null}getFormattedScore(t){let e=this.getScoreByType(t);return e!==null?(e?.score*100).toFixed(2)+" %":"Nevypo\u010D\xEDtan\xE9"}loadDiffPage(){this.router.navigate(["/diff",this.first().id,this.second().id])}toggleMarkingNavigation(){this.isMarkingNavigationEnabled.update(e=>!e),this.elRef.nativeElement.querySelectorAll(this.plagiarizedTextSelector).forEach(e=>{this.isMarkingNavigationEnabled()?this.renderer.removeClass(e,this.nonNavigableMarkingClass):this.renderer.addClass(e,this.nonNavigableMarkingClass)}),this.firstEditor.toggleMarkingNavigation(this.isMarkingNavigationEnabled()),this.secondEditor.toggleMarkingNavigation(this.isMarkingNavigationEnabled())}onExport(){let t=this.submissionPair();t&&this.exportService.exportPair(t,Date.now().toFixed())}static \u0275fac=function(e){return new(e||n)(J(jt),J(ma),J(pi),J(Lo),J(Oe),J(Li))};static \u0275cmp=Z({type:n,selectors:[["app-submission-pair-view-page"]],viewQuery:function(e,i){if(e&1&&(st(RCe,5),st(OCe,5)),e&2){let o;fe(o=ge())&&(i.firstEditor=o.first),fe(o=ge())&&(i.secondEditor=o.first)}},decls:2,vars:2,consts:[["firstEditor",""],["secondEditor",""],[4,"ngIf"],["title","Na\u010Ditanie dvojice","subtitle",""],["mode","indeterminate"],["title","Vysledky","subtitle","",3,"isTitleCentered","wrapBreakpoint","isContentCentered","isHorizontal"],[1,"horizontal-card-group-wrapper"],[1,"header-with-actions"],["mat-icon-button","",3,"click"],[1,"horizontal-card-group"],[3,"first","second","submissionPair"],[1,"stat-flex-column"],["name","Jaccardov koeficient (bi-gramy)",3,"value"],["name","Podobnos\u0165 autorov (meta\xFAdaje)",3,"value"],["name","Semantick\xE1 podobnos\u0165",3,"value"],["title","Porovnanie obsahu",3,"subtitle","isContentCentered","isTitleCentered"],[1,"editor-container"],[3,"forceUnsubscribeFromScrollEventEmitter","submission","plagCases","markingSide"],[3,"isHorizontal"],["multiple",""],[1,"options-menu"],[3,"click","selected"],["mat-raised-button","",3,"click"]],template:function(e,i){e&1&&ee(0,PCe,3,0,"app-content-container",2)(1,LCe,28,22,"app-content-container",2),e&2&&(z("ngIf",i.submissionPair()===null),D(),z("ngIf",i.submissionPair()!==null))},dependencies:[Zn,Rn,p_,On,uo,hu,Ak,Rk,f3,g3,ha,Tn,An,As],styles:[".editor-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;height:90vh;gap:1rem}app-text-editor[_ngcontent-%COMP%]{width:100%;height:100%}.stat-flex-column[_ngcontent-%COMP%]{height:min-content;display:flex;flex-direction:row;flex-wrap:wrap;gap:16px}.options-menu[_ngcontent-%COMP%]{display:flex;flex-direction:row!important;gap:16px}"]})};var Fs=class n{constructor(t,e){this.analysisContext=t;this.router=e}canActivate(){return this.analysisContext.getReport()()!==null?!0:(this.analysisContext.clearContext(),this.router.navigate(["/import"]),!1)}static \u0275fac=function(e){return new(e||n)(Je(jt),Je(pi))};static \u0275prov=se({token:n,factory:n.\u0275fac,providedIn:"root"})};var NCe=()=>[10,20,30,40];function FCe(n,t){n&1&&(w(0,"th",28),P(1," N\xE1zov s\xFAboru "),x())}function zCe(n,t){if(n&1&&(w(0,"td",29)(1,"div",30),P(2),x()()),n&2){let e=t.$implicit;D(2),ni(" ",e.fileData.filename," ")}}function BCe(n,t){n&1&&(w(0,"th",31),P(1," Odosielate\u013E "),x())}function HCe(n,t){if(n&1&&(w(0,"td",29)(1,"div",30),P(2),x()()),n&2){let e=t.$implicit;D(2),ni(" ",e.fileData.submitter," ")}}function VCe(n,t){n&1&&(w(0,"th",32),P(1," Autor "),x())}function WCe(n,t){if(n&1&&(w(0,"td",29)(1,"div",30),P(2),x()()),n&2){let e=t.$implicit;D(2),ni(" ",e.fileData.metadata.creator?e.fileData.metadata.creator:"Nezn\xE1my"," ")}}function jCe(n,t){n&1&&(w(0,"th",33),P(1," Naposledy upravil "),x())}function UCe(n,t){if(n&1&&(w(0,"td",29)(1,"div",30),P(2),x()()),n&2){let e=t.$implicit;D(2),ni(" ",e.fileData.metadata.modifier?e.fileData.metadata.modifier:"Nezn\xE1my"," ")}}function qCe(n,t){n&1&&(w(0,"th",34),P(1," \u010Cas \xFApravy "),x())}function GCe(n,t){if(n&1&&(w(0,"td",35),P(1),Ni(2,"minutesTime"),x()),n&2){let e=t.$implicit;z("submission",e)("checkTimeDeviation",!0),D(),ni(" ",Fi(2,3,e.fileData.metadata.totalEditTime)," ")}}function $Ce(n,t){n&1&&(w(0,"th",36),P(1," D\xE1tum vytvorenia "),x())}function KCe(n,t){if(n&1&&(w(0,"td",37),P(1),Ni(2,"unixDate"),x()),n&2){let e=t.$implicit;z("submission",e),D(),ni(" ",e.fileData.metadata.creationDate?Fi(2,2,e.fileData.metadata.creationDate):"Nezn\xE1me"," ")}}function YCe(n,t){n&1&&(w(0,"th",38),P(1," D\xE1tum \xFApravy "),x())}function XCe(n,t){if(n&1&&(w(0,"td",39),P(1),Ni(2,"unixDate"),x()),n&2){let e=t.$implicit;z("submission",e),D(),ni(" ",e.fileData.metadata.modificationDate?Fi(2,2,e.fileData.metadata.modificationDate):"Nezn\xE1me"," ")}}function ZCe(n,t){n&1&&Y(0,"tr",40)}function QCe(n,t){n&1&&Y(0,"tr",41)}var Pk=class n{constructor(t,e){this.analysisContext=t;this.exportService=e;cn(()=>{this.submissionsDataSource.data=[...this.analysisContext.getReport()().submissions.values()].filter(i=>!i.indexed)})}pairsDisplayedColumns=["filename","submitter","creator","lastModifiedBy","totalEditTime","dateCreated","dateModified"];submissionsDataSource=new fu;sort;matPaginator;searchText=Ue("");ngAfterViewInit(){this.submissionsDataSource.sort=this.sort,this.submissionsDataSource.paginator=this.matPaginator,this.submissionsDataSource.filterPredicate=this.rowsFilter.bind(this)}rowsFilter(t,e){let i=t.fileData.submitter.toLowerCase()+" "+t.fileData.metadata.creator?.toLowerCase()+" "+t.fileData.metadata.modifier?.toLowerCase(),o=e.trim().split(/\s+/);for(let r of o)if(!i.includes(r))return!1;return!0}onSorting(t){let e=t.direction==="asc"?1:-1;t.active==="submitter"?this.submissionsDataSource.filteredData.sort((i,o)=>i.fileData.submitter.localeCompare(o.fileData.submitter)*e):t.active==="filename"?this.submissionsDataSource.filteredData.sort((i,o)=>i.fileData.filename.localeCompare(o.fileData.filename)*e):this.submissionsDataSource.filteredData.sort((i,o)=>this.compareSubmissions(i,o,t))}applyFilter(t){this.submissionsDataSource.filter=t?.trim().toLowerCase()}getSortValue(t,e){return t.fileData.metadata[e]}compareSubmissions(t,e,i){let o=this.getSortValue(t,i.active),r=this.getSortValue(e,i.active),s=i.direction==="asc"?1:-1;return o==null&&r==null?0:o==null?1:r==null?-1:typeof o=="string"&&typeof r=="string"?o.localeCompare(r)*s:(o-r)*s}downloadMetadataCsv(){this.exportService.exportSubmissionToCsv(this.submissionsDataSource.filteredData,Date.now().toFixed())}static \u0275fac=function(e){return new(e||n)(J(jt),J(ma))};static \u0275cmp=Z({type:n,selectors:[["app-metadata-table"]],viewQuery:function(e,i){if(e&1&&(st(zl,5),st(Xc,5)),e&2){let o;fe(o=ge())&&(i.sort=o.first),fe(o=ge())&&(i.matPaginator=o.first)}},decls:37,vars:9,consts:[[1,"table-container"],[1,"table-search-row"],[1,"search-bar",2,"width","70%"],["matInput","",3,"ngModelChange","ngModel"],["mat-raised-button","",3,"click"],[1,"table-responsive","height-65"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"matSortChange","dataSource"],["matColumnDef","filename"],["mat-header-cell","","mat-sort-header","filename",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","submitter"],["mat-header-cell","","mat-sort-header","submitter",4,"matHeaderCellDef"],["matColumnDef","creator"],["mat-header-cell","","mat-sort-header","creator",4,"matHeaderCellDef"],["matColumnDef","lastModifiedBy"],["mat-header-cell","","mat-sort-header","modifier",4,"matHeaderCellDef"],["matColumnDef","totalEditTime"],["mat-header-cell","","mat-sort-header","totalEditTime",4,"matHeaderCellDef"],["mat-cell","","appMetadataDeviationHighlight","",3,"submission","checkTimeDeviation",4,"matCellDef"],["matColumnDef","dateCreated"],["mat-header-cell","","mat-sort-header","creationDate",4,"matHeaderCellDef"],["mat-cell","","appMetadataDeviationHighlight","","dateField","creationDate",3,"submission",4,"matCellDef"],["matColumnDef","dateModified"],["mat-header-cell","","mat-sort-header","modificationDate",4,"matHeaderCellDef"],["mat-cell","","appMetadataDeviationHighlight","","dateField","modificationDate",3,"submission",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"length","pageSize","pageSizeOptions"],["mat-header-cell","","mat-sort-header","filename"],["mat-cell",""],["appTextOverflowScroll","",1,"scrollable-text","cell-width-12"],["mat-header-cell","","mat-sort-header","submitter"],["mat-header-cell","","mat-sort-header","creator"],["mat-header-cell","","mat-sort-header","modifier"],["mat-header-cell","","mat-sort-header","totalEditTime"],["mat-cell","","appMetadataDeviationHighlight","",3,"submission","checkTimeDeviation"],["mat-header-cell","","mat-sort-header","creationDate"],["mat-cell","","appMetadataDeviationHighlight","","dateField","creationDate",3,"submission"],["mat-header-cell","","mat-sort-header","modificationDate"],["mat-cell","","appMetadataDeviationHighlight","","dateField","modificationDate",3,"submission"],["mat-header-row",""],["mat-row",""]],template:function(e,i){e&1&&(w(0,"div",0)(1,"div",1)(2,"mat-form-field",2)(3,"mat-label"),P(4,"H\u013Eada\u0165"),x(),w(5,"input",3),ka("ngModelChange",function(r){return Ma(i.searchText,r)||(i.searchText=r),r}),de("ngModelChange",function(r){return i.applyFilter(r)}),x()(),w(6,"button",4),de("click",function(){return i.downloadMetadataCsv()}),w(7,"mat-icon"),P(8,"download"),x(),w(9,"p"),P(10,"Stiahnu\u0165 ako csv"),x()()(),w(11,"div",5)(12,"table",6),de("matSortChange",function(r){return i.onSorting(r)}),sn(13,7),ee(14,FCe,2,0,"th",8)(15,zCe,3,1,"td",9),an(),sn(16,10),ee(17,BCe,2,0,"th",11)(18,HCe,3,1,"td",9),an(),sn(19,12),ee(20,VCe,2,0,"th",13)(21,WCe,3,1,"td",9),an(),sn(22,14),ee(23,jCe,2,0,"th",15)(24,UCe,3,1,"td",9),an(),sn(25,16),ee(26,qCe,2,0,"th",17)(27,GCe,3,5,"td",18),an(),sn(28,19),ee(29,$Ce,2,0,"th",20)(30,KCe,3,4,"td",21),an(),sn(31,22),ee(32,YCe,2,0,"th",23)(33,XCe,3,4,"td",24),an(),ee(34,ZCe,1,0,"tr",25)(35,QCe,1,0,"tr",26),x()(),Y(36,"mat-paginator",27),x()),e&2&&(D(5),Ea("ngModel",i.searchText),D(7),z("dataSource",i.submissionsDataSource),D(22),z("matHeaderRowDef",i.pairsDisplayedColumns)("matHeaderRowDefSticky",!0),D(),z("matRowDefColumns",i.pairsDisplayedColumns),D(),z("length",i.submissionsDataSource.data.length)("pageSize",20)("pageSizeOptions",$s(8,NCe)))},dependencies:[zo,pu,Fo,Zn,ns,os,Rs,Hf,zl,jf,Uf,Wf,Zf,qf,Vf,Yu,Kf,Yf,$f,Gf,Xc,rc,Xu,An,Tn,ss],styles:[`.mat-column-filename{max-width:12rem}.mat-column-totalEditTime{max-width:7rem}
`,`:root{--mdc-filled-text-field-container-color: #faf9fd}:root{--mdc-filled-text-field-focus-active-indicator-color: transparent}:root{--mdc-filled-text-field-active-indicator-height: 0}.table-responsive{display:block;min-width:100%;box-sizing:border-box;overflow-x:scroll;overflow-y:scroll;border-bottom:1px solid var(--mat-sys-outline);background-color:#faf9fd}.table-responsive .mat-mdc-table{table-layout:auto;min-width:100%;max-width:100%;margin-bottom:1rem;display:table;border-collapse:collapse;margin:0;overflow-x:scroll}.table-responsive .mat-row,.table-responsive .mat-header-row{display:table-row}.table-responsive .mat-mdc-cell,.table-responsive .mat-mdc-header-cell{word-wrap:initial;display:table-cell;padding:0 8px;line-break:unset;flex-direction:column;white-space:nowrap;overflow:hidden;vertical-align:middle}.table-container{display:flex;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f;width:100%;flex-direction:column;box-sizing:border-box;overflow:hidden;border-radius:var(--mat-sys-corner-extra-large);background-color:var(--mat-sys-surface-container-high)}.table-container .table-search-row{display:flex;flex-direction:row;gap:8px;justify-content:space-between;align-items:center;padding:8px}.table-container .search-bar{width:100%;box-shadow:0 3px 1px -2px #0003,0 2px 2px #00000024,0 1px 5px #0000001f;overflow:hidden;border-radius:var(--mat-sys-corner-extra-large)}.table-container .search-bar .mat-mdc-form-field-subscript-wrapper{width:0;height:0}.table-container mat-paginator{border-radius:var(--mat-sys-corner-extra-small)}@media (max-width: 1350px){.table-container{width:900px}}@media (max-width: 1050px){.table-container{width:640px}}@media (max-width: 440px){.table-container{width:100%}}.cell-width-12{max-width:12rem}.cell-width-6{max-width:6rem}.height-65{height:65vh}.height-50{height:50vh}.width-50{width:50vw}.width-55{min-width:60vw}td.meta-warning{background-color:#ffb300}
`],encapsulation:2})};var Lk=class n{static \u0275fac=function(e){return new(e||n)};static \u0275cmp=Z({type:n,selectors:[["app-metadata-page"]],decls:3,vars:3,consts:[["title","Meta\xFAdaje","subtitle","",3,"isTitleCentered","isHorizontal","isContentCentered"]],template:function(e,i){e&1&&(w(0,"app-content-container")(1,"app-surface",0),Y(2,"app-metadata-table"),x()()),e&2&&(D(),z("isTitleCentered",!0)("isHorizontal",!1)("isContentCentered",!1))},dependencies:[Zn,Rn,Pk,On],encapsulation:2})};function JCe(n,t){if(n&1){let e=Ft();w(0,"div",21)(1,"mat-form-field",22)(2,"mat-label"),P(3,"H\u013Eada\u0165"),x(),w(4,"input",23),ka("ngModelChange",function(o){et(e);let r=X();return Ma(r.searchText,o)||(r.searchText=o),tt(o)}),de("ngModelChange",function(o){et(e);let r=X();return tt(r.applyFilter(o))}),x()()()}if(n&2){let e=X();D(4),Ea("ngModel",e.searchText)}}function eSe(n,t){n&1&&(w(0,"th",24),P(1," Odovzd\xE1vate\u013E "),x())}function tSe(n,t){if(n&1&&(w(0,"td",25)(1,"div",26),P(2),x()()),n&2){let e=t.$implicit;D(2),ni(" ",e.fileData.submitter," ")}}function iSe(n,t){n&1&&(w(0,"th",27),P(1," N\xE1zov s\xFAboru "),x())}function nSe(n,t){if(n&1&&(w(0,"td",25)(1,"div",26),P(2),x()()),n&2){let e=t.$implicit;D(2),ni(" ",e.fileData.filename," ")}}function oSe(n,t){n&1&&(w(0,"th",28),P(1," \u010Cas \xFApravy "),x())}function rSe(n,t){if(n&1&&(w(0,"td",29),P(1),Ni(2,"minutesTime"),x()),n&2){let e=t.$implicit;z("checkTimeDeviation",!0)("submission",e),D(),ni(" ",Fi(2,3,e.fileData.metadata.totalEditTime)," ")}}function sSe(n,t){n&1&&(w(0,"th",30),P(1," Zhoda meta\xFAdajov "),x())}function aSe(n,t){if(n&1&&(w(0,"td",25),P(1),x()),n&2){let e=t.$implicit,i=X();D(),ni(" ",i.isMetadataMatched(e)?"Pr\xEDtomn\xE1":"Nen\xE1jden\xE1"," ")}}function lSe(n,t){n&1&&(w(0,"th",31),P(1," Maxim\xE1lna podobnos\u0165 % "),x())}function cSe(n,t){if(n&1&&(w(0,"td",25),P(1),x()),n&2){let e=t.$implicit,i=X();D(),ni(" ",i.getPlagScore(e.maxSimilarity)," ")}}function dSe(n,t){n&1&&Y(0,"th",32)}function uSe(n,t){if(n&1){let e=Ft();w(0,"td",25)(1,"button",33),de("click",function(){let o=et(e).$implicit,r=X();return tt(r.loadSubmission(o))}),P(2,"Viac"),x()()}}function hSe(n,t){n&1&&Y(0,"tr",34)}function mSe(n,t){n&1&&Y(0,"tr",35)}function pSe(n,t){if(n&1&&Y(0,"mat-paginator",36),n&2){let e=X();z("length",e.submissionsDataSource.data.length)("pageSize",e.pageSize)("pageSizeOptions",e.pageSizeOptions)}}var Zu=class n{constructor(t,e,i){this.analysisContext=t;this.routeContextService=e;this.router=i;cn(()=>{let o=t.getReport()()?.submissions;if(o){let r=Array.from(o.values());this.showNotIndexedOnly&&(r=r.filter(s=>!s.indexed)),this.submissionsFilterSet!=null&&(r=r.filter(s=>this.submissionsFilterSet?.has(s.id))),this.submissionsDataSource.data=r.sort((s,a)=>a.maxSimilarity-s.maxSimilarity).slice(0,this.limit?this.limit:Number.MAX_VALUE)}})}static CONTEXT_KEY="submissions-table";displayedColumns=["submitter","filename","totalEditTime","meta-match","maxSimilarity","moreButton"];limit=10;submissionsFilterSet=null;enablePagination=!1;enableSearch=!1;showNotIndexedOnly=!0;pageSize=5;pageSizeOptions=[5,10,25,100];sort;matPaginator;contextPrefix="";submissionsDataSource=new fu([]);searchText=Ue("");ngAfterViewInit(){this.submissionsDataSource.sort=this.sort,this.submissionsDataSource.paginator=this.matPaginator,this.submissionsDataSource.filterPredicate=this.rowsFilter.bind(this),this.applyContext()}onSorting(t){let e=t.direction==="asc"?1:-1;t.active==="totalEditTime"?this.submissionsDataSource.filteredData.sort((i,o)=>e*(i.fileData.metadata.totalEditTime-o.fileData.metadata.totalEditTime)):t.active==="meta-match"?this.submissionsDataSource.filteredData.sort((i,o)=>this.isMetadataMatched(i)?1*e:-1*e):t.active==="submitter"?this.submissionsDataSource.filteredData.sort((i,o)=>i.fileData.submitter.localeCompare(o.fileData.submitter)*e):t.active==="filename"&&this.submissionsDataSource.filteredData.sort((i,o)=>i.fileData.filename.localeCompare(o.fileData.filename)*e)}getPlagScore(t){return Ut.formatScore(t,1)}loadSubmission(t){this.router.navigate(["/submissions",t.id])}applyFilter(t){this.submissionsDataSource.filter=t?.toLowerCase()}ngOnDestroy(){this.routeContextService.putProperty(n.CONTEXT_KEY,JSON.stringify({filter:this.searchText()}),this.contextPrefix)}applyContext(){let t=this.routeContextService.popProperty(n.CONTEXT_KEY,this.contextPrefix);if(t){let e=JSON.parse(t);this.searchText.set(e.filter),this.applyFilter(this.searchText())}}isMetadataMatched(t){let e=this.analysisContext.getReport()();if(e){let i=e.pairs,o=t.pairIds.map(r=>i.get(r));for(let r of o)if(r){let s=Ut.getScoreByType(r,"META");if(s&&s.score>0)return!0}}return!1}rowsFilter(t,e){let i=t.fileData.submitter.toLowerCase(),o=e.trim().split(/\s+/);for(let r of o)if(!i.includes(r))return!1;return!0}static \u0275fac=function(e){return new(e||n)(J(jt),J(Fl),J(pi))};static \u0275cmp=Z({type:n,selectors:[["app-submissions-table"]],viewQuery:function(e,i){if(e&1&&(st(zl,5),st(Xc,5)),e&2){let o;fe(o=ge())&&(i.sort=o.first),fe(o=ge())&&(i.matPaginator=o.first)}},inputs:{limit:"limit",submissionsFilterSet:"submissionsFilterSet",enablePagination:"enablePagination",enableSearch:"enableSearch",showNotIndexedOnly:"showNotIndexedOnly",pageSize:"pageSize",pageSizeOptions:"pageSizeOptions",contextPrefix:"contextPrefix"},decls:25,vars:6,consts:[[1,"table-container"],["class","table-search-row",4,"ngIf"],[1,"table-responsive","height-65"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"matSortChange","dataSource"],["matColumnDef","submitter"],["mat-header-cell","","mat-sort-header","submitter",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","filename"],["mat-header-cell","","mat-sort-header","filename",4,"matHeaderCellDef"],["matColumnDef","totalEditTime"],["mat-header-cell","","mat-sort-header","totalEditTime",4,"matHeaderCellDef"],["mat-cell","","appMetadataDeviationHighlight","",3,"checkTimeDeviation","submission",4,"matCellDef"],["matColumnDef","meta-match"],["mat-header-cell","","mat-sort-header","meta-match",4,"matHeaderCellDef"],["matColumnDef","maxSimilarity"],["mat-header-cell","","mat-sort-header","maxSimilarity",4,"matHeaderCellDef"],["matColumnDef","moreButton"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"length","pageSize","pageSizeOptions",4,"ngIf"],[1,"table-search-row"],[1,"search-bar"],["matInput","",3,"ngModelChange","ngModel"],["mat-header-cell","","mat-sort-header","submitter"],["mat-cell",""],["appTextOverflowScroll","",1,"scrollable-text"],["mat-header-cell","","mat-sort-header","filename"],["mat-header-cell","","mat-sort-header","totalEditTime"],["mat-cell","","appMetadataDeviationHighlight","",3,"checkTimeDeviation","submission"],["mat-header-cell","","mat-sort-header","meta-match"],["mat-header-cell","","mat-sort-header","maxSimilarity"],["mat-header-cell",""],["mat-button","",3,"click"],["mat-header-row",""],["mat-row",""],[3,"length","pageSize","pageSizeOptions"]],template:function(e,i){e&1&&(w(0,"div",0),ee(1,JCe,5,1,"div",1),w(2,"div",2)(3,"table",3),de("matSortChange",function(r){return i.onSorting(r)}),sn(4,4),ee(5,eSe,2,0,"th",5)(6,tSe,3,1,"td",6),an(),sn(7,7),ee(8,iSe,2,0,"th",8)(9,nSe,3,1,"td",6),an(),sn(10,9),ee(11,oSe,2,0,"th",10)(12,rSe,3,5,"td",11),an(),sn(13,12),ee(14,sSe,2,0,"th",13)(15,aSe,2,1,"td",6),an(),sn(16,14),ee(17,lSe,2,0,"th",15)(18,cSe,2,1,"td",6),an(),sn(19,16),ee(20,dSe,1,0,"th",17)(21,uSe,3,0,"td",6),an(),ee(22,hSe,1,0,"tr",18)(23,mSe,1,0,"tr",19),x()(),ee(24,pSe,1,3,"mat-paginator",20),x()),e&2&&(D(),z("ngIf",i.enableSearch),D(2),z("dataSource",i.submissionsDataSource),D(19),z("matHeaderRowDef",i.displayedColumns)("matHeaderRowDefSticky",!0),D(),z("matRowDefColumns",i.displayedColumns),D(),z("ngIf",i.enablePagination))},dependencies:[qf,jf,Uf,Kf,Yf,Hf,Fo,Tn,Wf,Vf,zl,Zf,Gf,$f,Xc,pu,zo,Zn,ns,os,Rs,uo,rc,Xu,ss],styles:[`:root{--mdc-filled-text-field-container-color: #faf9fd}:root{--mdc-filled-text-field-focus-active-indicator-color: transparent}:root{--mdc-filled-text-field-active-indicator-height: 0}.table-responsive{display:block;min-width:100%;box-sizing:border-box;overflow-x:scroll;overflow-y:scroll;border-bottom:1px solid var(--mat-sys-outline);background-color:#faf9fd}.table-responsive .mat-mdc-table{table-layout:auto;min-width:100%;max-width:100%;margin-bottom:1rem;display:table;border-collapse:collapse;margin:0;overflow-x:scroll}.table-responsive .mat-row,.table-responsive .mat-header-row{display:table-row}.table-responsive .mat-mdc-cell,.table-responsive .mat-mdc-header-cell{word-wrap:initial;display:table-cell;padding:0 8px;line-break:unset;flex-direction:column;white-space:nowrap;overflow:hidden;vertical-align:middle}.table-container{display:flex;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f;width:100%;flex-direction:column;box-sizing:border-box;overflow:hidden;border-radius:var(--mat-sys-corner-extra-large);background-color:var(--mat-sys-surface-container-high)}.table-container .table-search-row{display:flex;flex-direction:row;gap:8px;justify-content:space-between;align-items:center;padding:8px}.table-container .search-bar{width:100%;box-shadow:0 3px 1px -2px #0003,0 2px 2px #00000024,0 1px 5px #0000001f;overflow:hidden;border-radius:var(--mat-sys-corner-extra-large)}.table-container .search-bar .mat-mdc-form-field-subscript-wrapper{width:0;height:0}.table-container mat-paginator{border-radius:var(--mat-sys-corner-extra-small)}@media (max-width: 1350px){.table-container{width:900px}}@media (max-width: 1050px){.table-container{width:640px}}@media (max-width: 440px){.table-container{width:100%}}.cell-width-12{max-width:12rem}.cell-width-6{max-width:6rem}.height-65{height:65vh}.height-50{height:50vh}.width-50{width:50vw}.width-55{min-width:60vw}td.meta-warning{background-color:#ffb300}
`,`.mat-column-filename,.mat-column-submitter{box-sizing:content-box;min-width:25%}.mat-column-totalEditTime{min-width:10%}.mat-column-maxSimilarity{min-width:15%}.mat-column-moreButton,.mat-column-meta-match{min-width:10%}td.mat-column-maxSimilarity{text-align:end}td.mat-column-moreButton{text-align:center}th[mat-sort-header=maxSimilarity] .mat-sort-header-container{justify-content:flex-end}
`],encapsulation:2})};var fSe=()=>[10,20,30],Nk=class n{constructor(t){this.route=t}filterSet=Ue(null);ngOnInit(){this.route.queryParamMap.subscribe(t=>{let e=t.get("filter-set");if(e){let i=e.split(",").map(o=>Number.parseInt(o));this.filterSet.set(new Set(i))}else this.filterSet.set(null)})}static \u0275fac=function(e){return new(e||n)(J(Lo))};static \u0275cmp=Z({type:n,selectors:[["app-submissions-page"]],decls:3,vars:9,consts:[["title","Odovzdania","subtitle","",3,"isTitleCentered","isContentCentered"],[3,"limit","submissionsFilterSet","enablePagination","pageSize","pageSizeOptions","enableSearch"]],template:function(e,i){e&1&&(w(0,"app-content-container")(1,"app-surface",0),Y(2,"app-submissions-table",1),x()()),e&2&&(D(),z("isTitleCentered",!0)("isContentCentered",!1),D(),z("limit",null)("submissionsFilterSet",i.filterSet())("enablePagination",!0)("pageSize",10)("pageSizeOptions",$s(8,fSe))("enableSearch",!0))},dependencies:[Rn,Zu,On],styles:["table[_ngcontent-%COMP%]{border-bottom:1px solid var(--mat-sys-outline)}"]})};var Fk=class n{constructor(t){this.exportService=t}submission;downloadMetadataCsv(){this.exportService.exportSubmissionToCsv([this.submission],this.submission.id.toFixed(0))}static \u0275fac=function(e){return new(e||n)(J(ma))};static \u0275cmp=Z({type:n,selectors:[["app-submission-info-card"]],inputs:{submission:"submission"},decls:88,vars:16,consts:[[1,"card-group"],[1,"header-with-actions"],["mat-icon-button","",3,"click"],[1,"card-flex-box"],[1,"medium-card","base-card"],[1,"info-list"],["matListItemTitle",""],["matListItemLine",""],["matListItemMeta",""]],template:function(e,i){e&1&&(w(0,"div",0)(1,"div",1)(2,"h1"),P(3," Meta\xFAdaje "),x(),w(4,"button",2),de("click",function(){return i.downloadMetadataCsv()}),w(5,"mat-icon"),P(6,"download"),x()()(),w(7,"div",3)(8,"mat-card",4)(9,"mat-card-header")(10,"mat-card-title"),P(11,"Autori odovzdania"),x()(),w(12,"mat-card-content")(13,"mat-list",5)(14,"mat-list-item")(15,"h3",6),P(16),x(),w(17,"p",7),P(18,"Odosielate\u013E"),x(),w(19,"div",8)(20,"mat-icon"),P(21,"face"),x()()(),w(22,"mat-list-item")(23,"h3",6),P(24),x(),w(25,"p",7),P(26,"Naposledy upravil"),x(),w(27,"div",8)(28,"mat-icon"),P(29,"edit"),x()()(),w(30,"mat-list-item")(31,"h3",6),P(32),x(),w(33,"p",7),P(34,"Autor"),x(),w(35,"div",8)(36,"mat-icon"),P(37,"person"),x()()()()()(),w(38,"mat-card",4)(39,"mat-card-header")(40,"mat-card-title"),P(41,"Rozsah pr\xE1ce"),x()(),w(42,"mat-card-content")(43,"mat-list",5)(44,"mat-list-item")(45,"h3",6),P(46),Ni(47,"unixDate"),x(),w(48,"p",7),P(49,"D\xE1tum vytvorenia"),x(),w(50,"div",8)(51,"mat-icon"),P(52,"calendar_today"),x()()(),w(53,"mat-list-item")(54,"h3",6),P(55),Ni(56,"unixDate"),x(),w(57,"p",7),P(58,"D\xE1tum \xFApravy"),x(),w(59,"div",8)(60,"mat-icon"),P(61,"update"),x()()(),w(62,"mat-list-item")(63,"h3",6),P(64),Ni(65,"unixDate"),x(),w(66,"p",7),P(67,"Naposledy vytla\u010Den\xE9"),x(),w(68,"div",8)(69,"mat-icon"),P(70,"print"),x()()(),w(71,"mat-list-item")(72,"h3",6),P(73),Ni(74,"minutesTime"),x(),w(75,"p",7),P(76,"Celkov\xFD \u010Das \xFAprav"),x(),w(77,"div",8)(78,"mat-icon"),P(79,"timer"),x()()(),w(80,"mat-list-item")(81,"h3",6),P(82),x(),w(83,"p",7),P(84,"Po\u010Det rev\xEDzi\xED"),x(),w(85,"div",8)(86,"mat-icon"),P(87,"history"),x()()()()()()()()),e&2&&(D(16),xe(i.submission.fileData.submitter),D(8),xe(i.submission.fileData.metadata.modifier||"Nezn\xE1my"),D(8),xe(i.submission.fileData.metadata.creator||"Nezn\xE1my"),D(14),xe(i.submission.fileData.metadata.creationDate?Fi(47,8,i.submission.fileData.metadata.creationDate):"Nezn\xE1me"),D(9),xe(i.submission.fileData.metadata.modificationDate?Fi(56,10,i.submission.fileData.metadata.modificationDate):"Nezn\xE1me"),D(9),xe(i.submission.fileData.metadata.lastPrinted?Fi(65,12,i.submission.fileData.metadata.lastPrinted):"Nezn\xE1me"),D(9),xe(Fi(74,14,i.submission.fileData.metadata.totalEditTime)),D(9),xe(i.submission.fileData.metadata.revisionsNumber))},dependencies:[oc,ua,nc,Ku,$u,Yu,rc,uu,Nl,An,As],styles:[".medium-card[_ngcontent-%COMP%]{max-width:350px;min-width:200px}.large-card[_ngcontent-%COMP%]{max-width:400px;min-width:200px}.extra-large-card[_ngcontent-%COMP%]{max-width:450px;min-width:200px}.base-card[_ngcontent-%COMP%]{margin:auto;padding:16px}p[_ngcontent-%COMP%]{font:var(--mat-sys-body-medium);color:var(--mat-sys-on-surface-variant);margin:0}h3[_ngcontent-%COMP%]{font:var(--mat-sys-title-small);color:var(--mat-sys-on-surface);margin:0}h1[_ngcontent-%COMP%]{font:var(--mat-sys-title-large);color:var(--mat-sys-on-surface);margin:0}.text-frame[_ngcontent-%COMP%]{width:100%;overflow-y:hidden;display:flex;flex-direction:column;justify-content:center;align-content:start}.text-center[_ngcontent-%COMP%]{align-items:center}.text-frame[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font:var(--mat-sys-title-large);color:var(--mat-sys-on-surface);margin:0}.text-frame[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font:var(--mat-sys-body-medium);color:var(--mat-sys-on-surface-variant);margin:0}.header-with-actions[_ngcontent-%COMP%]{display:flex;width:100%;flex-direction:row;align-items:center;justify-content:space-between}.header-with-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{justify-self:end}.header-with-actions[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{flex-grow:1;text-align:center;margin:0}.header-with-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:auto}.info-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:24px}.info-list[_ngcontent-%COMP%] > mat-list-item[_ngcontent-%COMP%]{padding-left:0;padding-right:0;gap:16px}.card-group[_ngcontent-%COMP%]{display:flex;max-width:700px;min-width:300px;flex-direction:column;padding:16px;gap:24px;border-radius:var(--mat-sys-corner-extra-large);background-color:var(--mat-sys-surface-container-high)}.card-flex-box[_ngcontent-%COMP%]{display:flex;max-width:700px;min-width:300px;flex-direction:row;justify-content:center;flex-wrap:wrap;gap:16px}.horizontal-card-group-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:fit-content;height:100%;padding:16px;gap:8px;border-radius:var(--mat-sys-corner-extra-large);background-color:var(--mat-sys-surface-container-high)}.horizontal-card-group[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:32px}@media (max-width: 1250px){.horizontal-card-group[_ngcontent-%COMP%]{flex-wrap:wrap}}","mat-card[_ngcontent-%COMP%]{gap:16px}"]})};function gSe(n,t){n&1&&(w(0,"p"),P(1),x()),n&2&&(D(),xe("Zadanie s rovnak\xFDm autorstvom pod\u013Ea meta\xFAdajov"))}function _Se(n,t){n&1&&(w(0,"p"),P(1),x()),n&2&&(D(),xe("Najv\xE4\u010D\u0161ia podobnos\u0165 zisten\xE1 pomocou s\xE9mantick\xE9ho porovnania"))}function vSe(n,t){n&1&&(w(0,"p"),P(1),x()),n&2&&(D(),xe("Najvy\u0161\u0161ia podobnos\u0165 zisten\xE1 Jaccardov\xFDm koeficientom"))}function bSe(n,t){if(n&1&&(w(0,"h1"),P(1),x()),n&2){let e=X();D(),xe(e.hasMetaScore()?"Pr\xEDtomn\xE1":"Nen\xE1jden\xE1")}}function ySe(n,t){if(n&1&&(w(0,"h1",2),P(1),x()),n&2){let e=X();D(),xe(e.getFormattedScore())}}var zk=class n{constructor(t,e){this.analysisContextService=t;this.router=e;cn(()=>{let i=this.submissionPairSignal();if(i){let o=i.firstId;this.submission.id==i.firstId&&(o=i.secondId);let r=this.analysisContextService.getReport()();if(r){let s=r.submissions.get(o);s&&this.displayedSubmitter.set(s.fileData.submitter)}this.plagScore.set(Ut.getScoreByType(i,this.similarityType))}})}submission;submissionPairSignal=Ue(null);similarityType;displayedSubmitter=Ue(null);plagScore=Ue(null);hasMetaScore(){let t=this.plagScore();return t?t.score>0:!1}getFormattedScore(){let t=this.plagScore();return t?Ut.formatScore(t.score,0):"Nevypo\u010D\xEDtan\xE1"}onLoadPair(){this.router.navigate(["/pairs",this.submissionPairSignal().id])}static \u0275fac=function(e){return new(e||n)(J(jt),J(pi))};static \u0275cmp=Z({type:n,selectors:[["app-comparison-fast-nav"]],inputs:{submission:"submission",submissionPairSignal:"submissionPairSignal",similarityType:"similarityType"},decls:11,vars:4,consts:[[1,"comparison-fast-nav","large-card-card","base-card"],[1,"text-frame"],[2,"text-wrap","nowrap"],["mat-button","",3,"click","disabled"]],template:function(e,i){if(e&1&&(w(0,"mat-card",0)(1,"div",1)(2,"h1"),P(3),x(),ee(4,gSe,2,1,"p")(5,_Se,2,1,"p")(6,vSe,2,1,"p"),x(),ee(7,bSe,2,1,"h1")(8,ySe,2,1,"h1",2),w(9,"button",3),de("click",function(){return i.onLoadPair()}),P(10," Na\u010Dita\u0165 "),x()()),e&2){let o,r;D(3),xe((o=i.displayedSubmitter())!==null&&o!==void 0?o:"Nen\xE1jden\xFD"),D(),Xe((r=i.similarityType)==="META"?4:r==="SEMANTIC"?5:r==="JACCARD"?6:-1),D(3),Xe(i.similarityType==="META"?7:8),D(2),z("disabled",i.submissionPairSignal()===null)}},dependencies:[ua,oc,Tn],styles:[".comparison-fast-nav[_ngcontent-%COMP%]{display:flex;width:100%;flex-direction:row;justify-content:space-between;align-items:center;flex-wrap:nowrap;gap:24px}",".medium-card[_ngcontent-%COMP%]{max-width:350px;min-width:200px}.large-card[_ngcontent-%COMP%]{max-width:400px;min-width:200px}.extra-large-card[_ngcontent-%COMP%]{max-width:450px;min-width:200px}.base-card[_ngcontent-%COMP%]{margin:auto;padding:16px}p[_ngcontent-%COMP%]{font:var(--mat-sys-body-medium);color:var(--mat-sys-on-surface-variant);margin:0}h3[_ngcontent-%COMP%]{font:var(--mat-sys-title-small);color:var(--mat-sys-on-surface);margin:0}h1[_ngcontent-%COMP%]{font:var(--mat-sys-title-large);color:var(--mat-sys-on-surface);margin:0}.text-frame[_ngcontent-%COMP%]{width:100%;overflow-y:hidden;display:flex;flex-direction:column;justify-content:center;align-content:start}.text-center[_ngcontent-%COMP%]{align-items:center}.text-frame[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font:var(--mat-sys-title-large);color:var(--mat-sys-on-surface);margin:0}.text-frame[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font:var(--mat-sys-body-medium);color:var(--mat-sys-on-surface-variant);margin:0}.header-with-actions[_ngcontent-%COMP%]{display:flex;width:100%;flex-direction:row;align-items:center;justify-content:space-between}.header-with-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{justify-self:end}.header-with-actions[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{flex-grow:1;text-align:center;margin:0}.header-with-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:auto}.info-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:24px}.info-list[_ngcontent-%COMP%] > mat-list-item[_ngcontent-%COMP%]{padding-left:0;padding-right:0;gap:16px}.card-group[_ngcontent-%COMP%]{display:flex;max-width:700px;min-width:300px;flex-direction:column;padding:16px;gap:24px;border-radius:var(--mat-sys-corner-extra-large);background-color:var(--mat-sys-surface-container-high)}.card-flex-box[_ngcontent-%COMP%]{display:flex;max-width:700px;min-width:300px;flex-direction:row;justify-content:center;flex-wrap:wrap;gap:16px}.horizontal-card-group-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:fit-content;height:100%;padding:16px;gap:8px;border-radius:var(--mat-sys-corner-extra-large);background-color:var(--mat-sys-surface-container-high)}.horizontal-card-group[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:32px}@media (max-width: 1250px){.horizontal-card-group[_ngcontent-%COMP%]{flex-wrap:wrap}}"]})};var Bk=class n{constructor(t,e){this.exportService=t;this.analysisContextService=e}submission;metaSubmissionPairSignal=Ue(null);semanticSubmissionPairSignal=Ue(null);jaccardSubmissionPairSignal=Ue(null);ngOnInit(){let t=this.analysisContextService.getReport()();if(t){let e={};this.submission.pairIds.map(i=>t.pairs.get(i)).filter(i=>i!==void 0).forEach(i=>{i?.plagScores.forEach(o=>{let r=e[o.type];r?r.push(i):e[o.type]=[i]})}),this.semanticSubmissionPairSignal.set(Ut.findByPairWithMaxScore(e.SEMANTIC,"SEMANTIC")),this.jaccardSubmissionPairSignal.set(Ut.findByPairWithMaxScore(e.JACCARD,"JACCARD")),this.metaSubmissionPairSignal.set(Ut.findByPairWithMaxScore(e.META,"META"))}}onExport(){this.exportService.exportPlagSources(this.submission,this.semanticSubmissionPairSignal(),this.jaccardSubmissionPairSignal(),this.metaSubmissionPairSignal(),Date.now().toFixed(0))}static \u0275fac=function(e){return new(e||n)(J(ma),J(jt))};static \u0275cmp=Z({type:n,selectors:[["app-plagiarism-sources"]],inputs:{submission:"submission"},decls:11,vars:6,consts:[[1,"card-group"],[1,"header-with-actions"],["mat-icon-button","",3,"click"],[1,"cards-stretch"],["similarityType","SEMANTIC",3,"submission","submissionPairSignal"],["similarityType","JACCARD",3,"submission","submissionPairSignal"],["similarityType","META",3,"submission","submissionPairSignal"]],template:function(e,i){e&1&&(w(0,"div",0)(1,"div",1)(2,"h1"),P(3," Najpravdepodobnej\u0161ie zdroje plagi\xE1torstva "),x(),w(4,"button",2),de("click",function(){return i.onExport()}),w(5,"mat-icon"),P(6,"download"),x()()(),w(7,"div",3),Y(8,"app-comparison-fast-nav",4)(9,"app-comparison-fast-nav",5)(10,"app-comparison-fast-nav",6),x()()),e&2&&(D(8),z("submission",i.submission)("submissionPairSignal",i.semanticSubmissionPairSignal),D(),z("submission",i.submission)("submissionPairSignal",i.jaccardSubmissionPairSignal),D(),z("submission",i.submission)("submissionPairSignal",i.metaSubmissionPairSignal))},dependencies:[zk,As,An],styles:[".cards-stretch[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:max-content;gap:16px}",".medium-card[_ngcontent-%COMP%]{max-width:350px;min-width:200px}.large-card[_ngcontent-%COMP%]{max-width:400px;min-width:200px}.extra-large-card[_ngcontent-%COMP%]{max-width:450px;min-width:200px}.base-card[_ngcontent-%COMP%]{margin:auto;padding:16px}p[_ngcontent-%COMP%]{font:var(--mat-sys-body-medium);color:var(--mat-sys-on-surface-variant);margin:0}h3[_ngcontent-%COMP%]{font:var(--mat-sys-title-small);color:var(--mat-sys-on-surface);margin:0}h1[_ngcontent-%COMP%]{font:var(--mat-sys-title-large);color:var(--mat-sys-on-surface);margin:0}.text-frame[_ngcontent-%COMP%]{width:100%;overflow-y:hidden;display:flex;flex-direction:column;justify-content:center;align-content:start}.text-center[_ngcontent-%COMP%]{align-items:center}.text-frame[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font:var(--mat-sys-title-large);color:var(--mat-sys-on-surface);margin:0}.text-frame[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font:var(--mat-sys-body-medium);color:var(--mat-sys-on-surface-variant);margin:0}.header-with-actions[_ngcontent-%COMP%]{display:flex;width:100%;flex-direction:row;align-items:center;justify-content:space-between}.header-with-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{justify-self:end}.header-with-actions[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{flex-grow:1;text-align:center;margin:0}.header-with-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:auto}.info-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:24px}.info-list[_ngcontent-%COMP%] > mat-list-item[_ngcontent-%COMP%]{padding-left:0;padding-right:0;gap:16px}.card-group[_ngcontent-%COMP%]{display:flex;max-width:700px;min-width:300px;flex-direction:column;padding:16px;gap:24px;border-radius:var(--mat-sys-corner-extra-large);background-color:var(--mat-sys-surface-container-high)}.card-flex-box[_ngcontent-%COMP%]{display:flex;max-width:700px;min-width:300px;flex-direction:row;justify-content:center;flex-wrap:wrap;gap:16px}.horizontal-card-group-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:fit-content;height:100%;padding:16px;gap:8px;border-radius:var(--mat-sys-corner-extra-large);background-color:var(--mat-sys-surface-container-high)}.horizontal-card-group[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:32px}@media (max-width: 1250px){.horizontal-card-group[_ngcontent-%COMP%]{flex-wrap:wrap}}"]})};function wSe(n,t){if(n&1&&(w(0,"app-surface",1),Y(1,"app-submission-info-card",2)(2,"app-plagiarism-sources",2),x(),w(3,"app-surface",3),Y(4,"app-pairs-table",4),x(),w(5,"app-surface",5),Y(6,"app-text-editor",6),x()),n&2){let e=X();z("isTitleCentered",!0)("isContentCentered",!1)("isHorizontal",!0)("wrapBreakpoint",1200),D(),z("submission",e.submission()),D(),z("submission",e.submission()),D(),z("isTitleCentered",!0)("isContentCentered",!1),D(),z("pairsSource",e.pairsSource)("isHalfPage",!0)("contextPrefix","submission-view-page-"+e.submission().id),D(),z("isTitleCentered",!0)("isContentCentered",!1),D(),z("submission",e.submission())("markingSide",0)}}function xSe(n,t){n&1&&(w(0,"app-surface",0),Y(1,"mat-progress-bar",7),x())}var Hk=class n{constructor(t,e,i){this.analysisContext=t;this.router=e;this.route=i}submissionId=Ue(null);submission=Ri(()=>{let t=this.submissionId(),e=this.analysisContext.getReport()();if(t&&e){let i=e.submissions.get(t);return i||null}return this.router.navigate(["/submissions"]),null});pairsSource=Ri(()=>{let t=this.submissionId(),e=this.analysisContext.getReport()();if(t&&e){let i=e.submissions.get(t);return i?i.pairIds.map(o=>e.pairs.get(o)):[]}return this.router.navigate(["/submissions"]),[]});ngOnInit(){this.route.paramMap.subscribe(t=>{let e=t.get("id");e&&this.submissionId.set(parseInt(e))})}static \u0275fac=function(e){return new(e||n)(J(jt),J(pi),J(Lo))};static \u0275cmp=Z({type:n,selectors:[["app-submission-view-page"]],decls:3,vars:1,consts:[["title","Na\u010D\xEDtanie odovzdania","subtitle",""],["title","Informacie o odovzdan\xED","subtitle","",3,"isTitleCentered","isContentCentered","isHorizontal","wrapBreakpoint"],[3,"submission"],["title","Dvojice odovzdan\xED","subtitle","",3,"isTitleCentered","isContentCentered"],[3,"pairsSource","isHalfPage","contextPrefix"],["title","Obsah odovzdania","subtitle","",3,"isTitleCentered","isContentCentered"],[3,"submission","markingSide"],["mode","indeterminate"]],template:function(e,i){e&1&&(w(0,"app-content-container"),ee(1,wSe,7,15)(2,xSe,2,0,"app-surface",0),x()),e&2&&(D(),Xe(i.submission()!==null?1:2))},dependencies:[On,Fk,Rn,hu,gu,Zn,p_,Bk],styles:["app-text-editor[_ngcontent-%COMP%]{height:60vh}"]})};var CSe=["chart"],f_=(()=>{class n{constructor(){this.chart=rn(),this.annotations=rn(),this.colors=rn(),this.dataLabels=rn(),this.series=rn(),this.stroke=rn(),this.labels=rn(),this.legend=rn(),this.markers=rn(),this.noData=rn(),this.fill=rn(),this.tooltip=rn(),this.plotOptions=rn(),this.responsive=rn(),this.xaxis=rn(),this.yaxis=rn(),this.forecastDataPoints=rn(),this.grid=rn(),this.states=rn(),this.title=rn(),this.subtitle=rn(),this.theme=rn(),this.autoUpdateSeries=rn(!0),this.chartReady=bj(),this.chartInstance=Ue(null),this.chartElement=Rj.required("chart"),this.ngZone=y(Ye),this.isBrowser=Yv(y(Ia))}ngOnChanges(e){this.isBrowser&&this.ngZone.runOutsideAngular(()=>{VA.schedule(()=>this.hydrate(e))})}ngOnDestroy(){this.destroy()}hydrate(e){if(this.autoUpdateSeries()&&Object.keys(e).filter(o=>o!=="series").length===0){this.updateSeries(this.series(),!0);return}this.createElement()}createElement(){return M(this,null,function*(){let{default:e}=yield import("./chunk-UXTSVC3H.js");window.ApexCharts||=e;let i={};["annotations","chart","colors","dataLabels","series","stroke","labels","legend","fill","tooltip","plotOptions","responsive","markers","noData","xaxis","yaxis","forecastDataPoints","grid","states","title","subtitle","theme"].forEach(s=>{let a=this[s]();a&&(i[s]=a)}),this.destroy();let r=this.ngZone.runOutsideAngular(()=>new e(this.chartElement().nativeElement,i));this.chartInstance.set(r),this.render(),this.chartReady.emit({chartObj:r})})}render(){return this.ngZone.runOutsideAngular(()=>this.chartInstance()?.render())}updateOptions(e,i,o,r){return this.ngZone.runOutsideAngular(()=>this.chartInstance()?.updateOptions(e,i,o,r))}updateSeries(e,i){return this.ngZone.runOutsideAngular(()=>this.chartInstance()?.updateSeries(e,i))}appendSeries(e,i){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.appendSeries(e,i))}appendData(e){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.appendData(e))}highlightSeries(e){return this.ngZone.runOutsideAngular(()=>this.chartInstance()?.highlightSeries(e))}toggleSeries(e){return this.ngZone.runOutsideAngular(()=>this.chartInstance()?.toggleSeries(e))}showSeries(e){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.showSeries(e))}hideSeries(e){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.hideSeries(e))}resetSeries(){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.resetSeries())}zoomX(e,i){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.zoomX(e,i))}toggleDataPointSelection(e,i){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.toggleDataPointSelection(e,i))}destroy(){this.chartInstance()?.destroy(),this.chartInstance.set(null)}setLocale(e){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.setLocale(e))}paper(){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.paper())}addXaxisAnnotation(e,i,o){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.addXaxisAnnotation(e,i,o))}addYaxisAnnotation(e,i,o){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.addYaxisAnnotation(e,i,o))}addPointAnnotation(e,i,o){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.addPointAnnotation(e,i,o))}removeAnnotation(e,i){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.removeAnnotation(e,i))}clearAnnotations(e){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.clearAnnotations(e))}dataURI(e){return this.chartInstance()?.dataURI(e)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=Z({type:n,selectors:[["apx-chart"]],viewQuery:function(i,o){i&1&&Vj(o.chartElement,CSe,5),i&2&&bx()},inputs:{chart:[1,"chart"],annotations:[1,"annotations"],colors:[1,"colors"],dataLabels:[1,"dataLabels"],series:[1,"series"],stroke:[1,"stroke"],labels:[1,"labels"],legend:[1,"legend"],markers:[1,"markers"],noData:[1,"noData"],fill:[1,"fill"],tooltip:[1,"tooltip"],plotOptions:[1,"plotOptions"],responsive:[1,"responsive"],xaxis:[1,"xaxis"],yaxis:[1,"yaxis"],forecastDataPoints:[1,"forecastDataPoints"],grid:[1,"grid"],states:[1,"states"],title:[1,"title"],subtitle:[1,"subtitle"],theme:[1,"theme"],autoUpdateSeries:[1,"autoUpdateSeries"]},outputs:{chartReady:"chartReady"},features:[fi],decls:2,vars:0,consts:[["chart",""]],template:function(i,o){i&1&&Y(0,"div",null,0)},encapsulation:2,changeDetection:0})}}return n})();var Vk=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=yt({type:n})}static{this.\u0275inj=bt({})}}return n})();var DSe=["knob"],ISe=["valueIndicatorContainer"];function ESe(n,t){if(n&1&&(w(0,"div",2,1)(2,"div",5)(3,"span",6),P(4),x()()()),n&2){let e=X();D(4),xe(e.valueIndicatorText)}}var MSe=["trackActive"],kSe=["*"];function TSe(n,t){if(n&1&&Y(0,"div"),n&2){let e=t.$implicit,i=t.$index,o=X(3);Ao(e===0?"mdc-slider__tick-mark--active":"mdc-slider__tick-mark--inactive"),bo("transform",o._calcTickMarkTransform(i))}}function ASe(n,t){if(n&1&&$r(0,TSe,1,4,"div",8,Bj),n&2){let e=X(2);Kr(e._tickMarks)}}function RSe(n,t){if(n&1&&(w(0,"div",6,1),ee(2,ASe,2,0),x()),n&2){let e=X();D(2),Xe(e._cachedWidth?2:-1)}}function OSe(n,t){if(n&1&&Y(0,"mat-slider-visual-thumb",7),n&2){let e=X();z("discrete",e.discrete)("thumbPosition",1)("valueIndicatorText",e.startValueIndicatorText)}}var Yt=function(n){return n[n.START=1]="START",n[n.END=2]="END",n}(Yt||{}),g_=function(n){return n[n.ACTIVE=0]="ACTIVE",n[n.INACTIVE=1]="INACTIVE",n}(g_||{}),_3=new ae("_MatSlider"),RX=new ae("_MatSliderThumb"),PSe=new ae("_MatSliderRangeThumb"),OX=new ae("_MatSliderVisualThumb");var LSe=(()=>{class n{_cdr=y(Gt);_ngZone=y(Ye);_slider=y(_3);_renderer=y(Li);_listenerCleanups;discrete;thumbPosition;valueIndicatorText;_ripple;_knob;_valueIndicatorContainer;_sliderInput;_sliderInputEl;_hoverRippleRef;_focusRippleRef;_activeRippleRef;_isHovered=!1;_isActive=!1;_isValueIndicatorVisible=!1;_hostElement=y(Oe).nativeElement;_platform=y(Wt);constructor(){}ngAfterViewInit(){let e=this._slider._getInput(this.thumbPosition);e&&(this._ripple.radius=24,this._sliderInput=e,this._sliderInputEl=this._sliderInput._hostElement,this._ngZone.runOutsideAngular(()=>{let i=this._sliderInputEl,o=this._renderer;this._listenerCleanups=[o.listen(i,"pointermove",this._onPointerMove),o.listen(i,"pointerdown",this._onDragStart),o.listen(i,"pointerup",this._onDragEnd),o.listen(i,"pointerleave",this._onMouseLeave),o.listen(i,"focus",this._onFocus),o.listen(i,"blur",this._onBlur)]}))}ngOnDestroy(){this._listenerCleanups?.forEach(e=>e())}_onPointerMove=e=>{if(this._sliderInput._isFocused)return;let i=this._hostElement.getBoundingClientRect(),o=this._slider._isCursorOnSliderThumb(e,i);this._isHovered=o,o?this._showHoverRipple():this._hideRipple(this._hoverRippleRef)};_onMouseLeave=()=>{this._isHovered=!1,this._hideRipple(this._hoverRippleRef)};_onFocus=()=>{this._hideRipple(this._hoverRippleRef),this._showFocusRipple(),this._hostElement.classList.add("mdc-slider__thumb--focused")};_onBlur=()=>{this._isActive||this._hideRipple(this._focusRippleRef),this._isHovered&&this._showHoverRipple(),this._hostElement.classList.remove("mdc-slider__thumb--focused")};_onDragStart=e=>{e.button===0&&(this._isActive=!0,this._showActiveRipple())};_onDragEnd=()=>{this._isActive=!1,this._hideRipple(this._activeRippleRef),this._sliderInput._isFocused||this._hideRipple(this._focusRippleRef),this._platform.SAFARI&&this._showHoverRipple()};_showHoverRipple(){this._isShowingRipple(this._hoverRippleRef)||(this._hoverRippleRef=this._showRipple({enterDuration:0,exitDuration:0}),this._hoverRippleRef?.element.classList.add("mat-mdc-slider-hover-ripple"))}_showFocusRipple(){this._isShowingRipple(this._focusRippleRef)||(this._focusRippleRef=this._showRipple({enterDuration:0,exitDuration:0},!0),this._focusRippleRef?.element.classList.add("mat-mdc-slider-focus-ripple"))}_showActiveRipple(){this._isShowingRipple(this._activeRippleRef)||(this._activeRippleRef=this._showRipple({enterDuration:225,exitDuration:400}),this._activeRippleRef?.element.classList.add("mat-mdc-slider-active-ripple"))}_isShowingRipple(e){return e?.state===Cr.FADING_IN||e?.state===Cr.VISIBLE}_showRipple(e,i){if(!this._slider.disabled&&(this._showValueIndicator(),this._slider._isRange&&this._slider._getThumb(this.thumbPosition===Yt.START?Yt.END:Yt.START)._showValueIndicator(),!(this._slider._globalRippleOptions?.disabled&&!i)))return this._ripple.launch({animation:this._slider._noopAnimations?{enterDuration:0,exitDuration:0}:e,centered:!0,persistent:!0})}_hideRipple(e){if(e?.fadeOut(),this._isShowingAnyRipple())return;this._slider._isRange||this._hideValueIndicator();let i=this._getSibling();i._isShowingAnyRipple()||(this._hideValueIndicator(),i._hideValueIndicator())}_showValueIndicator(){this._hostElement.classList.add("mdc-slider__thumb--with-indicator")}_hideValueIndicator(){this._hostElement.classList.remove("mdc-slider__thumb--with-indicator")}_getSibling(){return this._slider._getThumb(this.thumbPosition===Yt.START?Yt.END:Yt.START)}_getValueIndicatorContainer(){return this._valueIndicatorContainer?.nativeElement}_getKnob(){return this._knob.nativeElement}_isShowingAnyRipple(){return this._isShowingRipple(this._hoverRippleRef)||this._isShowingRipple(this._focusRippleRef)||this._isShowingRipple(this._activeRippleRef)}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Z({type:n,selectors:[["mat-slider-visual-thumb"]],viewQuery:function(i,o){if(i&1&&(st(nu,5),st(DSe,5),st(ISe,5)),i&2){let r;fe(r=ge())&&(o._ripple=r.first),fe(r=ge())&&(o._knob=r.first),fe(r=ge())&&(o._valueIndicatorContainer=r.first)}},hostAttrs:[1,"mdc-slider__thumb","mat-mdc-slider-visual-thumb"],inputs:{discrete:"discrete",thumbPosition:"thumbPosition",valueIndicatorText:"valueIndicatorText"},features:[At([{provide:OX,useExisting:n}])],decls:4,vars:2,consts:[["knob",""],["valueIndicatorContainer",""],[1,"mdc-slider__value-indicator-container"],[1,"mdc-slider__thumb-knob"],["matRipple","",1,"mat-focus-indicator",3,"matRippleDisabled"],[1,"mdc-slider__value-indicator"],[1,"mdc-slider__value-indicator-text"]],template:function(i,o){i&1&&(ee(0,ESe,5,1,"div",2),Y(1,"div",3,0)(3,"div",4)),i&2&&(Xe(o.discrete?0:-1),D(3),z("matRippleDisabled",!0))},dependencies:[nu],styles:[`.mat-mdc-slider-visual-thumb .mat-ripple{height:100%;width:100%}.mat-mdc-slider .mdc-slider__tick-marks{justify-content:start}.mat-mdc-slider .mdc-slider__tick-marks .mdc-slider__tick-mark--active,.mat-mdc-slider .mdc-slider__tick-marks .mdc-slider__tick-mark--inactive{position:absolute;left:2px}
`],encapsulation:2,changeDetection:0})}return n})(),Wk=(()=>{class n{_ngZone=y(Ye);_cdr=y(Gt);_elementRef=y(Oe);_dir=y(en,{optional:!0});_globalRippleOptions=y(Ol,{optional:!0});_trackActive;_thumbs;_input;_inputs;get disabled(){return this._disabled}set disabled(e){this._disabled=e;let i=this._getInput(Yt.END),o=this._getInput(Yt.START);i&&(i.disabled=this._disabled),o&&(o.disabled=this._disabled)}_disabled=!1;get discrete(){return this._discrete}set discrete(e){this._discrete=e,this._updateValueIndicatorUIs()}_discrete=!1;showTickMarks=!1;get min(){return this._min}set min(e){let i=isNaN(e)?this._min:e;this._min!==i&&this._updateMin(i)}_min=0;color;disableRipple=!1;_updateMin(e){let i=this._min;this._min=e,this._isRange?this._updateMinRange({old:i,new:e}):this._updateMinNonRange(e),this._onMinMaxOrStepChange()}_updateMinRange(e){let i=this._getInput(Yt.END),o=this._getInput(Yt.START),r=i.value,s=o.value;o.min=e.new,i.min=Math.max(e.new,o.value),o.max=Math.min(i.max,i.value),o._updateWidthInactive(),i._updateWidthInactive(),e.new<e.old?this._onTranslateXChangeBySideEffect(i,o):this._onTranslateXChangeBySideEffect(o,i),r!==i.value&&this._onValueChange(i),s!==o.value&&this._onValueChange(o)}_updateMinNonRange(e){let i=this._getInput(Yt.END);if(i){let o=i.value;i.min=e,i._updateThumbUIByValue(),this._updateTrackUI(i),o!==i.value&&this._onValueChange(i)}}get max(){return this._max}set max(e){let i=isNaN(e)?this._max:e;this._max!==i&&this._updateMax(i)}_max=100;_updateMax(e){let i=this._max;this._max=e,this._isRange?this._updateMaxRange({old:i,new:e}):this._updateMaxNonRange(e),this._onMinMaxOrStepChange()}_updateMaxRange(e){let i=this._getInput(Yt.END),o=this._getInput(Yt.START),r=i.value,s=o.value;i.max=e.new,o.max=Math.min(e.new,i.value),i.min=o.value,i._updateWidthInactive(),o._updateWidthInactive(),e.new>e.old?this._onTranslateXChangeBySideEffect(o,i):this._onTranslateXChangeBySideEffect(i,o),r!==i.value&&this._onValueChange(i),s!==o.value&&this._onValueChange(o)}_updateMaxNonRange(e){let i=this._getInput(Yt.END);if(i){let o=i.value;i.max=e,i._updateThumbUIByValue(),this._updateTrackUI(i),o!==i.value&&this._onValueChange(i)}}get step(){return this._step}set step(e){let i=isNaN(e)?this._step:e;this._step!==i&&this._updateStep(i)}_step=1;_updateStep(e){this._step=e,this._isRange?this._updateStepRange():this._updateStepNonRange(),this._onMinMaxOrStepChange()}_updateStepRange(){let e=this._getInput(Yt.END),i=this._getInput(Yt.START),o=e.value,r=i.value,s=i.value;e.min=this._min,i.max=this._max,e.step=this._step,i.step=this._step,this._platform.SAFARI&&(e.value=e.value,i.value=i.value),e.min=Math.max(this._min,i.value),i.max=Math.min(this._max,e.value),i._updateWidthInactive(),e._updateWidthInactive(),e.value<s?this._onTranslateXChangeBySideEffect(i,e):this._onTranslateXChangeBySideEffect(e,i),o!==e.value&&this._onValueChange(e),r!==i.value&&this._onValueChange(i)}_updateStepNonRange(){let e=this._getInput(Yt.END);if(e){let i=e.value;e.step=this._step,this._platform.SAFARI&&(e.value=e.value),e._updateThumbUIByValue(),i!==e.value&&this._onValueChange(e)}}displayWith=e=>`${e}`;_tickMarks;_noopAnimations;_dirChangeSubscription;_resizeObserver;_cachedWidth;_cachedLeft;_rippleRadius=24;startValueIndicatorText="";endValueIndicatorText="";_endThumbTransform;_startThumbTransform;_isRange=!1;_isRtl=!1;_hasViewInitialized=!1;_tickMarkTrackWidth=0;_hasAnimation=!1;_resizeTimer=null;_platform=y(Wt);constructor(){y(xn).load(Ts);let e=y(Ei,{optional:!0});this._noopAnimations=e==="NoopAnimations",this._dir&&(this._dirChangeSubscription=this._dir.change.subscribe(()=>this._onDirChange()),this._isRtl=this._dir.value==="rtl")}_knobRadius=8;_inputPadding;ngAfterViewInit(){this._platform.isBrowser&&this._updateDimensions();let e=this._getInput(Yt.END),i=this._getInput(Yt.START);this._isRange=!!e&&!!i,this._cdr.detectChanges();let o=this._getThumb(Yt.END);this._rippleRadius=o._ripple.radius,this._inputPadding=this._rippleRadius-this._knobRadius,this._isRange?this._initUIRange(e,i):this._initUINonRange(e),this._updateTrackUI(e),this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._observeHostResize(),this._cdr.detectChanges()}_initUINonRange(e){e.initProps(),e.initUI(),this._updateValueIndicatorUI(e),this._hasViewInitialized=!0,e._updateThumbUIByValue()}_initUIRange(e,i){e.initProps(),e.initUI(),i.initProps(),i.initUI(),e._updateMinMax(),i._updateMinMax(),e._updateStaticStyles(),i._updateStaticStyles(),this._updateValueIndicatorUIs(),this._hasViewInitialized=!0,e._updateThumbUIByValue(),i._updateThumbUIByValue()}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._resizeObserver?.disconnect(),this._resizeObserver=null}_onDirChange(){this._isRtl=this._dir?.value==="rtl",this._isRange?this._onDirChangeRange():this._onDirChangeNonRange(),this._updateTickMarkUI()}_onDirChangeRange(){let e=this._getInput(Yt.END),i=this._getInput(Yt.START);e._setIsLeftThumb(),i._setIsLeftThumb(),e.translateX=e._calcTranslateXByValue(),i.translateX=i._calcTranslateXByValue(),e._updateStaticStyles(),i._updateStaticStyles(),e._updateWidthInactive(),i._updateWidthInactive(),e._updateThumbUIByValue(),i._updateThumbUIByValue()}_onDirChangeNonRange(){this._getInput(Yt.END)._updateThumbUIByValue()}_observeHostResize(){typeof ResizeObserver>"u"||!ResizeObserver||this._ngZone.runOutsideAngular(()=>{this._resizeObserver=new ResizeObserver(()=>{this._isActive()||(this._resizeTimer&&clearTimeout(this._resizeTimer),this._onResize())}),this._resizeObserver.observe(this._elementRef.nativeElement)})}_isActive(){return this._getThumb(Yt.START)._isActive||this._getThumb(Yt.END)._isActive}_getValue(e=Yt.END){let i=this._getInput(e);return i?i.value:this.min}_skipUpdate(){return!!(this._getInput(Yt.START)?._skipUIUpdate||this._getInput(Yt.END)?._skipUIUpdate)}_updateDimensions(){this._cachedWidth=this._elementRef.nativeElement.offsetWidth,this._cachedLeft=this._elementRef.nativeElement.getBoundingClientRect().left}_setTrackActiveStyles(e){let i=this._trackActive.nativeElement.style;i.left=e.left,i.right=e.right,i.transformOrigin=e.transformOrigin,i.transform=e.transform}_calcTickMarkTransform(e){let i=e*(this._tickMarkTrackWidth/(this._tickMarks.length-1));return`translateX(${this._isRtl?this._cachedWidth-6-i:i}px`}_onTranslateXChange(e){this._hasViewInitialized&&(this._updateThumbUI(e),this._updateTrackUI(e),this._updateOverlappingThumbUI(e))}_onTranslateXChangeBySideEffect(e,i){this._hasViewInitialized&&(e._updateThumbUIByValue(),i._updateThumbUIByValue())}_onValueChange(e){this._hasViewInitialized&&(this._updateValueIndicatorUI(e),this._updateTickMarkUI(),this._cdr.detectChanges())}_onMinMaxOrStepChange(){this._hasViewInitialized&&(this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._cdr.markForCheck())}_onResize(){if(this._hasViewInitialized){if(this._updateDimensions(),this._isRange){let e=this._getInput(Yt.END),i=this._getInput(Yt.START);e._updateThumbUIByValue(),i._updateThumbUIByValue(),e._updateStaticStyles(),i._updateStaticStyles(),e._updateMinMax(),i._updateMinMax(),e._updateWidthInactive(),i._updateWidthInactive()}else{let e=this._getInput(Yt.END);e&&e._updateThumbUIByValue()}this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._cdr.detectChanges()}}_thumbsOverlap=!1;_areThumbsOverlapping(){let e=this._getInput(Yt.START),i=this._getInput(Yt.END);return!e||!i?!1:i.translateX-e.translateX<20}_updateOverlappingThumbClassNames(e){let i=e.getSibling(),o=this._getThumb(e.thumbPosition);this._getThumb(i.thumbPosition)._hostElement.classList.remove("mdc-slider__thumb--top"),o._hostElement.classList.toggle("mdc-slider__thumb--top",this._thumbsOverlap)}_updateOverlappingThumbUI(e){!this._isRange||this._skipUpdate()||this._thumbsOverlap!==this._areThumbsOverlapping()&&(this._thumbsOverlap=!this._thumbsOverlap,this._updateOverlappingThumbClassNames(e))}_updateThumbUI(e){if(this._skipUpdate())return;let i=this._getThumb(e.thumbPosition===Yt.END?Yt.END:Yt.START);i._hostElement.style.transform=`translateX(${e.translateX}px)`}_updateValueIndicatorUI(e){if(this._skipUpdate())return;let i=this.displayWith(e.value);if(this._hasViewInitialized?e._valuetext.set(i):e._hostElement.setAttribute("aria-valuetext",i),this.discrete){e.thumbPosition===Yt.START?this.startValueIndicatorText=i:this.endValueIndicatorText=i;let o=this._getThumb(e.thumbPosition);i.length<3?o._hostElement.classList.add("mdc-slider__thumb--short-value"):o._hostElement.classList.remove("mdc-slider__thumb--short-value")}}_updateValueIndicatorUIs(){let e=this._getInput(Yt.END),i=this._getInput(Yt.START);e&&this._updateValueIndicatorUI(e),i&&this._updateValueIndicatorUI(i)}_updateTickMarkTrackUI(){if(!this.showTickMarks||this._skipUpdate())return;let e=this._step&&this._step>0?this._step:1,o=(Math.floor(this.max/e)*e-this.min)/(this.max-this.min);this._tickMarkTrackWidth=(this._cachedWidth-6)*o}_updateTrackUI(e){this._skipUpdate()||(this._isRange?this._updateTrackUIRange(e):this._updateTrackUINonRange(e))}_updateTrackUIRange(e){let i=e.getSibling();if(!i||!this._cachedWidth)return;let o=Math.abs(i.translateX-e.translateX)/this._cachedWidth;e._isLeftThumb&&this._cachedWidth?this._setTrackActiveStyles({left:"auto",right:`${this._cachedWidth-i.translateX}px`,transformOrigin:"right",transform:`scaleX(${o})`}):this._setTrackActiveStyles({left:`${i.translateX}px`,right:"auto",transformOrigin:"left",transform:`scaleX(${o})`})}_updateTrackUINonRange(e){this._isRtl?this._setTrackActiveStyles({left:"auto",right:"0px",transformOrigin:"right",transform:`scaleX(${1-e.fillPercentage})`}):this._setTrackActiveStyles({left:"0px",right:"auto",transformOrigin:"left",transform:`scaleX(${e.fillPercentage})`})}_updateTickMarkUI(){if(!this.showTickMarks||this.step===void 0||this.min===void 0||this.max===void 0)return;let e=this.step>0?this.step:1;this._isRange?this._updateTickMarkUIRange(e):this._updateTickMarkUINonRange(e)}_updateTickMarkUINonRange(e){let i=this._getValue(),o=Math.max(Math.round((i-this.min)/e),0)+1,r=Math.max(Math.round((this.max-i)/e),0)-1;this._isRtl?o++:r++,this._tickMarks=Array(o).fill(g_.ACTIVE).concat(Array(r).fill(g_.INACTIVE))}_updateTickMarkUIRange(e){let i=this._getValue(),o=this._getValue(Yt.START),r=Math.max(Math.round((o-this.min)/e),0),s=Math.max(Math.round((i-o)/e)+1,0),a=Math.max(Math.round((this.max-i)/e),0);this._tickMarks=Array(r).fill(g_.INACTIVE).concat(Array(s).fill(g_.ACTIVE),Array(a).fill(g_.INACTIVE))}_getInput(e){if(e===Yt.END&&this._input)return this._input;if(this._inputs?.length)return e===Yt.START?this._inputs.first:this._inputs.last}_getThumb(e){return e===Yt.END?this._thumbs?.last:this._thumbs?.first}_setTransition(e){this._hasAnimation=!this._platform.IOS&&e&&!this._noopAnimations,this._elementRef.nativeElement.classList.toggle("mat-mdc-slider-with-animation",this._hasAnimation)}_isCursorOnSliderThumb(e,i){let o=i.width/2,r=i.x+o,s=i.y+o,a=e.clientX-r,l=e.clientY-s;return Math.pow(a,2)+Math.pow(l,2)<Math.pow(o,2)}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Z({type:n,selectors:[["mat-slider"]],contentQueries:function(i,o,r){if(i&1&&(xt(r,RX,5),xt(r,PSe,4)),i&2){let s;fe(s=ge())&&(o._input=s.first),fe(s=ge())&&(o._inputs=s)}},viewQuery:function(i,o){if(i&1&&(st(MSe,5),st(OX,5)),i&2){let r;fe(r=ge())&&(o._trackActive=r.first),fe(r=ge())&&(o._thumbs=r)}},hostAttrs:[1,"mat-mdc-slider","mdc-slider"],hostVars:12,hostBindings:function(i,o){i&2&&(Ao("mat-"+(o.color||"primary")),Se("mdc-slider--range",o._isRange)("mdc-slider--disabled",o.disabled)("mdc-slider--discrete",o.discrete)("mdc-slider--tick-marks",o.showTickMarks)("_mat-animation-noopable",o._noopAnimations))},inputs:{disabled:[2,"disabled","disabled",Ke],discrete:[2,"discrete","discrete",Ke],showTickMarks:[2,"showTickMarks","showTickMarks",Ke],min:[2,"min","min",Yi],color:"color",disableRipple:[2,"disableRipple","disableRipple",Ke],max:[2,"max","max",Yi],step:[2,"step","step",Yi],displayWith:"displayWith"},exportAs:["matSlider"],features:[At([{provide:_3,useExisting:n}])],ngContentSelectors:kSe,decls:9,vars:5,consts:[["trackActive",""],["tickMarkContainer",""],[1,"mdc-slider__track"],[1,"mdc-slider__track--inactive"],[1,"mdc-slider__track--active"],[1,"mdc-slider__track--active_fill"],[1,"mdc-slider__tick-marks"],[3,"discrete","thumbPosition","valueIndicatorText"],[3,"class","transform"]],template:function(i,o){i&1&&(wt(),Fe(0),w(1,"div",2),Y(2,"div",3),w(3,"div",4),Y(4,"div",5,0),x(),ee(6,RSe,3,1,"div",6),x(),ee(7,OSe,1,3,"mat-slider-visual-thumb",7),Y(8,"mat-slider-visual-thumb",7)),i&2&&(D(6),Xe(o.showTickMarks?6:-1),D(),Xe(o._isRange?7:-1),D(),z("discrete",o.discrete)("thumbPosition",2)("valueIndicatorText",o.endValueIndicatorText))},dependencies:[LSe],styles:[`.mdc-slider__track{position:absolute;top:50%;transform:translateY(-50%);width:100%;pointer-events:none;height:var(--mdc-slider-inactive-track-height, 4px)}.mdc-slider__track--active,.mdc-slider__track--inactive{display:flex;height:100%;position:absolute;width:100%}.mdc-slider__track--active{overflow:hidden;border-radius:var(--mdc-slider-active-track-shape, var(--mat-sys-corner-full));height:var(--mdc-slider-active-track-height, 4px);top:calc((var(--mdc-slider-inactive-track-height, 4px) - var(--mdc-slider-active-track-height, 4px))/2)}.mdc-slider__track--active_fill{border-top-style:solid;box-sizing:border-box;height:100%;width:100%;position:relative;transform-origin:left;transition:transform 80ms ease;border-color:var(--mdc-slider-active-track-color, var(--mat-sys-primary));border-top-width:var(--mdc-slider-active-track-height, 4px)}.mdc-slider--disabled .mdc-slider__track--active_fill{border-color:var(--mdc-slider-disabled-active-track-color, var(--mat-sys-on-surface))}[dir=rtl] .mdc-slider__track--active_fill{-webkit-transform-origin:right;transform-origin:right}.mdc-slider__track--inactive{left:0;top:0;opacity:.24;background-color:var(--mdc-slider-inactive-track-color, var(--mat-sys-surface-variant));height:var(--mdc-slider-inactive-track-height, 4px);border-radius:var(--mdc-slider-inactive-track-shape, var(--mat-sys-corner-full))}.mdc-slider--disabled .mdc-slider__track--inactive{background-color:var(--mdc-slider-disabled-inactive-track-color, var(--mat-sys-on-surface));opacity:.24}.mdc-slider__track--inactive::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media(forced-colors: active){.mdc-slider__track--inactive::before{border-color:CanvasText}}.mdc-slider__value-indicator-container{bottom:44px;left:50%;pointer-events:none;position:absolute;transform:translateX(-50%);transform:var(--mat-slider-value-indicator-container-transform, translateX(-50%) rotate(-45deg))}.mdc-slider__thumb--with-indicator .mdc-slider__value-indicator-container{pointer-events:auto}.mdc-slider__value-indicator{display:flex;align-items:center;border-radius:4px;height:32px;padding:0 12px;transform:scale(0);transform-origin:bottom;opacity:1;transition:transform 100ms cubic-bezier(0.4, 0, 1, 1);word-break:normal;background-color:var(--mdc-slider-label-container-color, var(--mat-sys-primary));color:var(--mdc-slider-label-label-text-color, var(--mat-sys-on-primary));width:var(--mat-slider-value-indicator-width, 28px);height:var(--mat-slider-value-indicator-height, 28px);padding:var(--mat-slider-value-indicator-padding, 0);opacity:var(--mat-slider-value-indicator-opacity, 1);border-radius:var(--mat-slider-value-indicator-border-radius, 50% 50% 50% 0)}.mdc-slider__thumb--with-indicator .mdc-slider__value-indicator{transition:transform 100ms cubic-bezier(0, 0, 0.2, 1);transform:scale(1)}.mdc-slider__value-indicator::before{border-left:6px solid rgba(0,0,0,0);border-right:6px solid rgba(0,0,0,0);border-top:6px solid;bottom:-5px;content:"";height:0;left:50%;position:absolute;transform:translateX(-50%);width:0;display:var(--mat-slider-value-indicator-caret-display, none);border-top-color:var(--mdc-slider-label-container-color, var(--mat-sys-primary))}.mdc-slider__value-indicator::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media(forced-colors: active){.mdc-slider__value-indicator::after{border-color:CanvasText}}.mdc-slider__value-indicator-text{text-align:center;width:var(--mat-slider-value-indicator-width, 28px);transform:var(--mat-slider-value-indicator-text-transform, rotate(45deg));font-family:var(--mdc-slider-label-label-text-font, var(--mat-sys-label-medium-font));font-size:var(--mdc-slider-label-label-text-size, var(--mat-sys-label-medium-size));font-weight:var(--mdc-slider-label-label-text-weight, var(--mat-sys-label-medium-weight));line-height:var(--mdc-slider-label-label-text-line-height, var(--mat-sys-label-medium-line-height));letter-spacing:var(--mdc-slider-label-label-text-tracking, var(--mat-sys-label-medium-tracking))}.mdc-slider__thumb{-webkit-user-select:none;user-select:none;display:flex;left:-24px;outline:none;position:absolute;height:48px;width:48px;pointer-events:none}.mdc-slider--discrete .mdc-slider__thumb{transition:transform 80ms ease}.mdc-slider--disabled .mdc-slider__thumb{pointer-events:none}.mdc-slider__thumb--top{z-index:1}.mdc-slider__thumb-knob{position:absolute;box-sizing:border-box;left:50%;top:50%;transform:translate(-50%, -50%);border-style:solid;width:var(--mdc-slider-handle-width, 20px);height:var(--mdc-slider-handle-height, 20px);border-width:calc(var(--mdc-slider-handle-height, 20px)/2) calc(var(--mdc-slider-handle-width, 20px)/2);box-shadow:var(--mdc-slider-handle-elevation, var(--mat-sys-level1));background-color:var(--mdc-slider-handle-color, var(--mat-sys-primary));border-color:var(--mdc-slider-handle-color, var(--mat-sys-primary));border-radius:var(--mdc-slider-handle-shape, var(--mat-sys-corner-full))}.mdc-slider__thumb:hover .mdc-slider__thumb-knob{background-color:var(--mdc-slider-hover-handle-color, var(--mat-sys-primary));border-color:var(--mdc-slider-hover-handle-color, var(--mat-sys-primary))}.mdc-slider__thumb--focused .mdc-slider__thumb-knob{background-color:var(--mdc-slider-focus-handle-color, var(--mat-sys-primary));border-color:var(--mdc-slider-focus-handle-color, var(--mat-sys-primary))}.mdc-slider--disabled .mdc-slider__thumb-knob{background-color:var(--mdc-slider-disabled-handle-color, var(--mat-sys-on-surface));border-color:var(--mdc-slider-disabled-handle-color, var(--mat-sys-on-surface))}.mdc-slider__thumb--top .mdc-slider__thumb-knob,.mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border:solid 1px #fff;box-sizing:content-box;border-color:var(--mdc-slider-with-overlap-handle-outline-color, var(--mat-sys-on-primary));border-width:var(--mdc-slider-with-overlap-handle-outline-width, 1px)}.mdc-slider__tick-marks{align-items:center;box-sizing:border-box;display:flex;height:100%;justify-content:space-between;padding:0 1px;position:absolute;width:100%}.mdc-slider__tick-mark--active,.mdc-slider__tick-mark--inactive{width:var(--mdc-slider-with-tick-marks-container-size, 2px);height:var(--mdc-slider-with-tick-marks-container-size, 2px);border-radius:var(--mdc-slider-with-tick-marks-container-shape, var(--mat-sys-corner-full))}.mdc-slider__tick-mark--inactive{opacity:var(--mdc-slider-with-tick-marks-inactive-container-opacity, 0.38);background-color:var(--mdc-slider-with-tick-marks-inactive-container-color, var(--mat-sys-on-surface-variant))}.mdc-slider--disabled .mdc-slider__tick-mark--inactive{opacity:var(--mdc-slider-with-tick-marks-inactive-container-opacity, 0.38);background-color:var(--mdc-slider-with-tick-marks-disabled-container-color, var(--mat-sys-on-surface))}.mdc-slider__tick-mark--active{opacity:var(--mdc-slider-with-tick-marks-active-container-opacity, 0.38);background-color:var(--mdc-slider-with-tick-marks-active-container-color, var(--mat-sys-on-primary))}.mdc-slider__input{cursor:pointer;left:2px;margin:0;height:44px;opacity:0;position:absolute;top:2px;width:44px;box-sizing:content-box}.mdc-slider__input.mat-mdc-slider-input-no-pointer-events{pointer-events:none}.mdc-slider__input.mat-slider__right-input{left:auto;right:0}.mat-mdc-slider{display:inline-block;box-sizing:border-box;outline:none;vertical-align:middle;cursor:pointer;height:48px;margin:0 8px;position:relative;touch-action:pan-y;width:auto;min-width:112px;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-slider.mdc-slider--disabled{cursor:auto;opacity:.38}.mat-mdc-slider .mdc-slider__thumb,.mat-mdc-slider .mdc-slider__track--active_fill{transition-duration:0ms}.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__thumb,.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__track--active_fill{transition-duration:80ms}.mat-mdc-slider.mdc-slider--discrete .mdc-slider__thumb,.mat-mdc-slider.mdc-slider--discrete .mdc-slider__track--active_fill{transition-duration:0ms}.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__thumb,.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__track--active_fill{transition-duration:80ms}.mat-mdc-slider .mat-ripple .mat-ripple-element{background-color:var(--mat-slider-ripple-color, var(--mat-sys-primary))}.mat-mdc-slider .mat-ripple .mat-mdc-slider-hover-ripple{background-color:var(--mat-slider-hover-state-layer-color, color-mix(in srgb, var(--mat-sys-primary) 5%, transparent))}.mat-mdc-slider .mat-ripple .mat-mdc-slider-focus-ripple,.mat-mdc-slider .mat-ripple .mat-mdc-slider-active-ripple{background-color:var(--mat-slider-focus-state-layer-color, color-mix(in srgb, var(--mat-sys-primary) 20%, transparent))}.mat-mdc-slider._mat-animation-noopable.mdc-slider--discrete .mdc-slider__thumb,.mat-mdc-slider._mat-animation-noopable.mdc-slider--discrete .mdc-slider__track--active_fill,.mat-mdc-slider._mat-animation-noopable .mdc-slider__value-indicator{transition:none}.mat-mdc-slider .mat-focus-indicator::before{border-radius:50%}.mdc-slider__thumb--focused .mat-focus-indicator::before{content:""}
`],encapsulation:2,changeDetection:0})}return n})();var NSe={provide:qa,useExisting:pr(()=>ow),multi:!0};var ow=(()=>{class n{_ngZone=y(Ye);_elementRef=y(Oe);_cdr=y(Gt);_slider=y(_3);_platform=y(Wt);_listenerCleanups;get value(){return Yi(this._hostElement.value,0)}set value(e){e=isNaN(e)?0:e;let i=e+"";if(!this._hasSetInitialValue){this._initialValue=i;return}this._isActive||this._setValue(i)}_setValue(e){this._hostElement.value=e,this._updateThumbUIByValue(),this._slider._onValueChange(this),this._cdr.detectChanges(),this._slider._cdr.markForCheck()}valueChange=new Le;dragStart=new Le;dragEnd=new Le;get translateX(){return this._slider.min>=this._slider.max?(this._translateX=this._tickMarkOffset,this._translateX):(this._translateX===void 0&&(this._translateX=this._calcTranslateXByValue()),this._translateX)}set translateX(e){this._translateX=e}_translateX;thumbPosition=Yt.END;get min(){return Yi(this._hostElement.min,0)}set min(e){this._hostElement.min=e+"",this._cdr.detectChanges()}get max(){return Yi(this._hostElement.max,0)}set max(e){this._hostElement.max=e+"",this._cdr.detectChanges()}get step(){return Yi(this._hostElement.step,0)}set step(e){this._hostElement.step=e+"",this._cdr.detectChanges()}get disabled(){return Ke(this._hostElement.disabled)}set disabled(e){this._hostElement.disabled=e,this._cdr.detectChanges(),this._slider.disabled!==this.disabled&&(this._slider.disabled=this.disabled)}get percentage(){return this._slider.min>=this._slider.max?this._slider._isRtl?1:0:(this.value-this._slider.min)/(this._slider.max-this._slider.min)}get fillPercentage(){return this._slider._cachedWidth?this._translateX===0?0:this.translateX/this._slider._cachedWidth:this._slider._isRtl?1:0}_hostElement=this._elementRef.nativeElement;_valuetext=Ue("");_knobRadius=8;_tickMarkOffset=3;_isActive=!1;_isFocused=!1;_setIsFocused(e){this._isFocused=e}_hasSetInitialValue=!1;_initialValue;_formControl;_destroyed=new De;_skipUIUpdate=!1;_onChangeFn;_onTouchedFn=()=>{};_isControlInitialized=!1;constructor(){let e=y(Li);this._ngZone.runOutsideAngular(()=>{this._listenerCleanups=[e.listen(this._hostElement,"pointerdown",this._onPointerDown.bind(this)),e.listen(this._hostElement,"pointermove",this._onPointerMove.bind(this)),e.listen(this._hostElement,"pointerup",this._onPointerUp.bind(this))]})}ngOnDestroy(){this._listenerCleanups.forEach(e=>e()),this._destroyed.next(),this._destroyed.complete(),this.dragStart.complete(),this.dragEnd.complete()}initProps(){this._updateWidthInactive(),this.disabled!==this._slider.disabled&&(this._slider.disabled=!0),this.step=this._slider.step,this.min=this._slider.min,this.max=this._slider.max,this._initValue()}initUI(){this._updateThumbUIByValue()}_initValue(){this._hasSetInitialValue=!0,this._initialValue===void 0?this.value=this._getDefaultValue():(this._hostElement.value=this._initialValue,this._updateThumbUIByValue(),this._slider._onValueChange(this),this._cdr.detectChanges())}_getDefaultValue(){return this.min}_onBlur(){this._setIsFocused(!1),this._onTouchedFn()}_onFocus(){this._slider._setTransition(!1),this._slider._updateTrackUI(this),this._setIsFocused(!0)}_onChange(){this.valueChange.emit(this.value),this._isActive&&this._updateThumbUIByValue({withAnimation:!0})}_onInput(){this._onChangeFn?.(this.value),(this._slider.step||!this._isActive)&&this._updateThumbUIByValue({withAnimation:!0}),this._slider._onValueChange(this)}_onNgControlValueChange(){(!this._isActive||!this._isFocused)&&(this._slider._onValueChange(this),this._updateThumbUIByValue()),this._slider.disabled=this._formControl.disabled}_onPointerDown(e){if(!(this.disabled||e.button!==0)){if(this._platform.IOS){let i=this._slider._isCursorOnSliderThumb(e,this._slider._getThumb(this.thumbPosition)._hostElement.getBoundingClientRect());this._isActive=i,this._updateWidthActive(),this._slider._updateDimensions();return}this._isActive=!0,this._setIsFocused(!0),this._updateWidthActive(),this._slider._updateDimensions(),this._slider.step||this._updateThumbUIByPointerEvent(e,{withAnimation:!0}),this.disabled||(this._handleValueCorrection(e),this.dragStart.emit({source:this,parent:this._slider,value:this.value}))}}_handleValueCorrection(e){this._skipUIUpdate=!0,setTimeout(()=>{this._skipUIUpdate=!1,this._fixValue(e)},0)}_fixValue(e){let i=e.clientX-this._slider._cachedLeft,o=this._slider._cachedWidth,r=this._slider.step===0?1:this._slider.step,s=Math.floor((this._slider.max-this._slider.min)/r),a=this._slider._isRtl?1-i/o:i/o,c=Math.round(a*s)/s*(this._slider.max-this._slider.min)+this._slider.min,d=Math.round(c/r)*r,u=this.value;if(d===u){this._slider._onValueChange(this),this._slider.step>0?this._updateThumbUIByValue():this._updateThumbUIByPointerEvent(e,{withAnimation:this._slider._hasAnimation});return}this.value=d,this.valueChange.emit(this.value),this._onChangeFn?.(this.value),this._slider._onValueChange(this),this._slider.step>0?this._updateThumbUIByValue():this._updateThumbUIByPointerEvent(e,{withAnimation:this._slider._hasAnimation})}_onPointerMove(e){!this._slider.step&&this._isActive&&this._updateThumbUIByPointerEvent(e)}_onPointerUp(){this._isActive&&(this._isActive=!1,this._platform.SAFARI&&this._setIsFocused(!1),this.dragEnd.emit({source:this,parent:this._slider,value:this.value}),setTimeout(()=>this._updateWidthInactive(),this._platform.IOS?10:0))}_clamp(e){let i=this._tickMarkOffset,o=this._slider._cachedWidth-this._tickMarkOffset;return Math.max(Math.min(e,o),i)}_calcTranslateXByValue(){return this._slider._isRtl?(1-this.percentage)*(this._slider._cachedWidth-this._tickMarkOffset*2)+this._tickMarkOffset:this.percentage*(this._slider._cachedWidth-this._tickMarkOffset*2)+this._tickMarkOffset}_calcTranslateXByPointerEvent(e){return e.clientX-this._slider._cachedLeft}_updateWidthActive(){}_updateWidthInactive(){this._hostElement.style.padding=`0 ${this._slider._inputPadding}px`,this._hostElement.style.width=`calc(100% + ${this._slider._inputPadding-this._tickMarkOffset*2}px)`,this._hostElement.style.left=`-${this._slider._rippleRadius-this._tickMarkOffset}px`}_updateThumbUIByValue(e){this.translateX=this._clamp(this._calcTranslateXByValue()),this._updateThumbUI(e)}_updateThumbUIByPointerEvent(e,i){this.translateX=this._clamp(this._calcTranslateXByPointerEvent(e)),this._updateThumbUI(i)}_updateThumbUI(e){this._slider._setTransition(!!e?.withAnimation),this._slider._onTranslateXChange(this)}writeValue(e){(this._isControlInitialized||e!==null)&&(this.value=e)}registerOnChange(e){this._onChangeFn=e,this._isControlInitialized=!0}registerOnTouched(e){this._onTouchedFn=e}setDisabledState(e){this.disabled=e}focus(){this._hostElement.focus()}blur(){this._hostElement.blur()}static \u0275fac=function(i){return new(i||n)};static \u0275dir=me({type:n,selectors:[["input","matSliderThumb",""]],hostAttrs:["type","range",1,"mdc-slider__input"],hostVars:1,hostBindings:function(i,o){i&1&&de("change",function(){return o._onChange()})("input",function(){return o._onInput()})("blur",function(){return o._onBlur()})("focus",function(){return o._onFocus()}),i&2&&ke("aria-valuetext",o._valuetext())},inputs:{value:[2,"value","value",Yi]},outputs:{valueChange:"valueChange",dragStart:"dragStart",dragEnd:"dragEnd"},exportAs:["matSliderThumb"],features:[At([NSe,{provide:RX,useExisting:n}])]})}return n})();var __=class n{static MAX_LABEL_LENGTH=20;getSubmissionLabel(t,e,i=n.MAX_LABEL_LENGTH){let o=t.fileData.submitter;o=this.sanitizeLabel(o,i);let r=e[o];return r?(e[o]=r+1,`${o}_${e[o]}`):(e[o]=1,`${o}_1`)}sanitizeLabel(t,e){let i=t.split("_").filter(o=>o.match("[A-z]+")).join("_");return i.length>e&&(i=`${i.substring(0,e)}`),i}static \u0275fac=function(e){return new(e||n)};static \u0275prov=se({token:n,factory:n.\u0275fac,providedIn:"root"})};var Qu=class n{constructor(t,e){this.submissionLabelingService=t;this.exportService=e}displayScoreType="SEMANTIC";documentsLimit=25;documentSeries=null;previousPage=null;duplicateCategories={};duplicateSeries={};displayedSubmissions=[];submissionsMap=new Map;pairsMap=new Map;setSubmissionsMap(t){this.submissionsMap=t,this.reset()}setPairsMap(t){this.pairsMap=t,this.reset()}initDocumentSeries(){if(this.documentSeries!==null)return!0;if(this.submissionsMap.size==0||this.pairsMap.size==0)return this.documentSeries=null,!1;let t=this.submissionsMap.values(),e=this.pairsMap;this.displayedSubmissions=Array.from(t).filter(o=>this.getTypedSimilarity(o,e)!=null).sort((o,r)=>o.fileData.submitter.localeCompare(r.fileData.submitter));let i=[];for(let o of this.displayedSubmissions)this.duplicateCategories={},i.push({name:this.getDataPointCategory(o,this.duplicateSeries),data:this.displayedSubmissions.map(r=>this.getDataPoint(o,r,e))});return this.documentSeries=i.reverse(),!0}getTypedSimilarity(t,e){return t.pairIds.map(i=>e.get(i)).filter(i=>i!==void 0).map(i=>this.displayScoreType==="SEM&JAC"?Ut.getScoreByType(i,"SEMANTIC")||Ut.getScoreByType(i,"JACCARD"):Ut.getScoreByType(i,this.displayScoreType)).find(i=>i!==null)}getSubmissionPairIdByDatapoint(t,e){if(this.pairsMap.size==0)return null;let o=this.displayedSubmissions.length-1-(t+(this.previousPage?this.previousPage.y:0)),r=e+(this.previousPage?this.previousPage.x:0),s=this.displayedSubmissions.at(o),a=this.displayedSubmissions.at(r);if(s.id==a.id)return{firstId:s.id,secondId:a.id,isKnownPair:!1};let l=this.pairsMap.has(`${s.id}_${a.id}`),c=this.pairsMap.get(`${a.id}_${s.id}`);return l||c?{firstId:l?s.id:a.id,secondId:l?a.id:s.id,isKnownPair:!0}:{firstId:s.id,secondId:a.id,isKnownPair:!1}}getDocumentSeriesPage(t,e){if(!this.initDocumentSeries())return{x:0,y:0,series:[],viewUpdate:!1};let i=this.getMaxPosition(),o=Math.min(i,Math.max(0,t)),r=Math.min(i,Math.max(0,e));if(this.previousPage&&this.previousPage.x==o&&this.previousPage.y==r)return Ae(j({},this.previousPage),{viewUpdate:!1});let s=this.documentSeries.map(a=>Ae(j({},a),{data:a.data.slice(o,o+this.documentsLimit)}));return this.previousPage={x:o,y:r,series:s.slice(r,r+this.documentsLimit),viewUpdate:!0},this.previousPage}getMaxPosition(){return this.initDocumentSeries()&&this.documentSeries?.length!=0?Math.max(0,this.documentSeries[0].data.length-this.documentsLimit):-1}getDataPoint(t,e,i){if(t.id===e.id)return{x:this.getDataPointCategory(e,this.duplicateCategories),y:Ut.formatScore(1,1)};let o=`${t.id}_${e.id}`,r=`${e.id}_${t.id}`,s=i.get(o)||i.get(r),a=Ut.formatScore(0,1);if(s)if(this.displayScoreType==="SEM&JAC"){let l=Ut.getScoreByType(s,"SEMANTIC"),c=Ut.getScoreByType(s,"JACCARD");l?a=Ut.formatScore(l.score,1):c&&(a=Ut.formatScore(c.score,1))}else{let l=Ut.getScoreByType(s,this.displayScoreType);l&&(a=Ut.formatScore(l.score,1))}return{x:this.getDataPointCategory(e,this.duplicateCategories),y:a}}getDataPointCategory(t,e){return this.submissionLabelingService.getSubmissionLabel(t,e,20)}getDisplayScoreType(){return this.displayScoreType}setDisplayScoreType(t){this.displayScoreType=t,this.reset()}reset(){this.documentSeries=null,this.previousPage=null,this.duplicateSeries={}}setDocumentsLimit(t){this.documentsLimit=t}export(){this.documentSeries!=null&&this.exportService.exportHeatmapToCsv(this.documentSeries.reverse(),Date.now().toFixed(0))}hasDataToDisplay(){return this.initDocumentSeries()&&this.documentSeries?.length!=0}static \u0275fac=function(e){return new(e||n)(Je(__),Je(ma))};static \u0275prov=se({token:n,factory:n.\u0275fac,providedIn:"root"})};function FSe(n,t){n&1&&(w(0,"p"),P(1,"Po\u010Det porovnan\xED s t\xFDmto typom hodnotenia je pr\xEDli\u0161 mal\xFD na zobrazenie."),x())}function zSe(n,t){if(n&1){let e=Ft();w(0,"div",8)(1,"mat-slider",9)(2,"input",10,0),de("change",function(){et(e);let o=X(2);return tt(o.updateSeries())}),ka("ngModelChange",function(o){et(e);let r=X(2);return Ma(r.x,o)||(r.x=o),tt(o)}),x()()()}if(n&2){let e=X(2);D(),z("matTooltipShowDelay",1e3)("matTooltipHideDelay",200)("min",0)("max",e.similarityHeatmapService.getMaxPosition())("step",1)("discrete",!0)("showTickMarks",!0),D(),Ea("ngModel",e.x)}}function BSe(n,t){if(n&1){let e=Ft();w(0,"div",11)(1,"mat-slider",12)(2,"input",10,0),de("change",function(){et(e);let o=X(2);return tt(o.updateSeries())}),ka("ngModelChange",function(o){et(e);let r=X(2);return Ma(r.y,o)||(r.y=o),tt(o)}),x()()()}if(n&2){let e=X(2);D(),z("matTooltipShowDelay",1e3)("matTooltipHideDelay",200)("min",0)("max",e.similarityHeatmapService.getMaxPosition())("step",1)("discrete",!0)("showTickMarks",!0),D(),Ea("ngModel",e.y)}}function HSe(n,t){if(n&1&&(w(0,"div",3),ee(1,zSe,4,8,"div",4),w(2,"div",5),Y(3,"apx-chart",6),ee(4,BSe,4,8,"div",7),x()()),n&2){let e=X();D(),z("ngIf",e.similarityHeatmapService.getMaxPosition()>0),D(2),z("series",e.chartOptions.series)("chart",e.chartOptions.chart)("dataLabels",e.chartOptions.dataLabels)("plotOptions",e.chartOptions.plotOptions)("title",e.chartOptions.title),D(),z("ngIf",e.similarityHeatmapService.getMaxPosition()>0)}}var Ju=class n{constructor(t){this.similarityHeatmapService=t;this.chartOptions={series:[],chart:{toolbar:{show:!1},type:"heatmap",events:{dataPointSelection:(e,i,o)=>{let r=this.similarityHeatmapService.getSubmissionPairIdByDatapoint(o.seriesIndex,o.dataPointIndex);this.onPairSelection(r)}},zoom:{enabled:!1}},plotOptions:this.PLOT_OPTIONS,dataLabels:{enabled:!0},title:{text:""}},cn(()=>{this.similarityHeatmapService.setPairsMap(this.pairsMapSource()),this.similarityHeatmapService.setSubmissionsMap(this.submissionsMapSource())})}pairsMapSource=Ue(new Map);submissionsMapSource=Ue(new Map);selectedPairIdEmitter=new Le;unknownPairEmitter=new Le;selectedSubmissionEmitter=new Le;chart;PLOT_OPTIONS={heatmap:{shadeIntensity:.5,colorScale:{ranges:[{from:0,to:25,name:"n\xEDzka",color:"#00A100"},{from:26,to:50,name:"stredn\xE1",color:"#128FD9"},{from:51,to:75,name:"vysok\xE1",color:"#FFB200"},{from:76,to:100,name:"extr\xE9mna",color:"#FF0000"}]}}};chartOptions;x=0;y=0;ngOnInit(){setTimeout(()=>{let t=this.similarityHeatmapService.getDocumentSeriesPage(this.x,this.y);this.chartOptions.series=t.series,this.x=t.x,this.y=t.y})}updateSeries(){let t=this.similarityHeatmapService.getDocumentSeriesPage(this.x,this.y);this.x=t.x,this.y=t.y,t.viewUpdate&&(this.chartOptions.series=t.series)}onPairSelection(t){t!=null&&(t.isKnownPair?this.selectedPairIdEmitter.emit(`${t.firstId}_${t.secondId}`):t.firstId==t.secondId?this.selectedSubmissionEmitter.emit(t.firstId):this.unknownPairEmitter.emit(`${t.firstId}_${t.secondId}`))}getPageX(){return this.x}getPageY(){return this.y}setPageX(t){this.x=t}setPageY(t){this.y=t}static \u0275fac=function(e){return new(e||n)(J(Qu))};static \u0275cmp=Z({type:n,selectors:[["app-similarity-heatmap"]],viewQuery:function(e,i){if(e&1&&st(f_,5),e&2){let o;fe(o=ge())&&(i.chart=o.first)}},inputs:{pairsMapSource:"pairsMapSource",submissionsMapSource:"submissionsMapSource"},outputs:{selectedPairIdEmitter:"selectedPairIdEmitter",unknownPairEmitter:"unknownPairEmitter",selectedSubmissionEmitter:"selectedSubmissionEmitter"},decls:2,vars:2,consts:[["slider",""],[4,"ngIf"],["class","container-vertical",4,"ngIf"],[1,"container-vertical"],["class","horizontal-slider-wrapper",4,"ngIf"],[1,"container-horizontal"],[1,"chart",3,"series","chart","dataLabels","plotOptions","title"],["class","vertical-slider-wrapper",4,"ngIf"],[1,"horizontal-slider-wrapper"],["matTooltip","Pomocou posuvn\xEDka m\xF4\u017Eete meni\u0165 zobrazen\xE9 \xFAdaje, dan\xFD posuvn\xEDk zobraz\xED nov\xE9 st\u013Apce matice",1,"horizontal-slider",3,"matTooltipShowDelay","matTooltipHideDelay","min","max","step","discrete","showTickMarks"],["matSliderThumb","",3,"change","ngModelChange","ngModel"],[1,"vertical-slider-wrapper"],["matTooltip","Pomocou posuvn\xEDka m\xF4\u017Eete meni\u0165 zobrazen\xE9 \xFAdaje, dan\xFD posuvn\xEDk zobraz\xED nov\xE9 riadky matice",1,"vertical-slider",3,"matTooltipShowDelay","matTooltipHideDelay","min","max","step","discrete","showTickMarks"]],template:function(e,i){e&1&&ee(0,FSe,2,0,"p",1)(1,HSe,5,7,"div",2),e&2&&(z("ngIf",!i.similarityHeatmapService.hasDataToDisplay()),D(),z("ngIf",i.similarityHeatmapService.hasDataToDisplay()))},dependencies:[f_,Vk,Wk,ow,Zn,ns,os,Rs,$a,uo],styles:[".container-vertical[_ngcontent-%COMP%]{--mdc-slider-inactive-track-color: rgba(0, 0, 0, .6)}.container-vertical[_ngcontent-%COMP%]{--mdc-slider-with-tick-marks-inactive-container-color: rgb(0, 0, 0)}  mat-slider .mdc-slider__tick-mark--inactive{background-color:#000;transform:scale(3.5);width:4px;height:4px;border-radius:3px}  .vertical-slider .mdc-slider__value-indicator-text{transform:rotate(-225deg)}  .apexcharts-heatmap-rect{cursor:pointer}.chart[_ngcontent-%COMP%]{width:75%}.container-vertical[_ngcontent-%COMP%]{display:flex;width:100%;flex-direction:column;gap:8px}.container-horizontal[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center;width:100%;gap:8px}.horizontal-slider-wrapper[_ngcontent-%COMP%]{display:flex;position:relative;width:100%;flex-direction:column;justify-content:center;align-items:center}.horizontal-slider[_ngcontent-%COMP%]{width:50%}.vertical-slider-wrapper[_ngcontent-%COMP%]{position:relative;width:24px;display:flex;flex-direction:row;justify-content:center;align-items:center}.vertical-slider[_ngcontent-%COMP%]{position:absolute;width:16rem;transform:rotate(-90deg);transform-origin:center}@media screen and (max-width: 1600px){.chart[_ngcontent-%COMP%]{width:100%}}p[_ngcontent-%COMP%]{font:var(--mat-sys-body-medium);color:var(--mat-sys-on-surface);text-align:center;margin:0}"]})};var jk=class n{constructor(t,e,i,o){this.analysisContextService=t;this.similarityHeatmapService=e;this.routeContextService=i;this.router=o}static CONTEXT_KEY="similarity-heatmap-page";heatMap;pairsMapSource=Ri(()=>{let t=this.analysisContextService.getReport()();return t?t.pairs:new Map});submissionsMapSource=Ri(()=>{let t=this.analysisContextService.getReport()();return t?t.submissions:new Map});loadDiff(t){let e=t.split("_");this.router.navigate(["/diff",e[0],e[1]])}loadPair(t){this.router.navigate(["/pairs",t])}loadSubmission(t){this.router.navigate(["/submissions",t])}ngAfterViewInit(){this.heatMap.selectedPairIdEmitter.subscribe(t=>this.loadPair(t)),this.heatMap.unknownPairEmitter.subscribe(t=>this.loadDiff(t)),this.heatMap.selectedSubmissionEmitter.subscribe(t=>this.loadSubmission(t)),setTimeout(()=>this.applyContext())}changeScoreType(t){this.similarityHeatmapService.setDisplayScoreType(t),this.heatMap.setPageY(0),this.heatMap.setPageX(0),this.heatMap.updateSeries()}ngOnDestroy(){this.routeContextService.putProperty(".x",this.heatMap.getPageX().toFixed(0),n.CONTEXT_KEY),this.routeContextService.putProperty(".y",this.heatMap.getPageY().toFixed(0),n.CONTEXT_KEY),this.routeContextService.putProperty(".score-type",this.similarityHeatmapService.getDisplayScoreType(),n.CONTEXT_KEY)}applyContext(){let t=this.routeContextService.popProperty(".x",n.CONTEXT_KEY),e=this.routeContextService.popProperty(".y",n.CONTEXT_KEY),i=this.routeContextService.popProperty(".score-type",n.CONTEXT_KEY);t&&e&&i&&(this.heatMap.setPageX(parseInt(t)),this.heatMap.setPageY(parseInt(e)),this.similarityHeatmapService.setDisplayScoreType(i),this.heatMap.updateSeries())}export(){this.similarityHeatmapService.export()}static \u0275fac=function(e){return new(e||n)(J(jt),J(Qu),J(Fl),J(pi))};static \u0275cmp=Z({type:n,selectors:[["app-similarity-heatmap-page"]],viewQuery:function(e,i){if(e&1&&st(Ju,5),e&2){let o;fe(o=ge())&&(i.heatMap=o.first)}},decls:22,vars:5,consts:[["select",""],["title","Teplotn\xE1 mapa podobnosti","subtitle","",3,"isTitleCentered","isContentCentered"],[3,"pairsMapSource","submissionsMapSource"],["appearance","outline"],[3,"selectionChange","value"],["value","META"],["value","JACCARD"],["value","SEMANTIC"],["value","SEM&JAC"],["mat-raised-button","",2,"max-width","250px",3,"click"]],template:function(e,i){if(e&1){let o=Ft();w(0,"app-content-container")(1,"app-surface",1),Y(2,"app-similarity-heatmap",2),x(),w(3,"app-floating-toolbar")(4,"mat-form-field",3)(5,"mat-label"),P(6,"Mieru podobnosti"),x(),w(7,"mat-select",4,0),de("selectionChange",function(){et(o);let s=oo(8);return tt(i.changeScoreType(s.value))}),w(9,"mat-option",5),P(10," Podobnos\u0165 autorov (meta\xFAdaje) "),x(),w(11,"mat-option",6),P(12," Jaccardov koeficient (slovn\xE9 n-gramy) "),x(),w(13,"mat-option",7),P(14," Semantick\xE1 podobnos\u0165 "),x(),w(15,"mat-option",8),P(16," Semantick\xE1 podobnos\u0165 alebo Jaccardov koeficient "),x()()(),w(17,"button",9),de("click",function(){return et(o),tt(i.export())}),w(18,"mat-icon"),P(19,"download"),x(),w(20,"p"),P(21," Stiahnu\u0165 ako csv "),x()()()()}e&2&&(D(),z("isTitleCentered",!0)("isContentCentered",!0),D(),z("pairsMapSource",i.pairsMapSource)("submissionsMapSource",i.submissionsMapSource),D(5),z("value",i.similarityHeatmapService.getDisplayScoreType()))},dependencies:[Vk,On,Rn,Fo,Zn,Yc,Sr,zo,Tn,An,ha,Ju],styles:["app-similarity-heatmap[_ngcontent-%COMP%]{display:flex;width:100%;flex-direction:column;gap:8px}app-floating-toolbar[_ngcontent-%COMP%]     .mat-mdc-form-field-subscript-wrapper{width:0;height:0}app-floating-toolbar[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:350px}"]})};var Uk=class n{constructor(t){this.analysisContext=t}supportiveText="V tejto \u010Dasti sa zobrazuj\xFA inform\xE1cie o anal\xFDze";analysis=Ri(()=>{let t=this.analysisContext.getReport()();return t?t.overview:null});extensionToCount=Ri(()=>{let t=this.analysisContext.getReport()();return t?Array.from(t.submissions.values()).map(e=>e.fileData.extension).reduce((e,i)=>(e.set(i,(e.get(i)||0)+1),e),new Map):new Map});comparisonsCount=Ri(()=>{let t=this.analysisContext.getReport()();return t?t.pairs.size:null});static \u0275fac=function(e){return new(e||n)(J(jt))};static \u0275cmp=Z({type:n,selectors:[["app-analysis-info-card"]],inputs:{supportiveText:"supportiveText"},decls:48,vars:12,consts:[[1,"info-card"],[1,"header"],[1,"text-frame"],["appTextOverflowScroll","","aria-label","N\xE1zov anal\xFDzy",1,"scrollable-text"],[2,"display","flex"],["aria-label","Viac informaci\xED",3,"matTooltip"],[1,"info-groups"],["matTooltipPosition","right","matTooltip","N\xE1zov analyzovan\xE9ho s\xFAboru","aria-label","N\xE1zov analyzovan\xE9ho s\xFAboru","svgIcon","file-search-outline","matListItemIcon",""],["appTextOverflowScroll","","matListItemTitle","",1,"scrollable-text"],["matTooltipPosition","right","matTooltip","D\xE1tum vykonania anal\xFDzy","aria-label","D\xE1tum vykonania anal\xFDzy","matListItemIcon",""],["matListItemTitle",""],["matTooltipPosition","right","matTooltip","Po\u010Det na\u010D\xEDtan\xFDch porovnan\xED","aria-label","Po\u010Det na\u010D\xEDtan\xFDch porovnan\xED","svgIcon","compare-horizontal","matListItemIcon",""],[1,"item-with-chip"],["matTooltipPosition","right","matTooltip","Po\u010Det s\xFAborov formatu docx","aria-label","Po\u010Det s\xFAborov formatu docx"],["matListItemTitle","",1,"item-with-chip"],["matTooltipPosition","right","matTooltip","Po\u010Det s\xFAborov formatu doc","aria-label","Po\u010Det s\xFAborov formatu doc"],["matTooltipPosition","right","matTooltip","Po\u010Det s\xFAborov formatu pdf","aria-label","Po\u010Det s\xFAborov formatu pdf"]],template:function(e,i){if(e&1&&(w(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),P(4),x(),w(5,"p"),P(6,"Inform\xE1cie o anal\xFDze"),x()(),w(7,"div",4)(8,"mat-icon",5),P(9,"info_outlined"),x()()(),w(10,"mat-list",6),Y(11,"mat-divider"),w(12,"mat-list")(13,"mat-list-item"),Y(14,"mat-icon",7),w(15,"p",8),P(16),x()(),w(17,"mat-list-item")(18,"mat-icon",9),P(19," date_range "),x(),w(20,"p",10),P(21),Ni(22,"date"),x()(),w(23,"mat-list-item"),Y(24,"mat-icon",11),w(25,"p",10),P(26),Ni(27,"number"),x()()(),Y(28,"mat-divider"),w(29,"mat-list")(30,"mat-list-item")(31,"div",12)(32,"mat-chip",13),P(33," DOCX "),x(),w(34,"p"),P(35),x()()(),w(36,"mat-list-item")(37,"div",14)(38,"mat-chip",15),P(39," DOC "),x(),w(40,"p"),P(41),x()()(),w(42,"mat-list-item")(43,"div",14)(44,"mat-chip",16),P(45," PDF "),x(),w(46,"p"),P(47),x()()()()()()),e&2){let o,r,s;D(4),xe((o=i.analysis())==null?null:o.name),D(4),z("matTooltip",i.supportiveText),D(8),xe((r=i.analysis())==null?null:r.analyzedFileName),D(5),xe(Fi(22,8,(s=i.analysis())==null?null:s.dateAnalyzed)),D(5),xe(Fi(27,10,i.comparisonsCount())),D(9),ni("",i.extensionToCount().get("docx")||0," s\xFAborov"),D(6),ni("",i.extensionToCount().get("doc")||0," s\xFAborov"),D(6),ni("",i.extensionToCount().get("pdf")||0," s\xFAborov")}},dependencies:[An,uu,Nl,lu,rm,Jb,Gv,SO,iw,$a,ss],styles:[".medium-card[_ngcontent-%COMP%]{max-width:350px;min-width:200px}.large-card[_ngcontent-%COMP%]{max-width:400px;min-width:200px}.extra-large-card[_ngcontent-%COMP%]{max-width:450px;min-width:200px}.base-card[_ngcontent-%COMP%]{margin:auto;padding:16px}p[_ngcontent-%COMP%]{font:var(--mat-sys-body-medium);color:var(--mat-sys-on-surface-variant);margin:0}h3[_ngcontent-%COMP%]{font:var(--mat-sys-title-small);color:var(--mat-sys-on-surface);margin:0}h1[_ngcontent-%COMP%]{font:var(--mat-sys-title-large);color:var(--mat-sys-on-surface);margin:0}.text-frame[_ngcontent-%COMP%]{width:100%;overflow-y:hidden;display:flex;flex-direction:column;justify-content:center;align-content:start}.text-center[_ngcontent-%COMP%]{align-items:center}.text-frame[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font:var(--mat-sys-title-large);color:var(--mat-sys-on-surface);margin:0}.text-frame[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font:var(--mat-sys-body-medium);color:var(--mat-sys-on-surface-variant);margin:0}.header-with-actions[_ngcontent-%COMP%]{display:flex;width:100%;flex-direction:row;align-items:center;justify-content:space-between}.header-with-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{justify-self:end}.header-with-actions[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{flex-grow:1;text-align:center;margin:0}.header-with-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:auto}.info-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:24px}.info-list[_ngcontent-%COMP%] > mat-list-item[_ngcontent-%COMP%]{padding-left:0;padding-right:0;gap:16px}.card-group[_ngcontent-%COMP%]{display:flex;max-width:700px;min-width:300px;flex-direction:column;padding:16px;gap:24px;border-radius:var(--mat-sys-corner-extra-large);background-color:var(--mat-sys-surface-container-high)}.card-flex-box[_ngcontent-%COMP%]{display:flex;max-width:700px;min-width:300px;flex-direction:row;justify-content:center;flex-wrap:wrap;gap:16px}.horizontal-card-group-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:fit-content;height:100%;padding:16px;gap:8px;border-radius:var(--mat-sys-corner-extra-large);background-color:var(--mat-sys-surface-container-high)}.horizontal-card-group[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:32px}@media (max-width: 1250px){.horizontal-card-group[_ngcontent-%COMP%]{flex-wrap:wrap}}",".info-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;width:350px;height:fit-content;padding:24px;gap:4px;border-radius:var(--mat-sys-corner-extra-large);background-color:var(--mat-sys-surface-container-high)}.header[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:100%;box-sizing:border-box;justify-content:space-between;align-items:center;padding:16px 12px 12px 24px;gap:8px}.info-groups[_ngcontent-%COMP%]{width:100%}.info-groups[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--mat-sys-on-surface);font:var(--mat-sys-body-large);margin:0}mat-list[_ngcontent-%COMP%]{--mdc-list-list-item-label-text-color: var(--mat-sys-on-surface-variant)}mat-list[_ngcontent-%COMP%]{--mdc-list-list-item-hover-leading-icon-color: var(--mat-sys-on-surface-variant)}mat-list[_ngcontent-%COMP%]{--mdc-list-list-item-hover-label-text-color: var(--mat-sys-on-surface-variant)}mat-list[_ngcontent-%COMP%]{--mat-divider-color: var(--mat-sys-outline-variant)}.item-with-chip[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:16px;justify-content:start;align-items:center}"]})};var VSe=["determinateSpinner"];function WSe(n,t){if(n&1&&(gi(),w(0,"svg",11),Y(1,"circle",12),x()),n&2){let e=X();ke("viewBox",e._viewBox()),D(),bo("stroke-dasharray",e._strokeCircumference(),"px")("stroke-dashoffset",e._strokeCircumference()/2,"px")("stroke-width",e._circleStrokeWidth(),"%"),ke("r",e._circleRadius())}}var jSe=new ae("mat-progress-spinner-default-options",{providedIn:"root",factory:USe});function USe(){return{diameter:LX}}var LX=100,qSe=10,qk=(()=>{class n{_elementRef=y(Oe);_noopAnimations;get color(){return this._color||this._defaultColor}set color(e){this._color=e}_color;_defaultColor="primary";_determinateCircle;constructor(){let e=y(Ei,{optional:!0}),i=y(jSe);this._noopAnimations=e==="NoopAnimations"&&!!i&&!i._forceAnimations,this.mode=this._elementRef.nativeElement.nodeName.toLowerCase()==="mat-spinner"?"indeterminate":"determinate",i&&(i.color&&(this.color=this._defaultColor=i.color),i.diameter&&(this.diameter=i.diameter),i.strokeWidth&&(this.strokeWidth=i.strokeWidth))}mode;get value(){return this.mode==="determinate"?this._value:0}set value(e){this._value=Math.max(0,Math.min(100,e||0))}_value=0;get diameter(){return this._diameter}set diameter(e){this._diameter=e||0}_diameter=LX;get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(e){this._strokeWidth=e||0}_strokeWidth;_circleRadius(){return(this.diameter-qSe)/2}_viewBox(){let e=this._circleRadius()*2+this.strokeWidth;return`0 0 ${e} ${e}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return this.mode==="determinate"?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Z({type:n,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(i,o){if(i&1&&st(VSe,5),i&2){let r;fe(r=ge())&&(o._determinateCircle=r.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:18,hostBindings:function(i,o){i&2&&(ke("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow",o.mode==="determinate"?o.value:null)("mode",o.mode),Ao("mat-"+o.color),bo("width",o.diameter,"px")("height",o.diameter,"px")("--mdc-circular-progress-size",o.diameter+"px")("--mdc-circular-progress-active-indicator-width",o.diameter+"px"),Se("_mat-animation-noopable",o._noopAnimations)("mdc-circular-progress--indeterminate",o.mode==="indeterminate"))},inputs:{color:"color",mode:"mode",value:[2,"value","value",Yi],diameter:[2,"diameter","diameter",Yi],strokeWidth:[2,"strokeWidth","strokeWidth",Yi]},exportAs:["matProgressSpinner"],decls:14,vars:11,consts:[["circle",""],["determinateSpinner",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(i,o){if(i&1&&(ee(0,WSe,2,8,"ng-template",null,0,wh),w(2,"div",2,1),gi(),w(4,"svg",3),Y(5,"circle",4),x()(),nv(),w(6,"div",5)(7,"div",6)(8,"div",7),ln(9,8),x(),w(10,"div",9),ln(11,8),x(),w(12,"div",10),ln(13,8),x()()()),i&2){let r=oo(1);D(4),ke("viewBox",o._viewBox()),D(),bo("stroke-dasharray",o._strokeCircumference(),"px")("stroke-dashoffset",o._strokeDashOffset(),"px")("stroke-width",o._circleStrokeWidth(),"%"),ke("r",o._circleRadius()),D(4),z("ngTemplateOutlet",r),D(2),z("ngTemplateOutlet",r),D(2),z("ngTemplateOutlet",r)}},dependencies:[Hh],styles:[`.mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0;position:relative;direction:ltr;transition:opacity 250ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-progress-spinner circle{stroke-width:var(--mdc-circular-progress-active-indicator-width, 4px)}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}@media(forced-colors: active){.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1;animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mdc-circular-progress-active-indicator-color, var(--mat-sys-primary))}@media(forced-colors: active){.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}
`],encapsulation:2,changeDetection:0})}return n})();function GSe(n,t){if(n&1&&(sn(0),w(1,"div",3),Y(2,"apx-chart",4),x(),an()),n&2){let e=X();D(2),z("series",e.chartOptions.series)("chart",e.chartOptions.chart)("xaxis",e.chartOptions.xaxis)("yaxis",e.chartOptions.yaxis)("plotOptions",e.chartOptions.plotOptions)("colors",e.chartOptions.colors)("grid",e.chartOptions.grid)("legend",e.chartOptions.legend)("dataLabels",e.chartOptions.dataLabels)}}function $Se(n,t){n&1&&Y(0,"mat-progress-spinner",2)}var Gk=class n{constructor(t,e){this.analysisContextService=t;this.router=e;this.chartOptions={chart:{type:"bar",events:{dataPointSelection:(i,o,r)=>{let s=this.categories[r.dataPointIndex];if(s!=null){let a=this.categorizedSubmissions[s];this.router.navigate(["/submissions"],{queryParams:{"filter-set":a.toString()}})}}}},xaxis:{categories:["0-10%","10-20%","20-30%","30-40%","40-50%","50-60%","60-70%","70-80%","80-90%","90-100%"],title:{text:"%podobnos\u0165",style:{fontSize:"14px",color:"#333"}}},yaxis:{title:{text:"#dokumenty",style:{fontSize:"14px",color:"#333"}}},plotOptions:{bar:{horizontal:!1,columnWidth:"50%",distributed:!0,dataLabels:{position:"top"}}},dataLabels:{enabled:!0,formatter:function(i){return i.toString()}},grid:{borderColor:"#e0e0e0",strokeDashArray:4,xaxis:{lines:{show:!0}},yaxis:{lines:{show:!0}}},colors:["#4285F4","#34A853","#9B51E0","#FABB05","#274C77","#66C2FF","#720E9E"],series:[{name:"Po\u010Det dokumentov",data:[]}],legend:{show:!1}}}chart;ready=!1;chartOptions;categories=[0,10,20,30,40,50,60,70,80,90];categorizedSubmissions={};ngAfterViewInit(){setTimeout(()=>this.computeDistribution(),500)}computeDistribution(){let t=this.analysisContextService.getReport()();if(t){let e=t.submissions,i=t.pairs;Array.from(e.values()).filter(o=>!o.indexed&&o.pairIds.length>0).map(o=>({id:o.id,maxScore:Math.max(0,...o.pairIds.map(r=>i.get(r)).map(r=>{let s=Ut.getScoreByType(r,"SEMANTIC"),a=Ut.getScoreByType(r,"JACCARD");return s||a}).map(r=>r?r.score:0))})).forEach(o=>{let r=Math.floor(o.maxScore*10)*10,s=this.categorizedSubmissions[r];s?s.push(o.id):this.categorizedSubmissions[r]=[o.id]}),this.chartOptions.series&&(this.chartOptions.series[0].data=this.categories.map(o=>{let r=this.categorizedSubmissions[o];return r?r.length:0})),this.ready=!0}}static \u0275fac=function(e){return new(e||n)(J(jt),J(pi))};static \u0275cmp=Z({type:n,selectors:[["app-plagiarism-score-distribution"]],viewQuery:function(e,i){if(e&1&&st(f_,5),e&2){let o;fe(o=ge())&&(i.chart=o.first)}},decls:6,vars:1,consts:[[1,"high-surface"],[1,"chart-wrapper","mat-elevation-z8"],["diameter","220","mode","indeterminate",1,"loader"],["id","chart"],[3,"series","chart","xaxis","yaxis","plotOptions","colors","grid","legend","dataLabels"]],template:function(e,i){e&1&&(w(0,"div",0)(1,"h3"),P(2," Rozdelenie podobnosti "),x(),w(3,"div",1),ee(4,GSe,3,9,"ng-container")(5,$Se,1,0,"mat-progress-spinner",2),x()()),e&2&&(D(4),Xe(i.ready?4:5))},dependencies:[f_,qk],styles:[".chart-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center;padding:16px;border-radius:var(--mat-sys-corner-extra-large);background-color:#fff;box-shadow:var(--mat-app-elevation-shadow-level-8)}#chart[_ngcontent-%COMP%]{height:450px;width:700px}.loader[_ngcontent-%COMP%]{z-index:20}.high-surface[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:16px;gap:24px;border-radius:var(--mat-sys-corner-extra-large);background-color:var(--mat-sys-surface-container-high)}.high-surface[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font:var(--mat-sys-headline-small);color:var(--mat-sys-on-surface);margin:0}"]})};var $k=class n{constructor(t){this.http=t}loadConfigurationDescription(){return this.http.get("./assets/configuration-descriptions.json")}static \u0275fac=function(e){return new(e||n)(Je(rf))};static \u0275prov=se({token:n,factory:n.\u0275fac,providedIn:"root"})};function YSe(n,t){n&1&&(w(0,"p"),P(1," Filtrovanie dokumentov\xFDch dvoj\xEDc, za prienikom ich \u0161inglov, "),w(2,"strong"),P(3,"nebolo pou\u017Eite"),x()())}function XSe(n,t){n&1&&(w(0,"p")(1,"strong"),P(2,"Bolo pou\u017Eite"),x(),P(3," filtrovanie dokumentov\xFDch dvoj\xEDc, za prienikom ich \u0161inglov. Niektor\xE9 dvojice nebud\xFA obsahova\u0165 vyzna\u010Denie zhodn\xFDch fragmentov "),x())}function ZSe(n,t){if(n&1&&(w(0,"mat-card",13)(1,"mat-card-header")(2,"mat-card-title"),P(3,"Shingle porovn\xE1vanie"),x(),w(4,"mat-card-subtitle"),ee(5,YSe,4,0,"p",7)(6,XSe,4,0,"p",7),x()(),Y(7,"mat-divider"),w(8,"mat-card-content")(9,"mat-list",14)(10,"mat-list-item",15)(11,"h3",16),P(12),x(),w(13,"span"),P(14),x()(),w(15,"mat-list-item",15)(16,"h3",16),P(17),x(),w(18,"span"),P(19),x()(),w(20,"mat-list-item",15)(21,"h3",16),P(22),x(),w(23,"span"),P(24),x()(),w(25,"mat-list-item",15)(26,"h3",16),P(27),x(),w(28,"span"),P(29),x()()()()()),n&2){let e,i,o,r,s,a,l=X();D(5),z("ngIf",(e=l.overview())==null?null:e.configuration.shingleOverlapComparisonFilterParameters.canBypassFiltering),D(),z("ngIf",!((i=l.overview())!=null&&i.configuration.shingleOverlapComparisonFilterParameters.canBypassFiltering)),D(4),z("lines",3),D(2),xe((o=l.overview())==null?null:o.configuration.shingleOverlapComparisonFilterParameters.discardLevel),D(2),xe(l.getDescription("discardLevel")),D(),z("lines",3),D(2),xe((r=l.overview())==null?null:r.configuration.shingleOverlapComparisonFilterParameters.plagiarizedLevel),D(2),xe(l.getDescription("plagiarizedLevel")),D(),z("lines",2),D(2),xe((s=l.overview())==null?null:s.configuration.shingleOverlapComparisonFilterParameters.size),D(2),xe(l.getDescription("size")),D(),z("lines",2),D(2),xe((a=l.overview())==null?null:a.configuration.shingleOverlapComparisonFilterParameters.overlap),D(2),xe(l.getDescription("overlap"))}}function QSe(n,t){n&1&&(w(0,"p"),P(1," Filtrovanie dokumentov\xFDch dvoj\xEDc "),w(2,"strong"),P(3,"nebolo pou\u017Eit\xE9"),x(),P(4,". Pomer ve\u013Ekost\xED dokumentov sa po\u010D\xEDta ako "),w(5,"strong",18),P(6,"min(|s\u2081| / |s\u2082|, |s\u2082| / |s\u2081|)"),x(),P(7,", kde s\u2081, s\u2082 s\xFA mno\u017Einy ich viet. Ak je tento pomer ni\u017E\u0161\xED ako hodnota uveden\xE1 v konfigur\xE1cii, porovnanie bude zastaven\xE9 "),x())}function JSe(n,t){n&1&&(w(0,"p")(1,"strong"),P(2,"Bolo pou\u017Eit\xE9"),x(),P(3," filtrovanie dokumentov\xFDch dvoj\xEDc. Pomer ve\u013Ekost\xED dokumentov sa po\u010D\xEDta ako "),w(4,"strong",18),P(5,"min(|s\u2081| / |s\u2082|, |s\u2082| / |s\u2081|)"),x(),P(6,", kde s\u2081, s\u2082 s\xFA mno\u017Einy ich viet. Ak je tento pomer ni\u017E\u0161\xED ako hodnota uveden\xE1 v konfigur\xE1cii, porovnanie bude zastaven\xE9 "),x())}function eDe(n,t){if(n&1&&(w(0,"mat-card",6)(1,"mat-card-header")(2,"mat-card-title"),P(3,"Filtrovanie pod\u013Ea pomeru ve\u013Ekost\xED"),x(),w(4,"mat-card-subtitle"),ee(5,QSe,8,0,"p",7)(6,JSe,7,0,"p",7),x()(),Y(7,"mat-divider"),w(8,"mat-card-content")(9,"mat-list",17)(10,"mat-list-item",15)(11,"h3",16),P(12),x(),w(13,"span"),P(14),x()()()()()),n&2){let e,i,o,r=X();D(5),z("ngIf",(e=r.overview())==null?null:e.configuration.lengthComparisonFilterParameters.canBypassFiltering),D(),z("ngIf",!((i=r.overview())!=null&&i.configuration.lengthComparisonFilterParameters.canBypassFiltering)),D(4),z("lines",3),D(2),xe((o=r.overview())==null?null:o.configuration.lengthComparisonFilterParameters.sentenceSizeRatioThreshold),D(2),xe(r.getDescription("sentenceSizeRatioThreshold"))}}function tDe(n,t){n&1&&(w(0,"p"),P(1," Filtrovanie dokumentov\xFDch dvoj\xEDc, za ich autormi, "),w(2,"strong"),P(3,"nebolo pou\u017Eite"),x()())}function iDe(n,t){n&1&&(w(0,"p")(1,"strong"),P(2,"Bolo pou\u017Eite"),x(),P(3," filtrovanie dokumentov\xFDch dvoj\xEDc, za ich autormi. V pr\xEDpade dvoj\xEDc so spolo\u010Dn\xFDmi autormi sa \u010Fal\u0161ie porovnania nevykon\xE1vali. Tak\xE9to dvojice, nebud\xFA obsahova\u0165 vyzna\u010Denie zhodn\xFDch fragmentov "),x())}function nDe(n,t){if(n&1&&(w(0,"mat-card",6)(1,"mat-card-header")(2,"mat-card-title"),P(3,"Porovn\xE1vanie meta\xFAdajov"),x()(),Y(4,"mat-divider"),w(5,"mat-card-content"),ee(6,tDe,4,0,"p",7)(7,iDe,4,0,"p",7),x()()),n&2){let e,i,o=X();D(6),z("ngIf",(e=o.overview())==null?null:e.configuration.metadataComparatorParameters.canBypassFiltering),D(),z("ngIf",!((i=o.overview())!=null&&i.configuration.metadataComparatorParameters.canBypassFiltering))}}function oDe(n,t){if(n&1&&(w(0,"mat-list-item",15)(1,"h3",16),P(2),x(),w(3,"span"),P(4),x()()),n&2){let e=t.$implicit,i=X(2);z("lines",3),D(2),xe(e.value),D(2),xe(i.getDescription(e.key))}}function rDe(n,t){if(n&1&&(w(0,"mat-card",19)(1,"mat-card-header")(2,"mat-card-title"),P(3,"Roz\u0161\xEDrenie n\xE1jden\xFDch zh\xF4d"),x(),w(4,"mat-card-subtitle")(5,"p"),P(6," Po n\xE1jden\xED zhodn\xFDch viet sa vykon\xE1 f\xE1za roz\u0161\xEDrenia, v ktorej sa susedn\xE9 zhody zoskupia do dlh\xFDch fragmentov "),x()()(),Y(7,"mat-divider"),w(8,"mat-card-content")(9,"mat-list",14),$r(10,oDe,5,3,"mat-list-item",15,Gs),Ni(12,"keyvalue"),x()()()),n&2){let e=X();D(10),Kr(Fi(12,0,e.getExtensionStrategyParams()))}}function sDe(n,t){if(n&1&&(w(0,"div",10)(1,"h3"),P(2),x(),Y(3,"p",20),x()),n&2){let e=t.$implicit,i=X(2);D(2),xe(e.value),D(),z("innerHTML",i.getDescription(e.key),av)}}function aDe(n,t){if(n&1&&(w(0,"mat-card",19)(1,"mat-card-header")(2,"mat-card-title"),P(3,"N\xE1jdenie jednotliv\xFDch zh\xF4d"),x(),w(4,"mat-card-subtitle")(5,"p"),P(6," Dan\xE9 parametre ovplyv\u0148uj\xFA n\xE1jdenie zhodn\xFDch viet medzi dvojicami pr\xE1ve odovzdan\xFDch dokumentov, ako aj dokumentov ulo\u017Een\xFDch v datab\xE1ze "),x()()(),Y(7,"mat-divider"),w(8,"mat-card-content")(9,"mat-list",12),$r(10,sDe,4,2,"div",10,Gs),Ni(12,"keyvalue"),x()()()),n&2){let e=X();D(10),Kr(Fi(12,0,e.getSeedingStrategyParams()))}}function lDe(n,t){n&1&&(w(0,"p"),P(1," Filtrovanie v\xFDsledkov "),w(2,"strong"),P(3,"nebolo pou\u017Eite"),x()())}function cDe(n,t){n&1&&(w(0,"p")(1,"strong"),P(2,"Bolo pou\u017Eite"),x(),P(3," filtrovanie v\xFDsledkov, odovzdania bez v\xFDsledn\xFDch porovnan\xED s\xFA pova\u017Eovan\xE9 za bezplagiatorsk\xE9 "),x())}function dDe(n,t){if(n&1&&(w(0,"mat-card",6)(1,"mat-card-header")(2,"mat-card-title"),P(3,"Filtrovanie v\xFDsledkov"),x(),w(4,"mat-card-subtitle"),ee(5,lDe,4,0,"p",7)(6,cDe,4,0,"p",7),x()(),Y(7,"mat-divider"),w(8,"mat-card-content")(9,"mat-list",17)(10,"mat-list-item",15)(11,"h3",16),P(12),x(),w(13,"span"),P(14),x()(),w(15,"mat-list-item",15)(16,"h3",16),P(17),x(),w(18,"span"),P(19),x()()()()()),n&2){let e,i,o,r,s=X();D(5),z("ngIf",(e=s.overview())==null?null:e.configuration.comparisonsStoreParameters.canBypassFiltering),D(),z("ngIf",!((i=s.overview())!=null&&i.configuration.comparisonsStoreParameters.canBypassFiltering)),D(4),z("lines",3),D(2),xe((o=s.overview())==null?null:o.configuration.comparisonsStoreParameters.maxResultsPerDocument),D(2),xe(s.getDescription("maxResultsPerDocument")),D(),z("lines",3),D(2),xe((r=s.overview())==null?null:r.configuration.comparisonsStoreParameters.minSimilarityToRecord),D(2),xe(s.getDescription("minSimilarityToRecord"))}}function uDe(n,t){n&1&&(w(0,"p"),P(1," Odstr\xE1nenie \u0161abl\xF3ny "),w(2,"strong"),P(3,"nebolo pou\u017Eite"),x(),P(4,". Ka\u017Ed\xFD s\xFAbor sa predbe\u017Ene porovn\xE1 s dan\xFDm s\xFAborom. V\u0161etky n\xE1jden\xE9 zhody sa bud\xFA ignorova\u0165 a zobrazia sa pri otvoren\xED obsahu dokumentu "),x())}function hDe(n,t){n&1&&(w(0,"p")(1,"strong"),P(2,"Bolo pou\u017Eite"),x(),P(3," odstr\xE1nenie \u0161abl\xF3ny. Ka\u017Ed\xFD s\xFAbor sa predbe\u017Ene porovn\xE1 s dan\xFDm s\xFAborom. V\u0161etky n\xE1jden\xE9 zhody sa bud\xFA ignorova\u0165 a zobrazia sa pri otvoren\xED obsahu dokumentu "),x())}function mDe(n,t){if(n&1&&(w(0,"mat-list",17)(1,"mat-list-item",15)(2,"h3",21),P(3),x(),w(4,"span"),P(5),x()()()),n&2){let e,i,o=X();D(),z("lines",3),D(2),xe((e=(e=o.overview())==null?null:e.configuration.templateDocumentPath)!==null&&e!==void 0?e:"IPC.pdf"),D(2),xe((i=o.overview())!=null&&i.configuration.templateDocumentPath?o.getDescription("templateDocumentPath"):'Text zadania IPC bol pou\u017Eit\xFD, ako "\u0161abl\xF3na".')}}function pDe(n,t){if(n&1&&(w(0,"div",10)(1,"h3"),P(2),x(),Y(3,"p",20),x()),n&2){let e=t.$implicit,i=X();D(2),xe(e.value),D(),z("innerHTML",i.getDescription(e.key),av)}}var Kk=class n{constructor(t,e,i){this.analysisContext=t;this.assetsLoaderService=e;this.sanitizer=i;cn(()=>{let o=this.analysisContext.getReport()();o&&this.overview.set(o.overview)})}overview=Ue(void 0);configurationDescription=Ue([]);ngOnInit(){this.assetsLoaderService.loadConfigurationDescription().subscribe(t=>{this.configurationDescription.set(t)})}getDescription(t,e=""){return this.configurationDescription().find(i=>i.name===t+e)?.description}getFlag(t,e=""){return this.configurationDescription().find(i=>i.name===t+e)?.flag}getExtensionStrategyParams(){return this.overview()?.configuration.extensionStrategyParameters}getSeedingStrategyParams(){return this.overview()?.configuration.seedingStrategyParameters}getFilteringStrategyParams(){return this.overview()?.configuration.filteringStrategyParameters}static \u0275fac=function(e){return new(e||n)(J(jt),J($k),J(jh))};static \u0275cmp=Z({type:n,selectors:[["app-configuration-info-card"]],decls:55,vars:17,consts:[[1,"configuration-card-group"],[2,"display","flex","flex-direction","column","gap","32px"],["class","medium-card","style","gap: 16px;",4,"ngIf"],["class","medium-card",4,"ngIf"],[2,"display","flex","flex-direction","column","flex-wrap","wrap","gap","32px"],["class","large-card",4,"ngIf"],[1,"medium-card"],[4,"ngIf"],["class","info-list",4,"ngIf"],[1,"large-text-list","info-list"],[1,"large-text-configuration-item"],["appTextOverflowScroll","",1,"scrollable-text"],[1,"large-text-list","info-list",2,"gap","0"],[1,"medium-card",2,"gap","16px"],[1,"info-list",2,"gap","0"],[3,"lines"],["matListItemTitle",""],[1,"info-list"],[2,"white-space","nowrap"],[1,"large-card"],[3,"innerHTML"],["appTextOverflowScroll","","matListItemTitle","",1,"scrollable-text"]],template:function(e,i){if(e&1&&(w(0,"div",0)(1,"div",1),ee(2,ZSe,30,14,"mat-card",2)(3,eDe,15,5,"mat-card",3)(4,nDe,8,2,"mat-card",3),x(),w(5,"div",4),ee(6,rDe,13,2,"mat-card",5)(7,aDe,13,2,"mat-card",5),x(),w(8,"div",1),ee(9,dDe,20,8,"mat-card",3),w(10,"mat-card",6)(11,"mat-card-header")(12,"mat-card-title"),P(13," Porovn\xE1vanie so \u0161abl\xF3nou "),x(),w(14,"mat-card-subtitle"),ee(15,uDe,5,0,"p",7)(16,hDe,4,0,"p",7),x()(),Y(17,"mat-divider"),w(18,"mat-card-content"),ee(19,mDe,6,3,"mat-list",8),x()(),w(20,"mat-card",6)(21,"mat-card-header")(22,"mat-card-title"),P(23," Indexovanie "),x()(),Y(24,"mat-divider"),w(25,"mat-card-content")(26,"mat-list",9)(27,"div",10)(28,"h3",11),P(29),x(),w(30,"p"),P(31),x()(),w(32,"div",10)(33,"h3"),P(34),x(),w(35,"p"),P(36),x()(),w(37,"div",10)(38,"h3"),P(39),x(),w(40,"p"),P(41),x()()()()(),w(42,"mat-card",6)(43,"mat-card-header")(44,"mat-card-title"),P(45," Filtrovanie zhodn\xFDch fragmentov "),x(),w(46,"mat-card-subtitle")(47,"p"),P(48," Po roz\u0161\xEDren\xED zhody na dlh\u0161ie fragmenty, sa v\xFDkona ich filtrovanie pod\u013Ea d\u013A\u017Eky "),x()()(),Y(49,"mat-divider"),w(50,"mat-card-content")(51,"mat-list",12),$r(52,pDe,4,2,"div",10,Gs),Ni(54,"keyvalue"),x()()()()()),e&2){let o,r,s,a,l,c;D(2),z("ngIf",i.configurationDescription().length!==0),D(),z("ngIf",i.configurationDescription().length!==0),D(),z("ngIf",i.configurationDescription().length!==0),D(2),z("ngIf",i.configurationDescription().length!==0),D(),z("ngIf",i.configurationDescription().length!==0),D(2),z("ngIf",i.configurationDescription().length!==0),D(6),z("ngIf",(o=i.overview())==null?null:o.configuration.pipelineParameters.canBypassTemplateRemoval),D(),z("ngIf",!((r=i.overview())!=null&&r.configuration.pipelineParameters.canBypassTemplateRemoval)),D(3),z("ngIf",!((s=i.overview())!=null&&s.configuration.pipelineParameters.canBypassTemplateRemoval)),D(10),xe(((a=i.overview())==null?null:a.configuration.luceneIndexDirectoryPath)||"Pr\xE1zdn\xE1"),D(2),xe(i.getDescription("luceneIndexDirectoryPath")),D(3),xe((l=i.overview())==null?null:l.configuration.luceneFileDataSourceParameters.similarDocumentsLimit),D(2),xe(i.getDescription("similarDocumentsLimit")),D(3),xe((c=i.overview())==null?null:c.configuration.luceneFileDataSourceParameters.maxMetadataSimilarDoc),D(2),xe(i.getDescription("maxMetadataSimilarDoc")),D(11),Kr(Fi(54,15,i.getFilteringStrategyParams()))}},dependencies:[ua,Ku,nc,uu,Nl,oc,Ik,$u,CO,uo,lu,rm,ss],styles:[`.medium-card{max-width:350px;min-width:200px}.large-card{max-width:400px;min-width:200px}.extra-large-card{max-width:450px;min-width:200px}.base-card{margin:auto;padding:16px}p{font:var(--mat-sys-body-medium);color:var(--mat-sys-on-surface-variant);margin:0}h3{font:var(--mat-sys-title-small);color:var(--mat-sys-on-surface);margin:0}h1{font:var(--mat-sys-title-large);color:var(--mat-sys-on-surface);margin:0}.text-frame{width:100%;overflow-y:hidden;display:flex;flex-direction:column;justify-content:center;align-content:start}.text-center{align-items:center}.text-frame h1{font:var(--mat-sys-title-large);color:var(--mat-sys-on-surface);margin:0}.text-frame p{font:var(--mat-sys-body-medium);color:var(--mat-sys-on-surface-variant);margin:0}.header-with-actions{display:flex;width:100%;flex-direction:row;align-items:center;justify-content:space-between}.header-with-actions button{justify-self:end}.header-with-actions h1{flex-grow:1;text-align:center;margin:0}.header-with-actions button{margin-left:auto}.info-list{display:flex;flex-direction:column;gap:24px}.info-list>mat-list-item{padding-left:0;padding-right:0;gap:16px}.card-group{display:flex;max-width:700px;min-width:300px;flex-direction:column;padding:16px;gap:24px;border-radius:var(--mat-sys-corner-extra-large);background-color:var(--mat-sys-surface-container-high)}.card-flex-box{display:flex;max-width:700px;min-width:300px;flex-direction:row;justify-content:center;flex-wrap:wrap;gap:16px}.horizontal-card-group-wrapper{display:flex;flex-direction:column;width:fit-content;height:100%;padding:16px;gap:8px;border-radius:var(--mat-sys-corner-extra-large);background-color:var(--mat-sys-surface-container-high)}.horizontal-card-group{display:flex;flex-direction:row;gap:32px}@media (max-width: 1250px){.horizontal-card-group{flex-wrap:wrap}}
`,`.gap-8{gap:8px!important}.configuration-card-group{display:flex;flex-direction:row;flex-wrap:wrap;column-gap:32px;row-gap:32px;align-items:start;justify-content:center}.configuration-card-group mat-card{margin-top:auto;margin-bottom:auto;gap:16px}.large-text-list{display:flex;flex-direction:column;gap:24px!important}.large-text-configuration-item>h3{font:var(--mat-sys-body-large);color:var(--mat-sys-on-surface);margin:0}
`],encapsulation:2})};var Yk=class n{constructor(t,e){this.analysisContext=t;this.fileUtils=e}loadReport(){return this.analysisContext.getReport()()!=null?Ve(this.analysisContext.getReport()()):this.analysisContext.getAnalysisImported()?this.loadFromUploadedZip().pipe(on(t=>{t&&(this.assignComparisonsToIndexedSubmissions(t),this.calculateMaxSimilarities(t))})):Ve(null)}loadFromUploadedZip(){return this.fileUtils.readReportFromZip(this.analysisContext.getSubmittedFile()().file)}assignComparisonsToIndexedSubmissions(t){t&&Array.from(t.pairs.values()).forEach(i=>{let o=t.submissions.get(i.secondId);o&&o.indexed&&o.pairIds.push(i.id)})}calculateMaxSimilarities(t){if(t!=null){let e=Array.from(t.submissions.values()),i=t.pairs;e.forEach(o=>{o.maxSimilarity=Math.max(0,...o.pairIds.map(r=>i.get(r)).map(r=>{let s=Ut.getScoreByType(r,"JACCARD"),a=Ut.getScoreByType(r,"SEMANTIC");return Math.max(s?.score??0,a?.score??0)}))})}}static \u0275fac=function(e){return new(e||n)(Je(jt),Je(Pl))};static \u0275prov=se({token:n,factory:n.\u0275fac,providedIn:"root"})};function gDe(n,t){n&1&&(w(0,"app-content-container")(1,"app-surface",1),Y(2,"mat-progress-bar",2),x()()),n&2&&(D(),z("isTitleCentered",!0)("isHorizontal",!0))}function _De(n,t){n&1&&Y(0,"app-configuration-info-card")}function vDe(n,t){if(n&1){let e=Ft();w(0,"app-content-container")(1,"app-surface",3),Y(2,"app-analysis-info-card")(3,"app-plagiarism-score-distribution"),x(),w(4,"app-surface",4),ee(5,_De,1,0,"app-configuration-info-card",0),x(),w(6,"app-surface",5),Y(7,"app-submissions-table"),w(8,"button",6),de("click",function(){et(e);let o=X();return tt(o.navigateSubmissionsPage())}),P(9,"Ostatn\xE9 Odovzdania "),x()()()}if(n&2){let e,i=X();D(),z("isTitleCentered",!0)("isHorizontal",!0),D(3),z("isTitleCentered",!0)("isHorizontal",!0),D(),z("ngIf",(e=i.analysisContext.getReport()())==null||e.overview==null?null:e.overview.configuration),D(),z("isContentCentered",!1)}}var Xk=class n{constructor(t,e,i,o){this.analysisContext=t;this.navigationService=e;this.analysisService=i;this.router=o}loading=!0;ngOnInit(){this.loading=!0,this.analysisService.loadReport().subscribe({next:t=>{t?(this.analysisContext.setReport(t),this.loading=!1,this.navigationService.toggleNavigationLock(!1)):this.router.navigate(["/import"])},error:t=>{console.error("ZIP Load Error:",t)}})}navigateSubmissionsPage(){this.router.navigate(["/submissions"])}static \u0275fac=function(e){return new(e||n)(J(jt),J(la),J(Yk),J(pi))};static \u0275cmp=Z({type:n,selectors:[["app-analysis-page"]],decls:2,vars:2,consts:[[4,"ngIf"],["title","Na\u010D\xEDtavanie anal\xFDzy","subtitle","",3,"isTitleCentered","isHorizontal"],["mode","indeterminate",1,"full-width"],["title","","subtitle","",3,"isTitleCentered","isHorizontal"],["title","Nastavenia analyzy","subtitle","",3,"isTitleCentered","isHorizontal"],["title","Odovzdania","subtitle","Tabu\u013Eka obsahuje top 10 pr\xE1c s najv\xE4\u010D\u0161ou podobnos\u0165ou",3,"isContentCentered"],["mat-flat-button","",2,"align-self","end",3,"click"]],template:function(e,i){e&1&&ee(0,gDe,3,2,"app-content-container",0)(1,vDe,10,6,"app-content-container",0),e&2&&(z("ngIf",i.loading),D(),z("ngIf",!i.loading))},dependencies:[W$,Tn,Uk,uo,hu,Zu,Rn,On,Gk,Kk],styles:[".histogram-container[_ngcontent-%COMP%]{display:flex;min-width:600px;max-width:650px;flex-direction:column;justify-content:center;align-items:center;padding:16px;gap:24px;flex:1 0 0;background-color:var(--mat-sys-surface-container-high);border-radius:var(--mat-sys-corner-extra-large)}.histogram-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font:var(--mat-sys-headline-small);color:var(--mat-sys-on-surface);margin:0}.stat-group[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;align-items:center;align-content:center;align-self:stretch;padding:16px;gap:32px}.full-width[_ngcontent-%COMP%]{width:100%}"]})};var Zk=class n{constructor(t,e){this.analysisContext=t;this.router=e}canActivate(){return this.analysisContext.getSubmittedFile()()!==null?!0:(this.analysisContext.clearContext(),this.router.navigate(["/import"]),!1)}static \u0275fac=function(e){return new(e||n)(Je(jt),Je(pi))};static \u0275prov=se({token:n,factory:n.\u0275fac,providedIn:"root"})};var Qk="http://www.w3.org/1999/xhtml",b3={svg:"http://www.w3.org/2000/svg",xhtml:Qk,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ud(n){var t=n+="",e=t.indexOf(":");return e>=0&&(t=n.slice(0,e))!=="xmlns"&&(n=n.slice(e+1)),b3.hasOwnProperty(t)?{space:b3[t],local:n}:n}function bDe(n){return function(){var t=this.ownerDocument,e=this.namespaceURI;return e===Qk&&t.documentElement.namespaceURI===Qk?t.createElement(n):t.createElementNS(e,n)}}function yDe(n){return function(){return this.ownerDocument.createElementNS(n.space,n.local)}}function Jk(n){var t=ud(n);return(t.local?yDe:bDe)(t)}function wDe(){}function qm(n){return n==null?wDe:function(){return this.querySelector(n)}}function NX(n){typeof n!="function"&&(n=qm(n));for(var t=this._groups,e=t.length,i=new Array(e),o=0;o<e;++o)for(var r=t[o],s=r.length,a=i[o]=new Array(s),l,c,d=0;d<s;++d)(l=r[d])&&(c=n.call(l,l.__data__,d,r))&&("__data__"in l&&(c.__data__=l.__data__),a[d]=c);return new Qn(i,this._parents)}function y3(n){return n==null?[]:Array.isArray(n)?n:Array.from(n)}function xDe(){return[]}function rw(n){return n==null?xDe:function(){return this.querySelectorAll(n)}}function CDe(n){return function(){return y3(n.apply(this,arguments))}}function FX(n){typeof n=="function"?n=CDe(n):n=rw(n);for(var t=this._groups,e=t.length,i=[],o=[],r=0;r<e;++r)for(var s=t[r],a=s.length,l,c=0;c<a;++c)(l=s[c])&&(i.push(n.call(l,l.__data__,c,s)),o.push(l));return new Qn(i,o)}function sw(n){return function(){return this.matches(n)}}function eT(n){return function(t){return t.matches(n)}}var SDe=Array.prototype.find;function DDe(n){return function(){return SDe.call(this.children,n)}}function IDe(){return this.firstElementChild}function zX(n){return this.select(n==null?IDe:DDe(typeof n=="function"?n:eT(n)))}var EDe=Array.prototype.filter;function MDe(){return Array.from(this.children)}function kDe(n){return function(){return EDe.call(this.children,n)}}function BX(n){return this.selectAll(n==null?MDe:kDe(typeof n=="function"?n:eT(n)))}function HX(n){typeof n!="function"&&(n=sw(n));for(var t=this._groups,e=t.length,i=new Array(e),o=0;o<e;++o)for(var r=t[o],s=r.length,a=i[o]=[],l,c=0;c<s;++c)(l=r[c])&&n.call(l,l.__data__,c,r)&&a.push(l);return new Qn(i,this._parents)}function tT(n){return new Array(n.length)}function VX(){return new Qn(this._enter||this._groups.map(tT),this._parents)}function aw(n,t){this.ownerDocument=n.ownerDocument,this.namespaceURI=n.namespaceURI,this._next=null,this._parent=n,this.__data__=t}aw.prototype={constructor:aw,appendChild:function(n){return this._parent.insertBefore(n,this._next)},insertBefore:function(n,t){return this._parent.insertBefore(n,t)},querySelector:function(n){return this._parent.querySelector(n)},querySelectorAll:function(n){return this._parent.querySelectorAll(n)}};function WX(n){return function(){return n}}function TDe(n,t,e,i,o,r){for(var s=0,a,l=t.length,c=r.length;s<c;++s)(a=t[s])?(a.__data__=r[s],i[s]=a):e[s]=new aw(n,r[s]);for(;s<l;++s)(a=t[s])&&(o[s]=a)}function ADe(n,t,e,i,o,r,s){var a,l,c=new Map,d=t.length,u=r.length,h=new Array(d),m;for(a=0;a<d;++a)(l=t[a])&&(h[a]=m=s.call(l,l.__data__,a,t)+"",c.has(m)?o[a]=l:c.set(m,l));for(a=0;a<u;++a)m=s.call(n,r[a],a,r)+"",(l=c.get(m))?(i[a]=l,l.__data__=r[a],c.delete(m)):e[a]=new aw(n,r[a]);for(a=0;a<d;++a)(l=t[a])&&c.get(h[a])===l&&(o[a]=l)}function RDe(n){return n.__data__}function jX(n,t){if(!arguments.length)return Array.from(this,RDe);var e=t?ADe:TDe,i=this._parents,o=this._groups;typeof n!="function"&&(n=WX(n));for(var r=o.length,s=new Array(r),a=new Array(r),l=new Array(r),c=0;c<r;++c){var d=i[c],u=o[c],h=u.length,m=ODe(n.call(d,d&&d.__data__,c,i)),f=m.length,p=a[c]=new Array(f),g=s[c]=new Array(f),v=l[c]=new Array(h);e(d,u,p,g,v,m,t);for(var b=0,C=0,k,E;b<f;++b)if(k=p[b]){for(b>=C&&(C=b+1);!(E=g[C])&&++C<f;);k._next=E||null}}return s=new Qn(s,i),s._enter=a,s._exit=l,s}function ODe(n){return typeof n=="object"&&"length"in n?n:Array.from(n)}function UX(){return new Qn(this._exit||this._groups.map(tT),this._parents)}function qX(n,t,e){var i=this.enter(),o=this,r=this.exit();return typeof n=="function"?(i=n(i),i&&(i=i.selection())):i=i.append(n+""),t!=null&&(o=t(o),o&&(o=o.selection())),e==null?r.remove():e(r),i&&o?i.merge(o).order():o}function GX(n){for(var t=n.selection?n.selection():n,e=this._groups,i=t._groups,o=e.length,r=i.length,s=Math.min(o,r),a=new Array(o),l=0;l<s;++l)for(var c=e[l],d=i[l],u=c.length,h=a[l]=new Array(u),m,f=0;f<u;++f)(m=c[f]||d[f])&&(h[f]=m);for(;l<o;++l)a[l]=e[l];return new Qn(a,this._parents)}function $X(){for(var n=this._groups,t=-1,e=n.length;++t<e;)for(var i=n[t],o=i.length-1,r=i[o],s;--o>=0;)(s=i[o])&&(r&&s.compareDocumentPosition(r)^4&&r.parentNode.insertBefore(s,r),r=s);return this}function KX(n){n||(n=PDe);function t(u,h){return u&&h?n(u.__data__,h.__data__):!u-!h}for(var e=this._groups,i=e.length,o=new Array(i),r=0;r<i;++r){for(var s=e[r],a=s.length,l=o[r]=new Array(a),c,d=0;d<a;++d)(c=s[d])&&(l[d]=c);l.sort(t)}return new Qn(o,this._parents).order()}function PDe(n,t){return n<t?-1:n>t?1:n>=t?0:NaN}function YX(){var n=arguments[0];return arguments[0]=this,n.apply(null,arguments),this}function XX(){return Array.from(this)}function ZX(){for(var n=this._groups,t=0,e=n.length;t<e;++t)for(var i=n[t],o=0,r=i.length;o<r;++o){var s=i[o];if(s)return s}return null}function QX(){let n=0;for(let t of this)++n;return n}function JX(){return!this.node()}function eZ(n){for(var t=this._groups,e=0,i=t.length;e<i;++e)for(var o=t[e],r=0,s=o.length,a;r<s;++r)(a=o[r])&&n.call(a,a.__data__,r,o);return this}function LDe(n){return function(){this.removeAttribute(n)}}function NDe(n){return function(){this.removeAttributeNS(n.space,n.local)}}function FDe(n,t){return function(){this.setAttribute(n,t)}}function zDe(n,t){return function(){this.setAttributeNS(n.space,n.local,t)}}function BDe(n,t){return function(){var e=t.apply(this,arguments);e==null?this.removeAttribute(n):this.setAttribute(n,e)}}function HDe(n,t){return function(){var e=t.apply(this,arguments);e==null?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,e)}}function tZ(n,t){var e=ud(n);if(arguments.length<2){var i=this.node();return e.local?i.getAttributeNS(e.space,e.local):i.getAttribute(e)}return this.each((t==null?e.local?NDe:LDe:typeof t=="function"?e.local?HDe:BDe:e.local?zDe:FDe)(e,t))}function iT(n){return n.ownerDocument&&n.ownerDocument.defaultView||n.document&&n||n.defaultView}function VDe(n){return function(){this.style.removeProperty(n)}}function WDe(n,t,e){return function(){this.style.setProperty(n,t,e)}}function jDe(n,t,e){return function(){var i=t.apply(this,arguments);i==null?this.style.removeProperty(n):this.style.setProperty(n,i,e)}}function iZ(n,t,e){return arguments.length>1?this.each((t==null?VDe:typeof t=="function"?jDe:WDe)(n,t,e??"")):eh(this.node(),n)}function eh(n,t){return n.style.getPropertyValue(t)||iT(n).getComputedStyle(n,null).getPropertyValue(t)}function UDe(n){return function(){delete this[n]}}function qDe(n,t){return function(){this[n]=t}}function GDe(n,t){return function(){var e=t.apply(this,arguments);e==null?delete this[n]:this[n]=e}}function nZ(n,t){return arguments.length>1?this.each((t==null?UDe:typeof t=="function"?GDe:qDe)(n,t)):this.node()[n]}function oZ(n){return n.trim().split(/^|\s+/)}function w3(n){return n.classList||new rZ(n)}function rZ(n){this._node=n,this._names=oZ(n.getAttribute("class")||"")}rZ.prototype={add:function(n){var t=this._names.indexOf(n);t<0&&(this._names.push(n),this._node.setAttribute("class",this._names.join(" ")))},remove:function(n){var t=this._names.indexOf(n);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(n){return this._names.indexOf(n)>=0}};function sZ(n,t){for(var e=w3(n),i=-1,o=t.length;++i<o;)e.add(t[i])}function aZ(n,t){for(var e=w3(n),i=-1,o=t.length;++i<o;)e.remove(t[i])}function $De(n){return function(){sZ(this,n)}}function KDe(n){return function(){aZ(this,n)}}function YDe(n,t){return function(){(t.apply(this,arguments)?sZ:aZ)(this,n)}}function lZ(n,t){var e=oZ(n+"");if(arguments.length<2){for(var i=w3(this.node()),o=-1,r=e.length;++o<r;)if(!i.contains(e[o]))return!1;return!0}return this.each((typeof t=="function"?YDe:t?$De:KDe)(e,t))}function XDe(){this.textContent=""}function ZDe(n){return function(){this.textContent=n}}function QDe(n){return function(){var t=n.apply(this,arguments);this.textContent=t??""}}function cZ(n){return arguments.length?this.each(n==null?XDe:(typeof n=="function"?QDe:ZDe)(n)):this.node().textContent}function JDe(){this.innerHTML=""}function eIe(n){return function(){this.innerHTML=n}}function tIe(n){return function(){var t=n.apply(this,arguments);this.innerHTML=t??""}}function dZ(n){return arguments.length?this.each(n==null?JDe:(typeof n=="function"?tIe:eIe)(n)):this.node().innerHTML}function iIe(){this.nextSibling&&this.parentNode.appendChild(this)}function uZ(){return this.each(iIe)}function nIe(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function hZ(){return this.each(nIe)}function mZ(n){var t=typeof n=="function"?n:Jk(n);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function oIe(){return null}function pZ(n,t){var e=typeof n=="function"?n:Jk(n),i=t==null?oIe:typeof t=="function"?t:qm(t);return this.select(function(){return this.insertBefore(e.apply(this,arguments),i.apply(this,arguments)||null)})}function rIe(){var n=this.parentNode;n&&n.removeChild(this)}function fZ(){return this.each(rIe)}function sIe(){var n=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(n,this.nextSibling):n}function aIe(){var n=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(n,this.nextSibling):n}function gZ(n){return this.select(n?aIe:sIe)}function _Z(n){return arguments.length?this.property("__data__",n):this.node().__data__}function lIe(n){return function(t){n.call(this,t,this.__data__)}}function cIe(n){return n.trim().split(/^|\s+/).map(function(t){var e="",i=t.indexOf(".");return i>=0&&(e=t.slice(i+1),t=t.slice(0,i)),{type:t,name:e}})}function dIe(n){return function(){var t=this.__on;if(t){for(var e=0,i=-1,o=t.length,r;e<o;++e)r=t[e],(!n.type||r.type===n.type)&&r.name===n.name?this.removeEventListener(r.type,r.listener,r.options):t[++i]=r;++i?t.length=i:delete this.__on}}}function uIe(n,t,e){return function(){var i=this.__on,o,r=lIe(t);if(i){for(var s=0,a=i.length;s<a;++s)if((o=i[s]).type===n.type&&o.name===n.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=r,o.options=e),o.value=t;return}}this.addEventListener(n.type,r,e),o={type:n.type,name:n.name,value:t,listener:r,options:e},i?i.push(o):this.__on=[o]}}function vZ(n,t,e){var i=cIe(n+""),o,r=i.length,s;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,c=a.length,d;l<c;++l)for(o=0,d=a[l];o<r;++o)if((s=i[o]).type===d.type&&s.name===d.name)return d.value}return}for(a=t?uIe:dIe,o=0;o<r;++o)this.each(a(i[o],t,e));return this}function bZ(n,t,e){var i=iT(n),o=i.CustomEvent;typeof o=="function"?o=new o(t,e):(o=i.document.createEvent("Event"),e?(o.initEvent(t,e.bubbles,e.cancelable),o.detail=e.detail):o.initEvent(t,!1,!1)),n.dispatchEvent(o)}function hIe(n,t){return function(){return bZ(this,n,t)}}function mIe(n,t){return function(){return bZ(this,n,t.apply(this,arguments))}}function yZ(n,t){return this.each((typeof t=="function"?mIe:hIe)(n,t))}function*wZ(){for(var n=this._groups,t=0,e=n.length;t<e;++t)for(var i=n[t],o=0,r=i.length,s;o<r;++o)(s=i[o])&&(yield s)}var x3=[null];function Qn(n,t){this._groups=n,this._parents=t}function xZ(){return new Qn([[document.documentElement]],x3)}function pIe(){return this}Qn.prototype=xZ.prototype={constructor:Qn,select:NX,selectAll:FX,selectChild:zX,selectChildren:BX,filter:HX,data:jX,enter:VX,exit:UX,join:qX,merge:GX,selection:pIe,order:$X,sort:KX,call:YX,nodes:XX,node:ZX,size:QX,empty:JX,each:eZ,attr:tZ,style:iZ,property:nZ,classed:lZ,text:cZ,html:dZ,raise:uZ,lower:hZ,append:mZ,insert:pZ,remove:fZ,clone:gZ,datum:_Z,on:vZ,dispatch:yZ,[Symbol.iterator]:wZ};var hd=xZ;function nT(n){return typeof n=="string"?new Qn([[document.querySelector(n)]],[document.documentElement]):new Qn([[n]],x3)}function Gm(n){return function(){return n}}var C3=Math.PI,S3=2*C3,$m=1e-6,fIe=S3-$m;function CZ(n){this._+=n[0];for(let t=1,e=n.length;t<e;++t)this._+=arguments[t]+n[t]}function gIe(n){let t=Math.floor(n);if(!(t>=0))throw new Error(`invalid digits: ${n}`);if(t>15)return CZ;let e=10**t;return function(i){this._+=i[0];for(let o=1,r=i.length;o<r;++o)this._+=Math.round(arguments[o]*e)/e+i[o]}}var Km=class{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?CZ:gIe(t)}moveTo(t,e){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,e){this._append`L${this._x1=+t},${this._y1=+e}`}quadraticCurveTo(t,e,i,o){this._append`Q${+t},${+e},${this._x1=+i},${this._y1=+o}`}bezierCurveTo(t,e,i,o,r,s){this._append`C${+t},${+e},${+i},${+o},${this._x1=+r},${this._y1=+s}`}arcTo(t,e,i,o,r){if(t=+t,e=+e,i=+i,o=+o,r=+r,r<0)throw new Error(`negative radius: ${r}`);let s=this._x1,a=this._y1,l=i-t,c=o-e,d=s-t,u=a-e,h=d*d+u*u;if(this._x1===null)this._append`M${this._x1=t},${this._y1=e}`;else if(h>$m)if(!(Math.abs(u*l-c*d)>$m)||!r)this._append`L${this._x1=t},${this._y1=e}`;else{let m=i-s,f=o-a,p=l*l+c*c,g=m*m+f*f,v=Math.sqrt(p),b=Math.sqrt(h),C=r*Math.tan((C3-Math.acos((p+h-g)/(2*v*b)))/2),k=C/b,E=C/v;Math.abs(k-1)>$m&&this._append`L${t+k*d},${e+k*u}`,this._append`A${r},${r},0,0,${+(u*m>d*f)},${this._x1=t+E*l},${this._y1=e+E*c}`}}arc(t,e,i,o,r,s){if(t=+t,e=+e,i=+i,s=!!s,i<0)throw new Error(`negative radius: ${i}`);let a=i*Math.cos(o),l=i*Math.sin(o),c=t+a,d=e+l,u=1^s,h=s?o-r:r-o;this._x1===null?this._append`M${c},${d}`:(Math.abs(this._x1-c)>$m||Math.abs(this._y1-d)>$m)&&this._append`L${c},${d}`,i&&(h<0&&(h=h%S3+S3),h>fIe?this._append`A${i},${i},0,1,${u},${t-a},${e-l}A${i},${i},0,1,${u},${this._x1=c},${this._y1=d}`:h>$m&&this._append`A${i},${i},0,${+(h>=C3)},${u},${this._x1=t+i*Math.cos(r)},${this._y1=e+i*Math.sin(r)}`)}rect(t,e,i,o){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}h${i=+i}v${+o}h${-i}Z`}toString(){return this._}};function SZ(){return new Km}SZ.prototype=Km.prototype;function DZ(n){let t=3;return n.digits=function(e){if(!arguments.length)return t;if(e==null)t=null;else{let i=Math.floor(e);if(!(i>=0))throw new RangeError(`invalid digits: ${e}`);t=i}return n},()=>new Km(t)}var Poi=Array.prototype.slice;function IZ(n){return typeof n=="object"&&"length"in n?n:Array.from(n)}function EZ(n){this._context=n}EZ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,t){switch(n=+n,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,t):this._context.moveTo(n,t);break;case 1:this._point=2;default:this._context.lineTo(n,t);break}}};function MZ(n){return new EZ(n)}function kZ(n){return n[0]}function TZ(n){return n[1]}function D3(n,t){var e=Gm(!0),i=null,o=MZ,r=null,s=DZ(a);n=typeof n=="function"?n:n===void 0?kZ:Gm(n),t=typeof t=="function"?t:t===void 0?TZ:Gm(t);function a(l){var c,d=(l=IZ(l)).length,u,h=!1,m;for(i==null&&(r=o(m=s())),c=0;c<=d;++c)!(c<d&&e(u=l[c],c,l))===h&&((h=!h)?r.lineStart():r.lineEnd()),h&&r.point(+n(u,c,l),+t(u,c,l));if(m)return r=null,m+""||null}return a.x=function(l){return arguments.length?(n=typeof l=="function"?l:Gm(+l),a):n},a.y=function(l){return arguments.length?(t=typeof l=="function"?l:Gm(+l),a):t},a.defined=function(l){return arguments.length?(e=typeof l=="function"?l:Gm(!!l),a):e},a.curve=function(l){return arguments.length?(o=l,i!=null&&(r=o(i)),a):o},a.context=function(l){return arguments.length?(l==null?i=r=null:r=o(i=l),a):i},a}function AZ(n,t,e){n._context.bezierCurveTo((2*n._x0+n._x1)/3,(2*n._y0+n._y1)/3,(n._x0+2*n._x1)/3,(n._y0+2*n._y1)/3,(n._x0+4*n._x1+t)/6,(n._y0+4*n._y1+e)/6)}function oT(n){this._context=n}oT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:AZ(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,t){switch(n=+n,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,t):this._context.moveTo(n,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:AZ(this,n,t);break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=t}};function RZ(n,t){this._basis=new oT(n),this._beta=t}RZ.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var n=this._x,t=this._y,e=n.length-1;if(e>0)for(var i=n[0],o=t[0],r=n[e]-i,s=t[e]-o,a=-1,l;++a<=e;)l=a/e,this._basis.point(this._beta*n[a]+(1-this._beta)*(i+l*r),this._beta*t[a]+(1-this._beta)*(o+l*s));this._x=this._y=null,this._basis.lineEnd()},point:function(n,t){this._x.push(+n),this._y.push(+t)}};var I3=function n(t){function e(i){return t===1?new oT(i):new RZ(i,t)}return e.beta=function(i){return n(+i)},e}(.85);function rT(n){return((n*=2)<=1?n*n*n:(n-=2)*n*n+2)/2}var OZ=Math.PI,Xoi=OZ/2;function lw(n){return(1-Math.cos(OZ*n))/2}var E3={};BA(E3,{dispatch:()=>v_});var bIe={value:()=>{}};function LZ(){for(var n=0,t=arguments.length,e={},i;n<t;++n){if(!(i=arguments[n]+"")||i in e||/[\s.]/.test(i))throw new Error("illegal type: "+i);e[i]=[]}return new sT(e)}function sT(n){this._=n}function yIe(n,t){return n.trim().split(/^|\s+/).map(function(e){var i="",o=e.indexOf(".");if(o>=0&&(i=e.slice(o+1),e=e.slice(0,o)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:i}})}sT.prototype=LZ.prototype={constructor:sT,on:function(n,t){var e=this._,i=yIe(n+"",e),o,r=-1,s=i.length;if(arguments.length<2){for(;++r<s;)if((o=(n=i[r]).type)&&(o=wIe(e[o],n.name)))return o;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++r<s;)if(o=(n=i[r]).type)e[o]=PZ(e[o],n.name,t);else if(t==null)for(o in e)e[o]=PZ(e[o],n.name,null);return this},copy:function(){var n={},t=this._;for(var e in t)n[e]=t[e].slice();return new sT(n)},call:function(n,t){if((o=arguments.length-2)>0)for(var e=new Array(o),i=0,o,r;i<o;++i)e[i]=arguments[i+2];if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(r=this._[n],i=0,o=r.length;i<o;++i)r[i].value.apply(t,e)},apply:function(n,t,e){if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(var i=this._[n],o=0,r=i.length;o<r;++o)i[o].value.apply(t,e)}};function wIe(n,t){for(var e=0,i=n.length,o;e<i;++e)if((o=n[e]).name===t)return o.value}function PZ(n,t,e){for(var i=0,o=n.length;i<o;++i)if(n[i].name===t){n[i]=bIe,n=n.slice(0,i).concat(n.slice(i+1));break}return e!=null&&n.push({name:t,value:e}),n}var v_=LZ;var T3={};BA(T3,{interval:()=>BZ,now:()=>th,timeout:()=>mw,timer:()=>Zm,timerFlush:()=>k3});var b_=0,dw=0,cw=0,FZ=1e3,aT,uw,lT=0,Ym=0,cT=0,hw=typeof performance=="object"&&performance.now?performance:Date,zZ=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(n){setTimeout(n,17)};function th(){return Ym||(zZ(xIe),Ym=hw.now()+cT)}function xIe(){Ym=0}function Xm(){this._call=this._time=this._next=null}Xm.prototype=Zm.prototype={constructor:Xm,restart:function(n,t,e){if(typeof n!="function")throw new TypeError("callback is not a function");e=(e==null?th():+e)+(t==null?0:+t),!this._next&&uw!==this&&(uw?uw._next=this:aT=this,uw=this),this._call=n,this._time=e,M3()},stop:function(){this._call&&(this._call=null,this._time=1/0,M3())}};function Zm(n,t,e){var i=new Xm;return i.restart(n,t,e),i}function k3(){th(),++b_;for(var n=aT,t;n;)(t=Ym-n._time)>=0&&n._call.call(void 0,t),n=n._next;--b_}function NZ(){Ym=(lT=hw.now())+cT,b_=dw=0;try{k3()}finally{b_=0,SIe(),Ym=0}}function CIe(){var n=hw.now(),t=n-lT;t>FZ&&(cT-=t,lT=n)}function SIe(){for(var n,t=aT,e,i=1/0;t;)t._call?(i>t._time&&(i=t._time),n=t,t=t._next):(e=t._next,t._next=null,t=n?n._next=e:aT=e);uw=n,M3(i)}function M3(n){if(!b_){dw&&(dw=clearTimeout(dw));var t=n-Ym;t>24?(n<1/0&&(dw=setTimeout(NZ,n-hw.now()-cT)),cw&&(cw=clearInterval(cw))):(cw||(lT=hw.now(),cw=setInterval(CIe,FZ)),b_=1,zZ(NZ))}}function mw(n,t,e){var i=new Xm;return t=t==null?0:+t,i.restart(o=>{i.stop(),n(o+t)},t,e),i}function BZ(n,t,e){var i=new Xm,o=t;return t==null?(i.restart(n,t,e),i):(i._restart=i.restart,i.restart=function(r,s,a){s=+s,a=a==null?th():+a,i._restart(function l(c){c+=o,i._restart(l,o+=s,a),r(c)},s,a)},i.restart(n,t,e),i)}var DIe=v_("start","end","cancel","interrupt"),IIe=[],WZ=0,HZ=1,uT=2,dT=3,VZ=4,hT=5,pw=6;function ih(n,t,e,i,o,r){var s=n.__transition;if(!s)n.__transition={};else if(e in s)return;EIe(n,e,{name:t,index:i,group:o,on:DIe,tween:IIe,time:r.time,delay:r.delay,duration:r.duration,ease:r.ease,timer:null,state:WZ})}function fw(n,t){var e=Vo(n,t);if(e.state>WZ)throw new Error("too late; already scheduled");return e}function ur(n,t){var e=Vo(n,t);if(e.state>dT)throw new Error("too late; already running");return e}function Vo(n,t){var e=n.__transition;if(!e||!(e=e[t]))throw new Error("transition not found");return e}function EIe(n,t,e){var i=n.__transition,o;i[t]=e,e.timer=Zm(r,0,e.time);function r(c){e.state=HZ,e.timer.restart(s,e.delay,e.time),e.delay<=c&&s(c-e.delay)}function s(c){var d,u,h,m;if(e.state!==HZ)return l();for(d in i)if(m=i[d],m.name===e.name){if(m.state===dT)return mw(s);m.state===VZ?(m.state=pw,m.timer.stop(),m.on.call("interrupt",n,n.__data__,m.index,m.group),delete i[d]):+d<t&&(m.state=pw,m.timer.stop(),m.on.call("cancel",n,n.__data__,m.index,m.group),delete i[d])}if(mw(function(){e.state===dT&&(e.state=VZ,e.timer.restart(a,e.delay,e.time),a(c))}),e.state=uT,e.on.call("start",n,n.__data__,e.index,e.group),e.state===uT){for(e.state=dT,o=new Array(h=e.tween.length),d=0,u=-1;d<h;++d)(m=e.tween[d].value.call(n,n.__data__,e.index,e.group))&&(o[++u]=m);o.length=u+1}}function a(c){for(var d=c<e.duration?e.ease.call(null,c/e.duration):(e.timer.restart(l),e.state=hT,1),u=-1,h=o.length;++u<h;)o[u].call(n,d);e.state===hT&&(e.on.call("end",n,n.__data__,e.index,e.group),l())}function l(){e.state=pw,e.timer.stop(),delete i[t];for(var c in i)return;delete n.__transition}}function jZ(n,t){var e=n.__transition,i,o,r=!0,s;if(e){t=t==null?null:t+"";for(s in e){if((i=e[s]).name!==t){r=!1;continue}o=i.state>uT&&i.state<hT,i.state=pw,i.timer.stop(),i.on.call(o?"interrupt":"cancel",n,n.__data__,i.index,i.group),delete e[s]}r&&delete n.__transition}}function UZ(n){return this.each(function(){jZ(this,n)})}function mT(n,t,e){n.prototype=t.prototype=e,e.constructor=n}function A3(n,t){var e=Object.create(n.prototype);for(var i in t)e[i]=t[i];return e}function vw(){}var gw=.7,gT=1/gw,y_="\\s*([+-]?\\d+)\\s*",_w="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",sc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",MIe=/^#([0-9a-f]{3,8})$/,kIe=new RegExp(`^rgb\\(${y_},${y_},${y_}\\)$`),TIe=new RegExp(`^rgb\\(${sc},${sc},${sc}\\)$`),AIe=new RegExp(`^rgba\\(${y_},${y_},${y_},${_w}\\)$`),RIe=new RegExp(`^rgba\\(${sc},${sc},${sc},${_w}\\)$`),OIe=new RegExp(`^hsl\\(${_w},${sc},${sc}\\)$`),PIe=new RegExp(`^hsla\\(${_w},${sc},${sc},${_w}\\)$`),qZ={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};mT(vw,nh,{copy(n){return Object.assign(new this.constructor,this,n)},displayable(){return this.rgb().displayable()},hex:GZ,formatHex:GZ,formatHex8:LIe,formatHsl:NIe,formatRgb:$Z,toString:$Z});function GZ(){return this.rgb().formatHex()}function LIe(){return this.rgb().formatHex8()}function NIe(){return JZ(this).formatHsl()}function $Z(){return this.rgb().formatRgb()}function nh(n){var t,e;return n=(n+"").trim().toLowerCase(),(t=MIe.exec(n))?(e=t[1].length,t=parseInt(t[1],16),e===6?KZ(t):e===3?new ms(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):e===8?pT(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):e===4?pT(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=kIe.exec(n))?new ms(t[1],t[2],t[3],1):(t=TIe.exec(n))?new ms(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=AIe.exec(n))?pT(t[1],t[2],t[3],t[4]):(t=RIe.exec(n))?pT(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=OIe.exec(n))?ZZ(t[1],t[2]/100,t[3]/100,1):(t=PIe.exec(n))?ZZ(t[1],t[2]/100,t[3]/100,t[4]):qZ.hasOwnProperty(n)?KZ(qZ[n]):n==="transparent"?new ms(NaN,NaN,NaN,0):null}function KZ(n){return new ms(n>>16&255,n>>8&255,n&255,1)}function pT(n,t,e,i){return i<=0&&(n=t=e=NaN),new ms(n,t,e,i)}function FIe(n){return n instanceof vw||(n=nh(n)),n?(n=n.rgb(),new ms(n.r,n.g,n.b,n.opacity)):new ms}function w_(n,t,e,i){return arguments.length===1?FIe(n):new ms(n,t,e,i??1)}function ms(n,t,e,i){this.r=+n,this.g=+t,this.b=+e,this.opacity=+i}mT(ms,w_,A3(vw,{brighter(n){return n=n==null?gT:Math.pow(gT,n),new ms(this.r*n,this.g*n,this.b*n,this.opacity)},darker(n){return n=n==null?gw:Math.pow(gw,n),new ms(this.r*n,this.g*n,this.b*n,this.opacity)},rgb(){return this},clamp(){return new ms(Jm(this.r),Jm(this.g),Jm(this.b),_T(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:YZ,formatHex:YZ,formatHex8:zIe,formatRgb:XZ,toString:XZ}));function YZ(){return`#${Qm(this.r)}${Qm(this.g)}${Qm(this.b)}`}function zIe(){return`#${Qm(this.r)}${Qm(this.g)}${Qm(this.b)}${Qm((isNaN(this.opacity)?1:this.opacity)*255)}`}function XZ(){let n=_T(this.opacity);return`${n===1?"rgb(":"rgba("}${Jm(this.r)}, ${Jm(this.g)}, ${Jm(this.b)}${n===1?")":`, ${n})`}`}function _T(n){return isNaN(n)?1:Math.max(0,Math.min(1,n))}function Jm(n){return Math.max(0,Math.min(255,Math.round(n)||0))}function Qm(n){return n=Jm(n),(n<16?"0":"")+n.toString(16)}function ZZ(n,t,e,i){return i<=0?n=t=e=NaN:e<=0||e>=1?n=t=NaN:t<=0&&(n=NaN),new ol(n,t,e,i)}function JZ(n){if(n instanceof ol)return new ol(n.h,n.s,n.l,n.opacity);if(n instanceof vw||(n=nh(n)),!n)return new ol;if(n instanceof ol)return n;n=n.rgb();var t=n.r/255,e=n.g/255,i=n.b/255,o=Math.min(t,e,i),r=Math.max(t,e,i),s=NaN,a=r-o,l=(r+o)/2;return a?(t===r?s=(e-i)/a+(e<i)*6:e===r?s=(i-t)/a+2:s=(t-e)/a+4,a/=l<.5?r+o:2-r-o,s*=60):a=l>0&&l<1?0:s,new ol(s,a,l,n.opacity)}function eQ(n,t,e,i){return arguments.length===1?JZ(n):new ol(n,t,e,i??1)}function ol(n,t,e,i){this.h=+n,this.s=+t,this.l=+e,this.opacity=+i}mT(ol,eQ,A3(vw,{brighter(n){return n=n==null?gT:Math.pow(gT,n),new ol(this.h,this.s,this.l*n,this.opacity)},darker(n){return n=n==null?gw:Math.pow(gw,n),new ol(this.h,this.s,this.l*n,this.opacity)},rgb(){var n=this.h%360+(this.h<0)*360,t=isNaN(n)||isNaN(this.s)?0:this.s,e=this.l,i=e+(e<.5?e:1-e)*t,o=2*e-i;return new ms(R3(n>=240?n-240:n+120,o,i),R3(n,o,i),R3(n<120?n+240:n-120,o,i),this.opacity)},clamp(){return new ol(QZ(this.h),fT(this.s),fT(this.l),_T(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let n=_T(this.opacity);return`${n===1?"hsl(":"hsla("}${QZ(this.h)}, ${fT(this.s)*100}%, ${fT(this.l)*100}%${n===1?")":`, ${n})`}`}}));function QZ(n){return n=(n||0)%360,n<0?n+360:n}function fT(n){return Math.max(0,Math.min(1,n||0))}function R3(n,t,e){return(n<60?t+(e-t)*n/60:n<180?e:n<240?t+(e-t)*(240-n)/60:t)*255}function O3(n,t,e,i,o){var r=n*n,s=r*n;return((1-3*n+3*r-s)*t+(4-6*r+3*s)*e+(1+3*n+3*r-3*s)*i+s*o)/6}function tQ(n){var t=n.length-1;return function(e){var i=e<=0?e=0:e>=1?(e=1,t-1):Math.floor(e*t),o=n[i],r=n[i+1],s=i>0?n[i-1]:2*o-r,a=i<t-1?n[i+2]:2*r-o;return O3((e-i/t)*t,s,o,r,a)}}function iQ(n){var t=n.length;return function(e){var i=Math.floor(((e%=1)<0?++e:e)*t),o=n[(i+t-1)%t],r=n[i%t],s=n[(i+1)%t],a=n[(i+2)%t];return O3((e-i/t)*t,o,r,s,a)}}var P3=n=>()=>n;function BIe(n,t){return function(e){return n+e*t}}function HIe(n,t,e){return n=Math.pow(n,e),t=Math.pow(t,e)-n,e=1/e,function(i){return Math.pow(n+i*t,e)}}function nQ(n){return(n=+n)==1?vT:function(t,e){return e-t?HIe(t,e,n):P3(isNaN(t)?e:t)}}function vT(n,t){var e=t-n;return e?BIe(n,e):P3(isNaN(n)?t:n)}var bT=function n(t){var e=nQ(t);function i(o,r){var s=e((o=w_(o)).r,(r=w_(r)).r),a=e(o.g,r.g),l=e(o.b,r.b),c=vT(o.opacity,r.opacity);return function(d){return o.r=s(d),o.g=a(d),o.b=l(d),o.opacity=c(d),o+""}}return i.gamma=n,i}(1);function oQ(n){return function(t){var e=t.length,i=new Array(e),o=new Array(e),r=new Array(e),s,a;for(s=0;s<e;++s)a=w_(t[s]),i[s]=a.r||0,o[s]=a.g||0,r[s]=a.b||0;return i=n(i),o=n(o),r=n(r),a.opacity=1,function(l){return a.r=i(l),a.g=o(l),a.b=r(l),a+""}}}var VIe=oQ(tQ),WIe=oQ(iQ);function pa(n,t){return n=+n,t=+t,function(e){return n*(1-e)+t*e}}var N3=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,L3=new RegExp(N3.source,"g");function jIe(n){return function(){return n}}function UIe(n){return function(t){return n(t)+""}}function F3(n,t){var e=N3.lastIndex=L3.lastIndex=0,i,o,r,s=-1,a=[],l=[];for(n=n+"",t=t+"";(i=N3.exec(n))&&(o=L3.exec(t));)(r=o.index)>e&&(r=t.slice(e,r),a[s]?a[s]+=r:a[++s]=r),(i=i[0])===(o=o[0])?a[s]?a[s]+=o:a[++s]=o:(a[++s]=null,l.push({i:s,x:pa(i,o)})),e=L3.lastIndex;return e<t.length&&(r=t.slice(e),a[s]?a[s]+=r:a[++s]=r),a.length<2?l[0]?UIe(l[0].x):jIe(t):(t=l.length,function(c){for(var d=0,u;d<t;++d)a[(u=l[d]).i]=u.x(c);return a.join("")})}var rQ=180/Math.PI,yT={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function z3(n,t,e,i,o,r){var s,a,l;return(s=Math.sqrt(n*n+t*t))&&(n/=s,t/=s),(l=n*e+t*i)&&(e-=n*l,i-=t*l),(a=Math.sqrt(e*e+i*i))&&(e/=a,i/=a,l/=a),n*i<t*e&&(n=-n,t=-t,l=-l,s=-s),{translateX:o,translateY:r,rotate:Math.atan2(t,n)*rQ,skewX:Math.atan(l)*rQ,scaleX:s,scaleY:a}}var wT;function sQ(n){let t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(n+"");return t.isIdentity?yT:z3(t.a,t.b,t.c,t.d,t.e,t.f)}function aQ(n){return n==null?yT:(wT||(wT=document.createElementNS("http://www.w3.org/2000/svg","g")),wT.setAttribute("transform",n),(n=wT.transform.baseVal.consolidate())?(n=n.matrix,z3(n.a,n.b,n.c,n.d,n.e,n.f)):yT)}function lQ(n,t,e,i){function o(c){return c.length?c.pop()+" ":""}function r(c,d,u,h,m,f){if(c!==u||d!==h){var p=m.push("translate(",null,t,null,e);f.push({i:p-4,x:pa(c,u)},{i:p-2,x:pa(d,h)})}else(u||h)&&m.push("translate("+u+t+h+e)}function s(c,d,u,h){c!==d?(c-d>180?d+=360:d-c>180&&(c+=360),h.push({i:u.push(o(u)+"rotate(",null,i)-2,x:pa(c,d)})):d&&u.push(o(u)+"rotate("+d+i)}function a(c,d,u,h){c!==d?h.push({i:u.push(o(u)+"skewX(",null,i)-2,x:pa(c,d)}):d&&u.push(o(u)+"skewX("+d+i)}function l(c,d,u,h,m,f){if(c!==u||d!==h){var p=m.push(o(m)+"scale(",null,",",null,")");f.push({i:p-4,x:pa(c,u)},{i:p-2,x:pa(d,h)})}else(u!==1||h!==1)&&m.push(o(m)+"scale("+u+","+h+")")}return function(c,d){var u=[],h=[];return c=n(c),d=n(d),r(c.translateX,c.translateY,d.translateX,d.translateY,u,h),s(c.rotate,d.rotate,u,h),a(c.skewX,d.skewX,u,h),l(c.scaleX,c.scaleY,d.scaleX,d.scaleY,u,h),c=d=null,function(m){for(var f=-1,p=h.length,g;++f<p;)u[(g=h[f]).i]=g.x(m);return u.join("")}}}var B3=lQ(sQ,"px, ","px)","deg)"),H3=lQ(aQ,", ",")",")");function qIe(n,t){var e,i;return function(){var o=ur(this,n),r=o.tween;if(r!==e){i=e=r;for(var s=0,a=i.length;s<a;++s)if(i[s].name===t){i=i.slice(),i.splice(s,1);break}}o.tween=i}}function GIe(n,t,e){var i,o;if(typeof e!="function")throw new Error;return function(){var r=ur(this,n),s=r.tween;if(s!==i){o=(i=s).slice();for(var a={name:t,value:e},l=0,c=o.length;l<c;++l)if(o[l].name===t){o[l]=a;break}l===c&&o.push(a)}r.tween=o}}function cQ(n,t){var e=this._id;if(n+="",arguments.length<2){for(var i=Vo(this.node(),e).tween,o=0,r=i.length,s;o<r;++o)if((s=i[o]).name===n)return s.value;return null}return this.each((t==null?qIe:GIe)(e,n,t))}function x_(n,t,e){var i=n._id;return n.each(function(){var o=ur(this,i);(o.value||(o.value={}))[t]=e.apply(this,arguments)}),function(o){return Vo(o,i).value[t]}}function xT(n,t){var e;return(typeof t=="number"?pa:t instanceof nh?bT:(e=nh(t))?(t=e,bT):F3)(n,t)}function $Ie(n){return function(){this.removeAttribute(n)}}function KIe(n){return function(){this.removeAttributeNS(n.space,n.local)}}function YIe(n,t,e){var i,o=e+"",r;return function(){var s=this.getAttribute(n);return s===o?null:s===i?r:r=t(i=s,e)}}function XIe(n,t,e){var i,o=e+"",r;return function(){var s=this.getAttributeNS(n.space,n.local);return s===o?null:s===i?r:r=t(i=s,e)}}function ZIe(n,t,e){var i,o,r;return function(){var s,a=e(this),l;return a==null?void this.removeAttribute(n):(s=this.getAttribute(n),l=a+"",s===l?null:s===i&&l===o?r:(o=l,r=t(i=s,a)))}}function QIe(n,t,e){var i,o,r;return function(){var s,a=e(this),l;return a==null?void this.removeAttributeNS(n.space,n.local):(s=this.getAttributeNS(n.space,n.local),l=a+"",s===l?null:s===i&&l===o?r:(o=l,r=t(i=s,a)))}}function dQ(n,t){var e=ud(n),i=e==="transform"?H3:xT;return this.attrTween(n,typeof t=="function"?(e.local?QIe:ZIe)(e,i,x_(this,"attr."+n,t)):t==null?(e.local?KIe:$Ie)(e):(e.local?XIe:YIe)(e,i,t))}function JIe(n,t){return function(e){this.setAttribute(n,t.call(this,e))}}function eEe(n,t){return function(e){this.setAttributeNS(n.space,n.local,t.call(this,e))}}function tEe(n,t){var e,i;function o(){var r=t.apply(this,arguments);return r!==i&&(e=(i=r)&&eEe(n,r)),e}return o._value=t,o}function iEe(n,t){var e,i;function o(){var r=t.apply(this,arguments);return r!==i&&(e=(i=r)&&JIe(n,r)),e}return o._value=t,o}function uQ(n,t){var e="attr."+n;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;var i=ud(n);return this.tween(e,(i.local?tEe:iEe)(i,t))}function nEe(n,t){return function(){fw(this,n).delay=+t.apply(this,arguments)}}function oEe(n,t){return t=+t,function(){fw(this,n).delay=t}}function hQ(n){var t=this._id;return arguments.length?this.each((typeof n=="function"?nEe:oEe)(t,n)):Vo(this.node(),t).delay}function rEe(n,t){return function(){ur(this,n).duration=+t.apply(this,arguments)}}function sEe(n,t){return t=+t,function(){ur(this,n).duration=t}}function mQ(n){var t=this._id;return arguments.length?this.each((typeof n=="function"?rEe:sEe)(t,n)):Vo(this.node(),t).duration}function aEe(n,t){if(typeof t!="function")throw new Error;return function(){ur(this,n).ease=t}}function pQ(n){var t=this._id;return arguments.length?this.each(aEe(t,n)):Vo(this.node(),t).ease}function lEe(n,t){return function(){var e=t.apply(this,arguments);if(typeof e!="function")throw new Error;ur(this,n).ease=e}}function fQ(n){if(typeof n!="function")throw new Error;return this.each(lEe(this._id,n))}function gQ(n){typeof n!="function"&&(n=sw(n));for(var t=this._groups,e=t.length,i=new Array(e),o=0;o<e;++o)for(var r=t[o],s=r.length,a=i[o]=[],l,c=0;c<s;++c)(l=r[c])&&n.call(l,l.__data__,c,r)&&a.push(l);return new jr(i,this._parents,this._name,this._id)}function _Q(n){if(n._id!==this._id)throw new Error;for(var t=this._groups,e=n._groups,i=t.length,o=e.length,r=Math.min(i,o),s=new Array(i),a=0;a<r;++a)for(var l=t[a],c=e[a],d=l.length,u=s[a]=new Array(d),h,m=0;m<d;++m)(h=l[m]||c[m])&&(u[m]=h);for(;a<i;++a)s[a]=t[a];return new jr(s,this._parents,this._name,this._id)}function cEe(n){return(n+"").trim().split(/^|\s+/).every(function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||t==="start"})}function dEe(n,t,e){var i,o,r=cEe(t)?fw:ur;return function(){var s=r(this,n),a=s.on;a!==i&&(o=(i=a).copy()).on(t,e),s.on=o}}function vQ(n,t){var e=this._id;return arguments.length<2?Vo(this.node(),e).on.on(n):this.each(dEe(e,n,t))}function uEe(n){return function(){var t=this.parentNode;for(var e in this.__transition)if(+e!==n)return;t&&t.removeChild(this)}}function bQ(){return this.on("end.remove",uEe(this._id))}function yQ(n){var t=this._name,e=this._id;typeof n!="function"&&(n=qm(n));for(var i=this._groups,o=i.length,r=new Array(o),s=0;s<o;++s)for(var a=i[s],l=a.length,c=r[s]=new Array(l),d,u,h=0;h<l;++h)(d=a[h])&&(u=n.call(d,d.__data__,h,a))&&("__data__"in d&&(u.__data__=d.__data__),c[h]=u,ih(c[h],t,e,h,c,Vo(d,e)));return new jr(r,this._parents,t,e)}function wQ(n){var t=this._name,e=this._id;typeof n!="function"&&(n=rw(n));for(var i=this._groups,o=i.length,r=[],s=[],a=0;a<o;++a)for(var l=i[a],c=l.length,d,u=0;u<c;++u)if(d=l[u]){for(var h=n.call(d,d.__data__,u,l),m,f=Vo(d,e),p=0,g=h.length;p<g;++p)(m=h[p])&&ih(m,t,e,p,h,f);r.push(h),s.push(d)}return new jr(r,s,t,e)}var hEe=hd.prototype.constructor;function xQ(){return new hEe(this._groups,this._parents)}function mEe(n,t){var e,i,o;return function(){var r=eh(this,n),s=(this.style.removeProperty(n),eh(this,n));return r===s?null:r===e&&s===i?o:o=t(e=r,i=s)}}function CQ(n){return function(){this.style.removeProperty(n)}}function pEe(n,t,e){var i,o=e+"",r;return function(){var s=eh(this,n);return s===o?null:s===i?r:r=t(i=s,e)}}function fEe(n,t,e){var i,o,r;return function(){var s=eh(this,n),a=e(this),l=a+"";return a==null&&(l=a=(this.style.removeProperty(n),eh(this,n))),s===l?null:s===i&&l===o?r:(o=l,r=t(i=s,a))}}function gEe(n,t){var e,i,o,r="style."+t,s="end."+r,a;return function(){var l=ur(this,n),c=l.on,d=l.value[r]==null?a||(a=CQ(t)):void 0;(c!==e||o!==d)&&(i=(e=c).copy()).on(s,o=d),l.on=i}}function SQ(n,t,e){var i=(n+="")=="transform"?B3:xT;return t==null?this.styleTween(n,mEe(n,i)).on("end.style."+n,CQ(n)):typeof t=="function"?this.styleTween(n,fEe(n,i,x_(this,"style."+n,t))).each(gEe(this._id,n)):this.styleTween(n,pEe(n,i,t),e).on("end.style."+n,null)}function _Ee(n,t,e){return function(i){this.style.setProperty(n,t.call(this,i),e)}}function vEe(n,t,e){var i,o;function r(){var s=t.apply(this,arguments);return s!==o&&(i=(o=s)&&_Ee(n,s,e)),i}return r._value=t,r}function DQ(n,t,e){var i="style."+(n+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(t==null)return this.tween(i,null);if(typeof t!="function")throw new Error;return this.tween(i,vEe(n,t,e??""))}function bEe(n){return function(){this.textContent=n}}function yEe(n){return function(){var t=n(this);this.textContent=t??""}}function IQ(n){return this.tween("text",typeof n=="function"?yEe(x_(this,"text",n)):bEe(n==null?"":n+""))}function wEe(n){return function(t){this.textContent=n.call(this,t)}}function xEe(n){var t,e;function i(){var o=n.apply(this,arguments);return o!==e&&(t=(e=o)&&wEe(o)),t}return i._value=n,i}function EQ(n){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(n==null)return this.tween(t,null);if(typeof n!="function")throw new Error;return this.tween(t,xEe(n))}function MQ(){for(var n=this._name,t=this._id,e=CT(),i=this._groups,o=i.length,r=0;r<o;++r)for(var s=i[r],a=s.length,l,c=0;c<a;++c)if(l=s[c]){var d=Vo(l,t);ih(l,n,e,c,s,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new jr(i,this._parents,n,e)}function kQ(){var n,t,e=this,i=e._id,o=e.size();return new Promise(function(r,s){var a={value:s},l={value:function(){--o===0&&r()}};e.each(function(){var c=ur(this,i),d=c.on;d!==n&&(t=(n=d).copy(),t._.cancel.push(a),t._.interrupt.push(a),t._.end.push(l)),c.on=t}),o===0&&r()})}var CEe=0;function jr(n,t,e,i){this._groups=n,this._parents=t,this._name=e,this._id=i}function TQ(n){return hd().transition(n)}function CT(){return++CEe}var md=hd.prototype;jr.prototype=TQ.prototype={constructor:jr,select:yQ,selectAll:wQ,selectChild:md.selectChild,selectChildren:md.selectChildren,filter:gQ,merge:_Q,selection:xQ,transition:MQ,call:md.call,nodes:md.nodes,node:md.node,size:md.size,empty:md.empty,each:md.each,on:vQ,attr:dQ,attrTween:uQ,style:SQ,styleTween:DQ,text:IQ,textTween:EQ,remove:bQ,tween:cQ,delay:hQ,duration:mQ,ease:pQ,easeVarying:fQ,end:kQ,[Symbol.iterator]:md[Symbol.iterator]};var SEe={time:null,delay:0,duration:250,ease:rT};function DEe(n,t){for(var e;!(e=n.__transition)||!(e=e[t]);)if(!(n=n.parentNode))throw new Error(`transition ${t} not found`);return e}function AQ(n){var t,e;n instanceof jr?(t=n._id,n=n._name):(t=CT(),(e=SEe).time=th(),n=n==null?null:n+"");for(var i=this._groups,o=i.length,r=0;r<o;++r)for(var s=i[r],a=s.length,l,c=0;c<a;++c)(l=s[c])&&ih(l,n,t,c,s,e||DEe(l,t));return new jr(i,this._parents,n,t)}hd.prototype.interrupt=UZ;hd.prototype.transition=AQ;function RQ(){return{a:1,c:0,e:0,b:0,d:1,f:0}}function bw(n){return typeof n>"u"}function pd(n,t=0){return{a:1,c:0,e:n,b:0,d:1,f:t}}function fd(...n){n=Array.isArray(n[0])?n[0]:n;let t=(e,i)=>({a:e.a*i.a+e.c*i.b,c:e.a*i.c+e.c*i.d,e:e.a*i.e+e.c*i.f+e.e,b:e.b*i.a+e.d*i.b,d:e.b*i.c+e.d*i.d,f:e.b*i.e+e.d*i.f+e.f});switch(n.length){case 0:throw new Error("no matrices provided");case 1:return n[0];case 2:return t(n[0],n[1]);default:{let[e,i,...o]=n,r=t(e,i);return fd(r,...o)}}}var{cos:jai,sin:Uai,PI:qai}=Math;function yw(n,t=void 0,e=void 0,i=void 0){bw(t)&&(t=n);let o={a:n,c:0,e:0,b:0,d:t,f:0};return bw(e)||bw(i)?o:fd([pd(e,i),o,pd(-e,-i)])}var{tan:Qai}=Math;function OQ(n){return IEe(n)}function IEe(n){return`matrix(${n.a},${n.b},${n.c},${n.d},${n.e},${n.f})`}function V3(n,t=1e10){return{a:Math.round(n.a*t)/t,b:Math.round(n.b*t)/t,c:Math.round(n.c*t)/t,d:Math.round(n.d*t)/t,e:Math.round(n.e*t)/t,f:Math.round(n.f*t)/t}}function EEe(n,t){function e(){this.constructor=n}e.prototype=t.prototype,n.prototype=new e}function ST(n,t,e,i){var o=Error.call(this,n);return Object.setPrototypeOf&&Object.setPrototypeOf(o,ST.prototype),o.expected=t,o.found=e,o.location=i,o.name="SyntaxError",o}EEe(ST,Error);function W3(n,t,e){return e=e||" ",n.length>t?n:(t-=n.length,e+=e.repeat(t),n+e.slice(0,t))}ST.prototype.format=function(n){var t="Error: "+this.message;if(this.location){var e=null,i;for(i=0;i<n.length;i++)if(n[i].source===this.location.source){e=n[i].text.split(/\r\n|\n|\r/g);break}var o=this.location.start,r=this.location.source&&typeof this.location.source.offset=="function"?this.location.source.offset(o):o,s=this.location.source+":"+r.line+":"+r.column;if(e){var a=this.location.end,l=W3("",r.line.toString().length," "),c=e[o.line-1],d=o.line===a.line?a.column:c.length+1,u=d-o.column||1;t+=`
 --> `+s+`
`+l+` |
`+r.line+" | "+c+`
`+l+" | "+W3("",o.column-1," ")+W3("",u,"^")}else t+=`
 at `+s}return t};ST.buildMessage=function(n,t){var e={literal:function(c){return'"'+o(c.text)+'"'},class:function(c){var d=c.parts.map(function(u){return Array.isArray(u)?r(u[0])+"-"+r(u[1]):r(u)});return"["+(c.inverted?"^":"")+d.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(c){return c.description}};function i(c){return c.charCodeAt(0).toString(16).toUpperCase()}function o(c){return c.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(d){return"\\x0"+i(d)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(d){return"\\x"+i(d)})}function r(c){return c.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(d){return"\\x0"+i(d)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(d){return"\\x"+i(d)})}function s(c){return e[c.type](c)}function a(c){var d=c.map(s),u,h;if(d.sort(),d.length>0){for(u=1,h=1;u<d.length;u++)d[u-1]!==d[u]&&(d[h]=d[u],h++);d.length=h}switch(d.length){case 1:return d[0];case 2:return d[0]+" or "+d[1];default:return d.slice(0,-1).join(", ")+", or "+d[d.length-1]}}function l(c){return c?'"'+o(c)+'"':"end of input"}return"Expected "+a(n)+" but "+l(t)+" found."};var C_=class extends Map{constructor(t,e=AEe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),t!=null)for(let[i,o]of t)this.set(i,o)}get(t){return super.get(PQ(this,t))}has(t){return super.has(PQ(this,t))}set(t,e){return super.set(kEe(this,t),e)}delete(t){return super.delete(TEe(this,t))}};function PQ({_intern:n,_key:t},e){let i=t(e);return n.has(i)?n.get(i):e}function kEe({_intern:n,_key:t},e){let i=t(e);return n.has(i)?n.get(i):(n.set(i,e),e)}function TEe({_intern:n,_key:t},e){let i=t(e);return n.has(i)&&(e=n.get(i),n.delete(i)),e}function AEe(n){return n!==null&&typeof n=="object"?n.valueOf():n}function LQ(n,t){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(t).domain(n);break}return this}var j3=Symbol("implicit");function ww(){var n=new C_,t=[],e=[],i=j3;function o(r){let s=n.get(r);if(s===void 0){if(i!==j3)return i;n.set(r,s=t.push(r)-1)}return e[s%e.length]}return o.domain=function(r){if(!arguments.length)return t.slice();t=[],n=new C_;for(let s of r)n.has(s)||n.set(s,t.push(s)-1);return o},o.range=function(r){return arguments.length?(e=Array.from(r),o):e.slice()},o.unknown=function(r){return arguments.length?(i=r,o):i},o.copy=function(){return ww(t,e).unknown(i)},LQ.apply(o,arguments),o}var ph=up(Rce(),1);var vW={};BA(vW,{forceCenter:()=>Oce,forceCollide:()=>F_,forceLink:()=>z_,forceManyBody:()=>H_,forceRadial:()=>ide,forceSimulation:()=>B_,forceX:()=>nde,forceY:()=>ode});function Oce(n,t){var e,i=1;n==null&&(n=0),t==null&&(t=0);function o(){var r,s=e.length,a,l=0,c=0;for(r=0;r<s;++r)a=e[r],l+=a.x,c+=a.y;for(l=(l/s-n)*i,c=(c/s-t)*i,r=0;r<s;++r)a=e[r],a.x-=l,a.y-=c}return o.initialize=function(r){e=r},o.x=function(r){return arguments.length?(n=+r,o):n},o.y=function(r){return arguments.length?(t=+r,o):t},o.strength=function(r){return arguments.length?(i=+r,o):i},o}function Pce(n){let t=+this._x.call(null,n),e=+this._y.call(null,n);return Lce(this.cover(t,e),t,e,n)}function Lce(n,t,e,i){if(isNaN(t)||isNaN(e))return n;var o,r=n._root,s={data:i},a=n._x0,l=n._y0,c=n._x1,d=n._y1,u,h,m,f,p,g,v,b;if(!r)return n._root=s,n;for(;r.length;)if((p=t>=(u=(a+c)/2))?a=u:c=u,(g=e>=(h=(l+d)/2))?l=h:d=h,o=r,!(r=r[v=g<<1|p]))return o[v]=s,n;if(m=+n._x.call(null,r.data),f=+n._y.call(null,r.data),t===m&&e===f)return s.next=r,o?o[v]=s:n._root=s,n;do o=o?o[v]=new Array(4):n._root=new Array(4),(p=t>=(u=(a+c)/2))?a=u:c=u,(g=e>=(h=(l+d)/2))?l=h:d=h;while((v=g<<1|p)===(b=(f>=h)<<1|m>=u));return o[b]=r,o[v]=s,n}function Nce(n){var t,e,i=n.length,o,r,s=new Array(i),a=new Array(i),l=1/0,c=1/0,d=-1/0,u=-1/0;for(e=0;e<i;++e)isNaN(o=+this._x.call(null,t=n[e]))||isNaN(r=+this._y.call(null,t))||(s[e]=o,a[e]=r,o<l&&(l=o),o>d&&(d=o),r<c&&(c=r),r>u&&(u=r));if(l>d||c>u)return this;for(this.cover(l,c).cover(d,u),e=0;e<i;++e)Lce(this,s[e],a[e],n[e]);return this}function Fce(n,t){if(isNaN(n=+n)||isNaN(t=+t))return this;var e=this._x0,i=this._y0,o=this._x1,r=this._y1;if(isNaN(e))o=(e=Math.floor(n))+1,r=(i=Math.floor(t))+1;else{for(var s=o-e||1,a=this._root,l,c;e>n||n>=o||i>t||t>=r;)switch(c=(t<i)<<1|n<e,l=new Array(4),l[c]=a,a=l,s*=2,c){case 0:o=e+s,r=i+s;break;case 1:e=o-s,r=i+s;break;case 2:o=e+s,i=r-s;break;case 3:e=o-s,i=r-s;break}this._root&&this._root.length&&(this._root=a)}return this._x0=e,this._y0=i,this._x1=o,this._y1=r,this}function zce(){var n=[];return this.visit(function(t){if(!t.length)do n.push(t.data);while(t=t.next)}),n}function Bce(n){return arguments.length?this.cover(+n[0][0],+n[0][1]).cover(+n[1][0],+n[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function Xo(n,t,e,i,o){this.node=n,this.x0=t,this.y0=e,this.x1=i,this.y1=o}function Hce(n,t,e){var i,o=this._x0,r=this._y0,s,a,l,c,d=this._x1,u=this._y1,h=[],m=this._root,f,p;for(m&&h.push(new Xo(m,o,r,d,u)),e==null?e=1/0:(o=n-e,r=t-e,d=n+e,u=t+e,e*=e);f=h.pop();)if(!(!(m=f.node)||(s=f.x0)>d||(a=f.y0)>u||(l=f.x1)<o||(c=f.y1)<r))if(m.length){var g=(s+l)/2,v=(a+c)/2;h.push(new Xo(m[3],g,v,l,c),new Xo(m[2],s,v,g,c),new Xo(m[1],g,a,l,v),new Xo(m[0],s,a,g,v)),(p=(t>=v)<<1|n>=g)&&(f=h[h.length-1],h[h.length-1]=h[h.length-1-p],h[h.length-1-p]=f)}else{var b=n-+this._x.call(null,m.data),C=t-+this._y.call(null,m.data),k=b*b+C*C;if(k<e){var E=Math.sqrt(e=k);o=n-E,r=t-E,d=n+E,u=t+E,i=m.data}}return i}function Vce(n){if(isNaN(d=+this._x.call(null,n))||isNaN(u=+this._y.call(null,n)))return this;var t,e=this._root,i,o,r,s=this._x0,a=this._y0,l=this._x1,c=this._y1,d,u,h,m,f,p,g,v;if(!e)return this;if(e.length)for(;;){if((f=d>=(h=(s+l)/2))?s=h:l=h,(p=u>=(m=(a+c)/2))?a=m:c=m,t=e,!(e=e[g=p<<1|f]))return this;if(!e.length)break;(t[g+1&3]||t[g+2&3]||t[g+3&3])&&(i=t,v=g)}for(;e.data!==n;)if(o=e,!(e=e.next))return this;return(r=e.next)&&delete e.next,o?(r?o.next=r:delete o.next,this):t?(r?t[g]=r:delete t[g],(e=t[0]||t[1]||t[2]||t[3])&&e===(t[3]||t[2]||t[1]||t[0])&&!e.length&&(i?i[v]=e:this._root=e),this):(this._root=r,this)}function Wce(n){for(var t=0,e=n.length;t<e;++t)this.remove(n[t]);return this}function jce(){return this._root}function Uce(){var n=0;return this.visit(function(t){if(!t.length)do++n;while(t=t.next)}),n}function qce(n){var t=[],e,i=this._root,o,r,s,a,l;for(i&&t.push(new Xo(i,this._x0,this._y0,this._x1,this._y1));e=t.pop();)if(!n(i=e.node,r=e.x0,s=e.y0,a=e.x1,l=e.y1)&&i.length){var c=(r+a)/2,d=(s+l)/2;(o=i[3])&&t.push(new Xo(o,c,d,a,l)),(o=i[2])&&t.push(new Xo(o,r,d,c,l)),(o=i[1])&&t.push(new Xo(o,c,s,a,d)),(o=i[0])&&t.push(new Xo(o,r,s,c,d))}return this}function Gce(n){var t=[],e=[],i;for(this._root&&t.push(new Xo(this._root,this._x0,this._y0,this._x1,this._y1));i=t.pop();){var o=i.node;if(o.length){var r,s=i.x0,a=i.y0,l=i.x1,c=i.y1,d=(s+l)/2,u=(a+c)/2;(r=o[0])&&t.push(new Xo(r,s,a,d,u)),(r=o[1])&&t.push(new Xo(r,d,a,l,u)),(r=o[2])&&t.push(new Xo(r,s,u,d,c)),(r=o[3])&&t.push(new Xo(r,d,u,l,c))}e.push(i)}for(;i=e.pop();)n(i.node,i.x0,i.y0,i.x1,i.y1);return this}function $ce(n){return n[0]}function Kce(n){return arguments.length?(this._x=n,this):this._x}function Yce(n){return n[1]}function Xce(n){return arguments.length?(this._y=n,this):this._y}function cp(n,t,e){var i=new _W(t??$ce,e??Yce,NaN,NaN,NaN,NaN);return n==null?i:i.addAll(n)}function _W(n,t,e,i,o,r){this._x=n,this._y=t,this._x0=e,this._y0=i,this._x1=o,this._y1=r,this._root=void 0}function Zce(n){for(var t={data:n.data},e=t;n=n.next;)e=e.next={data:n.data};return t}var qr=cp.prototype=_W.prototype;qr.copy=function(){var n=new _W(this._x,this._y,this._x0,this._y0,this._x1,this._y1),t=this._root,e,i;if(!t)return n;if(!t.length)return n._root=Zce(t),n;for(e=[{source:t,target:n._root=new Array(4)}];t=e.pop();)for(var o=0;o<4;++o)(i=t.source[o])&&(i.length?e.push({source:i,target:t.target[o]=new Array(4)}):t.target[o]=Zce(i));return n};qr.add=Pce;qr.addAll=Nce;qr.cover=Fce;qr.data=zce;qr.extent=Bce;qr.find=Hce;qr.remove=Vce;qr.removeAll=Wce;qr.root=jce;qr.size=Uce;qr.visit=qce;qr.visitAfter=Gce;qr.x=Kce;qr.y=Xce;function In(n){return function(){return n}}function sl(n){return(n()-.5)*1e-6}function qje(n){return n.x+n.vx}function Gje(n){return n.y+n.vy}function F_(n){var t,e,i,o=1,r=1;typeof n!="function"&&(n=In(n==null?1:+n));function s(){for(var c,d=t.length,u,h,m,f,p,g,v=0;v<r;++v)for(u=cp(t,qje,Gje).visitAfter(a),c=0;c<d;++c)h=t[c],p=e[h.index],g=p*p,m=h.x+h.vx,f=h.y+h.vy,u.visit(b);function b(C,k,E,F,L){var H=C.data,re=C.r,R=p+re;if(H){if(H.index>h.index){var W=m-H.x-H.vx,I=f-H.y-H.vy,ne=W*W+I*I;ne<R*R&&(W===0&&(W=sl(i),ne+=W*W),I===0&&(I=sl(i),ne+=I*I),ne=(R-(ne=Math.sqrt(ne)))/ne*o,h.vx+=(W*=ne)*(R=(re*=re)/(g+re)),h.vy+=(I*=ne)*R,H.vx-=W*(R=1-R),H.vy-=I*R)}return}return k>m+R||F<m-R||E>f+R||L<f-R}}function a(c){if(c.data)return c.r=e[c.data.index];for(var d=c.r=0;d<4;++d)c[d]&&c[d].r>c.r&&(c.r=c[d].r)}function l(){if(t){var c,d=t.length,u;for(e=new Array(d),c=0;c<d;++c)u=t[c],e[u.index]=+n(u,c,t)}}return s.initialize=function(c,d){t=c,i=d,l()},s.iterations=function(c){return arguments.length?(r=+c,s):r},s.strength=function(c){return arguments.length?(o=+c,s):o},s.radius=function(c){return arguments.length?(n=typeof c=="function"?c:In(+c),l(),s):n},s}function $je(n){return n.index}function Qce(n,t){var e=n.get(t);if(!e)throw new Error("node not found: "+t);return e}function z_(n){var t=$je,e=u,i,o=In(30),r,s,a,l,c,d=1;n==null&&(n=[]);function u(g){return 1/Math.min(a[g.source.index],a[g.target.index])}function h(g){for(var v=0,b=n.length;v<d;++v)for(var C=0,k,E,F,L,H,re,R;C<b;++C)k=n[C],E=k.source,F=k.target,L=F.x+F.vx-E.x-E.vx||sl(c),H=F.y+F.vy-E.y-E.vy||sl(c),re=Math.sqrt(L*L+H*H),re=(re-r[C])/re*g*i[C],L*=re,H*=re,F.vx-=L*(R=l[C]),F.vy-=H*R,E.vx+=L*(R=1-R),E.vy+=H*R}function m(){if(s){var g,v=s.length,b=n.length,C=new Map(s.map((E,F)=>[t(E,F,s),E])),k;for(g=0,a=new Array(v);g<b;++g)k=n[g],k.index=g,typeof k.source!="object"&&(k.source=Qce(C,k.source)),typeof k.target!="object"&&(k.target=Qce(C,k.target)),a[k.source.index]=(a[k.source.index]||0)+1,a[k.target.index]=(a[k.target.index]||0)+1;for(g=0,l=new Array(b);g<b;++g)k=n[g],l[g]=a[k.source.index]/(a[k.source.index]+a[k.target.index]);i=new Array(b),f(),r=new Array(b),p()}}function f(){if(s)for(var g=0,v=n.length;g<v;++g)i[g]=+e(n[g],g,n)}function p(){if(s)for(var g=0,v=n.length;g<v;++g)r[g]=+o(n[g],g,n)}return h.initialize=function(g,v){s=g,c=v,m()},h.links=function(g){return arguments.length?(n=g,m(),h):n},h.id=function(g){return arguments.length?(t=g,h):t},h.iterations=function(g){return arguments.length?(d=+g,h):d},h.strength=function(g){return arguments.length?(e=typeof g=="function"?g:In(+g),f(),h):e},h.distance=function(g){return arguments.length?(o=typeof g=="function"?g:In(+g),p(),h):o},h}function Jce(){let n=1;return()=>(n=(1664525*n+1013904223)%4294967296)/4294967296}function ede(n){return n.x}function tde(n){return n.y}var Kje=10,Yje=Math.PI*(3-Math.sqrt(5));function B_(n){var t,e=1,i=.001,o=1-Math.pow(i,1/300),r=0,s=.6,a=new Map,l=Zm(u),c=v_("tick","end"),d=Jce();n==null&&(n=[]);function u(){h(),c.call("tick",t),e<i&&(l.stop(),c.call("end",t))}function h(p){var g,v=n.length,b;p===void 0&&(p=1);for(var C=0;C<p;++C)for(e+=(r-e)*o,a.forEach(function(k){k(e)}),g=0;g<v;++g)b=n[g],b.fx==null?b.x+=b.vx*=s:(b.x=b.fx,b.vx=0),b.fy==null?b.y+=b.vy*=s:(b.y=b.fy,b.vy=0);return t}function m(){for(var p=0,g=n.length,v;p<g;++p){if(v=n[p],v.index=p,v.fx!=null&&(v.x=v.fx),v.fy!=null&&(v.y=v.fy),isNaN(v.x)||isNaN(v.y)){var b=Kje*Math.sqrt(.5+p),C=p*Yje;v.x=b*Math.cos(C),v.y=b*Math.sin(C)}(isNaN(v.vx)||isNaN(v.vy))&&(v.vx=v.vy=0)}}function f(p){return p.initialize&&p.initialize(n,d),p}return m(),t={tick:h,restart:function(){return l.restart(u),t},stop:function(){return l.stop(),t},nodes:function(p){return arguments.length?(n=p,m(),a.forEach(f),t):n},alpha:function(p){return arguments.length?(e=+p,t):e},alphaMin:function(p){return arguments.length?(i=+p,t):i},alphaDecay:function(p){return arguments.length?(o=+p,t):+o},alphaTarget:function(p){return arguments.length?(r=+p,t):r},velocityDecay:function(p){return arguments.length?(s=1-p,t):1-s},randomSource:function(p){return arguments.length?(d=p,a.forEach(f),t):d},force:function(p,g){return arguments.length>1?(g==null?a.delete(p):a.set(p,f(g)),t):a.get(p)},find:function(p,g,v){var b=0,C=n.length,k,E,F,L,H;for(v==null?v=1/0:v*=v,b=0;b<C;++b)L=n[b],k=p-L.x,E=g-L.y,F=k*k+E*E,F<v&&(H=L,v=F);return H},on:function(p,g){return arguments.length>1?(c.on(p,g),t):c.on(p)}}}function H_(){var n,t,e,i,o=In(-30),r,s=1,a=1/0,l=.81;function c(m){var f,p=n.length,g=cp(n,ede,tde).visitAfter(u);for(i=m,f=0;f<p;++f)t=n[f],g.visit(h)}function d(){if(n){var m,f=n.length,p;for(r=new Array(f),m=0;m<f;++m)p=n[m],r[p.index]=+o(p,m,n)}}function u(m){var f=0,p,g,v=0,b,C,k;if(m.length){for(b=C=k=0;k<4;++k)(p=m[k])&&(g=Math.abs(p.value))&&(f+=p.value,v+=g,b+=g*p.x,C+=g*p.y);m.x=b/v,m.y=C/v}else{p=m,p.x=p.data.x,p.y=p.data.y;do f+=r[p.data.index];while(p=p.next)}m.value=f}function h(m,f,p,g){if(!m.value)return!0;var v=m.x-t.x,b=m.y-t.y,C=g-f,k=v*v+b*b;if(C*C/l<k)return k<a&&(v===0&&(v=sl(e),k+=v*v),b===0&&(b=sl(e),k+=b*b),k<s&&(k=Math.sqrt(s*k)),t.vx+=v*m.value*i/k,t.vy+=b*m.value*i/k),!0;if(m.length||k>=a)return;(m.data!==t||m.next)&&(v===0&&(v=sl(e),k+=v*v),b===0&&(b=sl(e),k+=b*b),k<s&&(k=Math.sqrt(s*k)));do m.data!==t&&(C=r[m.data.index]*i/k,t.vx+=v*C,t.vy+=b*C);while(m=m.next)}return c.initialize=function(m,f){n=m,e=f,d()},c.strength=function(m){return arguments.length?(o=typeof m=="function"?m:In(+m),d(),c):o},c.distanceMin=function(m){return arguments.length?(s=m*m,c):Math.sqrt(s)},c.distanceMax=function(m){return arguments.length?(a=m*m,c):Math.sqrt(a)},c.theta=function(m){return arguments.length?(l=m*m,c):Math.sqrt(l)},c}function ide(n,t,e){var i,o=In(.1),r,s;typeof n!="function"&&(n=In(+n)),t==null&&(t=0),e==null&&(e=0);function a(c){for(var d=0,u=i.length;d<u;++d){var h=i[d],m=h.x-t||1e-6,f=h.y-e||1e-6,p=Math.sqrt(m*m+f*f),g=(s[d]-p)*r[d]*c/p;h.vx+=m*g,h.vy+=f*g}}function l(){if(i){var c,d=i.length;for(r=new Array(d),s=new Array(d),c=0;c<d;++c)s[c]=+n(i[c],c,i),r[c]=isNaN(s[c])?0:+o(i[c],c,i)}}return a.initialize=function(c){i=c,l()},a.strength=function(c){return arguments.length?(o=typeof c=="function"?c:In(+c),l(),a):o},a.radius=function(c){return arguments.length?(n=typeof c=="function"?c:In(+c),l(),a):n},a.x=function(c){return arguments.length?(t=+c,a):t},a.y=function(c){return arguments.length?(e=+c,a):e},a}function nde(n){var t=In(.1),e,i,o;typeof n!="function"&&(n=In(n==null?0:+n));function r(a){for(var l=0,c=e.length,d;l<c;++l)d=e[l],d.vx+=(o[l]-d.x)*i[l]*a}function s(){if(e){var a,l=e.length;for(i=new Array(l),o=new Array(l),a=0;a<l;++a)i[a]=isNaN(o[a]=+n(e[a],a,e))?0:+t(e[a],a,e)}}return r.initialize=function(a){e=a,s()},r.strength=function(a){return arguments.length?(t=typeof a=="function"?a:In(+a),s(),r):t},r.x=function(a){return arguments.length?(n=typeof a=="function"?a:In(+a),s(),r):n},r}function ode(n){var t=In(.1),e,i,o;typeof n!="function"&&(n=In(n==null?0:+n));function r(a){for(var l=0,c=e.length,d;l<c;++l)d=e[l],d.vy+=(o[l]-d.y)*i[l]*a}function s(){if(e){var a,l=e.length;for(i=new Array(l),o=new Array(l),a=0;a<l;++a)i[a]=isNaN(o[a]=+n(e[a],a,e))?0:+t(e[a],a,e)}}return r.initialize=function(a){e=a,s()},r.strength=function(a){return arguments.length?(t=typeof a=="function"?a:In(+a),s(),r):t},r.y=function(a){return arguments.length?(n=typeof a=="function"?a:In(+a),s(),r):n},r}var Qde=up(qde(),1);var r5e=["linkTemplate"],s5e=["nodeTemplate"],a5e=["clusterTemplate"],l5e=["defsTemplate"],c5e=["miniMapNodeTemplate"],d5e=["nodeElement"],u5e=["linkElement"],h5e=["*"],Y_=n=>({$implicit:n});function m5e(n,t){if(n&1&&(gi(),ln(0,19)),n&2){let e=X(2);z("ngTemplateOutlet",e.defsTemplate)}}function p5e(n,t){if(n&1&&(gi(),Y(0,"path",20)),n&2){let e=t.$implicit;ke("d",e.textPath)("id",e.id)}}function f5e(n,t){if(n&1&&(gi(),ln(0,24)),n&2){let e=X().$implicit,i=X(2);z("ngTemplateOutlet",i.clusterTemplate)("ngTemplateOutletContext",yh(2,Y_,e))}}function g5e(n,t){if(n&1&&(gi(),w(0,"g",25),Y(1,"rect"),w(2,"text",26),P(3),x()()),n&2){let e=X().$implicit;D(),ke("width",e.dimension.width)("height",e.dimension.height)("fill",e.data==null?null:e.data.color),D(),ke("x",10)("y",e.dimension.height/2),D(),ni(" ",e.label," ")}}function _5e(n,t){if(n&1){let e=Ft();gi(),w(0,"g",21,1),de("click",function(){let o=et(e).$implicit,r=X(2);return tt(r.onClick(o))}),ee(2,f5e,1,4,"ng-container",22)(3,g5e,4,6,"g",23),x()}if(n&2){let e=t.$implicit,i=X(2);Se("old-node",i.animate&&i.oldClusters.has(e.id)),z("id",e.id),ke("transform",e.transform),D(2),z("ngIf",i.clusterTemplate&&!e.hidden),D(),z("ngIf",!i.clusterTemplate)}}function v5e(n,t){if(n&1&&(gi(),ln(0,24)),n&2){let e=X().$implicit,i=X(2);z("ngTemplateOutlet",i.nodeTemplate)("ngTemplateOutletContext",yh(2,Y_,e))}}function b5e(n,t){if(n&1&&(gi(),w(0,"g",29),Y(1,"rect"),w(2,"text",26),P(3),x()()),n&2){let e=X().$implicit;D(),ke("width",e.dimension.width)("height",e.dimension.height)("fill",e.data==null?null:e.data.color),D(),ke("x",10)("y",e.dimension.height/2),D(),ni(" ",e.label," ")}}function y5e(n,t){if(n&1){let e=Ft();gi(),w(0,"g",27,2),de("click",function(){let o=et(e).$implicit,r=X(2);return tt(r.onClick(o))})("mousedown",function(o){let r=et(e).$implicit,s=X(2);return tt(s.onNodeMouseDown(o,r))}),ee(2,v5e,1,4,"ng-container",22)(3,b5e,4,6,"g",28),x()}if(n&2){let e=t.$implicit,i=X(2);Se("old-node",i.animate&&i.oldCompoundNodes.has(e.id)),z("id",e.id),ke("transform",e.transform),D(2),z("ngIf",i.nodeTemplate&&!e.hidden),D(),z("ngIf",!i.nodeTemplate)}}function w5e(n,t){if(n&1&&(gi(),ln(0,24)),n&2){let e=X().$implicit,i=X(2);z("ngTemplateOutlet",i.linkTemplate)("ngTemplateOutletContext",yh(2,Y_,e))}}function x5e(n,t){if(n&1&&(gi(),Y(0,"path",32)),n&2){let e=X().$implicit;ke("d",e.line)}}function C5e(n,t){if(n&1&&(gi(),w(0,"g",30,3),ee(2,w5e,1,4,"ng-container",22)(3,x5e,1,1,"path",31),x()),n&2){let e=t.$implicit,i=X(2);z("id",e.id),D(2),z("ngIf",i.linkTemplate),D(),z("ngIf",!i.linkTemplate)}}function S5e(n,t){if(n&1&&(gi(),ln(0,24)),n&2){let e=X().$implicit,i=X(2);z("ngTemplateOutlet",i.nodeTemplate)("ngTemplateOutletContext",yh(2,Y_,e))}}function D5e(n,t){if(n&1&&(gi(),Y(0,"circle",34)),n&2){let e=X().$implicit;ke("cx",e.dimension.width/2)("cy",e.dimension.height/2)("fill",e.data==null?null:e.data.color)}}function I5e(n,t){if(n&1){let e=Ft();gi(),w(0,"g",27,2),de("click",function(){let o=et(e).$implicit,r=X(2);return tt(r.onClick(o))})("mousedown",function(o){let r=et(e).$implicit,s=X(2);return tt(s.onNodeMouseDown(o,r))}),ee(2,S5e,1,4,"ng-container",22)(3,D5e,1,3,"circle",33),x()}if(n&2){let e=t.$implicit,i=X(2);Se("old-node",i.animate&&i.oldNodes.has(e.id)),z("id",e.id),ke("transform",e.transform),D(2),z("ngIf",i.nodeTemplate&&!e.hidden),D(),z("ngIf",!i.nodeTemplate)}}function E5e(n,t){if(n&1){let e=Ft();gi(),w(0,"g",8),de("touchstart",function(o){et(e);let r=X();return tt(r.onTouchStart(o))})("touchend",function(){et(e);let o=X();return tt(o.onTouchEnd())}),w(1,"defs"),ee(2,m5e,1,1,"ng-container",9)(3,p5e,1,2,"path",10),x(),w(4,"rect",11),de("mousedown",function(){et(e);let o=X();return tt(o.isPanning=!0)}),x(),Fe(5),w(6,"g",12),ee(7,_5e,4,6,"g",13),x(),w(8,"g",14),ee(9,y5e,4,6,"g",15),x(),w(10,"g",16),ee(11,C5e,4,3,"g",17),x(),w(12,"g",18,0),ee(14,I5e,4,6,"g",15),x()()}if(n&2){let e=X();ke("transform",e.transform),D(2),z("ngIf",e.defsTemplate),D(),z("ngForOf",e.graph.edges),D(),ke("width",e.dims.width*100)("height",e.dims.height*100)("transform","translate("+(-e.dims.width||0)*50+","+(-e.dims.height||0)*50+")"),D(3),z("ngForOf",e.graph.clusters)("ngForTrackBy",e.trackNodeBy),D(2),z("ngForOf",e.graph.compoundNodes)("ngForTrackBy",e.trackNodeBy),D(2),z("ngForOf",e.graph.edges)("ngForTrackBy",e.trackLinkBy),D(3),z("ngForOf",e.graph.nodes)("ngForTrackBy",e.trackNodeBy)}}function M5e(n,t){if(n&1&&(gi(),ln(0,24)),n&2){let e=X().$implicit,i=X(2);z("ngTemplateOutlet",i.miniMapNodeTemplate)("ngTemplateOutletContext",yh(2,Y_,e))}}function k5e(n,t){if(n&1&&(gi(),ln(0,24)),n&2){let e=X().$implicit,i=X(2);z("ngTemplateOutlet",i.nodeTemplate)("ngTemplateOutletContext",yh(2,Y_,e))}}function T5e(n,t){if(n&1&&(gi(),Y(0,"circle",34)),n&2){let e=X().$implicit,i=X(2);ke("cx",e.dimension.width/2/i.minimapScaleCoefficient)("cy",e.dimension.height/2/i.minimapScaleCoefficient)("fill",e.data==null?null:e.data.color)}}function A5e(n,t){if(n&1&&(gi(),w(0,"g",40,2),ee(2,M5e,1,4,"ng-container",22)(3,k5e,1,4,"ng-container",22)(4,T5e,1,3,"circle",33),x()),n&2){let e=t.$implicit,i=X(2);Se("old-node",i.animate&&i.oldNodes.has(e.id)),z("id",e.id),ke("transform",e.transform),D(2),z("ngIf",i.miniMapNodeTemplate),D(),z("ngIf",!i.miniMapNodeTemplate&&i.nodeTemplate),D(),z("ngIf",!i.nodeTemplate&&!i.miniMapNodeTemplate)}}function R5e(n,t){if(n&1){let e=Ft();gi(),w(0,"g",35)(1,"rect",36),de("mousedown",function(o){et(e);let r=X();return tt(r.onMinimapPanTo(o))}),x(),w(2,"g")(3,"g",37),ee(4,A5e,5,7,"g",38),x(),w(5,"rect",39),de("mousedown",function(){et(e);let o=X();return tt(o.onMinimapDragMouseDown())}),x()()()}if(n&2){let e=X();ke("transform",e.minimapTransform)("clip-path","url(#"+e.minimapClipPathId+")"),D(),ke("width",e.graphDims.width/e.minimapScaleCoefficient)("height",e.graphDims.height/e.minimapScaleCoefficient),D(),bo("transform","translate("+-e.minimapOffsetX/e.minimapScaleCoefficient+"px,"+-e.minimapOffsetY/e.minimapScaleCoefficient+"px)"),D(),bo("transform","scale("+1/e.minimapScaleCoefficient+")"),D(),z("ngForOf",e.graph.nodes)("ngForTrackBy",e.trackNodeBy),D(),Se("panning",e.isMinimapPanning),ke("transform","translate("+e.panOffsetX/e.zoomLevel/-e.minimapScaleCoefficient+","+e.panOffsetY/e.zoomLevel/-e.minimapScaleCoefficient+")")("width",e.width/e.minimapScaleCoefficient/e.zoomLevel)("height",e.height/e.minimapScaleCoefficient/e.zoomLevel)}}var Gde={};function Cd(){let n=("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4);return n=`a${n}`,Gde[n]?Cd():(Gde[n]=!0,n)}var yA=function(n){return n.Both="both",n.Horizontal="horizontal",n.Vertical="vertical",n}(yA||{}),wA=function(n){return n.UpperLeft="UpperLeft",n.UpperRight="UpperRight",n}(wA||{});function O5e(n,t,e,i){i=i||{};let o,r,s=null,a=0;function l(){a=i.leading===!1?0:+new Date,s=null,r=t.apply(n,o)}return function(...c){let d=+new Date;!a&&i.leading===!1&&(a=d);let u=e-(d-a);return o=c,u<=0?(clearTimeout(s),s=null,a=d,r=t.apply(n,o)):!s&&i.trailing!==!1&&(s=setTimeout(l,u)),r}}function P5e(n,t){return function(i,o,r){return{configurable:!0,enumerable:r.enumerable,get:function(){return Object.defineProperty(this,o,{configurable:!0,enumerable:r.enumerable,value:O5e(this,r.value,n,t)}),this[o]}}}}var $de=[{name:"vivid",selectable:!0,group:"Ordinal",domain:["#647c8a","#3f51b5","#2196f3","#00b862","#afdf0a","#a7b61a","#f3e562","#ff9800","#ff5722","#ff4514"]},{name:"natural",selectable:!0,group:"Ordinal",domain:["#bf9d76","#e99450","#d89f59","#f2dfa7","#a5d7c6","#7794b1","#afafaf","#707160","#ba9383","#d9d5c3"]},{name:"cool",selectable:!0,group:"Ordinal",domain:["#a8385d","#7aa3e5","#a27ea8","#aae3f5","#adcded","#a95963","#8796c0","#7ed3ed","#50abcc","#ad6886"]},{name:"fire",selectable:!0,group:"Ordinal",domain:["#ff3d00","#bf360c","#ff8f00","#ff6f00","#ff5722","#e65100","#ffca28","#ffab00"]},{name:"solar",selectable:!0,group:"Continuous",domain:["#fff8e1","#ffecb3","#ffe082","#ffd54f","#ffca28","#ffc107","#ffb300","#ffa000","#ff8f00","#ff6f00"]},{name:"air",selectable:!0,group:"Continuous",domain:["#e1f5fe","#b3e5fc","#81d4fa","#4fc3f7","#29b6f6","#03a9f4","#039be5","#0288d1","#0277bd","#01579b"]},{name:"aqua",selectable:!0,group:"Continuous",domain:["#e0f7fa","#b2ebf2","#80deea","#4dd0e1","#26c6da","#00bcd4","#00acc1","#0097a7","#00838f","#006064"]},{name:"flame",selectable:!1,group:"Ordinal",domain:["#A10A28","#D3342D","#EF6D49","#FAAD67","#FDDE90","#DBED91","#A9D770","#6CBA67","#2C9653","#146738"]},{name:"ocean",selectable:!1,group:"Ordinal",domain:["#1D68FB","#33C0FC","#4AFFFE","#AFFFFF","#FFFC63","#FDBD2D","#FC8A25","#FA4F1E","#FA141B","#BA38D1"]},{name:"forest",selectable:!1,group:"Ordinal",domain:["#55C22D","#C1F33D","#3CC099","#AFFFFF","#8CFC9D","#76CFFA","#BA60FB","#EE6490","#C42A1C","#FC9F32"]},{name:"horizon",selectable:!1,group:"Ordinal",domain:["#2597FB","#65EBFD","#99FDD0","#FCEE4B","#FEFCFA","#FDD6E3","#FCB1A8","#EF6F7B","#CB96E8","#EFDEE0"]},{name:"neons",selectable:!1,group:"Ordinal",domain:["#FF3333","#FF33FF","#CC33FF","#0000FF","#33CCFF","#33FFFF","#33FF66","#CCFF33","#FFCC00","#FF6600"]},{name:"picnic",selectable:!1,group:"Ordinal",domain:["#FAC51D","#66BD6D","#FAA026","#29BB9C","#E96B56","#55ACD2","#B7332F","#2C83C9","#9166B8","#92E7E8"]},{name:"night",selectable:!1,group:"Ordinal",domain:["#2B1B5A","#501356","#183356","#28203F","#391B3C","#1E2B3C","#120634","#2D0432","#051932","#453080","#75267D","#2C507D","#4B3880","#752F7D","#35547D"]},{name:"nightLights",selectable:!1,group:"Ordinal",domain:["#4e31a5","#9c25a7","#3065ab","#57468b","#904497","#46648b","#32118d","#a00fb3","#1052a2","#6e51bd","#b63cc3","#6c97cb","#8671c1","#b455be","#7496c3"]}],UW=class{scale;colorDomain;domain;customColors;constructor(t,e,i){typeof t=="string"&&(t=$de.find(o=>o.name===t)),this.colorDomain=t.domain,this.domain=e,this.customColors=i,this.scale=this.generateColorScheme(t,this.domain)}generateColorScheme(t,e){return typeof t=="string"&&(t=$de.find(i=>i.name===t)),ww().range(t.domain).domain(e)}getColor(t){if(t==null)throw new Error("Value can not be null");if(typeof this.customColors=="function")return this.customColors(t);let e=t.toString(),i;return this.customColors&&this.customColors.length>0&&(i=this.customColors.find(o=>o.name.toLowerCase()===e.toLowerCase())),i?i.value:this.scale(t)}};function Kde({width:n,height:t}){let e=n,i=t;return e=Math.max(0,e),i=Math.max(0,i),{width:Math.floor(e),height:Math.floor(i)}}var L5e=(()=>{class n{element;zone;visible=new Le;timeout;isVisible=!1;constructor(e,i){this.element=e,this.zone=i,this.runCheck()}destroy(){clearTimeout(this.timeout)}onVisibilityChange(){this.zone.run(()=>{this.isVisible=!0,this.visible.emit(!0)})}runCheck(){let e=()=>{if(!this.element)return;let{offsetHeight:i,offsetWidth:o}=this.element.nativeElement;i&&o?(clearTimeout(this.timeout),this.onVisibilityChange()):(clearTimeout(this.timeout),this.zone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>e(),100)}))};this.zone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>e())})}static \u0275fac=function(i){return new(i||n)(J(Oe),J(Ye))};static \u0275dir=me({type:n,selectors:[["visibility-observer"]],outputs:{visible:"visible"},standalone:!1})}return n})(),xA=function(n){return n.LEFT_TO_RIGHT="LR",n.RIGHT_TO_LEFT="RL",n.TOP_TO_BOTTOM="TB",n.BOTTOM_TO_TOM="BT",n}(xA||{});var qW=class{defaultSettings={orientation:xA.LEFT_TO_RIGHT,marginX:20,marginY:20,edgePadding:100,rankPadding:100,nodePadding:50,multigraph:!0,compound:!0};settings={};dagreGraph;dagreNodes;dagreEdges;run(t){this.createDagreGraph(t),ph.layout(this.dagreGraph),t.edgeLabels=this.dagreGraph._edgeLabels;for(let e in this.dagreGraph._nodes){let i=this.dagreGraph._nodes[e],o=t.nodes.find(r=>r.id===i.id);o.position={x:i.x,y:i.y},o.dimension={width:i.width,height:i.height}}return t}updateEdge(t,e){let i=t.nodes.find(l=>l.id===e.source),o=t.nodes.find(l=>l.id===e.target),r=i.position.y<=o.position.y?-1:1,s={x:i.position.x,y:i.position.y-r*(i.dimension.height/2)},a={x:o.position.x,y:o.position.y+r*(o.dimension.height/2)};return e.points=[s,a],t}createDagreGraph(t){let e=Object.assign({},this.defaultSettings,this.settings);this.dagreGraph=new ph.graphlib.Graph({compound:e.compound,multigraph:e.multigraph}),this.dagreGraph.setGraph({rankdir:e.orientation,marginx:e.marginX,marginy:e.marginY,edgesep:e.edgePadding,ranksep:e.rankPadding,nodesep:e.nodePadding,align:e.align,acyclicer:e.acyclicer,ranker:e.ranker,multigraph:e.multigraph,compound:e.compound}),this.dagreGraph.setDefaultEdgeLabel(()=>({})),this.dagreNodes=t.nodes.map(i=>{let o=Object.assign({},i);return o.width=i.dimension.width,o.height=i.dimension.height,o.x=i.position.x,o.y=i.position.y,o}),this.dagreEdges=t.edges.map(i=>{let o=Object.assign({},i);return o.id||(o.id=Cd()),o});for(let i of this.dagreNodes)i.width||(i.width=20),i.height||(i.height=30),this.dagreGraph.setNode(i.id,i);for(let i of this.dagreEdges)e.multigraph?this.dagreGraph.setEdge(i.source,i.target,i,i.id):this.dagreGraph.setEdge(i.source,i.target);return this.dagreGraph}},GW=class{defaultSettings={orientation:xA.LEFT_TO_RIGHT,marginX:20,marginY:20,edgePadding:100,rankPadding:100,nodePadding:50,multigraph:!0,compound:!0};settings={};dagreGraph;dagreNodes;dagreClusters;dagreEdges;run(t){this.createDagreGraph(t),ph.layout(this.dagreGraph),t.edgeLabels=this.dagreGraph._edgeLabels;let e=i=>{let o=this.dagreGraph._nodes[i.id];return Ae(j({},i),{position:{x:o.x,y:o.y},dimension:{width:o.width,height:o.height}})};return t.clusters=(t.clusters||[]).map(e),t.nodes=t.nodes.map(e),t}updateEdge(t,e){let i=t.nodes.find(l=>l.id===e.source),o=t.nodes.find(l=>l.id===e.target),r=i.position.y<=o.position.y?-1:1,s={x:i.position.x,y:i.position.y-r*(i.dimension.height/2)},a={x:o.position.x,y:o.position.y+r*(o.dimension.height/2)};return e.points=[s,a],t}createDagreGraph(t){let e=Object.assign({},this.defaultSettings,this.settings);this.dagreGraph=new ph.graphlib.Graph({compound:e.compound,multigraph:e.multigraph}),this.dagreGraph.setGraph({rankdir:e.orientation,marginx:e.marginX,marginy:e.marginY,edgesep:e.edgePadding,ranksep:e.rankPadding,nodesep:e.nodePadding,align:e.align,acyclicer:e.acyclicer,ranker:e.ranker,multigraph:e.multigraph,compound:e.compound}),this.dagreGraph.setDefaultEdgeLabel(()=>({})),this.dagreNodes=t.nodes.map(i=>{let o=Object.assign({},i);return o.width=i.dimension.width,o.height=i.dimension.height,o.x=i.position.x,o.y=i.position.y,o}),this.dagreClusters=t.clusters||[],this.dagreEdges=t.edges.map(i=>{let o=Object.assign({},i);return o.id||(o.id=Cd()),o});for(let i of this.dagreNodes)this.dagreGraph.setNode(i.id,i);for(let i of this.dagreClusters)this.dagreGraph.setNode(i.id,i),i.childNodeIds.forEach(o=>{this.dagreGraph.setParent(o,i.id)});for(let i of this.dagreEdges)e.multigraph?this.dagreGraph.setEdge(i.source,i.target,i,i.id):this.dagreGraph.setEdge(i.source,i.target);return this.dagreGraph}},N5e="\0";var Yde="",$W=class{defaultSettings={orientation:xA.LEFT_TO_RIGHT,marginX:20,marginY:20,edgePadding:100,rankPadding:100,nodePadding:50,curveDistance:20,multigraph:!0,compound:!0};settings={};dagreGraph;dagreNodes;dagreEdges;run(t){this.createDagreGraph(t),ph.layout(this.dagreGraph),t.edgeLabels=this.dagreGraph._edgeLabels;for(let e in this.dagreGraph._nodes){let i=this.dagreGraph._nodes[e],o=t.nodes.find(r=>r.id===i.id);o.position={x:i.x,y:i.y},o.dimension={width:i.width,height:i.height}}for(let e of t.edges)this.updateEdge(t,e);return t}updateEdge(t,e){let i=t.nodes.find(f=>f.id===e.source),o=t.nodes.find(f=>f.id===e.target),r=this.settings.orientation==="BT"||this.settings.orientation==="TB"?"y":"x",s=r==="y"?"x":"y",a=r==="y"?"height":"width",l=i.position[r]<=o.position[r]?-1:1,c={[s]:i.position[s],[r]:i.position[r]-l*(i.dimension[a]/2)},d={[s]:o.position[s],[r]:o.position[r]+l*(o.dimension[a]/2)},u=this.settings.curveDistance||this.defaultSettings.curveDistance;e.points=[c,{[s]:c[s],[r]:c[r]-l*u},{[s]:d[s],[r]:d[r]+l*u},d];let h=`${e.source}${Yde}${e.target}${Yde}${N5e}`,m=t.edgeLabels[h];return m&&(m.points=e.points),t}createDagreGraph(t){let e=Object.assign({},this.defaultSettings,this.settings);this.dagreGraph=new ph.graphlib.Graph({compound:e.compound,multigraph:e.multigraph}),this.dagreGraph.setGraph({rankdir:e.orientation,marginx:e.marginX,marginy:e.marginY,edgesep:e.edgePadding,ranksep:e.rankPadding,nodesep:e.nodePadding,align:e.align,acyclicer:e.acyclicer,ranker:e.ranker,multigraph:e.multigraph,compound:e.compound}),this.dagreGraph.setDefaultEdgeLabel(()=>({})),this.dagreNodes=t.nodes.map(i=>{let o=Object.assign({},i);return o.width=i.dimension.width,o.height=i.dimension.height,o.x=i.position.x,o.y=i.position.y,o}),this.dagreEdges=t.edges.map(i=>{let o=Object.assign({},i);return o.id||(o.id=Cd()),o});for(let i of this.dagreNodes)i.width||(i.width=20),i.height||(i.height=30),this.dagreGraph.setNode(i.id,i);for(let i of this.dagreEdges)e.multigraph?this.dagreGraph.setEdge(i.source,i.target,i,i.id):this.dagreGraph.setEdge(i.source,i.target);return this.dagreGraph}};function K_(n){return typeof n=="string"?{id:n,x:0,y:0}:n}var ax=class{defaultSettings={force:B_().force("charge",H_().strength(-150)).force("collide",F_(5)),forceLink:z_().id(t=>t.id).distance(()=>100)};settings={};inputGraph;outputGraph;d3Graph;outputGraph$=new De;draggingStart;run(t){return this.inputGraph=t,this.d3Graph={nodes:[...this.inputGraph.nodes.map(e=>j({},e))],edges:[...this.inputGraph.edges.map(e=>j({},e))]},this.outputGraph={nodes:[],edges:[],edgeLabels:[]},this.outputGraph$.next(this.outputGraph),this.settings=Object.assign({},this.defaultSettings,this.settings),this.settings.force&&this.settings.force.nodes(this.d3Graph.nodes).force("link",this.settings.forceLink.links(this.d3Graph.edges)).alpha(.5).restart().on("tick",()=>{this.outputGraph$.next(this.d3GraphToOutputGraph(this.d3Graph))}),this.outputGraph$.asObservable()}updateEdge(t,e){let i=Object.assign({},this.defaultSettings,this.settings);return i.force&&i.force.nodes(this.d3Graph.nodes).force("link",i.forceLink.links(this.d3Graph.edges)).alpha(.5).restart().on("tick",()=>{this.outputGraph$.next(this.d3GraphToOutputGraph(this.d3Graph))}),this.outputGraph$.asObservable()}d3GraphToOutputGraph(t){return this.outputGraph.nodes=this.d3Graph.nodes.map(e=>Ae(j({},e),{id:e.id||Cd(),position:{x:e.x,y:e.y},dimension:{width:e.dimension&&e.dimension.width||20,height:e.dimension&&e.dimension.height||20},transform:`translate(${e.x-(e.dimension&&e.dimension.width||20)/2||0}, ${e.y-(e.dimension&&e.dimension.height||20)/2||0})`})),this.outputGraph.edges=this.d3Graph.edges.map(e=>Ae(j({},e),{source:K_(e.source).id,target:K_(e.target).id,points:[{x:K_(e.source).x,y:K_(e.source).y},{x:K_(e.target).x,y:K_(e.target).y}]})),this.outputGraph.edgeLabels=this.outputGraph.edges,this.outputGraph}onDragStart(t,e){this.settings.force.alphaTarget(.3).restart();let i=this.d3Graph.nodes.find(o=>o.id===t.id);i&&(this.draggingStart={x:e.x-i.x,y:e.y-i.y},i.fx=e.x-this.draggingStart.x,i.fy=e.y-this.draggingStart.y)}onDrag(t,e){if(!t)return;let i=this.d3Graph.nodes.find(o=>o.id===t.id);i&&(i.fx=e.x-this.draggingStart.x,i.fy=e.y-this.draggingStart.y)}onDragEnd(t,e){if(!t)return;let i=this.d3Graph.nodes.find(o=>o.id===t.id);i&&(this.settings.force.alphaTarget(0),i.fx=void 0,i.fy=void 0)}};function Xde(n,t){return typeof t=="number"?n[t]:t}var KW=class{defaultSettings={force:(0,Qde.d3adaptor)(j(j(j({},E3),vW),T3)).linkDistance(150).avoidOverlaps(!0),viewDimensions:{width:600,height:600}};settings={};inputGraph;outputGraph;internalGraph;outputGraph$=new De;draggingStart;run(t){return this.inputGraph=t,this.inputGraph.clusters||(this.inputGraph.clusters=[]),this.internalGraph={nodes:[...this.inputGraph.nodes.map(e=>Ae(j({},e),{width:e.dimension?e.dimension.width:20,height:e.dimension?e.dimension.height:20}))],groups:[...this.inputGraph.clusters.map(e=>({padding:5,groups:e.childNodeIds.map(i=>this.inputGraph.clusters.findIndex(o=>o.id===i)).filter(i=>i>=0),leaves:e.childNodeIds.map(i=>this.inputGraph.nodes.findIndex(o=>o.id===i)).filter(i=>i>=0)}))],links:[...this.inputGraph.edges.map(e=>{let i=this.inputGraph.nodes.findIndex(r=>e.source===r.id),o=this.inputGraph.nodes.findIndex(r=>e.target===r.id);if(!(i===-1||o===-1))return Ae(j({},e),{source:i,target:o})}).filter(e=>!!e)],groupLinks:[...this.inputGraph.edges.map(e=>{let i=this.inputGraph.nodes.findIndex(r=>e.source===r.id),o=this.inputGraph.nodes.findIndex(r=>e.target===r.id);if(!(i>=0&&o>=0))return e}).filter(e=>!!e)]},this.outputGraph={nodes:[],clusters:[],edges:[],edgeLabels:[]},this.outputGraph$.next(this.outputGraph),this.settings=Object.assign({},this.defaultSettings,this.settings),this.settings.force&&(this.settings.force=this.settings.force.nodes(this.internalGraph.nodes).groups(this.internalGraph.groups).links(this.internalGraph.links).alpha(.5).on("tick",()=>{this.settings.onTickListener&&this.settings.onTickListener(this.internalGraph),this.outputGraph$.next(this.internalGraphToOutputGraph(this.internalGraph))}),this.settings.viewDimensions&&(this.settings.force=this.settings.force.size([this.settings.viewDimensions.width,this.settings.viewDimensions.height])),this.settings.forceModifierFn&&(this.settings.force=this.settings.forceModifierFn(this.settings.force)),this.settings.force.start()),this.outputGraph$.asObservable()}updateEdge(t,e){let i=Object.assign({},this.defaultSettings,this.settings);return i.force&&i.force.start(),this.outputGraph$.asObservable()}internalGraphToOutputGraph(t){return this.outputGraph.nodes=t.nodes.map(e=>Ae(j({},e),{id:e.id||Cd(),position:{x:e.x,y:e.y},dimension:{width:e.dimension&&e.dimension.width||20,height:e.dimension&&e.dimension.height||20},transform:`translate(${e.x-(e.dimension&&e.dimension.width||20)/2||0}, ${e.y-(e.dimension&&e.dimension.height||20)/2||0})`})),this.outputGraph.edges=t.links.map(e=>{let i=Xde(t.nodes,e.source),o=Xde(t.nodes,e.target);return Ae(j({},e),{source:i.id,target:o.id,points:[i.bounds.rayIntersection(o.bounds.cx(),o.bounds.cy()),o.bounds.rayIntersection(i.bounds.cx(),i.bounds.cy())]})}).concat(t.groupLinks.map(e=>{let i=t.nodes.find(a=>a.id===e.source),o=t.nodes.find(a=>a.id===e.target),r=i||t.groups.find(a=>a.id===e.source),s=o||t.groups.find(a=>a.id===e.target);return Ae(j({},e),{source:r.id,target:s.id,points:[r.bounds.rayIntersection(s.bounds.cx(),s.bounds.cy()),s.bounds.rayIntersection(r.bounds.cx(),r.bounds.cy())]})})),this.outputGraph.clusters=t.groups.map((e,i)=>{let o=this.inputGraph.clusters[i];return Ae(j({},o),{dimension:{width:e.bounds?e.bounds.width():20,height:e.bounds?e.bounds.height():20},position:{x:e.bounds?e.bounds.x+e.bounds.width()/2:0,y:e.bounds?e.bounds.y+e.bounds.height()/2:0}})}),this.outputGraph.edgeLabels=this.outputGraph.edges,this.outputGraph}onDragStart(t,e){let i=this.outputGraph.nodes.findIndex(r=>r.id===t.id),o=this.internalGraph.nodes[i];o&&(this.draggingStart={x:o.x-e.x,y:o.y-e.y},o.fixed=1,this.settings.force.start())}onDrag(t,e){if(!t)return;let i=this.outputGraph.nodes.findIndex(r=>r.id===t.id),o=this.internalGraph.nodes[i];o&&(o.x=this.draggingStart.x+e.x,o.y=this.draggingStart.y+e.y)}onDragEnd(t,e){if(!t)return;let i=this.outputGraph.nodes.findIndex(r=>r.id===t.id),o=this.internalGraph.nodes[i];o&&(o.fixed=0)}},Zde={dagre:qW,dagreCluster:GW,dagreNodesOnly:$W,d3ForceDirected:ax,colaForceDirected:KW},Jde=(()=>{class n{getLayout(e){if(Zde[e])return new Zde[e];throw new Error(`Unknown layout type '${e}'`)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=se({token:n,factory:n.\u0275fac})}return n})(),F5e=(()=>{class n{mouseWheelUp=new Le;mouseWheelDown=new Le;onMouseWheelChrome(e){this.mouseWheelFunc(e)}onMouseWheelFirefox(e){this.mouseWheelFunc(e)}onWheel(e){this.mouseWheelFunc(e)}onMouseWheelIE(e){this.mouseWheelFunc(e)}mouseWheelFunc(e){window.event&&(e=window.event);let i=Math.max(-1,Math.min(1,e.wheelDelta||-e.detail||e.deltaY||e.deltaX)),o=e.wheelDelta?i>0:i<0,r=e.wheelDelta?i<0:i>0;o?this.mouseWheelUp.emit(e):r&&this.mouseWheelDown.emit(e),e.returnValue=!1,e.preventDefault&&e.preventDefault()}static \u0275fac=function(i){return new(i||n)};static \u0275dir=me({type:n,selectors:[["","mouseWheel",""]],hostBindings:function(i,o){i&1&&de("mousewheel",function(s){return o.onMouseWheelChrome(s)})("DOMMouseScroll",function(s){return o.onMouseWheelFirefox(s)})("wheel",function(s){return o.onWheel(s)})("onmousewheel",function(s){return o.onMouseWheelIE(s)})},outputs:{mouseWheelUp:"mouseWheelUp",mouseWheelDown:"mouseWheelDown"},standalone:!1})}return n})(),sx=function(n){return n.Init="init",n.Subscribe="subscribe",n.Transform="transform",n.Output="output",n}(sx||{}),CA=(()=>{class n{el;zone;cd;layoutService;nodes=[];clusters=[];compoundNodes=[];links=[];activeEntries=[];curve;draggingEnabled=!0;nodeHeight;nodeMaxHeight;nodeMinHeight;nodeWidth;nodeMinWidth;nodeMaxWidth;panningEnabled=!0;panningAxis=yA.Both;enableZoom=!0;zoomSpeed=.1;minZoomLevel=.1;maxZoomLevel=4;autoZoom=!1;panOnZoom=!0;animate=!1;autoCenter=!1;update$;center$;zoomToFit$;panToNode$;layout;layoutSettings;enableTrackpadSupport=!1;showMiniMap=!1;miniMapMaxWidth=100;miniMapMaxHeight;miniMapPosition=wA.UpperRight;view;scheme="cool";customColors;deferDisplayUntilPosition=!1;centerNodesOnPositionChange=!0;enablePreUpdateTransform=!0;select=new Le;activate=new Le;deactivate=new Le;zoomChange=new Le;clickHandler=new Le;stateChange=new Le;linkTemplate;nodeTemplate;clusterTemplate;defsTemplate;miniMapNodeTemplate;nodeElements;linkElements;chartWidth;isMouseMoveCalled=!1;graphSubscription=new _n;colors;dims;seriesDomain;transform;isPanning=!1;isDragging=!1;draggingNode;initialized=!1;graph;graphDims={width:0,height:0};_oldLinks=[];oldNodes=new Set;oldClusters=new Set;oldCompoundNodes=new Set;transformationMatrix=RQ();_touchLastX=null;_touchLastY=null;minimapScaleCoefficient=3;minimapTransform;minimapOffsetX=0;minimapOffsetY=0;isMinimapPanning=!1;minimapClipPathId;width;height;resizeSubscription;visibilityObserver;destroy$=new De;constructor(e,i,o,r){this.el=e,this.zone=i,this.cd=o,this.layoutService=r}groupResultsBy=e=>e.label;get zoomLevel(){return this.transformationMatrix.a}set zoomLevel(e){this.zoomTo(Number(e))}get panOffsetX(){return this.transformationMatrix.e}set panOffsetX(e){this.panTo(Number(e),null)}get panOffsetY(){return this.transformationMatrix.f}set panOffsetY(e){this.panTo(null,Number(e))}ngOnInit(){this.update$&&this.update$.pipe(Ct(this.destroy$)).subscribe(()=>{this.update()}),this.center$&&this.center$.pipe(Ct(this.destroy$)).subscribe(()=>{this.center()}),this.zoomToFit$&&this.zoomToFit$.pipe(Ct(this.destroy$)).subscribe(e=>{this.zoomToFit(e||{})}),this.panToNode$&&this.panToNode$.pipe(Ct(this.destroy$)).subscribe(e=>{this.panToNodeId(e)}),this.minimapClipPathId=`minimapClip${Cd()}`,this.stateChange.emit({state:sx.Subscribe})}ngOnChanges(e){this.basicUpdate();let{layoutSettings:i}=e;this.setLayout(this.layout),i&&this.setLayoutSettings(this.layoutSettings),this.layout&&this.nodes.length&&this.links.length&&this.update()}setLayout(e){this.initialized=!1,e||(e="dagre"),typeof e=="string"&&(this.layout=this.layoutService.getLayout(e),this.setLayoutSettings(this.layoutSettings))}setLayoutSettings(e){this.layout&&typeof this.layout!="string"&&(this.layout.settings=e)}ngOnDestroy(){this.unbindEvents(),this.visibilityObserver&&(this.visibilityObserver.visible.unsubscribe(),this.visibilityObserver.destroy()),this.destroy$.next(),this.destroy$.complete()}ngAfterViewInit(){this.bindWindowResizeEvent(),this.visibilityObserver=new L5e(this.el,this.zone),this.visibilityObserver.visible.subscribe(this.update.bind(this)),setTimeout(()=>this.update())}update(){this.basicUpdate(),this.curve||(this.curve=I3.beta(1)),this.zone.run(()=>{this.dims=Kde({width:this.width,height:this.height}),this.seriesDomain=this.getSeriesDomain(),this.setColors(),this.createGraph(),this.updateTransform(),this.initialized||this.stateChange.emit({state:sx.Init}),this.initialized=!0})}createGraph(){this.graphSubscription.unsubscribe(),this.graphSubscription=new _n;let e=o=>(o.meta||(o.meta={}),o.id||(o.id=Cd()),o.dimension?o.meta.forceDimensions=o.meta.forceDimensions===void 0?!0:o.meta.forceDimensions:(o.dimension={width:this.nodeWidth?this.nodeWidth:30,height:this.nodeHeight?this.nodeHeight:30},o.meta.forceDimensions=!1),o.position||(o.position={x:0,y:0},this.deferDisplayUntilPosition&&(o.hidden=!0)),o.data=o.data?o.data:{},o),i=o=>(o.id||(o.id=Cd()),o);this.graph={nodes:this.nodes.map(o=>e(o)),clusters:this.clusters.map(o=>e(o)),compoundNodes:this.compoundNodes.map(o=>e(o)),edges:this.links.map(o=>i(o))},requestAnimationFrame(()=>this.draw())}draw(){let e=this.layout.run(this.graph),i=e instanceof mr?e:Ve(e);this.graphSubscription.add(i.subscribe(o=>{this.graph=o,this.tick()}))}tick(){let e=new Set,i=new Set,o=new Set;this.graph.nodes.forEach(s=>{s.transform=`translate(${s.position.x-(this.centerNodesOnPositionChange?s.dimension.width/2:0)||0}, ${s.position.y-(this.centerNodesOnPositionChange?s.dimension.height/2:0)||0})`,s.data||(s.data={}),s.data.color=this.colors.getColor(this.groupResultsBy(s)),this.deferDisplayUntilPosition&&(s.hidden=!1),e.add(s.id)}),(this.graph.clusters||[]).forEach(s=>{s.transform=`translate(${s.position.x-(this.centerNodesOnPositionChange?s.dimension.width/2:0)||0}, ${s.position.y-(this.centerNodesOnPositionChange?s.dimension.height/2:0)||0})`,s.data||(s.data={}),s.data.color=this.colors.getColor(this.groupResultsBy(s)),this.deferDisplayUntilPosition&&(s.hidden=!1),i.add(s.id)}),(this.graph.compoundNodes||[]).forEach(s=>{s.transform=`translate(${s.position.x-(this.centerNodesOnPositionChange?s.dimension.width/2:0)||0}, ${s.position.y-(this.centerNodesOnPositionChange?s.dimension.height/2:0)||0})`,s.data||(s.data={}),s.data.color=this.colors.getColor(this.groupResultsBy(s)),this.deferDisplayUntilPosition&&(s.hidden=!1),o.add(s.id)}),setTimeout(()=>{this.oldNodes=e,this.oldClusters=i,this.oldCompoundNodes=o},500);let r=[];for(let s in this.graph.edgeLabels){let a=this.graph.edgeLabels[s],l=s.replace(/[^\w-]*/g,""),c=this.layout&&typeof this.layout!="string"&&this.layout.settings&&this.layout.settings.multigraph,d=c?this._oldLinks.find(g=>`${g.source}${g.target}${g.id}`===l):this._oldLinks.find(g=>`${g.source}${g.target}`===l),u=c?this.graph.edges.find(g=>`${g.source}${g.target}${g.id}`===l):this.graph.edges.find(g=>`${g.source}${g.target}`===l);d?d.data&&u&&u.data&&JSON.stringify(d.data)!==JSON.stringify(u.data)&&(d.data=u.data):d=u||a,d.oldLine=d.line;let h=a.points,m=this.generateLine(h),f=Object.assign({},d);f.line=m,f.points=h,this.updateMidpointOnEdge(f,h);let p=h[Math.floor(h.length/2)];p&&(f.textTransform=`translate(${p.x||0},${p.y||0})`),f.textAngle=0,f.oldLine||(f.oldLine=f.line),this.calcDominantBaseline(f),r.push(f)}this.graph.edges=r,this.graph.edges&&(this._oldLinks=this.graph.edges.map(s=>{let a=Object.assign({},s);return a.oldLine=s.line,a})),this.applyNodeDimensions(),this.redrawLines(),this.updateMinimap(),requestAnimationFrame(()=>{this.applyNodeDimensions(),this.redrawLines(),this.updateMinimap(),this.autoZoom?this.zoomToFit({autoCenter:this.autoCenter?this.autoCenter:!1}):this.autoCenter&&this.center(),this.stateChange.emit({state:sx.Output})}),this.cd.markForCheck()}getMinimapTransform(){switch(this.miniMapPosition){case wA.UpperLeft:return"";case wA.UpperRight:return"translate("+(this.dims.width-this.graphDims.width/this.minimapScaleCoefficient)+",0)";default:return""}}updateGraphDims(){let e=1/0,i=-1/0,o=1/0,r=-1/0;for(let s=0;s<this.graph.nodes.length;s++){let a=this.graph.nodes[s];e=a.position.x<e?a.position.x:e,o=a.position.y<o?a.position.y:o,i=a.position.x+a.dimension.width>i?a.position.x+a.dimension.width:i,r=a.position.y+a.dimension.height>r?a.position.y+a.dimension.height:r}e-=100,o-=100,i+=100,r+=100,this.graphDims.width=i-e,this.graphDims.height=r-o,this.minimapOffsetX=e,this.minimapOffsetY=o}updateMinimap(){this.graph.nodes&&this.graph.nodes.length&&(this.updateGraphDims(),this.miniMapMaxWidth&&(this.minimapScaleCoefficient=this.graphDims.width/this.miniMapMaxWidth),this.miniMapMaxHeight&&(this.minimapScaleCoefficient=Math.max(this.minimapScaleCoefficient,this.graphDims.height/this.miniMapMaxHeight)),this.minimapTransform=this.getMinimapTransform())}applyNodeDimensions(){this.nodeElements&&this.nodeElements.length&&this.nodeElements.forEach(e=>{let i=e.nativeElement,o=this.graph.nodes.find(s=>s.id===i.id);if(!o)return;let r;try{if(r=i.getBBox(),!r.width||!r.height)return}catch{return}if(this.nodeHeight?o.dimension.height=o.dimension.height&&o.meta.forceDimensions?o.dimension.height:this.nodeHeight:o.dimension.height=o.dimension.height&&o.meta.forceDimensions?o.dimension.height:r.height,this.nodeMaxHeight&&(o.dimension.height=Math.max(o.dimension.height,this.nodeMaxHeight)),this.nodeMinHeight&&(o.dimension.height=Math.min(o.dimension.height,this.nodeMinHeight)),this.nodeWidth)o.dimension.width=o.dimension.width&&o.meta.forceDimensions?o.dimension.width:this.nodeWidth;else if(i.getElementsByTagName("text").length){let s;try{for(let a of i.getElementsByTagName("text")){let l=a.getBBox();s?(l.width>s.width&&(s.width=l.width),l.height>s.height&&(s.height=l.height)):s=l}}catch{return}o.dimension.width=o.dimension.width&&o.meta.forceDimensions?o.dimension.width:s.width+20}else o.dimension.width=o.dimension.width&&o.meta.forceDimensions?o.dimension.width:r.width;this.nodeMaxWidth&&(o.dimension.width=Math.max(o.dimension.width,this.nodeMaxWidth)),this.nodeMinWidth&&(o.dimension.width=Math.min(o.dimension.width,this.nodeMinWidth))})}redrawLines(e=this.animate){this.linkElements.forEach(i=>{let o=this.graph.edges.find(r=>r.id===i.nativeElement.id);o&&(nT(i.nativeElement).select(".line").attr("d",o.oldLine).transition().ease(lw).duration(e?500:0).attr("d",o.line),nT(this.el.nativeElement).select(`#${o.id}`).attr("d",o.oldTextPath).transition().ease(lw).duration(e?500:0).attr("d",o.textPath),this.updateMidpointOnEdge(o,o.points))})}calcDominantBaseline(e){let i=e.points[0],o=e.points[e.points.length-1];e.oldTextPath=e.textPath,o.x<i.x?(e.dominantBaseline="text-before-edge",e.textPath=this.generateLine([...e.points].reverse())):(e.dominantBaseline="text-after-edge",e.textPath=e.line)}generateLine(e){return D3().x(o=>o.x).y(o=>o.y).curve(this.curve)(e)}onZoom(e,i){if(this.enableTrackpadSupport&&!e.ctrlKey){this.pan(e.deltaX*-1,e.deltaY*-1);return}let o=1+(i==="in"?this.zoomSpeed:-this.zoomSpeed),r=this.zoomLevel*o;if(!(r<=this.minZoomLevel||r>=this.maxZoomLevel)&&this.enableZoom)if(this.panOnZoom===!0&&e){let s=e.clientX,a=e.clientY,l=this.el.nativeElement.querySelector("svg"),c=l.querySelector("g.chart"),d=l.createSVGPoint();d.x=s,d.y=a;let u=d.matrixTransform(c.getScreenCTM().inverse());this.pan(u.x,u.y,!0),this.zoom(o),this.pan(-u.x,-u.y,!0)}else this.zoom(o)}pan(e,i,o=!1){let r=o?1:this.zoomLevel;this.transformationMatrix=fd(this.transformationMatrix,pd(e/r,i/r)),this.updateTransform()}panTo(e,i){if(e==null||isNaN(e)||i===null||i===void 0||isNaN(i))return;let o=-this.panOffsetX-e*this.zoomLevel+this.dims.width/2,r=-this.panOffsetY-i*this.zoomLevel+this.dims.height/2;this.transformationMatrix=fd(this.transformationMatrix,pd(o/this.zoomLevel,r/this.zoomLevel)),this.updateTransform()}zoom(e){this.transformationMatrix=fd(this.transformationMatrix,yw(e,e)),this.zoomChange.emit(this.zoomLevel),this.updateTransform()}zoomTo(e){this.transformationMatrix.a=isNaN(e)?this.transformationMatrix.a:Number(e),this.transformationMatrix.d=isNaN(e)?this.transformationMatrix.d:Number(e),this.zoomChange.emit(this.zoomLevel),this.enablePreUpdateTransform&&this.updateTransform(),this.update()}onDrag(e){if(!this.draggingEnabled)return;let i=this.draggingNode;this.layout&&typeof this.layout!="string"&&this.layout.onDrag&&this.layout.onDrag(i,e),i.position.x+=e.movementX/this.zoomLevel,i.position.y+=e.movementY/this.zoomLevel;let o=i.position.x-(this.centerNodesOnPositionChange?i.dimension.width/2:0),r=i.position.y-(this.centerNodesOnPositionChange?i.dimension.height/2:0);i.transform=`translate(${o}, ${r})`;for(let s of this.graph.edges)if((s.target===i.id||s.source===i.id||s.target.id===i.id||s.source.id===i.id)&&this.layout&&typeof this.layout!="string"){let a=this.layout.updateEdge(this.graph,s),l=a instanceof mr?a:Ve(a);this.graphSubscription.add(l.subscribe(c=>{this.graph=c,this.redrawEdge(s)}))}this.redrawLines(!1),this.updateMinimap()}redrawEdge(e){let i=this.generateLine(e.points);this.calcDominantBaseline(e),e.oldLine=e.line,e.line=i}updateTransform(){this.transform=OQ(V3(this.transformationMatrix,100)),this.stateChange.emit({state:sx.Transform})}onClick(e){this.select.emit(e)}onActivate(e){this.activeEntries.indexOf(e)>-1||(this.activeEntries=[e,...this.activeEntries],this.activate.emit({value:e,entries:this.activeEntries}))}onDeactivate(e){let i=this.activeEntries.indexOf(e);this.activeEntries.splice(i,1),this.activeEntries=[...this.activeEntries],this.deactivate.emit({value:e,entries:this.activeEntries})}getSeriesDomain(){return this.nodes.map(e=>this.groupResultsBy(e)).reduce((e,i)=>e.indexOf(i)!==-1?e:e.concat([i]),[]).sort()}trackLinkBy(e,i){return i.id}trackNodeBy(e,i){return i.id}setColors(){this.colors=new UW(this.scheme,this.seriesDomain,this.customColors)}onMouseMove(e){this.isMouseMoveCalled=!0,(this.isPanning||this.isMinimapPanning)&&this.panningEnabled?this.panWithConstraints(this.panningAxis,e):this.isDragging&&this.draggingEnabled&&this.onDrag(e)}onMouseDown(e){this.isMouseMoveCalled=!1}graphClick(e){this.isMouseMoveCalled||this.clickHandler.emit(e)}onTouchStart(e){this._touchLastX=e.changedTouches[0].clientX,this._touchLastY=e.changedTouches[0].clientY,this.isPanning=!0}onTouchMove(e){if(this.isPanning&&this.panningEnabled){let i=e.changedTouches[0].clientX,o=e.changedTouches[0].clientY,r=i-this._touchLastX,s=o-this._touchLastY;this._touchLastX=i,this._touchLastY=o,this.pan(r,s)}}onTouchEnd(){this.isPanning=!1}onMouseUp(e){this.isDragging=!1,this.isPanning=!1,this.isMinimapPanning=!1,this.layout&&typeof this.layout!="string"&&this.layout.onDragEnd&&this.layout.onDragEnd(this.draggingNode,e)}onNodeMouseDown(e,i){this.draggingEnabled&&(this.isDragging=!0,this.draggingNode=i,this.layout&&typeof this.layout!="string"&&this.layout.onDragStart&&this.layout.onDragStart(i,e))}onMinimapDragMouseDown(){this.isMinimapPanning=!0}onMinimapPanTo(e){let i=e.offsetX-(this.dims.width-(this.graphDims.width+this.minimapOffsetX)/this.minimapScaleCoefficient),o=e.offsetY+this.minimapOffsetY/this.minimapScaleCoefficient;this.panTo(i*this.minimapScaleCoefficient,o*this.minimapScaleCoefficient),this.isMinimapPanning=!0}center(){this.panTo(this.graphDims.width/2,this.graphDims.height/2)}zoomToFit(e){this.dims=Kde({width:this.width,height:this.height}),this.updateGraphDims();let i=this.dims.height/this.graphDims.height,o=this.dims.width/this.graphDims.width,r=Math.min(i,o,1);r<this.minZoomLevel&&(r=this.minZoomLevel),r>this.maxZoomLevel&&(r=this.maxZoomLevel),(e?.force===!0||r!==this.zoomLevel)&&(this.zoomLevel=r,e?.autoCenter!==!0&&this.updateTransform(),e?.autoCenter===!0&&this.center(),this.zoomChange.emit(this.zoomLevel))}panToNodeId(e){let i=this.graph.nodes.find(o=>o.id===e);i&&this.panTo(i.position.x,i.position.y)}getCompoundNodeChildren(e){return this.nodes.filter(i=>e.includes(i.id))}panWithConstraints(e,i){let o=i.movementX,r=i.movementY;switch(this.isMinimapPanning&&(o=-this.minimapScaleCoefficient*o*this.zoomLevel,r=-this.minimapScaleCoefficient*r*this.zoomLevel),e){case yA.Horizontal:this.pan(o,0);break;case yA.Vertical:this.pan(0,r);break;default:this.pan(o,r);break}}updateMidpointOnEdge(e,i){if(!(!e||!i))if(i.length%2===1)e.midPoint=i[Math.floor(i.length/2)];else if(this.layout?.settings?.properties?.["elk.direction"])this._calcMidPointElk(e,i);else{let o=i[i.length/2],r=i[i.length/2-1];e.midPoint={x:(o.x+r.x)/2,y:(o.y+r.y)/2}}}_calcMidPointElk(e,i){let o=null,r=null,s=null,a=null,l=this.layout.settings?.properties["elk.direction"];(l==="RIGHT"?i.some(d=>d.y!==i[0].y):i.some(d=>d.x!==i[0].x))?(o=i[i.length-1],r=i[i.length-2],s=i[i.length-1],a=i[i.length-2]):l==="RIGHT"?(o=i[0],r=i[i.length-1],s=i[i.length/2],a=i[i.length/2-1]):(o=i[i.length/2],r=i[i.length/2-1],s=i[0],a=i[i.length-1]),e.midPoint={x:(o.x+r.x)/2,y:(s.y+a.y)/2}}basicUpdate(){if(this.view)this.width=this.view[0],this.height=this.view[1];else{let e=this.getContainerDims();e&&(this.width=e.width,this.height=e.height)}this.width||(this.width=600),this.height||(this.height=400),this.width=Math.floor(this.width),this.height=Math.floor(this.height),this.cd&&this.cd.markForCheck()}getContainerDims(){let e,i,o=this.el.nativeElement;if(o.parentNode!==null){let r=o.parentNode.getBoundingClientRect();e=r.width,i=r.height}return e&&i?{width:e,height:i}:null}hasGraphDims(){return this.graphDims.width>0&&this.graphDims.height>0}hasNodeDims(){return this.graph.nodes?.every(e=>e.dimension.width>0&&e.dimension.height>0)}hasCompoundNodeDims(){return this.graph.compoundNodes?.every(e=>e.dimension.width>0&&e.dimension.height>0)}hasClusterDims(){return this.graph.clusters?.every(e=>e.dimension.width>0&&e.dimension.height>0)}hasDims(){return this.hasGraphDims()&&this.hasNodeDims()&&((this.compoundNodes?.length?this.hasCompoundNodeDims():!0)||(this.clusters?.length?this.hasClusterDims():!0))}unbindEvents(){this.resizeSubscription&&this.resizeSubscription.unsubscribe()}bindWindowResizeEvent(){let i=fh(window,"resize").pipe(dl(200)).subscribe(o=>{this.update(),this.cd&&this.cd.markForCheck()});this.resizeSubscription=i}static \u0275fac=function(i){return new(i||n)(J(Oe),J(Ye),J(Gt),J(Jde))};static \u0275cmp=Z({type:n,selectors:[["ngx-graph"]],contentQueries:function(i,o,r){if(i&1&&(xt(r,r5e,5),xt(r,s5e,5),xt(r,a5e,5),xt(r,l5e,5),xt(r,c5e,5)),i&2){let s;fe(s=ge())&&(o.linkTemplate=s.first),fe(s=ge())&&(o.nodeTemplate=s.first),fe(s=ge())&&(o.clusterTemplate=s.first),fe(s=ge())&&(o.defsTemplate=s.first),fe(s=ge())&&(o.miniMapNodeTemplate=s.first)}},viewQuery:function(i,o){if(i&1&&(st(d5e,5),st(u5e,5)),i&2){let r;fe(r=ge())&&(o.nodeElements=r),fe(r=ge())&&(o.linkElements=r)}},hostBindings:function(i,o){i&1&&de("mousemove",function(s){return o.onMouseMove(s)},!1,fp)("mousedown",function(s){return o.onMouseDown(s)},!1,fp)("click",function(s){return o.graphClick(s)},!1,fp)("touchmove",function(s){return o.onTouchMove(s)},!1,fp)("mouseup",function(s){return o.onMouseUp(s)},!1,fp)},inputs:{nodes:"nodes",clusters:"clusters",compoundNodes:"compoundNodes",links:"links",activeEntries:"activeEntries",curve:"curve",draggingEnabled:"draggingEnabled",nodeHeight:"nodeHeight",nodeMaxHeight:"nodeMaxHeight",nodeMinHeight:"nodeMinHeight",nodeWidth:"nodeWidth",nodeMinWidth:"nodeMinWidth",nodeMaxWidth:"nodeMaxWidth",panningEnabled:"panningEnabled",panningAxis:"panningAxis",enableZoom:"enableZoom",zoomSpeed:"zoomSpeed",minZoomLevel:"minZoomLevel",maxZoomLevel:"maxZoomLevel",autoZoom:"autoZoom",panOnZoom:"panOnZoom",animate:"animate",autoCenter:"autoCenter",update$:"update$",center$:"center$",zoomToFit$:"zoomToFit$",panToNode$:"panToNode$",layout:"layout",layoutSettings:"layoutSettings",enableTrackpadSupport:"enableTrackpadSupport",showMiniMap:"showMiniMap",miniMapMaxWidth:"miniMapMaxWidth",miniMapMaxHeight:"miniMapMaxHeight",miniMapPosition:"miniMapPosition",view:"view",scheme:"scheme",customColors:"customColors",deferDisplayUntilPosition:"deferDisplayUntilPosition",centerNodesOnPositionChange:"centerNodesOnPositionChange",enablePreUpdateTransform:"enablePreUpdateTransform",groupResultsBy:"groupResultsBy",zoomLevel:"zoomLevel",panOffsetX:"panOffsetX",panOffsetY:"panOffsetY"},outputs:{select:"select",activate:"activate",deactivate:"deactivate",zoomChange:"zoomChange",clickHandler:"clickHandler",stateChange:"stateChange"},standalone:!1,features:[fi],ngContentSelectors:h5e,decls:6,vars:11,consts:[["nodeGroup",""],["clusterElement",""],["nodeElement",""],["linkElement",""],["mouseWheel","",1,"ngx-graph-outer",3,"mouseWheelUp","mouseWheelDown"],[1,"ngx-graph"],["class","graph chart",3,"touchstart","touchend",4,"ngIf"],["class","minimap",4,"ngIf"],[1,"graph","chart",3,"touchstart","touchend"],[3,"ngTemplateOutlet",4,"ngIf"],["class","text-path",4,"ngFor","ngForOf"],[1,"panning-rect",3,"mousedown"],[1,"clusters"],["class","node-group",3,"old-node","id","click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"compound-nodes"],["class","node-group",3,"old-node","id","click","mousedown",4,"ngFor","ngForOf","ngForTrackBy"],[1,"links"],["class","link-group",3,"id",4,"ngFor","ngForOf","ngForTrackBy"],[1,"nodes"],[3,"ngTemplateOutlet"],[1,"text-path"],[1,"node-group",3,"click","id"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf"],["class","node cluster",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"node","cluster"],["alignment-baseline","central"],[1,"node-group",3,"click","mousedown","id"],["class","node compound-node",4,"ngIf"],[1,"node","compound-node"],[1,"link-group",3,"id"],["class","edge",4,"ngIf"],[1,"edge"],["r","10",4,"ngIf"],["r","10"],[1,"minimap"],[1,"minimap-background",3,"mousedown"],[1,"minimap-nodes"],["class","node-group",3,"old-node","id",4,"ngFor","ngForOf","ngForTrackBy"],[1,"minimap-drag",3,"mousedown"],[1,"node-group",3,"id"]],template:function(i,o){i&1&&(wt(),w(0,"div",4),de("mouseWheelUp",function(s){return o.onZoom(s,"in")})("mouseWheelDown",function(s){return o.onZoom(s,"out")}),gi(),w(1,"svg",5),ee(2,E5e,15,14,"g",6),w(3,"clipPath"),Y(4,"rect"),x(),ee(5,R5e,6,15,"g",7),x()()),i&2&&(bo("width",o.width,"px"),z("@animationState","active")("@.disabled",!o.animate),D(),ke("width",o.width)("height",o.height),D(),z("ngIf",o.initialized&&o.graph),D(),ke("id",o.minimapClipPathId),D(),ke("width",o.graphDims.width/o.minimapScaleCoefficient)("height",o.graphDims.height/o.minimapScaleCoefficient),D(),z("ngIf",o.showMiniMap))},dependencies:[ef,uo,Hh,F5e],styles:[`.minimap .minimap-background{fill:#0000001a}.minimap .minimap-drag{fill:#0003;stroke:#fff;stroke-width:1px;stroke-dasharray:2px;stroke-dashoffset:2px;cursor:pointer}.minimap .minimap-drag.panning{fill:#0000004d}.minimap .minimap-nodes{opacity:.5;pointer-events:none}.graph{-webkit-user-select:none;user-select:none}.graph .edge{stroke:#666;fill:none}.graph .edge .edge-label{stroke:none;font-size:12px;fill:#251e1e}.graph .panning-rect{fill:#0000;cursor:move}.graph .node-group.old-node{transition:transform .5s ease-in-out}.graph .node-group .node:focus{outline:none}.graph .compound-node rect{opacity:.5}.graph .cluster rect{opacity:.2}
`],encapsulation:2,data:{animation:[aO("animationState",[cO(":enter",[GC({opacity:0}),lO("500ms 100ms",GC({opacity:1}))])])]},changeDetection:0})}return lj([P5e(500)],n.prototype,"updateMinimap",null),n})(),z5e=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=yt({type:n});static \u0275inj=bt({providers:[Jde],imports:[$v]})}return n})(),eue=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=yt({type:n});static \u0275inj=bt({imports:[$v,z5e]})}return n})();var X_=class n{constructor(t,e){this.analysisContextService=t;this.submissionLabelingService=e}displayScoreType=Ue("SEMANTIC");minSimilarityToInclude=Ue(.6);clusters=Ri(()=>this.analysisContextService.getReport()()?this.computeConnectedComponents():[]);submissionClusterMap=Ri(()=>{let t={};return this.clusters().forEach(e=>{e.submissions.forEach(i=>{t[i.id]=e.id})}),t});setMinPercentageSimilarityToInclude(t){this.minSimilarityToInclude.set(t/100)}getClusterForSubmission(t){let e=t.submission,i=this.submissionClusterMap()[e.id];return this.clusters().find(o=>o.id===i)}computeConnectedComponents(){let t=this.analysisContextService.getReport()();if(t){let e=Array.from(t.submissions.values()),i=this.applyPairsFiltering(t.pairs,this.minSimilarityToInclude()),o={},r=new Set;e.forEach(a=>{o[a.id]=new Set}),i.forEach(a=>{o[a.firstId].add(a.secondId),o[a.secondId].add(a.firstId)});let s=[];for(let a of e){let l=this.findComponentWithDfs(a.id,o,r);l.length>0&&s.push({id:this.getUniqueId(2),submissions:l.map(c=>t.submissions.get(c))})}return s}return[]}findComponentWithDfs(t,e,i){let o=[],r=[t];for(;r.length>0;){let s=r.pop();if(s){if(i.has(s))continue;i.add(s),o.push(s),e[s].forEach(a=>r.push(a))}}return o}createLinks(){let t=this.analysisContextService.getReport()();if(t){let e=t.pairs;return this.applyPairsFiltering(e,this.minSimilarityToInclude()).map(i=>({id:this.getLinkId(i.id),source:this.getNodeIdFromSubmission(i.firstId),target:this.getNodeIdFromSubmission(i.secondId)}))}return[]}applyPairsFiltering(t,e){return Array.from(t.values()).filter(i=>{let o=this.displayScoreType(),r=null;if(o==="SEM&JAC"){let s=Ut.getScoreByType(i,"SEMANTIC"),a=Ut.getScoreByType(i,"JACCARD");r=s??a}else r=Ut.getScoreByType(i,o);return this.displayScoreType()==="META"?r&&r.score===1:r&&r.score>=e})}createNodes(){let t=this.analysisContextService.getReport()();if(t){let e=t.submissions,i={};return Array.from(e.values()).sort((o,r)=>o.fileData.submitter.localeCompare(r.fileData.submitter)).map(o=>({id:this.getNodeIdFromSubmission(o.id),label:this.submissionLabelingService.getSubmissionLabel(o,i),submission:o}))}return[]}getLinkId(t){return`link_${t}`}getNodeIdFromSubmission(t){return`node_${t.toFixed(0)}`}getUniqueId(t){let e=[];for(let i=0;i<t;i++){let o=((1+Math.random())*65536|0).toString(16).substring(1);e.push(o)}return e.join("-")}getDisplayScoreType(){return this.displayScoreType()}setDisplayScoreType(t){this.displayScoreType.set(t)}static \u0275fac=function(e){return new(e||n)(Je(jt),Je(__))};static \u0275prov=se({token:n,factory:n.\u0275fac,providedIn:"root"})};function H5e(n,t){if(n&1&&(gi(),w(0,"svg")(1,"g",16),Y(2,"circle",17),x()()),n&2){let e=t.$implicit;D(),z("matTooltip",e.label),D(),ke("fill",e.data.color)}}function V5e(n,t){if(n&1){let e=Ft();w(0,"div",14)(1,"mat-slider",18)(2,"input",19,2),de("change",function(){et(e);let o=X();return tt(o.updateLinks())}),ka("ngModelChange",function(o){et(e);let r=X();return Ma(r.minPercentageSimilarityToInclude,o)||(r.minPercentageSimilarityToInclude=o),tt(o)}),x()(),w(4,"p"),P(5," Minim\xE1lna po\u017Eadovan\xE1 podobnos\u0165 na pridanie spojenia uzlov "),x()()}if(n&2){let e=X();D(),z("min",0)("max",100)("step",1)("discrete",!0)("showTickMarks",!1),D(),Ea("ngModel",e.minPercentageSimilarityToInclude)}}function W5e(n,t){n&1&&(w(0,"p",15),P(1,"Pri vybranej miere podobnosti, nie je mo\u017En\xE9 voli\u0165 stupe\u0148 podobnosti."),x())}var SA=class n{constructor(t,e){this.submissionGraphService=t;this.router=e}graphComponent;zoomToFitSubject=new De;dialog=y(Gc);graphSimulation=B_().force("charge",H_().strength(-550)).force("collide",F_(5)).force("link",z_().id(t=>t.id).distance(()=>150).strength(.75)).alphaDecay(.03);d3Settings={force:this.graphSimulation,forceLink:this.graphSimulation.force("link")};minPercentageSimilarityToInclude=60;onNodeSelect(t){this.openNavigationDialog(t)}openNavigationDialog(t){this.dialog.open(m_,{data:{title:"Zvo\u013Ete akciu nad "+t.label,options:[{label:"Otvori\u0165 inform\xE1cie o odovzdan\xED",value:0},{label:"Otvori\u0165 inform\xE1cie o zhluku",value:1}]}}).afterClosed().pipe(qs(i=>i!==void 0?Ve(i):Ca(()=>new Error("Cancel graph node action")))).subscribe({next:i=>{if(i==0&&this.router.navigate(["/submissions",t.submission.id]),i==1){let o=this.submissionGraphService.getClusterForSubmission(t).id;this.router.navigate(["/clusters",o])}},error:()=>{}})}zoomToFit(){this.zoomToFitSubject.next({autoCenter:!1})}ngAfterViewInit(){this.graphComponent.nodes=this.submissionGraphService.createNodes(),this.graphComponent.links=this.submissionGraphService.createLinks();let t=new ax;t.settings=this.d3Settings,this.graphComponent.layout=t,this.graphComponent.showMiniMap=!0,this.graphComponent.draggingEnabled=!1,setTimeout(()=>{this.graphSimulation.nodes().forEach(e=>{e.fx=e.x,e.fy=e.y}),this.graphSimulation.alpha(0).stop(),this.graphSimulation.stop()},5e3)}updateLinks(){this.submissionGraphService.setMinPercentageSimilarityToInclude(this.minPercentageSimilarityToInclude),this.graphComponent.links=this.submissionGraphService.createLinks(),this.graphComponent.nodes=this.submissionGraphService.createNodes(),this.graphComponent.update()}changeScoreType(t){this.submissionGraphService.setDisplayScoreType(t),this.graphComponent.links=this.submissionGraphService.createLinks(),this.graphComponent.nodes=this.submissionGraphService.createNodes(),this.graphComponent.update()}static \u0275fac=function(e){return new(e||n)(J(X_),J(pi))};static \u0275cmp=Z({type:n,selectors:[["app-submission-graph-page"]],viewQuery:function(e,i){if(e&1&&st(CA,5),e&2){let o;fe(o=ge())&&(i.graphComponent=o.first)}},decls:25,vars:4,consts:[["nodeTemplate",""],["select",""],["slider",""],["title","Graf","subtitle","",3,"isTitleCentered"],[1,"chart-container",3,"select","zoomToFit$"],[1,"toolbar-horizontal"],[1,"picker-container"],["appearance","outline"],[3,"selectionChange","value"],["value","META"],["value","JACCARD"],["value","SEMANTIC"],["value","SEM&JAC"],["mat-raised-button","",3,"click"],[1,"slider-container"],[2,"width","200px"],[1,"node",3,"matTooltip"],["r","15","cx","15","cy","15"],[3,"min","max","step","discrete","showTickMarks"],["matSliderThumb","",3,"change","ngModelChange","ngModel"]],template:function(e,i){if(e&1){let o=Ft();w(0,"app-content-container")(1,"app-surface",3)(2,"ngx-graph",4),de("select",function(s){return et(o),tt(i.onNodeSelect(s))}),ee(3,H5e,3,2,"ng-template",null,0,wh),x()(),w(5,"app-floating-toolbar")(6,"div",5)(7,"div",6)(8,"mat-form-field",7)(9,"mat-label"),P(10,"Mieru podobnosti"),x(),w(11,"mat-select",8,1),de("selectionChange",function(){et(o);let s=oo(12);return tt(i.changeScoreType(s.value))}),w(13,"mat-option",9),P(14," Podobnos\u0165 autorov (meta\xFAdaje) "),x(),w(15,"mat-option",10),P(16," Jaccardov koeficient (slovn\xE9 n-gramy) "),x(),w(17,"mat-option",11),P(18," Semantick\xE1 podobnos\u0165 "),x(),w(19,"mat-option",12),P(20," Semantick\xE1 podobnos\u0165 alebo Jaccardov koeficient "),x()()(),w(21,"button",13),de("click",function(){return et(o),tt(i.zoomToFit())}),P(22," Pribl\xED\u017Ei\u0165 a vycentrova\u0165 "),x()(),ee(23,V5e,6,6,"div",14)(24,W5e,2,0,"p",15),x()()()}e&2&&(D(),z("isTitleCentered",!0),D(),z("zoomToFit$",i.zoomToFitSubject),D(9),z("value",i.submissionGraphService.getDisplayScoreType()),D(12),Xe(i.submissionGraphService.getDisplayScoreType()!=="META"?23:24))},dependencies:[eue,CA,On,Rn,ha,Tn,$a,Wk,ow,Zn,ns,os,Rs,Fo,zo,Yc,Sr],styles:[".chart-container[_ngcontent-%COMP%]{box-shadow:0 2px 4px -1px #0003,0 4px 5px #00000024,0 1px 10px #0000001f;min-height:80vh;border-radius:var(--mat-sys-corner-medium)}.toolbar-horizontal[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:2.5rem;flex-wrap:wrap;padding:1rem}.picker-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem;min-width:320px}.slider-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem;width:300px}p[_ngcontent-%COMP%]{font:var(--mat-sys-body-medium);color:var(--mat-sys-on-surface-variant);margin:0}.node[_ngcontent-%COMP%]{cursor:pointer}"]})};var DA=class n{constructor(t,e,i,o,r){this.similarityHeatmapService=t;this.analysisContextService=e;this.submissionsGraphService=i;this.router=o;this.route=r;cn(()=>{let s=this.submissionsGraphService.clusters().find(a=>a.id===this.clusterId());s==null?this.router.navigate(["/graph"]):this.clusterSubmissions=s.submissions})}heatMap;clusterId=Ue(null);clusterSubmissions=[];submissionsMapSource=Ri(()=>{let t=new Map;return this.clusterSubmissions.forEach(e=>{t.set(e.id,e)}),t});pairsMapSource=Ri(()=>{let t=this.analysisContextService.getReport()(),e=new Map;if(t){let i=this.clusterSubmissions.filter(r=>!r.indexed&&r.pairIds.length>0).flatMap(r=>r.pairIds),o=new Set(this.clusterSubmissions.map(r=>r.id));for(let r of i){let[s,a]=r.split("_");o.has(Number(s))&&o.has(Number(a))&&e.set(r,t.pairs.get(r))}}return e});pairsSource=Ri(()=>Array.from(this.pairsMapSource().values()));ngAfterViewInit(){this.heatMap.selectedPairIdEmitter.subscribe(t=>this.loadPair(t)),this.heatMap.unknownPairEmitter.subscribe(t=>this.loadDiff(t))}ngOnInit(){this.route.paramMap.subscribe(t=>{this.clusterId.set(t.get("id"))})}getNotIndexedSubmissionsFilterSet(){return new Set(this.clusterSubmissions.filter(t=>!t.indexed).map(t=>t.id))}getIndexedSubmissionsFilterSet(){return new Set(this.clusterSubmissions.filter(t=>t.indexed).map(t=>t.id))}loadPair(t){this.router.navigate(["/pairs",t])}loadDiff(t){let e=t.split("_");this.router.navigate(["/diff",e[0],e[1]])}changeScoreType(t){this.similarityHeatmapService.setDisplayScoreType(t),this.heatMap.setPageY(0),this.heatMap.setPageX(0),this.heatMap.updateSeries()}export(){this.similarityHeatmapService.export()}static \u0275fac=function(e){return new(e||n)(J(Qu),J(jt),J(X_),J(pi),J(Lo))};static \u0275cmp=Z({type:n,selectors:[["app-cluster-view-page"]],viewQuery:function(e,i){if(e&1&&st(Ju,5),e&2){let o;fe(o=ge())&&(i.heatMap=o.first)}},decls:28,vars:18,consts:[["select",""],["title","Dvojice odovzdan\xED","subtitle","",3,"isTitleCentered","isContentCentered"],[3,"pairsSource","contextPrefix"],["title","Teplotn\xE1 mapa podobnosti","subtitle","",3,"isTitleCentered","isContentCentered"],[3,"pairsMapSource","submissionsMapSource"],["title","Odovzdania patriace do zhluku","subtitle","Tabu\u013Eka obsahuje prav\xE9 analyzovan\xE9 odovzdania",3,"isContentCentered"],[3,"limit","submissionsFilterSet","enablePagination"],["title","Odovzdania patriace do zhluku","subtitle","Tabu\u013Eka obsahuje star\xE9 odovzdania",3,"isContentCentered"],[3,"limit","showNotIndexedOnly","submissionsFilterSet","enablePagination"],["appearance","outline",2,"width","320px"],[3,"selectionChange","value"],["value","META"],["value","JACCARD"],["value","SEMANTIC"],["value","SEM&JAC"],["mat-raised-button","",2,"max-width","250px",3,"click"]],template:function(e,i){if(e&1){let o=Ft();w(0,"app-content-container")(1,"app-surface",1),Y(2,"app-pairs-table",2),x(),w(3,"app-surface",3),Y(4,"app-similarity-heatmap",4),x(),w(5,"app-surface",5),Y(6,"app-submissions-table",6),x(),w(7,"app-surface",7),Y(8,"app-submissions-table",8),x(),w(9,"app-floating-toolbar")(10,"mat-form-field",9)(11,"mat-label"),P(12,"Miera podobnosti pre zobrazenie na teplotnej mape"),x(),w(13,"mat-select",10,0),de("selectionChange",function(){et(o);let s=oo(14);return tt(i.changeScoreType(s.value))}),w(15,"mat-option",11),P(16," Podobnos\u0165 autorov (meta\xFAdaje) "),x(),w(17,"mat-option",12),P(18," Jaccardov koeficient (slovn\xE9 n-gramy) "),x(),w(19,"mat-option",13),P(20," Semantick\xE1 podobnos\u0165 "),x(),w(21,"mat-option",14),P(22," Semantick\xE1 podobnos\u0165 alebo Jaccardov koeficient "),x()()(),w(23,"button",15),de("click",function(){return et(o),tt(i.export())}),w(24,"mat-icon"),P(25,"download"),x(),w(26,"p"),P(27," Stiahnu\u0165 ako csv "),x()()()()}e&2&&(D(),z("isTitleCentered",!0)("isContentCentered",!1),D(),z("pairsSource",i.pairsSource)("contextPrefix","cluster-view-page-"+i.clusterId()||"none"),D(),z("isTitleCentered",!0)("isContentCentered",!0),D(),z("pairsMapSource",i.pairsMapSource)("submissionsMapSource",i.submissionsMapSource),D(),z("isContentCentered",!1),D(),z("limit",null)("submissionsFilterSet",i.getNotIndexedSubmissionsFilterSet())("enablePagination",!0),D(),z("isContentCentered",!1),D(),z("limit",null)("showNotIndexedOnly",!1)("submissionsFilterSet",i.getIndexedSubmissionsFilterSet())("enablePagination",!0),D(5),z("value",i.similarityHeatmapService.getDisplayScoreType()))},dependencies:[On,Rn,Zu,Ju,gu,Sr,Yc,Fo,zo,ha,Tn,An],styles:["app-similarity-heatmap[_ngcontent-%COMP%]{display:flex;width:100%;flex-direction:column;gap:8px}"]})};var IA=class n{header="";static \u0275fac=function(e){return new(e||n)};static \u0275cmp=Z({type:n,selectors:[["app-infinite-load-card"]],inputs:{header:"header"},decls:8,vars:1,consts:[[1,"always-on-top-card","medium-card","base-card"],[1,"spinner-container"]],template:function(e,i){e&1&&(w(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title")(3,"h1"),P(4),x()()(),w(5,"mat-card-content")(6,"div",1),Y(7,"mat-spinner"),x()()()),e&2&&(D(4),xe(i.header))},dependencies:[ua,Ku,nc,qk,$u],styles:[".always-on-top-card[_ngcontent-%COMP%]{align-self:center;justify-self:center;position:absolute;z-index:10;top:50%;left:50%;transform:translate(-50%,-50%)}.spinner-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}",".medium-card[_ngcontent-%COMP%]{max-width:350px;min-width:200px}.large-card[_ngcontent-%COMP%]{max-width:400px;min-width:200px}.extra-large-card[_ngcontent-%COMP%]{max-width:450px;min-width:200px}.base-card[_ngcontent-%COMP%]{margin:auto;padding:16px}p[_ngcontent-%COMP%]{font:var(--mat-sys-body-medium);color:var(--mat-sys-on-surface-variant);margin:0}h3[_ngcontent-%COMP%]{font:var(--mat-sys-title-small);color:var(--mat-sys-on-surface);margin:0}h1[_ngcontent-%COMP%]{font:var(--mat-sys-title-large);color:var(--mat-sys-on-surface);margin:0}.text-frame[_ngcontent-%COMP%]{width:100%;overflow-y:hidden;display:flex;flex-direction:column;justify-content:center;align-content:start}.text-center[_ngcontent-%COMP%]{align-items:center}.text-frame[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font:var(--mat-sys-title-large);color:var(--mat-sys-on-surface);margin:0}.text-frame[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font:var(--mat-sys-body-medium);color:var(--mat-sys-on-surface-variant);margin:0}.header-with-actions[_ngcontent-%COMP%]{display:flex;width:100%;flex-direction:row;align-items:center;justify-content:space-between}.header-with-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{justify-self:end}.header-with-actions[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{flex-grow:1;text-align:center;margin:0}.header-with-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:auto}.info-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:24px}.info-list[_ngcontent-%COMP%] > mat-list-item[_ngcontent-%COMP%]{padding-left:0;padding-right:0;gap:16px}.card-group[_ngcontent-%COMP%]{display:flex;max-width:700px;min-width:300px;flex-direction:column;padding:16px;gap:24px;border-radius:var(--mat-sys-corner-extra-large);background-color:var(--mat-sys-surface-container-high)}.card-flex-box[_ngcontent-%COMP%]{display:flex;max-width:700px;min-width:300px;flex-direction:row;justify-content:center;flex-wrap:wrap;gap:16px}.horizontal-card-group-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:fit-content;height:100%;padding:16px;gap:8px;border-radius:var(--mat-sys-corner-extra-large);background-color:var(--mat-sys-surface-container-high)}.horizontal-card-group[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:32px}@media (max-width: 1250px){.horizontal-card-group[_ngcontent-%COMP%]{flex-wrap:wrap}}"]})};function j5e(n,t){if(n&1){let e=Ft();w(0,"ngx-monaco-diff-editor",3),de("onInit",function(o){et(e);let r=X();return tt(r.initEditor(o))}),x()}if(n&2){let e=X();z("options",e.editorOptions)("originalModel",e.firstModel())("modifiedModel",e.secondModel())}}function U5e(n,t){n&1&&Y(0,"app-infinite-load-card",4)}var EA=class n{editorOptions={theme:"vs-white",language:"plaintext",readOnly:!0,wordWrap:"on",wrappingIndent:"same",wordWrapBreakBeforeCharacters:"{([",wordWrapBreakAfterCharacters:" 	})",originalEditable:!1,modifiedEditable:!1};first;second;editor=Ue(null);isLoading=Ue(!1);firstModel=Ue(void 0);secondModel=Ue(void 0);initEditor(t){this.editor()||(this.editor.set(t),t.onDidUpdateDiff(()=>{this.isLoading.set(!1)}))}ngOnDestroy(){let t=this.editor();t&&t.dispose()}ngOnChanges(){this.first?.content&&this.second?.content&&(this.isLoading.set(!0),this.firstModel.set({code:this.first.content,language:"plaintext"}),this.secondModel.set({code:this.second.content,language:"plaintext"}))}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=Z({type:n,selectors:[["app-submission-diff-editor"]],inputs:{first:"first",second:"second"},features:[fi],decls:3,vars:2,consts:[[1,"editor"],[3,"options","originalModel","modifiedModel"],["header","Dokumenty sa porovn\xE1vaj\xFA",4,"ngIf"],[3,"onInit","options","originalModel","modifiedModel"],["header","Dokumenty sa porovn\xE1vaj\xFA"]],template:function(e,i){e&1&&(w(0,"div",0),ee(1,j5e,1,3,"ngx-monaco-diff-editor",1)(2,U5e,1,0,"app-infinite-load-card",2),x()),e&2&&(D(),Xe(i.firstModel()&&i.secondModel()?1:-1),D(),z("ngIf",i.isLoading()))},dependencies:[s9,IA,uo],styles:[".editor[_ngcontent-%COMP%]{min-height:50vh;height:100%;width:100%;min-width:50%}ngx-monaco-diff-editor[_ngcontent-%COMP%]{width:100%;height:100%}"]})};var iue={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"};var q5e=["panel"],G5e=["*"];function $5e(n,t){if(n&1&&(w(0,"div",1,0),Fe(2),x()),n&2){let e=t.id,i=X();Ao(i._classList),Se("mat-mdc-autocomplete-visible",i.showPanel)("mat-mdc-autocomplete-hidden",!i.showPanel)("mat-autocomplete-panel-animations-enabled",!i._animationsDisabled)("mat-primary",i._color==="primary")("mat-accent",i._color==="accent")("mat-warn",i._color==="warn"),z("id",i.id),ke("aria-label",i.ariaLabel||null)("aria-labelledby",i._getPanelAriaLabelledby(e))}}var YW=class{source;option;constructor(t,e){this.source=t,this.option=e}},nue=new ae("mat-autocomplete-default-options",{providedIn:"root",factory:K5e});function K5e(){return{autoActiveFirstOption:!1,autoSelectActiveOption:!1,hideSingleSelectionIndicator:!1,requireSelection:!1,hasBackdrop:!1}}var oue=(()=>{class n{_changeDetectorRef=y(Gt);_elementRef=y(Oe);_defaults=y(nue);_animationsDisabled=y(Ei,{optional:!0})==="NoopAnimations";_activeOptionChanges=_n.EMPTY;_keyManager;showPanel=!1;get isOpen(){return this._isOpen&&this.showPanel}_isOpen=!1;_latestOpeningTrigger;_setColor(e){this._color=e,this._changeDetectorRef.markForCheck()}_color;template;panel;options;optionGroups;ariaLabel;ariaLabelledby;displayWith=null;autoActiveFirstOption;autoSelectActiveOption;requireSelection;panelWidth;disableRipple;optionSelected=new Le;opened=new Le;closed=new Le;optionActivated=new Le;set classList(e){this._classList=e,this._elementRef.nativeElement.className=""}_classList;get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(e){this._hideSingleSelectionIndicator=e,this._syncParentProperties()}_hideSingleSelectionIndicator;_syncParentProperties(){if(this.options)for(let e of this.options)e._changeDetectorRef.markForCheck()}id=y(Bn).getId("mat-autocomplete-");inertGroups;constructor(){let e=y(Wt);this.inertGroups=e?.SAFARI||!1,this.autoActiveFirstOption=!!this._defaults.autoActiveFirstOption,this.autoSelectActiveOption=!!this._defaults.autoSelectActiveOption,this.requireSelection=!!this._defaults.requireSelection,this._hideSingleSelectionIndicator=this._defaults.hideSingleSelectionIndicator??!1}ngAfterContentInit(){this._keyManager=new Xh(this.options).withWrap().skipPredicate(this._skipPredicate),this._activeOptionChanges=this._keyManager.change.subscribe(e=>{this.isOpen&&this.optionActivated.emit({source:this,option:this.options.toArray()[e]||null})}),this._setVisibility()}ngOnDestroy(){this._keyManager?.destroy(),this._activeOptionChanges.unsubscribe()}_setScrollTop(e){this.panel&&(this.panel.nativeElement.scrollTop=e)}_getScrollTop(){return this.panel?this.panel.nativeElement.scrollTop:0}_setVisibility(){this.showPanel=!!this.options?.length,this._changeDetectorRef.markForCheck()}_emitSelectEvent(e){let i=new YW(this,e);this.optionSelected.emit(i)}_getPanelAriaLabelledby(e){if(this.ariaLabel)return null;let i=e?e+" ":"";return this.ariaLabelledby?i+this.ariaLabelledby:e}_skipPredicate(){return!1}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Z({type:n,selectors:[["mat-autocomplete"]],contentQueries:function(i,o,r){if(i&1&&(xt(r,Sr,5),xt(r,eg,5)),i&2){let s;fe(s=ge())&&(o.options=s),fe(s=ge())&&(o.optionGroups=s)}},viewQuery:function(i,o){if(i&1&&(st(vo,7),st(q5e,5)),i&2){let r;fe(r=ge())&&(o.template=r.first),fe(r=ge())&&(o.panel=r.first)}},hostAttrs:[1,"mat-mdc-autocomplete"],inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],displayWith:"displayWith",autoActiveFirstOption:[2,"autoActiveFirstOption","autoActiveFirstOption",Ke],autoSelectActiveOption:[2,"autoSelectActiveOption","autoSelectActiveOption",Ke],requireSelection:[2,"requireSelection","requireSelection",Ke],panelWidth:"panelWidth",disableRipple:[2,"disableRipple","disableRipple",Ke],classList:[0,"class","classList"],hideSingleSelectionIndicator:[2,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",Ke]},outputs:{optionSelected:"optionSelected",opened:"opened",closed:"closed",optionActivated:"optionActivated"},exportAs:["matAutocomplete"],features:[At([{provide:Jf,useExisting:n}])],ngContentSelectors:G5e,decls:1,vars:0,consts:[["panel",""],["role","listbox",1,"mat-mdc-autocomplete-panel","mdc-menu-surface","mdc-menu-surface--open",3,"id"]],template:function(i,o){i&1&&(wt(),ee(0,$5e,3,17,"ng-template"))},styles:[`div.mat-mdc-autocomplete-panel{width:100%;max-height:256px;visibility:hidden;transform-origin:center top;overflow:auto;padding:8px 0;box-sizing:border-box;position:static;border-radius:var(--mat-autocomplete-container-shape, var(--mat-sys-corner-extra-small));box-shadow:var(--mat-autocomplete-container-elevation-shadow, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12));background-color:var(--mat-autocomplete-background-color, var(--mat-sys-surface-container))}@media(forced-colors: active){div.mat-mdc-autocomplete-panel{outline:solid 1px}}.cdk-overlay-pane:not(.mat-mdc-autocomplete-panel-above) div.mat-mdc-autocomplete-panel{border-top-left-radius:0;border-top-right-radius:0}.mat-mdc-autocomplete-panel-above div.mat-mdc-autocomplete-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:center bottom}div.mat-mdc-autocomplete-panel.mat-mdc-autocomplete-visible{visibility:visible}div.mat-mdc-autocomplete-panel.mat-mdc-autocomplete-hidden{visibility:hidden;pointer-events:none}@keyframes _mat-autocomplete-enter{from{opacity:0;transform:scaleY(0.8)}to{opacity:1;transform:none}}.mat-autocomplete-panel-animations-enabled{animation:_mat-autocomplete-enter 120ms cubic-bezier(0, 0, 0.2, 1)}mat-autocomplete{display:none}
`],encapsulation:2,changeDetection:0})}return n})();var Y5e={provide:qa,useExisting:pr(()=>XW),multi:!0};var X5e=new ae("mat-autocomplete-scroll-strategy",{providedIn:"root",factory:()=>{let n=y(ar);return()=>n.scrollStrategies.reposition()}});var XW=(()=>{class n{_environmentInjector=y(kr);_element=y(Oe);_overlay=y(ar);_viewContainerRef=y(io);_zone=y(Ye);_changeDetectorRef=y(Gt);_dir=y(en,{optional:!0});_formField=y(mu,{optional:!0,host:!0});_viewportRuler=y(ra);_scrollStrategy=y(X5e);_renderer=y(Li);_defaults=y(nue,{optional:!0});_overlayRef;_portal;_componentDestroyed=!1;_initialized=new De;_keydownSubscription;_outsideClickSubscription;_cleanupWindowBlur;_previousValue;_valueOnAttach;_valueOnLastKeydown;_positionStrategy;_manuallyFloatingLabel=!1;_closingActionsSubscription;_viewportSubscription=_n.EMPTY;_breakpointObserver=y(kb);_handsetLandscapeSubscription=_n.EMPTY;_canOpenOnNextFocus=!0;_valueBeforeAutoSelection;_pendingAutoselectedOption;_closeKeyEventStream=new De;_windowBlurHandler=()=>{this._canOpenOnNextFocus=this.panelOpen||!this._hasFocus()};_onChange=()=>{};_onTouched=()=>{};autocomplete;position="auto";connectedTo;autocompleteAttribute="off";autocompleteDisabled;constructor(){}_aboveClass="mat-mdc-autocomplete-panel-above";ngAfterViewInit(){this._initialized.next(),this._initialized.complete(),this._cleanupWindowBlur=this._renderer.listen("window","blur",this._windowBlurHandler)}ngOnChanges(e){e.position&&this._positionStrategy&&(this._setStrategyPositions(this._positionStrategy),this.panelOpen&&this._overlayRef.updatePosition())}ngOnDestroy(){this._cleanupWindowBlur?.(),this._handsetLandscapeSubscription.unsubscribe(),this._viewportSubscription.unsubscribe(),this._componentDestroyed=!0,this._destroyPanel(),this._closeKeyEventStream.complete(),this._clearFromModal()}get panelOpen(){return this._overlayAttached&&this.autocomplete.showPanel}_overlayAttached=!1;openPanel(){this._openPanelInternal()}closePanel(){this._resetLabel(),this._overlayAttached&&(this.panelOpen&&this._zone.run(()=>{this.autocomplete.closed.emit()}),this.autocomplete._latestOpeningTrigger===this&&(this.autocomplete._isOpen=!1,this.autocomplete._latestOpeningTrigger=null),this._overlayAttached=!1,this._pendingAutoselectedOption=null,this._overlayRef&&this._overlayRef.hasAttached()&&(this._overlayRef.detach(),this._closingActionsSubscription.unsubscribe()),this._updatePanelState(),this._componentDestroyed||this._changeDetectorRef.detectChanges(),this._trackedModal&&tu(this._trackedModal,"aria-owns",this.autocomplete.id))}updatePosition(){this._overlayAttached&&this._overlayRef.updatePosition()}get panelClosingActions(){return nn(this.optionSelections,this.autocomplete._keyManager.tabOut.pipe(ii(()=>this._overlayAttached)),this._closeKeyEventStream,this._getOutsideClickStream(),this._overlayRef?this._overlayRef.detachments().pipe(ii(()=>this._overlayAttached)):Ve()).pipe(rt(e=>e instanceof Qf?e:null))}optionSelections=Sa(()=>{let e=this.autocomplete?this.autocomplete.options:null;return e?e.changes.pipe(Ji(e),En(()=>nn(...e.map(i=>i.onSelectionChange)))):this._initialized.pipe(En(()=>this.optionSelections))});get activeOption(){return this.autocomplete&&this.autocomplete._keyManager?this.autocomplete._keyManager.activeItem:null}_getOutsideClickStream(){return new mr(e=>{let i=r=>{let s=sr(r),a=this._formField?this._formField.getConnectedOverlayOrigin().nativeElement:null,l=this.connectedTo?this.connectedTo.elementRef.nativeElement:null;this._overlayAttached&&s!==this._element.nativeElement&&!this._hasFocus()&&(!a||!a.contains(s))&&(!l||!l.contains(s))&&this._overlayRef&&!this._overlayRef.overlayElement.contains(s)&&e.next(r)},o=[this._renderer.listen("document","click",i),this._renderer.listen("document","auxclick",i),this._renderer.listen("document","touchend",i)];return()=>{o.forEach(r=>r())}})}writeValue(e){Promise.resolve(null).then(()=>this._assignOptionValue(e))}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this._element.nativeElement.disabled=e}_handleKeydown(e){let i=e.keyCode,o=Xn(e);if(i===27&&!o&&e.preventDefault(),this._valueOnLastKeydown=this._element.nativeElement.value,this.activeOption&&i===13&&this.panelOpen&&!o)this.activeOption._selectViaInteraction(),this._resetActiveItem(),e.preventDefault();else if(this.autocomplete){let r=this.autocomplete._keyManager.activeItem,s=i===38||i===40;i===9||s&&!o&&this.panelOpen?this.autocomplete._keyManager.onKeydown(e):s&&this._canOpen()&&this._openPanelInternal(this._valueOnLastKeydown),(s||this.autocomplete._keyManager.activeItem!==r)&&(this._scrollToOption(this.autocomplete._keyManager.activeItemIndex||0),this.autocomplete.autoSelectActiveOption&&this.activeOption&&(this._pendingAutoselectedOption||(this._valueBeforeAutoSelection=this._valueOnLastKeydown),this._pendingAutoselectedOption=this.activeOption,this._assignOptionValue(this.activeOption.value)))}}_handleInput(e){let i=e.target,o=i.value;if(i.type==="number"&&(o=o==""?null:parseFloat(o)),this._previousValue!==o){if(this._previousValue=o,this._pendingAutoselectedOption=null,(!this.autocomplete||!this.autocomplete.requireSelection)&&this._onChange(o),!o)this._clearPreviousSelectedOption(null,!1);else if(this.panelOpen&&!this.autocomplete.requireSelection){let r=this.autocomplete.options?.find(s=>s.selected);if(r){let s=this._getDisplayValue(r.value);o!==s&&r.deselect(!1)}}if(this._canOpen()&&this._hasFocus()){let r=this._valueOnLastKeydown??this._element.nativeElement.value;this._valueOnLastKeydown=null,this._openPanelInternal(r)}}}_handleFocus(){this._canOpenOnNextFocus?this._canOpen()&&(this._previousValue=this._element.nativeElement.value,this._attachOverlay(this._previousValue),this._floatLabel(!0)):this._canOpenOnNextFocus=!0}_handleClick(){this._canOpen()&&!this.panelOpen&&this._openPanelInternal()}_hasFocus(){return Zd()===this._element.nativeElement}_floatLabel(e=!1){this._formField&&this._formField.floatLabel==="auto"&&(e?this._formField._animateAndLockLabel():this._formField.floatLabel="always",this._manuallyFloatingLabel=!0)}_resetLabel(){this._manuallyFloatingLabel&&(this._formField&&(this._formField.floatLabel="auto"),this._manuallyFloatingLabel=!1)}_subscribeToClosingActions(){let e=new mr(o=>{To(()=>{o.next()},{injector:this._environmentInjector})}),i=this.autocomplete.options?.changes.pipe(on(()=>this._positionStrategy.reapplyLastPosition()),uj(0))??Ve();return nn(e,i).pipe(En(()=>this._zone.run(()=>{let o=this.panelOpen;return this._resetActiveItem(),this._updatePanelState(),this._changeDetectorRef.detectChanges(),this.panelOpen&&this._overlayRef.updatePosition(),o!==this.panelOpen&&(this.panelOpen?this._emitOpened():this.autocomplete.closed.emit()),this.panelClosingActions})),_o(1)).subscribe(o=>this._setValueAndClose(o))}_emitOpened(){this.autocomplete.opened.emit()}_destroyPanel(){this._overlayRef&&(this.closePanel(),this._overlayRef.dispose(),this._overlayRef=null)}_getDisplayValue(e){let i=this.autocomplete;return i&&i.displayWith?i.displayWith(e):e}_assignOptionValue(e){let i=this._getDisplayValue(e);e==null&&this._clearPreviousSelectedOption(null,!1),this._updateNativeInputValue(i??"")}_updateNativeInputValue(e){this._formField?this._formField._control.value=e:this._element.nativeElement.value=e,this._previousValue=e}_setValueAndClose(e){let i=this.autocomplete,o=e?e.source:this._pendingAutoselectedOption;o?(this._clearPreviousSelectedOption(o),this._assignOptionValue(o.value),this._onChange(o.value),i._emitSelectEvent(o),this._element.nativeElement.focus()):i.requireSelection&&this._element.nativeElement.value!==this._valueOnAttach&&(this._clearPreviousSelectedOption(null),this._assignOptionValue(null),this._onChange(null)),this.closePanel()}_clearPreviousSelectedOption(e,i){this.autocomplete?.options?.forEach(o=>{o!==e&&o.selected&&o.deselect(i)})}_openPanelInternal(e=this._element.nativeElement.value){if(this._attachOverlay(e),this._floatLabel(),this._trackedModal){let i=this.autocomplete.id;wf(this._trackedModal,"aria-owns",i)}}_attachOverlay(e){this.autocomplete;let i=this._overlayRef;i?(this._positionStrategy.setOrigin(this._getConnectedElement()),i.updateSize({width:this._getPanelWidth()})):(this._portal=new Ll(this.autocomplete.template,this._viewContainerRef,{id:this._formField?.getLabelId()}),i=this._overlay.create(this._getOverlayConfig()),this._overlayRef=i,this._viewportSubscription=this._viewportRuler.change().subscribe(()=>{this.panelOpen&&i&&i.updateSize({width:this._getPanelWidth()})}),this._handsetLandscapeSubscription=this._breakpointObserver.observe(iue.HandsetLandscape).subscribe(r=>{r.matches?this._positionStrategy.withFlexibleDimensions(!0).withGrowAfterOpen(!0).withViewportMargin(8):this._positionStrategy.withFlexibleDimensions(!1).withGrowAfterOpen(!1).withViewportMargin(0)})),i&&!i.hasAttached()&&(i.attach(this._portal),this._valueOnAttach=e,this._valueOnLastKeydown=null,this._closingActionsSubscription=this._subscribeToClosingActions());let o=this.panelOpen;this.autocomplete._isOpen=this._overlayAttached=!0,this.autocomplete._latestOpeningTrigger=this,this.autocomplete._setColor(this._formField?.color),this._updatePanelState(),this._applyModalPanelOwnership(),this.panelOpen&&o!==this.panelOpen&&this._emitOpened()}_handlePanelKeydown=e=>{(e.keyCode===27&&!Xn(e)||e.keyCode===38&&Xn(e,"altKey"))&&(this._pendingAutoselectedOption&&(this._updateNativeInputValue(this._valueBeforeAutoSelection??""),this._pendingAutoselectedOption=null),this._closeKeyEventStream.next(),this._resetActiveItem(),e.stopPropagation(),e.preventDefault())};_updatePanelState(){if(this.autocomplete._setVisibility(),this.panelOpen){let e=this._overlayRef;this._keydownSubscription||(this._keydownSubscription=e.keydownEvents().subscribe(this._handlePanelKeydown)),this._outsideClickSubscription||(this._outsideClickSubscription=e.outsidePointerEvents().subscribe())}else this._keydownSubscription?.unsubscribe(),this._outsideClickSubscription?.unsubscribe(),this._keydownSubscription=this._outsideClickSubscription=null}_getOverlayConfig(){return new qc({positionStrategy:this._getOverlayPosition(),scrollStrategy:this._scrollStrategy(),width:this._getPanelWidth(),direction:this._dir??void 0,hasBackdrop:this._defaults?.hasBackdrop,backdropClass:this._defaults?.backdropClass,panelClass:this._defaults?.overlayPanelClass})}_getOverlayPosition(){let e=this._overlay.position().flexibleConnectedTo(this._getConnectedElement()).withFlexibleDimensions(!1).withPush(!1);return this._setStrategyPositions(e),this._positionStrategy=e,e}_setStrategyPositions(e){let i=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],o=this._aboveClass,r=[{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:o},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:o}],s;this.position==="above"?s=r:this.position==="below"?s=i:s=[...i,...r],e.withPositions(s)}_getConnectedElement(){return this.connectedTo?this.connectedTo.elementRef:this._formField?this._formField.getConnectedOverlayOrigin():this._element}_getPanelWidth(){return this.autocomplete.panelWidth||this._getHostWidth()}_getHostWidth(){return this._getConnectedElement().nativeElement.getBoundingClientRect().width}_resetActiveItem(){let e=this.autocomplete;if(e.autoActiveFirstOption){let i=-1;for(let o=0;o<e.options.length;o++)if(!e.options.get(o).disabled){i=o;break}e._keyManager.setActiveItem(i)}else e._keyManager.setActiveItem(-1)}_canOpen(){let e=this._element.nativeElement;return!e.readOnly&&!e.disabled&&!this.autocompleteDisabled}_scrollToOption(e){let i=this.autocomplete,o=oy(e,i.options,i.optionGroups);if(e===0&&o===1)i._setScrollTop(0);else if(i.panel){let r=i.options.toArray()[e];if(r){let s=r._getHostElement(),a=ry(s.offsetTop,s.offsetHeight,i._getScrollTop(),i.panel.nativeElement.offsetHeight);i._setScrollTop(a)}}}_trackedModal=null;_applyModalPanelOwnership(){let e=this._element.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!e)return;let i=this.autocomplete.id;this._trackedModal&&tu(this._trackedModal,"aria-owns",i),wf(e,"aria-owns",i),this._trackedModal=e}_clearFromModal(){if(this._trackedModal){let e=this.autocomplete.id;tu(this._trackedModal,"aria-owns",e),this._trackedModal=null}}static \u0275fac=function(i){return new(i||n)};static \u0275dir=me({type:n,selectors:[["input","matAutocomplete",""],["textarea","matAutocomplete",""]],hostAttrs:[1,"mat-mdc-autocomplete-trigger"],hostVars:7,hostBindings:function(i,o){i&1&&de("focusin",function(){return o._handleFocus()})("blur",function(){return o._onTouched()})("input",function(s){return o._handleInput(s)})("keydown",function(s){return o._handleKeydown(s)})("click",function(){return o._handleClick()}),i&2&&ke("autocomplete",o.autocompleteAttribute)("role",o.autocompleteDisabled?null:"combobox")("aria-autocomplete",o.autocompleteDisabled?null:"list")("aria-activedescendant",o.panelOpen&&o.activeOption?o.activeOption.id:null)("aria-expanded",o.autocompleteDisabled?null:o.panelOpen.toString())("aria-controls",o.autocompleteDisabled||!o.panelOpen||o.autocomplete==null?null:o.autocomplete.id)("aria-haspopup",o.autocompleteDisabled?null:"listbox")},inputs:{autocomplete:[0,"matAutocomplete","autocomplete"],position:[0,"matAutocompletePosition","position"],connectedTo:[0,"matAutocompleteConnectedTo","connectedTo"],autocompleteAttribute:[0,"autocomplete","autocompleteAttribute"],autocompleteDisabled:[2,"matAutocompleteDisabled","autocompleteDisabled",Ke]},exportAs:["matAutocompleteTrigger"],features:[At([Y5e]),fi]})}return n})();function Z5e(n,t){if(n&1&&(w(0,"div",3),Y(1,"app-submission-diff-editor",10),x()),n&2){let e=X();D(),z("first",e.first())("second",e.second())}}function Q5e(n,t){n&1&&(w(0,"p"),P(1,"Vyberte dva dokumenty, ktor\xE9 by ste chceli porovna\u0165"),x())}function J5e(n,t){if(n&1&&(w(0,"mat-option",8),P(1),x()),n&2){let e=t.$implicit;z("value",e),D(),lv(" ",e.fileData.submitter," [",e.fileData.filename,"] ")}}function eUe(n,t){if(n&1&&(w(0,"mat-option",8),P(1),x()),n&2){let e=t.$implicit;z("value",e),D(),lv(" ",e.fileData.submitter," [",e.fileData.filename,"] ")}}var lx=class n{constructor(t,e,i){this.changeDetector=t;this.analysisContextService=e;this.route=i;this.analysisContextService=e,cn(()=>{this.firstId()===null||this.secondId()===null||(this.isOldEditor=!0,this.changeDetector.detectChanges(),setTimeout(()=>{this.isOldEditor=!1;let o=this.analysisContextService.getReport()();if(!o)return;let r=o.submissions.get(this.firstId()),s=o.submissions.get(this.secondId());!r||!s||(this.first.set(r),this.second.set(s),this.updateFormControl&&(this.updateFormControl=!1,this.firstDocumentFormControl.setValue(r),this.secondDocumentFormControl.setValue(s)))},500))})}firstId=Ue(null);secondId=Ue(null);first=Ue(null);second=Ue(null);firstDocumentFormControl=new Qb(null);secondDocumentFormControl=new Qb(null);firstFilteredOptions;secondFilteredOptions;submissionOptions=Ri(()=>{let t=this.analysisContextService.getReport()();return t?Array.from(t.submissions.values()):[]});updateFormControl=!1;isOldEditor=!1;ngOnInit(){this.route.paramMap.subscribe(t=>{this.firstId.set(Number.parseInt(t.get("firstId"))),this.secondId.set(Number.parseInt(t.get("secondId"))),this.updateFormControl=!0}),this.firstDocumentFormControl.valueChanges.subscribe(t=>this.firstId.set(t!==null?t.id:null)),this.secondDocumentFormControl.valueChanges.subscribe(t=>this.secondId.set(t!==null?t.id:null)),this.firstFilteredOptions=this.firstDocumentFormControl.valueChanges.pipe(Ji(""),rt(t=>this.filter(t||""))),this.secondFilteredOptions=this.secondDocumentFormControl.valueChanges.pipe(Ji(""),rt(t=>this.filter(t||"")))}filter(t){if(typeof t!="string")return this.submissionOptions();let e=t.toLowerCase();return this.submissionOptions().filter(i=>{let o=i.fileData.submitter.toLowerCase().includes(e),r=i.fileData.filename.toLowerCase().includes(e);return o||r})}displaySubmission(t){return t?`${t?.fileData.submitter} [${t?.fileData.filename}]`:""}static \u0275fac=function(e){return new(e||n)(J(Gt),J(jt),J(Lo))};static \u0275cmp=Z({type:n,selectors:[["app-submissions-diff-view-page"]],decls:24,vars:13,consts:[["auto1","matAutocomplete"],["auto2","matAutocomplete"],["title","Rozdiel obsahu","subtitle","",3,"isContentCentered","isTitleCentered"],[1,"editor-container"],[1,"documents-form"],["appearance","outline"],["type","text","placeholder","Pick one","aria-label","Odovzdanie 1","matInput","",3,"formControl","matAutocomplete"],["autoActiveFirstOption","",3,"displayWith"],[3,"value"],["type","text","placeholder","Pick one","aria-label","Odovzdanie 2","matInput","",3,"formControl","matAutocomplete"],[3,"first","second"]],template:function(e,i){if(e&1&&(w(0,"app-content-container")(1,"app-surface",2),ee(2,Z5e,2,2,"div",3)(3,Q5e,2,0,"p"),x(),w(4,"app-floating-toolbar")(5,"form",4)(6,"mat-form-field",5)(7,"mat-label"),P(8,"Odovzdanie 1"),x(),Y(9,"input",6),w(10,"mat-autocomplete",7,0),$r(12,J5e,2,3,"mat-option",8,Gs),Ni(14,"async"),x()(),w(15,"mat-form-field",5)(16,"mat-label"),P(17,"Odovzdanie 2"),x(),Y(18,"input",9),w(19,"mat-autocomplete",7,1),$r(21,eUe,2,3,"mat-option",8,Gs),Ni(23,"async"),x()()()()()),e&2){let o=oo(11),r=oo(20);D(),z("isContentCentered",!1)("isTitleCentered",!0),D(),Xe(i.first()&&i.second()&&!i.isOldEditor?2:3),D(7),z("formControl",i.firstDocumentFormControl)("matAutocomplete",o),D(),z("displayWith",i.displaySubmission),D(2),Kr(Fi(14,9,i.firstFilteredOptions)),D(6),z("formControl",i.secondDocumentFormControl)("matAutocomplete",r),D(),z("displayWith",i.displaySubmission),D(2),Kr(Fi(23,11,i.secondFilteredOptions))}},dependencies:[Rn,EA,On,ha,zo,pu,XW,r$,i$,ns,os,KG,WP,oue,xO,Sr,Fo],styles:["app-submission-diff-editor[_ngcontent-%COMP%]{width:100%;height:100%}.editor-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;height:80vh;gap:1rem}p[_ngcontent-%COMP%]{font:var(--mat-sys-body-medium);color:var(--mat-sys-on-surface);text-align:center;margin:0}mat-form-field[_ngcontent-%COMP%]{min-width:400px}.documents-form[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:32px}"]})};var rue=[{path:"/import".substring(1),component:ND},{path:"/analysis".substring(1),component:Xk,canActivate:[Zk]},{path:"/pairs".substring(1),component:KD,canActivate:[Fs]},{path:`${"/pairs".substring(1)}/:id`,component:Ok,canActivate:[Fs]},{path:"/metadata".substring(1),component:Lk,canActivate:[Fs]},{path:"/submissions".substring(1),component:Nk,canActivate:[Fs]},{path:"/heatmap".substring(1),component:jk,canActivate:[Fs]},{path:`${"/submissions".substring(1)}/:id`,component:Hk,canActivate:[Fs]},{path:"/graph".substring(1),component:SA,canActivate:[Fs]},{path:`${"/clusters".substring(1)}/:id`,component:DA,canActivate:[Fs]},{path:`${"/diff".substring(1)}`,component:lx,canActivate:[Fs]},{path:`${"/diff".substring(1)}/:firstId/:secondId`,component:lx,canActivate:[Fs]},{path:"**",redirectTo:"/import".substring(1)}];var tUe="@",iUe=(()=>{class n{doc;delegate;zone;animationType;moduleImpl;_rendererFactoryPromise=null;scheduler=null;injector=y(_i);loadingSchedulerFn=y(nUe,{optional:!0});_engine;constructor(e,i,o,r,s){this.doc=e,this.delegate=i,this.zone=o,this.animationType=r,this.moduleImpl=s}ngOnDestroy(){this._engine?.flush()}loadImpl(){let e=()=>this.moduleImpl??import("./chunk-RIHKKTKV.js").then(o=>o),i;return this.loadingSchedulerFn?i=this.loadingSchedulerFn(e):i=e(),i.catch(o=>{throw new si(5300,!1)}).then(({\u0275createEngine:o,\u0275AnimationRendererFactory:r})=>{this._engine=o(this.animationType,this.doc);let s=new r(this.delegate,this._engine,this.zone);return this.delegate=s,s})}createRenderer(e,i){let o=this.delegate.createRenderer(e,i);if(o.\u0275type===0)return o;typeof o.throwOnSyntheticProps=="boolean"&&(o.throwOnSyntheticProps=!1);let r=new ZW(o);return i?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(s=>{let a=s.createRenderer(e,i);r.use(a),this.scheduler??=this.injector.get(vj,null,{optional:!0}),this.scheduler?.notify(10)}).catch(s=>{r.use(o)}),r}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}componentReplaced(e){this._engine?.flush(),this.delegate.componentReplaced?.(e)}static \u0275fac=function(i){JA()};static \u0275prov=se({token:n,factory:n.\u0275fac})}return n})(),ZW=class{delegate;replay=[];\u0275type=1;constructor(t){this.delegate=t}use(t){if(this.delegate=t,this.replay!==null){for(let e of this.replay)e(t);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}get destroyNode(){return this.delegate.destroyNode}appendChild(t,e){this.delegate.appendChild(t,e)}insertBefore(t,e,i,o){this.delegate.insertBefore(t,e,i,o)}removeChild(t,e,i){this.delegate.removeChild(t,e,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,o){this.delegate.setAttribute(t,e,i,o)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,o){this.delegate.setStyle(t,e,i,o)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){this.shouldReplay(e)&&this.replay.push(o=>o.setProperty(t,e,i)),this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i,o){return this.shouldReplay(e)&&this.replay.push(r=>r.listen(t,e,i,o)),this.delegate.listen(t,e,i,o)}shouldReplay(t){return this.replay!==null&&t.startsWith(tUe)}},nUe=new ae("");function QW(n="animations"){return QA("NgAsyncAnimations"),fc([{provide:Qo,useFactory:(t,e,i)=>new iUe(t,e,i,n),deps:[dt,Jv,Ye]},{provide:Ei,useValue:n==="noop"?"NoopAnimations":"BrowserAnimations"}])}var MA=class n extends sy{constructor(){super(),this.getAndInitTranslations()}getAndInitTranslations(){this.itemsPerPageLabel="Polo\u017Eiek na str\xE1nku:",this.nextPageLabel="\u010Eal\u0161ia str\xE1nka",this.previousPageLabel="Predch\xE1dzaj\xFAca str\xE1nka",this.firstPageLabel="Prv\xE1 str\xE1nka",this.lastPageLabel="Posledn\xE1 str\xE1nka",this.changes.next()}getRangeLabel=(t,e,i)=>{if(i===0||e===0)return`0 / ${i}`;i=Math.max(i,0);let o=t*e,r=o<i?Math.min(o+e,i):o+e;return`${o+1} - ${r} / ${i}`};static \u0275fac=function(e){return new(e||n)};static \u0275prov=se({token:n,factory:n.\u0275fac})};var kA=class{storedRouteHandles=new Map;allowRetrieveCache=new Map([["graph",!0],["pairs",!0]]);getBasePath(t){return t.split("/").pop()}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}retrieve(t){let e=t.routeConfig?.path;if(e&&this.allowRetrieveCache.get(this.getBasePath(e))){let i=this.storedRouteHandles.get(e);return i||null}return null}shouldAttach(t){let e=t.routeConfig?.path;return e&&this.allowRetrieveCache.get(this.getBasePath(e))?this.storedRouteHandles.has(e):!1}shouldDetach(t){let e=t.routeConfig?.path;if(e){let i=this.getBasePath(e);if(i==="/import".substring(1))return this.storedRouteHandles.clear(),!1;if(i){let o=this.allowRetrieveCache.get(i);return o!=null&&o}}return!1}store(t,e){let i=t.routeConfig?.path;i&&this.allowRetrieveCache.get(this.getBasePath(i))&&this.storedRouteHandles.set(i,e)}};self.MonacoEnvironment={getWorkerUrl:function(n,t){return`${window["base-href"]}/assets/monaco/min/vs/base/worker/workerMain.js`}};var sbi={requireConfig:{preferScriptTags:!0,paths:{vs:`${window["base-href"]}/assets/monaco/min/vs`}},monacoRequire:window.monacoRequire},sue={providers:[Uj({eventCoalescing:!0}),cP(rue),QW(),FO(zO()),{provide:sy,useClass:MA},{provide:WS,useClass:kA},a9(),QW()]};var Z_=class n{constructor(t,e){this.iconRegistry=t;this.domSanitizer=e}static DEFAULT_ICONS=["file-document-multiple-outline","rename-box-outline","file-search-outline","compare-horizontal","ballot-outline","book-multiple-outline","file-document-outline","list","badge-account-horizontal-outline","apache-kafka","email-outline","frequently-asked-questions","import","upload-outline","file-document-check-outline"];registerIcons(t){for(let e of t)this.iconRegistry.addSvgIcon(e,this.domSanitizer.bypassSecurityTrustResourceUrl(`./assets/${e}.svg`))}static \u0275fac=function(e){return new(e||n)(Je(RD),Je(jh))};static \u0275prov=se({token:n,factory:n.\u0275fac,providedIn:"root"})};var RA=["*"],rUe=["content"],sUe=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],aUe=["mat-drawer","mat-drawer-content","*"];function lUe(n,t){if(n&1){let e=Ft();w(0,"div",1),de("click",function(){et(e);let o=X();return tt(o._onBackdropClicked())}),x()}if(n&2){let e=X();Se("mat-drawer-shown",e._isShowingBackdrop())}}function cUe(n,t){n&1&&(w(0,"mat-drawer-content"),Fe(1,2),x())}var dUe=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],uUe=["mat-sidenav","mat-sidenav-content","*"];function hUe(n,t){if(n&1){let e=Ft();w(0,"div",1),de("click",function(){et(e);let o=X();return tt(o._onBackdropClicked())}),x()}if(n&2){let e=X();Se("mat-drawer-shown",e._isShowingBackdrop())}}function mUe(n,t){n&1&&(w(0,"mat-sidenav-content"),Fe(1,2),x())}var pUe=`.mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color, var(--mat-sys-on-background));background-color:var(--mat-sidenav-content-background-color, var(--mat-sys-background));box-sizing:border-box;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color, color-mix(in srgb, var(--mat-sys-neutral-variant20) 40%, transparent))}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}@media(forced-colors: active){.mat-drawer-backdrop{opacity:.5}}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-content.mat-drawer-content-hidden{opacity:0}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;color:var(--mat-sidenav-container-text-color, var(--mat-sys-on-surface-variant));box-shadow:var(--mat-sidenav-container-elevation-shadow, none);background-color:var(--mat-sidenav-container-background-color, var(--mat-sys-surface));border-top-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));width:var(--mat-sidenav-container-width, 360px);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}@media(forced-colors: active){.mat-drawer,[dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}}@media(forced-colors: active){[dir=rtl] .mat-drawer,.mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer-transition .mat-drawer{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-drawer:not(.mat-drawer-opened):not(.mat-drawer-animating){visibility:hidden;box-shadow:none}.mat-drawer:not(.mat-drawer-opened):not(.mat-drawer-animating) .mat-drawer-inner-container{display:none}.mat-drawer.mat-drawer-opened.mat-drawer-opened{transform:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color, transparent);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color, transparent);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color, transparent);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color, transparent);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto}.mat-sidenav-fixed{position:fixed}
`;var fUe=new ae("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:gUe}),tj=new ae("MAT_DRAWER_CONTAINER");function gUe(){return!1}var TA=(()=>{class n extends Uc{_platform=y(Wt);_changeDetectorRef=y(Gt);_container=y(ej);constructor(){let e=y(Oe),i=y(ru),o=y(Ye);super(e,i,o)}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}_shouldBeHidden(){if(this._platform.isBrowser)return!1;let{start:e,end:i}=this._container;return e!=null&&e.mode!=="over"&&e.opened||i!=null&&i.mode!=="over"&&i.opened}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Z({type:n,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:6,hostBindings:function(i,o){i&2&&(bo("margin-left",o._container._contentMargins.left,"px")("margin-right",o._container._contentMargins.right,"px"),Se("mat-drawer-content-hidden",o._shouldBeHidden()))},features:[At([{provide:Uc,useExisting:n}]),ut],ngContentSelectors:RA,decls:1,vars:0,template:function(i,o){i&1&&(wt(),Fe(0))},encapsulation:2,changeDetection:0})}return n})(),JW=(()=>{class n{_elementRef=y(Oe);_focusTrapFactory=y(Tb);_focusMonitor=y(ks);_platform=y(Wt);_ngZone=y(Ye);_renderer=y(Li);_interactivityChecker=y(vf);_doc=y(dt,{optional:!0});_container=y(tj,{optional:!0});_focusTrap=null;_elementFocusedBeforeDrawerWasOpened=null;_eventCleanups;_isAttached;_anchor;get position(){return this._position}set position(e){e=e==="end"?"end":"start",e!==this._position&&(this._isAttached&&this._updatePositionInParent(e),this._position=e,this.onPositionChanged.emit())}_position="start";get mode(){return this._mode}set mode(e){this._mode=e,this._updateFocusTrapState(),this._modeChanged.next()}_mode="over";get disableClose(){return this._disableClose}set disableClose(e){this._disableClose=fn(e)}_disableClose=!1;get autoFocus(){let e=this._autoFocus;return e??(this.mode==="side"?"dialog":"first-tabbable")}set autoFocus(e){(e==="true"||e==="false"||e==null)&&(e=fn(e)),this._autoFocus=e}_autoFocus;get opened(){return this._opened}set opened(e){this.toggle(fn(e))}_opened=!1;_openedVia;_animationStarted=new De;_animationEnd=new De;openedChange=new Le(!0);_openedStream=this.openedChange.pipe(ii(e=>e),rt(()=>{}));openedStart=this._animationStarted.pipe(ii(()=>this.opened),qA(void 0));_closedStream=this.openedChange.pipe(ii(e=>!e),rt(()=>{}));closedStart=this._animationStarted.pipe(ii(()=>!this.opened),qA(void 0));_destroyed=new De;onPositionChanged=new Le;_content;_modeChanged=new De;_injector=y(_i);_changeDetectorRef=y(Gt);constructor(){this.openedChange.pipe(Ct(this._destroyed)).subscribe(e=>{e?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{let e=this._elementRef.nativeElement;fh(e,"keydown").pipe(ii(i=>i.keyCode===27&&!this.disableClose&&!Xn(i)),Ct(this._destroyed)).subscribe(i=>this._ngZone.run(()=>{this.close(),i.stopPropagation(),i.preventDefault()})),this._eventCleanups=[this._renderer.listen(e,"transitionrun",this._handleTransitionEvent),this._renderer.listen(e,"transitionend",this._handleTransitionEvent),this._renderer.listen(e,"transitioncancel",this._handleTransitionEvent)]}),this._animationEnd.subscribe(()=>{this.openedChange.emit(this._opened)})}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let o=()=>{r(),s(),e.removeAttribute("tabindex")},r=this._renderer.listen(e,"blur",o),s=this._renderer.listen(e,"mousedown",o)})),e.focus(i)}_focusByCssSelector(e,i){let o=this._elementRef.nativeElement.querySelector(e);o&&this._forceFocus(o,i)}_takeFocus(){if(!this._focusTrap)return;let e=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":To(()=>{!this._focusTrap.focusInitialElement()&&typeof e.focus=="function"&&e.focus()},{injector:this._injector});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus);break}}_restoreFocus(e){this.autoFocus!=="dialog"&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,e):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){let e=this._doc.activeElement;return!!e&&this._elementRef.nativeElement.contains(e)}ngAfterViewInit(){this._isAttached=!0,this._position==="end"&&this._updatePositionInParent("end"),this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState())}ngOnDestroy(){this._eventCleanups.forEach(e=>e()),this._focusTrap?.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(e){return this.toggle(!0,e)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(e=!this.opened,i){e&&i&&(this._openedVia=i);let o=this._setOpen(e,!e&&this._isFocusWithinDrawer(),this._openedVia||"program");return e||(this._openedVia=null),o}_setOpen(e,i,o){return e===this._opened?Promise.resolve(e?"open":"close"):(this._opened=e,this._container?._transitionsEnabled?this._setIsAnimating(!0):setTimeout(()=>{this._animationStarted.next(),this._animationEnd.next()}),this._elementRef.nativeElement.classList.toggle("mat-drawer-opened",e),!e&&i&&this._restoreFocus(o),this._changeDetectorRef.markForCheck(),this._updateFocusTrapState(),new Promise(r=>{this.openedChange.pipe(_o(1)).subscribe(s=>r(s?"open":"close"))}))}_setIsAnimating(e){this._elementRef.nativeElement.classList.toggle("mat-drawer-animating",e)}_getWidth(){return this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=!!this._container?.hasBackdrop&&this.opened)}_updatePositionInParent(e){if(!this._platform.isBrowser)return;let i=this._elementRef.nativeElement,o=i.parentNode;e==="end"?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),o.insertBefore(this._anchor,i)),o.appendChild(i)):this._anchor&&this._anchor.parentNode.insertBefore(i,this._anchor)}_handleTransitionEvent=e=>{let i=this._elementRef.nativeElement;e.target===i&&this._ngZone.run(()=>{e.type==="transitionrun"?this._animationStarted.next(e):(e.type==="transitionend"&&this._setIsAnimating(!1),this._animationEnd.next(e))})};static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Z({type:n,selectors:[["mat-drawer"]],viewQuery:function(i,o){if(i&1&&st(rUe,5),i&2){let r;fe(r=ge())&&(o._content=r.first)}},hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:11,hostBindings:function(i,o){i&2&&(ke("align",null),bo("visibility",!o._container&&!o.opened?"hidden":null),Se("mat-drawer-end",o.position==="end")("mat-drawer-over",o.mode==="over")("mat-drawer-push",o.mode==="push")("mat-drawer-side",o.mode==="side"))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:RA,decls:3,vars:0,consts:[["content",""],["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(i,o){i&1&&(wt(),w(0,"div",1,0),Fe(2),x())},dependencies:[Uc],encapsulation:2,changeDetection:0})}return n})(),ej=(()=>{class n{_dir=y(en,{optional:!0});_element=y(Oe);_ngZone=y(Ye);_changeDetectorRef=y(Gt);_animationMode=y(Ei,{optional:!0});_transitionsEnabled=!1;_allDrawers;_drawers=new _h;_content;_userContent;get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(e){this._autosize=fn(e)}_autosize=y(fUe);get hasBackdrop(){return this._drawerHasBackdrop(this._start)||this._drawerHasBackdrop(this._end)}set hasBackdrop(e){this._backdropOverride=e==null?null:fn(e)}_backdropOverride;backdropClick=new Le;_start;_end;_left;_right;_destroyed=new De;_doCheckSubject=new De;_contentMargins={left:null,right:null};_contentMarginChanges=new De;get scrollable(){return this._userContent||this._content}_injector=y(_i);constructor(){let e=y(Wt),i=y(ra);this._dir?.change.pipe(Ct(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),i.change().pipe(Ct(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._animationMode!=="NoopAnimations"&&e.isBrowser&&this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{this._element.nativeElement.classList.add("mat-drawer-transition"),this._transitionsEnabled=!0},200)})}ngAfterContentInit(){this._allDrawers.changes.pipe(Ji(this._allDrawers),Ct(this._destroyed)).subscribe(e=>{this._drawers.reset(e.filter(i=>!i._container||i._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(Ji(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(e=>{this._watchDrawerToggle(e),this._watchDrawerPosition(e),this._watchDrawerMode(e)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(dl(10),Ct(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(e=>e.open())}close(){this._drawers.forEach(e=>e.close())}updateContentMargins(){let e=0,i=0;if(this._left&&this._left.opened){if(this._left.mode=="side")e+=this._left._getWidth();else if(this._left.mode=="push"){let o=this._left._getWidth();e+=o,i-=o}}if(this._right&&this._right.opened){if(this._right.mode=="side")i+=this._right._getWidth();else if(this._right.mode=="push"){let o=this._right._getWidth();i+=o,e-=o}}e=e||null,i=i||null,(e!==this._contentMargins.left||i!==this._contentMargins.right)&&(this._contentMargins={left:e,right:i},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(e){e._animationStarted.pipe(Ct(this._drawers.changes)).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),e.mode!=="side"&&e.openedChange.pipe(Ct(this._drawers.changes)).subscribe(()=>this._setContainerClass(e.opened))}_watchDrawerPosition(e){e.onPositionChanged.pipe(Ct(this._drawers.changes)).subscribe(()=>{To({read:()=>this._validateDrawers()},{injector:this._injector})})}_watchDrawerMode(e){e._modeChanged.pipe(Ct(nn(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(e){let i=this._element.nativeElement.classList,o="mat-drawer-container-has-open";e?i.add(o):i.remove(o)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(e=>{e.position=="end"?(this._end!=null,this._end=e):(this._start!=null,this._start=e)}),this._right=this._left=null,this._dir&&this._dir.value==="rtl"?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&this._start.mode!="over"||this._isDrawerOpen(this._end)&&this._end.mode!="over"}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(e=>e&&!e.disableClose&&this._drawerHasBackdrop(e)).forEach(e=>e._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._drawerHasBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._drawerHasBackdrop(this._end)}_isDrawerOpen(e){return e!=null&&e.opened}_drawerHasBackdrop(e){return this._backdropOverride==null?!!e&&e.mode!=="side":this._backdropOverride}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Z({type:n,selectors:[["mat-drawer-container"]],contentQueries:function(i,o,r){if(i&1&&(xt(r,TA,5),xt(r,JW,5)),i&2){let s;fe(s=ge())&&(o._content=s.first),fe(s=ge())&&(o._allDrawers=s)}},viewQuery:function(i,o){if(i&1&&st(TA,5),i&2){let r;fe(r=ge())&&(o._userContent=r.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(i,o){i&2&&Se("mat-drawer-container-explicit-backdrop",o._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[At([{provide:tj,useExisting:n}])],ngContentSelectors:aUe,decls:4,vars:2,consts:[[1,"mat-drawer-backdrop",3,"mat-drawer-shown"],[1,"mat-drawer-backdrop",3,"click"]],template:function(i,o){i&1&&(wt(sUe),ee(0,lUe,1,2,"div",0),Fe(1),Fe(2,1),ee(3,cUe,2,0,"mat-drawer-content")),i&2&&(Xe(o.hasBackdrop?0:-1),D(3),Xe(o._content?-1:3))},dependencies:[TA],styles:[`.mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color, var(--mat-sys-on-background));background-color:var(--mat-sidenav-content-background-color, var(--mat-sys-background));box-sizing:border-box;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color, color-mix(in srgb, var(--mat-sys-neutral-variant20) 40%, transparent))}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}@media(forced-colors: active){.mat-drawer-backdrop{opacity:.5}}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-content.mat-drawer-content-hidden{opacity:0}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;color:var(--mat-sidenav-container-text-color, var(--mat-sys-on-surface-variant));box-shadow:var(--mat-sidenav-container-elevation-shadow, none);background-color:var(--mat-sidenav-container-background-color, var(--mat-sys-surface));border-top-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));width:var(--mat-sidenav-container-width, 360px);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}@media(forced-colors: active){.mat-drawer,[dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}}@media(forced-colors: active){[dir=rtl] .mat-drawer,.mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer-transition .mat-drawer{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-drawer:not(.mat-drawer-opened):not(.mat-drawer-animating){visibility:hidden;box-shadow:none}.mat-drawer:not(.mat-drawer-opened):not(.mat-drawer-animating) .mat-drawer-inner-container{display:none}.mat-drawer.mat-drawer-opened.mat-drawer-opened{transform:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color, transparent);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color, transparent);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color, transparent);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color, transparent);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto}.mat-sidenav-fixed{position:fixed}
`],encapsulation:2,changeDetection:0})}return n})(),AA=(()=>{class n extends TA{static \u0275fac=(()=>{let e;return function(o){return(e||(e=Xt(n)))(o||n)}})();static \u0275cmp=Z({type:n,selectors:[["mat-sidenav-content"]],hostAttrs:[1,"mat-drawer-content","mat-sidenav-content"],features:[At([{provide:Uc,useExisting:n}]),ut],ngContentSelectors:RA,decls:1,vars:0,template:function(i,o){i&1&&(wt(),Fe(0))},encapsulation:2,changeDetection:0})}return n})(),ij=(()=>{class n extends JW{get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(e){this._fixedInViewport=fn(e)}_fixedInViewport=!1;get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(e){this._fixedTopGap=Co(e)}_fixedTopGap=0;get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(e){this._fixedBottomGap=Co(e)}_fixedBottomGap=0;static \u0275fac=(()=>{let e;return function(o){return(e||(e=Xt(n)))(o||n)}})();static \u0275cmp=Z({type:n,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1",1,"mat-drawer","mat-sidenav"],hostVars:15,hostBindings:function(i,o){i&2&&(ke("align",null),bo("top",o.fixedInViewport?o.fixedTopGap:null,"px")("bottom",o.fixedInViewport?o.fixedBottomGap:null,"px"),Se("mat-drawer-end",o.position==="end")("mat-drawer-over",o.mode==="over")("mat-drawer-push",o.mode==="push")("mat-drawer-side",o.mode==="side")("mat-sidenav-fixed",o.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[At([{provide:JW,useExisting:n}]),ut],ngContentSelectors:RA,decls:3,vars:0,consts:[["content",""],["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(i,o){i&1&&(wt(),w(0,"div",1,0),Fe(2),x())},dependencies:[Uc],encapsulation:2,changeDetection:0})}return n})(),aue=(()=>{class n extends ej{_allDrawers=void 0;_content=void 0;static \u0275fac=(()=>{let e;return function(o){return(e||(e=Xt(n)))(o||n)}})();static \u0275cmp=Z({type:n,selectors:[["mat-sidenav-container"]],contentQueries:function(i,o,r){if(i&1&&(xt(r,AA,5),xt(r,ij,5)),i&2){let s;fe(s=ge())&&(o._content=s.first),fe(s=ge())&&(o._allDrawers=s)}},hostAttrs:[1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(i,o){i&2&&Se("mat-drawer-container-explicit-backdrop",o._backdropOverride)},exportAs:["matSidenavContainer"],features:[At([{provide:tj,useExisting:n},{provide:ej,useExisting:n}]),ut],ngContentSelectors:uUe,decls:4,vars:2,consts:[[1,"mat-drawer-backdrop",3,"mat-drawer-shown"],[1,"mat-drawer-backdrop",3,"click"]],template:function(i,o){i&1&&(wt(dUe),ee(0,hUe,1,2,"div",0),Fe(1),Fe(2,1),ee(3,mUe,2,0,"mat-sidenav-content")),i&2&&(Xe(o.hasBackdrop?0:-1),D(3),Xe(o._content?-1:3))},dependencies:[AA],styles:[pUe],encapsulation:2,changeDetection:0})}return n})();var _Ue=()=>({enterDuration:200,exitDuration:200}),vUe=()=>["nav-item-active"],bUe=()=>({exact:!0});function yUe(n,t){if(n&1&&Y(0,"mat-icon",2),n&2){let e,i=X();z("svgIcon",(e=i.navItem.iconPath)!==null&&e!==void 0?e:""),ke("aria-labelledby",i.isFullWidth()?i.fullWidthNameId(i.navItem):null)("aria-label",i.isFullWidth()?null:i.navItem.fullWidthName)}}function wUe(n,t){if(n&1&&(w(0,"mat-icon"),P(1),x()),n&2){let e=X();D(),xe(e.navItem.iconPath)}}function xUe(n,t){if(n&1&&(w(0,"div",3),P(1),x()),n&2){let e=X();D(),ni(" ",e.navItem.fullWidthName," ")}}function CUe(n,t){if(n&1&&(w(0,"div",3),P(1),x()),n&2){let e=X();D(),ni(" ",e.navItem.fullWidthName," ")}}var OA=class n{constructor(t){this.navigationService=t}isActivated=!1;isFullWidth=Ue(!0);navItem={};isActive=Ri(()=>this.navItem.route===this.navigationService.getActive()());fullWidthNameId(t){return`full-width-name-${t.fullWidthName}`}static \u0275fac=function(e){return new(e||n)(J(la))};static \u0275cmp=Z({type:n,selectors:[["app-nav-item-view"]],inputs:{isActivated:"isActivated",isFullWidth:"isFullWidth",navItem:"navItem",isActive:"isActive"},decls:6,vars:14,consts:[["mat-list-item","","matRipple","",1,"nav-item",3,"matRippleCentered","matRippleRadius","matRippleAnimation","routerLink","routerLinkActive","routerLinkActiveOptions"],[1,"state-container"],[3,"svgIcon"],[1,"label","center"]],template:function(e,i){e&1&&(w(0,"div",0)(1,"div",1),ee(2,yUe,1,3,"mat-icon",2)(3,wUe,2,1,"mat-icon")(4,xUe,2,1,"div",3),x(),ee(5,CUe,2,1,"div",3),x()),e&2&&(Se("nav-item-expanded",i.isFullWidth()),z("matRippleCentered",!0)("matRippleRadius",50)("matRippleAnimation",$s(11,_Ue))("routerLink",i.navItem.route)("routerLinkActive",$s(12,vUe))("routerLinkActiveOptions",$s(13,bUe)),D(2),Xe(i.navItem.isIconSvg?2:3),D(2),Xe(i.isFullWidth()?4:-1),D(),Xe(i.isFullWidth()?-1:5))},dependencies:[An,gf,nu,lP],styles:[".nav-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;cursor:pointer;-webkit-user-select:none;user-select:none;box-sizing:border-box;padding:5px 0;gap:4px}.nav-item[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font:var(--mat-sys-label-medium-pixel);color:var(--mat-sys-on-surface-variant);margin:0}.nav-item[_ngcontent-%COMP%]   .state-container[_ngcontent-%COMP%]{display:flex;max-width:fit-content;padding:4px 16px;border-radius:100px;justify-content:center;align-items:center;transition:background-color .3s linear}.nav-item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{cursor:pointer;color:var(--mat-sys-on-surface-variant)}.nav-item-active[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font:var(--mat-sys-label-medium-pixel);color:var(--mat-sys-on-surface);margin:0}.nav-item-active[_ngcontent-%COMP%]   .state-container[_ngcontent-%COMP%]{background-color:var(--mat-sys-secondary-container);transition:background-color .3s linear}.nav-item-active[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:var(--mat-sys-on-surface);transition:color 1s}.center[_ngcontent-%COMP%]{text-align:center;line-height:1}.nav-item-expanded[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:left;gap:1rem}.nav-item-expanded[_ngcontent-%COMP%]   .state-container[_ngcontent-%COMP%]{width:100%;max-width:100%;justify-content:start;padding:16px;gap:8px}.nav-item-expanded[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font:var(--mat-sys-label-large)}"]})};var SUe=()=>({});function DUe(n,t){if(n&1&&Y(0,"app-nav-item-view",2)(1,"mat-divider"),n&2){let e,i=X();z("navItem",(e=i.homeNavItem)!==null&&e!==void 0?e:$s(2,SUe))("isFullWidth",i.isFullWidth)}}function IUe(n,t){if(n&1&&Y(0,"app-nav-item-view",3),n&2){let e=X().$implicit,i=X();z("navItem",e)("isActivated",e.fullWidthName===(i.activatedNavItem==null?null:i.activatedNavItem.fullWidthName))("isFullWidth",i.isFullWidth)}}function EUe(n,t){if(n&1&&ee(0,IUe,1,3,"app-nav-item-view",3),n&2){let e=t.$implicit;Xe(e.isFullWidthOnly?-1:0)}}function MUe(n,t){if(n&1&&Y(0,"app-nav-item-view",4),n&2){let e=X().$implicit;z("navItem",e)("isActivated",!1)}}function kUe(n,t){if(n&1&&ee(0,MUe,1,2,"app-nav-item-view",4),n&2){let e=t.$implicit;Xe(e.isFullWidthOnly?0:-1)}}function TUe(n,t){if(n&1&&(w(0,"mat-nav-list"),$r(1,kUe,1,1,null,null,Gs),x()),n&2){let e=X();D(),Kr(e.navItems)}}var PA=class n{constructor(t,e){this.router=t;this.navigationService=e}isFullWidth=Ue(!1);displayHomeNav=!1;navItems=[];activatedNavItem=void 0;homeNavItem=void 0;ngOnInit(){this.router.events.pipe(ii(t=>t instanceof Br)).subscribe(()=>{this.navItems=this.navigationService.getRoutes(),this.homeNavItem=this.navigationService.getHome(),this.displayHomeNav=!this.navItems.some(t=>t.route===this.homeNavItem?.route),this.navigationService.updateActive()})}static \u0275fac=function(e){return new(e||n)(J(pi),J(la))};static \u0275cmp=Z({type:n,selectors:[["app-nav-list"]],inputs:{isFullWidth:"isFullWidth",displayHomeNav:"displayHomeNav"},decls:6,vars:4,consts:[[1,"nav-group"],["aria-label","Navigation sidebar"],[3,"navItem","isFullWidth"],[3,"navItem","isActivated","isFullWidth"],[3,"navItem","isActivated"]],template:function(e,i){e&1&&(w(0,"div",0)(1,"mat-nav-list",1),ee(2,DUe,2,3),$r(3,EUe,1,1,null,null,Gs),x(),ee(5,TUe,3,0,"mat-nav-list"),x()),e&2&&(Se("centered-nav-list",!i.isFullWidth()),D(2),Xe(i.isFullWidth()&&i.displayHomeNav?2:-1),D(),Kr(i.navItems),D(2),Xe(i.isFullWidth()?5:-1))},dependencies:[d$,OA,lu],styles:[".nav-group[_ngcontent-%COMP%]{display:flex;height:100%;flex-direction:column;justify-content:space-between}mat-nav-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}mat-divider[_ngcontent-%COMP%]{opacity:.5}.centered-nav-list[_ngcontent-%COMP%]{justify-content:center}"]})};var AUe=["*",[["mat-toolbar-row"]]],RUe=["*","mat-toolbar-row"],OUe=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275dir=me({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]})}return n})(),lue=(()=>{class n{_elementRef=y(Oe);_platform=y(Wt);_document=y(dt);color;_toolbarRows;constructor(){}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){this._toolbarRows.length}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Z({type:n,selectors:[["mat-toolbar"]],contentQueries:function(i,o,r){if(i&1&&xt(r,OUe,5),i&2){let s;fe(s=ge())&&(o._toolbarRows=s)}},hostAttrs:[1,"mat-toolbar"],hostVars:6,hostBindings:function(i,o){i&2&&(Ao(o.color?"mat-"+o.color:""),Se("mat-toolbar-multiple-rows",o._toolbarRows.length>0)("mat-toolbar-single-row",o._toolbarRows.length===0))},inputs:{color:"color"},exportAs:["matToolbar"],ngContentSelectors:RUe,decls:2,vars:0,template:function(i,o){i&1&&(wt(AUe),Fe(0),Fe(1,1))},styles:[`.mat-toolbar{background:var(--mat-toolbar-container-background-color, var(--mat-sys-surface));color:var(--mat-toolbar-container-text-color, var(--mat-sys-on-surface))}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font, var(--mat-sys-title-large-font));font-size:var(--mat-toolbar-title-text-size, var(--mat-sys-title-large-size));line-height:var(--mat-toolbar-title-text-line-height, var(--mat-sys-title-large-line-height));font-weight:var(--mat-toolbar-title-text-weight, var(--mat-sys-title-large-weight));letter-spacing:var(--mat-toolbar-title-text-tracking, var(--mat-sys-title-large-tracking));margin:0}@media(forced-colors: active){.mat-toolbar{outline:solid 1px}}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color:var(--mat-toolbar-container-text-color, var(--mat-sys-on-surface));--mdc-outlined-button-label-text-color:var(--mat-toolbar-container-text-color, var(--mat-sys-on-surface))}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height, 64px)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height, 56px)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height, 64px)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height, 56px)}}
`],encapsulation:2,changeDetection:0})}return n})();function PUe(n,t){if(n&1){let e=Ft();w(0,"button",2),de("click",function(){et(e);let o=X();return tt(o.onMenuToggle())}),w(1,"mat-icon"),P(2,"menu"),x()()}}function LUe(n,t){n&1&&Y(0,"span")}var LA=class n{title="Plagdet";isToggleButtonVisible=!0;menuToggle=new Le;onMenuToggle(){this.menuToggle.emit()}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=Z({type:n,selectors:[["app-header"]],inputs:{title:"title",isToggleButtonVisible:"isToggleButtonVisible"},outputs:{menuToggle:"menuToggle"},decls:6,vars:2,consts:[[1,"app-bar"],["mat-icon-button","","aria-label","Menu icon"],["mat-icon-button","","aria-label","Menu icon",3,"click"]],template:function(e,i){e&1&&(w(0,"mat-toolbar",0),ee(1,PUe,3,0,"button",1)(2,LUe,1,0,"span"),w(3,"h1"),P(4),x(),Y(5,"span"),x()),e&2&&(D(),Xe(i.isToggleButtonVisible?1:2),D(3),xe(i.title))},dependencies:[lue,An,As],styles:[".app-bar[_ngcontent-%COMP%]{position:fixed;z-index:2;height:64px;display:flex;flex-direction:row;justify-content:space-between;background-color:var(--mat-sys-surface-container)}"]})};var NA=class n{constructor(t,e){this.navigationService=t;this.router=e;this.router.events.pipe(ii(i=>i instanceof Br)).subscribe(()=>{this.isSidenavOpen.set(!1)})}isSidenavOpen=Ue(!1);toggleSideNav(){this.isSidenavOpen.update(t=>!t)}showNavigation(){return!this.navigationService.getNavigationLock()()}static \u0275fac=function(e){return new(e||n)(J(la),J(pi))};static \u0275cmp=Z({type:n,selectors:[["app-layout"]],decls:8,vars:9,consts:[[1,"app-layout"],[3,"menuToggle","isToggleButtonVisible"],["autosize","true"],["mode","side",1,"sidenav-colored",3,"disableClose","opened"],[3,"hidden","isFullWidth"]],template:function(e,i){e&1&&(w(0,"div",0)(1,"app-header",1),de("menuToggle",function(){return i.toggleSideNav()}),x(),w(2,"main")(3,"mat-sidenav-container",2)(4,"mat-sidenav",3),Y(5,"app-nav-list",4),x(),w(6,"mat-sidenav-content"),Y(7,"router-outlet"),x()()()()),e&2&&(D(),z("isToggleButtonVisible",i.navigationService.rawRoutes().length!==0),D(3),Se("rail",!i.isSidenavOpen())("expanded",i.isSidenavOpen()),z("disableClose",!0)("opened",!0),D(),z("hidden",!i.showNavigation())("isFullWidth",i.isSidenavOpen))},dependencies:[aue,AA,PA,ij,wb,LA],styles:[".app-layout[_ngcontent-%COMP%]{display:flex;height:100vh;width:100vw;flex-direction:column}main[_ngcontent-%COMP%]{height:100%}mat-sidenav-container[_ngcontent-%COMP%]{height:100%}.sidenav-colored[_ngcontent-%COMP%]{position:fixed;height:100%;padding:64px .25rem .25rem;border-radius:0;background-color:var(--mat-sys-surface-container)}.rail[_ngcontent-%COMP%]{width:80px}.expanded[_ngcontent-%COMP%]{width:320px}"]})};var FA=class n{constructor(t){this.iconsRegistrationService=t}ngOnInit(){this.iconsRegistrationService.registerIcons(Z_.DEFAULT_ICONS)}static \u0275fac=function(e){return new(e||n)(J(Z_))};static \u0275cmp=Z({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(e,i){e&1&&Y(0,"app-layout")},dependencies:[NA],encapsulation:2})};AO(FA,sue).catch(n=>console.error(n));
