import"./chunk-TXNTCDWV.js";import{$ as yt,$a as DW,$b as PW,$c as Cr,A as ri,Aa as He,Ab as Re,Ac as _x,B as kT,Ba as LT,Bb as z,Bc as Km,C as sd,Ca as Yu,Cb as po,Cc as zW,D as ma,Da as Ue,Db as ke,Dc as BW,E as el,Ea as Xu,Eb as Lo,Ec as kt,F as MT,Fa as fW,Fb as RW,Fc as WT,G as Hn,Ga as Um,Gb as Ye,Gc as Ym,H as TT,Ha as gW,Hb as OW,Hc as vx,I as rW,Ia as fa,Ib as Os,Ic as bx,J as C_,Ja as Wi,Jb as Vr,Jc as yx,K as ec,Ka as D_,Kb as Wr,Kc as fo,L as tl,La as _W,Lb as x,Lc as Xm,M as AT,Ma as mx,Mb as w,Mc as HW,N as sW,Na as So,Nb as X,Nc as xx,O as RT,Oa as E_,Ob as rn,Oc as VW,P as aW,Pa as qm,Pb as sn,Pc as WW,Q as lW,Qa as Gm,Qb as an,Qc as wx,R as OT,Ra as vW,Rb as Nt,Rc as jW,S as ux,Sa as bW,Sb as rs,Sc as Cx,T as Qi,Ta as yW,Tb as le,Tc as jT,U as In,Ua as xW,Ub as Y,Uc as Sx,V as vt,Va as wW,Vb as wt,W as hx,Wa as CW,Wb as Fe,X as Ji,Xa as SW,Xb as bt,Xc as ic,Y as Ai,Ya as os,Yb as rt,Yc as ya,Z as cr,Za as NT,Zb as me,Zc as UW,_ as de,_a as IW,_b as pe,a as fn,aa as cW,ab as $m,ac as LW,ad as Zm,b as tW,ba as ue,bb as I,bc as gx,bd as xa,c as ar,ca as PT,cb as ie,cc as to,cd as qW,d as IT,da as ct,db as FT,dc as P,dd as GW,e as w_,ea as y,eb as k_,ec as be,f as Ee,fa as tc,fb as qo,fc as ni,g as mo,ga as dW,gb as il,gc as M_,h as cx,ha as Rs,hb as on,hc as ga,i as DT,ia as pa,ib as Go,ic as _a,j as da,ja as Di,jb as EW,jc as va,k as iW,ka as Ze,kb as kW,kc as At,l as Bn,la as Qe,lb as zT,lc as Ps,m as We,ma as pi,mb as MW,mc as Zu,n as ua,na as S_,nb as TW,nc as Li,o as qu,oa as ti,ob as Q,oc as Ni,p as nW,pa as uW,pb as xt,pc as Qu,q as nt,qa as Si,qb as ge,qc as VT,r as Jl,ra as $u,rb as px,rc as NW,s as lr,sa as hW,sb as dt,sc as Yt,t as ET,ta as mW,tb as AW,tc as Ju,u as dx,ua as I_,ub as Ut,uc as FW,v as ha,va as Le,vb as te,vc as Ke,w as rd,wa as et,wb as BT,wc as Yi,x as Gu,xa as Ku,xb as fx,xc as Ri,y as oW,ya as pW,yb as HT,yc as ba,z as tn,za as nn,zb as ad,zc as ln}from"./chunk-MCAKAWK5.js";import{$ as ur,$a as N_,$b as Ln,$c as no,$d as Ux,$e as qn,$f as R4,$g as _c,$h as k5,$i as gr,$j as Ew,$k as Vw,A as _,Aa as oc,Ab as Cj,Ac as Hx,Ad as Xj,Ae as hc,Af as Sce,Ag as xA,Ah as Dce,Ai as yp,Aj as Ip,Ak as Nw,Al as GA,B as Pe,Ba as aj,Bb as Sj,Bc as Vj,Bd as ul,Be as n4,Bf as En,Bg as j4,Bh as Vs,Bi as bw,Bj as at,Bk as Fw,Bl as PU,C as Ae,Ca as ip,Cb as Lx,Cc as rA,Cd as Wn,Ce as ka,Cf as f4,Cg as rw,Ch as b5,Ci as Cd,Cj as bn,Ck as Ep,Cl as LU,D as cd,Da as Px,Db as Ij,Dc as Wj,Dd as Gt,De as o4,Df as zs,Dg as fc,Dh as yd,Di as P5,Dj as _l,Dk as nv,Dl as NU,E as dr,Ea as lj,Eb as Nx,Ec as li,Ed as $i,Ee as _ce,Ef as fl,Eg as U4,Eh as Y_,Ei as Ece,Ej as Q5,Ek as ov,El as Nce,F as JW,Fa as ht,Fb as iA,Fc as rh,Fd as jn,Fe as mA,Ff as g4,Fg as sw,Fh as $n,Fi as yw,Fj as Bo,Fk as yU,Fl as Dd,G as dd,Ga as On,Gb as Fi,Gc as Sa,Gd as Ia,Ge as r4,Gf as uh,Gg as aw,Gh as Ta,Gi as L5,Gj as Iw,Gk as zw,H as ej,Ha as he,Hb as Dj,Hc as we,Hd as ds,He as Gx,Hf as Zx,Hg as q4,Hh as xd,Hi as so,Hj as J5,Hk as Sc,I as T_,Ia as hi,Ib as dce,Ic as sh,Id as dp,Ie as s4,If as _4,Ig as G4,Ih as y5,Ii as xw,Ij as eU,Ik as gh,J as tj,Ja as A,Jb as nA,Jc as ye,Jd as Wx,Je as a4,Jf as v4,Jg as $4,Jh as vp,Ji as Sd,Jj as tU,Jk as Bw,K as ep,Ka as qe,Kb as uce,Kc as jj,Kd as Ki,Ke as W_,Kf as b4,Kg as K4,Kh as mi,Ki as Q_,Kj as iU,Kk as BA,L as ij,La as ze,Lb as z_,Lc as Xo,Ld as Z,Le as l4,Lf as y4,Lg as Gn,Lh as vc,Li as N5,Lj as nU,Lk as xU,M as Yo,Ma as Pn,Mb as Ej,Mc as Io,Md as lA,Me as vce,Mf as x4,Mg as lw,Mh as x5,Mi as xp,Mj as oU,Mk as M,N as jr,Na as Ge,Nb as kj,Nc as Uj,Nd as kr,Ne as dh,Nf as G_,Ng as Y4,Nh as hs,Ni as J_,Nj as rU,Nk as $t,O as A_,Oa as Vn,Ob as hce,Oc as pr,Od as oo,Oe as pA,Of as w4,Og as cw,Oh as bc,Oi as F5,Oj as AA,Ok as kp,P as Mx,Pa as Sr,Pb as yi,Pc as ah,Pd as Ne,Pe as $x,Pf as C4,Pg as X4,Ph as w5,Pi as Ar,Pj as wc,Pk as wU,Q as nj,Qa as P_,Qb as sl,Qc as gt,Qd as V,Qe as Tr,Qf as gA,Qg as Z4,Qh as yc,Qi as wp,Qj as RA,Qk as HA,R as $T,Ra as as,Rb as Ir,Rc as qj,Rd as cA,Re as Ma,Rf as S4,Rg as Q4,Rh as CA,Ri as EA,Rj as sU,Rk as VA,S as lce,Sa as cj,Sb as hd,Sc as Vx,Sd as Zj,Se as j_,Sf as I4,Sg as J4,Sh as C5,Si as kA,Sj as iv,Sk as WA,T as oj,Ta as L_,Tb as sc,Tc as cp,Td as Me,Te as It,Tf as D4,Tg as e5,Th as S5,Ti as z5,Tj as OA,Tk as CU,U as Tx,Ua as wa,Ub as B_,Uc as De,Ud as Qj,Ue as ml,Uf as E4,Ug as t5,Uh as SA,Ui as B5,Uj as aU,Uk as vl,V as Ax,Va as np,Vb as al,Vc as No,Vd as tt,Ve as c4,Vf as Qx,Vg as i5,Vh as I5,Vi as ww,Vj as Dw,Vk as SU,W as nl,Wa as dj,Wb as si,Wc as Ot,Wd as jx,We as ae,Wf as k4,Wg as hh,Wh as D5,Wi as Cp,Wj as PA,Wk as IU,X as tp,Xa as uj,Xb as md,Xc as Xt,Xd as V_,Xe as Lt,Xf as _A,Xg as gc,Xh as IA,Xi as Cw,Xj as LA,Xk as DU,Y as R_,Ya as hj,Yb as hr,Yc as Fo,Yd as pce,Ye as mc,Yf as M4,Yg as dw,Yh as E5,Yi as H5,Yj as NA,Yk as EU,Z as ut,Za as op,Zb as Mj,Zc as ji,Zd as Jj,Ze as fA,Zf as T4,Zg as uw,Zh as DA,Zi as V5,Zj as lU,Zk as Hw,_ as zt,_a as mj,_b as Ht,_c as ls,_d as fce,_e as Kx,_f as A4,_g as n5,_h as hw,_i as xc,_j as cU,_k as Mp,a as $o,aa as ud,ab as pj,ac as Tj,ad as cl,ae as e4,af as zi,ag as O4,ah as o5,ai as ph,aj as fh,ak as kw,al as Ww,b as eh,ba as ss,bb as XT,bc as Aj,bd as dl,be as _t,bf as _d,bg as P4,bh as Ice,bi as M5,bj as _o,bk as Dp,bl as jw,c as $W,ca as ol,cb as rp,cc as oh,cd as ac,ce as _n,cf as Do,cg as L4,ch as r5,ci as X_,cj as MA,ck as Ii,cl as Tp,d as UT,da as Bt,db as ZT,dc as Fx,dd as sA,de as Un,df as U_,dg as N4,dh as wA,di as T5,dj as ev,dk as Mw,dl as Uw,e as Ko,ea as Rx,eb as gn,ec as Rj,ed as Gj,ee as Da,ef as hp,eg as F4,eh as mh,ei as A5,ej as W5,ek as dU,el as qw,f as KW,fa as rj,fb as fj,fc as Ca,fd as lh,fe as zo,ff as mp,fg as Jx,fh as s5,fi as mw,fj as Sw,fk as uU,fl as Ap,g as Dn,ga as Ox,gb as cce,gc as Dr,gd as St,ge as cc,gf as Bi,gg as vA,gh as fr,gi as pw,gj as TA,gk as hU,gl as kU,h as Ix,ha as cn,hb as sp,hc as Ct,hd as Zo,he as Nn,hf as d4,hg as bA,hh as a5,hi as ms,hj as j5,hk as mU,hl as rv,i as Dx,ia as KT,ib as QT,ic as mr,id as ci,ie as dA,if as bce,ig as $_,ih as gp,ii as fw,ij as U5,ik as Tw,il as Gw,j as nc,ja as Mt,jb as gj,jc as Oj,jd as Pt,je as fd,jf as u4,jg as yA,jh as l5,ji as bp,jj as kce,jk as pU,jl as Rr,k as th,ka as G,kb as ap,kc as Pj,kd as Ui,ke as uA,kf as yce,kg as z4,kh as c5,ki as Kn,kj as q5,kk as Oa,kl as jA,l as YW,la as U,lb as rc,lc as zx,ld as K,le as dc,lf as vn,lg as B4,lh as K_,li as Z_,lj as Mce,lk as Aw,ll as MU,m as XW,ma as dn,mb as _j,mc as oA,md as $j,me as qx,mf as Fs,mg as ew,mh as Ur,mi as R5,mj as G5,mk as Rw,ml as sv,n as Oi,na as sj,nb as vj,nc as Lj,nd as ot,ne as _i,nf as pp,ng as fp,nh as hn,ni as qt,nj as Sp,nk as Ws,nl as TU,o as Ex,oa as ce,ob as nh,oc as ll,od as Xe,oe as Jo,of as xce,og as tw,oh as bd,oi as gw,oj as Tce,ok as Id,ol as Lce,p as kx,pa as Xi,pb as bj,pc as ai,pd as mt,pe as t4,pf as h4,pg as iw,ph as _p,pi as ps,pj as $5,pk as Ow,pl as AU,q as qT,qa as Ls,qb as F_,qc as Nj,qd as Kj,qe as ch,qf as wce,qg as H4,qh as Hs,qi as _w,qj as Ace,qk as Pw,ql as UA,r as ih,ra as bi,rb as un,rc as Fj,rd as mce,re as hA,rf as Yx,rg as nw,rh as d5,ri as vw,rj as K5,rk as FA,rl as Rp,s as Qm,sa as je,sb as lp,sc as Gi,sd as go,se as Ea,sf as q_,sg as V4,sh as u5,si as fs,sj as Rce,sk as Lw,sl as $w,t as Tt,ta as YT,tb as JT,tc as Er,td as lc,te as hl,tf as m4,tg as ow,th as h5,ti as wd,tj as Y5,tk as fU,tl as bl,u as ld,ua as oi,ub as yj,uc as pd,ud as cs,ue as i4,uf as Cce,ug as Eo,uh as m5,ui as ii,uj as Oce,uk as zA,ul as RU,v as ZW,va as Je,vb as eA,vc as zj,vd as aA,ve as uc,vf as p4,vg as pc,vh as p5,vi as O5,vj as X5,vk as gU,vl as _h,w as io,wa as fi,wb as tA,wc as Bj,wd as Yj,we as gd,wf as pl,wg as W4,wh as f5,wi as gl,wj as Pce,wk as _U,wl as qA,x as QW,xa as O_,xb as rl,xc as Bx,xd as ve,xe as gce,xf as Oe,xg as vd,xh as g5,xi as qr,xj as tv,xk as vU,xl as Kw,y as Jm,ya as gi,yb as xj,yc as Hj,yd as Ns,ye as Mr,yf as us,yg as Bs,yh as _5,yi as ro,yj as Z5,yk as Cc,yl as Yw,z as GT,za as Pi,zb as wj,zc as H_,zd as Qo,ze as up,zf as Xx,zg as Vt,zh as v5,zi as Aa,zj as Ra,zk as bU,zl as OU}from"./chunk-QGF7JPKE.js";import{a as j,b as Te,c as ca,e as ax,f as O,g as ST,h as jm,i as J3,j as k,k as eW,l as lx}from"./chunk-EJUJSVO6.js";var C8=O((w8,pO)=>{"use strict";(function(n){typeof w8=="object"&&typeof pO<"u"?pO.exports=n():typeof define=="function"&&define.amd?define([],n):(typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this).JSZip=n()})(function(){return function n(t,e,i){function o(a,l){if(!e[a]){if(!t[a]){var c=typeof ca=="function"&&ca;if(!l&&c)return c(a,!0);if(r)return r(a,!0);var d=new Error("Cannot find module '"+a+"'");throw d.code="MODULE_NOT_FOUND",d}var u=e[a]={exports:{}};t[a][0].call(u.exports,function(h){var m=t[a][1][h];return o(m||h)},u,u.exports,n,t,e,i)}return e[a].exports}for(var r=typeof ca=="function"&&ca,s=0;s<i.length;s++)o(i[s]);return o}({1:[function(n,t,e){"use strict";var i=n("./utils"),o=n("./support"),r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";e.encode=function(s){for(var a,l,c,d,u,h,m,f=[],p=0,g=s.length,v=g,b=i.getTypeOf(s)!=="string";p<s.length;)v=g-p,c=b?(a=s[p++],l=p<g?s[p++]:0,p<g?s[p++]:0):(a=s.charCodeAt(p++),l=p<g?s.charCodeAt(p++):0,p<g?s.charCodeAt(p++):0),d=a>>2,u=(3&a)<<4|l>>4,h=1<v?(15&l)<<2|c>>6:64,m=2<v?63&c:64,f.push(r.charAt(d)+r.charAt(u)+r.charAt(h)+r.charAt(m));return f.join("")},e.decode=function(s){var a,l,c,d,u,h,m=0,f=0,p="data:";if(s.substr(0,p.length)===p)throw new Error("Invalid base64 input, it looks like a data url.");var g,v=3*(s=s.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(s.charAt(s.length-1)===r.charAt(64)&&v--,s.charAt(s.length-2)===r.charAt(64)&&v--,v%1!=0)throw new Error("Invalid base64 input, bad content length.");for(g=o.uint8array?new Uint8Array(0|v):new Array(0|v);m<s.length;)a=r.indexOf(s.charAt(m++))<<2|(d=r.indexOf(s.charAt(m++)))>>4,l=(15&d)<<4|(u=r.indexOf(s.charAt(m++)))>>2,c=(3&u)<<6|(h=r.indexOf(s.charAt(m++))),g[f++]=a,u!==64&&(g[f++]=l),h!==64&&(g[f++]=c);return g}},{"./support":30,"./utils":32}],2:[function(n,t,e){"use strict";var i=n("./external"),o=n("./stream/DataWorker"),r=n("./stream/Crc32Probe"),s=n("./stream/DataLengthProbe");function a(l,c,d,u,h){this.compressedSize=l,this.uncompressedSize=c,this.crc32=d,this.compression=u,this.compressedContent=h}a.prototype={getContentWorker:function(){var l=new o(i.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new s("data_length")),c=this;return l.on("end",function(){if(this.streamInfo.data_length!==c.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),l},getCompressedWorker:function(){return new o(i.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},a.createWorkerFrom=function(l,c,d){return l.pipe(new r).pipe(new s("uncompressedSize")).pipe(c.compressWorker(d)).pipe(new s("compressedSize")).withStreamInfo("compression",c)},t.exports=a},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,t,e){"use strict";var i=n("./stream/GenericWorker");e.STORE={magic:"\0\0",compressWorker:function(){return new i("STORE compression")},uncompressWorker:function(){return new i("STORE decompression")}},e.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,t,e){"use strict";var i=n("./utils"),o=function(){for(var r,s=[],a=0;a<256;a++){r=a;for(var l=0;l<8;l++)r=1&r?3988292384^r>>>1:r>>>1;s[a]=r}return s}();t.exports=function(r,s){return r!==void 0&&r.length?i.getTypeOf(r)!=="string"?function(a,l,c,d){var u=o,h=d+c;a^=-1;for(var m=d;m<h;m++)a=a>>>8^u[255&(a^l[m])];return-1^a}(0|s,r,r.length,0):function(a,l,c,d){var u=o,h=d+c;a^=-1;for(var m=d;m<h;m++)a=a>>>8^u[255&(a^l.charCodeAt(m))];return-1^a}(0|s,r,r.length,0):0}},{"./utils":32}],5:[function(n,t,e){"use strict";e.base64=!1,e.binary=!1,e.dir=!1,e.createFolders=!0,e.date=null,e.compression=null,e.compressionOptions=null,e.comment=null,e.unixPermissions=null,e.dosPermissions=null},{}],6:[function(n,t,e){"use strict";var i=null;i=typeof Promise<"u"?Promise:n("lie"),t.exports={Promise:i}},{lie:37}],7:[function(n,t,e){"use strict";var i=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",o=n("pako"),r=n("./utils"),s=n("./stream/GenericWorker"),a=i?"uint8array":"array";function l(c,d){s.call(this,"FlateWorker/"+c),this._pako=null,this._pakoAction=c,this._pakoOptions=d,this.meta={}}e.magic="\b\0",r.inherits(l,s),l.prototype.processChunk=function(c){this.meta=c.meta,this._pako===null&&this._createPako(),this._pako.push(r.transformTo(a,c.data),!1)},l.prototype.flush=function(){s.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},l.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this._pako=null},l.prototype._createPako=function(){this._pako=new o[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var c=this;this._pako.onData=function(d){c.push({data:d,meta:c.meta})}},e.compressWorker=function(c){return new l("Deflate",c)},e.uncompressWorker=function(){return new l("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,t,e){"use strict";function i(u,h){var m,f="";for(m=0;m<h;m++)f+=String.fromCharCode(255&u),u>>>=8;return f}function o(u,h,m,f,p,g){var v,b,C=u.file,T=u.compression,E=g!==a.utf8encode,F=r.transformTo("string",g(C.name)),L=r.transformTo("string",a.utf8encode(C.name)),H=C.comment,re=r.transformTo("string",g(H)),R=r.transformTo("string",a.utf8encode(H)),W=L.length!==C.name.length,D=R.length!==H.length,ne="",Dt="",_e="",Et=C.dir,Se=C.date,Ft={crc32:0,compressedSize:0,uncompressedSize:0};h&&!m||(Ft.crc32=u.crc32,Ft.compressedSize=u.compressedSize,Ft.uncompressedSize=u.uncompressedSize);var oe=0;h&&(oe|=8),E||!W&&!D||(oe|=2048);var J=0,ft=0;Et&&(J|=16),p==="UNIX"?(ft=798,J|=function($e,Qn){var sr=$e;return $e||(sr=Qn?16893:33204),(65535&sr)<<16}(C.unixPermissions,Et)):(ft=20,J|=function($e){return 63&($e||0)}(C.dosPermissions)),v=Se.getUTCHours(),v<<=6,v|=Se.getUTCMinutes(),v<<=5,v|=Se.getUTCSeconds()/2,b=Se.getUTCFullYear()-1980,b<<=4,b|=Se.getUTCMonth()+1,b<<=5,b|=Se.getUTCDate(),W&&(Dt=i(1,1)+i(l(F),4)+L,ne+="up"+i(Dt.length,2)+Dt),D&&(_e=i(1,1)+i(l(re),4)+R,ne+="uc"+i(_e.length,2)+_e);var it="";return it+=`
\0`,it+=i(oe,2),it+=T.magic,it+=i(v,2),it+=i(b,2),it+=i(Ft.crc32,4),it+=i(Ft.compressedSize,4),it+=i(Ft.uncompressedSize,4),it+=i(F.length,2),it+=i(ne.length,2),{fileRecord:c.LOCAL_FILE_HEADER+it+F+ne,dirRecord:c.CENTRAL_FILE_HEADER+i(ft,2)+it+i(re.length,2)+"\0\0\0\0"+i(J,4)+i(f,4)+F+ne+re}}var r=n("../utils"),s=n("../stream/GenericWorker"),a=n("../utf8"),l=n("../crc32"),c=n("../signature");function d(u,h,m,f){s.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=h,this.zipPlatform=m,this.encodeFileName=f,this.streamFiles=u,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}r.inherits(d,s),d.prototype.push=function(u){var h=u.meta.percent||0,m=this.entriesCount,f=this._sources.length;this.accumulate?this.contentBuffer.push(u):(this.bytesWritten+=u.data.length,s.prototype.push.call(this,{data:u.data,meta:{currentFile:this.currentFile,percent:m?(h+100*(m-f-1))/m:100}}))},d.prototype.openedSource=function(u){this.currentSourceOffset=this.bytesWritten,this.currentFile=u.file.name;var h=this.streamFiles&&!u.file.dir;if(h){var m=o(u,h,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:m.fileRecord,meta:{percent:0}})}else this.accumulate=!0},d.prototype.closedSource=function(u){this.accumulate=!1;var h=this.streamFiles&&!u.file.dir,m=o(u,h,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(m.dirRecord),h)this.push({data:function(f){return c.DATA_DESCRIPTOR+i(f.crc32,4)+i(f.compressedSize,4)+i(f.uncompressedSize,4)}(u),meta:{percent:100}});else for(this.push({data:m.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},d.prototype.flush=function(){for(var u=this.bytesWritten,h=0;h<this.dirRecords.length;h++)this.push({data:this.dirRecords[h],meta:{percent:100}});var m=this.bytesWritten-u,f=function(p,g,v,b,C){var T=r.transformTo("string",C(b));return c.CENTRAL_DIRECTORY_END+"\0\0\0\0"+i(p,2)+i(p,2)+i(g,4)+i(v,4)+i(T.length,2)+T}(this.dirRecords.length,m,u,this.zipComment,this.encodeFileName);this.push({data:f,meta:{percent:100}})},d.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},d.prototype.registerPrevious=function(u){this._sources.push(u);var h=this;return u.on("data",function(m){h.processChunk(m)}),u.on("end",function(){h.closedSource(h.previous.streamInfo),h._sources.length?h.prepareNextSource():h.end()}),u.on("error",function(m){h.error(m)}),this},d.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},d.prototype.error=function(u){var h=this._sources;if(!s.prototype.error.call(this,u))return!1;for(var m=0;m<h.length;m++)try{h[m].error(u)}catch{}return!0},d.prototype.lock=function(){s.prototype.lock.call(this);for(var u=this._sources,h=0;h<u.length;h++)u[h].lock()},t.exports=d},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,t,e){"use strict";var i=n("../compressions"),o=n("./ZipFileWorker");e.generateWorker=function(r,s,a){var l=new o(s.streamFiles,a,s.platform,s.encodeFileName),c=0;try{r.forEach(function(d,u){c++;var h=function(g,v){var b=g||v,C=i[b];if(!C)throw new Error(b+" is not a valid compression method !");return C}(u.options.compression,s.compression),m=u.options.compressionOptions||s.compressionOptions||{},f=u.dir,p=u.date;u._compressWorker(h,m).withStreamInfo("file",{name:d,dir:f,date:p,comment:u.comment||"",unixPermissions:u.unixPermissions,dosPermissions:u.dosPermissions}).pipe(l)}),l.entriesCount=c}catch(d){l.error(d)}return l}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,t,e){"use strict";function i(){if(!(this instanceof i))return new i;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var o=new i;for(var r in this)typeof this[r]!="function"&&(o[r]=this[r]);return o}}(i.prototype=n("./object")).loadAsync=n("./load"),i.support=n("./support"),i.defaults=n("./defaults"),i.version="3.10.1",i.loadAsync=function(o,r){return new i().loadAsync(o,r)},i.external=n("./external"),t.exports=i},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,t,e){"use strict";var i=n("./utils"),o=n("./external"),r=n("./utf8"),s=n("./zipEntries"),a=n("./stream/Crc32Probe"),l=n("./nodejsUtils");function c(d){return new o.Promise(function(u,h){var m=d.decompressed.getContentWorker().pipe(new a);m.on("error",function(f){h(f)}).on("end",function(){m.streamInfo.crc32!==d.decompressed.crc32?h(new Error("Corrupted zip : CRC32 mismatch")):u()}).resume()})}t.exports=function(d,u){var h=this;return u=i.extend(u||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:r.utf8decode}),l.isNode&&l.isStream(d)?o.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):i.prepareContent("the loaded zip file",d,!0,u.optimizedBinaryString,u.base64).then(function(m){var f=new s(u);return f.load(m),f}).then(function(m){var f=[o.Promise.resolve(m)],p=m.files;if(u.checkCRC32)for(var g=0;g<p.length;g++)f.push(c(p[g]));return o.Promise.all(f)}).then(function(m){for(var f=m.shift(),p=f.files,g=0;g<p.length;g++){var v=p[g],b=v.fileNameStr,C=i.resolve(v.fileNameStr);h.file(C,v.decompressed,{binary:!0,optimizedBinaryString:!0,date:v.date,dir:v.dir,comment:v.fileCommentStr.length?v.fileCommentStr:null,unixPermissions:v.unixPermissions,dosPermissions:v.dosPermissions,createFolders:u.createFolders}),v.dir||(h.file(C).unsafeOriginalName=b)}return f.zipComment.length&&(h.comment=f.zipComment),h})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,t,e){"use strict";var i=n("../utils"),o=n("../stream/GenericWorker");function r(s,a){o.call(this,"Nodejs stream input adapter for "+s),this._upstreamEnded=!1,this._bindStream(a)}i.inherits(r,o),r.prototype._bindStream=function(s){var a=this;(this._stream=s).pause(),s.on("data",function(l){a.push({data:l,meta:{percent:0}})}).on("error",function(l){a.isPaused?this.generatedError=l:a.error(l)}).on("end",function(){a.isPaused?a._upstreamEnded=!0:a.end()})},r.prototype.pause=function(){return!!o.prototype.pause.call(this)&&(this._stream.pause(),!0)},r.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},t.exports=r},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,t,e){"use strict";var i=n("readable-stream").Readable;function o(r,s,a){i.call(this,s),this._helper=r;var l=this;r.on("data",function(c,d){l.push(c)||l._helper.pause(),a&&a(d)}).on("error",function(c){l.emit("error",c)}).on("end",function(){l.push(null)})}n("../utils").inherits(o,i),o.prototype._read=function(){this._helper.resume()},t.exports=o},{"../utils":32,"readable-stream":16}],14:[function(n,t,e){"use strict";t.exports={isNode:typeof Buffer<"u",newBufferFrom:function(i,o){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(i,o);if(typeof i=="number")throw new Error('The "data" argument must not be a number');return new Buffer(i,o)},allocBuffer:function(i){if(Buffer.alloc)return Buffer.alloc(i);var o=new Buffer(i);return o.fill(0),o},isBuffer:function(i){return Buffer.isBuffer(i)},isStream:function(i){return i&&typeof i.on=="function"&&typeof i.pause=="function"&&typeof i.resume=="function"}}},{}],15:[function(n,t,e){"use strict";function i(C,T,E){var F,L=r.getTypeOf(T),H=r.extend(E||{},l);H.date=H.date||new Date,H.compression!==null&&(H.compression=H.compression.toUpperCase()),typeof H.unixPermissions=="string"&&(H.unixPermissions=parseInt(H.unixPermissions,8)),H.unixPermissions&&16384&H.unixPermissions&&(H.dir=!0),H.dosPermissions&&16&H.dosPermissions&&(H.dir=!0),H.dir&&(C=p(C)),H.createFolders&&(F=f(C))&&g.call(this,F,!0);var re=L==="string"&&H.binary===!1&&H.base64===!1;E&&E.binary!==void 0||(H.binary=!re),(T instanceof c&&T.uncompressedSize===0||H.dir||!T||T.length===0)&&(H.base64=!1,H.binary=!0,T="",H.compression="STORE",L="string");var R=null;R=T instanceof c||T instanceof s?T:h.isNode&&h.isStream(T)?new m(C,T):r.prepareContent(C,T,H.binary,H.optimizedBinaryString,H.base64);var W=new d(C,R,H);this.files[C]=W}var o=n("./utf8"),r=n("./utils"),s=n("./stream/GenericWorker"),a=n("./stream/StreamHelper"),l=n("./defaults"),c=n("./compressedObject"),d=n("./zipObject"),u=n("./generate"),h=n("./nodejsUtils"),m=n("./nodejs/NodejsStreamInputAdapter"),f=function(C){C.slice(-1)==="/"&&(C=C.substring(0,C.length-1));var T=C.lastIndexOf("/");return 0<T?C.substring(0,T):""},p=function(C){return C.slice(-1)!=="/"&&(C+="/"),C},g=function(C,T){return T=T!==void 0?T:l.createFolders,C=p(C),this.files[C]||i.call(this,C,null,{dir:!0,createFolders:T}),this.files[C]};function v(C){return Object.prototype.toString.call(C)==="[object RegExp]"}var b={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(C){var T,E,F;for(T in this.files)F=this.files[T],(E=T.slice(this.root.length,T.length))&&T.slice(0,this.root.length)===this.root&&C(E,F)},filter:function(C){var T=[];return this.forEach(function(E,F){C(E,F)&&T.push(F)}),T},file:function(C,T,E){if(arguments.length!==1)return C=this.root+C,i.call(this,C,T,E),this;if(v(C)){var F=C;return this.filter(function(H,re){return!re.dir&&F.test(H)})}var L=this.files[this.root+C];return L&&!L.dir?L:null},folder:function(C){if(!C)return this;if(v(C))return this.filter(function(L,H){return H.dir&&C.test(L)});var T=this.root+C,E=g.call(this,T),F=this.clone();return F.root=E.name,F},remove:function(C){C=this.root+C;var T=this.files[C];if(T||(C.slice(-1)!=="/"&&(C+="/"),T=this.files[C]),T&&!T.dir)delete this.files[C];else for(var E=this.filter(function(L,H){return H.name.slice(0,C.length)===C}),F=0;F<E.length;F++)delete this.files[E[F].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(C){var T,E={};try{if((E=r.extend(C||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:o.utf8encode})).type=E.type.toLowerCase(),E.compression=E.compression.toUpperCase(),E.type==="binarystring"&&(E.type="string"),!E.type)throw new Error("No output type specified.");r.checkSupport(E.type),E.platform!=="darwin"&&E.platform!=="freebsd"&&E.platform!=="linux"&&E.platform!=="sunos"||(E.platform="UNIX"),E.platform==="win32"&&(E.platform="DOS");var F=E.comment||this.comment||"";T=u.generateWorker(this,E,F)}catch(L){(T=new s("error")).error(L)}return new a(T,E.type||"string",E.mimeType)},generateAsync:function(C,T){return this.generateInternalStream(C).accumulate(T)},generateNodeStream:function(C,T){return(C=C||{}).type||(C.type="nodebuffer"),this.generateInternalStream(C).toNodejsStream(T)}};t.exports=b},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,t,e){"use strict";t.exports=n("stream")},{stream:void 0}],17:[function(n,t,e){"use strict";var i=n("./DataReader");function o(r){i.call(this,r);for(var s=0;s<this.data.length;s++)r[s]=255&r[s]}n("../utils").inherits(o,i),o.prototype.byteAt=function(r){return this.data[this.zero+r]},o.prototype.lastIndexOfSignature=function(r){for(var s=r.charCodeAt(0),a=r.charCodeAt(1),l=r.charCodeAt(2),c=r.charCodeAt(3),d=this.length-4;0<=d;--d)if(this.data[d]===s&&this.data[d+1]===a&&this.data[d+2]===l&&this.data[d+3]===c)return d-this.zero;return-1},o.prototype.readAndCheckSignature=function(r){var s=r.charCodeAt(0),a=r.charCodeAt(1),l=r.charCodeAt(2),c=r.charCodeAt(3),d=this.readData(4);return s===d[0]&&a===d[1]&&l===d[2]&&c===d[3]},o.prototype.readData=function(r){if(this.checkOffset(r),r===0)return[];var s=this.data.slice(this.zero+this.index,this.zero+this.index+r);return this.index+=r,s},t.exports=o},{"../utils":32,"./DataReader":18}],18:[function(n,t,e){"use strict";var i=n("../utils");function o(r){this.data=r,this.length=r.length,this.index=0,this.zero=0}o.prototype={checkOffset:function(r){this.checkIndex(this.index+r)},checkIndex:function(r){if(this.length<this.zero+r||r<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+r+"). Corrupted zip ?")},setIndex:function(r){this.checkIndex(r),this.index=r},skip:function(r){this.setIndex(this.index+r)},byteAt:function(){},readInt:function(r){var s,a=0;for(this.checkOffset(r),s=this.index+r-1;s>=this.index;s--)a=(a<<8)+this.byteAt(s);return this.index+=r,a},readString:function(r){return i.transformTo("string",this.readData(r))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var r=this.readInt(4);return new Date(Date.UTC(1980+(r>>25&127),(r>>21&15)-1,r>>16&31,r>>11&31,r>>5&63,(31&r)<<1))}},t.exports=o},{"../utils":32}],19:[function(n,t,e){"use strict";var i=n("./Uint8ArrayReader");function o(r){i.call(this,r)}n("../utils").inherits(o,i),o.prototype.readData=function(r){this.checkOffset(r);var s=this.data.slice(this.zero+this.index,this.zero+this.index+r);return this.index+=r,s},t.exports=o},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,t,e){"use strict";var i=n("./DataReader");function o(r){i.call(this,r)}n("../utils").inherits(o,i),o.prototype.byteAt=function(r){return this.data.charCodeAt(this.zero+r)},o.prototype.lastIndexOfSignature=function(r){return this.data.lastIndexOf(r)-this.zero},o.prototype.readAndCheckSignature=function(r){return r===this.readData(4)},o.prototype.readData=function(r){this.checkOffset(r);var s=this.data.slice(this.zero+this.index,this.zero+this.index+r);return this.index+=r,s},t.exports=o},{"../utils":32,"./DataReader":18}],21:[function(n,t,e){"use strict";var i=n("./ArrayReader");function o(r){i.call(this,r)}n("../utils").inherits(o,i),o.prototype.readData=function(r){if(this.checkOffset(r),r===0)return new Uint8Array(0);var s=this.data.subarray(this.zero+this.index,this.zero+this.index+r);return this.index+=r,s},t.exports=o},{"../utils":32,"./ArrayReader":17}],22:[function(n,t,e){"use strict";var i=n("../utils"),o=n("../support"),r=n("./ArrayReader"),s=n("./StringReader"),a=n("./NodeBufferReader"),l=n("./Uint8ArrayReader");t.exports=function(c){var d=i.getTypeOf(c);return i.checkSupport(d),d!=="string"||o.uint8array?d==="nodebuffer"?new a(c):o.uint8array?new l(i.transformTo("uint8array",c)):new r(i.transformTo("array",c)):new s(c)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,t,e){"use strict";e.LOCAL_FILE_HEADER="PK",e.CENTRAL_FILE_HEADER="PK",e.CENTRAL_DIRECTORY_END="PK",e.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",e.ZIP64_CENTRAL_DIRECTORY_END="PK",e.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,t,e){"use strict";var i=n("./GenericWorker"),o=n("../utils");function r(s){i.call(this,"ConvertWorker to "+s),this.destType=s}o.inherits(r,i),r.prototype.processChunk=function(s){this.push({data:o.transformTo(this.destType,s.data),meta:s.meta})},t.exports=r},{"../utils":32,"./GenericWorker":28}],25:[function(n,t,e){"use strict";var i=n("./GenericWorker"),o=n("../crc32");function r(){i.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(r,i),r.prototype.processChunk=function(s){this.streamInfo.crc32=o(s.data,this.streamInfo.crc32||0),this.push(s)},t.exports=r},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,t,e){"use strict";var i=n("../utils"),o=n("./GenericWorker");function r(s){o.call(this,"DataLengthProbe for "+s),this.propName=s,this.withStreamInfo(s,0)}i.inherits(r,o),r.prototype.processChunk=function(s){if(s){var a=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=a+s.data.length}o.prototype.processChunk.call(this,s)},t.exports=r},{"../utils":32,"./GenericWorker":28}],27:[function(n,t,e){"use strict";var i=n("../utils"),o=n("./GenericWorker");function r(s){o.call(this,"DataWorker");var a=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,s.then(function(l){a.dataIsReady=!0,a.data=l,a.max=l&&l.length||0,a.type=i.getTypeOf(l),a.isPaused||a._tickAndRepeat()},function(l){a.error(l)})}i.inherits(r,o),r.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this.data=null},r.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,i.delay(this._tickAndRepeat,[],this)),!0)},r.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(i.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},r.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var s=null,a=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":s=this.data.substring(this.index,a);break;case"uint8array":s=this.data.subarray(this.index,a);break;case"array":case"nodebuffer":s=this.data.slice(this.index,a)}return this.index=a,this.push({data:s,meta:{percent:this.max?this.index/this.max*100:0}})},t.exports=r},{"../utils":32,"./GenericWorker":28}],28:[function(n,t,e){"use strict";function i(o){this.name=o||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}i.prototype={push:function(o){this.emit("data",o)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(o){this.emit("error",o)}return!0},error:function(o){return!this.isFinished&&(this.isPaused?this.generatedError=o:(this.isFinished=!0,this.emit("error",o),this.previous&&this.previous.error(o),this.cleanUp()),!0)},on:function(o,r){return this._listeners[o].push(r),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(o,r){if(this._listeners[o])for(var s=0;s<this._listeners[o].length;s++)this._listeners[o][s].call(this,r)},pipe:function(o){return o.registerPrevious(this)},registerPrevious:function(o){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=o.streamInfo,this.mergeStreamInfo(),this.previous=o;var r=this;return o.on("data",function(s){r.processChunk(s)}),o.on("end",function(){r.end()}),o.on("error",function(s){r.error(s)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var o=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),o=!0),this.previous&&this.previous.resume(),!o},flush:function(){},processChunk:function(o){this.push(o)},withStreamInfo:function(o,r){return this.extraStreamInfo[o]=r,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var o in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,o)&&(this.streamInfo[o]=this.extraStreamInfo[o])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var o="Worker "+this.name;return this.previous?this.previous+" -> "+o:o}},t.exports=i},{}],29:[function(n,t,e){"use strict";var i=n("../utils"),o=n("./ConvertWorker"),r=n("./GenericWorker"),s=n("../base64"),a=n("../support"),l=n("../external"),c=null;if(a.nodestream)try{c=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function d(h,m){return new l.Promise(function(f,p){var g=[],v=h._internalType,b=h._outputType,C=h._mimeType;h.on("data",function(T,E){g.push(T),m&&m(E)}).on("error",function(T){g=[],p(T)}).on("end",function(){try{var T=function(E,F,L){switch(E){case"blob":return i.newBlob(i.transformTo("arraybuffer",F),L);case"base64":return s.encode(F);default:return i.transformTo(E,F)}}(b,function(E,F){var L,H=0,re=null,R=0;for(L=0;L<F.length;L++)R+=F[L].length;switch(E){case"string":return F.join("");case"array":return Array.prototype.concat.apply([],F);case"uint8array":for(re=new Uint8Array(R),L=0;L<F.length;L++)re.set(F[L],H),H+=F[L].length;return re;case"nodebuffer":return Buffer.concat(F);default:throw new Error("concat : unsupported type '"+E+"'")}}(v,g),C);f(T)}catch(E){p(E)}g=[]}).resume()})}function u(h,m,f){var p=m;switch(m){case"blob":case"arraybuffer":p="uint8array";break;case"base64":p="string"}try{this._internalType=p,this._outputType=m,this._mimeType=f,i.checkSupport(p),this._worker=h.pipe(new o(p)),h.lock()}catch(g){this._worker=new r("error"),this._worker.error(g)}}u.prototype={accumulate:function(h){return d(this,h)},on:function(h,m){var f=this;return h==="data"?this._worker.on(h,function(p){m.call(f,p.data,p.meta)}):this._worker.on(h,function(){i.delay(m,arguments,f)}),this},resume:function(){return i.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(h){if(i.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new c(this,{objectMode:this._outputType!=="nodebuffer"},h)}},t.exports=u},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,t,e){"use strict";if(e.base64=!0,e.array=!0,e.string=!0,e.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",e.nodebuffer=typeof Buffer<"u",e.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")e.blob=!1;else{var i=new ArrayBuffer(0);try{e.blob=new Blob([i],{type:"application/zip"}).size===0}catch{try{var o=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);o.append(i),e.blob=o.getBlob("application/zip").size===0}catch{e.blob=!1}}}try{e.nodestream=!!n("readable-stream").Readable}catch{e.nodestream=!1}},{"readable-stream":16}],31:[function(n,t,e){"use strict";for(var i=n("./utils"),o=n("./support"),r=n("./nodejsUtils"),s=n("./stream/GenericWorker"),a=new Array(256),l=0;l<256;l++)a[l]=252<=l?6:248<=l?5:240<=l?4:224<=l?3:192<=l?2:1;a[254]=a[254]=1;function c(){s.call(this,"utf-8 decode"),this.leftOver=null}function d(){s.call(this,"utf-8 encode")}e.utf8encode=function(u){return o.nodebuffer?r.newBufferFrom(u,"utf-8"):function(h){var m,f,p,g,v,b=h.length,C=0;for(g=0;g<b;g++)(64512&(f=h.charCodeAt(g)))==55296&&g+1<b&&(64512&(p=h.charCodeAt(g+1)))==56320&&(f=65536+(f-55296<<10)+(p-56320),g++),C+=f<128?1:f<2048?2:f<65536?3:4;for(m=o.uint8array?new Uint8Array(C):new Array(C),g=v=0;v<C;g++)(64512&(f=h.charCodeAt(g)))==55296&&g+1<b&&(64512&(p=h.charCodeAt(g+1)))==56320&&(f=65536+(f-55296<<10)+(p-56320),g++),f<128?m[v++]=f:(f<2048?m[v++]=192|f>>>6:(f<65536?m[v++]=224|f>>>12:(m[v++]=240|f>>>18,m[v++]=128|f>>>12&63),m[v++]=128|f>>>6&63),m[v++]=128|63&f);return m}(u)},e.utf8decode=function(u){return o.nodebuffer?i.transformTo("nodebuffer",u).toString("utf-8"):function(h){var m,f,p,g,v=h.length,b=new Array(2*v);for(m=f=0;m<v;)if((p=h[m++])<128)b[f++]=p;else if(4<(g=a[p]))b[f++]=65533,m+=g-1;else{for(p&=g===2?31:g===3?15:7;1<g&&m<v;)p=p<<6|63&h[m++],g--;1<g?b[f++]=65533:p<65536?b[f++]=p:(p-=65536,b[f++]=55296|p>>10&1023,b[f++]=56320|1023&p)}return b.length!==f&&(b.subarray?b=b.subarray(0,f):b.length=f),i.applyFromCharCode(b)}(u=i.transformTo(o.uint8array?"uint8array":"array",u))},i.inherits(c,s),c.prototype.processChunk=function(u){var h=i.transformTo(o.uint8array?"uint8array":"array",u.data);if(this.leftOver&&this.leftOver.length){if(o.uint8array){var m=h;(h=new Uint8Array(m.length+this.leftOver.length)).set(this.leftOver,0),h.set(m,this.leftOver.length)}else h=this.leftOver.concat(h);this.leftOver=null}var f=function(g,v){var b;for((v=v||g.length)>g.length&&(v=g.length),b=v-1;0<=b&&(192&g[b])==128;)b--;return b<0||b===0?v:b+a[g[b]]>v?b:v}(h),p=h;f!==h.length&&(o.uint8array?(p=h.subarray(0,f),this.leftOver=h.subarray(f,h.length)):(p=h.slice(0,f),this.leftOver=h.slice(f,h.length))),this.push({data:e.utf8decode(p),meta:u.meta})},c.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:e.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},e.Utf8DecodeWorker=c,i.inherits(d,s),d.prototype.processChunk=function(u){this.push({data:e.utf8encode(u.data),meta:u.meta})},e.Utf8EncodeWorker=d},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,t,e){"use strict";var i=n("./support"),o=n("./base64"),r=n("./nodejsUtils"),s=n("./external");function a(m){return m}function l(m,f){for(var p=0;p<m.length;++p)f[p]=255&m.charCodeAt(p);return f}n("setimmediate"),e.newBlob=function(m,f){e.checkSupport("blob");try{return new Blob([m],{type:f})}catch{try{var p=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return p.append(m),p.getBlob(f)}catch{throw new Error("Bug : can't construct the Blob.")}}};var c={stringifyByChunk:function(m,f,p){var g=[],v=0,b=m.length;if(b<=p)return String.fromCharCode.apply(null,m);for(;v<b;)f==="array"||f==="nodebuffer"?g.push(String.fromCharCode.apply(null,m.slice(v,Math.min(v+p,b)))):g.push(String.fromCharCode.apply(null,m.subarray(v,Math.min(v+p,b)))),v+=p;return g.join("")},stringifyByChar:function(m){for(var f="",p=0;p<m.length;p++)f+=String.fromCharCode(m[p]);return f},applyCanBeUsed:{uint8array:function(){try{return i.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return i.nodebuffer&&String.fromCharCode.apply(null,r.allocBuffer(1)).length===1}catch{return!1}}()}};function d(m){var f=65536,p=e.getTypeOf(m),g=!0;if(p==="uint8array"?g=c.applyCanBeUsed.uint8array:p==="nodebuffer"&&(g=c.applyCanBeUsed.nodebuffer),g)for(;1<f;)try{return c.stringifyByChunk(m,p,f)}catch{f=Math.floor(f/2)}return c.stringifyByChar(m)}function u(m,f){for(var p=0;p<m.length;p++)f[p]=m[p];return f}e.applyFromCharCode=d;var h={};h.string={string:a,array:function(m){return l(m,new Array(m.length))},arraybuffer:function(m){return h.string.uint8array(m).buffer},uint8array:function(m){return l(m,new Uint8Array(m.length))},nodebuffer:function(m){return l(m,r.allocBuffer(m.length))}},h.array={string:d,array:a,arraybuffer:function(m){return new Uint8Array(m).buffer},uint8array:function(m){return new Uint8Array(m)},nodebuffer:function(m){return r.newBufferFrom(m)}},h.arraybuffer={string:function(m){return d(new Uint8Array(m))},array:function(m){return u(new Uint8Array(m),new Array(m.byteLength))},arraybuffer:a,uint8array:function(m){return new Uint8Array(m)},nodebuffer:function(m){return r.newBufferFrom(new Uint8Array(m))}},h.uint8array={string:d,array:function(m){return u(m,new Array(m.length))},arraybuffer:function(m){return m.buffer},uint8array:a,nodebuffer:function(m){return r.newBufferFrom(m)}},h.nodebuffer={string:d,array:function(m){return u(m,new Array(m.length))},arraybuffer:function(m){return h.nodebuffer.uint8array(m).buffer},uint8array:function(m){return u(m,new Uint8Array(m.length))},nodebuffer:a},e.transformTo=function(m,f){if(f=f||"",!m)return f;e.checkSupport(m);var p=e.getTypeOf(f);return h[p][m](f)},e.resolve=function(m){for(var f=m.split("/"),p=[],g=0;g<f.length;g++){var v=f[g];v==="."||v===""&&g!==0&&g!==f.length-1||(v===".."?p.pop():p.push(v))}return p.join("/")},e.getTypeOf=function(m){return typeof m=="string"?"string":Object.prototype.toString.call(m)==="[object Array]"?"array":i.nodebuffer&&r.isBuffer(m)?"nodebuffer":i.uint8array&&m instanceof Uint8Array?"uint8array":i.arraybuffer&&m instanceof ArrayBuffer?"arraybuffer":void 0},e.checkSupport=function(m){if(!i[m.toLowerCase()])throw new Error(m+" is not supported by this platform")},e.MAX_VALUE_16BITS=65535,e.MAX_VALUE_32BITS=-1,e.pretty=function(m){var f,p,g="";for(p=0;p<(m||"").length;p++)g+="\\x"+((f=m.charCodeAt(p))<16?"0":"")+f.toString(16).toUpperCase();return g},e.delay=function(m,f,p){setImmediate(function(){m.apply(p||null,f||[])})},e.inherits=function(m,f){function p(){}p.prototype=f.prototype,m.prototype=new p},e.extend=function(){var m,f,p={};for(m=0;m<arguments.length;m++)for(f in arguments[m])Object.prototype.hasOwnProperty.call(arguments[m],f)&&p[f]===void 0&&(p[f]=arguments[m][f]);return p},e.prepareContent=function(m,f,p,g,v){return s.Promise.resolve(f).then(function(b){return i.blob&&(b instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(b))!==-1)&&typeof FileReader<"u"?new s.Promise(function(C,T){var E=new FileReader;E.onload=function(F){C(F.target.result)},E.onerror=function(F){T(F.target.error)},E.readAsArrayBuffer(b)}):b}).then(function(b){var C=e.getTypeOf(b);return C?(C==="arraybuffer"?b=e.transformTo("uint8array",b):C==="string"&&(v?b=o.decode(b):p&&g!==!0&&(b=function(T){return l(T,i.uint8array?new Uint8Array(T.length):new Array(T.length))}(b))),b):s.Promise.reject(new Error("Can't read the data of '"+m+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,t,e){"use strict";var i=n("./reader/readerFor"),o=n("./utils"),r=n("./signature"),s=n("./zipEntry"),a=n("./support");function l(c){this.files=[],this.loadOptions=c}l.prototype={checkSignature:function(c){if(!this.reader.readAndCheckSignature(c)){this.reader.index-=4;var d=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+o.pretty(d)+", expected "+o.pretty(c)+")")}},isSignature:function(c,d){var u=this.reader.index;this.reader.setIndex(c);var h=this.reader.readString(4)===d;return this.reader.setIndex(u),h},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var c=this.reader.readData(this.zipCommentLength),d=a.uint8array?"uint8array":"array",u=o.transformTo(d,c);this.zipComment=this.loadOptions.decodeFileName(u)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var c,d,u,h=this.zip64EndOfCentralSize-44;0<h;)c=this.reader.readInt(2),d=this.reader.readInt(4),u=this.reader.readData(d),this.zip64ExtensibleData[c]={id:c,length:d,value:u}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var c,d;for(c=0;c<this.files.length;c++)d=this.files[c],this.reader.setIndex(d.localHeaderOffset),this.checkSignature(r.LOCAL_FILE_HEADER),d.readLocalPart(this.reader),d.handleUTF8(),d.processAttributes()},readCentralDir:function(){var c;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(r.CENTRAL_FILE_HEADER);)(c=new s({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(c);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var c=this.reader.lastIndexOfSignature(r.CENTRAL_DIRECTORY_END);if(c<0)throw this.isSignature(0,r.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(c);var d=c;if(this.checkSignature(r.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,(c=this.reader.lastIndexOfSignature(r.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(c),this.checkSignature(r.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,r.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(r.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(r.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var u=this.centralDirOffset+this.centralDirSize;this.zip64&&(u+=20,u+=12+this.zip64EndOfCentralSize);var h=d-u;if(0<h)this.isSignature(d,r.CENTRAL_FILE_HEADER)||(this.reader.zero=h);else if(h<0)throw new Error("Corrupted zip: missing "+Math.abs(h)+" bytes.")},prepareReader:function(c){this.reader=i(c)},load:function(c){this.prepareReader(c),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},t.exports=l},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,t,e){"use strict";var i=n("./reader/readerFor"),o=n("./utils"),r=n("./compressedObject"),s=n("./crc32"),a=n("./utf8"),l=n("./compressions"),c=n("./support");function d(u,h){this.options=u,this.loadOptions=h}d.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(u){var h,m;if(u.skip(22),this.fileNameLength=u.readInt(2),m=u.readInt(2),this.fileName=u.readData(this.fileNameLength),u.skip(m),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((h=function(f){for(var p in l)if(Object.prototype.hasOwnProperty.call(l,p)&&l[p].magic===f)return l[p];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+o.transformTo("string",this.fileName)+")");this.decompressed=new r(this.compressedSize,this.uncompressedSize,this.crc32,h,u.readData(this.compressedSize))},readCentralPart:function(u){this.versionMadeBy=u.readInt(2),u.skip(2),this.bitFlag=u.readInt(2),this.compressionMethod=u.readString(2),this.date=u.readDate(),this.crc32=u.readInt(4),this.compressedSize=u.readInt(4),this.uncompressedSize=u.readInt(4);var h=u.readInt(2);if(this.extraFieldsLength=u.readInt(2),this.fileCommentLength=u.readInt(2),this.diskNumberStart=u.readInt(2),this.internalFileAttributes=u.readInt(2),this.externalFileAttributes=u.readInt(4),this.localHeaderOffset=u.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");u.skip(h),this.readExtraFields(u),this.parseZIP64ExtraField(u),this.fileComment=u.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var u=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),u==0&&(this.dosPermissions=63&this.externalFileAttributes),u==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var u=i(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=u.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=u.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=u.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=u.readInt(4))}},readExtraFields:function(u){var h,m,f,p=u.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});u.index+4<p;)h=u.readInt(2),m=u.readInt(2),f=u.readData(m),this.extraFields[h]={id:h,length:m,value:f};u.setIndex(p)},handleUTF8:function(){var u=c.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=a.utf8decode(this.fileName),this.fileCommentStr=a.utf8decode(this.fileComment);else{var h=this.findExtraFieldUnicodePath();if(h!==null)this.fileNameStr=h;else{var m=o.transformTo(u,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(m)}var f=this.findExtraFieldUnicodeComment();if(f!==null)this.fileCommentStr=f;else{var p=o.transformTo(u,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(p)}}},findExtraFieldUnicodePath:function(){var u=this.extraFields[28789];if(u){var h=i(u.value);return h.readInt(1)!==1||s(this.fileName)!==h.readInt(4)?null:a.utf8decode(h.readData(u.length-5))}return null},findExtraFieldUnicodeComment:function(){var u=this.extraFields[25461];if(u){var h=i(u.value);return h.readInt(1)!==1||s(this.fileComment)!==h.readInt(4)?null:a.utf8decode(h.readData(u.length-5))}return null}},t.exports=d},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,t,e){"use strict";function i(h,m,f){this.name=h,this.dir=f.dir,this.date=f.date,this.comment=f.comment,this.unixPermissions=f.unixPermissions,this.dosPermissions=f.dosPermissions,this._data=m,this._dataBinary=f.binary,this.options={compression:f.compression,compressionOptions:f.compressionOptions}}var o=n("./stream/StreamHelper"),r=n("./stream/DataWorker"),s=n("./utf8"),a=n("./compressedObject"),l=n("./stream/GenericWorker");i.prototype={internalStream:function(h){var m=null,f="string";try{if(!h)throw new Error("No output type specified.");var p=(f=h.toLowerCase())==="string"||f==="text";f!=="binarystring"&&f!=="text"||(f="string"),m=this._decompressWorker();var g=!this._dataBinary;g&&!p&&(m=m.pipe(new s.Utf8EncodeWorker)),!g&&p&&(m=m.pipe(new s.Utf8DecodeWorker))}catch(v){(m=new l("error")).error(v)}return new o(m,f,"")},async:function(h,m){return this.internalStream(h).accumulate(m)},nodeStream:function(h,m){return this.internalStream(h||"nodebuffer").toNodejsStream(m)},_compressWorker:function(h,m){if(this._data instanceof a&&this._data.compression.magic===h.magic)return this._data.getCompressedWorker();var f=this._decompressWorker();return this._dataBinary||(f=f.pipe(new s.Utf8EncodeWorker)),a.createWorkerFrom(f,h,m)},_decompressWorker:function(){return this._data instanceof a?this._data.getContentWorker():this._data instanceof l?this._data:new r(this._data)}};for(var c=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],d=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},u=0;u<c.length;u++)i.prototype[c[u]]=d;t.exports=i},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,t,e){(function(i){"use strict";var o,r,s=i.MutationObserver||i.WebKitMutationObserver;if(s){var a=0,l=new s(h),c=i.document.createTextNode("");l.observe(c,{characterData:!0}),o=function(){c.data=a=++a%2}}else if(i.setImmediate||i.MessageChannel===void 0)o="document"in i&&"onreadystatechange"in i.document.createElement("script")?function(){var m=i.document.createElement("script");m.onreadystatechange=function(){h(),m.onreadystatechange=null,m.parentNode.removeChild(m),m=null},i.document.documentElement.appendChild(m)}:function(){setTimeout(h,0)};else{var d=new i.MessageChannel;d.port1.onmessage=h,o=function(){d.port2.postMessage(0)}}var u=[];function h(){var m,f;r=!0;for(var p=u.length;p;){for(f=u,u=[],m=-1;++m<p;)f[m]();p=u.length}r=!1}t.exports=function(m){u.push(m)!==1||r||o()}}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,t,e){"use strict";var i=n("immediate");function o(){}var r={},s=["REJECTED"],a=["FULFILLED"],l=["PENDING"];function c(p){if(typeof p!="function")throw new TypeError("resolver must be a function");this.state=l,this.queue=[],this.outcome=void 0,p!==o&&m(this,p)}function d(p,g,v){this.promise=p,typeof g=="function"&&(this.onFulfilled=g,this.callFulfilled=this.otherCallFulfilled),typeof v=="function"&&(this.onRejected=v,this.callRejected=this.otherCallRejected)}function u(p,g,v){i(function(){var b;try{b=g(v)}catch(C){return r.reject(p,C)}b===p?r.reject(p,new TypeError("Cannot resolve promise with itself")):r.resolve(p,b)})}function h(p){var g=p&&p.then;if(p&&(typeof p=="object"||typeof p=="function")&&typeof g=="function")return function(){g.apply(p,arguments)}}function m(p,g){var v=!1;function b(E){v||(v=!0,r.reject(p,E))}function C(E){v||(v=!0,r.resolve(p,E))}var T=f(function(){g(C,b)});T.status==="error"&&b(T.value)}function f(p,g){var v={};try{v.value=p(g),v.status="success"}catch(b){v.status="error",v.value=b}return v}(t.exports=c).prototype.finally=function(p){if(typeof p!="function")return this;var g=this.constructor;return this.then(function(v){return g.resolve(p()).then(function(){return v})},function(v){return g.resolve(p()).then(function(){throw v})})},c.prototype.catch=function(p){return this.then(null,p)},c.prototype.then=function(p,g){if(typeof p!="function"&&this.state===a||typeof g!="function"&&this.state===s)return this;var v=new this.constructor(o);return this.state!==l?u(v,this.state===a?p:g,this.outcome):this.queue.push(new d(v,p,g)),v},d.prototype.callFulfilled=function(p){r.resolve(this.promise,p)},d.prototype.otherCallFulfilled=function(p){u(this.promise,this.onFulfilled,p)},d.prototype.callRejected=function(p){r.reject(this.promise,p)},d.prototype.otherCallRejected=function(p){u(this.promise,this.onRejected,p)},r.resolve=function(p,g){var v=f(h,g);if(v.status==="error")return r.reject(p,v.value);var b=v.value;if(b)m(p,b);else{p.state=a,p.outcome=g;for(var C=-1,T=p.queue.length;++C<T;)p.queue[C].callFulfilled(g)}return p},r.reject=function(p,g){p.state=s,p.outcome=g;for(var v=-1,b=p.queue.length;++v<b;)p.queue[v].callRejected(g);return p},c.resolve=function(p){return p instanceof this?p:r.resolve(new this(o),p)},c.reject=function(p){var g=new this(o);return r.reject(g,p)},c.all=function(p){var g=this;if(Object.prototype.toString.call(p)!=="[object Array]")return this.reject(new TypeError("must be an array"));var v=p.length,b=!1;if(!v)return this.resolve([]);for(var C=new Array(v),T=0,E=-1,F=new this(o);++E<v;)L(p[E],E);return F;function L(H,re){g.resolve(H).then(function(R){C[re]=R,++T!==v||b||(b=!0,r.resolve(F,C))},function(R){b||(b=!0,r.reject(F,R))})}},c.race=function(p){var g=this;if(Object.prototype.toString.call(p)!=="[object Array]")return this.reject(new TypeError("must be an array"));var v=p.length,b=!1;if(!v)return this.resolve([]);for(var C=-1,T=new this(o);++C<v;)E=p[C],g.resolve(E).then(function(F){b||(b=!0,r.resolve(T,F))},function(F){b||(b=!0,r.reject(T,F))});var E;return T}},{immediate:36}],38:[function(n,t,e){"use strict";var i={};(0,n("./lib/utils/common").assign)(i,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),t.exports=i},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,t,e){"use strict";var i=n("./zlib/deflate"),o=n("./utils/common"),r=n("./utils/strings"),s=n("./zlib/messages"),a=n("./zlib/zstream"),l=Object.prototype.toString,c=0,d=-1,u=0,h=8;function m(p){if(!(this instanceof m))return new m(p);this.options=o.assign({level:d,method:h,chunkSize:16384,windowBits:15,memLevel:8,strategy:u,to:""},p||{});var g=this.options;g.raw&&0<g.windowBits?g.windowBits=-g.windowBits:g.gzip&&0<g.windowBits&&g.windowBits<16&&(g.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new a,this.strm.avail_out=0;var v=i.deflateInit2(this.strm,g.level,g.method,g.windowBits,g.memLevel,g.strategy);if(v!==c)throw new Error(s[v]);if(g.header&&i.deflateSetHeader(this.strm,g.header),g.dictionary){var b;if(b=typeof g.dictionary=="string"?r.string2buf(g.dictionary):l.call(g.dictionary)==="[object ArrayBuffer]"?new Uint8Array(g.dictionary):g.dictionary,(v=i.deflateSetDictionary(this.strm,b))!==c)throw new Error(s[v]);this._dict_set=!0}}function f(p,g){var v=new m(g);if(v.push(p,!0),v.err)throw v.msg||s[v.err];return v.result}m.prototype.push=function(p,g){var v,b,C=this.strm,T=this.options.chunkSize;if(this.ended)return!1;b=g===~~g?g:g===!0?4:0,typeof p=="string"?C.input=r.string2buf(p):l.call(p)==="[object ArrayBuffer]"?C.input=new Uint8Array(p):C.input=p,C.next_in=0,C.avail_in=C.input.length;do{if(C.avail_out===0&&(C.output=new o.Buf8(T),C.next_out=0,C.avail_out=T),(v=i.deflate(C,b))!==1&&v!==c)return this.onEnd(v),!(this.ended=!0);C.avail_out!==0&&(C.avail_in!==0||b!==4&&b!==2)||(this.options.to==="string"?this.onData(r.buf2binstring(o.shrinkBuf(C.output,C.next_out))):this.onData(o.shrinkBuf(C.output,C.next_out)))}while((0<C.avail_in||C.avail_out===0)&&v!==1);return b===4?(v=i.deflateEnd(this.strm),this.onEnd(v),this.ended=!0,v===c):b!==2||(this.onEnd(c),!(C.avail_out=0))},m.prototype.onData=function(p){this.chunks.push(p)},m.prototype.onEnd=function(p){p===c&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=p,this.msg=this.strm.msg},e.Deflate=m,e.deflate=f,e.deflateRaw=function(p,g){return(g=g||{}).raw=!0,f(p,g)},e.gzip=function(p,g){return(g=g||{}).gzip=!0,f(p,g)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,t,e){"use strict";var i=n("./zlib/inflate"),o=n("./utils/common"),r=n("./utils/strings"),s=n("./zlib/constants"),a=n("./zlib/messages"),l=n("./zlib/zstream"),c=n("./zlib/gzheader"),d=Object.prototype.toString;function u(m){if(!(this instanceof u))return new u(m);this.options=o.assign({chunkSize:16384,windowBits:0,to:""},m||{});var f=this.options;f.raw&&0<=f.windowBits&&f.windowBits<16&&(f.windowBits=-f.windowBits,f.windowBits===0&&(f.windowBits=-15)),!(0<=f.windowBits&&f.windowBits<16)||m&&m.windowBits||(f.windowBits+=32),15<f.windowBits&&f.windowBits<48&&!(15&f.windowBits)&&(f.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var p=i.inflateInit2(this.strm,f.windowBits);if(p!==s.Z_OK)throw new Error(a[p]);this.header=new c,i.inflateGetHeader(this.strm,this.header)}function h(m,f){var p=new u(f);if(p.push(m,!0),p.err)throw p.msg||a[p.err];return p.result}u.prototype.push=function(m,f){var p,g,v,b,C,T,E=this.strm,F=this.options.chunkSize,L=this.options.dictionary,H=!1;if(this.ended)return!1;g=f===~~f?f:f===!0?s.Z_FINISH:s.Z_NO_FLUSH,typeof m=="string"?E.input=r.binstring2buf(m):d.call(m)==="[object ArrayBuffer]"?E.input=new Uint8Array(m):E.input=m,E.next_in=0,E.avail_in=E.input.length;do{if(E.avail_out===0&&(E.output=new o.Buf8(F),E.next_out=0,E.avail_out=F),(p=i.inflate(E,s.Z_NO_FLUSH))===s.Z_NEED_DICT&&L&&(T=typeof L=="string"?r.string2buf(L):d.call(L)==="[object ArrayBuffer]"?new Uint8Array(L):L,p=i.inflateSetDictionary(this.strm,T)),p===s.Z_BUF_ERROR&&H===!0&&(p=s.Z_OK,H=!1),p!==s.Z_STREAM_END&&p!==s.Z_OK)return this.onEnd(p),!(this.ended=!0);E.next_out&&(E.avail_out!==0&&p!==s.Z_STREAM_END&&(E.avail_in!==0||g!==s.Z_FINISH&&g!==s.Z_SYNC_FLUSH)||(this.options.to==="string"?(v=r.utf8border(E.output,E.next_out),b=E.next_out-v,C=r.buf2string(E.output,v),E.next_out=b,E.avail_out=F-b,b&&o.arraySet(E.output,E.output,v,b,0),this.onData(C)):this.onData(o.shrinkBuf(E.output,E.next_out)))),E.avail_in===0&&E.avail_out===0&&(H=!0)}while((0<E.avail_in||E.avail_out===0)&&p!==s.Z_STREAM_END);return p===s.Z_STREAM_END&&(g=s.Z_FINISH),g===s.Z_FINISH?(p=i.inflateEnd(this.strm),this.onEnd(p),this.ended=!0,p===s.Z_OK):g!==s.Z_SYNC_FLUSH||(this.onEnd(s.Z_OK),!(E.avail_out=0))},u.prototype.onData=function(m){this.chunks.push(m)},u.prototype.onEnd=function(m){m===s.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=m,this.msg=this.strm.msg},e.Inflate=u,e.inflate=h,e.inflateRaw=function(m,f){return(f=f||{}).raw=!0,h(m,f)},e.ungzip=h},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,t,e){"use strict";var i=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";e.assign=function(s){for(var a=Array.prototype.slice.call(arguments,1);a.length;){var l=a.shift();if(l){if(typeof l!="object")throw new TypeError(l+"must be non-object");for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])}}return s},e.shrinkBuf=function(s,a){return s.length===a?s:s.subarray?s.subarray(0,a):(s.length=a,s)};var o={arraySet:function(s,a,l,c,d){if(a.subarray&&s.subarray)s.set(a.subarray(l,l+c),d);else for(var u=0;u<c;u++)s[d+u]=a[l+u]},flattenChunks:function(s){var a,l,c,d,u,h;for(a=c=0,l=s.length;a<l;a++)c+=s[a].length;for(h=new Uint8Array(c),a=d=0,l=s.length;a<l;a++)u=s[a],h.set(u,d),d+=u.length;return h}},r={arraySet:function(s,a,l,c,d){for(var u=0;u<c;u++)s[d+u]=a[l+u]},flattenChunks:function(s){return[].concat.apply([],s)}};e.setTyped=function(s){s?(e.Buf8=Uint8Array,e.Buf16=Uint16Array,e.Buf32=Int32Array,e.assign(e,o)):(e.Buf8=Array,e.Buf16=Array,e.Buf32=Array,e.assign(e,r))},e.setTyped(i)},{}],42:[function(n,t,e){"use strict";var i=n("./common"),o=!0,r=!0;try{String.fromCharCode.apply(null,[0])}catch{o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{r=!1}for(var s=new i.Buf8(256),a=0;a<256;a++)s[a]=252<=a?6:248<=a?5:240<=a?4:224<=a?3:192<=a?2:1;function l(c,d){if(d<65537&&(c.subarray&&r||!c.subarray&&o))return String.fromCharCode.apply(null,i.shrinkBuf(c,d));for(var u="",h=0;h<d;h++)u+=String.fromCharCode(c[h]);return u}s[254]=s[254]=1,e.string2buf=function(c){var d,u,h,m,f,p=c.length,g=0;for(m=0;m<p;m++)(64512&(u=c.charCodeAt(m)))==55296&&m+1<p&&(64512&(h=c.charCodeAt(m+1)))==56320&&(u=65536+(u-55296<<10)+(h-56320),m++),g+=u<128?1:u<2048?2:u<65536?3:4;for(d=new i.Buf8(g),m=f=0;f<g;m++)(64512&(u=c.charCodeAt(m)))==55296&&m+1<p&&(64512&(h=c.charCodeAt(m+1)))==56320&&(u=65536+(u-55296<<10)+(h-56320),m++),u<128?d[f++]=u:(u<2048?d[f++]=192|u>>>6:(u<65536?d[f++]=224|u>>>12:(d[f++]=240|u>>>18,d[f++]=128|u>>>12&63),d[f++]=128|u>>>6&63),d[f++]=128|63&u);return d},e.buf2binstring=function(c){return l(c,c.length)},e.binstring2buf=function(c){for(var d=new i.Buf8(c.length),u=0,h=d.length;u<h;u++)d[u]=c.charCodeAt(u);return d},e.buf2string=function(c,d){var u,h,m,f,p=d||c.length,g=new Array(2*p);for(u=h=0;u<p;)if((m=c[u++])<128)g[h++]=m;else if(4<(f=s[m]))g[h++]=65533,u+=f-1;else{for(m&=f===2?31:f===3?15:7;1<f&&u<p;)m=m<<6|63&c[u++],f--;1<f?g[h++]=65533:m<65536?g[h++]=m:(m-=65536,g[h++]=55296|m>>10&1023,g[h++]=56320|1023&m)}return l(g,h)},e.utf8border=function(c,d){var u;for((d=d||c.length)>c.length&&(d=c.length),u=d-1;0<=u&&(192&c[u])==128;)u--;return u<0||u===0?d:u+s[c[u]]>d?u:d}},{"./common":41}],43:[function(n,t,e){"use strict";t.exports=function(i,o,r,s){for(var a=65535&i|0,l=i>>>16&65535|0,c=0;r!==0;){for(r-=c=2e3<r?2e3:r;l=l+(a=a+o[s++]|0)|0,--c;);a%=65521,l%=65521}return a|l<<16|0}},{}],44:[function(n,t,e){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,t,e){"use strict";var i=function(){for(var o,r=[],s=0;s<256;s++){o=s;for(var a=0;a<8;a++)o=1&o?3988292384^o>>>1:o>>>1;r[s]=o}return r}();t.exports=function(o,r,s,a){var l=i,c=a+s;o^=-1;for(var d=a;d<c;d++)o=o>>>8^l[255&(o^r[d])];return-1^o}},{}],46:[function(n,t,e){"use strict";var i,o=n("../utils/common"),r=n("./trees"),s=n("./adler32"),a=n("./crc32"),l=n("./messages"),c=0,d=4,u=0,h=-2,m=-1,f=4,p=2,g=8,v=9,b=286,C=30,T=19,E=2*b+1,F=15,L=3,H=258,re=H+L+1,R=42,W=113,D=1,ne=2,Dt=3,_e=4;function Et(S,fe){return S.msg=l[fe],fe}function Se(S){return(S<<1)-(4<S?9:0)}function Ft(S){for(var fe=S.length;0<=--fe;)S[fe]=0}function oe(S){var fe=S.state,se=fe.pending;se>S.avail_out&&(se=S.avail_out),se!==0&&(o.arraySet(S.output,fe.pending_buf,fe.pending_out,se,S.next_out),S.next_out+=se,fe.pending_out+=se,S.total_out+=se,S.avail_out-=se,fe.pending-=se,fe.pending===0&&(fe.pending_out=0))}function J(S,fe){r._tr_flush_block(S,0<=S.block_start?S.block_start:-1,S.strstart-S.block_start,fe),S.block_start=S.strstart,oe(S.strm)}function ft(S,fe){S.pending_buf[S.pending++]=fe}function it(S,fe){S.pending_buf[S.pending++]=fe>>>8&255,S.pending_buf[S.pending++]=255&fe}function $e(S,fe){var se,B,N=S.max_chain_length,q=S.strstart,xe=S.prev_length,Ie=S.nice_match,ee=S.strstart>S.w_size-re?S.strstart-(S.w_size-re):0,Be=S.window,st=S.w_mask,Ve=S.prev,Rt=S.strstart+H,en=Be[q+xe-1],Ti=Be[q+xe];S.prev_length>=S.good_match&&(N>>=2),Ie>S.lookahead&&(Ie=S.lookahead);do if(Be[(se=fe)+xe]===Ti&&Be[se+xe-1]===en&&Be[se]===Be[q]&&Be[++se]===Be[q+1]){q+=2,se++;do;while(Be[++q]===Be[++se]&&Be[++q]===Be[++se]&&Be[++q]===Be[++se]&&Be[++q]===Be[++se]&&Be[++q]===Be[++se]&&Be[++q]===Be[++se]&&Be[++q]===Be[++se]&&Be[++q]===Be[++se]&&q<Rt);if(B=H-(Rt-q),q=Rt-H,xe<B){if(S.match_start=fe,Ie<=(xe=B))break;en=Be[q+xe-1],Ti=Be[q+xe]}}while((fe=Ve[fe&st])>ee&&--N!=0);return xe<=S.lookahead?xe:S.lookahead}function Qn(S){var fe,se,B,N,q,xe,Ie,ee,Be,st,Ve=S.w_size;do{if(N=S.window_size-S.lookahead-S.strstart,S.strstart>=Ve+(Ve-re)){for(o.arraySet(S.window,S.window,Ve,Ve,0),S.match_start-=Ve,S.strstart-=Ve,S.block_start-=Ve,fe=se=S.hash_size;B=S.head[--fe],S.head[fe]=Ve<=B?B-Ve:0,--se;);for(fe=se=Ve;B=S.prev[--fe],S.prev[fe]=Ve<=B?B-Ve:0,--se;);N+=Ve}if(S.strm.avail_in===0)break;if(xe=S.strm,Ie=S.window,ee=S.strstart+S.lookahead,Be=N,st=void 0,st=xe.avail_in,Be<st&&(st=Be),se=st===0?0:(xe.avail_in-=st,o.arraySet(Ie,xe.input,xe.next_in,st,ee),xe.state.wrap===1?xe.adler=s(xe.adler,Ie,st,ee):xe.state.wrap===2&&(xe.adler=a(xe.adler,Ie,st,ee)),xe.next_in+=st,xe.total_in+=st,st),S.lookahead+=se,S.lookahead+S.insert>=L)for(q=S.strstart-S.insert,S.ins_h=S.window[q],S.ins_h=(S.ins_h<<S.hash_shift^S.window[q+1])&S.hash_mask;S.insert&&(S.ins_h=(S.ins_h<<S.hash_shift^S.window[q+L-1])&S.hash_mask,S.prev[q&S.w_mask]=S.head[S.ins_h],S.head[S.ins_h]=q,q++,S.insert--,!(S.lookahead+S.insert<L)););}while(S.lookahead<re&&S.strm.avail_in!==0)}function sr(S,fe){for(var se,B;;){if(S.lookahead<re){if(Qn(S),S.lookahead<re&&fe===c)return D;if(S.lookahead===0)break}if(se=0,S.lookahead>=L&&(S.ins_h=(S.ins_h<<S.hash_shift^S.window[S.strstart+L-1])&S.hash_mask,se=S.prev[S.strstart&S.w_mask]=S.head[S.ins_h],S.head[S.ins_h]=S.strstart),se!==0&&S.strstart-se<=S.w_size-re&&(S.match_length=$e(S,se)),S.match_length>=L)if(B=r._tr_tally(S,S.strstart-S.match_start,S.match_length-L),S.lookahead-=S.match_length,S.match_length<=S.max_lazy_match&&S.lookahead>=L){for(S.match_length--;S.strstart++,S.ins_h=(S.ins_h<<S.hash_shift^S.window[S.strstart+L-1])&S.hash_mask,se=S.prev[S.strstart&S.w_mask]=S.head[S.ins_h],S.head[S.ins_h]=S.strstart,--S.match_length!=0;);S.strstart++}else S.strstart+=S.match_length,S.match_length=0,S.ins_h=S.window[S.strstart],S.ins_h=(S.ins_h<<S.hash_shift^S.window[S.strstart+1])&S.hash_mask;else B=r._tr_tally(S,0,S.window[S.strstart]),S.lookahead--,S.strstart++;if(B&&(J(S,!1),S.strm.avail_out===0))return D}return S.insert=S.strstart<L-1?S.strstart:L-1,fe===d?(J(S,!0),S.strm.avail_out===0?Dt:_e):S.last_lit&&(J(S,!1),S.strm.avail_out===0)?D:ne}function Mi(S,fe){for(var se,B,N;;){if(S.lookahead<re){if(Qn(S),S.lookahead<re&&fe===c)return D;if(S.lookahead===0)break}if(se=0,S.lookahead>=L&&(S.ins_h=(S.ins_h<<S.hash_shift^S.window[S.strstart+L-1])&S.hash_mask,se=S.prev[S.strstart&S.w_mask]=S.head[S.ins_h],S.head[S.ins_h]=S.strstart),S.prev_length=S.match_length,S.prev_match=S.match_start,S.match_length=L-1,se!==0&&S.prev_length<S.max_lazy_match&&S.strstart-se<=S.w_size-re&&(S.match_length=$e(S,se),S.match_length<=5&&(S.strategy===1||S.match_length===L&&4096<S.strstart-S.match_start)&&(S.match_length=L-1)),S.prev_length>=L&&S.match_length<=S.prev_length){for(N=S.strstart+S.lookahead-L,B=r._tr_tally(S,S.strstart-1-S.prev_match,S.prev_length-L),S.lookahead-=S.prev_length-1,S.prev_length-=2;++S.strstart<=N&&(S.ins_h=(S.ins_h<<S.hash_shift^S.window[S.strstart+L-1])&S.hash_mask,se=S.prev[S.strstart&S.w_mask]=S.head[S.ins_h],S.head[S.ins_h]=S.strstart),--S.prev_length!=0;);if(S.match_available=0,S.match_length=L-1,S.strstart++,B&&(J(S,!1),S.strm.avail_out===0))return D}else if(S.match_available){if((B=r._tr_tally(S,0,S.window[S.strstart-1]))&&J(S,!1),S.strstart++,S.lookahead--,S.strm.avail_out===0)return D}else S.match_available=1,S.strstart++,S.lookahead--}return S.match_available&&(B=r._tr_tally(S,0,S.window[S.strstart-1]),S.match_available=0),S.insert=S.strstart<L-1?S.strstart:L-1,fe===d?(J(S,!0),S.strm.avail_out===0?Dt:_e):S.last_lit&&(J(S,!1),S.strm.avail_out===0)?D:ne}function Vi(S,fe,se,B,N){this.good_length=S,this.max_lazy=fe,this.nice_length=se,this.max_chain=B,this.func=N}function Po(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=g,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new o.Buf16(2*E),this.dyn_dtree=new o.Buf16(2*(2*C+1)),this.bl_tree=new o.Buf16(2*(2*T+1)),Ft(this.dyn_ltree),Ft(this.dyn_dtree),Ft(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new o.Buf16(F+1),this.heap=new o.Buf16(2*b+1),Ft(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new o.Buf16(2*b+1),Ft(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Jn(S){var fe;return S&&S.state?(S.total_in=S.total_out=0,S.data_type=p,(fe=S.state).pending=0,fe.pending_out=0,fe.wrap<0&&(fe.wrap=-fe.wrap),fe.status=fe.wrap?R:W,S.adler=fe.wrap===2?0:1,fe.last_flush=c,r._tr_init(fe),u):Et(S,h)}function Qa(S){var fe=Jn(S);return fe===u&&function(se){se.window_size=2*se.w_size,Ft(se.head),se.max_lazy_match=i[se.level].max_lazy,se.good_match=i[se.level].good_length,se.nice_match=i[se.level].nice_length,se.max_chain_length=i[se.level].max_chain,se.strstart=0,se.block_start=0,se.lookahead=0,se.insert=0,se.match_length=se.prev_length=L-1,se.match_available=0,se.ins_h=0}(S.state),fe}function la(S,fe,se,B,N,q){if(!S)return h;var xe=1;if(fe===m&&(fe=6),B<0?(xe=0,B=-B):15<B&&(xe=2,B-=16),N<1||v<N||se!==g||B<8||15<B||fe<0||9<fe||q<0||f<q)return Et(S,h);B===8&&(B=9);var Ie=new Po;return(S.state=Ie).strm=S,Ie.wrap=xe,Ie.gzhead=null,Ie.w_bits=B,Ie.w_size=1<<Ie.w_bits,Ie.w_mask=Ie.w_size-1,Ie.hash_bits=N+7,Ie.hash_size=1<<Ie.hash_bits,Ie.hash_mask=Ie.hash_size-1,Ie.hash_shift=~~((Ie.hash_bits+L-1)/L),Ie.window=new o.Buf8(2*Ie.w_size),Ie.head=new o.Buf16(Ie.hash_size),Ie.prev=new o.Buf16(Ie.w_size),Ie.lit_bufsize=1<<N+6,Ie.pending_buf_size=4*Ie.lit_bufsize,Ie.pending_buf=new o.Buf8(Ie.pending_buf_size),Ie.d_buf=1*Ie.lit_bufsize,Ie.l_buf=3*Ie.lit_bufsize,Ie.level=fe,Ie.strategy=q,Ie.method=se,Qa(S)}i=[new Vi(0,0,0,0,function(S,fe){var se=65535;for(se>S.pending_buf_size-5&&(se=S.pending_buf_size-5);;){if(S.lookahead<=1){if(Qn(S),S.lookahead===0&&fe===c)return D;if(S.lookahead===0)break}S.strstart+=S.lookahead,S.lookahead=0;var B=S.block_start+se;if((S.strstart===0||S.strstart>=B)&&(S.lookahead=S.strstart-B,S.strstart=B,J(S,!1),S.strm.avail_out===0)||S.strstart-S.block_start>=S.w_size-re&&(J(S,!1),S.strm.avail_out===0))return D}return S.insert=0,fe===d?(J(S,!0),S.strm.avail_out===0?Dt:_e):(S.strstart>S.block_start&&(J(S,!1),S.strm.avail_out),D)}),new Vi(4,4,8,4,sr),new Vi(4,5,16,8,sr),new Vi(4,6,32,32,sr),new Vi(4,4,16,16,Mi),new Vi(8,16,32,32,Mi),new Vi(8,16,128,128,Mi),new Vi(8,32,128,256,Mi),new Vi(32,128,258,1024,Mi),new Vi(32,258,258,4096,Mi)],e.deflateInit=function(S,fe){return la(S,fe,g,15,8,0)},e.deflateInit2=la,e.deflateReset=Qa,e.deflateResetKeep=Jn,e.deflateSetHeader=function(S,fe){return S&&S.state?S.state.wrap!==2?h:(S.state.gzhead=fe,u):h},e.deflate=function(S,fe){var se,B,N,q;if(!S||!S.state||5<fe||fe<0)return S?Et(S,h):h;if(B=S.state,!S.output||!S.input&&S.avail_in!==0||B.status===666&&fe!==d)return Et(S,S.avail_out===0?-5:h);if(B.strm=S,se=B.last_flush,B.last_flush=fe,B.status===R)if(B.wrap===2)S.adler=0,ft(B,31),ft(B,139),ft(B,8),B.gzhead?(ft(B,(B.gzhead.text?1:0)+(B.gzhead.hcrc?2:0)+(B.gzhead.extra?4:0)+(B.gzhead.name?8:0)+(B.gzhead.comment?16:0)),ft(B,255&B.gzhead.time),ft(B,B.gzhead.time>>8&255),ft(B,B.gzhead.time>>16&255),ft(B,B.gzhead.time>>24&255),ft(B,B.level===9?2:2<=B.strategy||B.level<2?4:0),ft(B,255&B.gzhead.os),B.gzhead.extra&&B.gzhead.extra.length&&(ft(B,255&B.gzhead.extra.length),ft(B,B.gzhead.extra.length>>8&255)),B.gzhead.hcrc&&(S.adler=a(S.adler,B.pending_buf,B.pending,0)),B.gzindex=0,B.status=69):(ft(B,0),ft(B,0),ft(B,0),ft(B,0),ft(B,0),ft(B,B.level===9?2:2<=B.strategy||B.level<2?4:0),ft(B,3),B.status=W);else{var xe=g+(B.w_bits-8<<4)<<8;xe|=(2<=B.strategy||B.level<2?0:B.level<6?1:B.level===6?2:3)<<6,B.strstart!==0&&(xe|=32),xe+=31-xe%31,B.status=W,it(B,xe),B.strstart!==0&&(it(B,S.adler>>>16),it(B,65535&S.adler)),S.adler=1}if(B.status===69)if(B.gzhead.extra){for(N=B.pending;B.gzindex<(65535&B.gzhead.extra.length)&&(B.pending!==B.pending_buf_size||(B.gzhead.hcrc&&B.pending>N&&(S.adler=a(S.adler,B.pending_buf,B.pending-N,N)),oe(S),N=B.pending,B.pending!==B.pending_buf_size));)ft(B,255&B.gzhead.extra[B.gzindex]),B.gzindex++;B.gzhead.hcrc&&B.pending>N&&(S.adler=a(S.adler,B.pending_buf,B.pending-N,N)),B.gzindex===B.gzhead.extra.length&&(B.gzindex=0,B.status=73)}else B.status=73;if(B.status===73)if(B.gzhead.name){N=B.pending;do{if(B.pending===B.pending_buf_size&&(B.gzhead.hcrc&&B.pending>N&&(S.adler=a(S.adler,B.pending_buf,B.pending-N,N)),oe(S),N=B.pending,B.pending===B.pending_buf_size)){q=1;break}q=B.gzindex<B.gzhead.name.length?255&B.gzhead.name.charCodeAt(B.gzindex++):0,ft(B,q)}while(q!==0);B.gzhead.hcrc&&B.pending>N&&(S.adler=a(S.adler,B.pending_buf,B.pending-N,N)),q===0&&(B.gzindex=0,B.status=91)}else B.status=91;if(B.status===91)if(B.gzhead.comment){N=B.pending;do{if(B.pending===B.pending_buf_size&&(B.gzhead.hcrc&&B.pending>N&&(S.adler=a(S.adler,B.pending_buf,B.pending-N,N)),oe(S),N=B.pending,B.pending===B.pending_buf_size)){q=1;break}q=B.gzindex<B.gzhead.comment.length?255&B.gzhead.comment.charCodeAt(B.gzindex++):0,ft(B,q)}while(q!==0);B.gzhead.hcrc&&B.pending>N&&(S.adler=a(S.adler,B.pending_buf,B.pending-N,N)),q===0&&(B.status=103)}else B.status=103;if(B.status===103&&(B.gzhead.hcrc?(B.pending+2>B.pending_buf_size&&oe(S),B.pending+2<=B.pending_buf_size&&(ft(B,255&S.adler),ft(B,S.adler>>8&255),S.adler=0,B.status=W)):B.status=W),B.pending!==0){if(oe(S),S.avail_out===0)return B.last_flush=-1,u}else if(S.avail_in===0&&Se(fe)<=Se(se)&&fe!==d)return Et(S,-5);if(B.status===666&&S.avail_in!==0)return Et(S,-5);if(S.avail_in!==0||B.lookahead!==0||fe!==c&&B.status!==666){var Ie=B.strategy===2?function(ee,Be){for(var st;;){if(ee.lookahead===0&&(Qn(ee),ee.lookahead===0)){if(Be===c)return D;break}if(ee.match_length=0,st=r._tr_tally(ee,0,ee.window[ee.strstart]),ee.lookahead--,ee.strstart++,st&&(J(ee,!1),ee.strm.avail_out===0))return D}return ee.insert=0,Be===d?(J(ee,!0),ee.strm.avail_out===0?Dt:_e):ee.last_lit&&(J(ee,!1),ee.strm.avail_out===0)?D:ne}(B,fe):B.strategy===3?function(ee,Be){for(var st,Ve,Rt,en,Ti=ee.window;;){if(ee.lookahead<=H){if(Qn(ee),ee.lookahead<=H&&Be===c)return D;if(ee.lookahead===0)break}if(ee.match_length=0,ee.lookahead>=L&&0<ee.strstart&&(Ve=Ti[Rt=ee.strstart-1])===Ti[++Rt]&&Ve===Ti[++Rt]&&Ve===Ti[++Rt]){en=ee.strstart+H;do;while(Ve===Ti[++Rt]&&Ve===Ti[++Rt]&&Ve===Ti[++Rt]&&Ve===Ti[++Rt]&&Ve===Ti[++Rt]&&Ve===Ti[++Rt]&&Ve===Ti[++Rt]&&Ve===Ti[++Rt]&&Rt<en);ee.match_length=H-(en-Rt),ee.match_length>ee.lookahead&&(ee.match_length=ee.lookahead)}if(ee.match_length>=L?(st=r._tr_tally(ee,1,ee.match_length-L),ee.lookahead-=ee.match_length,ee.strstart+=ee.match_length,ee.match_length=0):(st=r._tr_tally(ee,0,ee.window[ee.strstart]),ee.lookahead--,ee.strstart++),st&&(J(ee,!1),ee.strm.avail_out===0))return D}return ee.insert=0,Be===d?(J(ee,!0),ee.strm.avail_out===0?Dt:_e):ee.last_lit&&(J(ee,!1),ee.strm.avail_out===0)?D:ne}(B,fe):i[B.level].func(B,fe);if(Ie!==Dt&&Ie!==_e||(B.status=666),Ie===D||Ie===Dt)return S.avail_out===0&&(B.last_flush=-1),u;if(Ie===ne&&(fe===1?r._tr_align(B):fe!==5&&(r._tr_stored_block(B,0,0,!1),fe===3&&(Ft(B.head),B.lookahead===0&&(B.strstart=0,B.block_start=0,B.insert=0))),oe(S),S.avail_out===0))return B.last_flush=-1,u}return fe!==d?u:B.wrap<=0?1:(B.wrap===2?(ft(B,255&S.adler),ft(B,S.adler>>8&255),ft(B,S.adler>>16&255),ft(B,S.adler>>24&255),ft(B,255&S.total_in),ft(B,S.total_in>>8&255),ft(B,S.total_in>>16&255),ft(B,S.total_in>>24&255)):(it(B,S.adler>>>16),it(B,65535&S.adler)),oe(S),0<B.wrap&&(B.wrap=-B.wrap),B.pending!==0?u:1)},e.deflateEnd=function(S){var fe;return S&&S.state?(fe=S.state.status)!==R&&fe!==69&&fe!==73&&fe!==91&&fe!==103&&fe!==W&&fe!==666?Et(S,h):(S.state=null,fe===W?Et(S,-3):u):h},e.deflateSetDictionary=function(S,fe){var se,B,N,q,xe,Ie,ee,Be,st=fe.length;if(!S||!S.state||(q=(se=S.state).wrap)===2||q===1&&se.status!==R||se.lookahead)return h;for(q===1&&(S.adler=s(S.adler,fe,st,0)),se.wrap=0,st>=se.w_size&&(q===0&&(Ft(se.head),se.strstart=0,se.block_start=0,se.insert=0),Be=new o.Buf8(se.w_size),o.arraySet(Be,fe,st-se.w_size,se.w_size,0),fe=Be,st=se.w_size),xe=S.avail_in,Ie=S.next_in,ee=S.input,S.avail_in=st,S.next_in=0,S.input=fe,Qn(se);se.lookahead>=L;){for(B=se.strstart,N=se.lookahead-(L-1);se.ins_h=(se.ins_h<<se.hash_shift^se.window[B+L-1])&se.hash_mask,se.prev[B&se.w_mask]=se.head[se.ins_h],se.head[se.ins_h]=B,B++,--N;);se.strstart=B,se.lookahead=L-1,Qn(se)}return se.strstart+=se.lookahead,se.block_start=se.strstart,se.insert=se.lookahead,se.lookahead=0,se.match_length=se.prev_length=L-1,se.match_available=0,S.next_in=Ie,S.input=ee,S.avail_in=xe,se.wrap=q,u},e.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,t,e){"use strict";t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,t,e){"use strict";t.exports=function(i,o){var r,s,a,l,c,d,u,h,m,f,p,g,v,b,C,T,E,F,L,H,re,R,W,D,ne;r=i.state,s=i.next_in,D=i.input,a=s+(i.avail_in-5),l=i.next_out,ne=i.output,c=l-(o-i.avail_out),d=l+(i.avail_out-257),u=r.dmax,h=r.wsize,m=r.whave,f=r.wnext,p=r.window,g=r.hold,v=r.bits,b=r.lencode,C=r.distcode,T=(1<<r.lenbits)-1,E=(1<<r.distbits)-1;e:do{v<15&&(g+=D[s++]<<v,v+=8,g+=D[s++]<<v,v+=8),F=b[g&T];t:for(;;){if(g>>>=L=F>>>24,v-=L,(L=F>>>16&255)===0)ne[l++]=65535&F;else{if(!(16&L)){if(!(64&L)){F=b[(65535&F)+(g&(1<<L)-1)];continue t}if(32&L){r.mode=12;break e}i.msg="invalid literal/length code",r.mode=30;break e}H=65535&F,(L&=15)&&(v<L&&(g+=D[s++]<<v,v+=8),H+=g&(1<<L)-1,g>>>=L,v-=L),v<15&&(g+=D[s++]<<v,v+=8,g+=D[s++]<<v,v+=8),F=C[g&E];i:for(;;){if(g>>>=L=F>>>24,v-=L,!(16&(L=F>>>16&255))){if(!(64&L)){F=C[(65535&F)+(g&(1<<L)-1)];continue i}i.msg="invalid distance code",r.mode=30;break e}if(re=65535&F,v<(L&=15)&&(g+=D[s++]<<v,(v+=8)<L&&(g+=D[s++]<<v,v+=8)),u<(re+=g&(1<<L)-1)){i.msg="invalid distance too far back",r.mode=30;break e}if(g>>>=L,v-=L,(L=l-c)<re){if(m<(L=re-L)&&r.sane){i.msg="invalid distance too far back",r.mode=30;break e}if(W=p,(R=0)===f){if(R+=h-L,L<H){for(H-=L;ne[l++]=p[R++],--L;);R=l-re,W=ne}}else if(f<L){if(R+=h+f-L,(L-=f)<H){for(H-=L;ne[l++]=p[R++],--L;);if(R=0,f<H){for(H-=L=f;ne[l++]=p[R++],--L;);R=l-re,W=ne}}}else if(R+=f-L,L<H){for(H-=L;ne[l++]=p[R++],--L;);R=l-re,W=ne}for(;2<H;)ne[l++]=W[R++],ne[l++]=W[R++],ne[l++]=W[R++],H-=3;H&&(ne[l++]=W[R++],1<H&&(ne[l++]=W[R++]))}else{for(R=l-re;ne[l++]=ne[R++],ne[l++]=ne[R++],ne[l++]=ne[R++],2<(H-=3););H&&(ne[l++]=ne[R++],1<H&&(ne[l++]=ne[R++]))}break}}break}}while(s<a&&l<d);s-=H=v>>3,g&=(1<<(v-=H<<3))-1,i.next_in=s,i.next_out=l,i.avail_in=s<a?a-s+5:5-(s-a),i.avail_out=l<d?d-l+257:257-(l-d),r.hold=g,r.bits=v}},{}],49:[function(n,t,e){"use strict";var i=n("../utils/common"),o=n("./adler32"),r=n("./crc32"),s=n("./inffast"),a=n("./inftrees"),l=1,c=2,d=0,u=-2,h=1,m=852,f=592;function p(R){return(R>>>24&255)+(R>>>8&65280)+((65280&R)<<8)+((255&R)<<24)}function g(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i.Buf16(320),this.work=new i.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function v(R){var W;return R&&R.state?(W=R.state,R.total_in=R.total_out=W.total=0,R.msg="",W.wrap&&(R.adler=1&W.wrap),W.mode=h,W.last=0,W.havedict=0,W.dmax=32768,W.head=null,W.hold=0,W.bits=0,W.lencode=W.lendyn=new i.Buf32(m),W.distcode=W.distdyn=new i.Buf32(f),W.sane=1,W.back=-1,d):u}function b(R){var W;return R&&R.state?((W=R.state).wsize=0,W.whave=0,W.wnext=0,v(R)):u}function C(R,W){var D,ne;return R&&R.state?(ne=R.state,W<0?(D=0,W=-W):(D=1+(W>>4),W<48&&(W&=15)),W&&(W<8||15<W)?u:(ne.window!==null&&ne.wbits!==W&&(ne.window=null),ne.wrap=D,ne.wbits=W,b(R))):u}function T(R,W){var D,ne;return R?(ne=new g,(R.state=ne).window=null,(D=C(R,W))!==d&&(R.state=null),D):u}var E,F,L=!0;function H(R){if(L){var W;for(E=new i.Buf32(512),F=new i.Buf32(32),W=0;W<144;)R.lens[W++]=8;for(;W<256;)R.lens[W++]=9;for(;W<280;)R.lens[W++]=7;for(;W<288;)R.lens[W++]=8;for(a(l,R.lens,0,288,E,0,R.work,{bits:9}),W=0;W<32;)R.lens[W++]=5;a(c,R.lens,0,32,F,0,R.work,{bits:5}),L=!1}R.lencode=E,R.lenbits=9,R.distcode=F,R.distbits=5}function re(R,W,D,ne){var Dt,_e=R.state;return _e.window===null&&(_e.wsize=1<<_e.wbits,_e.wnext=0,_e.whave=0,_e.window=new i.Buf8(_e.wsize)),ne>=_e.wsize?(i.arraySet(_e.window,W,D-_e.wsize,_e.wsize,0),_e.wnext=0,_e.whave=_e.wsize):(ne<(Dt=_e.wsize-_e.wnext)&&(Dt=ne),i.arraySet(_e.window,W,D-ne,Dt,_e.wnext),(ne-=Dt)?(i.arraySet(_e.window,W,D-ne,ne,0),_e.wnext=ne,_e.whave=_e.wsize):(_e.wnext+=Dt,_e.wnext===_e.wsize&&(_e.wnext=0),_e.whave<_e.wsize&&(_e.whave+=Dt))),0}e.inflateReset=b,e.inflateReset2=C,e.inflateResetKeep=v,e.inflateInit=function(R){return T(R,15)},e.inflateInit2=T,e.inflate=function(R,W){var D,ne,Dt,_e,Et,Se,Ft,oe,J,ft,it,$e,Qn,sr,Mi,Vi,Po,Jn,Qa,la,S,fe,se,B,N=0,q=new i.Buf8(4),xe=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!R||!R.state||!R.output||!R.input&&R.avail_in!==0)return u;(D=R.state).mode===12&&(D.mode=13),Et=R.next_out,Dt=R.output,Ft=R.avail_out,_e=R.next_in,ne=R.input,Se=R.avail_in,oe=D.hold,J=D.bits,ft=Se,it=Ft,fe=d;e:for(;;)switch(D.mode){case h:if(D.wrap===0){D.mode=13;break}for(;J<16;){if(Se===0)break e;Se--,oe+=ne[_e++]<<J,J+=8}if(2&D.wrap&&oe===35615){q[D.check=0]=255&oe,q[1]=oe>>>8&255,D.check=r(D.check,q,2,0),J=oe=0,D.mode=2;break}if(D.flags=0,D.head&&(D.head.done=!1),!(1&D.wrap)||(((255&oe)<<8)+(oe>>8))%31){R.msg="incorrect header check",D.mode=30;break}if((15&oe)!=8){R.msg="unknown compression method",D.mode=30;break}if(J-=4,S=8+(15&(oe>>>=4)),D.wbits===0)D.wbits=S;else if(S>D.wbits){R.msg="invalid window size",D.mode=30;break}D.dmax=1<<S,R.adler=D.check=1,D.mode=512&oe?10:12,J=oe=0;break;case 2:for(;J<16;){if(Se===0)break e;Se--,oe+=ne[_e++]<<J,J+=8}if(D.flags=oe,(255&D.flags)!=8){R.msg="unknown compression method",D.mode=30;break}if(57344&D.flags){R.msg="unknown header flags set",D.mode=30;break}D.head&&(D.head.text=oe>>8&1),512&D.flags&&(q[0]=255&oe,q[1]=oe>>>8&255,D.check=r(D.check,q,2,0)),J=oe=0,D.mode=3;case 3:for(;J<32;){if(Se===0)break e;Se--,oe+=ne[_e++]<<J,J+=8}D.head&&(D.head.time=oe),512&D.flags&&(q[0]=255&oe,q[1]=oe>>>8&255,q[2]=oe>>>16&255,q[3]=oe>>>24&255,D.check=r(D.check,q,4,0)),J=oe=0,D.mode=4;case 4:for(;J<16;){if(Se===0)break e;Se--,oe+=ne[_e++]<<J,J+=8}D.head&&(D.head.xflags=255&oe,D.head.os=oe>>8),512&D.flags&&(q[0]=255&oe,q[1]=oe>>>8&255,D.check=r(D.check,q,2,0)),J=oe=0,D.mode=5;case 5:if(1024&D.flags){for(;J<16;){if(Se===0)break e;Se--,oe+=ne[_e++]<<J,J+=8}D.length=oe,D.head&&(D.head.extra_len=oe),512&D.flags&&(q[0]=255&oe,q[1]=oe>>>8&255,D.check=r(D.check,q,2,0)),J=oe=0}else D.head&&(D.head.extra=null);D.mode=6;case 6:if(1024&D.flags&&(Se<($e=D.length)&&($e=Se),$e&&(D.head&&(S=D.head.extra_len-D.length,D.head.extra||(D.head.extra=new Array(D.head.extra_len)),i.arraySet(D.head.extra,ne,_e,$e,S)),512&D.flags&&(D.check=r(D.check,ne,$e,_e)),Se-=$e,_e+=$e,D.length-=$e),D.length))break e;D.length=0,D.mode=7;case 7:if(2048&D.flags){if(Se===0)break e;for($e=0;S=ne[_e+$e++],D.head&&S&&D.length<65536&&(D.head.name+=String.fromCharCode(S)),S&&$e<Se;);if(512&D.flags&&(D.check=r(D.check,ne,$e,_e)),Se-=$e,_e+=$e,S)break e}else D.head&&(D.head.name=null);D.length=0,D.mode=8;case 8:if(4096&D.flags){if(Se===0)break e;for($e=0;S=ne[_e+$e++],D.head&&S&&D.length<65536&&(D.head.comment+=String.fromCharCode(S)),S&&$e<Se;);if(512&D.flags&&(D.check=r(D.check,ne,$e,_e)),Se-=$e,_e+=$e,S)break e}else D.head&&(D.head.comment=null);D.mode=9;case 9:if(512&D.flags){for(;J<16;){if(Se===0)break e;Se--,oe+=ne[_e++]<<J,J+=8}if(oe!==(65535&D.check)){R.msg="header crc mismatch",D.mode=30;break}J=oe=0}D.head&&(D.head.hcrc=D.flags>>9&1,D.head.done=!0),R.adler=D.check=0,D.mode=12;break;case 10:for(;J<32;){if(Se===0)break e;Se--,oe+=ne[_e++]<<J,J+=8}R.adler=D.check=p(oe),J=oe=0,D.mode=11;case 11:if(D.havedict===0)return R.next_out=Et,R.avail_out=Ft,R.next_in=_e,R.avail_in=Se,D.hold=oe,D.bits=J,2;R.adler=D.check=1,D.mode=12;case 12:if(W===5||W===6)break e;case 13:if(D.last){oe>>>=7&J,J-=7&J,D.mode=27;break}for(;J<3;){if(Se===0)break e;Se--,oe+=ne[_e++]<<J,J+=8}switch(D.last=1&oe,J-=1,3&(oe>>>=1)){case 0:D.mode=14;break;case 1:if(H(D),D.mode=20,W!==6)break;oe>>>=2,J-=2;break e;case 2:D.mode=17;break;case 3:R.msg="invalid block type",D.mode=30}oe>>>=2,J-=2;break;case 14:for(oe>>>=7&J,J-=7&J;J<32;){if(Se===0)break e;Se--,oe+=ne[_e++]<<J,J+=8}if((65535&oe)!=(oe>>>16^65535)){R.msg="invalid stored block lengths",D.mode=30;break}if(D.length=65535&oe,J=oe=0,D.mode=15,W===6)break e;case 15:D.mode=16;case 16:if($e=D.length){if(Se<$e&&($e=Se),Ft<$e&&($e=Ft),$e===0)break e;i.arraySet(Dt,ne,_e,$e,Et),Se-=$e,_e+=$e,Ft-=$e,Et+=$e,D.length-=$e;break}D.mode=12;break;case 17:for(;J<14;){if(Se===0)break e;Se--,oe+=ne[_e++]<<J,J+=8}if(D.nlen=257+(31&oe),oe>>>=5,J-=5,D.ndist=1+(31&oe),oe>>>=5,J-=5,D.ncode=4+(15&oe),oe>>>=4,J-=4,286<D.nlen||30<D.ndist){R.msg="too many length or distance symbols",D.mode=30;break}D.have=0,D.mode=18;case 18:for(;D.have<D.ncode;){for(;J<3;){if(Se===0)break e;Se--,oe+=ne[_e++]<<J,J+=8}D.lens[xe[D.have++]]=7&oe,oe>>>=3,J-=3}for(;D.have<19;)D.lens[xe[D.have++]]=0;if(D.lencode=D.lendyn,D.lenbits=7,se={bits:D.lenbits},fe=a(0,D.lens,0,19,D.lencode,0,D.work,se),D.lenbits=se.bits,fe){R.msg="invalid code lengths set",D.mode=30;break}D.have=0,D.mode=19;case 19:for(;D.have<D.nlen+D.ndist;){for(;Vi=(N=D.lencode[oe&(1<<D.lenbits)-1])>>>16&255,Po=65535&N,!((Mi=N>>>24)<=J);){if(Se===0)break e;Se--,oe+=ne[_e++]<<J,J+=8}if(Po<16)oe>>>=Mi,J-=Mi,D.lens[D.have++]=Po;else{if(Po===16){for(B=Mi+2;J<B;){if(Se===0)break e;Se--,oe+=ne[_e++]<<J,J+=8}if(oe>>>=Mi,J-=Mi,D.have===0){R.msg="invalid bit length repeat",D.mode=30;break}S=D.lens[D.have-1],$e=3+(3&oe),oe>>>=2,J-=2}else if(Po===17){for(B=Mi+3;J<B;){if(Se===0)break e;Se--,oe+=ne[_e++]<<J,J+=8}J-=Mi,S=0,$e=3+(7&(oe>>>=Mi)),oe>>>=3,J-=3}else{for(B=Mi+7;J<B;){if(Se===0)break e;Se--,oe+=ne[_e++]<<J,J+=8}J-=Mi,S=0,$e=11+(127&(oe>>>=Mi)),oe>>>=7,J-=7}if(D.have+$e>D.nlen+D.ndist){R.msg="invalid bit length repeat",D.mode=30;break}for(;$e--;)D.lens[D.have++]=S}}if(D.mode===30)break;if(D.lens[256]===0){R.msg="invalid code -- missing end-of-block",D.mode=30;break}if(D.lenbits=9,se={bits:D.lenbits},fe=a(l,D.lens,0,D.nlen,D.lencode,0,D.work,se),D.lenbits=se.bits,fe){R.msg="invalid literal/lengths set",D.mode=30;break}if(D.distbits=6,D.distcode=D.distdyn,se={bits:D.distbits},fe=a(c,D.lens,D.nlen,D.ndist,D.distcode,0,D.work,se),D.distbits=se.bits,fe){R.msg="invalid distances set",D.mode=30;break}if(D.mode=20,W===6)break e;case 20:D.mode=21;case 21:if(6<=Se&&258<=Ft){R.next_out=Et,R.avail_out=Ft,R.next_in=_e,R.avail_in=Se,D.hold=oe,D.bits=J,s(R,it),Et=R.next_out,Dt=R.output,Ft=R.avail_out,_e=R.next_in,ne=R.input,Se=R.avail_in,oe=D.hold,J=D.bits,D.mode===12&&(D.back=-1);break}for(D.back=0;Vi=(N=D.lencode[oe&(1<<D.lenbits)-1])>>>16&255,Po=65535&N,!((Mi=N>>>24)<=J);){if(Se===0)break e;Se--,oe+=ne[_e++]<<J,J+=8}if(Vi&&!(240&Vi)){for(Jn=Mi,Qa=Vi,la=Po;Vi=(N=D.lencode[la+((oe&(1<<Jn+Qa)-1)>>Jn)])>>>16&255,Po=65535&N,!(Jn+(Mi=N>>>24)<=J);){if(Se===0)break e;Se--,oe+=ne[_e++]<<J,J+=8}oe>>>=Jn,J-=Jn,D.back+=Jn}if(oe>>>=Mi,J-=Mi,D.back+=Mi,D.length=Po,Vi===0){D.mode=26;break}if(32&Vi){D.back=-1,D.mode=12;break}if(64&Vi){R.msg="invalid literal/length code",D.mode=30;break}D.extra=15&Vi,D.mode=22;case 22:if(D.extra){for(B=D.extra;J<B;){if(Se===0)break e;Se--,oe+=ne[_e++]<<J,J+=8}D.length+=oe&(1<<D.extra)-1,oe>>>=D.extra,J-=D.extra,D.back+=D.extra}D.was=D.length,D.mode=23;case 23:for(;Vi=(N=D.distcode[oe&(1<<D.distbits)-1])>>>16&255,Po=65535&N,!((Mi=N>>>24)<=J);){if(Se===0)break e;Se--,oe+=ne[_e++]<<J,J+=8}if(!(240&Vi)){for(Jn=Mi,Qa=Vi,la=Po;Vi=(N=D.distcode[la+((oe&(1<<Jn+Qa)-1)>>Jn)])>>>16&255,Po=65535&N,!(Jn+(Mi=N>>>24)<=J);){if(Se===0)break e;Se--,oe+=ne[_e++]<<J,J+=8}oe>>>=Jn,J-=Jn,D.back+=Jn}if(oe>>>=Mi,J-=Mi,D.back+=Mi,64&Vi){R.msg="invalid distance code",D.mode=30;break}D.offset=Po,D.extra=15&Vi,D.mode=24;case 24:if(D.extra){for(B=D.extra;J<B;){if(Se===0)break e;Se--,oe+=ne[_e++]<<J,J+=8}D.offset+=oe&(1<<D.extra)-1,oe>>>=D.extra,J-=D.extra,D.back+=D.extra}if(D.offset>D.dmax){R.msg="invalid distance too far back",D.mode=30;break}D.mode=25;case 25:if(Ft===0)break e;if($e=it-Ft,D.offset>$e){if(($e=D.offset-$e)>D.whave&&D.sane){R.msg="invalid distance too far back",D.mode=30;break}Qn=$e>D.wnext?($e-=D.wnext,D.wsize-$e):D.wnext-$e,$e>D.length&&($e=D.length),sr=D.window}else sr=Dt,Qn=Et-D.offset,$e=D.length;for(Ft<$e&&($e=Ft),Ft-=$e,D.length-=$e;Dt[Et++]=sr[Qn++],--$e;);D.length===0&&(D.mode=21);break;case 26:if(Ft===0)break e;Dt[Et++]=D.length,Ft--,D.mode=21;break;case 27:if(D.wrap){for(;J<32;){if(Se===0)break e;Se--,oe|=ne[_e++]<<J,J+=8}if(it-=Ft,R.total_out+=it,D.total+=it,it&&(R.adler=D.check=D.flags?r(D.check,Dt,it,Et-it):o(D.check,Dt,it,Et-it)),it=Ft,(D.flags?oe:p(oe))!==D.check){R.msg="incorrect data check",D.mode=30;break}J=oe=0}D.mode=28;case 28:if(D.wrap&&D.flags){for(;J<32;){if(Se===0)break e;Se--,oe+=ne[_e++]<<J,J+=8}if(oe!==(4294967295&D.total)){R.msg="incorrect length check",D.mode=30;break}J=oe=0}D.mode=29;case 29:fe=1;break e;case 30:fe=-3;break e;case 31:return-4;case 32:default:return u}return R.next_out=Et,R.avail_out=Ft,R.next_in=_e,R.avail_in=Se,D.hold=oe,D.bits=J,(D.wsize||it!==R.avail_out&&D.mode<30&&(D.mode<27||W!==4))&&re(R,R.output,R.next_out,it-R.avail_out)?(D.mode=31,-4):(ft-=R.avail_in,it-=R.avail_out,R.total_in+=ft,R.total_out+=it,D.total+=it,D.wrap&&it&&(R.adler=D.check=D.flags?r(D.check,Dt,it,R.next_out-it):o(D.check,Dt,it,R.next_out-it)),R.data_type=D.bits+(D.last?64:0)+(D.mode===12?128:0)+(D.mode===20||D.mode===15?256:0),(ft==0&&it===0||W===4)&&fe===d&&(fe=-5),fe)},e.inflateEnd=function(R){if(!R||!R.state)return u;var W=R.state;return W.window&&(W.window=null),R.state=null,d},e.inflateGetHeader=function(R,W){var D;return R&&R.state&&2&(D=R.state).wrap?((D.head=W).done=!1,d):u},e.inflateSetDictionary=function(R,W){var D,ne=W.length;return R&&R.state?(D=R.state).wrap!==0&&D.mode!==11?u:D.mode===11&&o(1,W,ne,0)!==D.check?-3:re(R,W,ne,ne)?(D.mode=31,-4):(D.havedict=1,d):u},e.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,t,e){"use strict";var i=n("../utils/common"),o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],r=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],s=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],a=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(l,c,d,u,h,m,f,p){var g,v,b,C,T,E,F,L,H,re=p.bits,R=0,W=0,D=0,ne=0,Dt=0,_e=0,Et=0,Se=0,Ft=0,oe=0,J=null,ft=0,it=new i.Buf16(16),$e=new i.Buf16(16),Qn=null,sr=0;for(R=0;R<=15;R++)it[R]=0;for(W=0;W<u;W++)it[c[d+W]]++;for(Dt=re,ne=15;1<=ne&&it[ne]===0;ne--);if(ne<Dt&&(Dt=ne),ne===0)return h[m++]=20971520,h[m++]=20971520,p.bits=1,0;for(D=1;D<ne&&it[D]===0;D++);for(Dt<D&&(Dt=D),R=Se=1;R<=15;R++)if(Se<<=1,(Se-=it[R])<0)return-1;if(0<Se&&(l===0||ne!==1))return-1;for($e[1]=0,R=1;R<15;R++)$e[R+1]=$e[R]+it[R];for(W=0;W<u;W++)c[d+W]!==0&&(f[$e[c[d+W]]++]=W);if(E=l===0?(J=Qn=f,19):l===1?(J=o,ft-=257,Qn=r,sr-=257,256):(J=s,Qn=a,-1),R=D,T=m,Et=W=oe=0,b=-1,C=(Ft=1<<(_e=Dt))-1,l===1&&852<Ft||l===2&&592<Ft)return 1;for(;;){for(F=R-Et,H=f[W]<E?(L=0,f[W]):f[W]>E?(L=Qn[sr+f[W]],J[ft+f[W]]):(L=96,0),g=1<<R-Et,D=v=1<<_e;h[T+(oe>>Et)+(v-=g)]=F<<24|L<<16|H|0,v!==0;);for(g=1<<R-1;oe&g;)g>>=1;if(g!==0?(oe&=g-1,oe+=g):oe=0,W++,--it[R]==0){if(R===ne)break;R=c[d+f[W]]}if(Dt<R&&(oe&C)!==b){for(Et===0&&(Et=Dt),T+=D,Se=1<<(_e=R-Et);_e+Et<ne&&!((Se-=it[_e+Et])<=0);)_e++,Se<<=1;if(Ft+=1<<_e,l===1&&852<Ft||l===2&&592<Ft)return 1;h[b=oe&C]=Dt<<24|_e<<16|T-m|0}}return oe!==0&&(h[T+oe]=R-Et<<24|64<<16|0),p.bits=Dt,0}},{"../utils/common":41}],51:[function(n,t,e){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,t,e){"use strict";var i=n("../utils/common"),o=0,r=1;function s(N){for(var q=N.length;0<=--q;)N[q]=0}var a=0,l=29,c=256,d=c+1+l,u=30,h=19,m=2*d+1,f=15,p=16,g=7,v=256,b=16,C=17,T=18,E=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],F=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],L=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],H=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],re=new Array(2*(d+2));s(re);var R=new Array(2*u);s(R);var W=new Array(512);s(W);var D=new Array(256);s(D);var ne=new Array(l);s(ne);var Dt,_e,Et,Se=new Array(u);function Ft(N,q,xe,Ie,ee){this.static_tree=N,this.extra_bits=q,this.extra_base=xe,this.elems=Ie,this.max_length=ee,this.has_stree=N&&N.length}function oe(N,q){this.dyn_tree=N,this.max_code=0,this.stat_desc=q}function J(N){return N<256?W[N]:W[256+(N>>>7)]}function ft(N,q){N.pending_buf[N.pending++]=255&q,N.pending_buf[N.pending++]=q>>>8&255}function it(N,q,xe){N.bi_valid>p-xe?(N.bi_buf|=q<<N.bi_valid&65535,ft(N,N.bi_buf),N.bi_buf=q>>p-N.bi_valid,N.bi_valid+=xe-p):(N.bi_buf|=q<<N.bi_valid&65535,N.bi_valid+=xe)}function $e(N,q,xe){it(N,xe[2*q],xe[2*q+1])}function Qn(N,q){for(var xe=0;xe|=1&N,N>>>=1,xe<<=1,0<--q;);return xe>>>1}function sr(N,q,xe){var Ie,ee,Be=new Array(f+1),st=0;for(Ie=1;Ie<=f;Ie++)Be[Ie]=st=st+xe[Ie-1]<<1;for(ee=0;ee<=q;ee++){var Ve=N[2*ee+1];Ve!==0&&(N[2*ee]=Qn(Be[Ve]++,Ve))}}function Mi(N){var q;for(q=0;q<d;q++)N.dyn_ltree[2*q]=0;for(q=0;q<u;q++)N.dyn_dtree[2*q]=0;for(q=0;q<h;q++)N.bl_tree[2*q]=0;N.dyn_ltree[2*v]=1,N.opt_len=N.static_len=0,N.last_lit=N.matches=0}function Vi(N){8<N.bi_valid?ft(N,N.bi_buf):0<N.bi_valid&&(N.pending_buf[N.pending++]=N.bi_buf),N.bi_buf=0,N.bi_valid=0}function Po(N,q,xe,Ie){var ee=2*q,Be=2*xe;return N[ee]<N[Be]||N[ee]===N[Be]&&Ie[q]<=Ie[xe]}function Jn(N,q,xe){for(var Ie=N.heap[xe],ee=xe<<1;ee<=N.heap_len&&(ee<N.heap_len&&Po(q,N.heap[ee+1],N.heap[ee],N.depth)&&ee++,!Po(q,Ie,N.heap[ee],N.depth));)N.heap[xe]=N.heap[ee],xe=ee,ee<<=1;N.heap[xe]=Ie}function Qa(N,q,xe){var Ie,ee,Be,st,Ve=0;if(N.last_lit!==0)for(;Ie=N.pending_buf[N.d_buf+2*Ve]<<8|N.pending_buf[N.d_buf+2*Ve+1],ee=N.pending_buf[N.l_buf+Ve],Ve++,Ie===0?$e(N,ee,q):($e(N,(Be=D[ee])+c+1,q),(st=E[Be])!==0&&it(N,ee-=ne[Be],st),$e(N,Be=J(--Ie),xe),(st=F[Be])!==0&&it(N,Ie-=Se[Be],st)),Ve<N.last_lit;);$e(N,v,q)}function la(N,q){var xe,Ie,ee,Be=q.dyn_tree,st=q.stat_desc.static_tree,Ve=q.stat_desc.has_stree,Rt=q.stat_desc.elems,en=-1;for(N.heap_len=0,N.heap_max=m,xe=0;xe<Rt;xe++)Be[2*xe]!==0?(N.heap[++N.heap_len]=en=xe,N.depth[xe]=0):Be[2*xe+1]=0;for(;N.heap_len<2;)Be[2*(ee=N.heap[++N.heap_len]=en<2?++en:0)]=1,N.depth[ee]=0,N.opt_len--,Ve&&(N.static_len-=st[2*ee+1]);for(q.max_code=en,xe=N.heap_len>>1;1<=xe;xe--)Jn(N,Be,xe);for(ee=Rt;xe=N.heap[1],N.heap[1]=N.heap[N.heap_len--],Jn(N,Be,1),Ie=N.heap[1],N.heap[--N.heap_max]=xe,N.heap[--N.heap_max]=Ie,Be[2*ee]=Be[2*xe]+Be[2*Ie],N.depth[ee]=(N.depth[xe]>=N.depth[Ie]?N.depth[xe]:N.depth[Ie])+1,Be[2*xe+1]=Be[2*Ie+1]=ee,N.heap[1]=ee++,Jn(N,Be,1),2<=N.heap_len;);N.heap[--N.heap_max]=N.heap[1],function(Ti,As){var b_,Ja,y_,eo,rx,CT,Ql=As.dyn_tree,Z3=As.max_code,rce=As.stat_desc.static_tree,sce=As.stat_desc.has_stree,ace=As.stat_desc.extra_bits,Q3=As.stat_desc.extra_base,x_=As.stat_desc.max_length,sx=0;for(eo=0;eo<=f;eo++)Ti.bl_count[eo]=0;for(Ql[2*Ti.heap[Ti.heap_max]+1]=0,b_=Ti.heap_max+1;b_<m;b_++)x_<(eo=Ql[2*Ql[2*(Ja=Ti.heap[b_])+1]+1]+1)&&(eo=x_,sx++),Ql[2*Ja+1]=eo,Z3<Ja||(Ti.bl_count[eo]++,rx=0,Q3<=Ja&&(rx=ace[Ja-Q3]),CT=Ql[2*Ja],Ti.opt_len+=CT*(eo+rx),sce&&(Ti.static_len+=CT*(rce[2*Ja+1]+rx)));if(sx!==0){do{for(eo=x_-1;Ti.bl_count[eo]===0;)eo--;Ti.bl_count[eo]--,Ti.bl_count[eo+1]+=2,Ti.bl_count[x_]--,sx-=2}while(0<sx);for(eo=x_;eo!==0;eo--)for(Ja=Ti.bl_count[eo];Ja!==0;)Z3<(y_=Ti.heap[--b_])||(Ql[2*y_+1]!==eo&&(Ti.opt_len+=(eo-Ql[2*y_+1])*Ql[2*y_],Ql[2*y_+1]=eo),Ja--)}}(N,q),sr(Be,en,N.bl_count)}function S(N,q,xe){var Ie,ee,Be=-1,st=q[1],Ve=0,Rt=7,en=4;for(st===0&&(Rt=138,en=3),q[2*(xe+1)+1]=65535,Ie=0;Ie<=xe;Ie++)ee=st,st=q[2*(Ie+1)+1],++Ve<Rt&&ee===st||(Ve<en?N.bl_tree[2*ee]+=Ve:ee!==0?(ee!==Be&&N.bl_tree[2*ee]++,N.bl_tree[2*b]++):Ve<=10?N.bl_tree[2*C]++:N.bl_tree[2*T]++,Be=ee,en=(Ve=0)===st?(Rt=138,3):ee===st?(Rt=6,3):(Rt=7,4))}function fe(N,q,xe){var Ie,ee,Be=-1,st=q[1],Ve=0,Rt=7,en=4;for(st===0&&(Rt=138,en=3),Ie=0;Ie<=xe;Ie++)if(ee=st,st=q[2*(Ie+1)+1],!(++Ve<Rt&&ee===st)){if(Ve<en)for(;$e(N,ee,N.bl_tree),--Ve!=0;);else ee!==0?(ee!==Be&&($e(N,ee,N.bl_tree),Ve--),$e(N,b,N.bl_tree),it(N,Ve-3,2)):Ve<=10?($e(N,C,N.bl_tree),it(N,Ve-3,3)):($e(N,T,N.bl_tree),it(N,Ve-11,7));Be=ee,en=(Ve=0)===st?(Rt=138,3):ee===st?(Rt=6,3):(Rt=7,4)}}s(Se);var se=!1;function B(N,q,xe,Ie){it(N,(a<<1)+(Ie?1:0),3),function(ee,Be,st,Ve){Vi(ee),Ve&&(ft(ee,st),ft(ee,~st)),i.arraySet(ee.pending_buf,ee.window,Be,st,ee.pending),ee.pending+=st}(N,q,xe,!0)}e._tr_init=function(N){se||(function(){var q,xe,Ie,ee,Be,st=new Array(f+1);for(ee=Ie=0;ee<l-1;ee++)for(ne[ee]=Ie,q=0;q<1<<E[ee];q++)D[Ie++]=ee;for(D[Ie-1]=ee,ee=Be=0;ee<16;ee++)for(Se[ee]=Be,q=0;q<1<<F[ee];q++)W[Be++]=ee;for(Be>>=7;ee<u;ee++)for(Se[ee]=Be<<7,q=0;q<1<<F[ee]-7;q++)W[256+Be++]=ee;for(xe=0;xe<=f;xe++)st[xe]=0;for(q=0;q<=143;)re[2*q+1]=8,q++,st[8]++;for(;q<=255;)re[2*q+1]=9,q++,st[9]++;for(;q<=279;)re[2*q+1]=7,q++,st[7]++;for(;q<=287;)re[2*q+1]=8,q++,st[8]++;for(sr(re,d+1,st),q=0;q<u;q++)R[2*q+1]=5,R[2*q]=Qn(q,5);Dt=new Ft(re,E,c+1,d,f),_e=new Ft(R,F,0,u,f),Et=new Ft(new Array(0),L,0,h,g)}(),se=!0),N.l_desc=new oe(N.dyn_ltree,Dt),N.d_desc=new oe(N.dyn_dtree,_e),N.bl_desc=new oe(N.bl_tree,Et),N.bi_buf=0,N.bi_valid=0,Mi(N)},e._tr_stored_block=B,e._tr_flush_block=function(N,q,xe,Ie){var ee,Be,st=0;0<N.level?(N.strm.data_type===2&&(N.strm.data_type=function(Ve){var Rt,en=4093624447;for(Rt=0;Rt<=31;Rt++,en>>>=1)if(1&en&&Ve.dyn_ltree[2*Rt]!==0)return o;if(Ve.dyn_ltree[18]!==0||Ve.dyn_ltree[20]!==0||Ve.dyn_ltree[26]!==0)return r;for(Rt=32;Rt<c;Rt++)if(Ve.dyn_ltree[2*Rt]!==0)return r;return o}(N)),la(N,N.l_desc),la(N,N.d_desc),st=function(Ve){var Rt;for(S(Ve,Ve.dyn_ltree,Ve.l_desc.max_code),S(Ve,Ve.dyn_dtree,Ve.d_desc.max_code),la(Ve,Ve.bl_desc),Rt=h-1;3<=Rt&&Ve.bl_tree[2*H[Rt]+1]===0;Rt--);return Ve.opt_len+=3*(Rt+1)+5+5+4,Rt}(N),ee=N.opt_len+3+7>>>3,(Be=N.static_len+3+7>>>3)<=ee&&(ee=Be)):ee=Be=xe+5,xe+4<=ee&&q!==-1?B(N,q,xe,Ie):N.strategy===4||Be===ee?(it(N,2+(Ie?1:0),3),Qa(N,re,R)):(it(N,4+(Ie?1:0),3),function(Ve,Rt,en,Ti){var As;for(it(Ve,Rt-257,5),it(Ve,en-1,5),it(Ve,Ti-4,4),As=0;As<Ti;As++)it(Ve,Ve.bl_tree[2*H[As]+1],3);fe(Ve,Ve.dyn_ltree,Rt-1),fe(Ve,Ve.dyn_dtree,en-1)}(N,N.l_desc.max_code+1,N.d_desc.max_code+1,st+1),Qa(N,N.dyn_ltree,N.dyn_dtree)),Mi(N),Ie&&Vi(N)},e._tr_tally=function(N,q,xe){return N.pending_buf[N.d_buf+2*N.last_lit]=q>>>8&255,N.pending_buf[N.d_buf+2*N.last_lit+1]=255&q,N.pending_buf[N.l_buf+N.last_lit]=255&xe,N.last_lit++,q===0?N.dyn_ltree[2*xe]++:(N.matches++,q--,N.dyn_ltree[2*(D[xe]+c+1)]++,N.dyn_dtree[2*J(q)]++),N.last_lit===N.lit_bufsize-1},e._tr_align=function(N){it(N,2,3),$e(N,v,re),function(q){q.bi_valid===16?(ft(q,q.bi_buf),q.bi_buf=0,q.bi_valid=0):8<=q.bi_valid&&(q.pending_buf[q.pending++]=255&q.bi_buf,q.bi_buf>>=8,q.bi_valid-=8)}(N)}},{"../utils/common":41}],53:[function(n,t,e){"use strict";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,t,e){(function(i){(function(o,r){"use strict";if(!o.setImmediate){var s,a,l,c,d=1,u={},h=!1,m=o.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(o);f=f&&f.setTimeout?f:o,s={}.toString.call(o.process)==="[object process]"?function(b){process.nextTick(function(){g(b)})}:function(){if(o.postMessage&&!o.importScripts){var b=!0,C=o.onmessage;return o.onmessage=function(){b=!1},o.postMessage("","*"),o.onmessage=C,b}}()?(c="setImmediate$"+Math.random()+"$",o.addEventListener?o.addEventListener("message",v,!1):o.attachEvent("onmessage",v),function(b){o.postMessage(c+b,"*")}):o.MessageChannel?((l=new MessageChannel).port1.onmessage=function(b){g(b.data)},function(b){l.port2.postMessage(b)}):m&&"onreadystatechange"in m.createElement("script")?(a=m.documentElement,function(b){var C=m.createElement("script");C.onreadystatechange=function(){g(b),C.onreadystatechange=null,a.removeChild(C),C=null},a.appendChild(C)}):function(b){setTimeout(g,0,b)},f.setImmediate=function(b){typeof b!="function"&&(b=new Function(""+b));for(var C=new Array(arguments.length-1),T=0;T<C.length;T++)C[T]=arguments[T+1];var E={callback:b,args:C};return u[d]=E,s(d),d++},f.clearImmediate=p}function p(b){delete u[b]}function g(b){if(h)setTimeout(g,0,b);else{var C=u[b];if(C){h=!0;try{(function(T){var E=T.callback,F=T.args;switch(F.length){case 0:E();break;case 1:E(F[0]);break;case 2:E(F[0],F[1]);break;case 3:E(F[0],F[1],F[2]);break;default:E.apply(r,F)}})(C)}finally{p(b),h=!1}}}}function v(b){b.source===o&&typeof b.data=="string"&&b.data.indexOf(c)===0&&g(+b.data.slice(c.length))}})(typeof self>"u"?i===void 0?this:i:self)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})});var Nbe,nF,lu,og,Xb,Zb,Hc,oF,rg=ax(()=>{"use strict";Oi();gi();Bt();A_();uc();hi();qe();Fs();Ot();cc();ls();ce();Lt();Nbe=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},nF=function(n,t){return function(e,i){t(e,i,n)}},lu=class{remove(){this.parent?.children.delete(this.id)}static findId(t,e){let i;typeof t=="string"?i=`${e.id}/${t}`:(i=`${e.id}/${t.name}`,e.children.get(i)!==void 0&&(i=`${e.id}/${t.name}_${t.range.startLineNumber}_${t.range.startColumn}`));let o=i;for(let r=0;e.children.get(o)!==void 0;r++)o=`${i}_${r}`;return o}static empty(t){return t.children.size===0}},og=class extends lu{constructor(t,e,i){super(),this.id=t,this.parent=e,this.symbol=i,this.children=new Map}},Xb=class extends lu{constructor(t,e,i,o){super(),this.id=t,this.parent=e,this.label=i,this.order=o,this.children=new Map}},Zb=class n extends lu{static create(t,e,i){let o=new fi(i),r=new n(e.uri),s=t.ordered(e),a=s.map((c,d)=>{let u=lu.findId(`provider_${d}`,r),h=new Xb(u,r,c.displayName??"Unknown Outline Provider",d);return Promise.resolve(c.provideDocumentSymbols(e,o.token)).then(m=>{for(let f of m||[])n._makeOutlineElement(f,h);return h},m=>(zt(m),h)).then(m=>{lu.empty(m)?m.remove():r._groups.set(u,m)})}),l=t.onDidChange(()=>{let c=t.ordered(e);$o(c,s)||o.cancel()});return Promise.all(a).then(()=>o.token.isCancellationRequested&&!i.isCancellationRequested?n.create(t,e,i):r._compact()).finally(()=>{o.dispose(),l.dispose(),o.dispose()})}static _makeOutlineElement(t,e){let i=lu.findId(t,e),o=new og(i,e,t);if(t.children)for(let r of t.children)n._makeOutlineElement(r,o);e.children.set(o.id,o)}constructor(t){super(),this.uri=t,this.id="root",this.parent=void 0,this._groups=new Map,this.children=new Map,this.id="root",this.parent=void 0}_compact(){let t=0;for(let[e,i]of this._groups)i.children.size===0?this._groups.delete(e):t+=1;if(t!==1)this.children=this._groups;else{let e=jr.first(this._groups.values());for(let[,i]of e.children)i.parent=this,this.children.set(i.id,i)}return this}getTopLevelSymbols(){let t=[];for(let e of this.children.values())e instanceof og?t.push(e.symbol):t.push(...jr.map(e.children.values(),i=>i.symbol));return t.sort((e,i)=>A.compareRangesUsingStarts(e.range,i.range))}asListOfDocumentSymbols(){let t=this.getTopLevelSymbols(),e=[];return n._flattenDocumentSymbols(e,t,""),e.sort((i,o)=>he.compare(A.getStartPosition(i.range),A.getStartPosition(o.range))||he.compare(A.getEndPosition(o.range),A.getEndPosition(i.range)))}static _flattenDocumentSymbols(t,e,i){for(let o of e)t.push({kind:o.kind,tags:o.tags,name:o.name,detail:o.detail,containerName:o.containerName||i,range:o.range,selectionRange:o.selectionRange,children:void 0}),o.children&&n._flattenDocumentSymbols(t,o.children,o.name)}},Hc=No("IOutlineModelService"),oF=class{constructor(t,e,i){this._languageFeaturesService=t,this._disposables=new G,this._cache=new hl(10,.7),this._debounceInformation=e.for(t.documentSymbolProvider,"DocumentSymbols",{min:350}),this._disposables.add(i.onModelRemoved(o=>{this._cache.delete(o.id)}))}dispose(){this._disposables.dispose()}getOrCreate(t,e){return k(this,null,function*(){let i=this._languageFeaturesService.documentSymbolProvider,o=i.ordered(t),r=this._cache.get(t.id);if(!r||r.versionId!==t.getVersionId()||!$o(r.provider,o)){let a=new fi;r={versionId:t.getVersionId(),provider:o,promiseCnt:0,source:a,promise:Zb.create(i,t,a.token),model:void 0},this._cache.set(t.id,r);let l=Date.now();r.promise.then(c=>{r.model=c,this._debounceInformation.update(t,Date.now()-l)}).catch(c=>{this._cache.delete(t.id)})}if(r.model)return r.model;r.promiseCnt+=1;let s=e.onCancellationRequested(()=>{--r.promiseCnt===0&&(r.source.cancel(),this._cache.delete(t.id))});try{return yield r.promise}finally{s.dispose()}})}};oF=Nbe([nF(0,ae),nF(1,vn),nF(2,ji)],oF);zo(Hc,oF,1)});var VE,t9=ax(()=>{"use strict";Pn();VE=class{constructor(t,e,i){this._editRange=t,this._originalSelection=e,this._text=i}getEditOperations(t,e){e.addTrackedEditOperation(this._editRange,this._text)}computeCursorState(t,e){let o=e.getInverseEditOperations()[0].range;return this._originalSelection.isEmpty()?new ze(o.endLineNumber,Math.min(this._originalSelection.positionColumn,o.endColumn),o.endLineNumber,Math.min(this._originalSelection.positionColumn,o.endColumn)):new ze(o.endLineNumber,o.endColumn-this._text.length,o.endLineNumber,o.endColumn)}}});var i9=ax(()=>{});var n9=O(wy=>{"use strict";Ht();Bt();_h();tt();qe();Pn();$t();bn();fh();Ae();t9();i9();var Yye=wy&&wy.__decorate||function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},Xye=wy&&wy.__param||function(n,t){return function(e,i){t(e,i,n)}},WE,wg=class{static{WE=this}static{this.ID="editor.contrib.inPlaceReplaceController"}static get(t){return t.getContribution(WE.ID)}static{this.DECORATION=at.register({description:"in-place-replace",className:"valueSetReplacement"})}constructor(t,e){this.editor=t,this.editorWorkerService=e,this.decorations=this.editor.createDecorationsCollection()}dispose(){}run(t,e){this.currentRequest?.cancel();let i=this.editor.getSelection(),o=this.editor.getModel();if(!o||!i)return;let r=i;if(r.startLineNumber!==r.endLineNumber)return;let s=new $w(this.editor,5),a=o.uri;return this.editorWorkerService.canNavigateValueSet(a)?(this.currentRequest=yi(l=>this.editorWorkerService.navigateValueSet(a,r,e)),this.currentRequest.then(l=>{if(!l||!l.range||!l.value||!s.validate(this.editor))return;let c=A.lift(l.range),d=l.range,u=l.value.length-(r.endColumn-r.startColumn);d={startLineNumber:d.startLineNumber,startColumn:d.startColumn,endLineNumber:d.endLineNumber,endColumn:d.startColumn+l.value.length},u>1&&(r=new ze(r.startLineNumber,r.startColumn,r.endLineNumber,r.endColumn+u-1));let h=new VE(c,r,l.value);this.editor.pushUndoStop(),this.editor.executeCommand(t,h),this.editor.pushUndoStop(),this.decorations.set([{range:d,options:WE.DECORATION}]),this.decorationRemover?.cancel(),this.decorationRemover=hd(350),this.decorationRemover.then(()=>this.decorations.clear()).catch(ut)}).catch(ut)):Promise.resolve(void 0)}};wg=WE=Yye([Xye(1,gr)],wg);var a2=class extends Z{constructor(){super({id:"editor.action.inPlaceReplace.up",label:_("InPlaceReplaceAction.previous.label","Replace with Previous Value"),alias:"Replace with Previous Value",precondition:M.writable,kbOpts:{kbExpr:M.editorTextFocus,primary:3159,weight:100}})}run(t,e){let i=wg.get(e);return i?i.run(this.id,!1):Promise.resolve(void 0)}},l2=class extends Z{constructor(){super({id:"editor.action.inPlaceReplace.down",label:_("InPlaceReplaceAction.next.label","Replace with Next Value"),alias:"Replace with Next Value",precondition:M.writable,kbOpts:{kbExpr:M.editorTextFocus,primary:3161,weight:100}})}run(t,e){let i=wg.get(e);return i?i.run(this.id,!0):Promise.resolve(void 0)}};Me(wg.ID,wg,4);V(a2);V(l2)});var Z9=O(Uy=>{"use strict";Oi();so();Lce();EU();Lt();rg();ce();oi();var yxe=Uy&&Uy.__decorate||function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},X9=Uy&&Uy.__param||function(n,t){return function(e,i){t(e,i,n)}},VB=class extends U{constructor(t,e,i){super(),this._textModel=t,this._languageFeaturesService=e,this._outlineModelService=i,this._currentModel=Kn(this,void 0);let o=Aa("documentSymbolProvider.onDidChange",this._languageFeaturesService.documentSymbolProvider.onDidChange),r=Aa("_textModel.onDidChangeContent",bi.debounce(s=>this._textModel.onDidChangeContent(s),()=>{},100));this._register(gl((s,a)=>k(this,null,function*(){o.read(s),r.read(s);let l=a.add(new DU),c=yield this._outlineModelService.getOrCreate(this._textModel,l.token);a.isDisposed||this._currentModel.set(c,void 0)})))}getBreadcrumbItems(t,e){let i=this._currentModel.read(e);if(!i)return[];let o=i.asListOfDocumentSymbols().filter(r=>t.contains(r.range.startLineNumber)&&!t.contains(r.range.endLineNumber));return o.sort(YW(nc(r=>r.range.endLineNumber-r.range.startLineNumber,th))),o.map(r=>({name:r.name,kind:r.kind,startLineNumber:r.range.startLineNumber}))}};VB=yxe([X9(1,ae),X9(2,Hc)],VB);TU.setBreadcrumbsSourceFactory((n,t)=>t.createInstance(VB,n))});var J9=ax(()=>{});var t7=O(Gy=>{"use strict";J9();gt();ml();ce();tt();gn();xce();Dce();Da();pU();ph();var wxe=Gy&&Gy.__decorate||function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},e7=Gy&&Gy.__param||function(n,t){return function(e,i){t(e,i,n)}},WB,qy=class extends U{static{WB=this}static{this.ID="editor.contrib.inspectTokens"}static get(e){return e.getContribution(WB.ID)}constructor(e,i,o){super(),this._editor=e,this._languageService=o,this._widget=null,this._register(this._editor.onDidChangeModel(r=>this.stop())),this._register(this._editor.onDidChangeModelLanguage(r=>this.stop())),this._register(rp.onDidChange(r=>this.stop())),this._register(this._editor.onKeyUp(r=>r.keyCode===9&&this.stop()))}dispose(){this.stop(),super.dispose()}launch(){this._widget||this._editor.hasModel()&&(this._widget=new Ixe(this._editor,this._languageService))}stop(){this._widget&&(this._widget.dispose(),this._widget=null)}};qy=WB=wxe([e7(1,Tw),e7(2,Un)],qy);var jB=class extends Z{constructor(){super({id:"editor.action.inspectTokens",label:D5.inspectTokensAction,alias:"Developer: Inspect Tokens",precondition:void 0})}run(t,e){qy.get(e)?.launch()}};function Cxe(n){let t="";for(let e=0,i=n.length;e<i;e++){let o=n.charCodeAt(e);switch(o){case 9:t+="\u2192";break;case 32:t+="\xB7";break;default:t+=String.fromCharCode(o)}}return t}function Sxe(n,t){let e=rp.get(t);if(e)return e;let i=n.encodeLanguageId(t);return{getInitialState:()=>g5,tokenize:(o,r,s)=>_5(t,s),tokenizeEncoded:(o,r,s)=>v5(i,s)}}var Ixe=(()=>{class n extends U{static{this._ID="editor.contrib.inspectTokensWidget"}constructor(e,i){super(),this.allowEditorOverflow=!0,this._editor=e,this._languageService=i,this._model=this._editor.getModel(),this._domNode=document.createElement("div"),this._domNode.className="tokens-inspect-widget",this._tokenizationSupport=Sxe(this._languageService.languageIdCodec,this._model.getLanguageId()),this._compute(this._editor.getPosition()),this._register(this._editor.onDidChangeCursorPosition(o=>this._compute(this._editor.getPosition()))),this._editor.addContentWidget(this)}dispose(){this._editor.removeContentWidget(this),super.dispose()}getId(){return n._ID}_compute(e){let i=this._getTokensAtLine(e.lineNumber),o=0;for(let c=i.tokens1.length-1;c>=0;c--){let d=i.tokens1[c];if(e.column-1>=d.offset){o=c;break}}let r=0;for(let c=i.tokens2.length>>>1;c>=0;c--)if(e.column-1>=i.tokens2[c<<1]){r=c;break}let s=this._model.getLineContent(e.lineNumber),a="";if(o<i.tokens1.length){let c=i.tokens1[o].offset,d=o+1<i.tokens1.length?i.tokens1[o+1].offset:s.length;a=s.substring(c,d)}sh(this._domNode,ye("h2.tm-token",void 0,Cxe(a),ye("span.tm-token-length",void 0,`${a.length} ${a.length===1?"char":"chars"}`))),we(this._domNode,ye("hr.tokens-inspect-separator",{style:"clear:both"}));let l=(r<<1)+1<i.tokens2.length?this._decodeMetadata(i.tokens2[(r<<1)+1]):null;we(this._domNode,ye("table.tm-metadata-table",void 0,ye("tbody",void 0,ye("tr",void 0,ye("td.tm-metadata-key",void 0,"language"),ye("td.tm-metadata-value",void 0,`${l?l.languageId:"-?-"}`)),ye("tr",void 0,ye("td.tm-metadata-key",void 0,"token type"),ye("td.tm-metadata-value",void 0,`${l?this._tokenTypeToString(l.tokenType):"-?-"}`)),ye("tr",void 0,ye("td.tm-metadata-key",void 0,"font style"),ye("td.tm-metadata-value",void 0,`${l?this._fontStyleToString(l.fontStyle):"-?-"}`)),ye("tr",void 0,ye("td.tm-metadata-key",void 0,"foreground"),ye("td.tm-metadata-value",void 0,`${l?It.Format.CSS.formatHex(l.foreground):"-?-"}`)),ye("tr",void 0,ye("td.tm-metadata-key",void 0,"background"),ye("td.tm-metadata-value",void 0,`${l?It.Format.CSS.formatHex(l.background):"-?-"}`))))),we(this._domNode,ye("hr.tokens-inspect-separator")),o<i.tokens1.length&&we(this._domNode,ye("span.tm-token-type",void 0,i.tokens1[o].type)),this._editor.layoutContentWidget(this)}_decodeMetadata(e){let i=rp.getColorMap(),o=pp.getLanguageId(e),r=pp.getTokenType(e),s=pp.getFontStyle(e),a=pp.getForeground(e),l=pp.getBackground(e);return{languageId:this._languageService.languageIdCodec.decodeLanguageId(o),tokenType:r,fontStyle:s,foreground:i[a],background:i[l]}}_tokenTypeToString(e){switch(e){case 0:return"Other";case 1:return"Comment";case 2:return"String";case 3:return"RegEx";default:return"??"}}_fontStyleToString(e){let i="";return e&1&&(i+="italic "),e&2&&(i+="bold "),e&4&&(i+="underline "),e&8&&(i+="strikethrough "),i.length===0&&(i="---"),i}_getTokensAtLine(e){let i=this._getStateBeforeLine(e),o=this._tokenizationSupport.tokenize(this._model.getLineContent(e),!0,i),r=this._tokenizationSupport.tokenizeEncoded(this._model.getLineContent(e),!0,i);return{startState:i,tokens1:o.tokens,tokens2:r.tokens,endState:o.endState}}_getStateBeforeLine(e){let i=this._tokenizationSupport.getInitialState();for(let o=1;o<e;o++)i=this._tokenizationSupport.tokenize(this._model.getLineContent(o),!0,i).endState;return i}getDomNode(){return this._domNode}getPosition(){return{position:this._editor.getPosition(),preference:[2,1]}}}return n})();Me(qy.ID,qy,4);V(jB)});var PX=O((Nti,OX)=>{"use strict";function rDe(){this.__data__=[],this.size=0}OX.exports=rDe});var Rm=O((Fti,LX)=>{"use strict";function sDe(n,t){return n===t||n!==n&&t!==t}LX.exports=sDe});var v0=O((zti,NX)=>{"use strict";var aDe=Rm();function lDe(n,t){for(var e=n.length;e--;)if(aDe(n[e][0],t))return e;return-1}NX.exports=lDe});var zX=O((Bti,FX)=>{"use strict";var cDe=v0(),dDe=Array.prototype,uDe=dDe.splice;function hDe(n){var t=this.__data__,e=cDe(t,n);if(e<0)return!1;var i=t.length-1;return e==i?t.pop():uDe.call(t,e,1),--this.size,!0}FX.exports=hDe});var HX=O((Hti,BX)=>{"use strict";var mDe=v0();function pDe(n){var t=this.__data__,e=mDe(t,n);return e<0?void 0:t[e][1]}BX.exports=pDe});var WX=O((Vti,VX)=>{"use strict";var fDe=v0();function gDe(n){return fDe(this.__data__,n)>-1}VX.exports=gDe});var UX=O((Wti,jX)=>{"use strict";var _De=v0();function vDe(n,t){var e=this.__data__,i=_De(e,n);return i<0?(++this.size,e.push([n,t])):e[i][1]=t,this}jX.exports=vDe});var b0=O((jti,qX)=>{"use strict";var bDe=PX(),yDe=zX(),xDe=HX(),wDe=WX(),CDe=UX();function qg(n){var t=-1,e=n==null?0:n.length;for(this.clear();++t<e;){var i=n[t];this.set(i[0],i[1])}}qg.prototype.clear=bDe;qg.prototype.delete=yDe;qg.prototype.get=xDe;qg.prototype.has=wDe;qg.prototype.set=CDe;qX.exports=qg});var $X=O((Uti,GX)=>{"use strict";var SDe=b0();function IDe(){this.__data__=new SDe,this.size=0}GX.exports=IDe});var YX=O((qti,KX)=>{"use strict";function DDe(n){var t=this.__data__,e=t.delete(n);return this.size=t.size,e}KX.exports=DDe});var ZX=O((Gti,XX)=>{"use strict";function EDe(n){return this.__data__.get(n)}XX.exports=EDe});var JX=O(($ti,QX)=>{"use strict";function kDe(n){return this.__data__.has(n)}QX.exports=kDe});var FH=O((Kti,eZ)=>{"use strict";var MDe=typeof global=="object"&&global&&global.Object===Object&&global;eZ.exports=MDe});var na=O((Yti,tZ)=>{"use strict";var TDe=FH(),ADe=typeof self=="object"&&self&&self.Object===Object&&self,RDe=TDe||ADe||Function("return this")();tZ.exports=RDe});var Om=O((Xti,iZ)=>{"use strict";var ODe=na(),PDe=ODe.Symbol;iZ.exports=PDe});var sZ=O((Zti,rZ)=>{"use strict";var nZ=Om(),oZ=Object.prototype,LDe=oZ.hasOwnProperty,NDe=oZ.toString,y0=nZ?nZ.toStringTag:void 0;function FDe(n){var t=LDe.call(n,y0),e=n[y0];try{n[y0]=void 0;var i=!0}catch{}var o=NDe.call(n);return i&&(t?n[y0]=e:delete n[y0]),o}rZ.exports=FDe});var lZ=O((Qti,aZ)=>{"use strict";var zDe=Object.prototype,BDe=zDe.toString;function HDe(n){return BDe.call(n)}aZ.exports=HDe});var Pu=O((Jti,uZ)=>{"use strict";var cZ=Om(),VDe=sZ(),WDe=lZ(),jDe="[object Null]",UDe="[object Undefined]",dZ=cZ?cZ.toStringTag:void 0;function qDe(n){return n==null?n===void 0?UDe:jDe:dZ&&dZ in Object(n)?VDe(n):WDe(n)}uZ.exports=qDe});var Is=O((eii,hZ)=>{"use strict";function GDe(n){var t=typeof n;return n!=null&&(t=="object"||t=="function")}hZ.exports=GDe});var Gg=O((tii,mZ)=>{"use strict";var $De=Pu(),KDe=Is(),YDe="[object AsyncFunction]",XDe="[object Function]",ZDe="[object GeneratorFunction]",QDe="[object Proxy]";function JDe(n){if(!KDe(n))return!1;var t=$De(n);return t==XDe||t==ZDe||t==YDe||t==QDe}mZ.exports=JDe});var fZ=O((iii,pZ)=>{"use strict";var eEe=na(),tEe=eEe["__core-js_shared__"];pZ.exports=tEe});var vZ=O((nii,_Z)=>{"use strict";var zH=fZ(),gZ=function(){var n=/[^.]+$/.exec(zH&&zH.keys&&zH.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function iEe(n){return!!gZ&&gZ in n}_Z.exports=iEe});var BH=O((oii,bZ)=>{"use strict";var nEe=Function.prototype,oEe=nEe.toString;function rEe(n){if(n!=null){try{return oEe.call(n)}catch{}try{return n+""}catch{}}return""}bZ.exports=rEe});var xZ=O((rii,yZ)=>{"use strict";var sEe=Gg(),aEe=vZ(),lEe=Is(),cEe=BH(),dEe=/[\\^$.*+?()[\]{}|]/g,uEe=/^\[object .+?Constructor\]$/,hEe=Function.prototype,mEe=Object.prototype,pEe=hEe.toString,fEe=mEe.hasOwnProperty,gEe=RegExp("^"+pEe.call(fEe).replace(dEe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function _Ee(n){if(!lEe(n)||aEe(n))return!1;var t=sEe(n)?gEe:uEe;return t.test(cEe(n))}yZ.exports=_Ee});var CZ=O((sii,wZ)=>{"use strict";function vEe(n,t){return n?.[t]}wZ.exports=vEe});var Lu=O((aii,SZ)=>{"use strict";var bEe=xZ(),yEe=CZ();function xEe(n,t){var e=yEe(n,t);return bEe(e)?e:void 0}SZ.exports=xEe});var dM=O((lii,IZ)=>{"use strict";var wEe=Lu(),CEe=na(),SEe=wEe(CEe,"Map");IZ.exports=SEe});var x0=O((cii,DZ)=>{"use strict";var IEe=Lu(),DEe=IEe(Object,"create");DZ.exports=DEe});var MZ=O((dii,kZ)=>{"use strict";var EZ=x0();function EEe(){this.__data__=EZ?EZ(null):{},this.size=0}kZ.exports=EEe});var AZ=O((uii,TZ)=>{"use strict";function kEe(n){var t=this.has(n)&&delete this.__data__[n];return this.size-=t?1:0,t}TZ.exports=kEe});var OZ=O((hii,RZ)=>{"use strict";var MEe=x0(),TEe="__lodash_hash_undefined__",AEe=Object.prototype,REe=AEe.hasOwnProperty;function OEe(n){var t=this.__data__;if(MEe){var e=t[n];return e===TEe?void 0:e}return REe.call(t,n)?t[n]:void 0}RZ.exports=OEe});var LZ=O((mii,PZ)=>{"use strict";var PEe=x0(),LEe=Object.prototype,NEe=LEe.hasOwnProperty;function FEe(n){var t=this.__data__;return PEe?t[n]!==void 0:NEe.call(t,n)}PZ.exports=FEe});var FZ=O((pii,NZ)=>{"use strict";var zEe=x0(),BEe="__lodash_hash_undefined__";function HEe(n,t){var e=this.__data__;return this.size+=this.has(n)?0:1,e[n]=zEe&&t===void 0?BEe:t,this}NZ.exports=HEe});var BZ=O((fii,zZ)=>{"use strict";var VEe=MZ(),WEe=AZ(),jEe=OZ(),UEe=LZ(),qEe=FZ();function $g(n){var t=-1,e=n==null?0:n.length;for(this.clear();++t<e;){var i=n[t];this.set(i[0],i[1])}}$g.prototype.clear=VEe;$g.prototype.delete=WEe;$g.prototype.get=jEe;$g.prototype.has=UEe;$g.prototype.set=qEe;zZ.exports=$g});var WZ=O((gii,VZ)=>{"use strict";var HZ=BZ(),GEe=b0(),$Ee=dM();function KEe(){this.size=0,this.__data__={hash:new HZ,map:new($Ee||GEe),string:new HZ}}VZ.exports=KEe});var UZ=O((_ii,jZ)=>{"use strict";function YEe(n){var t=typeof n;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?n!=="__proto__":n===null}jZ.exports=YEe});var w0=O((vii,qZ)=>{"use strict";var XEe=UZ();function ZEe(n,t){var e=n.__data__;return XEe(t)?e[typeof t=="string"?"string":"hash"]:e.map}qZ.exports=ZEe});var $Z=O((bii,GZ)=>{"use strict";var QEe=w0();function JEe(n){var t=QEe(this,n).delete(n);return this.size-=t?1:0,t}GZ.exports=JEe});var YZ=O((yii,KZ)=>{"use strict";var e1e=w0();function t1e(n){return e1e(this,n).get(n)}KZ.exports=t1e});var ZZ=O((xii,XZ)=>{"use strict";var i1e=w0();function n1e(n){return i1e(this,n).has(n)}XZ.exports=n1e});var JZ=O((wii,QZ)=>{"use strict";var o1e=w0();function r1e(n,t){var e=o1e(this,n),i=e.size;return e.set(n,t),this.size+=e.size==i?0:1,this}QZ.exports=r1e});var uM=O((Cii,eQ)=>{"use strict";var s1e=WZ(),a1e=$Z(),l1e=YZ(),c1e=ZZ(),d1e=JZ();function Kg(n){var t=-1,e=n==null?0:n.length;for(this.clear();++t<e;){var i=n[t];this.set(i[0],i[1])}}Kg.prototype.clear=s1e;Kg.prototype.delete=a1e;Kg.prototype.get=l1e;Kg.prototype.has=c1e;Kg.prototype.set=d1e;eQ.exports=Kg});var iQ=O((Sii,tQ)=>{"use strict";var u1e=b0(),h1e=dM(),m1e=uM(),p1e=200;function f1e(n,t){var e=this.__data__;if(e instanceof u1e){var i=e.__data__;if(!h1e||i.length<p1e-1)return i.push([n,t]),this.size=++e.size,this;e=this.__data__=new m1e(i)}return e.set(n,t),this.size=e.size,this}tQ.exports=f1e});var C0=O((Iii,nQ)=>{"use strict";var g1e=b0(),_1e=$X(),v1e=YX(),b1e=ZX(),y1e=JX(),x1e=iQ();function Yg(n){var t=this.__data__=new g1e(n);this.size=t.size}Yg.prototype.clear=_1e;Yg.prototype.delete=v1e;Yg.prototype.get=b1e;Yg.prototype.has=y1e;Yg.prototype.set=x1e;nQ.exports=Yg});var hM=O((Dii,oQ)=>{"use strict";function w1e(n,t){for(var e=-1,i=n==null?0:n.length;++e<i&&t(n[e],e,n)!==!1;);return n}oQ.exports=w1e});var HH=O((Eii,rQ)=>{"use strict";var C1e=Lu(),S1e=function(){try{var n=C1e(Object,"defineProperty");return n({},"",{}),n}catch{}}();rQ.exports=S1e});var S0=O((kii,aQ)=>{"use strict";var sQ=HH();function I1e(n,t,e){t=="__proto__"&&sQ?sQ(n,t,{configurable:!0,enumerable:!0,value:e,writable:!0}):n[t]=e}aQ.exports=I1e});var I0=O((Mii,lQ)=>{"use strict";var D1e=S0(),E1e=Rm(),k1e=Object.prototype,M1e=k1e.hasOwnProperty;function T1e(n,t,e){var i=n[t];(!(M1e.call(n,t)&&E1e(i,e))||e===void 0&&!(t in n))&&D1e(n,t,e)}lQ.exports=T1e});var Xg=O((Tii,cQ)=>{"use strict";var A1e=I0(),R1e=S0();function O1e(n,t,e,i){var o=!e;e||(e={});for(var r=-1,s=t.length;++r<s;){var a=t[r],l=i?i(e[a],n[a],a,e,n):void 0;l===void 0&&(l=n[a]),o?R1e(e,a,l):A1e(e,a,l)}return e}cQ.exports=O1e});var uQ=O((Aii,dQ)=>{"use strict";function P1e(n,t){for(var e=-1,i=Array(n);++e<n;)i[e]=t(e);return i}dQ.exports=P1e});var Ya=O((Rii,hQ)=>{"use strict";function L1e(n){return n!=null&&typeof n=="object"}hQ.exports=L1e});var pQ=O((Oii,mQ)=>{"use strict";var N1e=Pu(),F1e=Ya(),z1e="[object Arguments]";function B1e(n){return F1e(n)&&N1e(n)==z1e}mQ.exports=B1e});var Zg=O((Pii,_Q)=>{"use strict";var fQ=pQ(),H1e=Ya(),gQ=Object.prototype,V1e=gQ.hasOwnProperty,W1e=gQ.propertyIsEnumerable,j1e=fQ(function(){return arguments}())?fQ:function(n){return H1e(n)&&V1e.call(n,"callee")&&!W1e.call(n,"callee")};_Q.exports=j1e});var ho=O((Lii,vQ)=>{"use strict";var U1e=Array.isArray;vQ.exports=U1e});var yQ=O((Nii,bQ)=>{"use strict";function q1e(){return!1}bQ.exports=q1e});var Pm=O((D0,Qg)=>{"use strict";var G1e=na(),$1e=yQ(),CQ=typeof D0=="object"&&D0&&!D0.nodeType&&D0,xQ=CQ&&typeof Qg=="object"&&Qg&&!Qg.nodeType&&Qg,K1e=xQ&&xQ.exports===CQ,wQ=K1e?G1e.Buffer:void 0,Y1e=wQ?wQ.isBuffer:void 0,X1e=Y1e||$1e;Qg.exports=X1e});var E0=O((Fii,SQ)=>{"use strict";var Z1e=9007199254740991,Q1e=/^(?:0|[1-9]\d*)$/;function J1e(n,t){var e=typeof n;return t=t??Z1e,!!t&&(e=="number"||e!="symbol"&&Q1e.test(n))&&n>-1&&n%1==0&&n<t}SQ.exports=J1e});var mM=O((zii,IQ)=>{"use strict";var eke=9007199254740991;function tke(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=eke}IQ.exports=tke});var EQ=O((Bii,DQ)=>{"use strict";var ike=Pu(),nke=mM(),oke=Ya(),rke="[object Arguments]",ske="[object Array]",ake="[object Boolean]",lke="[object Date]",cke="[object Error]",dke="[object Function]",uke="[object Map]",hke="[object Number]",mke="[object Object]",pke="[object RegExp]",fke="[object Set]",gke="[object String]",_ke="[object WeakMap]",vke="[object ArrayBuffer]",bke="[object DataView]",yke="[object Float32Array]",xke="[object Float64Array]",wke="[object Int8Array]",Cke="[object Int16Array]",Ske="[object Int32Array]",Ike="[object Uint8Array]",Dke="[object Uint8ClampedArray]",Eke="[object Uint16Array]",kke="[object Uint32Array]",wn={};wn[yke]=wn[xke]=wn[wke]=wn[Cke]=wn[Ske]=wn[Ike]=wn[Dke]=wn[Eke]=wn[kke]=!0;wn[rke]=wn[ske]=wn[vke]=wn[ake]=wn[bke]=wn[lke]=wn[cke]=wn[dke]=wn[uke]=wn[hke]=wn[mke]=wn[pke]=wn[fke]=wn[gke]=wn[_ke]=!1;function Mke(n){return oke(n)&&nke(n.length)&&!!wn[ike(n)]}DQ.exports=Mke});var k0=O((Hii,kQ)=>{"use strict";function Tke(n){return function(t){return n(t)}}kQ.exports=Tke});var pM=O((M0,Jg)=>{"use strict";var Ake=FH(),MQ=typeof M0=="object"&&M0&&!M0.nodeType&&M0,T0=MQ&&typeof Jg=="object"&&Jg&&!Jg.nodeType&&Jg,Rke=T0&&T0.exports===MQ,VH=Rke&&Ake.process,Oke=function(){try{var n=T0&&T0.require&&T0.require("util").types;return n||VH&&VH.binding&&VH.binding("util")}catch{}}();Jg.exports=Oke});var e_=O((Vii,RQ)=>{"use strict";var Pke=EQ(),Lke=k0(),TQ=pM(),AQ=TQ&&TQ.isTypedArray,Nke=AQ?Lke(AQ):Pke;RQ.exports=Nke});var WH=O((Wii,OQ)=>{"use strict";var Fke=uQ(),zke=Zg(),Bke=ho(),Hke=Pm(),Vke=E0(),Wke=e_(),jke=Object.prototype,Uke=jke.hasOwnProperty;function qke(n,t){var e=Bke(n),i=!e&&zke(n),o=!e&&!i&&Hke(n),r=!e&&!i&&!o&&Wke(n),s=e||i||o||r,a=s?Fke(n.length,String):[],l=a.length;for(var c in n)(t||Uke.call(n,c))&&!(s&&(c=="length"||o&&(c=="offset"||c=="parent")||r&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||Vke(c,l)))&&a.push(c);return a}OQ.exports=qke});var A0=O((jii,PQ)=>{"use strict";var Gke=Object.prototype;function $ke(n){var t=n&&n.constructor,e=typeof t=="function"&&t.prototype||Gke;return n===e}PQ.exports=$ke});var jH=O((Uii,LQ)=>{"use strict";function Kke(n,t){return function(e){return n(t(e))}}LQ.exports=Kke});var FQ=O((qii,NQ)=>{"use strict";var Yke=jH(),Xke=Yke(Object.keys,Object);NQ.exports=Xke});var fM=O((Gii,zQ)=>{"use strict";var Zke=A0(),Qke=FQ(),Jke=Object.prototype,eMe=Jke.hasOwnProperty;function tMe(n){if(!Zke(n))return Qke(n);var t=[];for(var e in Object(n))eMe.call(n,e)&&e!="constructor"&&t.push(e);return t}zQ.exports=tMe});var Kl=O(($ii,BQ)=>{"use strict";var iMe=Gg(),nMe=mM();function oMe(n){return n!=null&&nMe(n.length)&&!iMe(n)}BQ.exports=oMe});var Zc=O((Kii,HQ)=>{"use strict";var rMe=WH(),sMe=fM(),aMe=Kl();function lMe(n){return aMe(n)?rMe(n):sMe(n)}HQ.exports=lMe});var WQ=O((Yii,VQ)=>{"use strict";var cMe=Xg(),dMe=Zc();function uMe(n,t){return n&&cMe(t,dMe(t),n)}VQ.exports=uMe});var UQ=O((Xii,jQ)=>{"use strict";function hMe(n){var t=[];if(n!=null)for(var e in Object(n))t.push(e);return t}jQ.exports=hMe});var GQ=O((Zii,qQ)=>{"use strict";var mMe=Is(),pMe=A0(),fMe=UQ(),gMe=Object.prototype,_Me=gMe.hasOwnProperty;function vMe(n){if(!mMe(n))return fMe(n);var t=pMe(n),e=[];for(var i in n)i=="constructor"&&(t||!_Me.call(n,i))||e.push(i);return e}qQ.exports=vMe});var Nu=O((Qii,$Q)=>{"use strict";var bMe=WH(),yMe=GQ(),xMe=Kl();function wMe(n){return xMe(n)?bMe(n,!0):yMe(n)}$Q.exports=wMe});var YQ=O((Jii,KQ)=>{"use strict";var CMe=Xg(),SMe=Nu();function IMe(n,t){return n&&CMe(t,SMe(t),n)}KQ.exports=IMe});var UH=O((R0,t_)=>{"use strict";var DMe=na(),JQ=typeof R0=="object"&&R0&&!R0.nodeType&&R0,XQ=JQ&&typeof t_=="object"&&t_&&!t_.nodeType&&t_,EMe=XQ&&XQ.exports===JQ,ZQ=EMe?DMe.Buffer:void 0,QQ=ZQ?ZQ.allocUnsafe:void 0;function kMe(n,t){if(t)return n.slice();var e=n.length,i=QQ?QQ(e):new n.constructor(e);return n.copy(i),i}t_.exports=kMe});var qH=O((eni,eJ)=>{"use strict";function MMe(n,t){var e=-1,i=n.length;for(t||(t=Array(i));++e<i;)t[e]=n[e];return t}eJ.exports=MMe});var GH=O((tni,tJ)=>{"use strict";function TMe(n,t){for(var e=-1,i=n==null?0:n.length,o=0,r=[];++e<i;){var s=n[e];t(s,e,n)&&(r[o++]=s)}return r}tJ.exports=TMe});var $H=O((ini,iJ)=>{"use strict";function AMe(){return[]}iJ.exports=AMe});var gM=O((nni,oJ)=>{"use strict";var RMe=GH(),OMe=$H(),PMe=Object.prototype,LMe=PMe.propertyIsEnumerable,nJ=Object.getOwnPropertySymbols,NMe=nJ?function(n){return n==null?[]:(n=Object(n),RMe(nJ(n),function(t){return LMe.call(n,t)}))}:OMe;oJ.exports=NMe});var sJ=O((oni,rJ)=>{"use strict";var FMe=Xg(),zMe=gM();function BMe(n,t){return FMe(n,zMe(n),t)}rJ.exports=BMe});var _M=O((rni,aJ)=>{"use strict";function HMe(n,t){for(var e=-1,i=t.length,o=n.length;++e<i;)n[o+e]=t[e];return n}aJ.exports=HMe});var O0=O((sni,lJ)=>{"use strict";var VMe=jH(),WMe=VMe(Object.getPrototypeOf,Object);lJ.exports=WMe});var KH=O((ani,cJ)=>{"use strict";var jMe=_M(),UMe=O0(),qMe=gM(),GMe=$H(),$Me=Object.getOwnPropertySymbols,KMe=$Me?function(n){for(var t=[];n;)jMe(t,qMe(n)),n=UMe(n);return t}:GMe;cJ.exports=KMe});var uJ=O((lni,dJ)=>{"use strict";var YMe=Xg(),XMe=KH();function ZMe(n,t){return YMe(n,XMe(n),t)}dJ.exports=ZMe});var YH=O((cni,hJ)=>{"use strict";var QMe=_M(),JMe=ho();function eTe(n,t,e){var i=t(n);return JMe(n)?i:QMe(i,e(n))}hJ.exports=eTe});var XH=O((dni,mJ)=>{"use strict";var tTe=YH(),iTe=gM(),nTe=Zc();function oTe(n){return tTe(n,nTe,iTe)}mJ.exports=oTe});var fJ=O((uni,pJ)=>{"use strict";var rTe=YH(),sTe=KH(),aTe=Nu();function lTe(n){return rTe(n,aTe,sTe)}pJ.exports=lTe});var _J=O((hni,gJ)=>{"use strict";var cTe=Lu(),dTe=na(),uTe=cTe(dTe,"DataView");gJ.exports=uTe});var bJ=O((mni,vJ)=>{"use strict";var hTe=Lu(),mTe=na(),pTe=hTe(mTe,"Promise");vJ.exports=pTe});var ZH=O((pni,yJ)=>{"use strict";var fTe=Lu(),gTe=na(),_Te=fTe(gTe,"Set");yJ.exports=_Te});var wJ=O((fni,xJ)=>{"use strict";var vTe=Lu(),bTe=na(),yTe=vTe(bTe,"WeakMap");xJ.exports=yTe});var Nm=O((gni,MJ)=>{"use strict";var QH=_J(),JH=dM(),eV=bJ(),tV=ZH(),iV=wJ(),kJ=Pu(),i_=BH(),CJ="[object Map]",xTe="[object Object]",SJ="[object Promise]",IJ="[object Set]",DJ="[object WeakMap]",EJ="[object DataView]",wTe=i_(QH),CTe=i_(JH),STe=i_(eV),ITe=i_(tV),DTe=i_(iV),Lm=kJ;(QH&&Lm(new QH(new ArrayBuffer(1)))!=EJ||JH&&Lm(new JH)!=CJ||eV&&Lm(eV.resolve())!=SJ||tV&&Lm(new tV)!=IJ||iV&&Lm(new iV)!=DJ)&&(Lm=function(n){var t=kJ(n),e=t==xTe?n.constructor:void 0,i=e?i_(e):"";if(i)switch(i){case wTe:return EJ;case CTe:return CJ;case STe:return SJ;case ITe:return IJ;case DTe:return DJ}return t});MJ.exports=Lm});var AJ=O((_ni,TJ)=>{"use strict";var ETe=Object.prototype,kTe=ETe.hasOwnProperty;function MTe(n){var t=n.length,e=new n.constructor(t);return t&&typeof n[0]=="string"&&kTe.call(n,"index")&&(e.index=n.index,e.input=n.input),e}TJ.exports=MTe});var nV=O((vni,RJ)=>{"use strict";var TTe=na(),ATe=TTe.Uint8Array;RJ.exports=ATe});var vM=O((bni,PJ)=>{"use strict";var OJ=nV();function RTe(n){var t=new n.constructor(n.byteLength);return new OJ(t).set(new OJ(n)),t}PJ.exports=RTe});var NJ=O((yni,LJ)=>{"use strict";var OTe=vM();function PTe(n,t){var e=t?OTe(n.buffer):n.buffer;return new n.constructor(e,n.byteOffset,n.byteLength)}LJ.exports=PTe});var zJ=O((xni,FJ)=>{"use strict";var LTe=/\w*$/;function NTe(n){var t=new n.constructor(n.source,LTe.exec(n));return t.lastIndex=n.lastIndex,t}FJ.exports=NTe});var jJ=O((wni,WJ)=>{"use strict";var BJ=Om(),HJ=BJ?BJ.prototype:void 0,VJ=HJ?HJ.valueOf:void 0;function FTe(n){return VJ?Object(VJ.call(n)):{}}WJ.exports=FTe});var oV=O((Cni,UJ)=>{"use strict";var zTe=vM();function BTe(n,t){var e=t?zTe(n.buffer):n.buffer;return new n.constructor(e,n.byteOffset,n.length)}UJ.exports=BTe});var GJ=O((Sni,qJ)=>{"use strict";var HTe=vM(),VTe=NJ(),WTe=zJ(),jTe=jJ(),UTe=oV(),qTe="[object Boolean]",GTe="[object Date]",$Te="[object Map]",KTe="[object Number]",YTe="[object RegExp]",XTe="[object Set]",ZTe="[object String]",QTe="[object Symbol]",JTe="[object ArrayBuffer]",eAe="[object DataView]",tAe="[object Float32Array]",iAe="[object Float64Array]",nAe="[object Int8Array]",oAe="[object Int16Array]",rAe="[object Int32Array]",sAe="[object Uint8Array]",aAe="[object Uint8ClampedArray]",lAe="[object Uint16Array]",cAe="[object Uint32Array]";function dAe(n,t,e){var i=n.constructor;switch(t){case JTe:return HTe(n);case qTe:case GTe:return new i(+n);case eAe:return VTe(n,e);case tAe:case iAe:case nAe:case oAe:case rAe:case sAe:case aAe:case lAe:case cAe:return UTe(n,e);case $Te:return new i;case KTe:case ZTe:return new i(n);case YTe:return WTe(n);case XTe:return new i;case QTe:return jTe(n)}}qJ.exports=dAe});var rV=O((Ini,KJ)=>{"use strict";var uAe=Is(),$J=Object.create,hAe=function(){function n(){}return function(t){if(!uAe(t))return{};if($J)return $J(t);n.prototype=t;var e=new n;return n.prototype=void 0,e}}();KJ.exports=hAe});var sV=O((Dni,YJ)=>{"use strict";var mAe=rV(),pAe=O0(),fAe=A0();function gAe(n){return typeof n.constructor=="function"&&!fAe(n)?mAe(pAe(n)):{}}YJ.exports=gAe});var ZJ=O((Eni,XJ)=>{"use strict";var _Ae=Nm(),vAe=Ya(),bAe="[object Map]";function yAe(n){return vAe(n)&&_Ae(n)==bAe}XJ.exports=yAe});var tee=O((kni,eee)=>{"use strict";var xAe=ZJ(),wAe=k0(),QJ=pM(),JJ=QJ&&QJ.isMap,CAe=JJ?wAe(JJ):xAe;eee.exports=CAe});var nee=O((Mni,iee)=>{"use strict";var SAe=Nm(),IAe=Ya(),DAe="[object Set]";function EAe(n){return IAe(n)&&SAe(n)==DAe}iee.exports=EAe});var aee=O((Tni,see)=>{"use strict";var kAe=nee(),MAe=k0(),oee=pM(),ree=oee&&oee.isSet,TAe=ree?MAe(ree):kAe;see.exports=TAe});var aV=O((Ani,uee)=>{"use strict";var AAe=C0(),RAe=hM(),OAe=I0(),PAe=WQ(),LAe=YQ(),NAe=UH(),FAe=qH(),zAe=sJ(),BAe=uJ(),HAe=XH(),VAe=fJ(),WAe=Nm(),jAe=AJ(),UAe=GJ(),qAe=sV(),GAe=ho(),$Ae=Pm(),KAe=tee(),YAe=Is(),XAe=aee(),ZAe=Zc(),QAe=Nu(),JAe=1,eRe=2,tRe=4,lee="[object Arguments]",iRe="[object Array]",nRe="[object Boolean]",oRe="[object Date]",rRe="[object Error]",cee="[object Function]",sRe="[object GeneratorFunction]",aRe="[object Map]",lRe="[object Number]",dee="[object Object]",cRe="[object RegExp]",dRe="[object Set]",uRe="[object String]",hRe="[object Symbol]",mRe="[object WeakMap]",pRe="[object ArrayBuffer]",fRe="[object DataView]",gRe="[object Float32Array]",_Re="[object Float64Array]",vRe="[object Int8Array]",bRe="[object Int16Array]",yRe="[object Int32Array]",xRe="[object Uint8Array]",wRe="[object Uint8ClampedArray]",CRe="[object Uint16Array]",SRe="[object Uint32Array]",pn={};pn[lee]=pn[iRe]=pn[pRe]=pn[fRe]=pn[nRe]=pn[oRe]=pn[gRe]=pn[_Re]=pn[vRe]=pn[bRe]=pn[yRe]=pn[aRe]=pn[lRe]=pn[dee]=pn[cRe]=pn[dRe]=pn[uRe]=pn[hRe]=pn[xRe]=pn[wRe]=pn[CRe]=pn[SRe]=!0;pn[rRe]=pn[cee]=pn[mRe]=!1;function bM(n,t,e,i,o,r){var s,a=t&JAe,l=t&eRe,c=t&tRe;if(e&&(s=o?e(n,i,o,r):e(n)),s!==void 0)return s;if(!YAe(n))return n;var d=GAe(n);if(d){if(s=jAe(n),!a)return FAe(n,s)}else{var u=WAe(n),h=u==cee||u==sRe;if($Ae(n))return NAe(n,a);if(u==dee||u==lee||h&&!o){if(s=l||h?{}:qAe(n),!a)return l?BAe(n,LAe(s,n)):zAe(n,PAe(s,n))}else{if(!pn[u])return o?n:{};s=UAe(n,u,a)}}r||(r=new AAe);var m=r.get(n);if(m)return m;r.set(n,s),XAe(n)?n.forEach(function(g){s.add(bM(g,t,e,g,n,r))}):KAe(n)&&n.forEach(function(g,v){s.set(v,bM(g,t,e,v,n,r))});var f=c?l?VAe:HAe:l?QAe:ZAe,p=d?void 0:f(n);return RAe(p||n,function(g,v){p&&(v=g,g=n[v]),OAe(s,v,bM(g,t,e,v,n,r))}),s}uee.exports=bM});var mee=O((Rni,hee)=>{"use strict";var IRe=aV(),DRe=4;function ERe(n){return IRe(n,DRe)}hee.exports=ERe});var yM=O((Oni,pee)=>{"use strict";function kRe(n){return function(){return n}}pee.exports=kRe});var gee=O((Pni,fee)=>{"use strict";function MRe(n){return function(t,e,i){for(var o=-1,r=Object(t),s=i(t),a=s.length;a--;){var l=s[n?a:++o];if(e(r[l],l,r)===!1)break}return t}}fee.exports=MRe});var xM=O((Lni,_ee)=>{"use strict";var TRe=gee(),ARe=TRe();_ee.exports=ARe});var wM=O((Nni,vee)=>{"use strict";var RRe=xM(),ORe=Zc();function PRe(n,t){return n&&RRe(n,t,ORe)}vee.exports=PRe});var yee=O((Fni,bee)=>{"use strict";var LRe=Kl();function NRe(n,t){return function(e,i){if(e==null)return e;if(!LRe(e))return n(e,i);for(var o=e.length,r=t?o:-1,s=Object(e);(t?r--:++r<o)&&i(s[r],r,s)!==!1;);return e}}bee.exports=NRe});var P0=O((zni,xee)=>{"use strict";var FRe=wM(),zRe=yee(),BRe=zRe(FRe);xee.exports=BRe});var Fu=O((Bni,wee)=>{"use strict";function HRe(n){return n}wee.exports=HRe});var lV=O((Hni,Cee)=>{"use strict";var VRe=Fu();function WRe(n){return typeof n=="function"?n:VRe}Cee.exports=WRe});var cV=O((Vni,See)=>{"use strict";var jRe=hM(),URe=P0(),qRe=lV(),GRe=ho();function $Re(n,t){var e=GRe(n)?jRe:URe;return e(n,qRe(t))}See.exports=$Re});var dV=O((Wni,Iee)=>{"use strict";Iee.exports=cV()});var Eee=O((jni,Dee)=>{"use strict";var KRe=P0();function YRe(n,t){var e=[];return KRe(n,function(i,o,r){t(i,o,r)&&e.push(i)}),e}Dee.exports=YRe});var Mee=O((Uni,kee)=>{"use strict";var XRe="__lodash_hash_undefined__";function ZRe(n){return this.__data__.set(n,XRe),this}kee.exports=ZRe});var Aee=O((qni,Tee)=>{"use strict";function QRe(n){return this.__data__.has(n)}Tee.exports=QRe});var uV=O((Gni,Ree)=>{"use strict";var JRe=uM(),eOe=Mee(),tOe=Aee();function CM(n){var t=-1,e=n==null?0:n.length;for(this.__data__=new JRe;++t<e;)this.add(n[t])}CM.prototype.add=CM.prototype.push=eOe;CM.prototype.has=tOe;Ree.exports=CM});var Pee=O(($ni,Oee)=>{"use strict";function iOe(n,t){for(var e=-1,i=n==null?0:n.length;++e<i;)if(t(n[e],e,n))return!0;return!1}Oee.exports=iOe});var hV=O((Kni,Lee)=>{"use strict";function nOe(n,t){return n.has(t)}Lee.exports=nOe});var mV=O((Yni,Nee)=>{"use strict";var oOe=uV(),rOe=Pee(),sOe=hV(),aOe=1,lOe=2;function cOe(n,t,e,i,o,r){var s=e&aOe,a=n.length,l=t.length;if(a!=l&&!(s&&l>a))return!1;var c=r.get(n),d=r.get(t);if(c&&d)return c==t&&d==n;var u=-1,h=!0,m=e&lOe?new oOe:void 0;for(r.set(n,t),r.set(t,n);++u<a;){var f=n[u],p=t[u];if(i)var g=s?i(p,f,u,t,n,r):i(f,p,u,n,t,r);if(g!==void 0){if(g)continue;h=!1;break}if(m){if(!rOe(t,function(v,b){if(!sOe(m,b)&&(f===v||o(f,v,e,i,r)))return m.push(b)})){h=!1;break}}else if(!(f===p||o(f,p,e,i,r))){h=!1;break}}return r.delete(n),r.delete(t),h}Nee.exports=cOe});var zee=O((Xni,Fee)=>{"use strict";function dOe(n){var t=-1,e=Array(n.size);return n.forEach(function(i,o){e[++t]=[o,i]}),e}Fee.exports=dOe});var SM=O((Zni,Bee)=>{"use strict";function uOe(n){var t=-1,e=Array(n.size);return n.forEach(function(i){e[++t]=i}),e}Bee.exports=uOe});var Uee=O((Qni,jee)=>{"use strict";var Hee=Om(),Vee=nV(),hOe=Rm(),mOe=mV(),pOe=zee(),fOe=SM(),gOe=1,_Oe=2,vOe="[object Boolean]",bOe="[object Date]",yOe="[object Error]",xOe="[object Map]",wOe="[object Number]",COe="[object RegExp]",SOe="[object Set]",IOe="[object String]",DOe="[object Symbol]",EOe="[object ArrayBuffer]",kOe="[object DataView]",Wee=Hee?Hee.prototype:void 0,pV=Wee?Wee.valueOf:void 0;function MOe(n,t,e,i,o,r,s){switch(e){case kOe:if(n.byteLength!=t.byteLength||n.byteOffset!=t.byteOffset)return!1;n=n.buffer,t=t.buffer;case EOe:return!(n.byteLength!=t.byteLength||!r(new Vee(n),new Vee(t)));case vOe:case bOe:case wOe:return hOe(+n,+t);case yOe:return n.name==t.name&&n.message==t.message;case COe:case IOe:return n==t+"";case xOe:var a=pOe;case SOe:var l=i&gOe;if(a||(a=fOe),n.size!=t.size&&!l)return!1;var c=s.get(n);if(c)return c==t;i|=_Oe,s.set(n,t);var d=mOe(a(n),a(t),i,o,r,s);return s.delete(n),d;case DOe:if(pV)return pV.call(n)==pV.call(t)}return!1}jee.exports=MOe});var $ee=O((Jni,Gee)=>{"use strict";var qee=XH(),TOe=1,AOe=Object.prototype,ROe=AOe.hasOwnProperty;function OOe(n,t,e,i,o,r){var s=e&TOe,a=qee(n),l=a.length,c=qee(t),d=c.length;if(l!=d&&!s)return!1;for(var u=l;u--;){var h=a[u];if(!(s?h in t:ROe.call(t,h)))return!1}var m=r.get(n),f=r.get(t);if(m&&f)return m==t&&f==n;var p=!0;r.set(n,t),r.set(t,n);for(var g=s;++u<l;){h=a[u];var v=n[h],b=t[h];if(i)var C=s?i(b,v,h,t,n,r):i(v,b,h,n,t,r);if(!(C===void 0?v===b||o(v,b,e,i,r):C)){p=!1;break}g||(g=h=="constructor")}if(p&&!g){var T=n.constructor,E=t.constructor;T!=E&&"constructor"in n&&"constructor"in t&&!(typeof T=="function"&&T instanceof T&&typeof E=="function"&&E instanceof E)&&(p=!1)}return r.delete(n),r.delete(t),p}Gee.exports=OOe});var tte=O((eoi,ete)=>{"use strict";var fV=C0(),POe=mV(),LOe=Uee(),NOe=$ee(),Kee=Nm(),Yee=ho(),Xee=Pm(),FOe=e_(),zOe=1,Zee="[object Arguments]",Qee="[object Array]",IM="[object Object]",BOe=Object.prototype,Jee=BOe.hasOwnProperty;function HOe(n,t,e,i,o,r){var s=Yee(n),a=Yee(t),l=s?Qee:Kee(n),c=a?Qee:Kee(t);l=l==Zee?IM:l,c=c==Zee?IM:c;var d=l==IM,u=c==IM,h=l==c;if(h&&Xee(n)){if(!Xee(t))return!1;s=!0,d=!1}if(h&&!d)return r||(r=new fV),s||FOe(n)?POe(n,t,e,i,o,r):LOe(n,t,l,e,i,o,r);if(!(e&zOe)){var m=d&&Jee.call(n,"__wrapped__"),f=u&&Jee.call(t,"__wrapped__");if(m||f){var p=m?n.value():n,g=f?t.value():t;return r||(r=new fV),o(p,g,e,i,r)}}return h?(r||(r=new fV),NOe(n,t,e,i,o,r)):!1}ete.exports=HOe});var gV=O((toi,ote)=>{"use strict";var VOe=tte(),ite=Ya();function nte(n,t,e,i,o){return n===t?!0:n==null||t==null||!ite(n)&&!ite(t)?n!==n&&t!==t:VOe(n,t,e,i,nte,o)}ote.exports=nte});var ste=O((ioi,rte)=>{"use strict";var WOe=C0(),jOe=gV(),UOe=1,qOe=2;function GOe(n,t,e,i){var o=e.length,r=o,s=!i;if(n==null)return!r;for(n=Object(n);o--;){var a=e[o];if(s&&a[2]?a[1]!==n[a[0]]:!(a[0]in n))return!1}for(;++o<r;){a=e[o];var l=a[0],c=n[l],d=a[1];if(s&&a[2]){if(c===void 0&&!(l in n))return!1}else{var u=new WOe;if(i)var h=i(c,d,l,n,t,u);if(!(h===void 0?jOe(d,c,UOe|qOe,i,u):h))return!1}}return!0}rte.exports=GOe});var _V=O((noi,ate)=>{"use strict";var $Oe=Is();function KOe(n){return n===n&&!$Oe(n)}ate.exports=KOe});var cte=O((ooi,lte)=>{"use strict";var YOe=_V(),XOe=Zc();function ZOe(n){for(var t=XOe(n),e=t.length;e--;){var i=t[e],o=n[i];t[e]=[i,o,YOe(o)]}return t}lte.exports=ZOe});var vV=O((roi,dte)=>{"use strict";function QOe(n,t){return function(e){return e==null?!1:e[n]===t&&(t!==void 0||n in Object(e))}}dte.exports=QOe});var hte=O((soi,ute)=>{"use strict";var JOe=ste(),ePe=cte(),tPe=vV();function iPe(n){var t=ePe(n);return t.length==1&&t[0][2]?tPe(t[0][0],t[0][1]):function(e){return e===n||JOe(e,n,t)}}ute.exports=iPe});var Fm=O((aoi,mte)=>{"use strict";var nPe=Pu(),oPe=Ya(),rPe="[object Symbol]";function sPe(n){return typeof n=="symbol"||oPe(n)&&nPe(n)==rPe}mte.exports=sPe});var DM=O((loi,pte)=>{"use strict";var aPe=ho(),lPe=Fm(),cPe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,dPe=/^\w*$/;function uPe(n,t){if(aPe(n))return!1;var e=typeof n;return e=="number"||e=="symbol"||e=="boolean"||n==null||lPe(n)?!0:dPe.test(n)||!cPe.test(n)||t!=null&&n in Object(t)}pte.exports=uPe});var _te=O((coi,gte)=>{"use strict";var fte=uM(),hPe="Expected a function";function bV(n,t){if(typeof n!="function"||t!=null&&typeof t!="function")throw new TypeError(hPe);var e=function(){var i=arguments,o=t?t.apply(this,i):i[0],r=e.cache;if(r.has(o))return r.get(o);var s=n.apply(this,i);return e.cache=r.set(o,s)||r,s};return e.cache=new(bV.Cache||fte),e}bV.Cache=fte;gte.exports=bV});var bte=O((doi,vte)=>{"use strict";var mPe=_te(),pPe=500;function fPe(n){var t=mPe(n,function(i){return e.size===pPe&&e.clear(),i}),e=t.cache;return t}vte.exports=fPe});var xte=O((uoi,yte)=>{"use strict";var gPe=bte(),_Pe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,vPe=/\\(\\)?/g,bPe=gPe(function(n){var t=[];return n.charCodeAt(0)===46&&t.push(""),n.replace(_Pe,function(e,i,o,r){t.push(o?r.replace(vPe,"$1"):i||e)}),t});yte.exports=bPe});var L0=O((hoi,wte)=>{"use strict";function yPe(n,t){for(var e=-1,i=n==null?0:n.length,o=Array(i);++e<i;)o[e]=t(n[e],e,n);return o}wte.exports=yPe});var kte=O((moi,Ete)=>{"use strict";var Cte=Om(),xPe=L0(),wPe=ho(),CPe=Fm(),SPe=1/0,Ste=Cte?Cte.prototype:void 0,Ite=Ste?Ste.toString:void 0;function Dte(n){if(typeof n=="string")return n;if(wPe(n))return xPe(n,Dte)+"";if(CPe(n))return Ite?Ite.call(n):"";var t=n+"";return t=="0"&&1/n==-SPe?"-0":t}Ete.exports=Dte});var yV=O((poi,Mte)=>{"use strict";var IPe=kte();function DPe(n){return n==null?"":IPe(n)}Mte.exports=DPe});var N0=O((foi,Tte)=>{"use strict";var EPe=ho(),kPe=DM(),MPe=xte(),TPe=yV();function APe(n,t){return EPe(n)?n:kPe(n,t)?[n]:MPe(TPe(n))}Tte.exports=APe});var n_=O((goi,Ate)=>{"use strict";var RPe=Fm(),OPe=1/0;function PPe(n){if(typeof n=="string"||RPe(n))return n;var t=n+"";return t=="0"&&1/n==-OPe?"-0":t}Ate.exports=PPe});var F0=O((_oi,Rte)=>{"use strict";var LPe=N0(),NPe=n_();function FPe(n,t){t=LPe(t,n);for(var e=0,i=t.length;n!=null&&e<i;)n=n[NPe(t[e++])];return e&&e==i?n:void 0}Rte.exports=FPe});var Pte=O((voi,Ote)=>{"use strict";var zPe=F0();function BPe(n,t,e){var i=n==null?void 0:zPe(n,t);return i===void 0?e:i}Ote.exports=BPe});var Nte=O((boi,Lte)=>{"use strict";function HPe(n,t){return n!=null&&t in Object(n)}Lte.exports=HPe});var xV=O((yoi,Fte)=>{"use strict";var VPe=N0(),WPe=Zg(),jPe=ho(),UPe=E0(),qPe=mM(),GPe=n_();function $Pe(n,t,e){t=VPe(t,n);for(var i=-1,o=t.length,r=!1;++i<o;){var s=GPe(t[i]);if(!(r=n!=null&&e(n,s)))break;n=n[s]}return r||++i!=o?r:(o=n==null?0:n.length,!!o&&qPe(o)&&UPe(s,o)&&(jPe(n)||WPe(n)))}Fte.exports=$Pe});var wV=O((xoi,zte)=>{"use strict";var KPe=Nte(),YPe=xV();function XPe(n,t){return n!=null&&YPe(n,t,KPe)}zte.exports=XPe});var Hte=O((woi,Bte)=>{"use strict";var ZPe=gV(),QPe=Pte(),JPe=wV(),eLe=DM(),tLe=_V(),iLe=vV(),nLe=n_(),oLe=1,rLe=2;function sLe(n,t){return eLe(n)&&tLe(t)?iLe(nLe(n),t):function(e){var i=QPe(e,n);return i===void 0&&i===t?JPe(e,n):ZPe(t,i,oLe|rLe)}}Bte.exports=sLe});var CV=O((Coi,Vte)=>{"use strict";function aLe(n){return function(t){return t?.[n]}}Vte.exports=aLe});var jte=O((Soi,Wte)=>{"use strict";var lLe=F0();function cLe(n){return function(t){return lLe(t,n)}}Wte.exports=cLe});var qte=O((Ioi,Ute)=>{"use strict";var dLe=CV(),uLe=jte(),hLe=DM(),mLe=n_();function pLe(n){return hLe(n)?dLe(mLe(n)):uLe(n)}Ute.exports=pLe});var Yl=O((Doi,Gte)=>{"use strict";var fLe=hte(),gLe=Hte(),_Le=Fu(),vLe=ho(),bLe=qte();function yLe(n){return typeof n=="function"?n:n==null?_Le:typeof n=="object"?vLe(n)?gLe(n[0],n[1]):fLe(n):bLe(n)}Gte.exports=yLe});var SV=O((Eoi,$te)=>{"use strict";var xLe=GH(),wLe=Eee(),CLe=Yl(),SLe=ho();function ILe(n,t){var e=SLe(n)?xLe:wLe;return e(n,CLe(t,3))}$te.exports=ILe});var Yte=O((koi,Kte)=>{"use strict";var DLe=Object.prototype,ELe=DLe.hasOwnProperty;function kLe(n,t){return n!=null&&ELe.call(n,t)}Kte.exports=kLe});var IV=O((Moi,Xte)=>{"use strict";var MLe=Yte(),TLe=xV();function ALe(n,t){return n!=null&&TLe(n,t,MLe)}Xte.exports=ALe});var Qte=O((Toi,Zte)=>{"use strict";var RLe=fM(),OLe=Nm(),PLe=Zg(),LLe=ho(),NLe=Kl(),FLe=Pm(),zLe=A0(),BLe=e_(),HLe="[object Map]",VLe="[object Set]",WLe=Object.prototype,jLe=WLe.hasOwnProperty;function ULe(n){if(n==null)return!0;if(NLe(n)&&(LLe(n)||typeof n=="string"||typeof n.splice=="function"||FLe(n)||BLe(n)||PLe(n)))return!n.length;var t=OLe(n);if(t==HLe||t==VLe)return!n.size;if(zLe(n))return!RLe(n).length;for(var e in n)if(jLe.call(n,e))return!1;return!0}Zte.exports=ULe});var DV=O((Aoi,Jte)=>{"use strict";function qLe(n){return n===void 0}Jte.exports=qLe});var EV=O((Roi,eie)=>{"use strict";var GLe=P0(),$Le=Kl();function KLe(n,t){var e=-1,i=$Le(n)?Array(n.length):[];return GLe(n,function(o,r,s){i[++e]=t(o,r,s)}),i}eie.exports=KLe});var kV=O((Ooi,tie)=>{"use strict";var YLe=L0(),XLe=Yl(),ZLe=EV(),QLe=ho();function JLe(n,t){var e=QLe(n)?YLe:ZLe;return e(n,XLe(t,3))}tie.exports=JLe});var nie=O((Poi,iie)=>{"use strict";function eNe(n,t,e,i){var o=-1,r=n==null?0:n.length;for(i&&r&&(e=n[++o]);++o<r;)e=t(e,n[o],o,n);return e}iie.exports=eNe});var rie=O((Loi,oie)=>{"use strict";function tNe(n,t,e,i,o){return o(n,function(r,s,a){e=i?(i=!1,r):t(e,r,s,a)}),e}oie.exports=tNe});var MV=O((Noi,sie)=>{"use strict";var iNe=nie(),nNe=P0(),oNe=Yl(),rNe=rie(),sNe=ho();function aNe(n,t,e){var i=sNe(n)?iNe:rNe,o=arguments.length<3;return i(n,oNe(t,4),e,o,nNe)}sie.exports=aNe});var lie=O((Foi,aie)=>{"use strict";var lNe=Pu(),cNe=ho(),dNe=Ya(),uNe="[object String]";function hNe(n){return typeof n=="string"||!cNe(n)&&dNe(n)&&lNe(n)==uNe}aie.exports=hNe});var die=O((zoi,cie)=>{"use strict";var mNe=CV(),pNe=mNe("length");cie.exports=pNe});var hie=O((Boi,uie)=>{"use strict";var fNe="\\ud800-\\udfff",gNe="\\u0300-\\u036f",_Ne="\\ufe20-\\ufe2f",vNe="\\u20d0-\\u20ff",bNe=gNe+_Ne+vNe,yNe="\\ufe0e\\ufe0f",xNe="\\u200d",wNe=RegExp("["+xNe+fNe+bNe+yNe+"]");function CNe(n){return wNe.test(n)}uie.exports=CNe});var xie=O((Hoi,yie)=>{"use strict";var pie="\\ud800-\\udfff",SNe="\\u0300-\\u036f",INe="\\ufe20-\\ufe2f",DNe="\\u20d0-\\u20ff",ENe=SNe+INe+DNe,kNe="\\ufe0e\\ufe0f",MNe="["+pie+"]",TV="["+ENe+"]",AV="\\ud83c[\\udffb-\\udfff]",TNe="(?:"+TV+"|"+AV+")",fie="[^"+pie+"]",gie="(?:\\ud83c[\\udde6-\\uddff]){2}",_ie="[\\ud800-\\udbff][\\udc00-\\udfff]",ANe="\\u200d",vie=TNe+"?",bie="["+kNe+"]?",RNe="(?:"+ANe+"(?:"+[fie,gie,_ie].join("|")+")"+bie+vie+")*",ONe=bie+vie+RNe,PNe="(?:"+[fie+TV+"?",TV,gie,_ie,MNe].join("|")+")",mie=RegExp(AV+"(?="+AV+")|"+PNe+ONe,"g");function LNe(n){for(var t=mie.lastIndex=0;mie.test(n);)++t;return t}yie.exports=LNe});var Cie=O((Voi,wie)=>{"use strict";var NNe=die(),FNe=hie(),zNe=xie();function BNe(n){return FNe(n)?zNe(n):NNe(n)}wie.exports=BNe});var Iie=O((Woi,Sie)=>{"use strict";var HNe=fM(),VNe=Nm(),WNe=Kl(),jNe=lie(),UNe=Cie(),qNe="[object Map]",GNe="[object Set]";function $Ne(n){if(n==null)return 0;if(WNe(n))return jNe(n)?UNe(n):n.length;var t=VNe(n);return t==qNe||t==GNe?n.size:HNe(n).length}Sie.exports=$Ne});var Eie=O((joi,Die)=>{"use strict";var KNe=hM(),YNe=rV(),XNe=wM(),ZNe=Yl(),QNe=O0(),JNe=ho(),eFe=Pm(),tFe=Gg(),iFe=Is(),nFe=e_();function oFe(n,t,e){var i=JNe(n),o=i||eFe(n)||nFe(n);if(t=ZNe(t,4),e==null){var r=n&&n.constructor;o?e=i?new r:[]:iFe(n)?e=tFe(r)?YNe(QNe(n)):{}:e={}}return(o?KNe:XNe)(n,function(s,a,l){return t(e,s,a,l)}),e}Die.exports=oFe});var Aie=O((Uoi,Tie)=>{"use strict";var kie=Om(),rFe=Zg(),sFe=ho(),Mie=kie?kie.isConcatSpreadable:void 0;function aFe(n){return sFe(n)||rFe(n)||!!(Mie&&n&&n[Mie])}Tie.exports=aFe});var EM=O((qoi,Oie)=>{"use strict";var lFe=_M(),cFe=Aie();function Rie(n,t,e,i,o){var r=-1,s=n.length;for(e||(e=cFe),o||(o=[]);++r<s;){var a=n[r];t>0&&e(a)?t>1?Rie(a,t-1,e,i,o):lFe(o,a):i||(o[o.length]=a)}return o}Oie.exports=Rie});var Lie=O((Goi,Pie)=>{"use strict";function dFe(n,t,e){switch(e.length){case 0:return n.call(t);case 1:return n.call(t,e[0]);case 2:return n.call(t,e[0],e[1]);case 3:return n.call(t,e[0],e[1],e[2])}return n.apply(t,e)}Pie.exports=dFe});var RV=O(($oi,Fie)=>{"use strict";var uFe=Lie(),Nie=Math.max;function hFe(n,t,e){return t=Nie(t===void 0?n.length-1:t,0),function(){for(var i=arguments,o=-1,r=Nie(i.length-t,0),s=Array(r);++o<r;)s[o]=i[t+o];o=-1;for(var a=Array(t+1);++o<t;)a[o]=i[o];return a[t]=e(s),uFe(n,this,a)}}Fie.exports=hFe});var Hie=O((Koi,Bie)=>{"use strict";var mFe=yM(),zie=HH(),pFe=Fu(),fFe=zie?function(n,t){return zie(n,"toString",{configurable:!0,enumerable:!1,value:mFe(t),writable:!0})}:pFe;Bie.exports=fFe});var Wie=O((Yoi,Vie)=>{"use strict";var gFe=800,_Fe=16,vFe=Date.now;function bFe(n){var t=0,e=0;return function(){var i=vFe(),o=_Fe-(i-e);if(e=i,o>0){if(++t>=gFe)return arguments[0]}else t=0;return n.apply(void 0,arguments)}}Vie.exports=bFe});var OV=O((Xoi,jie)=>{"use strict";var yFe=Hie(),xFe=Wie(),wFe=xFe(yFe);jie.exports=wFe});var z0=O((Zoi,Uie)=>{"use strict";var CFe=Fu(),SFe=RV(),IFe=OV();function DFe(n,t){return IFe(SFe(n,t,CFe),n+"")}Uie.exports=DFe});var PV=O((Qoi,qie)=>{"use strict";function EFe(n,t,e,i){for(var o=n.length,r=e+(i?1:-1);i?r--:++r<o;)if(t(n[r],r,n))return r;return-1}qie.exports=EFe});var $ie=O((Joi,Gie)=>{"use strict";function kFe(n){return n!==n}Gie.exports=kFe});var Yie=O((eri,Kie)=>{"use strict";function MFe(n,t,e){for(var i=e-1,o=n.length;++i<o;)if(n[i]===t)return i;return-1}Kie.exports=MFe});var Zie=O((tri,Xie)=>{"use strict";var TFe=PV(),AFe=$ie(),RFe=Yie();function OFe(n,t,e){return t===t?RFe(n,t,e):TFe(n,AFe,e)}Xie.exports=OFe});var Jie=O((iri,Qie)=>{"use strict";var PFe=Zie();function LFe(n,t){var e=n==null?0:n.length;return!!e&&PFe(n,t,0)>-1}Qie.exports=LFe});var tne=O((nri,ene)=>{"use strict";function NFe(n,t,e){for(var i=-1,o=n==null?0:n.length;++i<o;)if(e(t,n[i]))return!0;return!1}ene.exports=NFe});var nne=O((ori,ine)=>{"use strict";function FFe(){}ine.exports=FFe});var rne=O((rri,one)=>{"use strict";var LV=ZH(),zFe=nne(),BFe=SM(),HFe=1/0,VFe=LV&&1/BFe(new LV([,-0]))[1]==HFe?function(n){return new LV(n)}:zFe;one.exports=VFe});var ane=O((sri,sne)=>{"use strict";var WFe=uV(),jFe=Jie(),UFe=tne(),qFe=hV(),GFe=rne(),$Fe=SM(),KFe=200;function YFe(n,t,e){var i=-1,o=jFe,r=n.length,s=!0,a=[],l=a;if(e)s=!1,o=UFe;else if(r>=KFe){var c=t?null:GFe(n);if(c)return $Fe(c);s=!1,o=qFe,l=new WFe}else l=t?[]:a;e:for(;++i<r;){var d=n[i],u=t?t(d):d;if(d=e||d!==0?d:0,s&&u===u){for(var h=l.length;h--;)if(l[h]===u)continue e;t&&l.push(u),a.push(d)}else o(l,u,e)||(l!==a&&l.push(u),a.push(d))}return a}sne.exports=YFe});var NV=O((ari,lne)=>{"use strict";var XFe=Kl(),ZFe=Ya();function QFe(n){return ZFe(n)&&XFe(n)}lne.exports=QFe});var dne=O((lri,cne)=>{"use strict";var JFe=EM(),e2e=z0(),t2e=ane(),i2e=NV(),n2e=e2e(function(n){return t2e(JFe(n,1,i2e,!0))});cne.exports=n2e});var hne=O((cri,une)=>{"use strict";var o2e=L0();function r2e(n,t){return o2e(t,function(e){return n[e]})}une.exports=r2e});var FV=O((dri,mne)=>{"use strict";var s2e=hne(),a2e=Zc();function l2e(n){return n==null?[]:s2e(n,a2e(n))}mne.exports=l2e});var Ds=O((uri,pne)=>{"use strict";var kM;if(typeof ca=="function")try{kM={clone:mee(),constant:yM(),each:dV(),filter:SV(),has:IV(),isArray:ho(),isEmpty:Qte(),isFunction:Gg(),isUndefined:DV(),keys:Zc(),map:kV(),reduce:MV(),size:Iie(),transform:Eie(),union:dne(),values:FV()}}catch{}kM||(kM=window._);pne.exports=kM});var MM=O((mri,vne)=>{"use strict";var Jt=Ds();vne.exports=Ci;var c2e="\0",zm="\0",fne="";function Ci(n){this._isDirected=Jt.has(n,"directed")?n.directed:!0,this._isMultigraph=Jt.has(n,"multigraph")?n.multigraph:!1,this._isCompound=Jt.has(n,"compound")?n.compound:!1,this._label=void 0,this._defaultNodeLabelFn=Jt.constant(void 0),this._defaultEdgeLabelFn=Jt.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[zm]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}Ci.prototype._nodeCount=0;Ci.prototype._edgeCount=0;Ci.prototype.isDirected=function(){return this._isDirected};Ci.prototype.isMultigraph=function(){return this._isMultigraph};Ci.prototype.isCompound=function(){return this._isCompound};Ci.prototype.setGraph=function(n){return this._label=n,this};Ci.prototype.graph=function(){return this._label};Ci.prototype.setDefaultNodeLabel=function(n){return Jt.isFunction(n)||(n=Jt.constant(n)),this._defaultNodeLabelFn=n,this};Ci.prototype.nodeCount=function(){return this._nodeCount};Ci.prototype.nodes=function(){return Jt.keys(this._nodes)};Ci.prototype.sources=function(){var n=this;return Jt.filter(this.nodes(),function(t){return Jt.isEmpty(n._in[t])})};Ci.prototype.sinks=function(){var n=this;return Jt.filter(this.nodes(),function(t){return Jt.isEmpty(n._out[t])})};Ci.prototype.setNodes=function(n,t){var e=arguments,i=this;return Jt.each(n,function(o){e.length>1?i.setNode(o,t):i.setNode(o)}),this};Ci.prototype.setNode=function(n,t){return Jt.has(this._nodes,n)?(arguments.length>1&&(this._nodes[n]=t),this):(this._nodes[n]=arguments.length>1?t:this._defaultNodeLabelFn(n),this._isCompound&&(this._parent[n]=zm,this._children[n]={},this._children[zm][n]=!0),this._in[n]={},this._preds[n]={},this._out[n]={},this._sucs[n]={},++this._nodeCount,this)};Ci.prototype.node=function(n){return this._nodes[n]};Ci.prototype.hasNode=function(n){return Jt.has(this._nodes,n)};Ci.prototype.removeNode=function(n){var t=this;if(Jt.has(this._nodes,n)){var e=function(i){t.removeEdge(t._edgeObjs[i])};delete this._nodes[n],this._isCompound&&(this._removeFromParentsChildList(n),delete this._parent[n],Jt.each(this.children(n),function(i){t.setParent(i)}),delete this._children[n]),Jt.each(Jt.keys(this._in[n]),e),delete this._in[n],delete this._preds[n],Jt.each(Jt.keys(this._out[n]),e),delete this._out[n],delete this._sucs[n],--this._nodeCount}return this};Ci.prototype.setParent=function(n,t){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(Jt.isUndefined(t))t=zm;else{t+="";for(var e=t;!Jt.isUndefined(e);e=this.parent(e))if(e===n)throw new Error("Setting "+t+" as parent of "+n+" would create a cycle");this.setNode(t)}return this.setNode(n),this._removeFromParentsChildList(n),this._parent[n]=t,this._children[t][n]=!0,this};Ci.prototype._removeFromParentsChildList=function(n){delete this._children[this._parent[n]][n]};Ci.prototype.parent=function(n){if(this._isCompound){var t=this._parent[n];if(t!==zm)return t}};Ci.prototype.children=function(n){if(Jt.isUndefined(n)&&(n=zm),this._isCompound){var t=this._children[n];if(t)return Jt.keys(t)}else{if(n===zm)return this.nodes();if(this.hasNode(n))return[]}};Ci.prototype.predecessors=function(n){var t=this._preds[n];if(t)return Jt.keys(t)};Ci.prototype.successors=function(n){var t=this._sucs[n];if(t)return Jt.keys(t)};Ci.prototype.neighbors=function(n){var t=this.predecessors(n);if(t)return Jt.union(t,this.successors(n))};Ci.prototype.isLeaf=function(n){var t;return this.isDirected()?t=this.successors(n):t=this.neighbors(n),t.length===0};Ci.prototype.filterNodes=function(n){var t=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});t.setGraph(this.graph());var e=this;Jt.each(this._nodes,function(r,s){n(s)&&t.setNode(s,r)}),Jt.each(this._edgeObjs,function(r){t.hasNode(r.v)&&t.hasNode(r.w)&&t.setEdge(r,e.edge(r))});var i={};function o(r){var s=e.parent(r);return s===void 0||t.hasNode(s)?(i[r]=s,s):s in i?i[s]:o(s)}return this._isCompound&&Jt.each(t.nodes(),function(r){t.setParent(r,o(r))}),t};Ci.prototype.setDefaultEdgeLabel=function(n){return Jt.isFunction(n)||(n=Jt.constant(n)),this._defaultEdgeLabelFn=n,this};Ci.prototype.edgeCount=function(){return this._edgeCount};Ci.prototype.edges=function(){return Jt.values(this._edgeObjs)};Ci.prototype.setPath=function(n,t){var e=this,i=arguments;return Jt.reduce(n,function(o,r){return i.length>1?e.setEdge(o,r,t):e.setEdge(o,r),r}),this};Ci.prototype.setEdge=function(){var n,t,e,i,o=!1,r=arguments[0];typeof r=="object"&&r!==null&&"v"in r?(n=r.v,t=r.w,e=r.name,arguments.length===2&&(i=arguments[1],o=!0)):(n=r,t=arguments[1],e=arguments[3],arguments.length>2&&(i=arguments[2],o=!0)),n=""+n,t=""+t,Jt.isUndefined(e)||(e=""+e);var s=B0(this._isDirected,n,t,e);if(Jt.has(this._edgeLabels,s))return o&&(this._edgeLabels[s]=i),this;if(!Jt.isUndefined(e)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(n),this.setNode(t),this._edgeLabels[s]=o?i:this._defaultEdgeLabelFn(n,t,e);var a=d2e(this._isDirected,n,t,e);return n=a.v,t=a.w,Object.freeze(a),this._edgeObjs[s]=a,gne(this._preds[t],n),gne(this._sucs[n],t),this._in[t][s]=a,this._out[n][s]=a,this._edgeCount++,this};Ci.prototype.edge=function(n,t,e){var i=arguments.length===1?zV(this._isDirected,arguments[0]):B0(this._isDirected,n,t,e);return this._edgeLabels[i]};Ci.prototype.hasEdge=function(n,t,e){var i=arguments.length===1?zV(this._isDirected,arguments[0]):B0(this._isDirected,n,t,e);return Jt.has(this._edgeLabels,i)};Ci.prototype.removeEdge=function(n,t,e){var i=arguments.length===1?zV(this._isDirected,arguments[0]):B0(this._isDirected,n,t,e),o=this._edgeObjs[i];return o&&(n=o.v,t=o.w,delete this._edgeLabels[i],delete this._edgeObjs[i],_ne(this._preds[t],n),_ne(this._sucs[n],t),delete this._in[t][i],delete this._out[n][i],this._edgeCount--),this};Ci.prototype.inEdges=function(n,t){var e=this._in[n];if(e){var i=Jt.values(e);return t?Jt.filter(i,function(o){return o.v===t}):i}};Ci.prototype.outEdges=function(n,t){var e=this._out[n];if(e){var i=Jt.values(e);return t?Jt.filter(i,function(o){return o.w===t}):i}};Ci.prototype.nodeEdges=function(n,t){var e=this.inEdges(n,t);if(e)return e.concat(this.outEdges(n,t))};function gne(n,t){n[t]?n[t]++:n[t]=1}function _ne(n,t){--n[t]||delete n[t]}function B0(n,t,e,i){var o=""+t,r=""+e;if(!n&&o>r){var s=o;o=r,r=s}return o+fne+r+fne+(Jt.isUndefined(i)?c2e:i)}function d2e(n,t,e,i){var o=""+t,r=""+e;if(!n&&o>r){var s=o;o=r,r=s}var a={v:o,w:r};return i&&(a.name=i),a}function zV(n,t){return B0(n,t.v,t.w,t.name)}});var yne=O((pri,bne)=>{"use strict";bne.exports="2.1.8"});var wne=O((fri,xne)=>{"use strict";xne.exports={Graph:MM(),version:yne()}});var Sne=O((gri,Cne)=>{"use strict";var Xl=Ds(),u2e=MM();Cne.exports={write:h2e,read:f2e};function h2e(n){var t={options:{directed:n.isDirected(),multigraph:n.isMultigraph(),compound:n.isCompound()},nodes:m2e(n),edges:p2e(n)};return Xl.isUndefined(n.graph())||(t.value=Xl.clone(n.graph())),t}function m2e(n){return Xl.map(n.nodes(),function(t){var e=n.node(t),i=n.parent(t),o={v:t};return Xl.isUndefined(e)||(o.value=e),Xl.isUndefined(i)||(o.parent=i),o})}function p2e(n){return Xl.map(n.edges(),function(t){var e=n.edge(t),i={v:t.v,w:t.w};return Xl.isUndefined(t.name)||(i.name=t.name),Xl.isUndefined(e)||(i.value=e),i})}function f2e(n){var t=new u2e(n.options).setGraph(n.value);return Xl.each(n.nodes,function(e){t.setNode(e.v,e.value),e.parent&&t.setParent(e.v,e.parent)}),Xl.each(n.edges,function(e){t.setEdge({v:e.v,w:e.w,name:e.name},e.value)}),t}});var Dne=O((_ri,Ine)=>{"use strict";var TM=Ds();Ine.exports=g2e;function g2e(n){var t={},e=[],i;function o(r){TM.has(t,r)||(t[r]=!0,i.push(r),TM.each(n.successors(r),o),TM.each(n.predecessors(r),o))}return TM.each(n.nodes(),function(r){i=[],o(r),i.length&&e.push(i)}),e}});var BV=O((vri,kne)=>{"use strict";var Ene=Ds();kne.exports=oa;function oa(){this._arr=[],this._keyIndices={}}oa.prototype.size=function(){return this._arr.length};oa.prototype.keys=function(){return this._arr.map(function(n){return n.key})};oa.prototype.has=function(n){return Ene.has(this._keyIndices,n)};oa.prototype.priority=function(n){var t=this._keyIndices[n];if(t!==void 0)return this._arr[t].priority};oa.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key};oa.prototype.add=function(n,t){var e=this._keyIndices;if(n=String(n),!Ene.has(e,n)){var i=this._arr,o=i.length;return e[n]=o,i.push({key:n,priority:t}),this._decrease(o),!0}return!1};oa.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var n=this._arr.pop();return delete this._keyIndices[n.key],this._heapify(0),n.key};oa.prototype.decrease=function(n,t){var e=this._keyIndices[n];if(t>this._arr[e].priority)throw new Error("New priority is greater than current priority. Key: "+n+" Old: "+this._arr[e].priority+" New: "+t);this._arr[e].priority=t,this._decrease(e)};oa.prototype._heapify=function(n){var t=this._arr,e=2*n,i=e+1,o=n;e<t.length&&(o=t[e].priority<t[o].priority?e:o,i<t.length&&(o=t[i].priority<t[o].priority?i:o),o!==n&&(this._swap(n,o),this._heapify(o)))};oa.prototype._decrease=function(n){for(var t=this._arr,e=t[n].priority,i;n!==0&&(i=n>>1,!(t[i].priority<e));)this._swap(n,i),n=i};oa.prototype._swap=function(n,t){var e=this._arr,i=this._keyIndices,o=e[n],r=e[t];e[n]=r,e[t]=o,i[r.key]=n,i[o.key]=t}});var HV=O((bri,Mne)=>{"use strict";var _2e=Ds(),v2e=BV();Mne.exports=y2e;var b2e=_2e.constant(1);function y2e(n,t,e,i){return x2e(n,String(t),e||b2e,i||function(o){return n.outEdges(o)})}function x2e(n,t,e,i){var o={},r=new v2e,s,a,l=function(c){var d=c.v!==s?c.v:c.w,u=o[d],h=e(c),m=a.distance+h;if(h<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+c+" Weight: "+h);m<u.distance&&(u.distance=m,u.predecessor=s,r.decrease(d,m))};for(n.nodes().forEach(function(c){var d=c===t?0:Number.POSITIVE_INFINITY;o[c]={distance:d},r.add(c,d)});r.size()>0&&(s=r.removeMin(),a=o[s],a.distance!==Number.POSITIVE_INFINITY);)i(s).forEach(l);return o}});var Ane=O((yri,Tne)=>{"use strict";var w2e=HV(),C2e=Ds();Tne.exports=S2e;function S2e(n,t,e){return C2e.transform(n.nodes(),function(i,o){i[o]=w2e(n,o,t,e)},{})}});var VV=O((xri,One)=>{"use strict";var Rne=Ds();One.exports=I2e;function I2e(n){var t=0,e=[],i={},o=[];function r(s){var a=i[s]={onStack:!0,lowlink:t,index:t++};if(e.push(s),n.successors(s).forEach(function(d){Rne.has(i,d)?i[d].onStack&&(a.lowlink=Math.min(a.lowlink,i[d].index)):(r(d),a.lowlink=Math.min(a.lowlink,i[d].lowlink))}),a.lowlink===a.index){var l=[],c;do c=e.pop(),i[c].onStack=!1,l.push(c);while(s!==c);o.push(l)}}return n.nodes().forEach(function(s){Rne.has(i,s)||r(s)}),o}});var Lne=O((wri,Pne)=>{"use strict";var D2e=Ds(),E2e=VV();Pne.exports=k2e;function k2e(n){return D2e.filter(E2e(n),function(t){return t.length>1||t.length===1&&n.hasEdge(t[0],t[0])})}});var Fne=O((Cri,Nne)=>{"use strict";var M2e=Ds();Nne.exports=A2e;var T2e=M2e.constant(1);function A2e(n,t,e){return R2e(n,t||T2e,e||function(i){return n.outEdges(i)})}function R2e(n,t,e){var i={},o=n.nodes();return o.forEach(function(r){i[r]={},i[r][r]={distance:0},o.forEach(function(s){r!==s&&(i[r][s]={distance:Number.POSITIVE_INFINITY})}),e(r).forEach(function(s){var a=s.v===r?s.w:s.v,l=t(s);i[r][a]={distance:l,predecessor:r}})}),o.forEach(function(r){var s=i[r];o.forEach(function(a){var l=i[a];o.forEach(function(c){var d=l[r],u=s[c],h=l[c],m=d.distance+u.distance;m<h.distance&&(h.distance=m,h.predecessor=u.predecessor)})})}),i}});var WV=O((Sri,Bne)=>{"use strict";var H0=Ds();Bne.exports=zne;zne.CycleException=AM;function zne(n){var t={},e={},i=[];function o(r){if(H0.has(e,r))throw new AM;H0.has(t,r)||(e[r]=!0,t[r]=!0,H0.each(n.predecessors(r),o),delete e[r],i.push(r))}if(H0.each(n.sinks(),o),H0.size(t)!==n.nodeCount())throw new AM;return i}function AM(){}AM.prototype=new Error});var Wne=O((Iri,Vne)=>{"use strict";var Hne=WV();Vne.exports=O2e;function O2e(n){try{Hne(n)}catch(t){if(t instanceof Hne.CycleException)return!1;throw t}return!0}});var jV=O((Dri,Une)=>{"use strict";var RM=Ds();Une.exports=P2e;function P2e(n,t,e){RM.isArray(t)||(t=[t]);var i=(n.isDirected()?n.successors:n.neighbors).bind(n),o=[],r={};return RM.each(t,function(s){if(!n.hasNode(s))throw new Error("Graph does not have node: "+s);jne(n,s,e==="post",r,i,o)}),o}function jne(n,t,e,i,o,r){RM.has(i,t)||(i[t]=!0,e||r.push(t),RM.each(o(t),function(s){jne(n,s,e,i,o,r)}),e&&r.push(t))}});var Gne=O((Eri,qne)=>{"use strict";var L2e=jV();qne.exports=N2e;function N2e(n,t){return L2e(n,t,"post")}});var Kne=O((kri,$ne)=>{"use strict";var F2e=jV();$ne.exports=z2e;function z2e(n,t){return F2e(n,t,"pre")}});var Zne=O((Mri,Xne)=>{"use strict";var Yne=Ds(),B2e=MM(),H2e=BV();Xne.exports=V2e;function V2e(n,t){var e=new B2e,i={},o=new H2e,r;function s(l){var c=l.v===r?l.w:l.v,d=o.priority(c);if(d!==void 0){var u=t(l);u<d&&(i[c]=r,o.decrease(c,u))}}if(n.nodeCount()===0)return e;Yne.each(n.nodes(),function(l){o.add(l,Number.POSITIVE_INFINITY),e.setNode(l)}),o.decrease(n.nodes()[0],0);for(var a=!1;o.size()>0;){if(r=o.removeMin(),Yne.has(i,r))e.setEdge(r,i[r]);else{if(a)throw new Error("Input graph is not connected: "+n);a=!0}n.nodeEdges(r).forEach(s)}return e}});var Jne=O((Tri,Qne)=>{"use strict";Qne.exports={components:Dne(),dijkstra:HV(),dijkstraAll:Ane(),findCycles:Lne(),floydWarshall:Fne(),isAcyclic:Wne(),postorder:Gne(),preorder:Kne(),prim:Zne(),tarjan:VV(),topsort:WV()}});var ioe=O((Ari,toe)=>{"use strict";var eoe=wne();toe.exports={Graph:eoe.Graph,json:Sne(),alg:Jne(),version:eoe.version}});var ra=O((Rri,noe)=>{"use strict";var OM;if(typeof ca=="function")try{OM=ioe()}catch{}OM||(OM=window.graphlib);noe.exports=OM});var roe=O((Pri,ooe)=>{"use strict";var W2e=aV(),j2e=1,U2e=4;function q2e(n){return W2e(n,j2e|U2e)}ooe.exports=q2e});var V0=O((Lri,soe)=>{"use strict";var G2e=Rm(),$2e=Kl(),K2e=E0(),Y2e=Is();function X2e(n,t,e){if(!Y2e(e))return!1;var i=typeof t;return(i=="number"?$2e(e)&&K2e(t,e.length):i=="string"&&t in e)?G2e(e[t],n):!1}soe.exports=X2e});var coe=O((Nri,loe)=>{"use strict";var Z2e=z0(),Q2e=Rm(),J2e=V0(),eze=Nu(),aoe=Object.prototype,tze=aoe.hasOwnProperty,ize=Z2e(function(n,t){n=Object(n);var e=-1,i=t.length,o=i>2?t[2]:void 0;for(o&&J2e(t[0],t[1],o)&&(i=1);++e<i;)for(var r=t[e],s=eze(r),a=-1,l=s.length;++a<l;){var c=s[a],d=n[c];(d===void 0||Q2e(d,aoe[c])&&!tze.call(n,c))&&(n[c]=r[c])}return n});loe.exports=ize});var uoe=O((Fri,doe)=>{"use strict";var nze=Yl(),oze=Kl(),rze=Zc();function sze(n){return function(t,e,i){var o=Object(t);if(!oze(t)){var r=nze(e,3);t=rze(t),e=function(a){return r(o[a],a,o)}}var s=n(t,e,i);return s>-1?o[r?t[s]:s]:void 0}}doe.exports=sze});var moe=O((zri,hoe)=>{"use strict";var aze=/\s/;function lze(n){for(var t=n.length;t--&&aze.test(n.charAt(t)););return t}hoe.exports=lze});var foe=O((Bri,poe)=>{"use strict";var cze=moe(),dze=/^\s+/;function uze(n){return n&&n.slice(0,cze(n)+1).replace(dze,"")}poe.exports=uze});var boe=O((Hri,voe)=>{"use strict";var hze=foe(),goe=Is(),mze=Fm(),_oe=NaN,pze=/^[-+]0x[0-9a-f]+$/i,fze=/^0b[01]+$/i,gze=/^0o[0-7]+$/i,_ze=parseInt;function vze(n){if(typeof n=="number")return n;if(mze(n))return _oe;if(goe(n)){var t=typeof n.valueOf=="function"?n.valueOf():n;n=goe(t)?t+"":t}if(typeof n!="string")return n===0?n:+n;n=hze(n);var e=fze.test(n);return e||gze.test(n)?_ze(n.slice(2),e?2:8):pze.test(n)?_oe:+n}voe.exports=vze});var UV=O((Vri,xoe)=>{"use strict";var bze=boe(),yoe=1/0,yze=17976931348623157e292;function xze(n){if(!n)return n===0?n:0;if(n=bze(n),n===yoe||n===-yoe){var t=n<0?-1:1;return t*yze}return n===n?n:0}xoe.exports=xze});var Coe=O((Wri,woe)=>{"use strict";var wze=UV();function Cze(n){var t=wze(n),e=t%1;return t===t?e?t-e:t:0}woe.exports=Cze});var Ioe=O((jri,Soe)=>{"use strict";var Sze=PV(),Ize=Yl(),Dze=Coe(),Eze=Math.max;function kze(n,t,e){var i=n==null?0:n.length;if(!i)return-1;var o=e==null?0:Dze(e);return o<0&&(o=Eze(i+o,0)),Sze(n,Ize(t,3),o)}Soe.exports=kze});var Eoe=O((Uri,Doe)=>{"use strict";var Mze=uoe(),Tze=Ioe(),Aze=Mze(Tze);Doe.exports=Aze});var qV=O((qri,koe)=>{"use strict";var Rze=EM();function Oze(n){var t=n==null?0:n.length;return t?Rze(n,1):[]}koe.exports=Oze});var Toe=O((Gri,Moe)=>{"use strict";var Pze=xM(),Lze=lV(),Nze=Nu();function Fze(n,t){return n==null?n:Pze(n,Lze(t),Nze)}Moe.exports=Fze});var Roe=O(($ri,Aoe)=>{"use strict";function zze(n){var t=n==null?0:n.length;return t?n[t-1]:void 0}Aoe.exports=zze});var Poe=O((Kri,Ooe)=>{"use strict";var Bze=S0(),Hze=wM(),Vze=Yl();function Wze(n,t){var e={};return t=Vze(t,3),Hze(n,function(i,o,r){Bze(e,o,t(i,o,r))}),e}Ooe.exports=Wze});var PM=O((Yri,Loe)=>{"use strict";var jze=Fm();function Uze(n,t,e){for(var i=-1,o=n.length;++i<o;){var r=n[i],s=t(r);if(s!=null&&(a===void 0?s===s&&!jze(s):e(s,a)))var a=s,l=r}return l}Loe.exports=Uze});var Foe=O((Xri,Noe)=>{"use strict";function qze(n,t){return n>t}Noe.exports=qze});var Boe=O((Zri,zoe)=>{"use strict";var Gze=PM(),$ze=Foe(),Kze=Fu();function Yze(n){return n&&n.length?Gze(n,Kze,$ze):void 0}zoe.exports=Yze});var GV=O((Qri,Hoe)=>{"use strict";var Xze=S0(),Zze=Rm();function Qze(n,t,e){(e!==void 0&&!Zze(n[t],e)||e===void 0&&!(t in n))&&Xze(n,t,e)}Hoe.exports=Qze});var joe=O((Jri,Woe)=>{"use strict";var Jze=Pu(),eBe=O0(),tBe=Ya(),iBe="[object Object]",nBe=Function.prototype,oBe=Object.prototype,Voe=nBe.toString,rBe=oBe.hasOwnProperty,sBe=Voe.call(Object);function aBe(n){if(!tBe(n)||Jze(n)!=iBe)return!1;var t=eBe(n);if(t===null)return!0;var e=rBe.call(t,"constructor")&&t.constructor;return typeof e=="function"&&e instanceof e&&Voe.call(e)==sBe}Woe.exports=aBe});var $V=O((esi,Uoe)=>{"use strict";function lBe(n,t){if(!(t==="constructor"&&typeof n[t]=="function")&&t!="__proto__")return n[t]}Uoe.exports=lBe});var Goe=O((tsi,qoe)=>{"use strict";var cBe=Xg(),dBe=Nu();function uBe(n){return cBe(n,dBe(n))}qoe.exports=uBe});var Qoe=O((isi,Zoe)=>{"use strict";var $oe=GV(),hBe=UH(),mBe=oV(),pBe=qH(),fBe=sV(),Koe=Zg(),Yoe=ho(),gBe=NV(),_Be=Pm(),vBe=Gg(),bBe=Is(),yBe=joe(),xBe=e_(),Xoe=$V(),wBe=Goe();function CBe(n,t,e,i,o,r,s){var a=Xoe(n,e),l=Xoe(t,e),c=s.get(l);if(c){$oe(n,e,c);return}var d=r?r(a,l,e+"",n,t,s):void 0,u=d===void 0;if(u){var h=Yoe(l),m=!h&&_Be(l),f=!h&&!m&&xBe(l);d=l,h||m||f?Yoe(a)?d=a:gBe(a)?d=pBe(a):m?(u=!1,d=hBe(l,!0)):f?(u=!1,d=mBe(l,!0)):d=[]:yBe(l)||Koe(l)?(d=a,Koe(a)?d=wBe(a):(!bBe(a)||vBe(a))&&(d=fBe(l))):u=!1}u&&(s.set(l,d),o(d,l,i,r,s),s.delete(l)),$oe(n,e,d)}Zoe.exports=CBe});var tre=O((nsi,ere)=>{"use strict";var SBe=C0(),IBe=GV(),DBe=xM(),EBe=Qoe(),kBe=Is(),MBe=Nu(),TBe=$V();function Joe(n,t,e,i,o){n!==t&&DBe(t,function(r,s){if(o||(o=new SBe),kBe(r))EBe(n,t,s,e,Joe,i,o);else{var a=i?i(TBe(n,s),r,s+"",n,t,o):void 0;a===void 0&&(a=r),IBe(n,s,a)}},MBe)}ere.exports=Joe});var nre=O((osi,ire)=>{"use strict";var ABe=z0(),RBe=V0();function OBe(n){return ABe(function(t,e){var i=-1,o=e.length,r=o>1?e[o-1]:void 0,s=o>2?e[2]:void 0;for(r=n.length>3&&typeof r=="function"?(o--,r):void 0,s&&RBe(e[0],e[1],s)&&(r=o<3?void 0:r,o=1),t=Object(t);++i<o;){var a=e[i];a&&n(t,a,i,r)}return t})}ire.exports=OBe});var rre=O((rsi,ore)=>{"use strict";var PBe=tre(),LBe=nre(),NBe=LBe(function(n,t,e){PBe(n,t,e)});ore.exports=NBe});var KV=O((ssi,sre)=>{"use strict";function FBe(n,t){return n<t}sre.exports=FBe});var lre=O((asi,are)=>{"use strict";var zBe=PM(),BBe=KV(),HBe=Fu();function VBe(n){return n&&n.length?zBe(n,HBe,BBe):void 0}are.exports=VBe});var dre=O((lsi,cre)=>{"use strict";var WBe=PM(),jBe=Yl(),UBe=KV();function qBe(n,t){return n&&n.length?WBe(n,jBe(t,2),UBe):void 0}cre.exports=qBe});var hre=O((csi,ure)=>{"use strict";var GBe=na(),$Be=function(){return GBe.Date.now()};ure.exports=$Be});var fre=O((dsi,pre)=>{"use strict";var KBe=I0(),YBe=N0(),XBe=E0(),mre=Is(),ZBe=n_();function QBe(n,t,e,i){if(!mre(n))return n;t=YBe(t,n);for(var o=-1,r=t.length,s=r-1,a=n;a!=null&&++o<r;){var l=ZBe(t[o]),c=e;if(l==="__proto__"||l==="constructor"||l==="prototype")return n;if(o!=s){var d=a[l];c=i?i(d,l,a):void 0,c===void 0&&(c=mre(d)?d:XBe(t[o+1])?[]:{})}KBe(a,l,c),a=a[l]}return n}pre.exports=QBe});var _re=O((usi,gre)=>{"use strict";var JBe=F0(),eHe=fre(),tHe=N0();function iHe(n,t,e){for(var i=-1,o=t.length,r={};++i<o;){var s=t[i],a=JBe(n,s);e(a,s)&&eHe(r,tHe(s,n),a)}return r}gre.exports=iHe});var bre=O((hsi,vre)=>{"use strict";var nHe=_re(),oHe=wV();function rHe(n,t){return nHe(n,t,function(e,i){return oHe(n,i)})}vre.exports=rHe});var xre=O((msi,yre)=>{"use strict";var sHe=qV(),aHe=RV(),lHe=OV();function cHe(n){return lHe(aHe(n,void 0,sHe),n+"")}yre.exports=cHe});var Cre=O((psi,wre)=>{"use strict";var dHe=bre(),uHe=xre(),hHe=uHe(function(n,t){return n==null?{}:dHe(n,t)});wre.exports=hHe});var Ire=O((fsi,Sre)=>{"use strict";var mHe=Math.ceil,pHe=Math.max;function fHe(n,t,e,i){for(var o=-1,r=pHe(mHe((t-n)/(e||1)),0),s=Array(r);r--;)s[i?r:++o]=n,n+=e;return s}Sre.exports=fHe});var Ere=O((gsi,Dre)=>{"use strict";var gHe=Ire(),_He=V0(),YV=UV();function vHe(n){return function(t,e,i){return i&&typeof i!="number"&&_He(t,e,i)&&(e=i=void 0),t=YV(t),e===void 0?(e=t,t=0):e=YV(e),i=i===void 0?t<e?1:-1:YV(i),gHe(t,e,i,n)}}Dre.exports=vHe});var Mre=O((_si,kre)=>{"use strict";var bHe=Ere(),yHe=bHe();kre.exports=yHe});var Are=O((vsi,Tre)=>{"use strict";function xHe(n,t){var e=n.length;for(n.sort(t);e--;)n[e]=n[e].value;return n}Tre.exports=xHe});var Pre=O((bsi,Ore)=>{"use strict";var Rre=Fm();function wHe(n,t){if(n!==t){var e=n!==void 0,i=n===null,o=n===n,r=Rre(n),s=t!==void 0,a=t===null,l=t===t,c=Rre(t);if(!a&&!c&&!r&&n>t||r&&s&&l&&!a&&!c||i&&s&&l||!e&&l||!o)return 1;if(!i&&!r&&!c&&n<t||c&&e&&o&&!i&&!r||a&&e&&o||!s&&o||!l)return-1}return 0}Ore.exports=wHe});var Nre=O((ysi,Lre)=>{"use strict";var CHe=Pre();function SHe(n,t,e){for(var i=-1,o=n.criteria,r=t.criteria,s=o.length,a=e.length;++i<s;){var l=CHe(o[i],r[i]);if(l){if(i>=a)return l;var c=e[i];return l*(c=="desc"?-1:1)}}return n.index-t.index}Lre.exports=SHe});var zre=O((xsi,Fre)=>{"use strict";var XV=L0(),IHe=F0(),DHe=Yl(),EHe=EV(),kHe=Are(),MHe=k0(),THe=Nre(),AHe=Fu(),RHe=ho();function OHe(n,t,e){t.length?t=XV(t,function(r){return RHe(r)?function(s){return IHe(s,r.length===1?r[0]:r)}:r}):t=[AHe];var i=-1;t=XV(t,MHe(DHe));var o=EHe(n,function(r,s,a){var l=XV(t,function(c){return c(r)});return{criteria:l,index:++i,value:r}});return kHe(o,function(r,s){return THe(r,s,e)})}Fre.exports=OHe});var Vre=O((wsi,Hre)=>{"use strict";var PHe=EM(),LHe=zre(),NHe=z0(),Bre=V0(),FHe=NHe(function(n,t){if(n==null)return[];var e=t.length;return e>1&&Bre(n,t[0],t[1])?t=[]:e>2&&Bre(t[0],t[1],t[2])&&(t=[t[0]]),LHe(n,PHe(t,1),[])});Hre.exports=FHe});var jre=O((Csi,Wre)=>{"use strict";var zHe=yV(),BHe=0;function HHe(n){var t=++BHe;return zHe(n)+t}Wre.exports=HHe});var qre=O((Ssi,Ure)=>{"use strict";function VHe(n,t,e){for(var i=-1,o=n.length,r=t.length,s={};++i<o;){var a=i<r?t[i]:void 0;e(s,n[i],a)}return s}Ure.exports=VHe});var $re=O((Isi,Gre)=>{"use strict";var WHe=I0(),jHe=qre();function UHe(n,t){return jHe(n||[],t||[],WHe)}Gre.exports=UHe});var Cn=O((Dsi,Kre)=>{"use strict";var LM;if(typeof ca=="function")try{LM={cloneDeep:roe(),constant:yM(),defaults:coe(),each:dV(),filter:SV(),find:Eoe(),flatten:qV(),forEach:cV(),forIn:Toe(),has:IV(),isUndefined:DV(),last:Roe(),map:kV(),mapValues:Poe(),max:Boe(),merge:rre(),min:lre(),minBy:dre(),now:hre(),pick:Cre(),range:Mre(),reduce:MV(),sortBy:Vre(),uniqueId:jre(),values:FV(),zipObject:$re()}}catch{}LM||(LM=window._);Kre.exports=LM});var Zre=O((ksi,Xre)=>{"use strict";Xre.exports=NM;function NM(){var n={};n._next=n._prev=n,this._sentinel=n}NM.prototype.dequeue=function(){var n=this._sentinel,t=n._prev;if(t!==n)return Yre(t),t};NM.prototype.enqueue=function(n){var t=this._sentinel;n._prev&&n._next&&Yre(n),n._next=t._next,t._next._prev=n,t._next=n,n._prev=t};NM.prototype.toString=function(){for(var n=[],t=this._sentinel,e=t._prev;e!==t;)n.push(JSON.stringify(e,qHe)),e=e._prev;return"["+n.join(", ")+"]"};function Yre(n){n._prev._next=n._next,n._next._prev=n._prev,delete n._next,delete n._prev}function qHe(n,t){if(n!=="_next"&&n!=="_prev")return t}});var Jre=O((Msi,Qre)=>{"use strict";var Qc=Cn(),GHe=ra().Graph,$He=Zre();Qre.exports=YHe;var KHe=Qc.constant(1);function YHe(n,t){if(n.nodeCount()<=1)return[];var e=ZHe(n,t||KHe),i=XHe(e.graph,e.buckets,e.zeroIdx);return Qc.flatten(Qc.map(i,function(o){return n.outEdges(o.v,o.w)}),!0)}function XHe(n,t,e){for(var i=[],o=t[t.length-1],r=t[0],s;n.nodeCount();){for(;s=r.dequeue();)ZV(n,t,e,s);for(;s=o.dequeue();)ZV(n,t,e,s);if(n.nodeCount()){for(var a=t.length-2;a>0;--a)if(s=t[a].dequeue(),s){i=i.concat(ZV(n,t,e,s,!0));break}}}return i}function ZV(n,t,e,i,o){var r=o?[]:void 0;return Qc.forEach(n.inEdges(i.v),function(s){var a=n.edge(s),l=n.node(s.v);o&&r.push({v:s.v,w:s.w}),l.out-=a,QV(t,e,l)}),Qc.forEach(n.outEdges(i.v),function(s){var a=n.edge(s),l=s.w,c=n.node(l);c.in-=a,QV(t,e,c)}),n.removeNode(i.v),r}function ZHe(n,t){var e=new GHe,i=0,o=0;Qc.forEach(n.nodes(),function(a){e.setNode(a,{v:a,in:0,out:0})}),Qc.forEach(n.edges(),function(a){var l=e.edge(a.v,a.w)||0,c=t(a),d=l+c;e.setEdge(a.v,a.w,d),o=Math.max(o,e.node(a.v).out+=c),i=Math.max(i,e.node(a.w).in+=c)});var r=Qc.range(o+i+3).map(function(){return new $He}),s=i+1;return Qc.forEach(e.nodes(),function(a){QV(r,s,e.node(a))}),{graph:e,buckets:r,zeroIdx:s}}function QV(n,t,e){e.out?e.in?n[e.out-e.in+t].enqueue(e):n[n.length-1].enqueue(e):n[0].enqueue(e)}});var tse=O((Tsi,ese)=>{"use strict";var Bm=Cn(),QHe=Jre();ese.exports={run:JHe,undo:tVe};function JHe(n){var t=n.graph().acyclicer==="greedy"?QHe(n,e(n)):eVe(n);Bm.forEach(t,function(i){var o=n.edge(i);n.removeEdge(i),o.forwardName=i.name,o.reversed=!0,n.setEdge(i.w,i.v,o,Bm.uniqueId("rev"))});function e(i){return function(o){return i.edge(o).weight}}}function eVe(n){var t=[],e={},i={};function o(r){Bm.has(i,r)||(i[r]=!0,e[r]=!0,Bm.forEach(n.outEdges(r),function(s){Bm.has(e,s.w)?t.push(s):o(s.w)}),delete e[r])}return Bm.forEach(n.nodes(),o),t}function tVe(n){Bm.forEach(n.edges(),function(t){var e=n.edge(t);if(e.reversed){n.removeEdge(t);var i=e.forwardName;delete e.reversed,delete e.forwardName,n.setEdge(t.w,t.v,e,i)}})}});var zr=O((Asi,rse)=>{"use strict";var Hi=Cn(),ise=ra().Graph;rse.exports={addDummyNode:nse,simplify:iVe,asNonCompoundGraph:nVe,successorWeights:oVe,predecessorWeights:rVe,intersectRect:sVe,buildLayerMatrix:aVe,normalizeRanks:lVe,removeEmptyRanks:cVe,addBorderNode:dVe,maxRank:ose,partition:uVe,time:hVe,notime:mVe};function nse(n,t,e,i){var o;do o=Hi.uniqueId(i);while(n.hasNode(o));return e.dummy=t,n.setNode(o,e),o}function iVe(n){var t=new ise().setGraph(n.graph());return Hi.forEach(n.nodes(),function(e){t.setNode(e,n.node(e))}),Hi.forEach(n.edges(),function(e){var i=t.edge(e.v,e.w)||{weight:0,minlen:1},o=n.edge(e);t.setEdge(e.v,e.w,{weight:i.weight+o.weight,minlen:Math.max(i.minlen,o.minlen)})}),t}function nVe(n){var t=new ise({multigraph:n.isMultigraph()}).setGraph(n.graph());return Hi.forEach(n.nodes(),function(e){n.children(e).length||t.setNode(e,n.node(e))}),Hi.forEach(n.edges(),function(e){t.setEdge(e,n.edge(e))}),t}function oVe(n){var t=Hi.map(n.nodes(),function(e){var i={};return Hi.forEach(n.outEdges(e),function(o){i[o.w]=(i[o.w]||0)+n.edge(o).weight}),i});return Hi.zipObject(n.nodes(),t)}function rVe(n){var t=Hi.map(n.nodes(),function(e){var i={};return Hi.forEach(n.inEdges(e),function(o){i[o.v]=(i[o.v]||0)+n.edge(o).weight}),i});return Hi.zipObject(n.nodes(),t)}function sVe(n,t){var e=n.x,i=n.y,o=t.x-e,r=t.y-i,s=n.width/2,a=n.height/2;if(!o&&!r)throw new Error("Not possible to find intersection inside of the rectangle");var l,c;return Math.abs(r)*s>Math.abs(o)*a?(r<0&&(a=-a),l=a*o/r,c=a):(o<0&&(s=-s),l=s,c=s*r/o),{x:e+l,y:i+c}}function aVe(n){var t=Hi.map(Hi.range(ose(n)+1),function(){return[]});return Hi.forEach(n.nodes(),function(e){var i=n.node(e),o=i.rank;Hi.isUndefined(o)||(t[o][i.order]=e)}),t}function lVe(n){var t=Hi.min(Hi.map(n.nodes(),function(e){return n.node(e).rank}));Hi.forEach(n.nodes(),function(e){var i=n.node(e);Hi.has(i,"rank")&&(i.rank-=t)})}function cVe(n){var t=Hi.min(Hi.map(n.nodes(),function(r){return n.node(r).rank})),e=[];Hi.forEach(n.nodes(),function(r){var s=n.node(r).rank-t;e[s]||(e[s]=[]),e[s].push(r)});var i=0,o=n.graph().nodeRankFactor;Hi.forEach(e,function(r,s){Hi.isUndefined(r)&&s%o!==0?--i:i&&Hi.forEach(r,function(a){n.node(a).rank+=i})})}function dVe(n,t,e,i){var o={width:0,height:0};return arguments.length>=4&&(o.rank=e,o.order=i),nse(n,"border",o,t)}function ose(n){return Hi.max(Hi.map(n.nodes(),function(t){var e=n.node(t).rank;if(!Hi.isUndefined(e))return e}))}function uVe(n,t){var e={lhs:[],rhs:[]};return Hi.forEach(n,function(i){t(i)?e.lhs.push(i):e.rhs.push(i)}),e}function hVe(n,t){var e=Hi.now();try{return t()}finally{console.log(n+" time: "+(Hi.now()-e)+"ms")}}function mVe(n,t){return t()}});var lse=O((Rsi,ase)=>{"use strict";var sse=Cn(),pVe=zr();ase.exports={run:fVe,undo:_Ve};function fVe(n){n.graph().dummyChains=[],sse.forEach(n.edges(),function(t){gVe(n,t)})}function gVe(n,t){var e=t.v,i=n.node(e).rank,o=t.w,r=n.node(o).rank,s=t.name,a=n.edge(t),l=a.labelRank;if(r!==i+1){n.removeEdge(t);var c,d,u;for(u=0,++i;i<r;++u,++i)a.points=[],d={width:0,height:0,edgeLabel:a,edgeObj:t,rank:i},c=pVe.addDummyNode(n,"edge",d,"_d"),i===l&&(d.width=a.width,d.height=a.height,d.dummy="edge-label",d.labelpos=a.labelpos),n.setEdge(e,c,{weight:a.weight},s),u===0&&n.graph().dummyChains.push(c),e=c;n.setEdge(e,o,{weight:a.weight},s)}}function _Ve(n){sse.forEach(n.graph().dummyChains,function(t){var e=n.node(t),i=e.edgeLabel,o;for(n.setEdge(e.edgeObj,i);e.dummy;)o=n.successors(t)[0],n.removeNode(t),i.points.push({x:e.x,y:e.y}),e.dummy==="edge-label"&&(i.x=e.x,i.y=e.y,i.width=e.width,i.height=e.height),t=o,e=n.node(t)})}});var W0=O((Osi,cse)=>{"use strict";var FM=Cn();cse.exports={longestPath:vVe,slack:bVe};function vVe(n){var t={};function e(i){var o=n.node(i);if(FM.has(t,i))return o.rank;t[i]=!0;var r=FM.min(FM.map(n.outEdges(i),function(s){return e(s.w)-n.edge(s).minlen}));return(r===Number.POSITIVE_INFINITY||r===void 0||r===null)&&(r=0),o.rank=r}FM.forEach(n.sources(),e)}function bVe(n,t){return n.node(t.w).rank-n.node(t.v).rank-n.edge(t).minlen}});var JV=O((Psi,dse)=>{"use strict";var zM=Cn(),yVe=ra().Graph,BM=W0().slack;dse.exports=xVe;function xVe(n){var t=new yVe({directed:!1}),e=n.nodes()[0],i=n.nodeCount();t.setNode(e,{});for(var o,r;wVe(t,n)<i;)o=CVe(t,n),r=t.hasNode(o.v)?BM(n,o):-BM(n,o),SVe(t,n,r);return t}function wVe(n,t){function e(i){zM.forEach(t.nodeEdges(i),function(o){var r=o.v,s=i===r?o.w:r;!n.hasNode(s)&&!BM(t,o)&&(n.setNode(s,{}),n.setEdge(i,s,{}),e(s))})}return zM.forEach(n.nodes(),e),n.nodeCount()}function CVe(n,t){return zM.minBy(t.edges(),function(e){if(n.hasNode(e.v)!==n.hasNode(e.w))return BM(t,e)})}function SVe(n,t,e){zM.forEach(n.nodes(),function(i){t.node(i).rank+=e})}});var vse=O((Lsi,_se)=>{"use strict";var Jc=Cn(),IVe=JV(),DVe=W0().slack,EVe=W0().longestPath,kVe=ra().alg.preorder,MVe=ra().alg.postorder,TVe=zr().simplify;_se.exports=Hm;Hm.initLowLimValues=t3;Hm.initCutValues=e3;Hm.calcCutValue=hse;Hm.leaveEdge=pse;Hm.enterEdge=fse;Hm.exchangeEdges=gse;function Hm(n){n=TVe(n),EVe(n);var t=IVe(n);t3(t),e3(t,n);for(var e,i;e=pse(t);)i=fse(t,n,e),gse(t,n,e,i)}function e3(n,t){var e=MVe(n,n.nodes());e=e.slice(0,e.length-1),Jc.forEach(e,function(i){AVe(n,t,i)})}function AVe(n,t,e){var i=n.node(e),o=i.parent;n.edge(e,o).cutvalue=hse(n,t,e)}function hse(n,t,e){var i=n.node(e),o=i.parent,r=!0,s=t.edge(e,o),a=0;return s||(r=!1,s=t.edge(o,e)),a=s.weight,Jc.forEach(t.nodeEdges(e),function(l){var c=l.v===e,d=c?l.w:l.v;if(d!==o){var u=c===r,h=t.edge(l).weight;if(a+=u?h:-h,OVe(n,e,d)){var m=n.edge(e,d).cutvalue;a+=u?-m:m}}}),a}function t3(n,t){arguments.length<2&&(t=n.nodes()[0]),mse(n,{},1,t)}function mse(n,t,e,i,o){var r=e,s=n.node(i);return t[i]=!0,Jc.forEach(n.neighbors(i),function(a){Jc.has(t,a)||(e=mse(n,t,e,a,i))}),s.low=r,s.lim=e++,o?s.parent=o:delete s.parent,e}function pse(n){return Jc.find(n.edges(),function(t){return n.edge(t).cutvalue<0})}function fse(n,t,e){var i=e.v,o=e.w;t.hasEdge(i,o)||(i=e.w,o=e.v);var r=n.node(i),s=n.node(o),a=r,l=!1;r.lim>s.lim&&(a=s,l=!0);var c=Jc.filter(t.edges(),function(d){return l===use(n,n.node(d.v),a)&&l!==use(n,n.node(d.w),a)});return Jc.minBy(c,function(d){return DVe(t,d)})}function gse(n,t,e,i){var o=e.v,r=e.w;n.removeEdge(o,r),n.setEdge(i.v,i.w,{}),t3(n),e3(n,t),RVe(n,t)}function RVe(n,t){var e=Jc.find(n.nodes(),function(o){return!t.node(o).parent}),i=kVe(n,e);i=i.slice(1),Jc.forEach(i,function(o){var r=n.node(o).parent,s=t.edge(o,r),a=!1;s||(s=t.edge(r,o),a=!0),t.node(o).rank=t.node(r).rank+(a?s.minlen:-s.minlen)})}function OVe(n,t,e){return n.hasEdge(t,e)}function use(n,t,e){return e.low<=t.lim&&t.lim<=e.lim}});var wse=O((Nsi,xse)=>{"use strict";var PVe=W0(),yse=PVe.longestPath,LVe=JV(),NVe=vse();xse.exports=FVe;function FVe(n){switch(n.graph().ranker){case"network-simplex":bse(n);break;case"tight-tree":BVe(n);break;case"longest-path":zVe(n);break;default:bse(n)}}var zVe=yse;function BVe(n){yse(n),LVe(n)}function bse(n){NVe(n)}});var Sse=O((Fsi,Cse)=>{"use strict";var i3=Cn();Cse.exports=HVe;function HVe(n){var t=WVe(n);i3.forEach(n.graph().dummyChains,function(e){for(var i=n.node(e),o=i.edgeObj,r=VVe(n,t,o.v,o.w),s=r.path,a=r.lca,l=0,c=s[l],d=!0;e!==o.w;){if(i=n.node(e),d){for(;(c=s[l])!==a&&n.node(c).maxRank<i.rank;)l++;c===a&&(d=!1)}if(!d){for(;l<s.length-1&&n.node(c=s[l+1]).minRank<=i.rank;)l++;c=s[l]}n.setParent(e,c),e=n.successors(e)[0]}})}function VVe(n,t,e,i){var o=[],r=[],s=Math.min(t[e].low,t[i].low),a=Math.max(t[e].lim,t[i].lim),l,c;l=e;do l=n.parent(l),o.push(l);while(l&&(t[l].low>s||a>t[l].lim));for(c=l,l=i;(l=n.parent(l))!==c;)r.push(l);return{path:o.concat(r.reverse()),lca:c}}function WVe(n){var t={},e=0;function i(o){var r=e;i3.forEach(n.children(o),i),t[o]={low:r,lim:e++}}return i3.forEach(n.children(),i),t}});var Ese=O((zsi,Dse)=>{"use strict";var ed=Cn(),n3=zr();Dse.exports={run:jVe,cleanup:GVe};function jVe(n){var t=n3.addDummyNode(n,"root",{},"_root"),e=UVe(n),i=ed.max(ed.values(e))-1,o=2*i+1;n.graph().nestingRoot=t,ed.forEach(n.edges(),function(s){n.edge(s).minlen*=o});var r=qVe(n)+1;ed.forEach(n.children(),function(s){Ise(n,t,o,r,i,e,s)}),n.graph().nodeRankFactor=o}function Ise(n,t,e,i,o,r,s){var a=n.children(s);if(!a.length){s!==t&&n.setEdge(t,s,{weight:0,minlen:e});return}var l=n3.addBorderNode(n,"_bt"),c=n3.addBorderNode(n,"_bb"),d=n.node(s);n.setParent(l,s),d.borderTop=l,n.setParent(c,s),d.borderBottom=c,ed.forEach(a,function(u){Ise(n,t,e,i,o,r,u);var h=n.node(u),m=h.borderTop?h.borderTop:u,f=h.borderBottom?h.borderBottom:u,p=h.borderTop?i:2*i,g=m!==f?1:o-r[s]+1;n.setEdge(l,m,{weight:p,minlen:g,nestingEdge:!0}),n.setEdge(f,c,{weight:p,minlen:g,nestingEdge:!0})}),n.parent(s)||n.setEdge(t,l,{weight:0,minlen:o+r[s]})}function UVe(n){var t={};function e(i,o){var r=n.children(i);r&&r.length&&ed.forEach(r,function(s){e(s,o+1)}),t[i]=o}return ed.forEach(n.children(),function(i){e(i,1)}),t}function qVe(n){return ed.reduce(n.edges(),function(t,e){return t+n.edge(e).weight},0)}function GVe(n){var t=n.graph();n.removeNode(t.nestingRoot),delete t.nestingRoot,ed.forEach(n.edges(),function(e){var i=n.edge(e);i.nestingEdge&&n.removeEdge(e)})}});var Tse=O((Bsi,Mse)=>{"use strict";var o3=Cn(),$Ve=zr();Mse.exports=KVe;function KVe(n){function t(e){var i=n.children(e),o=n.node(e);if(i.length&&o3.forEach(i,t),o3.has(o,"minRank")){o.borderLeft=[],o.borderRight=[];for(var r=o.minRank,s=o.maxRank+1;r<s;++r)kse(n,"borderLeft","_bl",e,o,r),kse(n,"borderRight","_br",e,o,r)}}o3.forEach(n.children(),t)}function kse(n,t,e,i,o,r){var s={width:0,height:0,rank:r,borderType:t},a=o[t][r-1],l=$Ve.addDummyNode(n,"border",s,e);o[t][r]=l,n.setParent(l,i),a&&n.setEdge(a,l,{weight:1})}});var Pse=O((Hsi,Ose)=>{"use strict";var Zl=Cn();Ose.exports={adjust:YVe,undo:XVe};function YVe(n){var t=n.graph().rankdir.toLowerCase();(t==="lr"||t==="rl")&&Rse(n)}function XVe(n){var t=n.graph().rankdir.toLowerCase();(t==="bt"||t==="rl")&&ZVe(n),(t==="lr"||t==="rl")&&(QVe(n),Rse(n))}function Rse(n){Zl.forEach(n.nodes(),function(t){Ase(n.node(t))}),Zl.forEach(n.edges(),function(t){Ase(n.edge(t))})}function Ase(n){var t=n.width;n.width=n.height,n.height=t}function ZVe(n){Zl.forEach(n.nodes(),function(t){r3(n.node(t))}),Zl.forEach(n.edges(),function(t){var e=n.edge(t);Zl.forEach(e.points,r3),Zl.has(e,"y")&&r3(e)})}function r3(n){n.y=-n.y}function QVe(n){Zl.forEach(n.nodes(),function(t){s3(n.node(t))}),Zl.forEach(n.edges(),function(t){var e=n.edge(t);Zl.forEach(e.points,s3),Zl.has(e,"x")&&s3(e)})}function s3(n){var t=n.x;n.x=n.y,n.y=t}});var Nse=O((Vsi,Lse)=>{"use strict";var td=Cn();Lse.exports=JVe;function JVe(n){var t={},e=td.filter(n.nodes(),function(a){return!n.children(a).length}),i=td.max(td.map(e,function(a){return n.node(a).rank})),o=td.map(td.range(i+1),function(){return[]});function r(a){if(!td.has(t,a)){t[a]=!0;var l=n.node(a);o[l.rank].push(a),td.forEach(n.successors(a),r)}}var s=td.sortBy(e,function(a){return n.node(a).rank});return td.forEach(s,r),o}});var zse=O((Wsi,Fse)=>{"use strict";var zu=Cn();Fse.exports=e3e;function e3e(n,t){for(var e=0,i=1;i<t.length;++i)e+=t3e(n,t[i-1],t[i]);return e}function t3e(n,t,e){for(var i=zu.zipObject(e,zu.map(e,function(c,d){return d})),o=zu.flatten(zu.map(t,function(c){return zu.sortBy(zu.map(n.outEdges(c),function(d){return{pos:i[d.w],weight:n.edge(d).weight}}),"pos")}),!0),r=1;r<e.length;)r<<=1;var s=2*r-1;r-=1;var a=zu.map(new Array(s),function(){return 0}),l=0;return zu.forEach(o.forEach(function(c){var d=c.pos+r;a[d]+=c.weight;for(var u=0;d>0;)d%2&&(u+=a[d+1]),d=d-1>>1,a[d]+=c.weight;l+=c.weight*u})),l}});var Vse=O((jsi,Hse)=>{"use strict";var Bse=Cn();Hse.exports=i3e;function i3e(n,t){return Bse.map(t,function(e){var i=n.inEdges(e);if(i.length){var o=Bse.reduce(i,function(r,s){var a=n.edge(s),l=n.node(s.v);return{sum:r.sum+a.weight*l.order,weight:r.weight+a.weight}},{sum:0,weight:0});return{v:e,barycenter:o.sum/o.weight,weight:o.weight}}else return{v:e}})}});var jse=O((Usi,Wse)=>{"use strict";var Es=Cn();Wse.exports=n3e;function n3e(n,t){var e={};Es.forEach(n,function(o,r){var s=e[o.v]={indegree:0,in:[],out:[],vs:[o.v],i:r};Es.isUndefined(o.barycenter)||(s.barycenter=o.barycenter,s.weight=o.weight)}),Es.forEach(t.edges(),function(o){var r=e[o.v],s=e[o.w];!Es.isUndefined(r)&&!Es.isUndefined(s)&&(s.indegree++,r.out.push(e[o.w]))});var i=Es.filter(e,function(o){return!o.indegree});return o3e(i)}function o3e(n){var t=[];function e(r){return function(s){s.merged||(Es.isUndefined(s.barycenter)||Es.isUndefined(r.barycenter)||s.barycenter>=r.barycenter)&&r3e(r,s)}}function i(r){return function(s){s.in.push(r),--s.indegree===0&&n.push(s)}}for(;n.length;){var o=n.pop();t.push(o),Es.forEach(o.in.reverse(),e(o)),Es.forEach(o.out,i(o))}return Es.map(Es.filter(t,function(r){return!r.merged}),function(r){return Es.pick(r,["vs","i","barycenter","weight"])})}function r3e(n,t){var e=0,i=0;n.weight&&(e+=n.barycenter*n.weight,i+=n.weight),t.weight&&(e+=t.barycenter*t.weight,i+=t.weight),n.vs=t.vs.concat(n.vs),n.barycenter=e/i,n.weight=i,n.i=Math.min(t.i,n.i),t.merged=!0}});var Gse=O((qsi,qse)=>{"use strict";var j0=Cn(),s3e=zr();qse.exports=a3e;function a3e(n,t){var e=s3e.partition(n,function(d){return j0.has(d,"barycenter")}),i=e.lhs,o=j0.sortBy(e.rhs,function(d){return-d.i}),r=[],s=0,a=0,l=0;i.sort(l3e(!!t)),l=Use(r,o,l),j0.forEach(i,function(d){l+=d.vs.length,r.push(d.vs),s+=d.barycenter*d.weight,a+=d.weight,l=Use(r,o,l)});var c={vs:j0.flatten(r,!0)};return a&&(c.barycenter=s/a,c.weight=a),c}function Use(n,t,e){for(var i;t.length&&(i=j0.last(t)).i<=e;)t.pop(),n.push(i.vs),e++;return e}function l3e(n){return function(t,e){return t.barycenter<e.barycenter?-1:t.barycenter>e.barycenter?1:n?e.i-t.i:t.i-e.i}}});var Yse=O((Gsi,Kse)=>{"use strict";var Bu=Cn(),c3e=Vse(),d3e=jse(),u3e=Gse();Kse.exports=$se;function $se(n,t,e,i){var o=n.children(t),r=n.node(t),s=r?r.borderLeft:void 0,a=r?r.borderRight:void 0,l={};s&&(o=Bu.filter(o,function(f){return f!==s&&f!==a}));var c=c3e(n,o);Bu.forEach(c,function(f){if(n.children(f.v).length){var p=$se(n,f.v,e,i);l[f.v]=p,Bu.has(p,"barycenter")&&m3e(f,p)}});var d=d3e(c,e);h3e(d,l);var u=u3e(d,i);if(s&&(u.vs=Bu.flatten([s,u.vs,a],!0),n.predecessors(s).length)){var h=n.node(n.predecessors(s)[0]),m=n.node(n.predecessors(a)[0]);Bu.has(u,"barycenter")||(u.barycenter=0,u.weight=0),u.barycenter=(u.barycenter*u.weight+h.order+m.order)/(u.weight+2),u.weight+=2}return u}function h3e(n,t){Bu.forEach(n,function(e){e.vs=Bu.flatten(e.vs.map(function(i){return t[i]?t[i].vs:i}),!0)})}function m3e(n,t){Bu.isUndefined(n.barycenter)?(n.barycenter=t.barycenter,n.weight=t.weight):(n.barycenter=(n.barycenter*n.weight+t.barycenter*t.weight)/(n.weight+t.weight),n.weight+=t.weight)}});var Zse=O(($si,Xse)=>{"use strict";var U0=Cn(),p3e=ra().Graph;Xse.exports=f3e;function f3e(n,t,e){var i=g3e(n),o=new p3e({compound:!0}).setGraph({root:i}).setDefaultNodeLabel(function(r){return n.node(r)});return U0.forEach(n.nodes(),function(r){var s=n.node(r),a=n.parent(r);(s.rank===t||s.minRank<=t&&t<=s.maxRank)&&(o.setNode(r),o.setParent(r,a||i),U0.forEach(n[e](r),function(l){var c=l.v===r?l.w:l.v,d=o.edge(c,r),u=U0.isUndefined(d)?0:d.weight;o.setEdge(c,r,{weight:n.edge(l).weight+u})}),U0.has(s,"minRank")&&o.setNode(r,{borderLeft:s.borderLeft[t],borderRight:s.borderRight[t]}))}),o}function g3e(n){for(var t;n.hasNode(t=U0.uniqueId("_root")););return t}});var Jse=O((Ksi,Qse)=>{"use strict";var _3e=Cn();Qse.exports=v3e;function v3e(n,t,e){var i={},o;_3e.forEach(e,function(r){for(var s=n.parent(r),a,l;s;){if(a=n.parent(s),a?(l=i[a],i[a]=s):(l=o,o=s),l&&l!==s){t.setEdge(l,s);return}s=a}})}});var oae=O((Ysi,nae)=>{"use strict";var Hu=Cn(),b3e=Nse(),y3e=zse(),x3e=Yse(),w3e=Zse(),C3e=Jse(),S3e=ra().Graph,eae=zr();nae.exports=I3e;function I3e(n){var t=eae.maxRank(n),e=tae(n,Hu.range(1,t+1),"inEdges"),i=tae(n,Hu.range(t-1,-1,-1),"outEdges"),o=b3e(n);iae(n,o);for(var r=Number.POSITIVE_INFINITY,s,a=0,l=0;l<4;++a,++l){D3e(a%2?e:i,a%4>=2),o=eae.buildLayerMatrix(n);var c=y3e(n,o);c<r&&(l=0,s=Hu.cloneDeep(o),r=c)}iae(n,s)}function tae(n,t,e){return Hu.map(t,function(i){return w3e(n,i,e)})}function D3e(n,t){var e=new S3e;Hu.forEach(n,function(i){var o=i.graph().root,r=x3e(i,o,e,t);Hu.forEach(r.vs,function(s,a){i.node(s).order=a}),C3e(i,e,r.vs)})}function iae(n,t){Hu.forEach(t,function(e){Hu.forEach(e,function(i,o){n.node(i).order=o})})}});var pae=O((Xsi,mae)=>{"use strict";var ei=Cn(),E3e=ra().Graph,k3e=zr();mae.exports={positionX:A3e,findType1Conflicts:rae,findType2Conflicts:sae,addConflict:a3,hasConflict:aae,verticalAlignment:lae,horizontalCompaction:cae,alignCoordinates:uae,findSmallestWidthAlignment:dae,balance:hae};function rae(n,t){var e={};function i(o,r){var s=0,a=0,l=o.length,c=ei.last(r);return ei.forEach(r,function(d,u){var h=M3e(n,d),m=h?n.node(h).order:l;(h||d===c)&&(ei.forEach(r.slice(a,u+1),function(f){ei.forEach(n.predecessors(f),function(p){var g=n.node(p),v=g.order;(v<s||m<v)&&!(g.dummy&&n.node(f).dummy)&&a3(e,p,f)})}),a=u+1,s=m)}),r}return ei.reduce(t,i),e}function sae(n,t){var e={};function i(r,s,a,l,c){var d;ei.forEach(ei.range(s,a),function(u){d=r[u],n.node(d).dummy&&ei.forEach(n.predecessors(d),function(h){var m=n.node(h);m.dummy&&(m.order<l||m.order>c)&&a3(e,h,d)})})}function o(r,s){var a=-1,l,c=0;return ei.forEach(s,function(d,u){if(n.node(d).dummy==="border"){var h=n.predecessors(d);h.length&&(l=n.node(h[0]).order,i(s,c,u,a,l),c=u,a=l)}i(s,c,s.length,l,r.length)}),s}return ei.reduce(t,o),e}function M3e(n,t){if(n.node(t).dummy)return ei.find(n.predecessors(t),function(e){return n.node(e).dummy})}function a3(n,t,e){if(t>e){var i=t;t=e,e=i}var o=n[t];o||(n[t]=o={}),o[e]=!0}function aae(n,t,e){if(t>e){var i=t;t=e,e=i}return ei.has(n[t],e)}function lae(n,t,e,i){var o={},r={},s={};return ei.forEach(t,function(a){ei.forEach(a,function(l,c){o[l]=l,r[l]=l,s[l]=c})}),ei.forEach(t,function(a){var l=-1;ei.forEach(a,function(c){var d=i(c);if(d.length){d=ei.sortBy(d,function(p){return s[p]});for(var u=(d.length-1)/2,h=Math.floor(u),m=Math.ceil(u);h<=m;++h){var f=d[h];r[c]===c&&l<s[f]&&!aae(e,c,f)&&(r[f]=c,r[c]=o[c]=o[f],l=s[f])}}})}),{root:o,align:r}}function cae(n,t,e,i,o){var r={},s=T3e(n,t,e,o),a=o?"borderLeft":"borderRight";function l(u,h){for(var m=s.nodes(),f=m.pop(),p={};f;)p[f]?u(f):(p[f]=!0,m.push(f),m=m.concat(h(f))),f=m.pop()}function c(u){r[u]=s.inEdges(u).reduce(function(h,m){return Math.max(h,r[m.v]+s.edge(m))},0)}function d(u){var h=s.outEdges(u).reduce(function(f,p){return Math.min(f,r[p.w]-s.edge(p))},Number.POSITIVE_INFINITY),m=n.node(u);h!==Number.POSITIVE_INFINITY&&m.borderType!==a&&(r[u]=Math.max(r[u],h))}return l(c,s.predecessors.bind(s)),l(d,s.successors.bind(s)),ei.forEach(i,function(u){r[u]=r[e[u]]}),r}function T3e(n,t,e,i){var o=new E3e,r=n.graph(),s=R3e(r.nodesep,r.edgesep,i);return ei.forEach(t,function(a){var l;ei.forEach(a,function(c){var d=e[c];if(o.setNode(d),l){var u=e[l],h=o.edge(u,d);o.setEdge(u,d,Math.max(s(n,c,l),h||0))}l=c})}),o}function dae(n,t){return ei.minBy(ei.values(t),function(e){var i=Number.NEGATIVE_INFINITY,o=Number.POSITIVE_INFINITY;return ei.forIn(e,function(r,s){var a=O3e(n,s)/2;i=Math.max(r+a,i),o=Math.min(r-a,o)}),i-o})}function uae(n,t){var e=ei.values(t),i=ei.min(e),o=ei.max(e);ei.forEach(["u","d"],function(r){ei.forEach(["l","r"],function(s){var a=r+s,l=n[a],c;if(l!==t){var d=ei.values(l);c=s==="l"?i-ei.min(d):o-ei.max(d),c&&(n[a]=ei.mapValues(l,function(u){return u+c}))}})})}function hae(n,t){return ei.mapValues(n.ul,function(e,i){if(t)return n[t.toLowerCase()][i];var o=ei.sortBy(ei.map(n,i));return(o[1]+o[2])/2})}function A3e(n){var t=k3e.buildLayerMatrix(n),e=ei.merge(rae(n,t),sae(n,t)),i={},o;ei.forEach(["u","d"],function(s){o=s==="u"?t:ei.values(t).reverse(),ei.forEach(["l","r"],function(a){a==="r"&&(o=ei.map(o,function(u){return ei.values(u).reverse()}));var l=(s==="u"?n.predecessors:n.successors).bind(n),c=lae(n,o,e,l),d=cae(n,o,c.root,c.align,a==="r");a==="r"&&(d=ei.mapValues(d,function(u){return-u})),i[s+a]=d})});var r=dae(n,i);return uae(i,r),hae(i,n.graph().align)}function R3e(n,t,e){return function(i,o,r){var s=i.node(o),a=i.node(r),l=0,c;if(l+=s.width/2,ei.has(s,"labelpos"))switch(s.labelpos.toLowerCase()){case"l":c=-s.width/2;break;case"r":c=s.width/2;break}if(c&&(l+=e?c:-c),c=0,l+=(s.dummy?t:n)/2,l+=(a.dummy?t:n)/2,l+=a.width/2,ei.has(a,"labelpos"))switch(a.labelpos.toLowerCase()){case"l":c=a.width/2;break;case"r":c=-a.width/2;break}return c&&(l+=e?c:-c),c=0,l}}function O3e(n,t){return n.node(t).width}});var _ae=O((Zsi,gae)=>{"use strict";var q0=Cn(),fae=zr(),P3e=pae().positionX;gae.exports=L3e;function L3e(n){n=fae.asNonCompoundGraph(n),N3e(n),q0.forEach(P3e(n),function(t,e){n.node(e).x=t})}function N3e(n){var t=fae.buildLayerMatrix(n),e=n.graph().ranksep,i=0;q0.forEach(t,function(o){var r=q0.max(q0.map(o,function(s){return n.node(s).height}));q0.forEach(o,function(s){n.node(s).y=i+r/2}),i+=r+e})}});var Cae=O((Qsi,wae)=>{"use strict";var vi=Cn(),vae=tse(),bae=lse(),F3e=wse(),z3e=zr().normalizeRanks,B3e=Sse(),H3e=zr().removeEmptyRanks,yae=Ese(),V3e=Tse(),xae=Pse(),W3e=oae(),j3e=_ae(),Vu=zr(),U3e=ra().Graph;wae.exports=q3e;function q3e(n,t){var e=t&&t.debugTiming?Vu.time:Vu.notime;e("layout",function(){var i=e("  buildLayoutGraph",function(){return iWe(n)});e("  runLayout",function(){G3e(i,e)}),e("  updateInputGraph",function(){$3e(n,i)})})}function G3e(n,t){t("    makeSpaceForEdgeLabels",function(){nWe(n)}),t("    removeSelfEdges",function(){hWe(n)}),t("    acyclic",function(){vae.run(n)}),t("    nestingGraph.run",function(){yae.run(n)}),t("    rank",function(){F3e(Vu.asNonCompoundGraph(n))}),t("    injectEdgeLabelProxies",function(){oWe(n)}),t("    removeEmptyRanks",function(){H3e(n)}),t("    nestingGraph.cleanup",function(){yae.cleanup(n)}),t("    normalizeRanks",function(){z3e(n)}),t("    assignRankMinMax",function(){rWe(n)}),t("    removeEdgeLabelProxies",function(){sWe(n)}),t("    normalize.run",function(){bae.run(n)}),t("    parentDummyChains",function(){B3e(n)}),t("    addBorderSegments",function(){V3e(n)}),t("    order",function(){W3e(n)}),t("    insertSelfEdges",function(){mWe(n)}),t("    adjustCoordinateSystem",function(){xae.adjust(n)}),t("    position",function(){j3e(n)}),t("    positionSelfEdges",function(){pWe(n)}),t("    removeBorderNodes",function(){uWe(n)}),t("    normalize.undo",function(){bae.undo(n)}),t("    fixupEdgeLabelCoords",function(){cWe(n)}),t("    undoCoordinateSystem",function(){xae.undo(n)}),t("    translateGraph",function(){aWe(n)}),t("    assignNodeIntersects",function(){lWe(n)}),t("    reversePoints",function(){dWe(n)}),t("    acyclic.undo",function(){vae.undo(n)})}function $3e(n,t){vi.forEach(n.nodes(),function(e){var i=n.node(e),o=t.node(e);i&&(i.x=o.x,i.y=o.y,t.children(e).length&&(i.width=o.width,i.height=o.height))}),vi.forEach(n.edges(),function(e){var i=n.edge(e),o=t.edge(e);i.points=o.points,vi.has(o,"x")&&(i.x=o.x,i.y=o.y)}),n.graph().width=t.graph().width,n.graph().height=t.graph().height}var K3e=["nodesep","edgesep","ranksep","marginx","marginy"],Y3e={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},X3e=["acyclicer","ranker","rankdir","align"],Z3e=["width","height"],Q3e={width:0,height:0},J3e=["minlen","weight","width","height","labeloffset"],eWe={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},tWe=["labelpos"];function iWe(n){var t=new U3e({multigraph:!0,compound:!0}),e=c3(n.graph());return t.setGraph(vi.merge({},Y3e,l3(e,K3e),vi.pick(e,X3e))),vi.forEach(n.nodes(),function(i){var o=c3(n.node(i));t.setNode(i,vi.defaults(l3(o,Z3e),Q3e)),t.setParent(i,n.parent(i))}),vi.forEach(n.edges(),function(i){var o=c3(n.edge(i));t.setEdge(i,vi.merge({},eWe,l3(o,J3e),vi.pick(o,tWe)))}),t}function nWe(n){var t=n.graph();t.ranksep/=2,vi.forEach(n.edges(),function(e){var i=n.edge(e);i.minlen*=2,i.labelpos.toLowerCase()!=="c"&&(t.rankdir==="TB"||t.rankdir==="BT"?i.width+=i.labeloffset:i.height+=i.labeloffset)})}function oWe(n){vi.forEach(n.edges(),function(t){var e=n.edge(t);if(e.width&&e.height){var i=n.node(t.v),o=n.node(t.w),r={rank:(o.rank-i.rank)/2+i.rank,e:t};Vu.addDummyNode(n,"edge-proxy",r,"_ep")}})}function rWe(n){var t=0;vi.forEach(n.nodes(),function(e){var i=n.node(e);i.borderTop&&(i.minRank=n.node(i.borderTop).rank,i.maxRank=n.node(i.borderBottom).rank,t=vi.max(t,i.maxRank))}),n.graph().maxRank=t}function sWe(n){vi.forEach(n.nodes(),function(t){var e=n.node(t);e.dummy==="edge-proxy"&&(n.edge(e.e).labelRank=e.rank,n.removeNode(t))})}function aWe(n){var t=Number.POSITIVE_INFINITY,e=0,i=Number.POSITIVE_INFINITY,o=0,r=n.graph(),s=r.marginx||0,a=r.marginy||0;function l(c){var d=c.x,u=c.y,h=c.width,m=c.height;t=Math.min(t,d-h/2),e=Math.max(e,d+h/2),i=Math.min(i,u-m/2),o=Math.max(o,u+m/2)}vi.forEach(n.nodes(),function(c){l(n.node(c))}),vi.forEach(n.edges(),function(c){var d=n.edge(c);vi.has(d,"x")&&l(d)}),t-=s,i-=a,vi.forEach(n.nodes(),function(c){var d=n.node(c);d.x-=t,d.y-=i}),vi.forEach(n.edges(),function(c){var d=n.edge(c);vi.forEach(d.points,function(u){u.x-=t,u.y-=i}),vi.has(d,"x")&&(d.x-=t),vi.has(d,"y")&&(d.y-=i)}),r.width=e-t+s,r.height=o-i+a}function lWe(n){vi.forEach(n.edges(),function(t){var e=n.edge(t),i=n.node(t.v),o=n.node(t.w),r,s;e.points?(r=e.points[0],s=e.points[e.points.length-1]):(e.points=[],r=o,s=i),e.points.unshift(Vu.intersectRect(i,r)),e.points.push(Vu.intersectRect(o,s))})}function cWe(n){vi.forEach(n.edges(),function(t){var e=n.edge(t);if(vi.has(e,"x"))switch((e.labelpos==="l"||e.labelpos==="r")&&(e.width-=e.labeloffset),e.labelpos){case"l":e.x-=e.width/2+e.labeloffset;break;case"r":e.x+=e.width/2+e.labeloffset;break}})}function dWe(n){vi.forEach(n.edges(),function(t){var e=n.edge(t);e.reversed&&e.points.reverse()})}function uWe(n){vi.forEach(n.nodes(),function(t){if(n.children(t).length){var e=n.node(t),i=n.node(e.borderTop),o=n.node(e.borderBottom),r=n.node(vi.last(e.borderLeft)),s=n.node(vi.last(e.borderRight));e.width=Math.abs(s.x-r.x),e.height=Math.abs(o.y-i.y),e.x=r.x+e.width/2,e.y=i.y+e.height/2}}),vi.forEach(n.nodes(),function(t){n.node(t).dummy==="border"&&n.removeNode(t)})}function hWe(n){vi.forEach(n.edges(),function(t){if(t.v===t.w){var e=n.node(t.v);e.selfEdges||(e.selfEdges=[]),e.selfEdges.push({e:t,label:n.edge(t)}),n.removeEdge(t)}})}function mWe(n){var t=Vu.buildLayerMatrix(n);vi.forEach(t,function(e){var i=0;vi.forEach(e,function(o,r){var s=n.node(o);s.order=r+i,vi.forEach(s.selfEdges,function(a){Vu.addDummyNode(n,"selfedge",{width:a.label.width,height:a.label.height,rank:s.rank,order:r+ ++i,e:a.e,label:a.label},"_se")}),delete s.selfEdges})})}function pWe(n){vi.forEach(n.nodes(),function(t){var e=n.node(t);if(e.dummy==="selfedge"){var i=n.node(e.e.v),o=i.x+i.width/2,r=i.y,s=e.x-o,a=i.height/2;n.setEdge(e.e,e.label),n.removeNode(t),e.label.points=[{x:o+2*s/3,y:r-a},{x:o+5*s/6,y:r-a},{x:o+s,y:r},{x:o+5*s/6,y:r+a},{x:o+2*s/3,y:r+a}],e.label.x=e.x,e.label.y=e.y}})}function l3(n,t){return vi.mapValues(vi.pick(n,t),Number)}function c3(n){var t={};return vi.forEach(n,function(e,i){t[i.toLowerCase()]=e}),t}});var Iae=O((Jsi,Sae)=>{"use strict";var HM=Cn(),fWe=zr(),gWe=ra().Graph;Sae.exports={debugOrdering:_We};function _We(n){var t=fWe.buildLayerMatrix(n),e=new gWe({compound:!0,multigraph:!0}).setGraph({});return HM.forEach(n.nodes(),function(i){e.setNode(i,{label:i}),e.setParent(i,"layer"+n.node(i).rank)}),HM.forEach(n.edges(),function(i){e.setEdge(i.v,i.w,{},i.name)}),HM.forEach(t,function(i,o){var r="layer"+o;e.setNode(r,{rank:"same"}),HM.reduce(i,function(s,a){return e.setEdge(s,a,{style:"invis"}),a})}),e}});var Eae=O((eai,Dae)=>{"use strict";Dae.exports="0.8.5"});var Mae=O((tai,kae)=>{"use strict";kae.exports={graphlib:ra(),layout:Cae(),debug:Iae(),util:{time:zr().time,notime:zr().notime},version:Eae()}});var p3=O(Wu=>{"use strict";Object.defineProperty(Wu,"__esModule",{value:!0});var m3=function(){function n(t,e,i){this.source=t,this.target=e,this.type=i}return n}();Wu.PowerEdge=m3;var ile=function(){function n(t,e,i,o){var r=this;if(this.linkAccessor=i,this.modules=new Array(t),this.roots=[],o)this.initModulesFromGroup(o);else{this.roots.push(new l_);for(var s=0;s<t;++s)this.roots[0].add(this.modules[s]=new G0(s))}this.R=e.length,e.forEach(function(a){var l=r.modules[i.getSourceIndex(a)],c=r.modules[i.getTargetIndex(a)],d=i.getType(a);l.outgoing.add(d,c),c.incoming.add(d,l)})}return n.prototype.initModulesFromGroup=function(t){var e=new l_;this.roots.push(e);for(var i=0;i<t.leaves.length;++i){var o=t.leaves[i],r=new G0(o.id);this.modules[o.id]=r,e.add(r)}if(t.groups)for(var s=0;s<t.groups.length;++s){var a=t.groups[s],l={};for(var c in a)c!=="leaves"&&c!=="groups"&&a.hasOwnProperty(c)&&(l[c]=a[c]);e.add(new G0(-1-s,new $0,new $0,this.initModulesFromGroup(a),l))}return e},n.prototype.merge=function(t,e,i){i===void 0&&(i=0);var o=t.incoming.intersection(e.incoming),r=t.outgoing.intersection(e.outgoing),s=new l_;s.add(t),s.add(e);var a=new G0(this.modules.length,r,o,s);this.modules.push(a);var l=function(c,d,u){c.forAll(function(h,m){h.forAll(function(f){var p=f[d];p.add(m,a),p.remove(m,t),p.remove(m,e),t[u].remove(m,f),e[u].remove(m,f)})})};return l(r,"incoming","outgoing"),l(o,"outgoing","incoming"),this.R-=o.count()+r.count(),this.roots[i].remove(t),this.roots[i].remove(e),this.roots[i].add(a),a},n.prototype.rootMerges=function(t){t===void 0&&(t=0);for(var e=this.roots[t].modules(),i=e.length,o=new Array(i*(i-1)),r=0,s=0,a=i-1;s<a;++s)for(var l=s+1;l<i;++l){var c=e[s],d=e[l];o[r]={id:r,nEdges:this.nEdges(c,d),a:c,b:d},r++}return o},n.prototype.greedyMerge=function(){for(var t=0;t<this.roots.length;++t)if(!(this.roots[t].modules().length<2)){var e=this.rootMerges(t).sort(function(o,r){return o.nEdges==r.nEdges?o.id-r.id:o.nEdges-r.nEdges}),i=e[0];if(!(i.nEdges>=this.R))return this.merge(i.a,i.b,t),!0}},n.prototype.nEdges=function(t,e){var i=t.incoming.intersection(e.incoming),o=t.outgoing.intersection(e.outgoing);return this.R-i.count()-o.count()},n.prototype.getGroupHierarchy=function(t){var e=this,i=[],o={};nle(this.roots[0],o,i);var r=this.allEdges();return r.forEach(function(s){var a=e.modules[s.source],l=e.modules[s.target];t.push(new m3(typeof a.gid>"u"?s.source:i[a.gid],typeof l.gid>"u"?s.target:i[l.gid],s.type))}),i},n.prototype.allEdges=function(){var t=[];return n.getEdges(this.roots[0],t),t},n.getEdges=function(t,e){t.forAll(function(i){i.getEdges(e),n.getEdges(i.children,e)})},n}();Wu.Configuration=ile;function nle(n,t,e){n.forAll(function(i){if(i.isLeaf())t.leaves||(t.leaves=[]),t.leaves.push(i.id);else{var o=t;if(i.gid=e.length,!i.isIsland()||i.isPredefined()){if(o={id:i.gid},i.isPredefined())for(var r in i.definition)o[r]=i.definition[r];t.groups||(t.groups=[]),t.groups.push(i.gid),e.push(o)}nle(i.children,o,e)}})}var G0=function(){function n(t,e,i,o,r){e===void 0&&(e=new $0),i===void 0&&(i=new $0),o===void 0&&(o=new l_),this.id=t,this.outgoing=e,this.incoming=i,this.children=o,this.definition=r}return n.prototype.getEdges=function(t){var e=this;this.outgoing.forAll(function(i,o){i.forAll(function(r){t.push(new m3(e.id,r.id,o))})})},n.prototype.isLeaf=function(){return this.children.count()===0},n.prototype.isIsland=function(){return this.outgoing.count()===0&&this.incoming.count()===0},n.prototype.isPredefined=function(){return typeof this.definition<"u"},n}();Wu.Module=G0;function CWe(n,t){var e={};for(var i in n)i in t&&(e[i]=n[i]);return e}var l_=function(){function n(){this.table={}}return n.prototype.count=function(){return Object.keys(this.table).length},n.prototype.intersection=function(t){var e=new n;return e.table=CWe(this.table,t.table),e},n.prototype.intersectionCount=function(t){return this.intersection(t).count()},n.prototype.contains=function(t){return t in this.table},n.prototype.add=function(t){this.table[t.id]=t},n.prototype.remove=function(t){delete this.table[t.id]},n.prototype.forAll=function(t){for(var e in this.table)t(this.table[e])},n.prototype.modules=function(){var t=[];return this.forAll(function(e){e.isPredefined()||t.push(e)}),t},n}();Wu.ModuleSet=l_;var $0=function(){function n(){this.sets={},this.n=0}return n.prototype.count=function(){return this.n},n.prototype.contains=function(t){var e=!1;return this.forAllModules(function(i){!e&&i.id==t&&(e=!0)}),e},n.prototype.add=function(t,e){var i=t in this.sets?this.sets[t]:this.sets[t]=new l_;i.add(e),++this.n},n.prototype.remove=function(t,e){var i=this.sets[t];i.remove(e),i.count()===0&&delete this.sets[t],--this.n},n.prototype.forAll=function(t){for(var e in this.sets)t(this.sets[e],Number(e))},n.prototype.forAllModules=function(t){this.forAll(function(e,i){return e.forAll(t)})},n.prototype.intersection=function(t){var e=new n;return this.forAll(function(i,o){if(o in t.sets){var r=i.intersection(t.sets[o]),s=r.count();s>0&&(e.sets[o]=r,e.n+=s)}}),e},n}();Wu.LinkSets=$0;function SWe(n,t,e,i){for(var o=n.length,r=new ile(o,t,e,i);r.greedyMerge(););var s=[],a=r.getGroupHierarchy(s);return s.forEach(function(l){var c=function(d){var u=l[d];typeof u=="number"&&(l[d]=n[u])};c("source"),c("target")}),{groups:a,powerEdges:s}}Wu.getGroups=SWe});var VM=O(c_=>{"use strict";Object.defineProperty(c_,"__esModule",{value:!0});function ole(n,t){var e={};for(var i in n)e[i]={};for(var i in t)e[i]={};return Object.keys(e).length}function rle(n,t){var e=0;for(var i in n)typeof t[i]<"u"&&++e;return e}function IWe(n,t){var e={},i=function(o,r){typeof e[o]>"u"&&(e[o]={}),e[o][r]={}};return n.forEach(function(o){var r=t.getSourceIndex(o),s=t.getTargetIndex(o);i(r,s),i(s,r)}),e}function sle(n,t,e,i){var o=IWe(n,i);n.forEach(function(r){var s=o[i.getSourceIndex(r)],a=o[i.getTargetIndex(r)];i.setLength(r,1+t*e(s,a))})}function DWe(n,t,e){e===void 0&&(e=1),sle(n,e,function(i,o){return Math.sqrt(ole(i,o)-rle(i,o))},t)}c_.symmetricDiffLinkLengths=DWe;function EWe(n,t,e){e===void 0&&(e=1),sle(n,e,function(i,o){return Math.min(Object.keys(i).length,Object.keys(o).length)<1.1?0:rle(i,o)/ole(i,o)},t)}c_.jaccardLinkLengths=EWe;function kWe(n,t,e,i){var o=ale(n,t,i),r={};o.forEach(function(a,l){return a.forEach(function(c){return r[c]=l})});var s=[];return t.forEach(function(a){var l=i.getSourceIndex(a),c=i.getTargetIndex(a),d=r[l],u=r[c];d!==u&&s.push({axis:e,left:l,right:c,gap:i.getMinSeparation(a)})}),s}c_.generateDirectedEdgeConstraints=kWe;function ale(n,t,e){var i=[],o=0,r=[],s=[];function a(v){v.index=v.lowlink=o++,r.push(v),v.onStack=!0;for(var b=0,C=v.out;b<C.length;b++){var T=C[b];typeof T.index>"u"?(a(T),v.lowlink=Math.min(v.lowlink,T.lowlink)):T.onStack&&(v.lowlink=Math.min(v.lowlink,T.index))}if(v.lowlink===v.index){for(var E=[];r.length&&(T=r.pop(),T.onStack=!1,E.push(T),T!==v););s.push(E.map(function(F){return F.id}))}}for(var l=0;l<n;l++)i.push({id:l,out:[]});for(var c=0,d=t;c<d.length;c++){var u=d[c],h=i[e.getSourceIndex(u)],m=i[e.getTargetIndex(u)];h.out.push(m)}for(var f=0,p=i;f<p.length;f++){var g=p[f];typeof g.index>"u"&&a(g)}return s}c_.stronglyConnectedComponents=ale});var WM=O(K0=>{"use strict";Object.defineProperty(K0,"__esModule",{value:!0});var lle=function(){function n(){this.locks={}}return n.prototype.add=function(t,e){this.locks[t]=e},n.prototype.clear=function(){this.locks={}},n.prototype.isEmpty=function(){for(var t in this.locks)return!1;return!0},n.prototype.apply=function(t){for(var e in this.locks)t(Number(e),this.locks[e])},n}();K0.Locks=lle;var MWe=function(){function n(t,e,i){i===void 0&&(i=null),this.D=e,this.G=i,this.threshold=1e-4,this.numGridSnapNodes=0,this.snapGridSize=100,this.snapStrength=1e3,this.scaleSnapByMaxH=!1,this.random=new cle,this.project=null,this.x=t,this.k=t.length;var o=this.n=t[0].length;this.H=new Array(this.k),this.g=new Array(this.k),this.Hd=new Array(this.k),this.a=new Array(this.k),this.b=new Array(this.k),this.c=new Array(this.k),this.d=new Array(this.k),this.e=new Array(this.k),this.ia=new Array(this.k),this.ib=new Array(this.k),this.xtmp=new Array(this.k),this.locks=new lle,this.minD=Number.MAX_VALUE;for(var r=o,s;r--;)for(s=o;--s>r;){var a=e[r][s];a>0&&a<this.minD&&(this.minD=a)}for(this.minD===Number.MAX_VALUE&&(this.minD=1),r=this.k;r--;){for(this.g[r]=new Array(o),this.H[r]=new Array(o),s=o;s--;)this.H[r][s]=new Array(o);this.Hd[r]=new Array(o),this.a[r]=new Array(o),this.b[r]=new Array(o),this.c[r]=new Array(o),this.d[r]=new Array(o),this.e[r]=new Array(o),this.ia[r]=new Array(o),this.ib[r]=new Array(o),this.xtmp[r]=new Array(o)}}return n.createSquareMatrix=function(t,e){for(var i=new Array(t),o=0;o<t;++o){i[o]=new Array(t);for(var r=0;r<t;++r)i[o][r]=e(o,r)}return i},n.prototype.offsetDir=function(){for(var t=this,e=new Array(this.k),i=0,o=0;o<this.k;++o){var r=e[o]=this.random.getNextBetween(.01,1)-.5;i+=r*r}return i=Math.sqrt(i),e.map(function(s){return s*=t.minD/i})},n.prototype.computeDerivatives=function(t){var e=this,i=this.n;if(!(i<1)){for(var o,r=new Array(this.k),s=new Array(this.k),a=new Array(this.k),l=0,c=0;c<i;++c){for(o=0;o<this.k;++o)a[o]=this.g[o][c]=0;for(var d=0;d<i;++d)if(c!==d){for(var u=i;u--;){var h=0;for(o=0;o<this.k;++o){var m=r[o]=t[o][c]-t[o][d];h+=s[o]=m*m}if(h>1e-9)break;var f=this.offsetDir();for(o=0;o<this.k;++o)t[o][d]+=f[o]}var p=Math.sqrt(h),g=this.D[c][d],v=this.G!=null?this.G[c][d]:1;if(v>1&&p>g||!isFinite(g)){for(o=0;o<this.k;++o)this.H[o][c][d]=0;continue}v>1&&(v=1);var b=g*g,C=2*v*(p-g)/(b*p),T=p*p*p,E=2*-v/(b*T);for(isFinite(C)||console.log(C),o=0;o<this.k;++o)this.g[o][c]+=r[o]*C,a[o]-=this.H[o][c][d]=E*(T+g*(s[o]-h)+p*h)}for(o=0;o<this.k;++o)l=Math.max(l,this.H[o][c][c]=a[o])}for(var F=this.snapGridSize/2,L=this.snapGridSize,H=this.snapStrength,re=H/(F*F),R=this.numGridSnapNodes,c=0;c<R;++c)for(o=0;o<this.k;++o){var W=this.x[o][c],D=W/L,ne=D%1,Dt=D-ne,_e=Math.abs(ne),m=_e<=.5?W-Dt*L:W>0?W-(Dt+1)*L:W-(Dt-1)*L;-F<m&&m<=F&&(this.scaleSnapByMaxH?(this.g[o][c]+=l*re*m,this.H[o][c][c]+=l*re):(this.g[o][c]+=re*m,this.H[o][c][c]+=re))}this.locks.isEmpty()||this.locks.apply(function(Et,Se){for(o=0;o<e.k;++o)e.H[o][Et][Et]+=l,e.g[o][Et]-=l*(Se[o]-t[o][Et])})}},n.dotProd=function(t,e){for(var i=0,o=t.length;o--;)i+=t[o]*e[o];return i},n.rightMultiply=function(t,e,i){for(var o=t.length;o--;)i[o]=n.dotProd(t[o],e)},n.prototype.computeStepSize=function(t){for(var e=0,i=0,o=0;o<this.k;++o)e+=n.dotProd(this.g[o],t[o]),n.rightMultiply(this.H[o],t[o],this.Hd[o]),i+=n.dotProd(t[o],this.Hd[o]);return i===0||!isFinite(i)?0:1*e/i},n.prototype.reduceStress=function(){this.computeDerivatives(this.x);for(var t=this.computeStepSize(this.g),e=0;e<this.k;++e)this.takeDescentStep(this.x[e],this.g[e],t);return this.computeStress()},n.copy=function(t,e){for(var i=t.length,o=e[0].length,r=0;r<i;++r)for(var s=0;s<o;++s)e[r][s]=t[r][s]},n.prototype.stepAndProject=function(t,e,i,o){n.copy(t,e),this.takeDescentStep(e[0],i[0],o),this.project&&this.project[0](t[0],t[1],e[0]),this.takeDescentStep(e[1],i[1],o),this.project&&this.project[1](e[0],t[1],e[1]);for(var r=2;r<this.k;r++)this.takeDescentStep(e[r],i[r],o)},n.mApply=function(t,e,i){for(var o=t;o-- >0;)for(var r=e;r-- >0;)i(o,r)},n.prototype.matrixApply=function(t){n.mApply(this.k,this.n,t)},n.prototype.computeNextPosition=function(t,e){var i=this;this.computeDerivatives(t);var o=this.computeStepSize(this.g);if(this.stepAndProject(t,e,this.g,o),this.project){this.matrixApply(function(s,a){return i.e[s][a]=t[s][a]-e[s][a]});var r=this.computeStepSize(this.e);r=Math.max(.2,Math.min(r,1)),this.stepAndProject(t,e,this.e,r)}},n.prototype.run=function(t){for(var e=Number.MAX_VALUE,i=!1;!i&&t-- >0;){var o=this.rungeKutta();i=Math.abs(e/o-1)<this.threshold,e=o}return e},n.prototype.rungeKutta=function(){var t=this;this.computeNextPosition(this.x,this.a),n.mid(this.x,this.a,this.ia),this.computeNextPosition(this.ia,this.b),n.mid(this.x,this.b,this.ib),this.computeNextPosition(this.ib,this.c),this.computeNextPosition(this.c,this.d);var e=0;return this.matrixApply(function(i,o){var r=(t.a[i][o]+2*t.b[i][o]+2*t.c[i][o]+t.d[i][o])/6,s=t.x[i][o]-r;e+=s*s,t.x[i][o]=r}),e},n.mid=function(t,e,i){n.mApply(t.length,t[0].length,function(o,r){return i[o][r]=t[o][r]+(e[o][r]-t[o][r])/2})},n.prototype.takeDescentStep=function(t,e,i){for(var o=0;o<this.n;++o)t[o]=t[o]-i*e[o]},n.prototype.computeStress=function(){for(var t=0,e=0,i=this.n-1;e<i;++e)for(var o=e+1,r=this.n;o<r;++o){for(var s=0,a=0;a<this.k;++a){var l=this.x[a][e]-this.x[a][o];s+=l*l}s=Math.sqrt(s);var c=this.D[e][o];if(isFinite(c)){var d=c-s,u=c*c;t+=d*d/u}}return t},n.zeroDistance=1e-10,n}();K0.Descent=MWe;var cle=function(){function n(t){t===void 0&&(t=1),this.seed=t,this.a=214013,this.c=2531011,this.m=2147483648,this.range=32767}return n.prototype.getNext=function(){return this.seed=(this.seed*this.a+this.c)%this.m,(this.seed>>16)/this.range},n.prototype.getNextBetween=function(t,e){return t+this.getNext()*(e-t)},n}();K0.PseudoRandom=cle});var qM=O(id=>{"use strict";Object.defineProperty(id,"__esModule",{value:!0});var dle=function(){function n(t){this.scale=t,this.AB=0,this.AD=0,this.A2=0}return n.prototype.addVariable=function(t){var e=this.scale/t.scale,i=t.offset/t.scale,o=t.weight;this.AB+=o*e*i,this.AD+=o*e*t.desiredPosition,this.A2+=o*e*e},n.prototype.getPosn=function(){return(this.AD-this.AB)/this.A2},n}();id.PositionStats=dle;var jM=function(){function n(t,e,i,o){o===void 0&&(o=!1),this.left=t,this.right=e,this.gap=i,this.equality=o,this.active=!1,this.unsatisfiable=!1,this.left=t,this.right=e,this.gap=i,this.equality=o}return n.prototype.slack=function(){return this.unsatisfiable?Number.MAX_VALUE:this.right.scale*this.right.position()-this.gap-this.left.scale*this.left.position()},n}();id.Constraint=jM;var UM=function(){function n(t,e,i){e===void 0&&(e=1),i===void 0&&(i=1),this.desiredPosition=t,this.weight=e,this.scale=i,this.offset=0}return n.prototype.dfdv=function(){return 2*this.weight*(this.position()-this.desiredPosition)},n.prototype.position=function(){return(this.block.ps.scale*this.block.posn+this.offset)/this.scale},n.prototype.visitNeighbours=function(t,e){var i=function(o,r){return o.active&&t!==r&&e(o,r)};this.cOut.forEach(function(o){return i(o,o.right)}),this.cIn.forEach(function(o){return i(o,o.left)})},n}();id.Variable=UM;var f3=function(){function n(t){this.vars=[],t.offset=0,this.ps=new dle(t.scale),this.addVariable(t)}return n.prototype.addVariable=function(t){t.block=this,this.vars.push(t),this.ps.addVariable(t),this.posn=this.ps.getPosn()},n.prototype.updateWeightedPosition=function(){this.ps.AB=this.ps.AD=this.ps.A2=0;for(var t=0,e=this.vars.length;t<e;++t)this.ps.addVariable(this.vars[t]);this.posn=this.ps.getPosn()},n.prototype.compute_lm=function(t,e,i){var o=this,r=t.dfdv();return t.visitNeighbours(e,function(s,a){var l=o.compute_lm(a,t,i);a===s.right?(r+=l*s.left.scale,s.lm=l):(r+=l*s.right.scale,s.lm=-l),i(s)}),r/t.scale},n.prototype.populateSplitBlock=function(t,e){var i=this;t.visitNeighbours(e,function(o,r){r.offset=t.offset+(r===o.right?o.gap:-o.gap),i.addVariable(r),i.populateSplitBlock(r,t)})},n.prototype.traverse=function(t,e,i,o){var r=this;i===void 0&&(i=this.vars[0]),o===void 0&&(o=null),i.visitNeighbours(o,function(s,a){e.push(t(s)),r.traverse(t,e,a,i)})},n.prototype.findMinLM=function(){var t=null;return this.compute_lm(this.vars[0],null,function(e){!e.equality&&(t===null||e.lm<t.lm)&&(t=e)}),t},n.prototype.findMinLMBetween=function(t,e){this.compute_lm(t,null,function(){});var i=null;return this.findPath(t,null,e,function(o,r){!o.equality&&o.right===r&&(i===null||o.lm<i.lm)&&(i=o)}),i},n.prototype.findPath=function(t,e,i,o){var r=this,s=!1;return t.visitNeighbours(e,function(a,l){!s&&(l===i||r.findPath(l,t,i,o))&&(s=!0,o(a,l))}),s},n.prototype.isActiveDirectedPathBetween=function(t,e){if(t===e)return!0;for(var i=t.cOut.length;i--;){var o=t.cOut[i];if(o.active&&this.isActiveDirectedPathBetween(o.right,e))return!0}return!1},n.split=function(t){return t.active=!1,[n.createSplitBlock(t.left),n.createSplitBlock(t.right)]},n.createSplitBlock=function(t){var e=new n(t);return e.populateSplitBlock(t,null),e},n.prototype.splitBetween=function(t,e){var i=this.findMinLMBetween(t,e);if(i!==null){var o=n.split(i);return{constraint:i,lb:o[0],rb:o[1]}}return null},n.prototype.mergeAcross=function(t,e,i){e.active=!0;for(var o=0,r=t.vars.length;o<r;++o){var s=t.vars[o];s.offset+=i,this.addVariable(s)}this.posn=this.ps.getPosn()},n.prototype.cost=function(){for(var t=0,e=this.vars.length;e--;){var i=this.vars[e],o=i.position()-i.desiredPosition;t+=o*o*i.weight}return t},n}();id.Block=f3;var g3=function(){function n(t){this.vs=t;var e=t.length;for(this.list=new Array(e);e--;){var i=new f3(t[e]);this.list[e]=i,i.blockInd=e}}return n.prototype.cost=function(){for(var t=0,e=this.list.length;e--;)t+=this.list[e].cost();return t},n.prototype.insert=function(t){t.blockInd=this.list.length,this.list.push(t)},n.prototype.remove=function(t){var e=this.list.length-1,i=this.list[e];this.list.length=e,t!==i&&(this.list[t.blockInd]=i,i.blockInd=t.blockInd)},n.prototype.merge=function(t){var e=t.left.block,i=t.right.block,o=t.right.offset-t.left.offset-t.gap;e.vars.length<i.vars.length?(i.mergeAcross(e,t,o),this.remove(e)):(e.mergeAcross(i,t,-o),this.remove(i))},n.prototype.forEach=function(t){this.list.forEach(t)},n.prototype.updateBlockPositions=function(){this.list.forEach(function(t){return t.updateWeightedPosition()})},n.prototype.split=function(t){var e=this;this.updateBlockPositions(),this.list.forEach(function(i){var o=i.findMinLM();o!==null&&o.lm<_3.LAGRANGIAN_TOLERANCE&&(i=o.left.block,f3.split(o).forEach(function(r){return e.insert(r)}),e.remove(i),t.push(o))})},n}();id.Blocks=g3;var _3=function(){function n(t,e){this.vs=t,this.cs=e,this.vs=t,t.forEach(function(i){i.cIn=[],i.cOut=[]}),this.cs=e,e.forEach(function(i){i.left.cOut.push(i),i.right.cIn.push(i)}),this.inactive=e.map(function(i){return i.active=!1,i}),this.bs=null}return n.prototype.cost=function(){return this.bs.cost()},n.prototype.setStartingPositions=function(t){this.inactive=this.cs.map(function(e){return e.active=!1,e}),this.bs=new g3(this.vs),this.bs.forEach(function(e,i){return e.posn=t[i]})},n.prototype.setDesiredPositions=function(t){this.vs.forEach(function(e,i){return e.desiredPosition=t[i]})},n.prototype.mostViolated=function(){for(var t=Number.MAX_VALUE,e=null,i=this.inactive,o=i.length,r=o,s=0;s<o;++s){var a=i[s];if(!a.unsatisfiable){var l=a.slack();if((a.equality||l<t)&&(t=l,e=a,r=s,a.equality))break}}return r!==o&&(t<n.ZERO_UPPERBOUND&&!e.active||e.equality)&&(i[r]=i[o-1],i.length=o-1),e},n.prototype.satisfy=function(){this.bs==null&&(this.bs=new g3(this.vs)),this.bs.split(this.inactive);for(var t=null;(t=this.mostViolated())&&(t.equality||t.slack()<n.ZERO_UPPERBOUND&&!t.active);){var e=t.left.block,i=t.right.block;if(e!==i)this.bs.merge(t);else{if(e.isActiveDirectedPathBetween(t.right,t.left)){t.unsatisfiable=!0;continue}var o=e.splitBetween(t.left,t.right);if(o!==null)this.bs.insert(o.lb),this.bs.insert(o.rb),this.bs.remove(e),this.inactive.push(o.constraint);else{t.unsatisfiable=!0;continue}t.slack()>=0?this.inactive.push(t):this.bs.merge(t)}}},n.prototype.solve=function(){this.satisfy();for(var t=Number.MAX_VALUE,e=this.bs.cost();Math.abs(t-e)>1e-4;)this.satisfy(),t=e,e=this.bs.cost();return e},n.LAGRANGIAN_TOLERANCE=-1e-4,n.ZERO_UPPERBOUND=-1e-10,n}();id.Solver=_3;function TWe(n,t,e){for(var i=n.map(function(g){return new UM(g.desiredCenter)}),o=[],r=n.length,s=0;s<r-1;s++){var a=n[s],l=n[s+1];o.push(new jM(i[s],i[s+1],(a.size+l.size)/2))}var c=i[0],d=i[r-1],u=n[0].size/2,h=n[r-1].size/2,m=null,f=null;t&&(m=new UM(t,c.weight*1e3),i.push(m),o.push(new jM(m,c,u))),e&&(f=new UM(e,d.weight*1e3),i.push(f),o.push(new jM(d,f,h)));var p=new _3(i,o);return p.solve(),{newCenters:i.slice(0,n.length).map(function(g){return g.position()}),lowerBound:m?m.position():c.position()-u,upperBound:f?f.position():d.position()+h}}id.removeOverlapInOneDimension=TWe});var v3=O(Wm=>{"use strict";var AWe=Wm&&Wm.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var r in o)o.hasOwnProperty(r)&&(i[r]=o[r])},n(t,e)};return function(t,e){n(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}();Object.defineProperty(Wm,"__esModule",{value:!0});var ule=function(){function n(){this.findIter=function(t){for(var e=this._root,i=this.iterator();e!==null;){var o=this._comparator(t,e.data);if(o===0)return i._cursor=e,i;i._ancestors.push(e),e=e.get_child(o>0)}return null}}return n.prototype.clear=function(){this._root=null,this.size=0},n.prototype.find=function(t){for(var e=this._root;e!==null;){var i=this._comparator(t,e.data);if(i===0)return e.data;e=e.get_child(i>0)}return null},n.prototype.lowerBound=function(t){return this._bound(t,this._comparator)},n.prototype.upperBound=function(t){var e=this._comparator;function i(o,r){return e(r,o)}return this._bound(t,i)},n.prototype.min=function(){var t=this._root;if(t===null)return null;for(;t.left!==null;)t=t.left;return t.data},n.prototype.max=function(){var t=this._root;if(t===null)return null;for(;t.right!==null;)t=t.right;return t.data},n.prototype.iterator=function(){return new hle(this)},n.prototype.each=function(t){for(var e=this.iterator(),i;(i=e.next())!==null;)t(i)},n.prototype.reach=function(t){for(var e=this.iterator(),i;(i=e.prev())!==null;)t(i)},n.prototype._bound=function(t,e){for(var i=this._root,o=this.iterator();i!==null;){var r=this._comparator(t,i.data);if(r===0)return o._cursor=i,o;o._ancestors.push(i),i=i.get_child(r>0)}for(var s=o._ancestors.length-1;s>=0;--s)if(i=o._ancestors[s],e(t,i.data)>0)return o._cursor=i,o._ancestors.length=s,o;return o._ancestors.length=0,o},n}();Wm.TreeBase=ule;var hle=function(){function n(t){this._tree=t,this._ancestors=[],this._cursor=null}return n.prototype.data=function(){return this._cursor!==null?this._cursor.data:null},n.prototype.next=function(){if(this._cursor===null){var t=this._tree._root;t!==null&&this._minNode(t)}else if(this._cursor.right===null){var e;do if(e=this._cursor,this._ancestors.length)this._cursor=this._ancestors.pop();else{this._cursor=null;break}while(this._cursor.right===e)}else this._ancestors.push(this._cursor),this._minNode(this._cursor.right);return this._cursor!==null?this._cursor.data:null},n.prototype.prev=function(){if(this._cursor===null){var t=this._tree._root;t!==null&&this._maxNode(t)}else if(this._cursor.left===null){var e;do if(e=this._cursor,this._ancestors.length)this._cursor=this._ancestors.pop();else{this._cursor=null;break}while(this._cursor.left===e)}else this._ancestors.push(this._cursor),this._maxNode(this._cursor.left);return this._cursor!==null?this._cursor.data:null},n.prototype._minNode=function(t){for(;t.left!==null;)this._ancestors.push(t),t=t.left;this._cursor=t},n.prototype._maxNode=function(t){for(;t.right!==null;)this._ancestors.push(t),t=t.right;this._cursor=t},n}();Wm.Iterator=hle;var GM=function(){function n(t){this.data=t,this.left=null,this.right=null,this.red=!0}return n.prototype.get_child=function(t){return t?this.right:this.left},n.prototype.set_child=function(t,e){t?this.right=e:this.left=e},n}(),RWe=function(n){AWe(t,n);function t(e){var i=n.call(this)||this;return i._root=null,i._comparator=e,i.size=0,i}return t.prototype.insert=function(e){var i=!1;if(this._root===null)this._root=new GM(e),i=!0,this.size++;else{var o=new GM(void 0),r=!1,s=!1,a=null,l=o,c=null,d=this._root;for(l.right=this._root;;){if(d===null?(d=new GM(e),c.set_child(r,d),i=!0,this.size++):t.is_red(d.left)&&t.is_red(d.right)&&(d.red=!0,d.left.red=!1,d.right.red=!1),t.is_red(d)&&t.is_red(c)){var u=l.right===a;d===c.get_child(s)?l.set_child(u,t.single_rotate(a,!s)):l.set_child(u,t.double_rotate(a,!s))}var h=this._comparator(d.data,e);if(h===0)break;s=r,r=h<0,a!==null&&(l=a),a=c,c=d,d=d.get_child(r)}this._root=o.right}return this._root.red=!1,i},t.prototype.remove=function(e){if(this._root===null)return!1;var i=new GM(void 0),o=i;o.right=this._root;for(var r=null,s=null,a=null,l=!0;o.get_child(l)!==null;){var c=l;s=r,r=o,o=o.get_child(l);var d=this._comparator(e,o.data);if(l=d>0,d===0&&(a=o),!t.is_red(o)&&!t.is_red(o.get_child(l))){if(t.is_red(o.get_child(!l))){var u=t.single_rotate(o,l);r.set_child(c,u),r=u}else if(!t.is_red(o.get_child(!l))){var h=r.get_child(!c);if(h!==null)if(!t.is_red(h.get_child(!c))&&!t.is_red(h.get_child(c)))r.red=!1,h.red=!0,o.red=!0;else{var m=s.right===r;t.is_red(h.get_child(c))?s.set_child(m,t.double_rotate(r,c)):t.is_red(h.get_child(!c))&&s.set_child(m,t.single_rotate(r,c));var f=s.get_child(m);f.red=!0,o.red=!0,f.left.red=!1,f.right.red=!1}}}}return a!==null&&(a.data=o.data,r.set_child(r.right===o,o.get_child(o.left===null)),this.size--),this._root=i.right,this._root!==null&&(this._root.red=!1),a!==null},t.is_red=function(e){return e!==null&&e.red},t.single_rotate=function(e,i){var o=e.get_child(!i);return e.set_child(!i,o.get_child(i)),o.set_child(i,e),e.red=!0,o.red=!1,o},t.double_rotate=function(e,i){return e.set_child(!i,t.single_rotate(e.get_child(!i),!i)),t.single_rotate(e,i)},t}(ule);Wm.RBTree=RWe});var d_=O(Hr=>{"use strict";var OWe=Hr&&Hr.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var r in o)o.hasOwnProperty(r)&&(i[r]=o[r])},n(t,e)};return function(t,e){n(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}();Object.defineProperty(Hr,"__esModule",{value:!0});var nd=qM(),PWe=v3();function Y0(n){return n.bounds=typeof n.leaves<"u"?n.leaves.reduce(function(t,e){return e.bounds.union(t)},ju.empty()):ju.empty(),typeof n.groups<"u"&&(n.bounds=n.groups.reduce(function(t,e){return Y0(e).union(t)},n.bounds)),n.bounds=n.bounds.inflate(n.padding),n.bounds}Hr.computeGroupBounds=Y0;var ju=function(){function n(t,e,i,o){this.x=t,this.X=e,this.y=i,this.Y=o}return n.empty=function(){return new n(Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY)},n.prototype.cx=function(){return(this.x+this.X)/2},n.prototype.cy=function(){return(this.y+this.Y)/2},n.prototype.overlapX=function(t){var e=this.cx(),i=t.cx();return e<=i&&t.x<this.X?this.X-t.x:i<=e&&this.x<t.X?t.X-this.x:0},n.prototype.overlapY=function(t){var e=this.cy(),i=t.cy();return e<=i&&t.y<this.Y?this.Y-t.y:i<=e&&this.y<t.Y?t.Y-this.y:0},n.prototype.setXCentre=function(t){var e=t-this.cx();this.x+=e,this.X+=e},n.prototype.setYCentre=function(t){var e=t-this.cy();this.y+=e,this.Y+=e},n.prototype.width=function(){return this.X-this.x},n.prototype.height=function(){return this.Y-this.y},n.prototype.union=function(t){return new n(Math.min(this.x,t.x),Math.max(this.X,t.X),Math.min(this.y,t.y),Math.max(this.Y,t.Y))},n.prototype.lineIntersections=function(t,e,i,o){for(var r=[[this.x,this.y,this.X,this.y],[this.X,this.y,this.X,this.Y],[this.X,this.Y,this.x,this.Y],[this.x,this.Y,this.x,this.y]],s=[],a=0;a<4;++a){var l=n.lineIntersection(t,e,i,o,r[a][0],r[a][1],r[a][2],r[a][3]);l!==null&&s.push({x:l.x,y:l.y})}return s},n.prototype.rayIntersection=function(t,e){var i=this.lineIntersections(this.cx(),this.cy(),t,e);return i.length>0?i[0]:null},n.prototype.vertices=function(){return[{x:this.x,y:this.y},{x:this.X,y:this.y},{x:this.X,y:this.Y},{x:this.x,y:this.Y}]},n.lineIntersection=function(t,e,i,o,r,s,a,l){var c=i-t,d=a-r,u=o-e,h=l-s,m=h*c-d*u;if(m==0)return null;var f=t-r,p=e-s,g=d*p-h*f,v=g/m,b=c*p-u*f,C=b/m;return v>=0&&v<=1&&C>=0&&C<=1?{x:t+v*c,y:e+v*u}:null},n.prototype.inflate=function(t){return new n(this.x-t,this.X+t,this.y-t,this.Y+t)},n}();Hr.Rectangle=ju;function LWe(n,t,e){var i=n.rayIntersection(t.cx(),t.cy())||{x:n.cx(),y:n.cy()},o=t.rayIntersection(n.cx(),n.cy())||{x:t.cx(),y:t.cy()},r=o.x-i.x,s=o.y-i.y,a=Math.sqrt(r*r+s*s),l=a-e;return{sourceIntersection:i,targetIntersection:o,arrowStart:{x:i.x+l*r/a,y:i.y+l*s/a}}}Hr.makeEdgeBetween=LWe;function NWe(n,t,e){var i=t.rayIntersection(n.x,n.y);i||(i={x:t.cx(),y:t.cy()});var o=i.x-n.x,r=i.y-n.y,s=Math.sqrt(o*o+r*r);return{x:i.x-e*o/s,y:i.y-e*r/s}}Hr.makeEdgeTo=NWe;var FWe=function(){function n(t,e,i){this.v=t,this.r=e,this.pos=i,this.prev=b3(),this.next=b3()}return n}(),mle=function(){function n(t,e,i){this.isOpen=t,this.v=e,this.pos=i}return n}();function zWe(n,t){return n.pos>t.pos?1:n.pos<t.pos||n.isOpen?-1:t.isOpen?1:0}function b3(){return new PWe.RBTree(function(n,t){return n.pos-t.pos})}var ple={getCentre:function(n){return n.cx()},getOpen:function(n){return n.y},getClose:function(n){return n.Y},getSize:function(n){return n.width()},makeRect:function(n,t,e,i){return new ju(e-i/2,e+i/2,n,t)},findNeighbours:BWe},fle={getCentre:function(n){return n.cy()},getOpen:function(n){return n.x},getClose:function(n){return n.X},getSize:function(n){return n.height()},makeRect:function(n,t,e,i){return new ju(n,t,e-i/2,e+i/2)},findNeighbours:HWe};function y3(n,t,e,i){i===void 0&&(i=!1);var o=n.padding,r=typeof n.groups<"u"?n.groups.length:0,s=typeof n.leaves<"u"?n.leaves.length:0,a=r?n.groups.reduce(function(E,F){return E.concat(y3(F,t,e,!0))},[]):[],l=(i?2:0)+s+r,c=new Array(l),d=new Array(l),u=0,h=function(E,F){d[u]=E,c[u++]=F};if(i){var m=n.bounds,f=t.getCentre(m),p=t.getSize(m)/2,g=t.getOpen(m),v=t.getClose(m),b=f-p+o/2,C=f+p-o/2;n.minVar.desiredPosition=b,h(t.makeRect(g,v,b,o),n.minVar),n.maxVar.desiredPosition=C,h(t.makeRect(g,v,C,o),n.maxVar)}s&&n.leaves.forEach(function(E){return h(E.bounds,E.variable)}),r&&n.groups.forEach(function(E){var F=E.bounds;h(t.makeRect(t.getOpen(F),t.getClose(F),t.getCentre(F),t.getSize(F)),E.minVar)});var T=x3(d,c,t,e);return r&&(c.forEach(function(E){E.cOut=[],E.cIn=[]}),T.forEach(function(E){E.left.cOut.push(E),E.right.cIn.push(E)}),n.groups.forEach(function(E){var F=(E.padding-t.getSize(E.bounds))/2;E.minVar.cIn.forEach(function(L){return L.gap+=F}),E.minVar.cOut.forEach(function(L){L.left=E.maxVar,L.gap+=F})})),a.concat(T)}function x3(n,t,e,i){var o,r=n.length,s=2*r;console.assert(t.length>=r);var a=new Array(s);for(o=0;o<r;++o){var l=n[o],c=new FWe(t[o],l,e.getCentre(l));a[o]=new mle(!0,c,e.getOpen(l)),a[o+r]=new mle(!1,c,e.getClose(l))}a.sort(zWe);var d=new Array,u=b3();for(o=0;o<s;++o){var h=a[o],c=h.v;if(h.isOpen)u.insert(c),e.findNeighbours(c,u);else{u.remove(c);var m=function(g,v){var b=(e.getSize(g.r)+e.getSize(v.r))/2+i;d.push(new nd.Constraint(g.v,v.v,b))},f=function(g,v,b){for(var C,T=c[g].iterator();(C=T[g]())!==null;)b(C,c),C[v].remove(c)};f("prev","next",function(g,v){return m(g,v)}),f("next","prev",function(g,v){return m(v,g)})}}return console.assert(u.size===0),d}function BWe(n,t){var e=function(i,o){for(var r=t.findIter(n),s;(s=r[i]())!==null;){var a=s.r.overlapX(n.r);if((a<=0||a<=s.r.overlapY(n.r))&&(n[i].insert(s),s[o].insert(n)),a<=0)break}};e("next","prev"),e("prev","next")}function HWe(n,t){var e=function(i,o){var r=t.findIter(n)[i]();r!==null&&r.r.overlapX(n.r)>0&&(n[i].insert(r),r[o].insert(n))};e("next","prev"),e("prev","next")}function gle(n,t){return x3(n,t,ple,1e-6)}Hr.generateXConstraints=gle;function _le(n,t){return x3(n,t,fle,1e-6)}Hr.generateYConstraints=_le;function vle(n){return y3(n,ple,1e-6)}Hr.generateXGroupConstraints=vle;function ble(n){return y3(n,fle,1e-6)}Hr.generateYGroupConstraints=ble;function VWe(n){var t=n.map(function(o){return new nd.Variable(o.cx())}),e=gle(n,t),i=new nd.Solver(t,e);i.solve(),t.forEach(function(o,r){return n[r].setXCentre(o.position())}),t=n.map(function(o){return new nd.Variable(o.cy())}),e=_le(n,t),i=new nd.Solver(t,e),i.solve(),t.forEach(function(o,r){return n[r].setYCentre(o.position())})}Hr.removeOverlaps=VWe;var $M=function(n){OWe(t,n);function t(e,i){var o=n.call(this,0,i)||this;return o.index=e,o}return t}(nd.Variable);Hr.IndexedVariable=$M;var WWe=function(){function n(t,e,i,o,r){var s=this;if(i===void 0&&(i=null),o===void 0&&(o=null),r===void 0&&(r=!1),this.nodes=t,this.groups=e,this.rootGroup=i,this.avoidOverlaps=r,this.variables=t.map(function(l,c){return l.variable=new $M(c,1)}),o&&this.createConstraints(o),r&&i&&typeof i.groups<"u"){t.forEach(function(l){if(!l.width||!l.height){l.bounds=new ju(l.x,l.x,l.y,l.y);return}var c=l.width/2,d=l.height/2;l.bounds=new ju(l.x-c,l.x+c,l.y-d,l.y+d)}),Y0(i);var a=t.length;e.forEach(function(l){s.variables[a]=l.minVar=new $M(a++,typeof l.stiffness<"u"?l.stiffness:.01),s.variables[a]=l.maxVar=new $M(a++,typeof l.stiffness<"u"?l.stiffness:.01)})}}return n.prototype.createSeparation=function(t){return new nd.Constraint(this.nodes[t.left].variable,this.nodes[t.right].variable,t.gap,typeof t.equality<"u"?t.equality:!1)},n.prototype.makeFeasible=function(t){var e=this;if(this.avoidOverlaps){var i="x",o="width";t.axis==="x"&&(i="y",o="height");var r=t.offsets.map(function(a){return e.nodes[a.node]}).sort(function(a,l){return a[i]-l[i]}),s=null;r.forEach(function(a){if(s){var l=s[i]+s[o];l>a[i]&&(a[i]=l)}s=a})}},n.prototype.createAlignment=function(t){var e=this,i=this.nodes[t.offsets[0].node].variable;this.makeFeasible(t);var o=t.axis==="x"?this.xConstraints:this.yConstraints;t.offsets.slice(1).forEach(function(r){var s=e.nodes[r.node].variable;o.push(new nd.Constraint(i,s,r.offset,!0))})},n.prototype.createConstraints=function(t){var e=this,i=function(o){return typeof o.type>"u"||o.type==="separation"};this.xConstraints=t.filter(function(o){return o.axis==="x"&&i(o)}).map(function(o){return e.createSeparation(o)}),this.yConstraints=t.filter(function(o){return o.axis==="y"&&i(o)}).map(function(o){return e.createSeparation(o)}),t.filter(function(o){return o.type==="alignment"}).forEach(function(o){return e.createAlignment(o)})},n.prototype.setupVariablesAndBounds=function(t,e,i,o){this.nodes.forEach(function(r,s){r.fixed?(r.variable.weight=r.fixedWeight?r.fixedWeight:1e3,i[s]=o(r)):r.variable.weight=1;var a=(r.width||0)/2,l=(r.height||0)/2,c=t[s],d=e[s];r.bounds=new ju(c-a,c+a,d-l,d+l)})},n.prototype.xProject=function(t,e,i){!this.rootGroup&&!(this.avoidOverlaps||this.xConstraints)||this.project(t,e,t,i,function(o){return o.px},this.xConstraints,vle,function(o){return o.bounds.setXCentre(i[o.variable.index]=o.variable.position())},function(o){var r=i[o.minVar.index]=o.minVar.position(),s=i[o.maxVar.index]=o.maxVar.position(),a=o.padding/2;o.bounds.x=r-a,o.bounds.X=s+a})},n.prototype.yProject=function(t,e,i){!this.rootGroup&&!this.yConstraints||this.project(t,e,e,i,function(o){return o.py},this.yConstraints,ble,function(o){return o.bounds.setYCentre(i[o.variable.index]=o.variable.position())},function(o){var r=i[o.minVar.index]=o.minVar.position(),s=i[o.maxVar.index]=o.maxVar.position(),a=o.padding/2;o.bounds.y=r-a,o.bounds.Y=s+a})},n.prototype.projectFunctions=function(){var t=this;return[function(e,i,o){return t.xProject(e,i,o)},function(e,i,o){return t.yProject(e,i,o)}]},n.prototype.project=function(t,e,i,o,r,s,a,l,c){this.setupVariablesAndBounds(t,e,o,r),this.rootGroup&&this.avoidOverlaps&&(Y0(this.rootGroup),s=s.concat(a(this.rootGroup))),this.solve(this.variables,s,i,o),this.nodes.forEach(l),this.rootGroup&&this.avoidOverlaps&&(this.groups.forEach(c),Y0(this.rootGroup))},n.prototype.solve=function(t,e,i,o){var r=new nd.Solver(t,e);r.setStartingPositions(i),r.setDesiredPositions(o),r.solve()},n}();Hr.Projection=WWe});var w3=O(KM=>{"use strict";Object.defineProperty(KM,"__esModule",{value:!0});var yle=function(){function n(t){this.elem=t,this.subheaps=[]}return n.prototype.toString=function(t){for(var e="",i=!1,o=0;o<this.subheaps.length;++o){var r=this.subheaps[o];if(!r.elem){i=!1;continue}i&&(e=e+","),e=e+r.toString(t),i=!0}return e!==""&&(e="("+e+")"),(this.elem?t(this.elem):"")+e},n.prototype.forEach=function(t){this.empty()||(t(this.elem,this),this.subheaps.forEach(function(e){return e.forEach(t)}))},n.prototype.count=function(){return this.empty()?0:1+this.subheaps.reduce(function(t,e){return t+e.count()},0)},n.prototype.min=function(){return this.elem},n.prototype.empty=function(){return this.elem==null},n.prototype.contains=function(t){if(this===t)return!0;for(var e=0;e<this.subheaps.length;e++)if(this.subheaps[e].contains(t))return!0;return!1},n.prototype.isHeap=function(t){var e=this;return this.subheaps.every(function(i){return t(e.elem,i.elem)&&i.isHeap(t)})},n.prototype.insert=function(t,e){return this.merge(new n(t),e)},n.prototype.merge=function(t,e){return this.empty()?t:t.empty()?this:e(this.elem,t.elem)?(this.subheaps.push(t),this):(t.subheaps.push(this),t)},n.prototype.removeMin=function(t){return this.empty()?null:this.mergePairs(t)},n.prototype.mergePairs=function(t){if(this.subheaps.length==0)return new n(null);if(this.subheaps.length==1)return this.subheaps[0];var e=this.subheaps.pop().merge(this.subheaps.pop(),t),i=this.mergePairs(t);return e.merge(i,t)},n.prototype.decreaseKey=function(t,e,i,o){var r=t.removeMin(o);t.elem=r.elem,t.subheaps=r.subheaps,i!==null&&r.elem!==null&&i(t.elem,t);var s=new n(e);return i!==null&&i(e,s),this.merge(s,o)},n}();KM.PairingHeap=yle;var jWe=function(){function n(t){this.lessThan=t}return n.prototype.top=function(){return this.empty()?null:this.root.elem},n.prototype.push=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var i,o=0,r;r=t[o];++o)i=new yle(r),this.root=this.empty()?i:this.root.merge(i,this.lessThan);return i},n.prototype.empty=function(){return!this.root||!this.root.elem},n.prototype.isHeap=function(){return this.root.isHeap(this.lessThan)},n.prototype.forEach=function(t){this.root.forEach(t)},n.prototype.pop=function(){if(this.empty())return null;var t=this.root.min();return this.root=this.root.removeMin(this.lessThan),t},n.prototype.reduceKey=function(t,e,i){i===void 0&&(i=null),this.root=this.root.decreaseKey(t,e,i,this.lessThan)},n.prototype.toString=function(t){return this.root.toString(t)},n.prototype.count=function(){return this.root.count()},n}();KM.PriorityQueue=jWe});var X0=O(C3=>{"use strict";Object.defineProperty(C3,"__esModule",{value:!0});var xle=w3(),wle=function(){function n(t,e){this.id=t,this.distance=e}return n}(),UWe=function(){function n(t){this.id=t,this.neighbours=[]}return n}(),Cle=function(){function n(t,e,i){this.node=t,this.prev=e,this.d=i}return n}(),qWe=function(){function n(t,e,i,o,r){this.n=t,this.es=e,this.neighbours=new Array(this.n);for(var s=this.n;s--;)this.neighbours[s]=new UWe(s);for(s=this.es.length;s--;){var a=this.es[s],l=i(a),c=o(a),d=r(a);this.neighbours[l].neighbours.push(new wle(c,d)),this.neighbours[c].neighbours.push(new wle(l,d))}}return n.prototype.DistanceMatrix=function(){for(var t=new Array(this.n),e=0;e<this.n;++e)t[e]=this.dijkstraNeighbours(e);return t},n.prototype.DistancesFromNode=function(t){return this.dijkstraNeighbours(t)},n.prototype.PathFromNodeToNode=function(t,e){return this.dijkstraNeighbours(t,e)},n.prototype.PathFromNodeToNodeWithPrevCost=function(t,e,i){var o=new xle.PriorityQueue(function(p,g){return p.d<=g.d}),r=this.neighbours[t],s=new Cle(r,null,0),a={};for(o.push(s);!o.empty()&&(s=o.pop(),r=s.node,r.id!==e);)for(var l=r.neighbours.length;l--;){var c=r.neighbours[l],d=this.neighbours[c.id];if(!(s.prev&&d.id===s.prev.node.id)){var u=d.id+","+r.id;if(!(u in a&&a[u]<=s.d)){var h=s.prev?i(s.prev.node.id,r.id,d.id):0,m=s.d+c.distance+h;a[u]=m,o.push(new Cle(d,s,m))}}}for(var f=[];s.prev;)s=s.prev,f.push(s.node.id);return f},n.prototype.dijkstraNeighbours=function(t,e){e===void 0&&(e=-1);for(var i=new xle.PriorityQueue(function(h,m){return h.d<=m.d}),o=this.neighbours.length,r=new Array(o);o--;){var s=this.neighbours[o];s.d=o===t?0:Number.POSITIVE_INFINITY,s.q=i.push(s)}for(;!i.empty();){var a=i.pop();if(r[a.id]=a.d,a.id===e){for(var l=[],c=a;typeof c.prev<"u";)l.push(c.prev.id),c=c.prev;return l}for(o=a.neighbours.length;o--;){var d=a.neighbours[o],c=this.neighbours[d.id],u=a.d+d.distance;a.d!==Number.MAX_VALUE&&c.d>u&&(c.d=u,c.prev=a,i.reduceKey(c.q,c,function(m,f){return m.q=f}))}}return r},n}();C3.Calculator=qWe});var E3=O(zn=>{"use strict";var Ile=zn&&zn.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var r in o)o.hasOwnProperty(r)&&(i[r]=o[r])},n(t,e)};return function(t,e){n(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}();Object.defineProperty(zn,"__esModule",{value:!0});var GWe=d_(),I3=function(){function n(){}return n}();zn.Point=I3;var D3=function(){function n(t,e,i,o){this.x1=t,this.y1=e,this.x2=i,this.y2=o}return n}();zn.LineSegment=D3;var $We=function(n){Ile(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t}(I3);zn.PolyPoint=$We;function ks(n,t,e){return(t.x-n.x)*(e.y-n.y)-(e.x-n.x)*(t.y-n.y)}zn.isLeft=ks;function Za(n,t,e){return ks(n,t,e)>0}function sa(n,t,e){return ks(n,t,e)<0}function KWe(n){var t=n.slice(0).sort(function(h,m){return h.x!==m.x?m.x-h.x:m.y-h.y}),e=n.length,i,o=0,r=t[0].x;for(i=1;i<e&&t[i].x===r;++i);var s=i-1,a=[];if(a.push(t[o]),s===e-1)t[s].y!==t[o].y&&a.push(t[s]);else{var l,c=e-1,d=t[e-1].x;for(i=e-2;i>=0&&t[i].x===d;i--);for(l=i+1,i=s;++i<=l;)if(!(ks(t[o],t[l],t[i])>=0&&i<l)){for(;a.length>1&&!(ks(a[a.length-2],a[a.length-1],t[i])>0);)a.length-=1;i!=o&&a.push(t[i])}c!=l&&a.push(t[c]);var u=a.length;for(i=l;--i>=s;)if(!(ks(t[c],t[s],t[i])>=0&&i>s)){for(;a.length>u&&!(ks(a[a.length-2],a[a.length-1],t[i])>0);)a.length-=1;i!=o&&a.push(t[i])}}return a}zn.ConvexHull=KWe;function YWe(n,t,e){t.slice(0).sort(function(i,o){return Math.atan2(i.y-n.y,i.x-n.x)-Math.atan2(o.y-n.y,o.x-n.x)}).forEach(e)}zn.clockwiseRadialSweep=YWe;function XWe(n,t){var e=t.slice(0);return e.push(t[0]),{rtan:XM(n,e),ltan:ZM(n,e)}}function XM(n,t){var e=t.length-1,i,o,r,s,a;if(sa(n,t[1],t[0])&&!Za(n,t[e-1],t[0]))return 0;for(i=0,o=e;;){if(o-i===1)return Za(n,t[i],t[o])?i:o;if(r=Math.floor((i+o)/2),a=sa(n,t[r+1],t[r]),a&&!Za(n,t[r-1],t[r]))return r;s=Za(n,t[i+1],t[i]),s?a||Za(n,t[i],t[r])?o=r:i=r:a&&sa(n,t[i],t[r])?o=r:i=r}}function ZM(n,t){var e=t.length-1,i,o,r,s,a;if(Za(n,t[e-1],t[0])&&!sa(n,t[1],t[0]))return 0;for(i=0,o=e;;){if(o-i===1)return sa(n,t[i],t[o])?i:o;if(r=Math.floor((i+o)/2),a=sa(n,t[r+1],t[r]),Za(n,t[r-1],t[r])&&!a)return r;s=sa(n,t[i+1],t[i]),s?a?sa(n,t[i],t[r])?o=r:i=r:o=r:a?i=r:Za(n,t[i],t[r])?o=r:i=r}}function QM(n,t,e,i,o,r){var s,a;s=e(t[0],n),a=i(n[s],t);for(var l=!1;!l;){for(l=!0;s===n.length-1&&(s=0),!o(t[a],n[s],n[s+1]);)++s;for(;a===0&&(a=t.length-1),!r(n[s],t[a],t[a-1]);)--a,l=!1}return{t1:s,t2:a}}zn.tangent_PolyPolyC=QM;function ZWe(n,t){var e=Dle(t,n);return{t1:e.t2,t2:e.t1}}zn.LRtangent_PolyPolyC=ZWe;function Dle(n,t){return QM(n,t,XM,ZM,Za,sa)}zn.RLtangent_PolyPolyC=Dle;function QWe(n,t){return QM(n,t,ZM,ZM,sa,sa)}zn.LLtangent_PolyPolyC=QWe;function JWe(n,t){return QM(n,t,XM,XM,Za,Za)}zn.RRtangent_PolyPolyC=JWe;var Z0=function(){function n(t,e){this.t1=t,this.t2=e}return n}();zn.BiTangent=Z0;var Ele=function(){function n(){}return n}();zn.BiTangents=Ele;var eje=function(n){Ile(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t}(I3);zn.TVGPoint=eje;var S3=function(){function n(t,e,i,o){this.id=t,this.polyid=e,this.polyvertid=i,this.p=o,o.vv=this}return n}();zn.VisibilityVertex=S3;var YM=function(){function n(t,e){this.source=t,this.target=e}return n.prototype.length=function(){var t=this.source.p.x-this.target.p.x,e=this.source.p.y-this.target.p.y;return Math.sqrt(t*t+e*e)},n}();zn.VisibilityEdge=YM;var tje=function(){function n(t,e){if(this.P=t,this.V=[],this.E=[],e)this.V=e.V.slice(0),this.E=e.E.slice(0);else{for(var i=t.length,o=0;o<i;o++){for(var r=t[o],s=0;s<r.length;++s){var a=r[s],l=new S3(this.V.length,o,s,a);this.V.push(l),s>0&&this.E.push(new YM(r[s-1].vv,l))}r.length>1&&this.E.push(new YM(r[0].vv,r[r.length-1].vv))}for(var o=0;o<i-1;o++)for(var c=t[o],s=o+1;s<i;s++){var d=t[s],u=Mle(c,d);for(var h in u){var m=u[h],f=c[m.t1],p=d[m.t2];this.addEdgeIfVisible(f,p,o,s)}}}}return n.prototype.addEdgeIfVisible=function(t,e,i,o){this.intersectsPolys(new D3(t.x,t.y,e.x,e.y),i,o)||this.E.push(new YM(t.vv,e.vv))},n.prototype.addPoint=function(t,e){var i=this.P.length;this.V.push(new S3(this.V.length,i,0,t));for(var o=0;o<i;++o)if(o!==e){var r=this.P[o],s=XWe(t,r);this.addEdgeIfVisible(t,r[s.ltan],e,o),this.addEdgeIfVisible(t,r[s.rtan],e,o)}return t.vv},n.prototype.intersectsPolys=function(t,e,i){for(var o=0,r=this.P.length;o<r;++o)if(o!=e&&o!=i&&kle(t,this.P[o]).length>0)return!0;return!1},n}();zn.TangentVisibilityGraph=tje;function kle(n,t){for(var e=[],i=1,o=t.length;i<o;++i){var r=GWe.Rectangle.lineIntersection(n.x1,n.y1,n.x2,n.y2,t[i-1].x,t[i-1].y,t[i].x,t[i].y);r&&e.push(r)}return e}function Mle(n,t){for(var e=n.length-1,i=t.length-1,o=new Ele,r=0;r<e;++r)for(var s=0;s<i;++s){var a=n[r==0?e-1:r-1],l=n[r],c=n[r+1],d=t[s==0?i-1:s-1],u=t[s],h=t[s+1],m=ks(a,l,u),f=ks(l,d,u),p=ks(l,u,h),g=ks(d,u,l),v=ks(u,a,l),b=ks(u,l,c);m>=0&&f>=0&&p<0&&g>=0&&v>=0&&b<0?o.ll=new Z0(r,s):m<=0&&f<=0&&p>0&&g<=0&&v<=0&&b>0?o.rr=new Z0(r,s):m<=0&&f>0&&p<=0&&g>=0&&v<0&&b>=0?o.rl=new Z0(r,s):m>=0&&f<0&&p>=0&&g<=0&&v>0&&b<=0&&(o.lr=new Z0(r,s))}return o}zn.tangents=Mle;function ije(n,t){for(var e=1,i=t.length;e<i;++e)if(sa(t[e-1],t[e],n))return!1;return!0}function Sle(n,t){return!n.every(function(e){return!ije(e,t)})}function nje(n,t){if(Sle(n,t)||Sle(t,n))return!0;for(var e=1,i=n.length;e<i;++e){var o=n[e],r=n[e-1];if(kle(new D3(r.x,r.y,o.x,o.y),t).length>0)return!0}return!1}zn.polysOverlap=nje});var k3=O(JM=>{"use strict";Object.defineProperty(JM,"__esModule",{value:!0});var aa={PADDING:10,GOLDEN_SECTION:(1+Math.sqrt(5))/2,FLOAT_EPSILON:1e-4,MAX_INERATIONS:100};function oje(n,t,e,u,d,r){d===void 0&&(d=1),r===void 0&&(r=!0);var s=0,a=0,l=t,c=e,d=typeof d<"u"?d:1,u=typeof u<"u"?u:0,h=0,m=0,f=0,p=0,g=[];if(n.length==0)return;v(n),C(n,d),r&&b(n);function v(H){H.forEach(function(R){re(R)});function re(R){var W=Number.MAX_VALUE,D=Number.MAX_VALUE,ne=0,Dt=0;R.array.forEach(function(_e){var Et=typeof _e.width<"u"?_e.width:u,Se=typeof _e.height<"u"?_e.height:u;Et/=2,Se/=2,ne=Math.max(_e.x+Et,ne),W=Math.min(_e.x-Et,W),Dt=Math.max(_e.y+Se,Dt),D=Math.min(_e.y-Se,D)}),R.width=ne-W,R.height=Dt-D}}function b(H){H.forEach(function(re){var R={x:0,y:0};re.array.forEach(function(ne){R.x+=ne.x,R.y+=ne.y}),R.x/=re.array.length,R.y/=re.array.length;var W={x:R.x-re.width/2,y:R.y-re.height/2},D={x:re.x-W.x+l/2-h/2,y:re.y-W.y+c/2-m/2};re.array.forEach(function(ne){ne.x+=D.x,ne.y+=D.y})})}function C(H,re){var R=Number.POSITIVE_INFINITY,W=0;H.sort(function(it,$e){return $e.height-it.height}),f=H.reduce(function(it,$e){return it.width<$e.width?it.width:$e.width});for(var D=J=f,ne=ft=F(H),Dt=0,_e=Number.MAX_VALUE,Et=Number.MAX_VALUE,Se=-1,Ft=Number.MAX_VALUE,oe=Number.MAX_VALUE;Ft>f||oe>aa.FLOAT_EPSILON;){if(Se!=1)var J=ne-(ne-D)/aa.GOLDEN_SECTION,_e=T(H,J);if(Se!=0)var ft=D+(ne-D)/aa.GOLDEN_SECTION,Et=T(H,ft);if(Ft=Math.abs(J-ft),oe=Math.abs(_e-Et),_e<R&&(R=_e,W=J),Et<R&&(R=Et,W=ft),_e>Et?(D=J,J=ft,_e=Et,Se=1):(ne=ft,ft=J,Et=_e,Se=0),Dt++>100)break}T(H,W)}function T(H,re){g=[],h=0,m=0,p=a;for(var R=0;R<H.length;R++){var W=H[R];E(W,re)}return Math.abs(L()-d)}function E(H,re){for(var R=void 0,W=0;W<g.length;W++)if(g[W].space_left>=H.height&&g[W].x+g[W].width+H.width+aa.PADDING-re<=aa.FLOAT_EPSILON){R=g[W];break}g.push(H),R!==void 0?(H.x=R.x+R.width+aa.PADDING,H.y=R.bottom,H.space_left=H.height,H.bottom=H.y,R.space_left-=H.height+aa.PADDING,R.bottom+=H.height+aa.PADDING):(H.y=p,p+=H.height+aa.PADDING,H.x=s,H.bottom=H.y,H.space_left=H.height),H.y+H.height-m>-aa.FLOAT_EPSILON&&(m=H.y+H.height-a),H.x+H.width-h>-aa.FLOAT_EPSILON&&(h=H.x+H.width-s)}function F(H){var re=0;return H.forEach(function(R){return re+=R.width+aa.PADDING}),re}function L(){return h/m}}JM.applyPacking=oje;function rje(n,t){for(var e={},i={},o=[],r=0,s=0;s<t.length;s++){var a=t[s],l=a.source,c=a.target;i[l.index]?i[l.index].push(c):i[l.index]=[c],i[c.index]?i[c.index].push(l):i[c.index]=[l]}for(var s=0;s<n.length;s++){var d=n[s];e[d.index]||u(d,!0)}function u(h,m){if(e[h.index]===void 0){m&&(r++,o.push({array:[]})),e[h.index]=r,o[r-1].array.push(h);var f=i[h.index];if(f)for(var p=0;p<f.length;p++)u(f[p],!1)}}return o}JM.separateGraphs=rje});var u_=O(J0=>{"use strict";Object.defineProperty(J0,"__esModule",{value:!0});var sje=p3(),M3=VM(),eT=WM(),tT=d_(),Tle=X0(),Ale=E3(),Rle=k3(),Q0;(function(n){n[n.start=0]="start",n[n.tick=1]="tick",n[n.end=2]="end"})(Q0=J0.EventType||(J0.EventType={}));function iT(n){return typeof n.leaves<"u"||typeof n.groups<"u"}var aje=function(){function n(){var t=this;this._canvasSize=[1,1],this._linkDistance=20,this._defaultNodeSize=10,this._linkLengthCalculator=null,this._linkType=null,this._avoidOverlaps=!1,this._handleDisconnected=!0,this._running=!1,this._nodes=[],this._groups=[],this._rootGroup=null,this._links=[],this._constraints=[],this._distanceMatrix=null,this._descent=null,this._directedLinkConstraints=null,this._threshold=.01,this._visibilityGraph=null,this._groupCompactness=1e-6,this.event=null,this.linkAccessor={getSourceIndex:n.getSourceIndex,getTargetIndex:n.getTargetIndex,setLength:n.setLinkLength,getType:function(e){return typeof t._linkType=="function"?t._linkType(e):0}}}return n.prototype.on=function(t,e){return this.event||(this.event={}),typeof t=="string"?this.event[Q0[t]]=e:this.event[t]=e,this},n.prototype.trigger=function(t){this.event&&typeof this.event[t.type]<"u"&&this.event[t.type](t)},n.prototype.kick=function(){for(;!this.tick(););},n.prototype.tick=function(){if(this._alpha<this._threshold)return this._running=!1,this.trigger({type:Q0.end,alpha:this._alpha=0,stress:this._lastStress}),!0;var t=this._nodes.length,e=this._links.length,i,o;for(this._descent.locks.clear(),o=0;o<t;++o)if(i=this._nodes[o],i.fixed){(typeof i.px>"u"||typeof i.py>"u")&&(i.px=i.x,i.py=i.y);var r=[i.px,i.py];this._descent.locks.add(o,r)}var s=this._descent.rungeKutta();return s===0?this._alpha=0:typeof this._lastStress<"u"&&(this._alpha=s),this._lastStress=s,this.updateNodePositions(),this.trigger({type:Q0.tick,alpha:this._alpha,stress:this._lastStress}),!1},n.prototype.updateNodePositions=function(){for(var t=this._descent.x[0],e=this._descent.x[1],i,o=this._nodes.length;o--;)i=this._nodes[o],i.x=t[o],i.y=e[o]},n.prototype.nodes=function(t){if(!t){if(this._nodes.length===0&&this._links.length>0){var e=0;this._links.forEach(function(o){e=Math.max(e,o.source,o.target)}),this._nodes=new Array(++e);for(var i=0;i<e;++i)this._nodes[i]={}}return this._nodes}return this._nodes=t,this},n.prototype.groups=function(t){var e=this;return t?(this._groups=t,this._rootGroup={},this._groups.forEach(function(i){typeof i.padding>"u"&&(i.padding=1),typeof i.leaves<"u"&&i.leaves.forEach(function(o,r){typeof o=="number"&&((i.leaves[r]=e._nodes[o]).parent=i)}),typeof i.groups<"u"&&i.groups.forEach(function(o,r){typeof o=="number"&&((i.groups[r]=e._groups[o]).parent=i)})}),this._rootGroup.leaves=this._nodes.filter(function(i){return typeof i.parent>"u"}),this._rootGroup.groups=this._groups.filter(function(i){return typeof i.parent>"u"}),this):this._groups},n.prototype.powerGraphGroups=function(t){var e=sje.getGroups(this._nodes,this._links,this.linkAccessor,this._rootGroup);return this.groups(e.groups),t(e),this},n.prototype.avoidOverlaps=function(t){return arguments.length?(this._avoidOverlaps=t,this):this._avoidOverlaps},n.prototype.handleDisconnected=function(t){return arguments.length?(this._handleDisconnected=t,this):this._handleDisconnected},n.prototype.flowLayout=function(t,e){return arguments.length||(t="y"),this._directedLinkConstraints={axis:t,getMinSeparation:typeof e=="number"?function(){return e}:e},this},n.prototype.links=function(t){return arguments.length?(this._links=t,this):this._links},n.prototype.constraints=function(t){return arguments.length?(this._constraints=t,this):this._constraints},n.prototype.distanceMatrix=function(t){return arguments.length?(this._distanceMatrix=t,this):this._distanceMatrix},n.prototype.size=function(t){return t?(this._canvasSize=t,this):this._canvasSize},n.prototype.defaultNodeSize=function(t){return t?(this._defaultNodeSize=t,this):this._defaultNodeSize},n.prototype.groupCompactness=function(t){return t?(this._groupCompactness=t,this):this._groupCompactness},n.prototype.linkDistance=function(t){return t?(this._linkDistance=typeof t=="function"?t:+t,this._linkLengthCalculator=null,this):this._linkDistance},n.prototype.linkType=function(t){return this._linkType=t,this},n.prototype.convergenceThreshold=function(t){return t?(this._threshold=typeof t=="function"?t:+t,this):this._threshold},n.prototype.alpha=function(t){return arguments.length?(t=+t,this._alpha?t>0?this._alpha=t:this._alpha=0:t>0&&(this._running||(this._running=!0,this.trigger({type:Q0.start,alpha:this._alpha=t}),this.kick())),this):this._alpha},n.prototype.getLinkLength=function(t){return typeof this._linkDistance=="function"?+this._linkDistance(t):this._linkDistance},n.setLinkLength=function(t,e){t.length=e},n.prototype.getLinkType=function(t){return typeof this._linkType=="function"?this._linkType(t):0},n.prototype.symmetricDiffLinkLengths=function(t,e){var i=this;return e===void 0&&(e=1),this.linkDistance(function(o){return t*o.length}),this._linkLengthCalculator=function(){return M3.symmetricDiffLinkLengths(i._links,i.linkAccessor,e)},this},n.prototype.jaccardLinkLengths=function(t,e){var i=this;return e===void 0&&(e=1),this.linkDistance(function(o){return t*o.length}),this._linkLengthCalculator=function(){return M3.jaccardLinkLengths(i._links,i.linkAccessor,e)},this},n.prototype.start=function(t,e,i,o,r,s){var a=this;t===void 0&&(t=0),e===void 0&&(e=0),i===void 0&&(i=0),o===void 0&&(o=0),r===void 0&&(r=!0),s===void 0&&(s=!0);var l,c,d=this.nodes().length,u=d+2*this._groups.length,h=this._links.length,m=this._canvasSize[0],f=this._canvasSize[1],p=new Array(u),g=new Array(u),v=null,b=this._avoidOverlaps;this._nodes.forEach(function(R,W){R.index=W,typeof R.x>"u"&&(R.x=m/2,R.y=f/2),p[W]=R.x,g[W]=R.y}),this._linkLengthCalculator&&this._linkLengthCalculator();var C;this._distanceMatrix?C=this._distanceMatrix:(C=new Tle.Calculator(u,this._links,n.getSourceIndex,n.getTargetIndex,function(R){return a.getLinkLength(R)}).DistanceMatrix(),v=eT.Descent.createSquareMatrix(u,function(){return 2}),this._links.forEach(function(R){typeof R.source=="number"&&(R.source=a._nodes[R.source]),typeof R.target=="number"&&(R.target=a._nodes[R.target])}),this._links.forEach(function(R){var W=n.getSourceIndex(R),D=n.getTargetIndex(R);v[W][D]=v[D][W]=R.weight||1}));var T=eT.Descent.createSquareMatrix(u,function(R,W){return C[R][W]});if(this._rootGroup&&typeof this._rootGroup.groups<"u"){var l=d,E=function(W,D,ne,Dt){v[W][D]=v[D][W]=ne,T[W][D]=T[D][W]=Dt};this._groups.forEach(function(W){E(l,l+1,a._groupCompactness,.1),p[l]=0,g[l++]=0,p[l]=0,g[l++]=0})}else this._rootGroup={leaves:this._nodes,groups:[]};var F=this._constraints||[];this._directedLinkConstraints&&(this.linkAccessor.getMinSeparation=this._directedLinkConstraints.getMinSeparation,F=F.concat(M3.generateDirectedEdgeConstraints(d,this._links,this._directedLinkConstraints.axis,this.linkAccessor))),this.avoidOverlaps(!1),this._descent=new eT.Descent([p,g],T),this._descent.locks.clear();for(var l=0;l<d;++l){var L=this._nodes[l];if(L.fixed){L.px=L.x,L.py=L.y;var H=[L.x,L.y];this._descent.locks.add(l,H)}}if(this._descent.threshold=this._threshold,this.initialLayout(t,p,g),F.length>0&&(this._descent.project=new tT.Projection(this._nodes,this._groups,this._rootGroup,F).projectFunctions()),this._descent.run(e),this.separateOverlappingComponents(m,f,s),this.avoidOverlaps(b),b&&(this._nodes.forEach(function(R,W){R.x=p[W],R.y=g[W]}),this._descent.project=new tT.Projection(this._nodes,this._groups,this._rootGroup,F,!0).projectFunctions(),this._nodes.forEach(function(R,W){p[W]=R.x,g[W]=R.y})),this._descent.G=v,this._descent.run(i),o){this._descent.snapStrength=1e3,this._descent.snapGridSize=this._nodes[0].width,this._descent.numGridSnapNodes=d,this._descent.scaleSnapByMaxH=d!=u;var re=eT.Descent.createSquareMatrix(u,function(R,W){return R>=d||W>=d?v[R][W]:0});this._descent.G=re,this._descent.run(o)}return this.updateNodePositions(),this.separateOverlappingComponents(m,f,s),r?this.resume():this},n.prototype.initialLayout=function(t,e,i){if(this._groups.length>0&&t>0){var o=this._nodes.length,r=this._links.map(function(a){return{source:a.source.index,target:a.target.index}}),s=this._nodes.map(function(a){return{index:a.index}});this._groups.forEach(function(a,l){s.push({index:a.index=o+l})}),this._groups.forEach(function(a,l){typeof a.leaves<"u"&&a.leaves.forEach(function(c){return r.push({source:a.index,target:c.index})}),typeof a.groups<"u"&&a.groups.forEach(function(c){return r.push({source:a.index,target:c.index})})}),new n().size(this.size()).nodes(s).links(r).avoidOverlaps(!1).linkDistance(this.linkDistance()).symmetricDiffLinkLengths(5).convergenceThreshold(1e-4).start(t,0,0,0,!1),this._nodes.forEach(function(a){e[a.index]=s[a.index].x,i[a.index]=s[a.index].y})}else this._descent.run(t)},n.prototype.separateOverlappingComponents=function(t,e,i){var o=this;if(i===void 0&&(i=!0),!this._distanceMatrix&&this._handleDisconnected){var r=this._descent.x[0],s=this._descent.x[1];this._nodes.forEach(function(l,c){l.x=r[c],l.y=s[c]});var a=Rle.separateGraphs(this._nodes,this._links);Rle.applyPacking(a,t,e,this._defaultNodeSize,1,i),this._nodes.forEach(function(l,c){o._descent.x[0][c]=l.x,o._descent.x[1][c]=l.y,l.bounds&&(l.bounds.setXCentre(l.x),l.bounds.setYCentre(l.y))})}},n.prototype.resume=function(){return this.alpha(.1)},n.prototype.stop=function(){return this.alpha(0)},n.prototype.prepareEdgeRouting=function(t){t===void 0&&(t=0),this._visibilityGraph=new Ale.TangentVisibilityGraph(this._nodes.map(function(e){return e.bounds.inflate(-t).vertices()}))},n.prototype.routeEdge=function(t,e,i){e===void 0&&(e=5);var o=[],r=new Ale.TangentVisibilityGraph(this._visibilityGraph.P,{V:this._visibilityGraph.V,E:this._visibilityGraph.E}),s={x:t.source.x,y:t.source.y},a={x:t.target.x,y:t.target.y},l=r.addPoint(s,t.source.index),c=r.addPoint(a,t.target.index);r.addEdgeIfVisible(s,a,t.source.index,t.target.index),typeof i<"u"&&i(r);var d=function(T){return T.source.id},u=function(T){return T.target.id},h=function(T){return T.length()},m=new Tle.Calculator(r.V.length,r.E,d,u,h),f=m.PathFromNodeToNode(l.id,c.id);if(f.length===1||f.length===r.V.length){var p=tT.makeEdgeBetween(t.source.innerBounds,t.target.innerBounds,e);o=[p.sourceIntersection,p.arrowStart]}else{for(var g=f.length-2,v=r.V[f[g]].p,b=r.V[f[0]].p,o=[t.source.innerBounds.rayIntersection(v.x,v.y)],C=g;C>=0;--C)o.push(r.V[f[C]].p);o.push(tT.makeEdgeTo(b,t.target.innerBounds,e))}return o},n.getSourceIndex=function(t){return typeof t.source=="number"?t.source:t.source.index},n.getTargetIndex=function(t){return typeof t.target=="number"?t.target:t.target.index},n.linkId=function(t){return n.getSourceIndex(t)+"-"+n.getTargetIndex(t)},n.dragStart=function(t){iT(t)?n.storeOffset(t,n.dragOrigin(t)):(n.stopNode(t),t.fixed|=2)},n.stopNode=function(t){t.px=t.x,t.py=t.y},n.storeOffset=function(t,e){typeof t.leaves<"u"&&t.leaves.forEach(function(i){i.fixed|=2,n.stopNode(i),i._dragGroupOffsetX=i.x-e.x,i._dragGroupOffsetY=i.y-e.y}),typeof t.groups<"u"&&t.groups.forEach(function(i){return n.storeOffset(i,e)})},n.dragOrigin=function(t){return iT(t)?{x:t.bounds.cx(),y:t.bounds.cy()}:t},n.drag=function(t,e){iT(t)?(typeof t.leaves<"u"&&t.leaves.forEach(function(i){t.bounds.setXCentre(e.x),t.bounds.setYCentre(e.y),i.px=i._dragGroupOffsetX+e.x,i.py=i._dragGroupOffsetY+e.y}),typeof t.groups<"u"&&t.groups.forEach(function(i){return n.drag(i,e)})):(t.px=e.x,t.py=e.y)},n.dragEnd=function(t){iT(t)?(typeof t.leaves<"u"&&t.leaves.forEach(function(e){n.dragEnd(e),delete e._dragGroupOffsetX,delete e._dragGroupOffsetY}),typeof t.groups<"u"&&t.groups.forEach(n.dragEnd)):t.fixed&=-7},n.mouseOver=function(t){t.fixed|=4,t.px=t.x,t.py=t.y},n.mouseOut=function(t){t.fixed&=-5},n}();J0.Layout=aje});var Ple=O(h_=>{"use strict";var lje=h_&&h_.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var r in o)o.hasOwnProperty(r)&&(i[r]=o[r])},n(t,e)};return function(t,e){n(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}();Object.defineProperty(h_,"__esModule",{value:!0});var T3=u_(),Ole=function(n){lje(t,n);function t(e){var i=n.call(this)||this,o=i,r=e;return r.trigger&&(i.trigger=r.trigger),r.kick&&(i.kick=r.kick),r.drag&&(i.drag=r.drag),r.on&&(i.on=r.on),i.dragstart=i.dragStart=T3.Layout.dragStart,i.dragend=i.dragEnd=T3.Layout.dragEnd,i}return t.prototype.trigger=function(e){},t.prototype.kick=function(){},t.prototype.drag=function(){},t.prototype.on=function(e,i){return this},t}(T3.Layout);h_.LayoutAdaptor=Ole;function cje(n){return new Ole(n)}h_.adaptor=cje});var Nle=O(m_=>{"use strict";var dje=m_&&m_.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var r in o)o.hasOwnProperty(r)&&(i[r]=o[r])},n(t,e)};return function(t,e){n(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}();Object.defineProperty(m_,"__esModule",{value:!0});var Ms=u_(),Lle=function(n){dje(t,n);function t(){var e=n.call(this)||this;e.event=d3.dispatch(Ms.EventType[Ms.EventType.start],Ms.EventType[Ms.EventType.tick],Ms.EventType[Ms.EventType.end]);var i=e,o;return e.drag=function(){if(!r)var r=d3.behavior.drag().origin(Ms.Layout.dragOrigin).on("dragstart.d3adaptor",Ms.Layout.dragStart).on("drag.d3adaptor",function(s){Ms.Layout.drag(s,d3.event),i.resume()}).on("dragend.d3adaptor",Ms.Layout.dragEnd);if(!arguments.length)return r;this.call(r)},e}return t.prototype.trigger=function(e){var i={type:Ms.EventType[e.type],alpha:e.alpha,stress:e.stress};this.event[i.type](i)},t.prototype.kick=function(){var e=this;d3.timer(function(){return n.prototype.tick.call(e)})},t.prototype.on=function(e,i){return typeof e=="string"?this.event.on(e,i):this.event.on(Ms.EventType[e],i),this},t}(Ms.Layout);m_.D3StyleLayoutAdaptor=Lle;function uje(){return new Lle}m_.d3adaptor=uje});var Fle=O(ex=>{"use strict";var hje=ex&&ex.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var r in o)o.hasOwnProperty(r)&&(i[r]=o[r])},n(t,e)};return function(t,e){n(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}();Object.defineProperty(ex,"__esModule",{value:!0});var Ts=u_(),mje=function(n){hje(t,n);function t(e){var i=n.call(this)||this;i.d3Context=e,i.event=e.dispatch(Ts.EventType[Ts.EventType.start],Ts.EventType[Ts.EventType.tick],Ts.EventType[Ts.EventType.end]);var o=i,r;return i.drag=function(){if(!s)var s=e.drag().subject(Ts.Layout.dragOrigin).on("start.d3adaptor",Ts.Layout.dragStart).on("drag.d3adaptor",function(a){Ts.Layout.drag(a,e.event),o.resume()}).on("end.d3adaptor",Ts.Layout.dragEnd);if(!arguments.length)return s;arguments[0].call(s)},i}return t.prototype.trigger=function(e){var i={type:Ts.EventType[e.type],alpha:e.alpha,stress:e.stress};this.event.call(i.type,i)},t.prototype.kick=function(){var e=this,i=this.d3Context.timer(function(){return n.prototype.tick.call(e)&&i.stop()})},t.prototype.on=function(e,i){return typeof e=="string"?this.event.on(e,i):this.event.on(Ts.EventType[e],i),this},t}(Ts.Layout);ex.D3StyleLayoutAdaptor=mje});var zle=O(A3=>{"use strict";Object.defineProperty(A3,"__esModule",{value:!0});var pje=Nle(),fje=Fle();function gje(n){return!n||_je(n)?new pje.D3StyleLayoutAdaptor:new fje.D3StyleLayoutAdaptor(n)}A3.d3adaptor=gje;function _je(n){var t=/^3\./;return n.version&&n.version.match(t)!==null}});var L3=O(p_=>{"use strict";Object.defineProperty(p_,"__esModule",{value:!0});var vje=d_(),R3=qM(),bje=X0(),Ble=function(){function n(t,e,i){this.id=t,this.rect=e,this.children=i,this.leaf=typeof i>"u"||i.length===0}return n}();p_.NodeWrapper=Ble;var O3=function(){function n(t,e,i,o,r){o===void 0&&(o=null),r===void 0&&(r=null),this.id=t,this.x=e,this.y=i,this.node=o,this.line=r}return n}();p_.Vert=O3;var P3=function(){function n(t,e){this.s=t,this.t=e;var i=n.findMatch(t,e),o=e.slice(0).reverse(),r=n.findMatch(t,o);i.length>=r.length?(this.length=i.length,this.si=i.si,this.ti=i.ti,this.reversed=!1):(this.length=r.length,this.si=r.si,this.ti=e.length-r.ti-r.length,this.reversed=!0)}return n.findMatch=function(t,e){for(var i=t.length,o=e.length,r={length:0,si:-1,ti:-1},s=new Array(i),a=0;a<i;a++){s[a]=new Array(o);for(var l=0;l<o;l++)if(t[a]===e[l]){var c=s[a][l]=a===0||l===0?1:s[a-1][l-1]+1;c>r.length&&(r.length=c,r.si=a-c+1,r.ti=l-c+1)}else s[a][l]=0}return r},n.prototype.getSequence=function(){return this.length>=0?this.s.slice(this.si,this.si+this.length):[]},n}();p_.LongestCommonSubsequence=P3;var yje=function(){function n(t,e,i){var o=this;i===void 0&&(i=12),this.originalnodes=t,this.groupPadding=i,this.leaves=null,this.nodes=t.map(function(p,g){return new Ble(g,e.getBounds(p),e.getChildren(p))}),this.leaves=this.nodes.filter(function(p){return p.leaf}),this.groups=this.nodes.filter(function(p){return!p.leaf}),this.cols=this.getGridLines("x"),this.rows=this.getGridLines("y"),this.groups.forEach(function(p){return p.children.forEach(function(g){return o.nodes[g].parent=p})}),this.root={children:[]},this.nodes.forEach(function(p){typeof p.parent>"u"&&(p.parent=o.root,o.root.children.push(p.id)),p.ports=[]}),this.backToFront=this.nodes.slice(0),this.backToFront.sort(function(p,g){return o.getDepth(p)-o.getDepth(g)});var r=this.backToFront.slice(0).reverse().filter(function(p){return!p.leaf});r.forEach(function(p){var g=vje.Rectangle.empty();p.children.forEach(function(v){return g=g.union(o.nodes[v].rect)}),p.rect=g.inflate(o.groupPadding)});var s=this.midPoints(this.cols.map(function(p){return p.pos})),a=this.midPoints(this.rows.map(function(p){return p.pos})),l=s[0],c=s[s.length-1],d=a[0],u=a[a.length-1],h=this.rows.map(function(p){return{x1:l,x2:c,y1:p.pos,y2:p.pos}}).concat(a.map(function(p){return{x1:l,x2:c,y1:p,y2:p}})),m=this.cols.map(function(p){return{x1:p.pos,x2:p.pos,y1:d,y2:u}}).concat(s.map(function(p){return{x1:p,x2:p,y1:d,y2:u}})),f=h.concat(m);f.forEach(function(p){return p.verts=[]}),this.verts=[],this.edges=[],h.forEach(function(p){return m.forEach(function(g){var v=new O3(o.verts.length,g.x1,p.y1);p.verts.push(v),g.verts.push(v),o.verts.push(v);for(var b=o.backToFront.length;b-- >0;){var C=o.backToFront[b],T=C.rect,E=Math.abs(v.x-T.cx()),F=Math.abs(v.y-T.cy());if(E<T.width()/2&&F<T.height()/2){v.node=C;break}}})}),f.forEach(function(p,g){o.nodes.forEach(function(F,L){F.rect.lineIntersections(p.x1,p.y1,p.x2,p.y2).forEach(function(H,re){var R=new O3(o.verts.length,H.x,H.y,F,p);o.verts.push(R),p.verts.push(R),F.ports.push(R)})});var v=Math.abs(p.y1-p.y2)<.1,b=function(F,L){return v?L.x-F.x:L.y-F.y};p.verts.sort(b);for(var C=1;C<p.verts.length;C++){var T=p.verts[C-1],E=p.verts[C];T.node&&T.node===E.node&&T.node.leaf||o.edges.push({source:T.id,target:E.id,length:Math.abs(b(T,E))})}})}return n.prototype.avg=function(t){return t.reduce(function(e,i){return e+i})/t.length},n.prototype.getGridLines=function(t){for(var e=[],i=this.leaves.slice(0,this.leaves.length);i.length>0;){var o=i.filter(function(s){return s.rect["overlap"+t.toUpperCase()](i[0].rect)}),r={nodes:o,pos:this.avg(o.map(function(s){return s.rect["c"+t]()}))};e.push(r),r.nodes.forEach(function(s){return i.splice(i.indexOf(s),1)})}return e.sort(function(s,a){return s.pos-a.pos}),e},n.prototype.getDepth=function(t){for(var e=0;t.parent!==this.root;)e++,t=t.parent;return e},n.prototype.midPoints=function(t){for(var e=t[1]-t[0],i=[t[0]-e/2],o=1;o<t.length;o++)i.push((t[o]+t[o-1])/2);return i.push(t[t.length-1]+e/2),i},n.prototype.findLineage=function(t){var e=[t];do t=t.parent,e.push(t);while(t!==this.root);return e.reverse()},n.prototype.findAncestorPathBetween=function(t,e){for(var i=this.findLineage(t),o=this.findLineage(e),r=0;i[r]===o[r];)r++;return{commonAncestor:i[r-1],lineages:i.slice(r).concat(o.slice(r))}},n.prototype.siblingObstacles=function(t,e){var i=this,o=this.findAncestorPathBetween(t,e),r={};o.lineages.forEach(function(a){return r[a.id]={}});var s=o.commonAncestor.children.filter(function(a){return!(a in r)});return o.lineages.filter(function(a){return a.parent!==o.commonAncestor}).forEach(function(a){return s=s.concat(a.parent.children.filter(function(l){return l!==a.id}))}),s.map(function(a){return i.nodes[a]})},n.getSegmentSets=function(t,e,i){for(var o=[],r=0;r<t.length;r++)for(var s=t[r],a=0;a<s.length;a++){var l=s[a];l.edgeid=r,l.i=a;var c=l[1][e]-l[0][e];Math.abs(c)<.1&&o.push(l)}o.sort(function(m,f){return m[0][e]-f[0][e]});for(var d=[],u=null,h=0;h<o.length;h++){var l=o[h];(!u||Math.abs(l[0][e]-u.pos)>.1)&&(u={pos:l[0][e],segments:[]},d.push(u)),u.segments.push(l)}return d},n.nudgeSegs=function(t,e,i,o,r,s){var a=o.length;if(!(a<=1)){for(var l=o.map(function(C){return new R3.Variable(C[0][t])}),c=[],d=0;d<a;d++)for(var u=0;u<a;u++)if(d!==u){var h=o[d],m=o[u],f=h.edgeid,p=m.edgeid,g=-1,v=-1;t=="x"?r(f,p)&&(h[0][e]<h[1][e]?(g=u,v=d):(g=d,v=u)):r(f,p)&&(h[0][e]<h[1][e]?(g=d,v=u):(g=u,v=d)),g>=0&&c.push(new R3.Constraint(l[g],l[v],s))}var b=new R3.Solver(l,c);b.solve(),l.forEach(function(C,T){var E=o[T],F=C.position();E[0][t]=E[1][t]=F;var L=i[E.edgeid];E.i>0&&(L[E.i-1][1][t]=F),E.i<L.length-1&&(L[E.i+1][0][t]=F)})}},n.nudgeSegments=function(t,e,i,o,r){for(var s=n.getSegmentSets(t,e,i),a=0;a<s.length;a++){for(var l=s[a],c=[],d=0;d<l.segments.length;d++){var u=l.segments[d];c.push({type:0,s:u,pos:Math.min(u[0][i],u[1][i])}),c.push({type:1,s:u,pos:Math.max(u[0][i],u[1][i])})}c.sort(function(f,p){return f.pos-p.pos+f.type-p.type});var h=[],m=0;c.forEach(function(f){f.type===0?(h.push(f.s),m++):m--,m==0&&(n.nudgeSegs(e,i,t,h,o,r),h=[])})}},n.prototype.routeEdges=function(t,e,i,o){var r=this,s=t.map(function(c){return r.route(i(c),o(c))}),a=n.orderEdges(s),l=s.map(function(c){return n.makeSegments(c)});return n.nudgeSegments(l,"x","y",a,e),n.nudgeSegments(l,"y","x",a,e),n.unreverseEdges(l,s),l},n.unreverseEdges=function(t,e){t.forEach(function(i,o){var r=e[o];r.reversed&&(i.reverse(),i.forEach(function(s){s.reverse()}))})},n.angleBetween2Lines=function(t,e){var i=Math.atan2(t[0].y-t[1].y,t[0].x-t[1].x),o=Math.atan2(e[0].y-e[1].y,e[0].x-e[1].x),r=i-o;return(r>Math.PI||r<-Math.PI)&&(r=o-i),r},n.isLeft=function(t,e,i){return(e.x-t.x)*(i.y-t.y)-(e.y-t.y)*(i.x-t.x)<=0},n.getOrder=function(t){for(var e={},i=0;i<t.length;i++){var o=t[i];typeof e[o.l]>"u"&&(e[o.l]={}),e[o.l][o.r]=!0}return function(r,s){return typeof e[r]<"u"&&e[r][s]}},n.orderEdges=function(t){for(var e=[],i=0;i<t.length-1;i++)for(var o=i+1;o<t.length;o++){var r=t[i],s=t[o],a=new P3(r,s),l,c,d;if(a.length!==0){if(a.reversed&&(s.reverse(),s.reversed=!0,a=new P3(r,s)),(a.si<=0||a.ti<=0)&&(a.si+a.length>=r.length||a.ti+a.length>=s.length)){e.push({l:i,r:o});continue}a.si+a.length>=r.length||a.ti+a.length>=s.length?(l=r[a.si+1],d=r[a.si-1],c=s[a.ti-1]):(l=r[a.si+a.length-2],c=r[a.si+a.length],d=s[a.ti+a.length]),n.isLeft(l,c,d)?e.push({l:o,r:i}):e.push({l:i,r:o})}}return n.getOrder(e)},n.makeSegments=function(t){function e(c){return{x:c.x,y:c.y}}for(var i=function(c,d,u){return Math.abs((d.x-c.x)*(u.y-c.y)-(d.y-c.y)*(u.x-c.x))<.001},o=[],r=e(t[0]),s=1;s<t.length;s++){var a=e(t[s]),l=s<t.length-1?t[s+1]:null;(!l||!i(r,a,l))&&(o.push([r,a]),r=a)}return o},n.prototype.route=function(t,e){var i=this,o=this.nodes[t],r=this.nodes[e];this.obstacles=this.siblingObstacles(o,r);var s={};this.obstacles.forEach(function(v){return s[v.id]=v}),this.passableEdges=this.edges.filter(function(v){var b=i.verts[v.source],C=i.verts[v.target];return!(b.node&&b.node.id in s||C.node&&C.node.id in s)});for(var a=1;a<o.ports.length;a++){var l=o.ports[0].id,c=o.ports[a].id;this.passableEdges.push({source:l,target:c,length:0})}for(var a=1;a<r.ports.length;a++){var l=r.ports[0].id,c=r.ports[a].id;this.passableEdges.push({source:l,target:c,length:0})}var d=function(v){return v.source},u=function(v){return v.target},h=function(v){return v.length},m=new bje.Calculator(this.verts.length,this.passableEdges,d,u,h),f=function(v,b,C){var T=i.verts[v],E=i.verts[b],F=i.verts[C],L=Math.abs(F.x-T.x),H=Math.abs(F.y-T.y);return T.node===o&&T.node===E.node||E.node===r&&E.node===F.node?0:L>1&&H>1?1e3:0},p=m.PathFromNodeToNodeWithPrevCost(o.ports[0].id,r.ports[0].id,f),g=p.reverse().map(function(v){return i.verts[v]});return g.push(this.nodes[r.id].ports[0]),g.filter(function(v,b){return!(b<g.length-1&&g[b+1].node===o&&v.node===o||b>0&&v.node===r&&g[b-1].node===r)})},n.getRoutePath=function(t,e,i,o){var r={routepath:"M "+t[0][0].x+" "+t[0][0].y+" ",arrowpath:""};if(t.length>1)for(var s=0;s<t.length;s++){var a=t[s],l=a[1].x,c=a[1].y,d=l-a[0].x,u=c-a[0].y;if(s<t.length-1){Math.abs(d)>0?l-=d/Math.abs(d)*e:c-=u/Math.abs(u)*e,r.routepath+="L "+l+" "+c+" ";var h=t[s+1],m=h[0].x,f=h[0].y,p=h[1].x,g=h[1].y;d=p-m,u=g-f;var v=n.angleBetween2Lines(a,h)<0?1:0,b,C;Math.abs(d)>0?(b=m+d/Math.abs(d)*e,C=f):(b=m,C=f+u/Math.abs(u)*e);var T=Math.abs(b-l),E=Math.abs(C-c);r.routepath+="A "+T+" "+E+" 0 0 "+v+" "+b+" "+C+" "}else{var F=[l,c],L,H;Math.abs(d)>0?(l-=d/Math.abs(d)*o,L=[l,c+i],H=[l,c-i]):(c-=u/Math.abs(u)*o,L=[l+i,c],H=[l-i,c]),r.routepath+="L "+l+" "+c+" ",o>0&&(r.arrowpath="M "+F[0]+" "+F[1]+" L "+L[0]+" "+L[1]+" L "+H[0]+" "+H[1])}}else{var a=t[0],l=a[1].x,c=a[1].y,d=l-a[0].x,u=c-a[0].y,F=[l,c],L,H;Math.abs(d)>0?(l-=d/Math.abs(d)*o,L=[l,c+i],H=[l,c-i]):(c-=u/Math.abs(u)*o,L=[l+i,c],H=[l-i,c]),r.routepath+="L "+l+" "+c+" ",o>0&&(r.arrowpath="M "+F[0]+" "+F[1]+" L "+L[0]+" "+L[1]+" L "+H[0]+" "+H[1])}return r},n}();p_.GridRouter=yje});var Hle=O(tx=>{"use strict";Object.defineProperty(tx,"__esModule",{value:!0});var xje=X0(),N3=WM(),wje=d_(),Cje=VM(),Sje=function(){function n(t,e){this.source=t,this.target=e}return n.prototype.actualLength=function(t){var e=this;return Math.sqrt(t.reduce(function(i,o){var r=o[e.target]-o[e.source];return i+r*r},0))},n}();tx.Link3D=Sje;var Ije=function(){function n(t,e,i){t===void 0&&(t=0),e===void 0&&(e=0),i===void 0&&(i=0),this.x=t,this.y=e,this.z=i}return n}();tx.Node3D=Ije;var Dje=function(){function n(t,e,i){var o=this;i===void 0&&(i=1),this.nodes=t,this.links=e,this.idealLinkLength=i,this.constraints=null,this.useJaccardLinkLengths=!0,this.result=new Array(n.k);for(var r=0;r<n.k;++r)this.result[r]=new Array(t.length);t.forEach(function(s,a){for(var l=0,c=n.dims;l<c.length;l++){var d=c[l];typeof s[d]>"u"&&(s[d]=Math.random())}o.result[0][a]=s.x,o.result[1][a]=s.y,o.result[2][a]=s.z})}return n.prototype.linkLength=function(t){return t.actualLength(this.result)},n.prototype.start=function(t){var e=this;t===void 0&&(t=100);var i=this.nodes.length,o=new Eje;this.useJaccardLinkLengths&&Cje.jaccardLinkLengths(this.links,o,1.5),this.links.forEach(function(d){return d.length*=e.idealLinkLength});var r=new xje.Calculator(i,this.links,function(d){return d.source},function(d){return d.target},function(d){return d.length}).DistanceMatrix(),s=N3.Descent.createSquareMatrix(i,function(d,u){return r[d][u]}),a=N3.Descent.createSquareMatrix(i,function(){return 2});this.links.forEach(function(d){var u=d.source,h=d.target;return a[u][h]=a[h][u]=1}),this.descent=new N3.Descent(this.result,s),this.descent.threshold=.001,this.descent.G=a,this.constraints&&(this.descent.project=new wje.Projection(this.nodes,null,null,this.constraints).projectFunctions());for(var l=0;l<this.nodes.length;l++){var c=this.nodes[l];c.fixed&&this.descent.locks.add(l,[c.x,c.y,c.z])}return this.descent.run(t),this},n.prototype.tick=function(){this.descent.locks.clear();for(var t=0;t<this.nodes.length;t++){var e=this.nodes[t];e.fixed&&this.descent.locks.add(t,[e.x,e.y,e.z])}return this.descent.rungeKutta()},n.dims=["x","y","z"],n.k=n.dims.length,n}();tx.Layout3D=Dje;var Eje=function(){function n(){}return n.prototype.getSourceIndex=function(t){return t.source},n.prototype.getTargetIndex=function(t){return t.target},n.prototype.getLength=function(t){return t.length},n.prototype.setLength=function(t,e){t.length=e},n}()});var Vle=O(nT=>{"use strict";Object.defineProperty(nT,"__esModule",{value:!0});var F3=u_(),kje=L3();function Mje(n,t,e,i){n.cola.start(0,0,0,10,!1);var o=Tje(n.cola.nodes(),n.cola.groups(),e,i);return o.routeEdges(n.powerGraph.powerEdges,t,function(r){return r.source.routerNode.id},function(r){return r.target.routerNode.id})}nT.gridify=Mje;function Tje(n,t,e,i){n.forEach(function(r){r.routerNode={name:r.name,bounds:r.bounds.inflate(-e)}}),t.forEach(function(r){r.routerNode={bounds:r.bounds.inflate(-i),children:(typeof r.groups<"u"?r.groups.map(function(s){return n.length+s.id}):[]).concat(typeof r.leaves<"u"?r.leaves.map(function(s){return s.index}):[])}});var o=n.concat(t).map(function(r,s){return r.routerNode.id=s,r.routerNode});return new kje.GridRouter(o,{getChildren:function(r){return r.children},getBounds:function(r){return r.bounds}},e-i)}function Aje(n,t,e){var i;n.nodes.forEach(function(a,l){return a.index=l}),new F3.Layout().avoidOverlaps(!1).nodes(n.nodes).links(n.links).powerGraphGroups(function(a){i=a,i.groups.forEach(function(l){return l.padding=e})});var o=n.nodes.length,r=[],s=n.nodes.slice(0);return s.forEach(function(a,l){return a.index=l}),i.groups.forEach(function(a){var l=a.index=a.id+o;s.push(a),typeof a.leaves<"u"&&a.leaves.forEach(function(c){return r.push({source:l,target:c.index})}),typeof a.groups<"u"&&a.groups.forEach(function(c){return r.push({source:l,target:c.id+o})})}),i.powerEdges.forEach(function(a){r.push({source:a.source.index,target:a.target.index})}),new F3.Layout().size(t).nodes(s).links(r).avoidOverlaps(!1).linkDistance(30).symmetricDiffLinkLengths(5).convergenceThreshold(1e-4).start(100,0,0,0,!1),{cola:new F3.Layout().convergenceThreshold(.001).size(t).avoidOverlaps(!0).nodes(n.nodes).links(n.links).groupCompactness(1e-4).linkDistance(30).symmetricDiffLinkLengths(5).powerGraphGroups(function(a){i=a,i.groups.forEach(function(l){l.padding=e})}).start(50,0,100,0,!1),powerGraph:i}}nT.powerGraphGridLayout=Aje});var Wle=O(oT=>{"use strict";function wr(n){for(var t in n)oT.hasOwnProperty(t)||(oT[t]=n[t])}Object.defineProperty(oT,"__esModule",{value:!0});wr(Ple());wr(zle());wr(WM());wr(E3());wr(L3());wr(k3());wr(u_());wr(Hle());wr(VM());wr(p3());wr(w3());wr(v3());wr(d_());wr(X0());wr(qM());wr(Vle())});var lv=class{},Zw=class{},vh=class n{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(t){t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(e=>{let i=e.indexOf(":");if(i>0){let o=e.slice(0,i),r=e.slice(i+1).trim();this.addHeaderEntry(o,r)}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((e,i)=>{this.addHeaderEntry(i,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([e,i])=>{this.setHeaderEntries(e,i)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){let e=new n;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){let e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if(typeof i=="string"&&(i=[i]),i.length===0)return;this.maybeSetNormalizedName(t.name,e);let o=(t.op==="a"?this.headers.get(e):void 0)||[];o.push(...i),this.headers.set(e,o);break;case"d":let r=t.value;if(!r)this.headers.delete(e),this.normalizedNames.delete(e);else{let s=this.headers.get(e);if(!s)return;s=s.filter(a=>r.indexOf(a)===-1),s.length===0?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,s)}break}}addHeaderEntry(t,e){let i=t.toLowerCase();this.maybeSetNormalizedName(t,i),this.headers.has(i)?this.headers.get(i).push(e):this.headers.set(i,[e])}setHeaderEntries(t,e){let i=(Array.isArray(e)?e:[e]).map(r=>r.toString()),o=t.toLowerCase();this.headers.set(o,i),this.maybeSetNormalizedName(t,o)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}};var KA=class{encodeKey(t){return FU(t)}encodeValue(t){return FU(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};function zce(n,t){let e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(o=>{let r=o.indexOf("="),[s,a]=r==-1?[t.decodeKey(o),""]:[t.decodeKey(o.slice(0,r)),t.decodeValue(o.slice(r+1))],l=e.get(s)||[];l.push(a),e.set(s,l)}),e}var Bce=/%(\d[a-f0-9])/gi,Hce={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function FU(n){return encodeURIComponent(n).replace(Bce,(t,e)=>Hce[e]??t)}function Xw(n){return`${n}`}var Ed=class n{map;encoder;updates=null;cloneFrom=null;constructor(t={}){if(this.encoder=t.encoder||new KA,t.fromString){if(t.fromObject)throw new Ai(2805,!1);this.map=zce(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{let i=t.fromObject[e],o=Array.isArray(i)?i.map(Xw):[Xw(i)];this.map.set(e,o)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();let e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){let e=[];return Object.keys(t).forEach(i=>{let o=t[i];Array.isArray(o)?o.forEach(r=>{e.push({param:i,value:r,op:"a"})}):e.push({param:i,value:o,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{let e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>t!=="").join("&")}clone(t){let e=new n({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let e=(t.op==="a"?this.map.get(t.param):void 0)||[];e.push(Xw(t.value)),this.map.set(t.param,e);break;case"d":if(t.value!==void 0){let i=this.map.get(t.param)||[],o=i.indexOf(Xw(t.value));o!==-1&&i.splice(o,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}else{this.map.delete(t.param);break}}}),this.cloneFrom=this.updates=null)}};var YA=class{map=new Map;set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}};function Vce(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function zU(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function BU(n){return typeof Blob<"u"&&n instanceof Blob}function HU(n){return typeof FormData<"u"&&n instanceof FormData}function Wce(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var VU="Content-Type",WU="Accept",$U="X-Request-URL",KU="text/plain",YU="application/json",jce=`${YU}, ${KU}, */*`,av=class n{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(t,e,i,o){this.url=e,this.method=t.toUpperCase();let r;if(Vce(this.method)||o?(this.body=i!==void 0?i:null,r=o):r=i,r&&(this.reportProgress=!!r.reportProgress,this.withCredentials=!!r.withCredentials,r.responseType&&(this.responseType=r.responseType),r.headers&&(this.headers=r.headers),r.context&&(this.context=r.context),r.params&&(this.params=r.params),this.transferCache=r.transferCache),this.headers??=new vh,this.context??=new YA,!this.params)this.params=new Ed,this.urlWithParams=e;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=e;else{let a=e.indexOf("?"),l=a===-1?"?":a<e.length-1?"&":"";this.urlWithParams=e+l+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||zU(this.body)||BU(this.body)||HU(this.body)||Wce(this.body)?this.body:this.body instanceof Ed?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||HU(this.body)?null:BU(this.body)?this.body.type||null:zU(this.body)?null:typeof this.body=="string"?KU:this.body instanceof Ed?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?YU:null}clone(t={}){let e=t.method||this.method,i=t.url||this.url,o=t.responseType||this.responseType,r=t.transferCache??this.transferCache,s=t.body!==void 0?t.body:this.body,a=t.withCredentials??this.withCredentials,l=t.reportProgress??this.reportProgress,c=t.headers||this.headers,d=t.params||this.params,u=t.context??this.context;return t.setHeaders!==void 0&&(c=Object.keys(t.setHeaders).reduce((h,m)=>h.set(m,t.setHeaders[m]),c)),t.setParams&&(d=Object.keys(t.setParams).reduce((h,m)=>h.set(m,t.setParams[m]),d)),new n(e,i,s,{params:d,headers:c,context:u,reportProgress:l,responseType:o,withCredentials:a,transferCache:r})}},Op=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(Op||{}),cv=class{headers;status;statusText;url;ok;type;constructor(t,e=200,i="OK"){this.headers=t.headers||new vh,this.status=t.status!==void 0?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}},XA=class n extends cv{constructor(t={}){super(t)}type=Op.ResponseHeader;clone(t={}){return new n({headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},Qw=class n extends cv{body;constructor(t={}){super(t),this.body=t.body!==void 0?t.body:null}type=Op.Response;clone(t={}){return new n({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},Jw=class extends cv{name="HttpErrorResponse";message;error;ok=!1;constructor(t){super(t,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${t.url||"(unknown url)"}`:this.message=`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}},Uce=200,qce=204;function $A(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var dv=(()=>{class n{handler;constructor(e){this.handler=e}request(e,i,o={}){let r;if(e instanceof av)r=e;else{let l;o.headers instanceof vh?l=o.headers:l=new vh(o.headers);let c;o.params&&(o.params instanceof Ed?c=o.params:c=new Ed({fromObject:o.params})),r=new av(e,i,o.body!==void 0?o.body:null,{headers:l,context:o.context,params:c,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache})}let s=We(r).pipe(ma(l=>this.handler.handle(l)));if(e instanceof av||o.observe==="events")return s;let a=s.pipe(ri(l=>l instanceof Qw));switch(o.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return a.pipe(nt(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new Ai(2806,!1);return l.body}));case"blob":return a.pipe(nt(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new Ai(2807,!1);return l.body}));case"text":return a.pipe(nt(l=>{if(l.body!==null&&typeof l.body!="string")throw new Ai(2808,!1);return l.body}));case"json":default:return a.pipe(nt(l=>l.body))}case"response":return a;default:throw new Ai(2809,!1)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:new Ed().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,o={}){return this.request("PATCH",e,$A(o,i))}post(e,i,o={}){return this.request("POST",e,$A(o,i))}put(e,i,o={}){return this.request("PUT",e,$A(o,i))}static \u0275fac=function(i){return new(i||n)(ct(lv))};static \u0275prov=de({token:n,factory:n.\u0275fac})}return n})();var Gce=new ue("");function XU(n,t){return t(n)}function $ce(n,t){return(e,i)=>t.intercept(e,{handle:o=>n(o,i)})}function Kce(n,t,e){return(i,o)=>pa(e,()=>t(i,r=>n(r,o)))}var Yce=new ue(""),ZA=new ue(""),Xce=new ue(""),ZU=new ue("",{providedIn:"root",factory:()=>!0});function Zce(){let n=null;return(t,e)=>{n===null&&(n=(y(Yce,{optional:!0})??[]).reduceRight($ce,XU));let i=y(I_);if(y(ZU)){let r=i.add();return n(t,e).pipe(ec(()=>i.remove(r)))}else return n(t,e)}}var jU=(()=>{class n extends lv{backend;injector;chain=null;pendingTasks=y(I_);contributeToStability=y(ZU);constructor(e,i){super(),this.backend=e,this.injector=i}handle(e){if(this.chain===null){let i=Array.from(new Set([...this.injector.get(ZA),...this.injector.get(Xce,[])]));this.chain=i.reduceRight((o,r)=>Kce(o,r,this.injector),XU)}if(this.contributeToStability){let i=this.pendingTasks.add();return this.chain(e,o=>this.backend.handle(o)).pipe(ec(()=>this.pendingTasks.remove(i)))}else return this.chain(e,i=>this.backend.handle(i))}static \u0275fac=function(i){return new(i||n)(ct(Zw),ct(Rs))};static \u0275prov=de({token:n,factory:n.\u0275fac})}return n})();var Qce=/^\)\]\}',?\n/,Jce=RegExp(`^${$U}:`,"m");function ede(n){return"responseURL"in n&&n.responseURL?n.responseURL:Jce.test(n.getAllResponseHeaders())?n.getResponseHeader($U):null}var UU=(()=>{class n{xhrFactory;constructor(e){this.xhrFactory=e}handle(e){if(e.method==="JSONP")throw new Ai(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?Bn(i.\u0275loadImpl()):We(null)).pipe(In(()=>new ar(r=>{let s=i.build();if(s.open(e.method,e.urlWithParams),e.withCredentials&&(s.withCredentials=!0),e.headers.forEach((p,g)=>s.setRequestHeader(p,g.join(","))),e.headers.has(WU)||s.setRequestHeader(WU,jce),!e.headers.has(VU)){let p=e.detectContentTypeHeader();p!==null&&s.setRequestHeader(VU,p)}if(e.responseType){let p=e.responseType.toLowerCase();s.responseType=p!=="json"?p:"text"}let a=e.serializeBody(),l=null,c=()=>{if(l!==null)return l;let p=s.statusText||"OK",g=new vh(s.getAllResponseHeaders()),v=ede(s)||e.url;return l=new XA({headers:g,status:s.status,statusText:p,url:v}),l},d=()=>{let{headers:p,status:g,statusText:v,url:b}=c(),C=null;g!==qce&&(C=typeof s.response>"u"?s.responseText:s.response),g===0&&(g=C?Uce:0);let T=g>=200&&g<300;if(e.responseType==="json"&&typeof C=="string"){let E=C;C=C.replace(Qce,"");try{C=C!==""?JSON.parse(C):null}catch(F){C=E,T&&(T=!1,C={error:F,text:C})}}T?(r.next(new Qw({body:C,headers:p,status:g,statusText:v,url:b||void 0})),r.complete()):r.error(new Jw({error:C,headers:p,status:g,statusText:v,url:b||void 0}))},u=p=>{let{url:g}=c(),v=new Jw({error:p,status:s.status||0,statusText:s.statusText||"Unknown Error",url:g||void 0});r.error(v)},h=!1,m=p=>{h||(r.next(c()),h=!0);let g={type:Op.DownloadProgress,loaded:p.loaded};p.lengthComputable&&(g.total=p.total),e.responseType==="text"&&s.responseText&&(g.partialText=s.responseText),r.next(g)},f=p=>{let g={type:Op.UploadProgress,loaded:p.loaded};p.lengthComputable&&(g.total=p.total),r.next(g)};return s.addEventListener("load",d),s.addEventListener("error",u),s.addEventListener("timeout",u),s.addEventListener("abort",u),e.reportProgress&&(s.addEventListener("progress",m),a!==null&&s.upload&&s.upload.addEventListener("progress",f)),s.send(a),r.next({type:Op.Sent}),()=>{s.removeEventListener("error",u),s.removeEventListener("abort",u),s.removeEventListener("load",d),s.removeEventListener("timeout",u),e.reportProgress&&(s.removeEventListener("progress",m),a!==null&&s.upload&&s.upload.removeEventListener("progress",f)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(i){return new(i||n)(ct(Sx))};static \u0275prov=de({token:n,factory:n.\u0275fac})}return n})(),QU=new ue(""),tde="XSRF-TOKEN",ide=new ue("",{providedIn:"root",factory:()=>tde}),nde="X-XSRF-TOKEN",ode=new ue("",{providedIn:"root",factory:()=>nde}),eC=class{},rde=(()=>{class n{doc;platform;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(e,i,o){this.doc=e,this.platform=i,this.cookieName=o}getToken(){if(this.platform==="server")return null;let e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=vx(e,this.cookieName),this.lastCookieString=e),this.lastToken}static \u0275fac=function(i){return new(i||n)(ct(kt),ct(fa),ct(ide))};static \u0275prov=de({token:n,factory:n.\u0275fac})}return n})();function sde(n,t){let e=n.url.toLowerCase();if(!y(QU)||n.method==="GET"||n.method==="HEAD"||e.startsWith("http://")||e.startsWith("https://"))return t(n);let i=y(eC).getToken(),o=y(ode);return i!=null&&!n.headers.has(o)&&(n=n.clone({headers:n.headers.set(o,i)})),t(n)}var JU=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(JU||{});function ade(n,t){return{\u0275kind:n,\u0275providers:t}}function eq(...n){let t=[dv,UU,jU,{provide:lv,useExisting:jU},{provide:Zw,useFactory:()=>y(Gce,{optional:!0})??y(UU)},{provide:ZA,useValue:sde,multi:!0},{provide:QU,useValue:!0},{provide:eC,useClass:rde}];for(let e of n)t.push(...e.\u0275providers);return tc(t)}var qU=new ue("");function tq(){return ade(JU.LegacyInterceptors,[{provide:qU,useFactory:Zce},{provide:ZA,useExisting:qU,multi:!0}])}var JA=class extends BW{supportsDOMEvents=!0},eR=class n extends JA{static makeCurrent(){zW(new n)}onAndCancel(t,e,i,o){return t.addEventListener(e,i,o),()=>{t.removeEventListener(e,i,o)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.remove()}createElement(t,e){return e=e||this.getDefaultDocument(),e.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return e==="window"?window:e==="document"?t:e==="body"?t.body:null}getBaseHref(t){let e=cde();return e==null?null:dde(e)}resetBaseElement(){uv=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return vx(document.cookie,t)}},uv=null;function cde(){return uv=uv||document.querySelector("base"),uv?uv.getAttribute("href"):null}function dde(n){return new URL(n,document.baseURI).pathname}var ude=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(i){return new(i||n)};static \u0275prov=de({token:n,factory:n.\u0275fac})}return n})(),tR=new ue(""),aq=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(e,i){this._zone=i,e.forEach(o=>{o.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,i,o,r){return this._findPluginFor(i).addEventListener(e,i,o,r)}getZone(){return this._zone}_findPluginFor(e){let i=this._eventNameToPlugin.get(e);if(i)return i;if(i=this._plugins.find(r=>r.supports(e)),!i)throw new Ai(5101,!1);return this._eventNameToPlugin.set(e,i),i}static \u0275fac=function(i){return new(i||n)(ct(tR),ct(et))};static \u0275prov=de({token:n,factory:n.\u0275fac})}return n})(),iC=class{_doc;constructor(t){this._doc=t}manager},tC="ng-app-id";function nq(n){for(let t of n)t.remove()}function oq(n,t){let e=t.createElement("style");return e.textContent=n,e}function hde(n,t,e,i){let o=n.head?.querySelectorAll(`style[${tC}="${t}"],link[${tC}="${t}"]`);if(o)for(let r of o)r.removeAttribute(tC),r instanceof HTMLLinkElement?i.set(r.href.slice(r.href.lastIndexOf("/")+1),{usage:0,elements:[r]}):r.textContent&&e.set(r.textContent,{usage:0,elements:[r]})}function iR(n,t){let e=t.createElement("link");return e.setAttribute("rel","stylesheet"),e.setAttribute("href",n),e}var lq=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(e,i,o,r={}){this.doc=e,this.appId=i,this.nonce=o,this.isServer=jT(r),hde(e,i,this.inline,this.external),this.hosts.add(e.head)}addStyles(e,i){for(let o of e)this.addUsage(o,this.inline,oq);i?.forEach(o=>this.addUsage(o,this.external,iR))}removeStyles(e,i){for(let o of e)this.removeUsage(o,this.inline);i?.forEach(o=>this.removeUsage(o,this.external))}addUsage(e,i,o){let r=i.get(e);r?r.usage++:i.set(e,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,o(e,this.doc)))})}removeUsage(e,i){let o=i.get(e);o&&(o.usage--,o.usage<=0&&(nq(o.elements),i.delete(e)))}ngOnDestroy(){for(let[,{elements:e}]of[...this.inline,...this.external])nq(e);this.hosts.clear()}addHost(e){this.hosts.add(e);for(let[i,{elements:o}]of this.inline)o.push(this.addElement(e,oq(i,this.doc)));for(let[i,{elements:o}]of this.external)o.push(this.addElement(e,iR(i,this.doc)))}removeHost(e){this.hosts.delete(e)}addElement(e,i){return this.nonce&&i.setAttribute("nonce",this.nonce),this.isServer&&i.setAttribute(tC,this.appId),e.appendChild(i)}static \u0275fac=function(i){return new(i||n)(ct(kt),ct(Um),ct(D_,8),ct(fa))};static \u0275prov=de({token:n,factory:n.\u0275fac})}return n})(),QA={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},rR=/%COMP%/g;var cq="%COMP%",mde=`_nghost-${cq}`,pde=`_ngcontent-${cq}`,fde=!0,gde=new ue("",{providedIn:"root",factory:()=>fde});function _de(n){return pde.replace(rR,n)}function vde(n){return mde.replace(rR,n)}function dq(n,t){return t.map(e=>e.replace(rR,n))}var nC=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(e,i,o,r,s,a,l,c=null,d=null){this.eventManager=e,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=r,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=c,this.tracingService=d,this.platformIsServer=jT(a),this.defaultRenderer=new hv(e,s,l,this.platformIsServer,this.tracingService)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===E_.ShadowDom&&(i=Te(j({},i),{encapsulation:E_.Emulated}));let o=this.getOrCreateRenderer(e,i);return o instanceof oC?o.applyToHost(e):o instanceof mv&&o.applyStyles(),o}getOrCreateRenderer(e,i){let o=this.rendererByCompId,r=o.get(i.id);if(!r){let s=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,u=this.platformIsServer,h=this.tracingService;switch(i.encapsulation){case E_.Emulated:r=new oC(l,c,i,this.appId,d,s,a,u,h);break;case E_.ShadowDom:return new nR(l,c,e,i,s,a,this.nonce,u,h);default:r=new mv(l,c,i,d,s,a,u,h);break}o.set(i.id,r)}return r}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(e){this.rendererByCompId.delete(e)}static \u0275fac=function(i){return new(i||n)(ct(aq),ct(lq),ct(Um),ct(gde),ct(kt),ct(fa),ct(et),ct(D_),ct(_W,8))};static \u0275prov=de({token:n,factory:n.\u0275fac})}return n})(),hv=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,e,i,o,r){this.eventManager=t,this.doc=e,this.ngZone=i,this.platformIsServer=o,this.tracingService=r}destroy(){}destroyNode=null;createElement(t,e){return e?this.doc.createElementNS(QA[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(rq(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(rq(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){e.remove()}selectRootElement(t,e){let i=typeof t=="string"?this.doc.querySelector(t):t;if(!i)throw new Ai(-5104,!1);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,o){if(o){e=o+":"+e;let r=QA[o];r?t.setAttributeNS(r,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){let o=QA[i];o?t.removeAttributeNS(o,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,o){o&(k_.DashCase|k_.Important)?t.style.setProperty(e,i,o&k_.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&k_.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t!=null&&(t[e]=i)}setValue(t,e){t.nodeValue=e}listen(t,e,i,o){if(typeof t=="string"&&(t=Km().getGlobalEventTarget(this.doc,t),!t))throw new Error(`Unsupported event target ${t} for event ${e}`);let r=this.decoratePreventDefault(i);return this.tracingService!==null&&this.tracingService.wrapEventListener&&(r=this.tracingService.wrapEventListener(t,e,r)),this.eventManager.addEventListener(t,e,r,o)}decoratePreventDefault(t){return e=>{if(e==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(e)):t(e))===!1&&e.preventDefault()}}};function rq(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var nR=class extends hv{sharedStylesHost;hostEl;shadowRoot;constructor(t,e,i,o,r,s,a,l,c){super(t,r,s,l,c),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let d=o.styles;d=dq(o.id,d);for(let h of d){let m=document.createElement("style");a&&m.setAttribute("nonce",a),m.textContent=h,this.shadowRoot.appendChild(m)}let u=o.getExternalStyles?.();if(u)for(let h of u){let m=iR(h,r);a&&m.setAttribute("nonce",a),this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(null,e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},mv=class extends hv{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,e,i,o,r,s,a,l,c){super(t,r,s,a,l),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=o;let d=i.styles;this.styles=c?dq(c,d):d,this.styleUrls=i.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},oC=class extends mv{contentAttr;hostAttr;constructor(t,e,i,o,r,s,a,l,c){let d=o+"-"+i.id;super(t,e,i,r,s,a,l,c,d),this.contentAttr=_de(d),this.hostAttr=vde(d)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){let i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}},bde=(()=>{class n extends iC{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,o,r){return e.addEventListener(i,o,r),()=>this.removeEventListener(e,i,o,r)}removeEventListener(e,i,o,r){return e.removeEventListener(i,o,r)}static \u0275fac=function(i){return new(i||n)(ct(kt))};static \u0275prov=de({token:n,factory:n.\u0275fac})}return n})(),sq=["alt","control","meta","shift"],yde={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},xde={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},wde=(()=>{class n extends iC{constructor(e){super(e)}supports(e){return n.parseEventName(e)!=null}addEventListener(e,i,o,r){let s=n.parseEventName(i),a=n.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Km().onAndCancel(e,s.domEventName,a,r))}static parseEventName(e){let i=e.toLowerCase().split("."),o=i.shift();if(i.length===0||!(o==="keydown"||o==="keyup"))return null;let r=n._normalizeKey(i.pop()),s="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),s="code."),sq.forEach(c=>{let d=i.indexOf(c);d>-1&&(i.splice(d,1),s+=c+".")}),s+=r,i.length!=0||r.length===0)return null;let l={};return l.domEventName=o,l.fullKey=s,l}static matchEventFullKeyCode(e,i){let o=yde[e.key]||e.key,r="";return i.indexOf("code.")>-1&&(o=e.code,r="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),sq.forEach(s=>{if(s!==o){let a=xde[s];a(e)&&(r+=s+".")}}),r+=o,r===i)}static eventCallback(e,i,o){return r=>{n.matchEventFullKeyCode(r,e)&&o.runGuarded(()=>i(r))}}static _normalizeKey(e){return e==="esc"?"escape":e}static \u0275fac=function(i){return new(i||n)(ct(kt))};static \u0275prov=de({token:n,factory:n.\u0275fac})}return n})();function uq(n,t){return FW(j({rootComponent:n},Cde(t)))}function Cde(n){return{appProviders:[...kde,...n?.providers??[]],platformProviders:Ede}}function Sde(){eR.makeCurrent()}function Ide(){return new Ku}function Dde(){return fW(document),document}var Ede=[{provide:fa,useValue:jW},{provide:gW,useValue:Sde,multi:!0},{provide:kt,useFactory:Dde,deps:[]}];var kde=[{provide:dW,useValue:"root"},{provide:Ku,useFactory:Ide,deps:[]},{provide:tR,useClass:bde,multi:!0,deps:[kt,et,fa]},{provide:tR,useClass:wde,multi:!0,deps:[kt]},nC,lq,aq,{provide:il,useExisting:nC},{provide:Sx,useClass:ude,deps:[]},[]];var hq=(()=>{class n{_doc;constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static \u0275fac=function(i){return new(i||n)(ct(kt))};static \u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var bh=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=de({token:n,factory:function(i){let o=null;return i?o=new(i||n):o=ct(Mde),o},providedIn:"root"})}return n})(),Mde=(()=>{class n extends bh{_doc;constructor(e){super(),this._doc=e}sanitize(e,i){if(i==null)return null;switch(e){case os.NONE:return i;case os.HTML:return Gm(i,"HTML")?qm(i):SW(this._doc,String(i)).toString();case os.STYLE:return Gm(i,"Style")?qm(i):i;case os.SCRIPT:if(Gm(i,"Script"))return qm(i);throw new Ai(5200,!1);case os.URL:return Gm(i,"URL")?qm(i):CW(String(i));case os.RESOURCE_URL:if(Gm(i,"ResourceURL"))return qm(i);throw new Ai(5201,!1);default:throw new Ai(5202,!1)}}bypassSecurityTrustHtml(e){return vW(e)}bypassSecurityTrustStyle(e){return bW(e)}bypassSecurityTrustScript(e){return yW(e)}bypassSecurityTrustUrl(e){return xW(e)}bypassSecurityTrustResourceUrl(e){return wW(e)}static \u0275fac=function(i){return new(i||n)(ct(kt))};static \u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var di="primary",kv=Symbol("RouteTitle"),dR=class{params;constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}};function Bp(n){return new dR(n)}function Tde(n,t,e){let i=e.path.split("/");if(i.length>n.length||e.pathMatch==="full"&&(t.hasChildren()||i.length<n.length))return null;let o={};for(let r=0;r<i.length;r++){let s=i[r],a=n[r];if(s[0]===":")o[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:o}}function Ade(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!yl(n[e],t[e]))return!1;return!0}function yl(n,t){let e=n?uR(n):void 0,i=t?uR(t):void 0;if(!e||!i||e.length!=i.length)return!1;let o;for(let r=0;r<e.length;r++)if(o=e[r],!yq(n[o],t[o]))return!1;return!0}function uR(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function yq(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;let e=[...n].sort(),i=[...t].sort();return e.every((o,r)=>i[r]===o)}else return n===t}function xq(n){return n.length>0?n[n.length-1]:null}function kd(n){return qu(n)?n:fx(n)?Bn(Promise.resolve(n)):We(n)}var Rde={exact:Cq,subset:Sq},wq={exact:Ode,subset:Pde,ignored:()=>!0};function mq(n,t,e){return Rde[e.paths](n.root,t.root,e.matrixParams)&&wq[e.queryParams](n.queryParams,t.queryParams)&&!(e.fragment==="exact"&&n.fragment!==t.fragment)}function Ode(n,t){return yl(n,t)}function Cq(n,t,e){if(!xh(n.segments,t.segments)||!cC(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(let i in t.children)if(!n.children[i]||!Cq(n.children[i],t.children[i],e))return!1;return!0}function Pde(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>yq(n[e],t[e]))}function Sq(n,t,e){return Iq(n,t,t.segments,e)}function Iq(n,t,e,i){if(n.segments.length>e.length){let o=n.segments.slice(0,e.length);return!(!xh(o,e)||t.hasChildren()||!cC(o,e,i))}else if(n.segments.length===e.length){if(!xh(n.segments,e)||!cC(n.segments,e,i))return!1;for(let o in t.children)if(!n.children[o]||!Sq(n.children[o],t.children[o],i))return!1;return!0}else{let o=e.slice(0,n.segments.length),r=e.slice(n.segments.length);return!xh(n.segments,o)||!cC(n.segments,o,i)||!n.children[di]?!1:Iq(n.children[di],t,r,i)}}function cC(n,t,e){return t.every((i,o)=>wq[e](n[o].parameters,i.parameters))}var Dc=class{root;queryParams;fragment;_queryParamMap;constructor(t=new qi([],{}),e={},i=null){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap??=Bp(this.queryParams),this._queryParamMap}toString(){return Fde.serialize(this)}},qi=class{segments;children;parent=null;constructor(t,e){this.segments=t,this.children=e,Object.values(e).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return dC(this)}},yh=class{path;parameters;_parameterMap;constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap??=Bp(this.parameters),this._parameterMap}toString(){return Eq(this)}};function Lde(n,t){return xh(n,t)&&n.every((e,i)=>yl(e.parameters,t[i].parameters))}function xh(n,t){return n.length!==t.length?!1:n.every((e,i)=>e.path===t[i].path)}function Nde(n,t){let e=[];return Object.entries(n.children).forEach(([i,o])=>{i===di&&(e=e.concat(t(o,i)))}),Object.entries(n.children).forEach(([i,o])=>{i!==di&&(e=e.concat(t(o,i)))}),e}var FR=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=de({token:n,factory:()=>new bv,providedIn:"root"})}return n})(),bv=class{parse(t){let e=new mR(t);return new Dc(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){let e=`/${pv(t.root,!0)}`,i=Hde(t.queryParams),o=typeof t.fragment=="string"?`#${zde(t.fragment)}`:"";return`${e}${i}${o}`}},Fde=new bv;function dC(n){return n.segments.map(t=>Eq(t)).join("/")}function pv(n,t){if(!n.hasChildren())return dC(n);if(t){let e=n.children[di]?pv(n.children[di],!1):"",i=[];return Object.entries(n.children).forEach(([o,r])=>{o!==di&&i.push(`${o}:${pv(r,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}else{let e=Nde(n,(i,o)=>o===di?[pv(n.children[di],!1)]:[`${o}:${pv(i,!1)}`]);return Object.keys(n.children).length===1&&n.children[di]!=null?`${dC(n)}/${e[0]}`:`${dC(n)}/(${e.join("//")})`}}function Dq(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function aC(n){return Dq(n).replace(/%3B/gi,";")}function zde(n){return encodeURI(n)}function hR(n){return Dq(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function uC(n){return decodeURIComponent(n)}function pq(n){return uC(n.replace(/\+/g,"%20"))}function Eq(n){return`${hR(n.path)}${Bde(n.parameters)}`}function Bde(n){return Object.entries(n).map(([t,e])=>`;${hR(t)}=${hR(e)}`).join("")}function Hde(n){let t=Object.entries(n).map(([e,i])=>Array.isArray(i)?i.map(o=>`${aC(e)}=${aC(o)}`).join("&"):`${aC(e)}=${aC(i)}`).filter(e=>e);return t.length?`?${t.join("&")}`:""}var Vde=/^[^\/()?;#]+/;function sR(n){let t=n.match(Vde);return t?t[0]:""}var Wde=/^[^\/()?;=#]+/;function jde(n){let t=n.match(Wde);return t?t[0]:""}var Ude=/^[^=?&#]+/;function qde(n){let t=n.match(Ude);return t?t[0]:""}var Gde=/^[^&#]+/;function $de(n){let t=n.match(Gde);return t?t[0]:""}var mR=class{url;remaining;constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new qi([],{}):new qi([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[di]=new qi(t,e)),i}parseSegment(){let t=sR(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new Ai(4009,!1);return this.capture(t),new yh(uC(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let e=jde(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){let o=sR(this.remaining);o&&(i=o,this.capture(i))}t[uC(e)]=uC(i)}parseQueryParam(t){let e=qde(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){let s=$de(this.remaining);s&&(i=s,this.capture(i))}let o=pq(e),r=pq(i);if(t.hasOwnProperty(o)){let s=t[o];Array.isArray(s)||(s=[s],t[o]=s),s.push(r)}else t[o]=r}parseParens(t){let e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=sR(this.remaining),o=this.remaining[i.length];if(o!=="/"&&o!==")"&&o!==";")throw new Ai(4010,!1);let r;i.indexOf(":")>-1?(r=i.slice(0,i.indexOf(":")),this.capture(r),this.capture(":")):t&&(r=di);let s=this.parseChildren();e[r]=Object.keys(s).length===1?s[di]:new qi([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new Ai(4011,!1)}};function kq(n){return n.segments.length>0?new qi([],{[di]:n}):n}function Mq(n){let t={};for(let[i,o]of Object.entries(n.children)){let r=Mq(o);if(i===di&&r.segments.length===0&&r.hasChildren())for(let[s,a]of Object.entries(r.children))t[s]=a;else(r.segments.length>0||r.hasChildren())&&(t[i]=r)}let e=new qi(n.segments,t);return Kde(e)}function Kde(n){if(n.numberOfChildren===1&&n.children[di]){let t=n.children[di];return new qi(n.segments.concat(t.segments),t.children)}return n}function wh(n){return n instanceof Dc}function Yde(n,t,e=null,i=null){let o=Tq(n);return Aq(o,t,e,i)}function Tq(n){let t;function e(r){let s={};for(let l of r.children){let c=e(l);s[l.outlet]=c}let a=new qi(r.url,s);return r===n&&(t=a),a}let i=e(n.root),o=kq(i);return t??o}function Aq(n,t,e,i){let o=n;for(;o.parent;)o=o.parent;if(t.length===0)return aR(o,o,o,e,i);let r=Xde(t);if(r.toRoot())return aR(o,o,new qi([],{}),e,i);let s=Zde(r,o,n),a=s.processChildren?gv(s.segmentGroup,s.index,r.commands):Oq(s.segmentGroup,s.index,r.commands);return aR(o,s.segmentGroup,a,e,i)}function hC(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function yv(n){return typeof n=="object"&&n!=null&&n.outlets}function aR(n,t,e,i,o){let r={};i&&Object.entries(i).forEach(([l,c])=>{r[l]=Array.isArray(c)?c.map(d=>`${d}`):`${c}`});let s;n===t?s=e:s=Rq(n,t,e);let a=kq(Mq(s));return new Dc(a,r,o)}function Rq(n,t,e){let i={};return Object.entries(n.children).forEach(([o,r])=>{r===t?i[o]=e:i[o]=Rq(r,t,e)}),new qi(n.segments,i)}var mC=class{isAbsolute;numberOfDoubleDots;commands;constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&hC(i[0]))throw new Ai(4003,!1);let o=i.find(yv);if(o&&o!==xq(i))throw new Ai(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function Xde(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new mC(!0,0,n);let t=0,e=!1,i=n.reduce((o,r,s)=>{if(typeof r=="object"&&r!=null){if(r.outlets){let a={};return Object.entries(r.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...o,{outlets:a}]}if(r.segmentPath)return[...o,r.segmentPath]}return typeof r!="string"?[...o,r]:s===0?(r.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?e=!0:a===".."?t++:a!=""&&o.push(a))}),o):[...o,r]},[]);return new mC(e,t,i)}var Np=class{segmentGroup;processChildren;index;constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}};function Zde(n,t,e){if(n.isAbsolute)return new Np(t,!0,0);if(!e)return new Np(t,!1,NaN);if(e.parent===null)return new Np(e,!0,0);let i=hC(n.commands[0])?0:1,o=e.segments.length-1+i;return Qde(e,o,n.numberOfDoubleDots)}function Qde(n,t,e){let i=n,o=t,r=e;for(;r>o;){if(r-=o,i=i.parent,!i)throw new Ai(4005,!1);o=i.segments.length}return new Np(i,!1,o-r)}function Jde(n){return yv(n[0])?n[0].outlets:{[di]:n}}function Oq(n,t,e){if(n??=new qi([],{}),n.segments.length===0&&n.hasChildren())return gv(n,t,e);let i=eue(n,t,e),o=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){let r=new qi(n.segments.slice(0,i.pathIndex),{});return r.children[di]=new qi(n.segments.slice(i.pathIndex),n.children),gv(r,0,o)}else return i.match&&o.length===0?new qi(n.segments,{}):i.match&&!n.hasChildren()?pR(n,t,e):i.match?gv(n,0,o):pR(n,t,e)}function gv(n,t,e){if(e.length===0)return new qi(n.segments,{});{let i=Jde(e),o={};if(Object.keys(i).some(r=>r!==di)&&n.children[di]&&n.numberOfChildren===1&&n.children[di].segments.length===0){let r=gv(n.children[di],t,e);return new qi(n.segments,r.children)}return Object.entries(i).forEach(([r,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(o[r]=Oq(n.children[r],t,s))}),Object.entries(n.children).forEach(([r,s])=>{i[r]===void 0&&(o[r]=s)}),new qi(n.segments,o)}}function eue(n,t,e){let i=0,o=t,r={match:!1,pathIndex:0,commandIndex:0};for(;o<n.segments.length;){if(i>=e.length)return r;let s=n.segments[o],a=e[i];if(yv(a))break;let l=`${a}`,c=i<e.length-1?e[i+1]:null;if(o>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!gq(l,c,s))return r;i+=2}else{if(!gq(l,{},s))return r;i++}o++}return{match:!0,pathIndex:o,commandIndex:i}}function pR(n,t,e){let i=n.segments.slice(0,t),o=0;for(;o<e.length;){let r=e[o];if(yv(r)){let l=tue(r.outlets);return new qi(i,l)}if(o===0&&hC(e[0])){let l=n.segments[t];i.push(new yh(l.path,fq(e[0]))),o++;continue}let s=yv(r)?r.outlets[di]:`${r}`,a=o<e.length-1?e[o+1]:null;s&&a&&hC(a)?(i.push(new yh(s,fq(a))),o+=2):(i.push(new yh(s,{})),o++)}return new qi(i,{})}function tue(n){let t={};return Object.entries(n).forEach(([e,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(t[e]=pR(new qi([],{}),0,i))}),t}function fq(n){let t={};return Object.entries(n).forEach(([e,i])=>t[e]=`${i}`),t}function gq(n,t,e){return n==e.path&&yl(t,e.parameters)}var _v="imperative",tr=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(tr||{}),js=class{id;url;constructor(t,e){this.id=t,this.url=e}},xv=class extends js{type=tr.NavigationStart;navigationTrigger;restoredState;constructor(t,e,i="imperative",o=null){super(t,e),this.navigationTrigger=i,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},vs=class extends js{urlAfterRedirects;type=tr.NavigationEnd;constructor(t,e,i){super(t,e),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},_s=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(_s||{}),fR=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(fR||{}),Ic=class extends js{reason;code;type=tr.NavigationCancel;constructor(t,e,i,o){super(t,e),this.reason=i,this.code=o}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Ch=class extends js{reason;code;type=tr.NavigationSkipped;constructor(t,e,i,o){super(t,e),this.reason=i,this.code=o}},wv=class extends js{error;target;type=tr.NavigationError;constructor(t,e,i,o){super(t,e),this.error=i,this.target=o}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},pC=class extends js{urlAfterRedirects;state;type=tr.RoutesRecognized;constructor(t,e,i,o){super(t,e),this.urlAfterRedirects=i,this.state=o}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},gR=class extends js{urlAfterRedirects;state;type=tr.GuardsCheckStart;constructor(t,e,i,o){super(t,e),this.urlAfterRedirects=i,this.state=o}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},_R=class extends js{urlAfterRedirects;state;shouldActivate;type=tr.GuardsCheckEnd;constructor(t,e,i,o,r){super(t,e),this.urlAfterRedirects=i,this.state=o,this.shouldActivate=r}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},vR=class extends js{urlAfterRedirects;state;type=tr.ResolveStart;constructor(t,e,i,o){super(t,e),this.urlAfterRedirects=i,this.state=o}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},bR=class extends js{urlAfterRedirects;state;type=tr.ResolveEnd;constructor(t,e,i,o){super(t,e),this.urlAfterRedirects=i,this.state=o}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},yR=class{route;type=tr.RouteConfigLoadStart;constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},xR=class{route;type=tr.RouteConfigLoadEnd;constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},wR=class{snapshot;type=tr.ChildActivationStart;constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},CR=class{snapshot;type=tr.ChildActivationEnd;constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},SR=class{snapshot;type=tr.ActivationStart;constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},IR=class{snapshot;type=tr.ActivationEnd;constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Cv=class{},Hp=class{url;navigationBehaviorOptions;constructor(t,e){this.url=t,this.navigationBehaviorOptions=e}};function iue(n,t){return n.providers&&!n._injector&&(n._injector=TW(n.providers,t,`Route: ${n.path}`)),n._injector??t}function Pa(n){return n.outlet||di}function nue(n,t){let e=n.filter(i=>Pa(i)===t);return e.push(...n.filter(i=>Pa(i)!==t)),e}function Mv(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){let e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}var DR=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Mv(this.route?.snapshot)??this.rootInjector}constructor(t){this.rootInjector=t,this.children=new wC(this.rootInjector)}},wC=(()=>{class n{rootInjector;contexts=new Map;constructor(e){this.rootInjector=e}onChildOutletCreated(e,i){let o=this.getOrCreateContext(e);o.outlet=i,this.contexts.set(e,o)}onChildOutletDestroyed(e){let i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new DR(this.rootInjector),this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}static \u0275fac=function(i){return new(i||n)(ct(Rs))};static \u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),fC=class{_root;constructor(t){this._root=t}get root(){return this._root.value}parent(t){let e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){let e=ER(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){let e=ER(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){let e=kR(t,this._root);return e.length<2?[]:e[e.length-2].children.map(o=>o.value).filter(o=>o!==t)}pathFromRoot(t){return kR(t,this._root).map(e=>e.value)}};function ER(n,t){if(n===t.value)return t;for(let e of t.children){let i=ER(n,e);if(i)return i}return null}function kR(n,t){if(n===t.value)return[t];for(let e of t.children){let i=kR(n,e);if(i.length)return i.unshift(t),i}return[]}var gs=class{value;children;constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}};function Lp(n){let t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}var gC=class extends fC{snapshot;constructor(t,e){super(t),this.snapshot=e,zR(this,t)}toString(){return this.snapshot.toString()}};function Pq(n){let t=oue(n),e=new mo([new yh("",{})]),i=new mo({}),o=new mo({}),r=new mo({}),s=new mo(""),a=new er(e,i,r,s,o,di,n,t.root);return a.snapshot=t.root,new gC(new gs(a,[]),t)}function oue(n){let t={},e={},i={},o="",r=new Fp([],t,i,o,e,di,n,null,{});return new vC("",new gs(r,[]))}var er=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(t,e,i,o,r,s,a,l){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=i,this.fragmentSubject=o,this.dataSubject=r,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(nt(c=>c[kv]))??We(void 0),this.url=t,this.params=e,this.queryParams=i,this.fragment=o,this.data=r}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(nt(t=>Bp(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(nt(t=>Bp(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function _C(n,t,e="emptyOnly"){let i,{routeConfig:o}=n;return t!==null&&(e==="always"||o?.path===""||!t.component&&!t.routeConfig?.loadComponent)?i={params:j(j({},t.params),n.params),data:j(j({},t.data),n.data),resolve:j(j(j(j({},n.data),t.data),o?.data),n._resolvedData)}:i={params:j({},n.params),data:j({},n.data),resolve:j(j({},n.data),n._resolvedData??{})},o&&Nq(o)&&(i.resolve[kv]=o.title),i}var Fp=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[kv]}constructor(t,e,i,o,r,s,a,l,c){this.url=t,this.params=e,this.queryParams=i,this.fragment=o,this.data=r,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Bp(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Bp(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(i=>i.toString()).join("/"),e=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${e}')`}},vC=class extends fC{url;constructor(t,e){super(e),this.url=t,zR(this,e)}toString(){return Lq(this._root)}};function zR(n,t){t.value._routerState=n,t.children.forEach(e=>zR(n,e))}function Lq(n){let t=n.children.length>0?` { ${n.children.map(Lq).join(", ")} } `:"";return`${n.value}${t}`}function lR(n){if(n.snapshot){let t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,yl(t.queryParams,e.queryParams)||n.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&n.fragmentSubject.next(e.fragment),yl(t.params,e.params)||n.paramsSubject.next(e.params),Ade(t.url,e.url)||n.urlSubject.next(e.url),yl(t.data,e.data)||n.dataSubject.next(e.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function MR(n,t){let e=yl(n.params,t.params)&&Lde(n.url,t.url),i=!n.parent!=!t.parent;return e&&!i&&(!n.parent||MR(n.parent,t.parent))}function Nq(n){return typeof n.title=="string"||n.title===null}var rue=new ue(""),BR=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=di;activateEvents=new Le;deactivateEvents=new Le;attachEvents=new Le;detachEvents=new Le;routerOutletData=nn(void 0);parentContexts=y(wC);location=y(Go);changeDetector=y(Yt);inputBinder=y(HR,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(e){if(e.name){let{firstChange:i,previousValue:o}=e.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Ai(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Ai(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Ai(4012,!1);this.location.detach();let e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){let e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new Ai(4013,!1);this._activatedRoute=e;let o=this.location,s=e.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new TR(e,a,o.injector,this.routerOutletData);this.activated=o.createComponent(s,{index:o.length,injector:l,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(i){return new(i||n)};static \u0275dir=ge({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Di]})}return n})(),TR=class n{route;childContexts;parent;outletData;__ngOutletInjector(t){return new n(this.route,this.childContexts,t,this.outletData)}constructor(t,e,i,o){this.route=t,this.childContexts=e,this.parent=i,this.outletData=o}get(t,e){return t===er?this.route:t===wC?this.childContexts:t===rue?this.outletData:this.parent.get(t,e)}},HR=new ue("");function sue(n,t,e){let i=Sv(n,t._root,e?e._root:void 0);return new gC(i,t)}function Sv(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){let i=e.value;i._futureSnapshot=t.value;let o=aue(n,t,e);return new gs(i,o)}else{if(n.shouldAttach(t.value)){let r=n.retrieve(t.value);if(r!==null){let s=r.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>Sv(n,a)),s}}let i=lue(t.value),o=t.children.map(r=>Sv(n,r));return new gs(i,o)}}function aue(n,t,e){return t.children.map(i=>{for(let o of e.children)if(n.shouldReuseRoute(i.value,o.value.snapshot))return Sv(n,i,o);return Sv(n,i)})}function lue(n){return new er(new mo(n.url),new mo(n.params),new mo(n.queryParams),new mo(n.fragment),new mo(n.data),n.outlet,n.component,n)}var Iv=class{redirectTo;navigationBehaviorOptions;constructor(t,e){this.redirectTo=t,this.navigationBehaviorOptions=e}},Fq="ngNavigationCancelingError";function bC(n,t){let{redirectTo:e,navigationBehaviorOptions:i}=wh(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,o=zq(!1,_s.Redirect);return o.url=e,o.navigationBehaviorOptions=i,o}function zq(n,t){let e=new Error(`NavigationCancelingError: ${n||""}`);return e[Fq]=!0,e.cancellationCode=t,e}function cue(n){return Bq(n)&&wh(n.url)}function Bq(n){return!!n&&n[Fq]}var due=(n,t,e,i)=>nt(o=>(new AR(t,o.targetRouterState,o.currentRouterState,e,i).activate(n),o)),AR=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(t,e,i,o,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=o,this.inputBindingEnabled=r}activate(t){let e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),lR(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){let o=Lp(e);t.children.forEach(r=>{let s=r.value.outlet;this.deactivateRoutes(r,o[s],i),delete o[s]}),Object.values(o).forEach(r=>{this.deactivateRouteAndItsChildren(r,i)})}deactivateRoutes(t,e,i){let o=t.value,r=e?e.value:null;if(o===r)if(o.component){let s=i.getContext(o.outlet);s&&this.deactivateChildRoutes(t,e,s.children)}else this.deactivateChildRoutes(t,e,i);else r&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){let i=e.getContext(t.value.outlet),o=i&&t.value.component?i.children:e,r=Lp(t);for(let s of Object.values(r))this.deactivateRouteAndItsChildren(s,o);if(i&&i.outlet){let s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,e){let i=e.getContext(t.value.outlet),o=i&&t.value.component?i.children:e,r=Lp(t);for(let s of Object.values(r))this.deactivateRouteAndItsChildren(s,o);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(t,e,i){let o=Lp(e);t.children.forEach(r=>{this.activateRoutes(r,o[r.value.outlet],i),this.forwardEvent(new IR(r.value.snapshot))}),t.children.length&&this.forwardEvent(new CR(t.value.snapshot))}activateRoutes(t,e,i){let o=t.value,r=e?e.value:null;if(lR(o),o===r)if(o.component){let s=i.getOrCreateContext(o.outlet);this.activateChildRoutes(t,e,s.children)}else this.activateChildRoutes(t,e,i);else if(o.component){let s=i.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){let a=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),lR(a.route.value),this.activateChildRoutes(t,null,s.children)}else s.attachRef=null,s.route=o,s.outlet&&s.outlet.activateWith(o,s.injector),this.activateChildRoutes(t,null,s.children)}else this.activateChildRoutes(t,null,i)}},yC=class{path;route;constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},zp=class{component;route;constructor(t,e){this.component=t,this.route=e}};function uue(n,t,e){let i=n._root,o=t?t._root:null;return fv(i,o,e,[i.value])}function hue(n){let t=n.routeConfig?n.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:n,guards:t}}function Wp(n,t){let e=Symbol(),i=t.get(n,e);return i===e?typeof n=="function"&&!cW(n)?n:t.get(n):i}function fv(n,t,e,i,o={canDeactivateChecks:[],canActivateChecks:[]}){let r=Lp(t);return n.children.forEach(s=>{mue(s,r[s.value.outlet],e,i.concat([s.value]),o),delete r[s.value.outlet]}),Object.entries(r).forEach(([s,a])=>vv(a,e.getContext(s),o)),o}function mue(n,t,e,i,o={canDeactivateChecks:[],canActivateChecks:[]}){let r=n.value,s=t?t.value:null,a=e?e.getContext(n.value.outlet):null;if(s&&r.routeConfig===s.routeConfig){let l=pue(s,r,r.routeConfig.runGuardsAndResolvers);l?o.canActivateChecks.push(new yC(i)):(r.data=s.data,r._resolvedData=s._resolvedData),r.component?fv(n,t,a?a.children:null,i,o):fv(n,t,e,i,o),l&&a&&a.outlet&&a.outlet.isActivated&&o.canDeactivateChecks.push(new zp(a.outlet.component,s))}else s&&vv(t,a,o),o.canActivateChecks.push(new yC(i)),r.component?fv(n,null,a?a.children:null,i,o):fv(n,null,e,i,o);return o}function pue(n,t,e){if(typeof e=="function")return e(n,t);switch(e){case"pathParamsChange":return!xh(n.url,t.url);case"pathParamsOrQueryParamsChange":return!xh(n.url,t.url)||!yl(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!MR(n,t)||!yl(n.queryParams,t.queryParams);case"paramsChange":default:return!MR(n,t)}}function vv(n,t,e){let i=Lp(n),o=n.value;Object.entries(i).forEach(([r,s])=>{o.component?t?vv(s,t.children.getContext(r),e):vv(s,null,e):vv(s,t,e)}),o.component?t&&t.outlet&&t.outlet.isActivated?e.canDeactivateChecks.push(new zp(t.outlet.component,o)):e.canDeactivateChecks.push(new zp(null,o)):e.canDeactivateChecks.push(new zp(null,o))}function Tv(n){return typeof n=="function"}function fue(n){return typeof n=="boolean"}function gue(n){return n&&Tv(n.canLoad)}function _ue(n){return n&&Tv(n.canActivate)}function vue(n){return n&&Tv(n.canActivateChild)}function bue(n){return n&&Tv(n.canDeactivate)}function yue(n){return n&&Tv(n.canMatch)}function Hq(n){return n instanceof nW||n?.name==="EmptyError"}var lC=Symbol("INITIAL_VALUE");function Vp(){return In(n=>Jl(n.map(t=>t.pipe(Hn(1),Qi(lC)))).pipe(nt(t=>{for(let e of t)if(e!==!0){if(e===lC)return lC;if(e===!1||xue(e))return e}return!0}),ri(t=>t!==lC),Hn(1)))}function xue(n){return wh(n)||n instanceof Iv}function wue(n,t){return lr(e=>{let{targetSnapshot:i,currentSnapshot:o,guards:{canActivateChecks:r,canDeactivateChecks:s}}=e;return s.length===0&&r.length===0?We(Te(j({},e),{guardsResult:!0})):Cue(s,i,o,n).pipe(lr(a=>a&&fue(a)?Sue(i,r,n,t):We(a)),nt(a=>Te(j({},e),{guardsResult:a})))})}function Cue(n,t,e,i){return Bn(n).pipe(lr(o=>Mue(o.component,o.route,e,t,i)),tl(o=>o!==!0,!0))}function Sue(n,t,e,i){return Bn(t).pipe(ma(o=>dx(Due(o.route.parent,i),Iue(o.route,i),kue(n,o.path,e),Eue(n,o.route,e))),tl(o=>o!==!0,!0))}function Iue(n,t){return n!==null&&t&&t(new SR(n)),We(!0)}function Due(n,t){return n!==null&&t&&t(new wR(n)),We(!0)}function Eue(n,t,e){let i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||i.length===0)return We(!0);let o=i.map(r=>ha(()=>{let s=Mv(t)??e,a=Wp(r,s),l=_ue(a)?a.canActivate(t,n):pa(s,()=>a(t,n));return kd(l).pipe(tl())}));return We(o).pipe(Vp())}function kue(n,t,e){let i=t[t.length-1],r=t.slice(0,t.length-1).reverse().map(s=>hue(s)).filter(s=>s!==null).map(s=>ha(()=>{let a=s.guards.map(l=>{let c=Mv(s.node)??e,d=Wp(l,c),u=vue(d)?d.canActivateChild(i,n):pa(c,()=>d(i,n));return kd(u).pipe(tl())});return We(a).pipe(Vp())}));return We(r).pipe(Vp())}function Mue(n,t,e,i,o){let r=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!r||r.length===0)return We(!0);let s=r.map(a=>{let l=Mv(t)??o,c=Wp(a,l),d=bue(c)?c.canDeactivate(n,t,e,i):pa(l,()=>c(n,t,e,i));return kd(d).pipe(tl())});return We(s).pipe(Vp())}function Tue(n,t,e,i){let o=t.canLoad;if(o===void 0||o.length===0)return We(!0);let r=o.map(s=>{let a=Wp(s,n),l=gue(a)?a.canLoad(t,e):pa(n,()=>a(t,e));return kd(l)});return We(r).pipe(Vp(),Vq(i))}function Vq(n){return tW(Ji(t=>{if(typeof t!="boolean")throw bC(n,t)}),nt(t=>t===!0))}function Aue(n,t,e,i){let o=t.canMatch;if(!o||o.length===0)return We(!0);let r=o.map(s=>{let a=Wp(s,n),l=yue(a)?a.canMatch(t,e):pa(n,()=>a(t,e));return kd(l)});return We(r).pipe(Vp(),Vq(i))}var Dv=class{segmentGroup;constructor(t){this.segmentGroup=t||null}},Ev=class extends Error{urlTree;constructor(t){super(),this.urlTree=t}};function Pp(n){return ua(new Dv(n))}function Rue(n){return ua(new Ai(4e3,!1))}function Oue(n){return ua(zq(!1,_s.GuardRejected))}var RR=class{urlSerializer;urlTree;constructor(t,e){this.urlSerializer=t,this.urlTree=e}lineralizeSegments(t,e){let i=[],o=e.root;for(;;){if(i=i.concat(o.segments),o.numberOfChildren===0)return We(i);if(o.numberOfChildren>1||!o.children[di])return Rue(`${t.redirectTo}`);o=o.children[di]}}applyRedirectCommands(t,e,i,o,r){if(typeof e!="string"){let a=e,{queryParams:l,fragment:c,routeConfig:d,url:u,outlet:h,params:m,data:f,title:p}=o,g=pa(r,()=>a({params:m,data:f,queryParams:l,fragment:c,routeConfig:d,url:u,outlet:h,title:p}));if(g instanceof Dc)throw new Ev(g);e=g}let s=this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i);if(e[0]==="/")throw new Ev(s);return s}applyRedirectCreateUrlTree(t,e,i,o){let r=this.createSegmentGroup(t,e.root,i,o);return new Dc(r,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){let i={};return Object.entries(t).forEach(([o,r])=>{if(typeof r=="string"&&r[0]===":"){let a=r.substring(1);i[o]=e[a]}else i[o]=r}),i}createSegmentGroup(t,e,i,o){let r=this.createSegments(t,e.segments,i,o),s={};return Object.entries(e.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(t,l,i,o)}),new qi(r,s)}createSegments(t,e,i,o){return e.map(r=>r.path[0]===":"?this.findPosParam(t,r,o):this.findOrReturn(r,i))}findPosParam(t,e,i){let o=i[e.path.substring(1)];if(!o)throw new Ai(4001,!1);return o}findOrReturn(t,e){let i=0;for(let o of e){if(o.path===t.path)return e.splice(i),o;i++}return t}},OR={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Pue(n,t,e,i,o){let r=Wq(n,t,e);return r.matched?(i=iue(t,i),Aue(i,t,e,o).pipe(nt(s=>s===!0?r:j({},OR)))):We(r)}function Wq(n,t,e){if(t.path==="**")return Lue(e);if(t.path==="")return t.pathMatch==="full"&&(n.hasChildren()||e.length>0)?j({},OR):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};let o=(t.matcher||Tde)(e,n,t);if(!o)return j({},OR);let r={};Object.entries(o.posParams??{}).forEach(([a,l])=>{r[a]=l.path});let s=o.consumed.length>0?j(j({},r),o.consumed[o.consumed.length-1].parameters):r;return{matched:!0,consumedSegments:o.consumed,remainingSegments:e.slice(o.consumed.length),parameters:s,positionalParamSegments:o.posParams??{}}}function Lue(n){return{matched:!0,parameters:n.length>0?xq(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function _q(n,t,e,i){return e.length>0&&zue(n,e,i)?{segmentGroup:new qi(t,Fue(i,new qi(e,n.children))),slicedSegments:[]}:e.length===0&&Bue(n,e,i)?{segmentGroup:new qi(n.segments,Nue(n,e,i,n.children)),slicedSegments:e}:{segmentGroup:new qi(n.segments,n.children),slicedSegments:e}}function Nue(n,t,e,i){let o={};for(let r of e)if(CC(n,t,r)&&!i[Pa(r)]){let s=new qi([],{});o[Pa(r)]=s}return j(j({},i),o)}function Fue(n,t){let e={};e[di]=t;for(let i of n)if(i.path===""&&Pa(i)!==di){let o=new qi([],{});e[Pa(i)]=o}return e}function zue(n,t,e){return e.some(i=>CC(n,t,i)&&Pa(i)!==di)}function Bue(n,t,e){return e.some(i=>CC(n,t,i))}function CC(n,t,e){return(n.hasChildren()||t.length>0)&&e.pathMatch==="full"?!1:e.path===""}function Hue(n,t,e){return t.length===0&&!n.children[e]}var PR=class{};function Vue(n,t,e,i,o,r,s="emptyOnly"){return new LR(n,t,e,i,o,s,r).recognize()}var Wue=31,LR=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(t,e,i,o,r,s,a){this.injector=t,this.configLoader=e,this.rootComponentType=i,this.config=o,this.urlTree=r,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new RR(this.urlSerializer,this.urlTree)}noMatchError(t){return new Ai(4002,`'${t.segmentGroup}'`)}recognize(){let t=_q(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(nt(({children:e,rootSnapshot:i})=>{let o=new gs(i,e),r=new vC("",o),s=Yde(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,r.url=this.urlSerializer.serialize(s),{state:r,tree:s}}))}match(t){let e=new Fp([],Object.freeze({}),Object.freeze(j({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),di,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,di,e).pipe(nt(i=>({children:i,rootSnapshot:e})),sd(i=>{if(i instanceof Ev)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof Dv?this.noMatchError(i):i}))}processSegmentGroup(t,e,i,o,r){return i.segments.length===0&&i.hasChildren()?this.processChildren(t,e,i,r):this.processSegment(t,e,i,i.segments,o,!0,r).pipe(nt(s=>s instanceof gs?[s]:[]))}processChildren(t,e,i,o){let r=[];for(let s of Object.keys(i.children))s==="primary"?r.unshift(s):r.push(s);return Bn(r).pipe(ma(s=>{let a=i.children[s],l=nue(e,s);return this.processSegmentGroup(t,l,a,s,o)}),aW((s,a)=>(s.push(...a),s)),MT(null),sW(),lr(s=>{if(s===null)return Pp(i);let a=jq(s);return jue(a),We(a)}))}processSegment(t,e,i,o,r,s,a){return Bn(e).pipe(ma(l=>this.processSegmentAgainstRoute(l._injector??t,e,l,i,o,r,s,a).pipe(sd(c=>{if(c instanceof Dv)return We(null);throw c}))),tl(l=>!!l),sd(l=>{if(Hq(l))return Hue(i,o,r)?We(new PR):Pp(i);throw l}))}processSegmentAgainstRoute(t,e,i,o,r,s,a,l){return Pa(i)!==s&&(s===di||!CC(o,r,i))?Pp(o):i.redirectTo===void 0?this.matchSegmentAgainstRoute(t,o,i,r,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,o,e,i,r,s,l):Pp(o)}expandSegmentAgainstRouteUsingRedirect(t,e,i,o,r,s,a){let{matched:l,parameters:c,consumedSegments:d,positionalParamSegments:u,remainingSegments:h}=Wq(e,o,r);if(!l)return Pp(e);typeof o.redirectTo=="string"&&o.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Wue&&(this.allowRedirects=!1));let m=new Fp(r,c,Object.freeze(j({},this.urlTree.queryParams)),this.urlTree.fragment,vq(o),Pa(o),o.component??o._loadedComponent??null,o,bq(o)),f=_C(m,a,this.paramsInheritanceStrategy);m.params=Object.freeze(f.params),m.data=Object.freeze(f.data);let p=this.applyRedirects.applyRedirectCommands(d,o.redirectTo,u,m,t);return this.applyRedirects.lineralizeSegments(o,p).pipe(lr(g=>this.processSegment(t,i,e,g.concat(h),s,!1,a)))}matchSegmentAgainstRoute(t,e,i,o,r,s){let a=Pue(e,i,o,t,this.urlSerializer);return i.path==="**"&&(e.children={}),a.pipe(In(l=>l.matched?(t=i._injector??t,this.getChildConfig(t,i,o).pipe(In(({routes:c})=>{let d=i._loadedInjector??t,{parameters:u,consumedSegments:h,remainingSegments:m}=l,f=new Fp(h,u,Object.freeze(j({},this.urlTree.queryParams)),this.urlTree.fragment,vq(i),Pa(i),i.component??i._loadedComponent??null,i,bq(i)),p=_C(f,s,this.paramsInheritanceStrategy);f.params=Object.freeze(p.params),f.data=Object.freeze(p.data);let{segmentGroup:g,slicedSegments:v}=_q(e,h,m,c);if(v.length===0&&g.hasChildren())return this.processChildren(d,c,g,f).pipe(nt(C=>new gs(f,C)));if(c.length===0&&v.length===0)return We(new gs(f,[]));let b=Pa(i)===r;return this.processSegment(d,c,g,v,b?di:r,!0,f).pipe(nt(C=>new gs(f,C instanceof gs?[C]:[])))}))):Pp(e)))}getChildConfig(t,e,i){return e.children?We({routes:e.children,injector:t}):e.loadChildren?e._loadedRoutes!==void 0?We({routes:e._loadedRoutes,injector:e._loadedInjector}):Tue(t,e,i,this.urlSerializer).pipe(lr(o=>o?this.configLoader.loadChildren(t,e).pipe(Ji(r=>{e._loadedRoutes=r.routes,e._loadedInjector=r.injector})):Oue(e))):We({routes:[],injector:t})}};function jue(n){n.sort((t,e)=>t.value.outlet===di?-1:e.value.outlet===di?1:t.value.outlet.localeCompare(e.value.outlet))}function Uue(n){let t=n.value.routeConfig;return t&&t.path===""}function jq(n){let t=[],e=new Set;for(let i of n){if(!Uue(i)){t.push(i);continue}let o=t.find(r=>i.value.routeConfig===r.value.routeConfig);o!==void 0?(o.children.push(...i.children),e.add(o)):t.push(i)}for(let i of e){let o=jq(i.children);t.push(new gs(i.value,o))}return t.filter(i=>!e.has(i))}function vq(n){return n.data||{}}function bq(n){return n.resolve||{}}function que(n,t,e,i,o,r){return lr(s=>Vue(n,t,e,i,s.extractedUrl,o,r).pipe(nt(({state:a,tree:l})=>Te(j({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function Gue(n,t){return lr(e=>{let{targetSnapshot:i,guards:{canActivateChecks:o}}=e;if(!o.length)return We(e);let r=new Set(o.map(l=>l.route)),s=new Set;for(let l of r)if(!s.has(l))for(let c of Uq(l))s.add(c);let a=0;return Bn(s).pipe(ma(l=>r.has(l)?$ue(l,i,n,t):(l.data=_C(l,l.parent,n).resolve,We(void 0))),Ji(()=>a++),AT(1),lr(l=>a===s.size?We(e):da))})}function Uq(n){let t=n.children.map(e=>Uq(e)).flat();return[n,...t]}function $ue(n,t,e,i){let o=n.routeConfig,r=n._resolve;return o?.title!==void 0&&!Nq(o)&&(r[kv]=o.title),Kue(r,n,t,i).pipe(nt(s=>(n._resolvedData=s,n.data=_C(n,n.parent,e).resolve,null)))}function Kue(n,t,e,i){let o=uR(n);if(o.length===0)return We({});let r={};return Bn(o).pipe(lr(s=>Yue(n[s],t,e,i).pipe(tl(),Ji(a=>{if(a instanceof Iv)throw bC(new bv,a);r[s]=a}))),AT(1),nt(()=>r),sd(s=>Hq(s)?da:ua(s)))}function Yue(n,t,e,i){let o=Mv(t)??i,r=Wp(n,o),s=r.resolve?r.resolve(t,e):pa(o,()=>r(t,e));return kd(s)}function cR(n){return In(t=>{let e=n(t);return e?Bn(e).pipe(nt(()=>t)):We(t)})}var qq=(()=>{class n{buildTitle(e){let i,o=e.root;for(;o!==void 0;)i=this.getResolvedTitleForRoute(o)??i,o=o.children.find(r=>r.outlet===di);return i}getResolvedTitleForRoute(e){return e.data[kv]}static \u0275fac=function(i){return new(i||n)};static \u0275prov=de({token:n,factory:()=>y(Xue),providedIn:"root"})}return n})(),Xue=(()=>{class n extends qq{title;constructor(e){super(),this.title=e}updateTitle(e){let i=this.buildTitle(e);i!==void 0&&this.title.setTitle(i)}static \u0275fac=function(i){return new(i||n)(ct(hq))};static \u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),VR=new ue("",{providedIn:"root",factory:()=>({})}),Zue=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Q({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(i,o){i&1&&X(0,"router-outlet")},dependencies:[BR],encapsulation:2})}return n})();function WR(n){let t=n.children&&n.children.map(WR),e=t?Te(j({},n),{children:t}):j({},n);return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==di&&(e.component=Zue),e}var jR=new ue(""),Que=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=y(VT);loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return We(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);let i=kd(e.loadComponent()).pipe(nt(Gq),Ji(r=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=r}),ec(()=>{this.componentLoaders.delete(e)})),o=new w_(i,()=>new Ee).pipe(IT());return this.componentLoaders.set(e,o),o}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return We({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let r=Jue(i,this.compiler,e,this.onLoadEndListener).pipe(ec(()=>{this.childrenLoaders.delete(i)})),s=new w_(r,()=>new Ee).pipe(IT());return this.childrenLoaders.set(i,s),s}static \u0275fac=function(i){return new(i||n)};static \u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Jue(n,t,e,i){return kd(n.loadChildren()).pipe(nt(Gq),lr(o=>o instanceof MW||Array.isArray(o)?We(o):Bn(t.compileModuleAsync(o))),nt(o=>{i&&i(n);let r,s,a=!1;return Array.isArray(o)?(s=o,a=!0):(r=o.create(e).injector,s=r.get(jR,[],{optional:!0,self:!0}).flat()),{routes:s.map(WR),injector:r}}))}function ehe(n){return n&&typeof n=="object"&&"default"in n}function Gq(n){return ehe(n)?n.default:n}var UR=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=de({token:n,factory:()=>y(the),providedIn:"root"})}return n})(),the=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}static \u0275fac=function(i){return new(i||n)};static \u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ihe=new ue("");var nhe=new ue(""),ohe=(()=>{class n{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new Ee;transitionAbortSubject=new Ee;configLoader=y(Que);environmentInjector=y(Rs);destroyRef=y(hW);urlSerializer=y(FR);rootContexts=y(wC);location=y(Ym);inputBindingEnabled=y(HR,{optional:!0})!==null;titleStrategy=y(qq);options=y(VR,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=y(UR);createViewTransition=y(ihe,{optional:!0});navigationErrorHandler=y(nhe,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>We(void 0);rootComponentType=null;destroyed=!1;constructor(){let e=o=>this.events.next(new yR(o)),i=o=>this.events.next(new xR(o));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=e,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(e){let i=++this.navigationId;this.transitions?.next(Te(j(j({},this.transitions.value),e),{id:i}))}setupNavigations(e,i,o){return this.transitions=new mo({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:_v,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ri(r=>r.id!==0),nt(r=>Te(j({},r),{extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),In(r=>{let s=!1,a=!1;return We(r).pipe(In(l=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",_s.SupersededByNewNavigation),da;this.currentTransition=r,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,targetBrowserUrl:typeof l.extras.browserUrl=="string"?this.urlSerializer.parse(l.extras.browserUrl):l.extras.browserUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?Te(j({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let c=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=l.extras.onSameUrlNavigation??e.onSameUrlNavigation;if(!c&&d!=="reload"){let u="";return this.events.next(new Ch(l.id,this.urlSerializer.serialize(l.rawUrl),u,fR.IgnoredSameUrlNavigation)),l.resolve(!1),da}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return We(l).pipe(In(u=>{let h=this.transitions?.getValue();return this.events.next(new xv(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),h!==this.transitions?.getValue()?da:Promise.resolve(u)}),que(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),Ji(u=>{r.targetSnapshot=u.targetSnapshot,r.urlAfterRedirects=u.urlAfterRedirects,this.currentNavigation=Te(j({},this.currentNavigation),{finalUrl:u.urlAfterRedirects});let h=new pC(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(h)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:u,extractedUrl:h,source:m,restoredState:f,extras:p}=l,g=new xv(u,this.urlSerializer.serialize(h),m,f);this.events.next(g);let v=Pq(this.rootComponentType).snapshot;return this.currentTransition=r=Te(j({},l),{targetSnapshot:v,urlAfterRedirects:h,extras:Te(j({},p),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=h,We(r)}else{let u="";return this.events.next(new Ch(l.id,this.urlSerializer.serialize(l.extractedUrl),u,fR.IgnoredByUrlHandlingStrategy)),l.resolve(!1),da}}),Ji(l=>{let c=new gR(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}),nt(l=>(this.currentTransition=r=Te(j({},l),{guards:uue(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),r)),wue(this.environmentInjector,l=>this.events.next(l)),Ji(l=>{if(r.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw bC(this.urlSerializer,l.guardsResult);let c=new _R(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(c)}),ri(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",_s.GuardRejected),!1)),cR(l=>{if(l.guards.canActivateChecks.length)return We(l).pipe(Ji(c=>{let d=new vR(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}),In(c=>{let d=!1;return We(c).pipe(Gue(this.paramsInheritanceStrategy,this.environmentInjector),Ji({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(c,"",_s.NoDataFromResolver)}}))}),Ji(c=>{let d=new bR(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}))}),cR(l=>{let c=d=>{let u=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&u.push(this.configLoader.loadComponent(d.routeConfig).pipe(Ji(h=>{d.component=h}),nt(()=>{})));for(let h of d.children)u.push(...c(h));return u};return Jl(c(l.targetSnapshot.root)).pipe(MT(null),Hn(1))}),cR(()=>this.afterPreactivation()),In(()=>{let{currentSnapshot:l,targetSnapshot:c}=r,d=this.createViewTransition?.(this.environmentInjector,l.root,c.root);return d?Bn(d).pipe(nt(()=>r)):We(r)}),nt(l=>{let c=sue(e.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=r=Te(j({},l),{targetRouterState:c}),this.currentNavigation.targetRouterState=c,r}),Ji(()=>{this.events.next(new Cv)}),due(this.rootContexts,e.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Hn(1),Ji({next:l=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new vs(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{s=!0}}),vt(this.transitionAbortSubject.pipe(Ji(l=>{throw l}))),ec(()=>{!s&&!a&&this.cancelNavigationTransition(r,"",_s.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),sd(l=>{if(this.destroyed)return r.resolve(!1),da;if(a=!0,Bq(l))this.events.next(new Ic(r.id,this.urlSerializer.serialize(r.extractedUrl),l.message,l.cancellationCode)),cue(l)?this.events.next(new Hp(l.url,l.navigationBehaviorOptions)):r.resolve(!1);else{let c=new wv(r.id,this.urlSerializer.serialize(r.extractedUrl),l,r.targetSnapshot??void 0);try{let d=pa(this.environmentInjector,()=>this.navigationErrorHandler?.(c));if(d instanceof Iv){let{message:u,cancellationCode:h}=bC(this.urlSerializer,d);this.events.next(new Ic(r.id,this.urlSerializer.serialize(r.extractedUrl),u,h)),this.events.next(new Hp(d.redirectTo,d.navigationBehaviorOptions))}else throw this.events.next(c),l}catch(d){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(d)}}return da}))}))}cancelNavigationTransition(e,i,o){let r=new Ic(e.id,this.urlSerializer.serialize(e.extractedUrl),i,o);this.events.next(r),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let e=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return e.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(i){return new(i||n)};static \u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function rhe(n){return n!==_v}var qR=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=de({token:n,factory:()=>y(she),providedIn:"root"})}return n})(),NR=class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}},she=(()=>{class n extends NR{static \u0275fac=(()=>{let e;return function(o){return(e||(e=ti(n)))(o||n)}})();static \u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),$q=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=de({token:n,factory:()=>y(ahe),providedIn:"root"})}return n})(),ahe=(()=>{class n extends $q{location=y(Ym);urlSerializer=y(FR);options=y(VR,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";urlHandlingStrategy=y(UR);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Dc;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}routerState=Pq(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(i=>{i.type==="popstate"&&e(i.url,i.state)})}handleRouterEvent(e,i){if(e instanceof xv)this.stateMemento=this.createStateMemento();else if(e instanceof Ch)this.rawUrlTree=i.initialUrl;else if(e instanceof pC){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(i.targetBrowserUrl??o,i)}}else e instanceof Cv?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(i.targetBrowserUrl??this.rawUrlTree,i)):e instanceof Ic&&(e.code===_s.GuardRejected||e.code===_s.NoDataFromResolver)?this.restoreHistory(i):e instanceof wv?this.restoreHistory(i,!0):e instanceof vs&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,i){let o=e instanceof Dc?this.urlSerializer.serialize(e):e;if(this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl){let r=this.browserPageId,s=j(j({},i.extras.state),this.generateNgRouterState(i.id,r));this.location.replaceState(o,"",s)}else{let r=j(j({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(o,"",r)}}restoreHistory(e,i=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,r=this.currentPageId-o;r!==0?this.location.historyGo(r):this.currentUrlTree===e.finalUrl&&r===0&&(this.resetState(e),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,i){return this.canceledNavigationResolution==="computed"?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}static \u0275fac=(()=>{let e;return function(o){return(e||(e=ti(n)))(o||n)}})();static \u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function lhe(n,t){n.events.pipe(ri(e=>e instanceof vs||e instanceof Ic||e instanceof wv||e instanceof Ch),nt(e=>e instanceof vs||e instanceof Ch?0:(e instanceof Ic?e.code===_s.Redirect||e.code===_s.SupersededByNewNavigation:!1)?2:1),ri(e=>e!==2),Hn(1)).subscribe(()=>{t()})}var che={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},dhe={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},xi=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=y(BT);stateManager=y($q);options=y(VR,{optional:!0})||{};pendingTasks=y(I_);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=y(ohe);urlSerializer=y(FR);location=y(Ym);urlHandlingStrategy=y(UR);_events=new Ee;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=y(qR);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=y(jR,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!y(HR,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}eventsSubscription=new fn;subscribeToNavigationEvents(){let e=this.navigationTransitions.events.subscribe(i=>{try{let o=this.navigationTransitions.currentTransition,r=this.navigationTransitions.currentNavigation;if(o!==null&&r!==null){if(this.stateManager.handleRouterEvent(i,r),i instanceof Ic&&i.code!==_s.Redirect&&i.code!==_s.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof vs)this.navigated=!0;else if(i instanceof Hp){let s=i.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(i.url,o.currentRawUrl),l=j({browserUrl:o.extras.browserUrl,info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:o.extras.replaceUrl||this.urlUpdateStrategy==="eager"||rhe(o.source)},s);this.scheduleNavigation(a,_v,null,l,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}hhe(i)&&this._events.next(i)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),_v,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(e,"popstate",i)},0)})}navigateToSyncWithBrowser(e,i,o){let r={replaceUrl:!0},s=o?.navigationId?o:null;if(o){let l=j({},o);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(r.state=l)}let a=this.parseUrl(e);this.scheduleNavigation(a,i,s,r)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(WR),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,i={}){let{relativeTo:o,queryParams:r,fragment:s,queryParamsHandling:a,preserveFragment:l}=i,c=l?this.currentUrlTree.fragment:s,d=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":d=j(j({},this.currentUrlTree.queryParams),r);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=r||null}d!==null&&(d=this.removeEmptyProps(d));let u;try{let h=o?o.snapshot:this.routerState.snapshot.root;u=Tq(h)}catch{(typeof e[0]!="string"||e[0][0]!=="/")&&(e=[]),u=this.currentUrlTree.root}return Aq(u,e,d,c??null)}navigateByUrl(e,i={skipLocationChange:!1}){let o=wh(e)?e:this.parseUrl(e),r=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(r,_v,null,i)}navigate(e,i={skipLocationChange:!1}){return uhe(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.urlSerializer.parse("/")}}isActive(e,i){let o;if(i===!0?o=j({},che):i===!1?o=j({},dhe):o=i,wh(e))return mq(this.currentUrlTree,e,o);let r=this.parseUrl(e);return mq(this.currentUrlTree,r,o)}removeEmptyProps(e){return Object.entries(e).reduce((i,[o,r])=>(r!=null&&(i[o]=r),i),{})}scheduleNavigation(e,i,o,r,s){if(this.disposed)return Promise.resolve(!1);let a,l,c;s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((u,h)=>{a=u,l=h});let d=this.pendingTasks.add();return lhe(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:r,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(u=>Promise.reject(u))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function uhe(n){for(let t=0;t<n.length;t++)if(n[t]==null)throw new Ai(4008,!1)}function hhe(n){return!(n instanceof Cv)&&!(n instanceof Hp)}var xC=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new Ee;constructor(e,i,o,r,s,a){this.router=e,this.route=i,this.tabIndexAttribute=o,this.renderer=r,this.el=s,this.locationStrategy=a;let l=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=e.events.subscribe(c=>{c instanceof vs&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(e){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(e){e==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(wh(e)?this.routerLinkInput=e:this.routerLinkInput=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0"))}onClick(e,i,o,r,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(e!==0||i||o||r||s||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let e=this.urlTree;this.href=e!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(e)):null;let i=this.href===null?null:IW(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(e,i){let o=this.renderer,r=this.el.nativeElement;i!==null?o.setAttribute(r,e,i):o.removeAttribute(r,e)}get urlTree(){return this.routerLinkInput===null?null:wh(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(i){return new(i||n)(ie(xi),ie(er),uW("tabindex"),ie(on),ie(He),ie(WT))};static \u0275dir=ge({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,o){i&1&&le("click",function(s){return o.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),i&2&&Re("target",o.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Ke],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Ke],replaceUrl:[2,"replaceUrl","replaceUrl",Ke],routerLink:"routerLink"},features:[Ut,Di]})}return n})(),Kq=(()=>{class n{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new Le;constructor(e,i,o,r,s){this.router=e,this.element=i,this.renderer=o,this.cdr=r,this.link=s,this.routerEventsSubscription=e.events.subscribe(a=>{a instanceof vs&&this.update()})}ngAfterContentInit(){We(this.links.changes,We(null)).pipe(ET()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let e=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=Bn(e).pipe(ET()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(e){let i=Array.isArray(e)?e:e.split(" ");this.classes=i.filter(o=>!!o)}ngOnChanges(e){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let e=this.hasActiveLinks();this.classes.forEach(i=>{e?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),e&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==e&&(this._isActive=e,this.cdr.markForCheck(),this.isActiveChange.emit(e))})}isLinkActive(e){let i=mhe(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return o=>{let r=o.urlTree;return r?e.isActive(r,i):!1}}hasActiveLinks(){let e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.links.some(e)}static \u0275fac=function(i){return new(i||n)(ie(xi),ie(He),ie(on),ie(Yt),ie(xC,8))};static \u0275dir=ge({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(i,o,r){if(i&1&&bt(r,xC,5),i&2){let s;me(s=pe())&&(o.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[Di]})}return n})();function mhe(n){return!!n.paths}var phe=new ue("");function Yq(n,...t){return tc([{provide:jR,multi:!0,useValue:n},[],{provide:er,useFactory:fhe,deps:[xi]},{provide:HT,multi:!0,useFactory:ghe},t.map(e=>e.\u0275providers)])}function fhe(n){return n.routerState.root}function ghe(){let n=y(Si);return t=>{let e=n.get(ad);if(t!==e.components[0])return;let i=n.get(xi),o=n.get(_he);n.get(vhe)===1&&i.initialNavigation(),n.get(bhe,null,PT.Optional)?.setUpPreloading(),n.get(phe,null,PT.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}var _he=new ue("",{factory:()=>new Ee}),vhe=new ue("",{providedIn:"root",factory:()=>1});var bhe=new ue("");var $R;try{$R=typeof Intl<"u"&&Intl.v8BreakIterator}catch{$R=!1}var Zt=(()=>{class n{_platformId=y(fa);isBrowser=this._platformId?Cx(this._platformId):typeof document=="object"&&!!document;EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent);TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent);BLINK=this.isBrowser&&!!(window.chrome||$R)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT;WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT;IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window);FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent);ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT;SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT;constructor(){}static \u0275fac=function(i){return new(i||n)};static \u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var jp,Xq=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function KR(){if(jp)return jp;if(typeof document!="object"||!document)return jp=new Set(Xq),jp;let n=document.createElement("input");return jp=new Set(Xq.filter(t=>(n.setAttribute("type",t),n.type===t))),jp}var Av;function yhe(){if(Av==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Av=!0}))}finally{Av=Av||!1}return Av}function xl(n){return yhe()?n:!!n.capture}var La=function(n){return n[n.NORMAL=0]="NORMAL",n[n.NEGATED=1]="NEGATED",n[n.INVERTED=2]="INVERTED",n}(La||{}),SC,Sh;function IC(){if(Sh==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return Sh=!1,Sh;if("scrollBehavior"in document.documentElement.style)Sh=!0;else{let n=Element.prototype.scrollTo;n?Sh=!/\{\s*\[native code\]\s*\}/.test(n.toString()):Sh=!1}}return Sh}function Up(){if(typeof document!="object"||!document)return La.NORMAL;if(SC==null){let n=document.createElement("div"),t=n.style;n.dir="rtl",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";let e=document.createElement("div"),i=e.style;i.width="2px",i.height="1px",n.appendChild(e),document.body.appendChild(n),SC=La.NORMAL,n.scrollLeft===0&&(n.scrollLeft=1,SC=n.scrollLeft===0?La.NEGATED:La.INVERTED),n.remove()}return SC}var GR;function xhe(){if(GR==null){let n=typeof document<"u"?document.head:null;GR=!!(n&&(n.createShadowRoot||n.attachShadow))}return GR}function Zq(n){if(xhe()){let t=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function qp(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){let t=n.shadowRoot.activeElement;if(t===n)break;n=t}return n}function Or(n){return n.composedPath?n.composedPath()[0]:n.target}function YR(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}var DC=new WeakMap,kn=(()=>{class n{_appRef;_injector=y(Si);_environmentInjector=y(Rs);load(e){let i=this._appRef=this._appRef||this._injector.get(ad),o=DC.get(i);o||(o={loaders:new Set,refs:[]},DC.set(i,o),i.onDestroy(()=>{DC.get(i)?.refs.forEach(r=>r.destroy()),DC.delete(i)})),o.loaders.has(e)||(o.loaders.add(e),o.refs.push(_x(e,{environmentInjector:this._environmentInjector})))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ih=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Q({type:n,selectors:[["ng-component"]],exportAs:["cdkVisuallyHidden"],decls:0,vars:0,template:function(i,o){},styles:[".cdk-visually-hidden{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px;white-space:nowrap;outline:0;-webkit-appearance:none;-moz-appearance:none;left:0}[dir=rtl] .cdk-visually-hidden{left:auto;right:0}"],encapsulation:2,changeDetection:0})}return n})();function ao(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function yn(n){return n!=null&&`${n}`!="false"}function Mo(n,t=0){return XR(n)?Number(n):arguments.length===2?t:0}function XR(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}function Gp(n){return Array.isArray(n)?n:[n]}function lo(n){return n==null?"":typeof n=="string"?n:`${n}px`}function Gr(n){return n instanceof He?n.nativeElement:n}function whe(n){if(n.type==="characterData"&&n.target instanceof Comment)return!0;if(n.type==="childList"){for(let t=0;t<n.addedNodes.length;t++)if(!(n.addedNodes[t]instanceof Comment))return!1;for(let t=0;t<n.removedNodes.length;t++)if(!(n.removedNodes[t]instanceof Comment))return!1;return!0}return!1}var Che=(()=>{class n{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),She=(()=>{class n{_mutationObserverFactory=y(Che);_observedElements=new Map;_ngZone=y(et);constructor(){}ngOnDestroy(){this._observedElements.forEach((e,i)=>this._cleanupObserver(i))}observe(e){let i=Gr(e);return new ar(o=>{let s=this._observeElement(i).pipe(nt(a=>a.filter(l=>!whe(l))),ri(a=>!!a.length)).subscribe(a=>{this._ngZone.run(()=>{o.next(a)})});return()=>{s.unsubscribe(),this._unobserveElement(i)}})}_observeElement(e){return this._ngZone.runOutsideAngular(()=>{if(this._observedElements.has(e))this._observedElements.get(e).count++;else{let i=new Ee,o=this._mutationObserverFactory.create(r=>i.next(r));o&&o.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:o,stream:i,count:1})}return this._observedElements.get(e).stream})}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){let{observer:i,stream:o}=this._observedElements.get(e);i&&i.disconnect(),o.complete(),this._observedElements.delete(e)}}static \u0275fac=function(i){return new(i||n)};static \u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Qq=(()=>{class n{_contentObserver=y(She);_elementRef=y(He);event=new Le;get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._disabled?this._unsubscribe():this._subscribe()}_disabled=!1;get debounce(){return this._debounce}set debounce(e){this._debounce=Mo(e),this._subscribe()}_debounce;_currentSubscription=null;constructor(){}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();let e=this._contentObserver.observe(this._elementRef);this._currentSubscription=(this.debounce?e.pipe(el(this.debounce)):e).subscribe(this.event)}_unsubscribe(){this._currentSubscription?.unsubscribe()}static \u0275fac=function(i){return new(i||n)};static \u0275dir=ge({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:[2,"cdkObserveContentDisabled","disabled",Ke],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"],features:[Ut]})}return n})();var Jq=new Set,Dh,Ihe=(()=>{class n{_platform=y(Zt);_nonce=y(D_,{optional:!0});_matchMedia;constructor(){this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Ehe}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&Dhe(e,this._nonce),this._matchMedia(e)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Dhe(n,t){if(!Jq.has(n))try{Dh||(Dh=document.createElement("style"),t&&Dh.setAttribute("nonce",t),Dh.setAttribute("type","text/css"),document.head.appendChild(Dh)),Dh.sheet&&(Dh.sheet.insertRule(`@media ${n} {body{ }}`,0),Jq.add(n))}catch(e){console.error(e)}}function Ehe(n){return{matches:n==="all"||n==="",media:n,addListener:()=>{},removeListener:()=>{}}}var EC=(()=>{class n{_mediaMatcher=y(Ihe);_zone=y(et);_queries=new Map;_destroySubject=new Ee;constructor(){}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return e8(Gp(e)).some(o=>this._registerQuery(o).mql.matches)}observe(e){let o=e8(Gp(e)).map(s=>this._registerQuery(s).observable),r=Jl(o);return r=dx(r.pipe(Hn(1)),r.pipe(ux(1),el(0))),r.pipe(nt(s=>{let a={matches:!1,breakpoints:{}};return s.forEach(({matches:l,query:c})=>{a.matches=a.matches||l,a.breakpoints[c]=l}),a}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);let i=this._mediaMatcher.matchMedia(e),r={observable:new ar(s=>{let a=l=>this._zone.run(()=>s.next(l));return i.addListener(a),()=>{i.removeListener(a)}}).pipe(Qi(i),nt(({matches:s})=>({query:e,matches:s})),vt(this._destroySubject)),mql:i};return this._queries.set(e,r),r}static \u0275fac=function(i){return new(i||n)};static \u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function e8(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}var t8={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"};var s8=" ";function Xp(n,t,e){let i=AC(n,t);e=e.trim(),!i.some(o=>o.trim()===e)&&(i.push(e),n.setAttribute(t,i.join(s8)))}function Md(n,t,e){let i=AC(n,t);e=e.trim();let o=i.filter(r=>r!==e);o.length?n.setAttribute(t,o.join(s8)):n.removeAttribute(t)}function AC(n,t){return n.getAttribute(t)?.match(/\S+/g)??[]}var a8="cdk-describedby-message",kC="cdk-describedby-host",eO=0,LC=(()=>{class n{_platform=y(Zt);_document=y(kt);_messageRegistry=new Map;_messagesContainer=null;_id=`${eO++}`;constructor(){y(kn).load(Ih),this._id=y(Um)+"-"+eO++}describe(e,i,o){if(!this._canBeDescribed(e,i))return;let r=ZR(i,o);typeof i!="string"?(i8(i,this._id),this._messageRegistry.set(r,{messageElement:i,referenceCount:0})):this._messageRegistry.has(r)||this._createMessageElement(i,o),this._isElementDescribedByMessage(e,r)||this._addMessageReference(e,r)}removeDescription(e,i,o){if(!i||!this._isElementNode(e))return;let r=ZR(i,o);if(this._isElementDescribedByMessage(e,r)&&this._removeMessageReference(e,r),typeof i=="string"){let s=this._messageRegistry.get(r);s&&s.referenceCount===0&&this._deleteMessageElement(r)}this._messagesContainer?.childNodes.length===0&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){let e=this._document.querySelectorAll(`[${kC}="${this._id}"]`);for(let i=0;i<e.length;i++)this._removeCdkDescribedByReferenceIds(e[i]),e[i].removeAttribute(kC);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(e,i){let o=this._document.createElement("div");i8(o,this._id),o.textContent=e,i&&o.setAttribute("role",i),this._createMessagesContainer(),this._messagesContainer.appendChild(o),this._messageRegistry.set(ZR(e,i),{messageElement:o,referenceCount:0})}_deleteMessageElement(e){this._messageRegistry.get(e)?.messageElement?.remove(),this._messageRegistry.delete(e)}_createMessagesContainer(){if(this._messagesContainer)return;let e="cdk-describedby-message-container",i=this._document.querySelectorAll(`.${e}[platform="server"]`);for(let r=0;r<i.length;r++)i[r].remove();let o=this._document.createElement("div");o.style.visibility="hidden",o.classList.add(e),o.classList.add("cdk-visually-hidden"),this._platform.isBrowser||o.setAttribute("platform","server"),this._document.body.appendChild(o),this._messagesContainer=o}_removeCdkDescribedByReferenceIds(e){let i=AC(e,"aria-describedby").filter(o=>o.indexOf(a8)!=0);e.setAttribute("aria-describedby",i.join(" "))}_addMessageReference(e,i){let o=this._messageRegistry.get(i);Xp(e,"aria-describedby",o.messageElement.id),e.setAttribute(kC,this._id),o.referenceCount++}_removeMessageReference(e,i){let o=this._messageRegistry.get(i);o.referenceCount--,Md(e,"aria-describedby",o.messageElement.id),e.removeAttribute(kC)}_isElementDescribedByMessage(e,i){let o=AC(e,"aria-describedby"),r=this._messageRegistry.get(i),s=r&&r.messageElement.id;return!!s&&o.indexOf(s)!=-1}_canBeDescribed(e,i){if(!this._isElementNode(e))return!1;if(i&&typeof i=="object")return!0;let o=i==null?"":`${i}`.trim(),r=e.getAttribute("aria-label");return o?!r||r.trim()!==o:!1}_isElementNode(e){return e.nodeType===this._document.ELEMENT_NODE}static \u0275fac=function(i){return new(i||n)};static \u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function ZR(n,t){return typeof n=="string"?`${t||""}/${n}`:n}function i8(n,t){n.id||(n.id=`${a8}-${t}-${eO++}`)}var Hhe=200,tO=class{_letterKeyStream=new Ee;_items=[];_selectedItemIndex=-1;_pressedLetters=[];_skipPredicateFn;_selectedItem=new Ee;selectedItem=this._selectedItem;constructor(t,e){let i=typeof e?.debounceInterval=="number"?e.debounceInterval:Hhe;e?.skipPredicate&&(this._skipPredicateFn=e.skipPredicate),this.setItems(t),this._setupKeyHandler(i)}destroy(){this._pressedLetters=[],this._letterKeyStream.complete(),this._selectedItem.complete()}setCurrentSelectedItemIndex(t){this._selectedItemIndex=t}setItems(t){this._items=t}handleKey(t){let e=t.keyCode;t.key&&t.key.length===1?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))}isTyping(){return this._pressedLetters.length>0}reset(){this._pressedLetters=[]}_setupKeyHandler(t){this._letterKeyStream.pipe(Ji(e=>this._pressedLetters.push(e)),el(t),ri(()=>this._pressedLetters.length>0),nt(()=>this._pressedLetters.join("").toLocaleUpperCase())).subscribe(e=>{for(let i=1;i<this._items.length+1;i++){let o=(this._selectedItemIndex+i)%this._items.length,r=this._items[o];if(!this._skipPredicateFn?.(r)&&r.getLabel?.().toLocaleUpperCase().trim().indexOf(e)===0){this._selectedItem.next(r);break}}this._pressedLetters=[]})}},RC=class{_items;_activeItemIndex=-1;_activeItem=Ue(null);_wrap=!1;_typeaheadSubscription=fn.EMPTY;_itemChangesSubscription;_vertical=!0;_horizontal;_allowedModifierKeys=[];_homeAndEnd=!1;_pageUpAndDown={enabled:!1,delta:10};_effectRef;_typeahead;_skipPredicateFn=t=>t.disabled;constructor(t,e){this._items=t,t instanceof Xu?this._itemChangesSubscription=t.changes.subscribe(i=>this._itemsChanged(i.toArray())):Yu(t)&&(this._effectRef=ln(()=>this._itemsChanged(t()),{injector:e}))}tabOut=new Ee;change=new Ee;skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){this._typeaheadSubscription.unsubscribe();let e=this._getItemsArray();return this._typeahead=new tO(e,{debounceInterval:typeof t=="number"?t:void 0,skipPredicate:i=>this._skipPredicateFn(i)}),this._typeaheadSubscription=this._typeahead.selectedItem.subscribe(i=>{this.setActiveItem(i)}),this}cancelTypeahead(){return this._typeahead?.reset(),this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}withPageUpDown(t=!0,e=10){return this._pageUpAndDown={enabled:t,delta:e},this}setActiveItem(t){let e=this._activeItem();this.updateActiveItem(t),this._activeItem()!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){let e=t.keyCode,o=["altKey","ctrlKey","metaKey","shiftKey"].every(r=>!t[r]||this._allowedModifierKeys.indexOf(r)>-1);switch(e){case 9:this.tabOut.next();return;case 40:if(this._vertical&&o){this.setNextItemActive();break}else return;case 38:if(this._vertical&&o){this.setPreviousItemActive();break}else return;case 39:if(this._horizontal&&o){this._horizontal==="rtl"?this.setPreviousItemActive():this.setNextItemActive();break}else return;case 37:if(this._horizontal&&o){this._horizontal==="rtl"?this.setNextItemActive():this.setPreviousItemActive();break}else return;case 36:if(this._homeAndEnd&&o){this.setFirstItemActive();break}else return;case 35:if(this._homeAndEnd&&o){this.setLastItemActive();break}else return;case 33:if(this._pageUpAndDown.enabled&&o){let r=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(r>0?r:0,1);break}else return;case 34:if(this._pageUpAndDown.enabled&&o){let r=this._activeItemIndex+this._pageUpAndDown.delta,s=this._getItemsArray().length;this._setActiveItemByIndex(r<s?r:s-1,-1);break}else return;default:(o||ao(t,"shiftKey"))&&this._typeahead?.handleKey(t);return}this._typeahead?.reset(),t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem()}isTyping(){return!!this._typeahead&&this._typeahead.isTyping()}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._getItemsArray().length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){let e=this._getItemsArray(),i=typeof t=="number"?t:e.indexOf(t),o=e[i];this._activeItem.set(o??null),this._activeItemIndex=i,this._typeahead?.setCurrentSelectedItemIndex(i)}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._effectRef?.destroy(),this._typeahead?.destroy(),this.tabOut.complete(),this.change.complete()}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){let e=this._getItemsArray();for(let i=1;i<=e.length;i++){let o=(this._activeItemIndex+t*i+e.length)%e.length,r=e[o];if(!this._skipPredicateFn(r)){this.setActiveItem(o);return}}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){let i=this._getItemsArray();if(i[t]){for(;this._skipPredicateFn(i[t]);)if(t+=e,!i[t])return;this.setActiveItem(t)}}_getItemsArray(){return Yu(this._items)?this._items():this._items instanceof Xu?this._items.toArray():this._items}_itemsChanged(t){this._typeahead?.setItems(t);let e=this._activeItem();if(e){let i=t.indexOf(e);i>-1&&i!==this._activeItemIndex&&(this._activeItemIndex=i,this._typeahead?.setCurrentSelectedItemIndex(i))}}},Kp=class extends RC{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}},OC=class extends RC{_origin="program";setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}};var Rv=(()=>{class n{_platform=y(Zt);constructor(){}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return Whe(e)&&getComputedStyle(e).visibility==="visible"}isTabbable(e){if(!this._platform.isBrowser)return!1;let i=Vhe(Xhe(e));if(i&&(n8(i)===-1||!this.isVisible(i)))return!1;let o=e.nodeName.toLowerCase(),r=n8(e);return e.hasAttribute("contenteditable")?r!==-1:o==="iframe"||o==="object"||this._platform.WEBKIT&&this._platform.IOS&&!Khe(e)?!1:o==="audio"?e.hasAttribute("controls")?r!==-1:!1:o==="video"?r===-1?!1:r!==null?!0:this._platform.FIREFOX||e.hasAttribute("controls"):e.tabIndex>=0}isFocusable(e,i){return Yhe(e)&&!this.isDisabled(e)&&(i?.ignoreVisibility||this.isVisible(e))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Vhe(n){try{return n.frameElement}catch{return null}}function Whe(n){return!!(n.offsetWidth||n.offsetHeight||typeof n.getClientRects=="function"&&n.getClientRects().length)}function jhe(n){let t=n.nodeName.toLowerCase();return t==="input"||t==="select"||t==="button"||t==="textarea"}function Uhe(n){return Ghe(n)&&n.type=="hidden"}function qhe(n){return $he(n)&&n.hasAttribute("href")}function Ghe(n){return n.nodeName.toLowerCase()=="input"}function $he(n){return n.nodeName.toLowerCase()=="a"}function l8(n){if(!n.hasAttribute("tabindex")||n.tabIndex===void 0)return!1;let t=n.getAttribute("tabindex");return!!(t&&!isNaN(parseInt(t,10)))}function n8(n){if(!l8(n))return null;let t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}function Khe(n){let t=n.nodeName.toLowerCase(),e=t==="input"&&n.type;return e==="text"||e==="password"||t==="select"||t==="textarea"}function Yhe(n){return Uhe(n)?!1:jhe(n)||qhe(n)||n.hasAttribute("contenteditable")||l8(n)}function Xhe(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}var iO=class{_element;_checker;_ngZone;_document;_injector;_startAnchor;_endAnchor;_hasAttached=!1;startAnchorListener=()=>this.focusLastTabbableElement();endAnchorListener=()=>this.focusFirstTabbableElement();get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_enabled=!0;constructor(t,e,i,o,r=!1,s){this._element=t,this._checker=e,this._ngZone=i,this._document=o,this._injector=s,r||this.attachAnchors()}destroy(){let t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return this._hasAttached?!0:(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){let e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return t=="start"?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){let e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){let i=this._getFirstTabbableElement(e);return i?.focus(t),!!i}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){let e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){let e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children;for(let i=0;i<e.length;i++){let o=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(o)return o}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children;for(let i=e.length-1;i>=0;i--){let o=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(o)return o}return null}_createAnchor(){let t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._injector?So(t,{injector:this._injector}):setTimeout(t)}},NC=(()=>{class n{_checker=y(Rv);_ngZone=y(et);_document=y(kt);_injector=y(Si);constructor(){y(kn).load(Ih)}create(e,i=!1){return new iO(e,this._checker,this._ngZone,this._document,i,this._injector)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function sO(n){return n.buttons===0||n.detail===0}function aO(n){let t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!!t&&t.identifier===-1&&(t.radiusX==null||t.radiusX===1)&&(t.radiusY==null||t.radiusY===1)}var Zhe=new ue("cdk-input-modality-detector-options"),Qhe={ignoreKeys:[18,17,224,91,16]},c8=650,$p=xl({passive:!0,capture:!0}),Jhe=(()=>{class n{_platform=y(Zt);modalityDetected;modalityChanged;get mostRecentModality(){return this._modality.value}_mostRecentTarget=null;_modality=new mo(null);_options;_lastTouchMs=0;_onKeydown=e=>{this._options?.ignoreKeys?.some(i=>i===e.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Or(e))};_onMousedown=e=>{Date.now()-this._lastTouchMs<c8||(this._modality.next(sO(e)?"keyboard":"mouse"),this._mostRecentTarget=Or(e))};_onTouchstart=e=>{if(aO(e)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Or(e)};constructor(){let e=y(et),i=y(kt),o=y(Zhe,{optional:!0});this._options=j(j({},Qhe),o),this.modalityDetected=this._modality.pipe(ux(1)),this.modalityChanged=this.modalityDetected.pipe(C_()),this._platform.isBrowser&&e.runOutsideAngular(()=>{i.addEventListener("keydown",this._onKeydown,$p),i.addEventListener("mousedown",this._onMousedown,$p),i.addEventListener("touchstart",this._onTouchstart,$p)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,$p),document.removeEventListener("mousedown",this._onMousedown,$p),document.removeEventListener("touchstart",this._onTouchstart,$p))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),eme=new ue("liveAnnouncerElement",{providedIn:"root",factory:tme});function tme(){return null}var ime=new ue("LIVE_ANNOUNCER_DEFAULT_OPTIONS"),nme=0,d8=(()=>{class n{_ngZone=y(et);_defaultOptions=y(ime,{optional:!0});_liveElement;_document=y(kt);_previousTimeout;_currentPromise;_currentResolve;constructor(){let e=y(eme,{optional:!0});this._liveElement=e||this._createLiveElement()}announce(e,...i){let o=this._defaultOptions,r,s;return i.length===1&&typeof i[0]=="number"?s=i[0]:[r,s]=i,this.clear(),clearTimeout(this._previousTimeout),r||(r=o&&o.politeness?o.politeness:"polite"),s==null&&o&&(s=o.duration),this._liveElement.setAttribute("aria-live",r),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(a=>this._currentResolve=a)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,typeof s=="number"&&(this._previousTimeout=setTimeout(()=>this.clear(),s)),this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){let e="cdk-live-announcer-element",i=this._document.getElementsByClassName(e),o=this._document.createElement("div");for(let r=0;r<i.length;r++)i[r].remove();return o.classList.add(e),o.classList.add("cdk-visually-hidden"),o.setAttribute("aria-atomic","true"),o.setAttribute("aria-live","polite"),o.id=`cdk-live-announcer-${nme++}`,this._document.body.appendChild(o),o}_exposeAnnouncerToModals(e){let i=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let o=0;o<i.length;o++){let r=i[o],s=r.getAttribute("aria-owns");s?s.indexOf(e)===-1&&r.setAttribute("aria-owns",s+" "+e):r.setAttribute("aria-owns",e)}}static \u0275fac=function(i){return new(i||n)};static \u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var TC=function(n){return n[n.IMMEDIATE=0]="IMMEDIATE",n[n.EVENTUAL=1]="EVENTUAL",n}(TC||{}),ome=new ue("cdk-focus-monitor-default-options"),MC=xl({passive:!0,capture:!0}),Us=(()=>{class n{_ngZone=y(et);_platform=y(Zt);_inputModalityDetector=y(Jhe);_origin=null;_lastFocusOrigin;_windowFocused=!1;_windowFocusTimeoutId;_originTimeoutId;_originFromTouchInteraction=!1;_elementInfo=new Map;_monitoredElementCount=0;_rootNodeFocusListenerCount=new Map;_detectionMode;_windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)};_document=y(kt,{optional:!0});_stopInputModalityDetector=new Ee;constructor(){let e=y(ome,{optional:!0});this._detectionMode=e?.detectionMode||TC.IMMEDIATE}_rootNodeFocusAndBlurListener=e=>{let i=Or(e);for(let o=i;o;o=o.parentElement)e.type==="focus"?this._onFocus(e,o):this._onBlur(e,o)};monitor(e,i=!1){let o=Gr(e);if(!this._platform.isBrowser||o.nodeType!==1)return We();let r=Zq(o)||this._getDocument(),s=this._elementInfo.get(o);if(s)return i&&(s.checkChildren=!0),s.subject;let a={checkChildren:i,subject:new Ee,rootNode:r};return this._elementInfo.set(o,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(e){let i=Gr(e),o=this._elementInfo.get(i);o&&(o.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(o))}focusVia(e,i,o){let r=Gr(e),s=this._getDocument().activeElement;r===s?this._getClosestElementsInfo(r).forEach(([a,l])=>this._originChanged(a,i,l)):(this._setOrigin(i),typeof r.focus=="function"&&r.focus(o))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return this._detectionMode===TC.EVENTUAL||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused",i==="touch"),e.classList.toggle("cdk-keyboard-focused",i==="keyboard"),e.classList.toggle("cdk-mouse-focused",i==="mouse"),e.classList.toggle("cdk-program-focused",i==="program")}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=e,this._originFromTouchInteraction=e==="touch"&&i,this._detectionMode===TC.IMMEDIATE){clearTimeout(this._originTimeoutId);let o=this._originFromTouchInteraction?c8:1;this._originTimeoutId=setTimeout(()=>this._origin=null,o)}})}_onFocus(e,i){let o=this._elementInfo.get(i),r=Or(e);!o||!o.checkChildren&&i!==r||this._originChanged(i,this._getFocusOrigin(r),o)}_onBlur(e,i){let o=this._elementInfo.get(i);!o||o.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(o,null))}_emitOrigin(e,i){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;let i=e.rootNode,o=this._rootNodeFocusListenerCount.get(i)||0;o||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,MC),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,MC)}),this._rootNodeFocusListenerCount.set(i,o+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(vt(this._stopInputModalityDetector)).subscribe(r=>{this._setOrigin(r,!0)}))}_removeGlobalListeners(e){let i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){let o=this._rootNodeFocusListenerCount.get(i);o>1?this._rootNodeFocusListenerCount.set(i,o-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,MC),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,MC),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,o){this._setClasses(e,i),this._emitOrigin(o,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){let i=[];return this._elementInfo.forEach((o,r)=>{(r===e||o.checkChildren&&r.contains(e))&&i.push([r,o])}),i}_isLastInteractionFromInputLabel(e){let{_mostRecentTarget:i,mostRecentModality:o}=this._inputModalityDetector;if(o!=="mouse"||!i||i===e||e.nodeName!=="INPUT"&&e.nodeName!=="TEXTAREA"||e.disabled)return!1;let r=e.labels;if(r){for(let s=0;s<r.length;s++)if(r[s].contains(i))return!0}return!1}static \u0275fac=function(i){return new(i||n)};static \u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Eh=function(n){return n[n.NONE=0]="NONE",n[n.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",n[n.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",n}(Eh||{}),o8="cdk-high-contrast-black-on-white",r8="cdk-high-contrast-white-on-black",QR="cdk-high-contrast-active",u8=(()=>{class n{_platform=y(Zt);_hasCheckedHighContrastMode;_document=y(kt);_breakpointSubscription;constructor(){this._breakpointSubscription=y(EC).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return Eh.NONE;let e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);let i=this._document.defaultView||window,o=i&&i.getComputedStyle?i.getComputedStyle(e):null,r=(o&&o.backgroundColor||"").replace(/ /g,"");switch(e.remove(),r){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return Eh.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return Eh.BLACK_ON_WHITE}return Eh.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let e=this._document.body.classList;e.remove(QR,o8,r8),this._hasCheckedHighContrastMode=!0;let i=this.getHighContrastMode();i===Eh.BLACK_ON_WHITE?e.add(QR,o8):i===Eh.WHITE_ON_BLACK&&e.add(QR,r8)}}static \u0275fac=function(i){return new(i||n)};static \u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var JR={},Yn=(()=>{class n{_appId=y(Um);getId(e){return this._appId!=="ng"&&(e+=this._appId),JR.hasOwnProperty(e)||(JR[e]=0),`${e}${JR[e]++}`}static \u0275fac=function(i){return new(i||n)};static \u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var rme=new ue("cdk-dir-doc",{providedIn:"root",factory:sme});function sme(){return y(kt)}var ame=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function lme(n){let t=n?.toLowerCase()||"";return t==="auto"&&typeof navigator<"u"&&navigator?.language?ame.test(navigator.language)?"rtl":"ltr":t==="rtl"?"rtl":"ltr"}var mn=(()=>{class n{value="ltr";change=new Le;constructor(){let e=y(rme,{optional:!0});if(e){let i=e.body?e.body.dir:null,o=e.documentElement?e.documentElement.dir:null;this.value=lme(i||o||"ltr")}}ngOnDestroy(){this.change.complete()}static \u0275fac=function(i){return new(i||n)};static \u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Mh=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=xt({type:n});static \u0275inj=yt({})}return n})();var cme=["text"],dme=[[["mat-icon"]],"*"],ume=["mat-icon","*"];function hme(n,t){if(n&1&&X(0,"mat-pseudo-checkbox",1),n&2){let e=Y();z("disabled",e.disabled)("state",e.selected?"checked":"unchecked")}}function mme(n,t){if(n&1&&X(0,"mat-pseudo-checkbox",3),n&2){let e=Y();z("disabled",e.disabled)}}function pme(n,t){if(n&1&&(x(0,"span",4),P(1),w()),n&2){let e=Y();I(),ni("(",e.group.label,")")}}var b8=(()=>{class n{static STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)";static DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)";static ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)";static SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)"}return n})(),y8=(()=>{class n{static COMPLEX="375ms";static ENTERING="225ms";static EXITING="195ms"}return n})();var To=(()=>{class n{constructor(){y(u8)._applyBodyHighContrastModeCssClasses()}static \u0275fac=function(i){return new(i||n)};static \u0275mod=xt({type:n});static \u0275inj=yt({imports:[Mh,Mh]})}return n})(),Th=class{_defaultMatcher;ngControl;_parentFormGroup;_parentForm;_stateChanges;errorState=!1;matcher;constructor(t,e,i,o,r){this._defaultMatcher=t,this.ngControl=e,this._parentFormGroup=i,this._parentForm=o,this._stateChanges=r}updateErrorState(){let t=this.errorState,e=this._parentFormGroup||this._parentForm,i=this.matcher||this._defaultMatcher,o=this.ngControl?this.ngControl.control:null,r=i?.isErrorState(o,e)??!1;r!==t&&(this.errorState=r,this._stateChanges.next())}};var Pv=(()=>{class n{isErrorState(e,i){return!!(e&&e.invalid&&(e.touched||i&&i.submitted))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),qs=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Q({type:n,selectors:[["structural-styles"]],decls:0,vars:0,template:function(i,o){},styles:['.mat-focus-indicator{position:relative}.mat-focus-indicator::before{top:0;left:0;right:0;bottom:0;position:absolute;box-sizing:border-box;pointer-events:none;display:var(--mat-focus-indicator-display, none);border-width:var(--mat-focus-indicator-border-width, 3px);border-style:var(--mat-focus-indicator-border-style, solid);border-color:var(--mat-focus-indicator-border-color, transparent);border-radius:var(--mat-focus-indicator-border-radius, 4px)}.mat-focus-indicator:focus::before{content:""}@media(forced-colors: active){html{--mat-focus-indicator-display: block}}'],encapsulation:2,changeDetection:0})}return n})();var hO=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=xt({type:n});static \u0275inj=yt({imports:[To,To]})}return n})(),Pr=function(n){return n[n.FADING_IN=0]="FADING_IN",n[n.VISIBLE=1]="VISIBLE",n[n.FADING_OUT=2]="FADING_OUT",n[n.HIDDEN=3]="HIDDEN",n}(Pr||{}),dO=class{_renderer;element;config;_animationForciblyDisabledThroughCss;state=Pr.HIDDEN;constructor(t,e,i,o=!1){this._renderer=t,this.element=e,this.config=i,this._animationForciblyDisabledThroughCss=o}fadeOut(){this._renderer.fadeOutRipple(this)}},h8=xl({passive:!0,capture:!0}),uO=class{_events=new Map;addHandler(t,e,i,o){let r=this._events.get(e);if(r){let s=r.get(i);s?s.add(o):r.set(i,new Set([o]))}else this._events.set(e,new Map([[i,new Set([o])]])),t.runOutsideAngular(()=>{document.addEventListener(e,this._delegateEventHandler,h8)})}removeHandler(t,e,i){let o=this._events.get(t);if(!o)return;let r=o.get(e);r&&(r.delete(i),r.size===0&&o.delete(e),o.size===0&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,h8)))}_delegateEventHandler=t=>{let e=Or(t);e&&this._events.get(t.type)?.forEach((i,o)=>{(o===e||o.contains(e))&&i.forEach(r=>r.handleEvent(t))})}},zC={enterDuration:225,exitDuration:150},fme=800,m8=xl({passive:!0,capture:!0}),p8=["mousedown","touchstart"],f8=["mouseup","mouseleave","touchend","touchcancel"],gme=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Q({type:n,selectors:[["ng-component"]],hostAttrs:["mat-ripple-style-loader",""],decls:0,vars:0,template:function(i,o){},styles:[".mat-ripple{overflow:hidden;position:relative}.mat-ripple:not(:empty){transform:translateZ(0)}.mat-ripple.mat-ripple-unbounded{overflow:visible}.mat-ripple-element{position:absolute;border-radius:50%;pointer-events:none;transition:opacity,transform 0ms cubic-bezier(0, 0, 0.2, 1);transform:scale3d(0, 0, 0);background-color:var(--mat-ripple-color, color-mix(in srgb, var(--mat-sys-on-surface) 10%, transparent))}@media(forced-colors: active){.mat-ripple-element{display:none}}.cdk-drag-preview .mat-ripple-element,.cdk-drag-placeholder .mat-ripple-element{display:none}"],encapsulation:2,changeDetection:0})}return n})(),Zp=class n{_target;_ngZone;_platform;_containerElement;_triggerElement;_isPointerDown=!1;_activeRipples=new Map;_mostRecentTransientRipple;_lastTouchStartEvent;_pointerUpEventsRegistered=!1;_containerRect;static _eventManager=new uO;constructor(t,e,i,o,r){this._target=t,this._ngZone=e,this._platform=o,o.isBrowser&&(this._containerElement=Gr(i)),r&&r.get(kn).load(gme)}fadeInRipple(t,e,i={}){let o=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),r=j(j({},zC),i.animation);i.centered&&(t=o.left+o.width/2,e=o.top+o.height/2);let s=i.radius||_me(t,e,o),a=t-o.left,l=e-o.top,c=r.enterDuration,d=document.createElement("div");d.classList.add("mat-ripple-element"),d.style.left=`${a-s}px`,d.style.top=`${l-s}px`,d.style.height=`${s*2}px`,d.style.width=`${s*2}px`,i.color!=null&&(d.style.backgroundColor=i.color),d.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(d);let u=window.getComputedStyle(d),h=u.transitionProperty,m=u.transitionDuration,f=h==="none"||m==="0s"||m==="0s, 0s"||o.width===0&&o.height===0,p=new dO(this,d,i,f);d.style.transform="scale3d(1, 1, 1)",p.state=Pr.FADING_IN,i.persistent||(this._mostRecentTransientRipple=p);let g=null;return!f&&(c||r.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let v=()=>{g&&(g.fallbackTimer=null),clearTimeout(C),this._finishRippleTransition(p)},b=()=>this._destroyRipple(p),C=setTimeout(b,c+100);d.addEventListener("transitionend",v),d.addEventListener("transitioncancel",b),g={onTransitionEnd:v,onTransitionCancel:b,fallbackTimer:C}}),this._activeRipples.set(p,g),(f||!c)&&this._finishRippleTransition(p),p}fadeOutRipple(t){if(t.state===Pr.FADING_OUT||t.state===Pr.HIDDEN)return;let e=t.element,i=j(j({},zC),t.config.animation);e.style.transitionDuration=`${i.exitDuration}ms`,e.style.opacity="0",t.state=Pr.FADING_OUT,(t._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){let e=Gr(t);!this._platform.isBrowser||!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,p8.forEach(i=>{n._eventManager.addHandler(this._ngZone,i,e,this)}))}handleEvent(t){t.type==="mousedown"?this._onMousedown(t):t.type==="touchstart"?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{f8.forEach(e=>{this._triggerElement.addEventListener(e,this,m8)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){t.state===Pr.FADING_IN?this._startFadeOutTransition(t):t.state===Pr.FADING_OUT&&this._destroyRipple(t)}_startFadeOutTransition(t){let e=t===this._mostRecentTransientRipple,{persistent:i}=t.config;t.state=Pr.VISIBLE,!i&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){let e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=Pr.HIDDEN,e!==null&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel),e.fallbackTimer!==null&&clearTimeout(e.fallbackTimer)),t.element.remove()}_onMousedown(t){let e=sO(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+fme;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!aO(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let e=t.changedTouches;if(e)for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{let e=t.state===Pr.VISIBLE||t.config.terminateOnPointerUp&&t.state===Pr.FADING_IN;!t.config.persistent&&e&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let t=this._triggerElement;t&&(p8.forEach(e=>n._eventManager.removeHandler(e,t,this)),this._pointerUpEventsRegistered&&(f8.forEach(e=>t.removeEventListener(e,this,m8)),this._pointerUpEventsRegistered=!1))}};function _me(n,t,e){let i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),o=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+o*o)}var Td=new ue("mat-ripple-global-options"),Jp=(()=>{class n{_elementRef=y(He);_animationMode=y(Wi,{optional:!0});color;unbounded;centered;radius=0;animation;get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}_disabled=!1;get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}_trigger;_rippleRenderer;_globalOptions;_isInitialized=!1;constructor(){let e=y(et),i=y(Zt),o=y(Td,{optional:!0}),r=y(Si);this._globalOptions=o||{},this._rippleRenderer=new Zp(this,e,this._elementRef,i,r)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:j(j(j({},this._globalOptions.animation),this._animationMode==="NoopAnimations"?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,o){return typeof e=="number"?this._rippleRenderer.fadeInRipple(e,i,j(j({},this.rippleConfig),o)):this._rippleRenderer.fadeInRipple(0,0,j(j({},this.rippleConfig),e))}static \u0275fac=function(i){return new(i||n)};static \u0275dir=ge({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(i,o){i&2&&ke("mat-ripple-unbounded",o.unbounded)},inputs:{color:[0,"matRippleColor","color"],unbounded:[0,"matRippleUnbounded","unbounded"],centered:[0,"matRippleCentered","centered"],radius:[0,"matRippleRadius","radius"],animation:[0,"matRippleAnimation","animation"],disabled:[0,"matRippleDisabled","disabled"],trigger:[0,"matRippleTrigger","trigger"]},exportAs:["matRipple"]})}return n})();var vme=(()=>{class n{_animationMode=y(Wi,{optional:!0});state="unchecked";disabled=!1;appearance="full";constructor(){}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Q({type:n,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(i,o){i&2&&ke("mat-pseudo-checkbox-indeterminate",o.state==="indeterminate")("mat-pseudo-checkbox-checked",o.state==="checked")("mat-pseudo-checkbox-disabled",o.disabled)("mat-pseudo-checkbox-minimal",o.appearance==="minimal")("mat-pseudo-checkbox-full",o.appearance==="full")("_mat-animation-noopable",o._animationMode==="NoopAnimations")},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},decls:0,vars:0,template:function(i,o){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-minimal-pseudo-checkbox-selected-checkmark-color, var(--mat-sys-primary))}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-pseudo-checkbox-full{border-color:var(--mat-full-pseudo-checkbox-unselected-icon-color, var(--mat-sys-on-surface-variant));border-width:2px;border-style:solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-disabled{border-color:var(--mat-full-pseudo-checkbox-disabled-unselected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{background-color:var(--mat-full-pseudo-checkbox-selected-icon-color, var(--mat-sys-primary));border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-full-pseudo-checkbox-selected-checkmark-color, var(--mat-sys-on-primary))}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled{background-color:var(--mat-full-pseudo-checkbox-disabled-selected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-full-pseudo-checkbox-disabled-selected-checkmark-color, var(--mat-sys-surface))}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}'],encapsulation:2,changeDetection:0})}return n})();var Lv=new ue("MAT_OPTION_PARENT_COMPONENT"),Nv=new ue("MatOptgroup");var Ov=class{source;isUserInput;constructor(t,e=!1){this.source=t,this.isUserInput=e}},_r=(()=>{class n{_element=y(He);_changeDetectorRef=y(Yt);_parent=y(Lv,{optional:!0});group=y(Nv,{optional:!0});_signalDisableRipple=!1;_selected=!1;_active=!1;_disabled=!1;_mostRecentViewValue="";get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}value;id=y(Yn).getId("mat-option-");get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(e){this._disabled=e}get disableRipple(){return this._signalDisableRipple?this._parent.disableRipple():!!this._parent?.disableRipple}get hideSingleSelectionIndicator(){return!!(this._parent&&this._parent.hideSingleSelectionIndicator)}onSelectionChange=new Le;_text;_stateChanges=new Ee;constructor(){y(kn).load(qs),y(kn).load(Ih),this._signalDisableRipple=!!this._parent&&Yu(this._parent.disableRipple)}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(e=!0){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),e&&this._emitSelectionChangeEvent())}deselect(e=!0){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),e&&this._emitSelectionChangeEvent())}focus(e,i){let o=this._getHostElement();typeof o.focus=="function"&&o.focus(i)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(e){(e.keyCode===13||e.keyCode===32)&&!ao(e)&&(this._selectViaInteraction(),e.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=this.multiple?!this._selected:!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){let e=this.viewValue;e!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=e)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(e=!1){this.onSelectionChange.emit(new Ov(this,e))}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Q({type:n,selectors:[["mat-option"]],viewQuery:function(i,o){if(i&1&&rt(cme,7),i&2){let r;me(r=pe())&&(o._text=r.first)}},hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(i,o){i&1&&le("click",function(){return o._selectViaInteraction()})("keydown",function(s){return o._handleKeydown(s)}),i&2&&(rs("id",o.id),Re("aria-selected",o.selected)("aria-disabled",o.disabled.toString()),ke("mdc-list-item--selected",o.selected)("mat-mdc-option-multiple",o.multiple)("mat-mdc-option-active",o.active)("mdc-list-item--disabled",o.disabled))},inputs:{value:"value",id:"id",disabled:[2,"disabled","disabled",Ke]},outputs:{onSelectionChange:"onSelectionChange"},exportAs:["matOption"],features:[Ut],ngContentSelectors:ume,decls:8,vars:5,consts:[["text",""],["aria-hidden","true",1,"mat-mdc-option-pseudo-checkbox",3,"disabled","state"],[1,"mdc-list-item__primary-text"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"],["aria-hidden","true","mat-ripple","",1,"mat-mdc-option-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled"]],template:function(i,o){i&1&&(wt(dme),te(0,hme,1,2,"mat-pseudo-checkbox",1),Fe(1),x(2,"span",2,0),Fe(4,1),w(),te(5,mme,1,1,"mat-pseudo-checkbox",3)(6,pme,2,1,"span",4),X(7,"div",5)),i&2&&(Ye(o.multiple?0:-1),I(5),Ye(!o.multiple&&o.selected&&!o.hideSingleSelectionIndicator?5:-1),I(),Ye(o.group&&o.group._inert?6:-1),I(),z("matRippleTrigger",o._getHostElement())("matRippleDisabled",o.disabled||o.disableRipple))},dependencies:[vme,Jp],styles:['.mat-mdc-option{-webkit-user-select:none;user-select:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;min-height:48px;padding:0 16px;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);color:var(--mat-option-label-text-color, var(--mat-sys-on-surface));font-family:var(--mat-option-label-text-font, var(--mat-sys-label-large-font));line-height:var(--mat-option-label-text-line-height, var(--mat-sys-label-large-line-height));font-size:var(--mat-option-label-text-size, var(--mat-sys-body-large-size));letter-spacing:var(--mat-option-label-text-tracking, var(--mat-sys-label-large-tracking));font-weight:var(--mat-option-label-text-weight, var(--mat-sys-body-large-weight))}.mat-mdc-option:hover:not(.mdc-list-item--disabled){background-color:var(--mat-option-hover-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-hover-state-layer-opacity) * 100%), transparent))}.mat-mdc-option:focus.mdc-list-item,.mat-mdc-option.mat-mdc-option-active.mdc-list-item{background-color:var(--mat-option-focus-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-focus-state-layer-opacity) * 100%), transparent));outline:0}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple){background-color:var(--mat-option-selected-state-layer-color, var(--mat-sys-secondary-container))}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple) .mdc-list-item__primary-text{color:var(--mat-option-selected-state-label-text-color, var(--mat-sys-on-secondary-container))}.mat-mdc-option .mat-pseudo-checkbox{--mat-minimal-pseudo-checkbox-selected-checkmark-color: var(--mat-option-selected-state-label-text-color, var(--mat-sys-on-secondary-container))}.mat-mdc-option.mdc-list-item{align-items:center;background:rgba(0,0,0,0)}.mat-mdc-option.mdc-list-item--disabled{cursor:default;pointer-events:none}.mat-mdc-option.mdc-list-item--disabled .mat-mdc-option-pseudo-checkbox,.mat-mdc-option.mdc-list-item--disabled .mdc-list-item__primary-text,.mat-mdc-option.mdc-list-item--disabled>mat-icon{opacity:.38}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}@media(forced-colors: active){.mat-mdc-option.mdc-list-item--selected:not(:has(.mat-mdc-option-pseudo-checkbox))::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .mat-mdc-option.mdc-list-item--selected:not(:has(.mat-mdc-option-pseudo-checkbox))::after{right:auto;left:16px}}.mat-mdc-option-multiple{--mdc-list-list-item-selected-container-color:var(--mdc-list-list-item-container-color, transparent)}.mat-mdc-option-active .mat-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return n})();function BC(n,t,e){if(e.length){let i=t.toArray(),o=e.toArray(),r=0;for(let s=0;s<n+1;s++)i[s].group&&i[s].group===o[r]&&r++;return r}return 0}function HC(n,t,e,i){return n<e?n:n+t>e+i?Math.max(0,n-i+t):e}var g8={capture:!0},_8=["focus","mousedown","mouseenter","touchstart"],lO="mat-ripple-loader-uninitialized",cO="mat-ripple-loader-class-name",v8="mat-ripple-loader-centered",FC="mat-ripple-loader-disabled",VC=(()=>{class n{_document=y(kt,{optional:!0});_animationMode=y(Wi,{optional:!0});_globalRippleOptions=y(Td,{optional:!0});_platform=y(Zt);_ngZone=y(et);_injector=y(Si);_hosts=new Map;constructor(){this._ngZone.runOutsideAngular(()=>{for(let e of _8)this._document?.addEventListener(e,this._onInteraction,g8)})}ngOnDestroy(){let e=this._hosts.keys();for(let i of e)this.destroyRipple(i);for(let i of _8)this._document?.removeEventListener(i,this._onInteraction,g8)}configureRipple(e,i){e.setAttribute(lO,this._globalRippleOptions?.namespace??""),(i.className||!e.hasAttribute(cO))&&e.setAttribute(cO,i.className||""),i.centered&&e.setAttribute(v8,""),i.disabled&&e.setAttribute(FC,"")}setDisabled(e,i){let o=this._hosts.get(e);o?(o.target.rippleDisabled=i,!i&&!o.hasSetUpEvents&&(o.hasSetUpEvents=!0,o.renderer.setupTriggerEvents(e))):i?e.setAttribute(FC,""):e.removeAttribute(FC)}_onInteraction=e=>{let i=Or(e);if(i instanceof HTMLElement){let o=i.closest(`[${lO}="${this._globalRippleOptions?.namespace??""}"]`);o&&this._createRipple(o)}};_createRipple(e){if(!this._document||this._hosts.has(e))return;e.querySelector(".mat-ripple")?.remove();let i=this._document.createElement("span");i.classList.add("mat-ripple",e.getAttribute(cO)),e.append(i);let o=this._animationMode==="NoopAnimations",r=this._globalRippleOptions,s=o?0:r?.animation?.enterDuration??zC.enterDuration,a=o?0:r?.animation?.exitDuration??zC.exitDuration,l={rippleDisabled:o||r?.disabled||e.hasAttribute(FC),rippleConfig:{centered:e.hasAttribute(v8),terminateOnPointerUp:r?.terminateOnPointerUp,animation:{enterDuration:s,exitDuration:a}}},c=new Zp(l,this._ngZone,i,this._platform,this._injector),d=!l.rippleDisabled;d&&c.setupTriggerEvents(e),this._hosts.set(e,{target:l,renderer:c,hasSetUpEvents:d}),e.removeAttribute(lO)}destroyRipple(e){let i=this._hosts.get(e);i&&(i.renderer._removeTriggerEvents(),this._hosts.delete(e))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var bme=["mat-button",""],yme=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],xme=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"];var wme="@media(forced-colors: active){.mat-mdc-button:not(.mdc-button--outlined),.mat-mdc-unelevated-button:not(.mdc-button--outlined),.mat-mdc-raised-button:not(.mdc-button--outlined),.mat-mdc-outlined-button:not(.mdc-button--outlined),.mat-mdc-icon-button.mat-mdc-icon-button{outline:solid 1px}}";var Cme=["mat-icon-button",""],Sme=["*"];var Ime=new ue("MAT_BUTTON_CONFIG");var Dme=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],x8=(()=>{class n{_elementRef=y(He);_ngZone=y(et);_animationMode=y(Wi,{optional:!0});_focusMonitor=y(Us);_rippleLoader=y(VC);_isFab=!1;color;get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=e,this._updateRippleDisabled()}_disableRipple=!1;get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._updateRippleDisabled()}_disabled=!1;ariaDisabled;disabledInteractive;constructor(){y(kn).load(qs);let e=y(Ime,{optional:!0}),i=this._elementRef.nativeElement,o=i.classList;this.disabledInteractive=e?.disabledInteractive??!1,this.color=e?.color??null,this._rippleLoader?.configureRipple(i,{className:"mat-mdc-button-ripple"});for(let{attribute:r,mdcClasses:s}of Dme)i.hasAttribute(r)&&o.add(...s)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(e="program",i){e?this._focusMonitor.focusVia(this._elementRef.nativeElement,e,i):this._elementRef.nativeElement.focus(i)}_getAriaDisabled(){return this.ariaDisabled!=null?this.ariaDisabled:this.disabled&&this.disabledInteractive?!0:null}_getDisabledAttribute(){return this.disabledInteractive||!this.disabled?null:!0}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static \u0275fac=function(i){return new(i||n)};static \u0275dir=ge({type:n,inputs:{color:"color",disableRipple:[2,"disableRipple","disableRipple",Ke],disabled:[2,"disabled","disabled",Ke],ariaDisabled:[2,"aria-disabled","ariaDisabled",Ke],disabledInteractive:[2,"disabledInteractive","disabledInteractive",Ke]},features:[Ut]})}return n})();var Mn=(()=>{class n extends x8{static \u0275fac=(()=>{let e;return function(o){return(e||(e=ti(n)))(o||n)}})();static \u0275cmp=Q({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:14,hostBindings:function(i,o){i&2&&(Re("disabled",o._getDisabledAttribute())("aria-disabled",o._getAriaDisabled()),Lo(o.color?"mat-"+o.color:""),ke("mat-mdc-button-disabled",o.disabled)("mat-mdc-button-disabled-interactive",o.disabledInteractive)("_mat-animation-noopable",o._animationMode==="NoopAnimations")("mat-unthemed",!o.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],features:[dt],attrs:bme,ngContentSelectors:xme,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,o){i&1&&(wt(yme),X(0,"span",0),Fe(1),x(2,"span",1),Fe(3,1),w(),Fe(4,2),X(5,"span",2)(6,"span",3)),i&2&&ke("mdc-button__ripple",!o._isFab)("mdc-fab__ripple",o._isFab)},styles:['.mat-mdc-button-base{text-decoration:none}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-text-button-horizontal-padding, 12px);height:var(--mdc-text-button-container-height, 40px);font-family:var(--mdc-text-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-text-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-text-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-text-button-label-text-transform);font-weight:var(--mdc-text-button-label-text-weight, var(--mat-sys-label-large-weight))}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mat-sys-corner-full))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, var(--mat-sys-primary))}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 16px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, -4px);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, -4px);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, -4px)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color, var(--mat-sys-primary))}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display, block)}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mdc-filled-button-container-height, 40px);font-family:var(--mdc-filled-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-filled-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-filled-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-filled-button-label-text-transform);font-weight:var(--mdc-filled-button-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-filled-button-horizontal-padding, 24px)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -8px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -8px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -8px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -8px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color, color-mix(in srgb, var(--mat-sys-on-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color, var(--mat-sys-on-primary))}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-unelevated-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-unelevated-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display, block)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, var(--mat-sys-on-primary));background-color:var(--mdc-filled-button-container-color, var(--mat-sys-primary))}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mat-sys-corner-full))}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mdc-filled-button-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);box-shadow:var(--mdc-protected-button-container-elevation-shadow, var(--mat-sys-level1));height:var(--mdc-protected-button-container-height, 40px);font-family:var(--mdc-protected-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-protected-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-protected-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-protected-button-label-text-transform);font-weight:var(--mdc-protected-button-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-protected-button-horizontal-padding, 24px)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -8px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -8px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -8px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -8px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color, var(--mat-sys-primary))}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-raised-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-raised-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display, block)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, var(--mat-sys-primary));background-color:var(--mdc-protected-button-container-color, var(--mat-sys-surface))}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mat-sys-corner-full))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow, var(--mat-sys-level2))}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow, var(--mat-sys-level1))}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow, var(--mat-sys-level1))}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mdc-protected-button-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow, var(--mat-sys-level0))}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mdc-outlined-button-container-height, 40px);font-family:var(--mdc-outlined-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-outlined-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-outlined-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-outlined-button-label-text-transform);font-weight:var(--mdc-outlined-button-label-text-weight, var(--mat-sys-label-large-weight));border-radius:var(--mdc-outlined-button-container-shape, var(--mat-sys-corner-full));border-width:var(--mdc-outlined-button-outline-width, 1px);padding:0 var(--mat-outlined-button-horizontal-padding, 24px)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -8px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -8px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -8px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -8px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color, var(--mat-sys-primary))}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-outlined-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-outlined-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display, block)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, var(--mat-sys-primary));border-color:var(--mdc-outlined-button-outline-color, var(--mat-sys-outline))}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));border-color:var(--mdc-outlined-button-disabled-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button .mdc-button__ripple{border-width:var(--mdc-outlined-button-outline-width, 1px);border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-focus-indicator,.mat-mdc-unelevated-button .mat-focus-indicator,.mat-mdc-raised-button .mat-focus-indicator,.mat-mdc-outlined-button .mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus>.mat-focus-indicator::before,.mat-mdc-unelevated-button:focus>.mat-focus-indicator::before,.mat-mdc-raised-button:focus>.mat-focus-indicator::before,.mat-mdc-outlined-button:focus>.mat-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-focus-indicator::before,.mat-mdc-raised-button .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px)*-1)}',"@media(forced-colors: active){.mat-mdc-button:not(.mdc-button--outlined),.mat-mdc-unelevated-button:not(.mdc-button--outlined),.mat-mdc-raised-button:not(.mdc-button--outlined),.mat-mdc-outlined-button:not(.mdc-button--outlined),.mat-mdc-icon-button.mat-mdc-icon-button{outline:solid 1px}}"],encapsulation:2,changeDetection:0})}return n})();var Gs=(()=>{class n extends x8{constructor(){super(),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Q({type:n,selectors:[["button","mat-icon-button",""]],hostVars:14,hostBindings:function(i,o){i&2&&(Re("disabled",o._getDisabledAttribute())("aria-disabled",o._getAriaDisabled()),Lo(o.color?"mat-"+o.color:""),ke("mat-mdc-button-disabled",o.disabled)("mat-mdc-button-disabled-interactive",o.disabledInteractive)("_mat-animation-noopable",o._animationMode==="NoopAnimations")("mat-unthemed",!o.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],features:[dt],attrs:Cme,ngContentSelectors:Sme,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,o){i&1&&(wt(),X(0,"span",0),Fe(1),X(2,"span",1)(3,"span",2))},styles:['.mat-mdc-icon-button{-webkit-user-select:none;user-select:none;display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;z-index:0;overflow:visible;border-radius:50%;flex-shrink:0;text-align:center;width:var(--mdc-icon-button-state-layer-size, 40px);height:var(--mdc-icon-button-state-layer-size, 40px);padding:calc(calc(var(--mdc-icon-button-state-layer-size, 40px) - var(--mdc-icon-button-icon-size, 24px)) / 2);font-size:var(--mdc-icon-button-icon-size, 24px);color:var(--mdc-icon-button-icon-color, var(--mat-sys-on-surface-variant));-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-icon-button .mdc-button__label,.mat-mdc-icon-button .mat-icon{z-index:1;position:relative}.mat-mdc-icon-button .mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus>.mat-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-icon-button-ripple-color, color-mix(in srgb, var(--mat-sys-on-surface-variant) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-icon-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-icon-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-icon-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-icon-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-icon-button-touch-target-display, block)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button[disabled],.mat-mdc-icon-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-icon-button-disabled-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-icon-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-icon-button img,.mat-mdc-icon-button svg{width:var(--mdc-icon-button-icon-size, 24px);height:var(--mdc-icon-button-icon-size, 24px);vertical-align:baseline}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button[hidden]{display:none}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',wme],encapsulation:2,changeDetection:0})}return n})();var WC=class n{faintClass=!1;dragDrop=new Le;ngOnInit(){this.faintClass=!1}onDragenter(t){t.preventDefault(),t.stopPropagation(),this.faintClass=!0}onDragLeave(t){t.preventDefault(),t.stopPropagation(),this.faintClass=!1}onDragDrop(t){t.preventDefault(),t.stopPropagation(),this.faintClass=!1;let e=t.dataTransfer?.files;e&&e.length>0&&this.dragDrop.emit(t)}static \u0275fac=function(e){return new(e||n)};static \u0275dir=ge({type:n,selectors:[["","appDnd",""]],hostVars:2,hostBindings:function(e,i){e&1&&le("dragover",function(r){return i.onDragenter(r)})("dragleave",function(r){return i.onDragLeave(r)})("drop",function(r){return i.onDragDrop(r)}),e&2&&ke("dnd-faint",i.faintClass)},outputs:{dragDrop:"dragDrop"}})};var S8=jm(C8());var wl=class n{SUPPORTED_EXTENSIONS=new Set(["zip"]);OVERVIEW_FILEPATH="overview.json";FILES_DIR_PATH="files";PAIRS_DIR_PATH="pairs";mimeToExtension={"application/zip":"zip","application/x-zip-compressed":"zip","application/x-rar-compressed":"rar"};hasValidExtension(t,e){if(!t)return!1;let i=this.getNormalizedExtension(t);return e.has(i)}getNormalizedExtension(t){let e=t.type||"";return this.mimeToExtension[e]||""}createWrapper(t){return{file:t,name:t.name,extension:this.getNormalizedExtension(t),dateModified:new Date(t.lastModified)}}readReportFromZip(t){return this.hasValidExtension(t,this.SUPPORTED_EXTENSIONS)?Bn(S8.default.loadAsync(t)).pipe(lr(e=>{let i=Object.keys(e.files),o=e.files[this.OVERVIEW_FILEPATH]||e.files["/"+this.OVERVIEW_FILEPATH],r=Bn(o.async("string")).pipe(nt(l=>JSON.parse(l))),s=this.getSubmissionsReadTasks(i,e),a=this.getPairReadTasks(i,e);return rd({overview:r,submissions:s.length>0?rd(s).pipe(nt(l=>{let c=new Map;return l.forEach(d=>{c.set(d.id,d)}),c})):We(new Map),pairs:a.length>0?rd(a).pipe(nt(l=>{let c=new Map;return l.forEach(d=>{c.set(d.id,d)}),c})):We(new Map)})})):We(null)}getPairReadTasks(t,e){return t.filter(i=>this.isWithinDirectory(i,this.PAIRS_DIR_PATH)&&i.endsWith(".json")).map(i=>Bn(e.files[i].async("string")).pipe(lr(o=>{let r=JSON.parse(o);return We(r)})))}getSubmissionsReadTasks(t,e){return t.filter(i=>this.isWithinDirectory(i,this.FILES_DIR_PATH)&&i.endsWith("_meta.json")).map(i=>Bn(e.files[i].async("string")).pipe(lr(o=>{let r=i.split("/"),s=r[r.length-2],a=JSON.parse(o),l=`${this.FILES_DIR_PATH}/${s}/${a.id}_content.txt`,c=e.files[l]||e.files["/"+l];return c?Bn(c.async("string")).pipe(nt(d=>(a.content=d,a))):We(a)})))}isWithinDirectory(t,e){return t.startsWith(e)||t.startsWith("/"+e)}static \u0275fac=function(e){return new(e||n)};static \u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})};var UC=class n{constructor(t){this.fileUtils=t}title="Vyberte s\xFAbor alebo ho sem vlo\u017Ete";subtitle="Povolen\xE9 form\xE1ty ZIP, TAR or TARGZ";buttonText="Vyberte s\xFAbor";supportedExtensions=new Set(["tar","zip","targz"]);fileUploaded=new Le;onFileSelect(t){let e=t.target;e.files&&e.files.length>0&&this.processFiles(e.files)}onFileDrop(t){t.dataTransfer&&this.processFiles(t.dataTransfer.files)}processFiles(t){if(t.length>1)return;let e=t[0];this.fileUtils.hasValidExtension(e,this.supportedExtensions)&&this.fileUploaded.emit(e)}static \u0275fac=function(e){return new(e||n)(ie(wl))};static \u0275cmp=Q({type:n,selectors:[["app-file-upload-dnd"]],inputs:{title:"title",subtitle:"subtitle",buttonText:"buttonText",supportedExtensions:"supportedExtensions"},outputs:{fileUploaded:"fileUploaded"},decls:11,vars:3,consts:[["filePicker",""],["appDnd","",1,"dnd-area",3,"dragDrop"],[1,"text-frame"],[1,"title-text"],[1,"subtitle-text"],["mat-stroked-button","",3,"click"],["type","file",1,"file-input",2,"display","none",3,"change"]],template:function(e,i){if(e&1){let o=Nt();x(0,"div",1),le("dragDrop",function(s){return Ze(o),Qe(i.onFileDrop(s))}),x(1,"div",2)(2,"h1",3),P(3),w(),x(4,"p",4),P(5),w()(),x(6,"button",5),le("click",function(){Ze(o);let s=to(10);return Qe(s.click())}),x(7,"span"),P(8),w(),x(9,"input",6,0),le("change",function(s){return Ze(o),Qe(i.onFileSelect(s))}),w()()()}e&2&&(I(3),be(i.title),I(2),be(i.subtitle),I(3),be(i.buttonText))},dependencies:[Mn,WC],styles:[".dnd-area[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;height:250px;min-width:400px;max-width:500px;box-sizing:border-box;margin-inline:auto;gap:1rem;padding:1rem;border-radius:var(--mat-sys-corner-extra-small);background-color:var(--mat-sys-surface-container-high);border:1px dashed var(--mat-sys-outline-variant)}.dnd-faint[_ngcontent-%COMP%]{border:1px dashed var(--mat-sys-primary)}.dnd-faint[_ngcontent-%COMP%]   .text-frame[_ngcontent-%COMP%]{opacity:.5}.dnd-faint[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{opacity:.38}.dnd-area[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{max-width:200px}.title-text[_ngcontent-%COMP%]{text-align:center;font:var(--mat-sys-title-medium);color:var(--mat-sys-on-surface);margin:0}.subtitle-text[_ngcontent-%COMP%]{text-align:center;font:var(--mat-sys-body-small);color:var(--mat-sys-on-surface-variant);margin:0}.text-frame[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;gap:.25rem}"]})};var qC=class{};function $C(n){return n&&typeof n.connect=="function"&&!(n instanceof w_)}var ef=function(n){return n[n.REPLACED=0]="REPLACED",n[n.INSERTED=1]="INSERTED",n[n.MOVED=2]="MOVED",n[n.REMOVED=3]="REMOVED",n}(ef||{}),Fv=new ue("_ViewRepeater"),tf=class{applyChanges(t,e,i,o,r){t.forEachOperation((s,a,l)=>{let c,d;if(s.previousIndex==null){let u=i(s,a,l);c=e.createEmbeddedView(u.templateRef,u.context,u.index),d=ef.INSERTED}else l==null?(e.remove(a),d=ef.REMOVED):(c=e.get(a),e.move(c,l),d=ef.MOVED);r&&r({context:c?.context,operation:d,record:s})})}detach(){}};var GC=class{_multiple;_emitChanges;compareWith;_selection=new Set;_deselectedToEmit=[];_selectedToEmit=[];_selected;get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}changed=new Ee;constructor(t=!1,e,i=!0,o){this._multiple=t,this._emitChanges=i,this.compareWith=o,e&&e.length&&(t?e.forEach(r=>this._markSelected(r)):this._markSelected(e[0]),this._selectedToEmit.length=0)}select(...t){this._verifyValueAssignment(t),t.forEach(i=>this._markSelected(i));let e=this._hasQueuedChanges();return this._emitChangeEvent(),e}deselect(...t){this._verifyValueAssignment(t),t.forEach(i=>this._unmarkSelected(i));let e=this._hasQueuedChanges();return this._emitChangeEvent(),e}setSelection(...t){this._verifyValueAssignment(t);let e=this.selected,i=new Set(t);t.forEach(r=>this._markSelected(r)),e.filter(r=>!i.has(this._getConcreteValue(r,i))).forEach(r=>this._unmarkSelected(r));let o=this._hasQueuedChanges();return this._emitChangeEvent(),o}toggle(t){return this.isSelected(t)?this.deselect(t):this.select(t)}clear(t=!0){this._unmarkAll();let e=this._hasQueuedChanges();return t&&this._emitChangeEvent(),e}isSelected(t){return this._selection.has(this._getConcreteValue(t))}isEmpty(){return this._selection.size===0}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){t=this._getConcreteValue(t),this.isSelected(t)||(this._multiple||this._unmarkAll(),this.isSelected(t)||this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){t=this._getConcreteValue(t),this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){t.length>1&&this._multiple}_hasQueuedChanges(){return!!(this._deselectedToEmit.length||this._selectedToEmit.length)}_getConcreteValue(t,e){if(this.compareWith){e=e??this._selection;for(let i of e)if(this.compareWith(t,i))return i;return t}else return t}};var Eme=20,Ad=(()=>{class n{_ngZone=y(et);_platform=y(Zt);_renderer=y(il).createRenderer(null,null);_cleanupGlobalListener;constructor(){}_scrolled=new Ee;_scrolledCount=0;scrollContainers=new Map;register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){let i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=Eme){return this._platform.isBrowser?new ar(i=>{this._cleanupGlobalListener||(this._cleanupGlobalListener=this._ngZone.runOutsideAngular(()=>this._renderer.listen("document","scroll",()=>this._scrolled.next())));let o=e>0?this._scrolled.pipe(kT(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{o.unsubscribe(),this._scrolledCount--,this._scrolledCount||(this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0)}}):We()}ngOnDestroy(){this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0,this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){let o=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(ri(r=>!r||o.indexOf(r)>-1))}getAncestorScrollContainers(e){let i=[];return this.scrollContainers.forEach((o,r)=>{this._scrollableContainsElement(r,e)&&i.push(r)}),i}_scrollableContainsElement(e,i){let o=Gr(i),r=e.getElementRef().nativeElement;do if(o==r)return!0;while(o=o.parentElement);return!1}static \u0275fac=function(i){return new(i||n)};static \u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),kc=(()=>{class n{elementRef=y(He);scrollDispatcher=y(Ad);ngZone=y(et);dir=y(mn,{optional:!0});_scrollElement=this.elementRef.nativeElement;_destroyed=new Ee;_renderer=y(on);_cleanupScroll;_elementScrolled=new Ee;constructor(){}ngOnInit(){this._cleanupScroll=this.ngZone.runOutsideAngular(()=>this._renderer.listen(this._scrollElement,"scroll",e=>this._elementScrolled.next(e))),this.scrollDispatcher.register(this)}ngOnDestroy(){this._cleanupScroll?.(),this._elementScrolled.complete(),this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){let i=this.elementRef.nativeElement,o=this.dir&&this.dir.value=="rtl";e.left==null&&(e.left=o?e.end:e.start),e.right==null&&(e.right=o?e.start:e.end),e.bottom!=null&&(e.top=i.scrollHeight-i.clientHeight-e.bottom),o&&Up()!=La.NORMAL?(e.left!=null&&(e.right=i.scrollWidth-i.clientWidth-e.left),Up()==La.INVERTED?e.left=e.right:Up()==La.NEGATED&&(e.left=e.right?-e.right:e.right)):e.right!=null&&(e.left=i.scrollWidth-i.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){let i=this.elementRef.nativeElement;IC()?i.scrollTo(e):(e.top!=null&&(i.scrollTop=e.top),e.left!=null&&(i.scrollLeft=e.left))}measureScrollOffset(e){let i="left",o="right",r=this.elementRef.nativeElement;if(e=="top")return r.scrollTop;if(e=="bottom")return r.scrollHeight-r.clientHeight-r.scrollTop;let s=this.dir&&this.dir.value=="rtl";return e=="start"?e=s?o:i:e=="end"&&(e=s?i:o),s&&Up()==La.INVERTED?e==i?r.scrollWidth-r.clientWidth-r.scrollLeft:r.scrollLeft:s&&Up()==La.NEGATED?e==i?r.scrollLeft+r.scrollWidth-r.clientWidth:-r.scrollLeft:e==i?r.scrollLeft:r.scrollWidth-r.clientWidth-r.scrollLeft}static \u0275fac=function(i){return new(i||n)};static \u0275dir=ge({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]})}return n})(),kme=20,$s=(()=>{class n{_platform=y(Zt);_listeners;_viewportSize;_change=new Ee;_document=y(kt,{optional:!0});constructor(){let e=y(et),i=y(il).createRenderer(null,null);e.runOutsideAngular(()=>{if(this._platform.isBrowser){let o=r=>this._change.next(r);this._listeners=[i.listen("window","resize",o),i.listen("window","orientationchange",o)]}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){this._listeners?.forEach(e=>e()),this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){let e=this.getViewportScrollPosition(),{width:i,height:o}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+o,right:e.left+i,height:o,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let e=this._document,i=this._getWindow(),o=e.documentElement,r=o.getBoundingClientRect(),s=-r.top||e.body.scrollTop||i.scrollY||o.scrollTop||0,a=-r.left||e.body.scrollLeft||i.scrollX||o.scrollLeft||0;return{top:s,left:a}}change(e=kme){return e>0?this._change.pipe(kT(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}static \u0275fac=function(i){return new(i||n)};static \u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var zv=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=xt({type:n});static \u0275inj=yt({})}return n})(),fO=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=xt({type:n});static \u0275inj=yt({imports:[Mh,zv,Mh,zv]})}return n})();var Bv=class{_attachedHost;attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;t!=null&&(this._attachedHost=null,t.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(t){this._attachedHost=t}},Rd=class extends Bv{component;viewContainerRef;injector;componentFactoryResolver;projectableNodes;constructor(t,e,i,o,r){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.projectableNodes=r}},Mc=class extends Bv{templateRef;viewContainerRef;context;injector;constructor(t,e,i,o){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i,this.injector=o}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}},gO=class extends Bv{element;constructor(t){super(),this.element=t instanceof He?t.nativeElement:t}},nf=class{_attachedPortal;_disposeFn;_isDisposed=!1;hasAttached(){return!!this._attachedPortal}attach(t){if(t instanceof Rd)return this._attachedPortal=t,this.attachComponentPortal(t);if(t instanceof Mc)return this._attachedPortal=t,this.attachTemplatePortal(t);if(this.attachDomPortal&&t instanceof gO)return this._attachedPortal=t,this.attachDomPortal(t)}attachDomPortal=null;detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}};var KC=class extends nf{outletElement;_appRef;_defaultInjector;_document;constructor(t,e,i,o,r){super(),this.outletElement=t,this._appRef=i,this._defaultInjector=o,this._document=r}attachComponentPortal(t){let e;if(t.viewContainerRef){let i=t.injector||t.viewContainerRef.injector,o=i.get(zT,null,{optional:!0})||void 0;e=t.viewContainerRef.createComponent(t.component,{index:t.viewContainerRef.length,injector:i,ngModuleRef:o,projectableNodes:t.projectableNodes||void 0}),this.setDisposeFn(()=>e.destroy())}else e=_x(t.component,{elementInjector:t.injector||this._defaultInjector||Si.NULL,environmentInjector:this._appRef.injector,projectableNodes:t.projectableNodes||void 0}),this._appRef.attachView(e.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(e.hostView),e.destroy()});return this.outletElement.appendChild(this._getComponentRootNode(e)),this._attachedPortal=t,e}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return i.rootNodes.forEach(o=>this.outletElement.appendChild(o)),i.detectChanges(),this.setDisposeFn(()=>{let o=e.indexOf(i);o!==-1&&e.remove(o)}),this._attachedPortal=t,i}attachDomPortal=t=>{let e=t.element;e.parentNode;let i=this._document.createComment("dom-portal");e.parentNode.insertBefore(i,e),this.outletElement.appendChild(e),this._attachedPortal=t,super.setDisposeFn(()=>{i.parentNode&&i.parentNode.replaceChild(e,i)})};dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}};var Hv=(()=>{class n extends nf{_moduleRef=y(zT,{optional:!0});_document=y(kt);_viewContainerRef=y(Go);_isInitialized=!1;_attachedRef;constructor(){super()}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}attached=new Le;get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(e){e.setAttachedHost(this);let i=e.viewContainerRef!=null?e.viewContainerRef:this._viewContainerRef,o=i.createComponent(e.component,{index:i.length,injector:e.injector||i.injector,projectableNodes:e.projectableNodes||void 0,ngModuleRef:this._moduleRef||void 0});return i!==this._viewContainerRef&&this._getRootNode().appendChild(o.hostView.rootNodes[0]),super.setDisposeFn(()=>o.destroy()),this._attachedPortal=e,this._attachedRef=o,this.attached.emit(o),o}attachTemplatePortal(e){e.setAttachedHost(this);let i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}attachDomPortal=e=>{let i=e.element;i.parentNode;let o=this._document.createComment("dom-portal");e.setAttachedHost(this),i.parentNode.insertBefore(o,i),this._getRootNode().appendChild(i),this._attachedPortal=e,super.setDisposeFn(()=>{o.parentNode&&o.parentNode.replaceChild(i,o)})};_getRootNode(){let e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}static \u0275fac=function(i){return new(i||n)};static \u0275dir=ge({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[dt]})}return n})();var I8=IC(),_O=class{_viewportRuler;_previousHTMLStyles={top:"",left:""};_previousScrollPosition;_isEnabled=!1;_document;constructor(t,e){this._viewportRuler=t,this._document=e}attach(){}enable(){if(this._canBeEnabled()){let t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=lo(-this._previousScrollPosition.left),t.style.top=lo(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let t=this._document.documentElement,e=this._document.body,i=t.style,o=e.style,r=i.scrollBehavior||"",s=o.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),I8&&(i.scrollBehavior=o.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),I8&&(i.scrollBehavior=r,o.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}};var vO=class{_scrollDispatcher;_ngZone;_viewportRuler;_config;_scrollSubscription=null;_overlayRef;_initialScrollPosition;constructor(t,e,i,o){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=o}attach(t){this._overlayRef,this._overlayRef=t}enable(){if(this._scrollSubscription)return;let t=this._scrollDispatcher.scrolled(0).pipe(ri(e=>!e||!this._overlayRef.overlayElement.contains(e.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{let e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}_detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}},YC=class{enable(){}disable(){}attach(){}};function bO(n,t){return t.some(e=>{let i=n.bottom<e.top,o=n.top>e.bottom,r=n.right<e.left,s=n.left>e.right;return i||o||r||s})}function D8(n,t){return t.some(e=>{let i=n.top<e.top,o=n.bottom>e.bottom,r=n.left<e.left,s=n.right>e.right;return i||o||r||s})}var yO=class{_scrollDispatcher;_viewportRuler;_ngZone;_config;_scrollSubscription=null;_overlayRef;constructor(t,e,i,o){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=o}attach(t){this._overlayRef,this._overlayRef=t}enable(){if(!this._scrollSubscription){let t=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(t).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:o}=this._viewportRuler.getViewportSize();bO(e,[{width:i,height:o,bottom:o,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},Tme=(()=>{class n{_scrollDispatcher=y(Ad);_viewportRuler=y($s);_ngZone=y(et);_document=y(kt);constructor(){}noop=()=>new YC;close=e=>new vO(this._scrollDispatcher,this._ngZone,this._viewportRuler,e);block=()=>new _O(this._viewportRuler,this._document);reposition=e=>new yO(this._scrollDispatcher,this._viewportRuler,this._ngZone,e);static \u0275fac=function(i){return new(i||n)};static \u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Od=class{positionStrategy;scrollStrategy=new YC;panelClass="";hasBackdrop=!1;backdropClass="cdk-overlay-dark-backdrop";width;height;minWidth;minHeight;maxWidth;maxHeight;direction;disposeOnNavigation=!1;constructor(t){if(t){let e=Object.keys(t);for(let i of e)t[i]!==void 0&&(this[i]=t[i])}}};var xO=class{connectionPair;scrollableViewProperties;constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}};var O8=(()=>{class n{_attachedOverlays=[];_document=y(kt);_isAttached;constructor(){}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){let i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),this._attachedOverlays.length===0&&this.detach()}static \u0275fac=function(i){return new(i||n)};static \u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ame=(()=>{class n extends O8{_ngZone=y(et);_renderer=y(il).createRenderer(null,null);_cleanupKeydown;add(e){super.add(e),this._isAttached||(this._ngZone.runOutsideAngular(()=>{this._cleanupKeydown=this._renderer.listen("body","keydown",this._keydownListener)}),this._isAttached=!0)}detach(){this._isAttached&&(this._cleanupKeydown?.(),this._isAttached=!1)}_keydownListener=e=>{let i=this._attachedOverlays;for(let o=i.length-1;o>-1;o--)if(i[o]._keydownEvents.observers.length>0){this._ngZone.run(()=>i[o]._keydownEvents.next(e));break}};static \u0275fac=(()=>{let e;return function(o){return(e||(e=ti(n)))(o||n)}})();static \u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Rme=(()=>{class n extends O8{_platform=y(Zt);_ngZone=y(et,{optional:!0});_cursorOriginalValue;_cursorStyleIsSet=!1;_pointerDownEventTarget;add(e){if(super.add(e),!this._isAttached){let i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){let e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}_pointerDownListener=e=>{this._pointerDownEventTarget=Or(e)};_clickListener=e=>{let i=Or(e),o=e.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:i;this._pointerDownEventTarget=null;let r=this._attachedOverlays.slice();for(let s=r.length-1;s>-1;s--){let a=r[s];if(a._outsidePointerEvents.observers.length<1||!a.hasAttached())continue;if(E8(a.overlayElement,i)||E8(a.overlayElement,o))break;let l=a._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>l.next(e)):l.next(e)}};static \u0275fac=(()=>{let e;return function(o){return(e||(e=ti(n)))(o||n)}})();static \u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function E8(n,t){let e=typeof ShadowRoot<"u"&&ShadowRoot,i=t;for(;i;){if(i===n)return!0;i=e&&i instanceof ShadowRoot?i.host:i.parentNode}return!1}var P8=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Q({type:n,selectors:[["ng-component"]],hostAttrs:["cdk-overlay-style-loader",""],decls:0,vars:0,template:function(i,o){},styles:[".cdk-overlay-container,.cdk-global-overlay-wrapper{pointer-events:none;top:0;left:0;height:100%;width:100%}.cdk-overlay-container{position:fixed}@layer cdk-overlay{.cdk-overlay-container{z-index:1000}}.cdk-overlay-container:empty{display:none}.cdk-global-overlay-wrapper{display:flex;position:absolute}@layer cdk-overlay{.cdk-global-overlay-wrapper{z-index:1000}}.cdk-overlay-pane{position:absolute;pointer-events:auto;box-sizing:border-box;display:flex;max-width:100%;max-height:100%}@layer cdk-overlay{.cdk-overlay-pane{z-index:1000}}.cdk-overlay-backdrop{position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:auto;-webkit-tap-highlight-color:rgba(0,0,0,0);opacity:0}@layer cdk-overlay{.cdk-overlay-backdrop{z-index:1000;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}}.cdk-overlay-backdrop-showing{opacity:1}@media(forced-colors: active){.cdk-overlay-backdrop-showing{opacity:.6}}@layer cdk-overlay{.cdk-overlay-dark-backdrop{background:rgba(0,0,0,.32)}}.cdk-overlay-transparent-backdrop{transition:visibility 1ms linear,opacity 1ms linear;visibility:hidden;opacity:1}.cdk-overlay-transparent-backdrop.cdk-overlay-backdrop-showing,.cdk-high-contrast-active .cdk-overlay-transparent-backdrop{opacity:0;visibility:visible}.cdk-overlay-backdrop-noop-animation{transition:none}.cdk-overlay-connected-position-bounding-box{position:absolute;display:flex;flex-direction:column;min-width:1px;min-height:1px}@layer cdk-overlay{.cdk-overlay-connected-position-bounding-box{z-index:1000}}.cdk-global-scrollblock{position:fixed;width:100%;overflow-y:scroll}"],encapsulation:2,changeDetection:0})}return n})(),XC=(()=>{class n{_platform=y(Zt);_containerElement;_document=y(kt);_styleLoader=y(kn);constructor(){}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._loadStyles(),this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let e="cdk-overlay-container";if(this._platform.isBrowser||YR()){let o=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let r=0;r<o.length;r++)o[r].remove()}let i=this._document.createElement("div");i.classList.add(e),YR()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}_loadStyles(){this._styleLoader.load(P8)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),of=class{_portalOutlet;_host;_pane;_config;_ngZone;_keyboardDispatcher;_document;_location;_outsideClickDispatcher;_animationsDisabled;_injector;_renderer;_backdropElement=null;_backdropTimeout;_backdropClick=new Ee;_attachments=new Ee;_detachments=new Ee;_positionStrategy;_scrollStrategy;_locationChanges=fn.EMPTY;_cleanupBackdropClick;_cleanupBackdropTransitionEnd;_previousHostParent;_keydownEvents=new Ee;_outsidePointerEvents=new Ee;_renders=new Ee;_afterRenderRef;_afterNextRenderRef;constructor(t,e,i,o,r,s,a,l,c,d=!1,u,h){this._portalOutlet=t,this._host=e,this._pane=i,this._config=o,this._ngZone=r,this._keyboardDispatcher=s,this._document=a,this._location=l,this._outsideClickDispatcher=c,this._animationsDisabled=d,this._injector=u,this._renderer=h,o.scrollStrategy&&(this._scrollStrategy=o.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=o.positionStrategy,this._afterRenderRef=ba(()=>mx(()=>{this._renders.next()},{injector:this._injector}))}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);let e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._afterNextRenderRef?.destroy(),this._afterNextRenderRef=So(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof e?.onDestroy=="function"&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){let t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._afterNextRenderRef?.destroy(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete(),this._afterRenderRef.destroy(),this._renders.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=j(j({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Te(j({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){let t=this._config.direction;return t?typeof t=="string"?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let t=this._pane.style;t.width=lo(this._config.width),t.height=lo(this._config.height),t.minWidth=lo(this._config.minWidth),t.minHeight=lo(this._config.minHeight),t.maxWidth=lo(this._config.maxWidth),t.maxHeight=lo(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){let t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._cleanupBackdropClick?.(),this._cleanupBackdropClick=this._renderer.listen(this._backdropElement,"click",e=>this._backdropClick.next(e)),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let t=this._backdropElement;if(t){if(this._animationsDisabled){this._disposeBackdrop(t);return}t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{this._cleanupBackdropTransitionEnd?.(),this._cleanupBackdropTransitionEnd=this._renderer.listen(t,"transitionend",e=>{this._disposeBackdrop(e.target)})}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,e,i){let o=Gp(e||[]).filter(r=>!!r);o.length&&(i?t.classList.add(...o):t.classList.remove(...o))}_detachContentWhenEmpty(){this._ngZone.runOutsideAngular(()=>{let t=this._renders.pipe(vt(tn(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){let t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){this._cleanupBackdropClick?.(),this._cleanupBackdropTransitionEnd?.(),t&&(t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}},k8="cdk-overlay-connected-position-bounding-box",Ome=/([A-Za-z%]+)$/,wO=class{_viewportRuler;_document;_platform;_overlayContainer;_overlayRef;_isInitialRender;_lastBoundingBoxSize={width:0,height:0};_isPushed=!1;_canPush=!0;_growAfterOpen=!1;_hasFlexibleDimensions=!0;_positionLocked=!1;_originRect;_overlayRect;_viewportRect;_containerRect;_viewportMargin=0;_scrollables=[];_preferredPositions=[];_origin;_pane;_isDisposed;_boundingBox;_lastPosition;_lastScrollVisibility;_positionChanges=new Ee;_resizeSubscription=fn.EMPTY;_offsetX=0;_offsetY=0;_transformOriginSelector;_appliedPanelClasses=[];_previousPushAmount;positionChanges=this._positionChanges;get positions(){return this._preferredPositions}constructor(t,e,i,o,r){this._viewportRuler=e,this._document=i,this._platform=o,this._overlayContainer=r,this.setOrigin(t)}attach(t){this._overlayRef&&this._overlayRef,this._validatePositions(),t.hostElement.classList.add(k8),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let t=this._originRect,e=this._overlayRect,i=this._viewportRect,o=this._containerRect,r=[],s;for(let a of this._preferredPositions){let l=this._getOriginPoint(t,o,a),c=this._getOverlayPoint(l,e,a),d=this._getOverlayFit(c,e,i,a);if(d.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(a,l);return}if(this._canFitWithFlexibleDimensions(d,c,i)){r.push({position:a,origin:l,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(l,a)});continue}(!s||s.overlayFit.visibleArea<d.visibleArea)&&(s={overlayFit:d,overlayPoint:c,originPoint:l,position:a,overlayRect:e})}if(r.length){let a=null,l=-1;for(let c of r){let d=c.boundingBoxRect.width*c.boundingBoxRect.height*(c.position.weight||1);d>l&&(l=d,a=c)}this._isPushed=!1,this._applyPosition(a.position,a.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(s.position,s.originPoint);return}this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Ah(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(k8),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,t.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let o;if(i.originX=="center")o=t.left+t.width/2;else{let s=this._isRtl()?t.right:t.left,a=this._isRtl()?t.left:t.right;o=i.originX=="start"?s:a}e.left<0&&(o-=e.left);let r;return i.originY=="center"?r=t.top+t.height/2:r=i.originY=="top"?t.top:t.bottom,e.top<0&&(r-=e.top),{x:o,y:r}}_getOverlayPoint(t,e,i){let o;i.overlayX=="center"?o=-e.width/2:i.overlayX==="start"?o=this._isRtl()?-e.width:0:o=this._isRtl()?0:-e.width;let r;return i.overlayY=="center"?r=-e.height/2:r=i.overlayY=="top"?0:-e.height,{x:t.x+o,y:t.y+r}}_getOverlayFit(t,e,i,o){let r=T8(e),{x:s,y:a}=t,l=this._getOffset(o,"x"),c=this._getOffset(o,"y");l&&(s+=l),c&&(a+=c);let d=0-s,u=s+r.width-i.width,h=0-a,m=a+r.height-i.height,f=this._subtractOverflows(r.width,d,u),p=this._subtractOverflows(r.height,h,m),g=f*p;return{visibleArea:g,isCompletelyWithinViewport:r.width*r.height===g,fitsInViewportVertically:p===r.height,fitsInViewportHorizontally:f==r.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){let o=i.bottom-e.y,r=i.right-e.x,s=M8(this._overlayRef.getConfig().minHeight),a=M8(this._overlayRef.getConfig().minWidth),l=t.fitsInViewportVertically||s!=null&&s<=o,c=t.fitsInViewportHorizontally||a!=null&&a<=r;return l&&c}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};let o=T8(e),r=this._viewportRect,s=Math.max(t.x+o.width-r.width,0),a=Math.max(t.y+o.height-r.height,0),l=Math.max(r.top-i.top-t.y,0),c=Math.max(r.left-i.left-t.x,0),d=0,u=0;return o.width<=r.width?d=c||-s:d=t.x<this._viewportMargin?r.left-i.left-t.x:0,o.height<=r.height?u=l||-a:u=t.y<this._viewportMargin?r.top-i.top-t.y:0,this._previousPushAmount={x:d,y:u},{x:t.x+d,y:t.y+u}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._positionChanges.observers.length){let i=this._getScrollVisibility();if(t!==this._lastPosition||!this._lastScrollVisibility||!Pme(this._lastScrollVisibility,i)){let o=new xO(t,i);this._positionChanges.next(o)}this._lastScrollVisibility=i}this._lastPosition=t,this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;let e=this._boundingBox.querySelectorAll(this._transformOriginSelector),i,o=t.overlayY;t.overlayX==="center"?i="center":this._isRtl()?i=t.overlayX==="start"?"right":"left":i=t.overlayX==="start"?"left":"right";for(let r=0;r<e.length;r++)e[r].style.transformOrigin=`${i} ${o}`}_calculateBoundingBoxRect(t,e){let i=this._viewportRect,o=this._isRtl(),r,s,a;if(e.overlayY==="top")s=t.y,r=i.height-s+this._viewportMargin;else if(e.overlayY==="bottom")a=i.height-t.y+this._viewportMargin*2,r=i.height-a+this._viewportMargin;else{let m=Math.min(i.bottom-t.y+i.top,t.y),f=this._lastBoundingBoxSize.height;r=m*2,s=t.y-m,r>f&&!this._isInitialRender&&!this._growAfterOpen&&(s=t.y-f/2)}let l=e.overlayX==="start"&&!o||e.overlayX==="end"&&o,c=e.overlayX==="end"&&!o||e.overlayX==="start"&&o,d,u,h;if(c)h=i.width-t.x+this._viewportMargin*2,d=t.x-this._viewportMargin;else if(l)u=t.x,d=i.right-t.x;else{let m=Math.min(i.right-t.x+i.left,t.x),f=this._lastBoundingBoxSize.width;d=m*2,u=t.x-m,d>f&&!this._isInitialRender&&!this._growAfterOpen&&(u=t.x-f/2)}return{top:s,left:u,bottom:a,right:h,width:d,height:r}}_setBoundingBoxStyles(t,e){let i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));let o={};if(this._hasExactPosition())o.top=o.left="0",o.bottom=o.right=o.maxHeight=o.maxWidth="",o.width=o.height="100%";else{let r=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;o.height=lo(i.height),o.top=lo(i.top),o.bottom=lo(i.bottom),o.width=lo(i.width),o.left=lo(i.left),o.right=lo(i.right),e.overlayX==="center"?o.alignItems="center":o.alignItems=e.overlayX==="end"?"flex-end":"flex-start",e.overlayY==="center"?o.justifyContent="center":o.justifyContent=e.overlayY==="bottom"?"flex-end":"flex-start",r&&(o.maxHeight=lo(r)),s&&(o.maxWidth=lo(s))}this._lastBoundingBoxSize=i,Ah(this._boundingBox.style,o)}_resetBoundingBoxStyles(){Ah(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Ah(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){let i={},o=this._hasExactPosition(),r=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(o){let d=this._viewportRuler.getViewportScrollPosition();Ah(i,this._getExactOverlayY(e,t,d)),Ah(i,this._getExactOverlayX(e,t,d))}else i.position="static";let a="",l=this._getOffset(e,"x"),c=this._getOffset(e,"y");l&&(a+=`translateX(${l}px) `),c&&(a+=`translateY(${c}px)`),i.transform=a.trim(),s.maxHeight&&(o?i.maxHeight=lo(s.maxHeight):r&&(i.maxHeight="")),s.maxWidth&&(o?i.maxWidth=lo(s.maxWidth):r&&(i.maxWidth="")),Ah(this._pane.style,i)}_getExactOverlayY(t,e,i){let o={top:"",bottom:""},r=this._getOverlayPoint(e,this._overlayRect,t);if(this._isPushed&&(r=this._pushOverlayOnScreen(r,this._overlayRect,i)),t.overlayY==="bottom"){let s=this._document.documentElement.clientHeight;o.bottom=`${s-(r.y+this._overlayRect.height)}px`}else o.top=lo(r.y);return o}_getExactOverlayX(t,e,i){let o={left:"",right:""},r=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(r=this._pushOverlayOnScreen(r,this._overlayRect,i));let s;if(this._isRtl()?s=t.overlayX==="end"?"left":"right":s=t.overlayX==="end"?"right":"left",s==="right"){let a=this._document.documentElement.clientWidth;o.right=`${a-(r.x+this._overlayRect.width)}px`}else o.left=lo(r.x);return o}_getScrollVisibility(){let t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(o=>o.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:D8(t,i),isOriginOutsideView:bO(t,i),isOverlayClipped:D8(e,i),isOverlayOutsideView:bO(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,o)=>i-Math.max(o,0),t)}_getNarrowedViewportRect(){let t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return e==="x"?t.offsetX==null?this._offsetX:t.offsetX:t.offsetY==null?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&Gp(t).forEach(e=>{e!==""&&this._appliedPanelClasses.indexOf(e)===-1&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){let t=this._origin;if(t instanceof He)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();let e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}};function Ah(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function M8(n){if(typeof n!="number"&&n!=null){let[t,e]=n.split(Ome);return!e||e==="px"?parseFloat(t):null}return n||null}function T8(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}function Pme(n,t){return n===t?!0:n.isOriginClipped===t.isOriginClipped&&n.isOriginOutsideView===t.isOriginOutsideView&&n.isOverlayClipped===t.isOverlayClipped&&n.isOverlayOutsideView===t.isOverlayOutsideView}var A8="cdk-global-overlay-wrapper",CO=class{_overlayRef;_cssPosition="static";_topOffset="";_bottomOffset="";_alignItems="";_xPosition="";_xOffset="";_width="";_height="";_isDisposed=!1;attach(t){let e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(A8),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:o,height:r,maxWidth:s,maxHeight:a}=i,l=(o==="100%"||o==="100vw")&&(!s||s==="100%"||s==="100vw"),c=(r==="100%"||r==="100vh")&&(!a||a==="100%"||a==="100vh"),d=this._xPosition,u=this._xOffset,h=this._overlayRef.getConfig().direction==="rtl",m="",f="",p="";l?p="flex-start":d==="center"?(p="center",h?f=u:m=u):h?d==="left"||d==="end"?(p="flex-end",m=u):(d==="right"||d==="start")&&(p="flex-start",f=u):d==="left"||d==="start"?(p="flex-start",m=u):(d==="right"||d==="end")&&(p="flex-end",f=u),t.position=this._cssPosition,t.marginLeft=l?"0":m,t.marginTop=c?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=l?"0":f,e.justifyContent=p,e.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(A8),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}},Lme=(()=>{class n{_viewportRuler=y($s);_document=y(kt);_platform=y(Zt);_overlayContainer=y(XC);constructor(){}global(){return new CO}flexibleConnectedTo(e){return new wO(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),vr=(()=>{class n{scrollStrategies=y(Tme);_overlayContainer=y(XC);_positionBuilder=y(Lme);_keyboardDispatcher=y(Ame);_injector=y(Si);_ngZone=y(et);_document=y(kt);_directionality=y(mn);_location=y(Ym);_outsideClickDispatcher=y(Rme);_animationsModuleType=y(Wi,{optional:!0});_idGenerator=y(Yn);_renderer=y(il).createRenderer(null,null);_appRef;_styleLoader=y(kn);constructor(){}create(e){this._styleLoader.load(P8);let i=this._createHostElement(),o=this._createPaneElement(i),r=this._createPortalOutlet(o),s=new Od(e);return s.direction=s.direction||this._directionality.value,new of(r,i,o,s,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,this._animationsModuleType==="NoopAnimations",this._injector.get(Rs),this._renderer)}position(){return this._positionBuilder}_createPaneElement(e){let i=this._document.createElement("div");return i.id=this._idGenerator.getId("cdk-overlay-"),i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){let e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(ad)),new KC(e,null,this._appRef,this._injector,this._document)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Nme=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],Fme=new ue("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{let n=y(vr);return()=>n.scrollStrategies.reposition()}}),Vv=(()=>{class n{elementRef=y(He);constructor(){}static \u0275fac=function(i){return new(i||n)};static \u0275dir=ge({type:n,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]})}return n})(),SO=(()=>{class n{_overlay=y(vr);_dir=y(mn,{optional:!0});_overlayRef;_templatePortal;_backdropSubscription=fn.EMPTY;_attachSubscription=fn.EMPTY;_detachSubscription=fn.EMPTY;_positionSubscription=fn.EMPTY;_offsetX;_offsetY;_position;_scrollStrategyFactory=y(Fme);_disposeOnNavigation=!1;_ngZone=y(et);origin;positions;positionStrategy;get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}width;height;minWidth;minHeight;backdropClass;panelClass;viewportMargin=0;scrollStrategy;open=!1;disableClose=!1;transformOriginSelector;hasBackdrop=!1;lockPosition=!1;flexibleDimensions=!1;growAfterOpen=!1;push=!1;get disposeOnNavigation(){return this._disposeOnNavigation}set disposeOnNavigation(e){this._disposeOnNavigation=e}backdropClick=new Le;positionChange=new Le;attach=new Le;detach=new Le;overlayKeydown=new Le;overlayOutsideClick=new Le;constructor(){let e=y(qo),i=y(Go);this._templatePortal=new Mc(e,i),this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=Nme);let e=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=e.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=e.detachments().subscribe(()=>this.detach.emit()),e.keydownEvents().subscribe(i=>{this.overlayKeydown.next(i),i.keyCode===27&&!this.disableClose&&!ao(i)&&(i.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(i=>{let o=this._getOriginElement(),r=Or(i);(!o||o!==r&&!o.contains(r))&&this.overlayOutsideClick.next(i)})}_buildConfig(){let e=this._position=this.positionStrategy||this._createPositionStrategy(),i=new Od({direction:this._dir||"ltr",positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop,disposeOnNavigation:this.disposeOnNavigation});return(this.width||this.width===0)&&(i.width=this.width),(this.height||this.height===0)&&(i.height=this.height),(this.minWidth||this.minWidth===0)&&(i.minWidth=this.minWidth),(this.minHeight||this.minHeight===0)&&(i.minHeight=this.minHeight),this.backdropClass&&(i.backdropClass=this.backdropClass),this.panelClass&&(i.panelClass=this.panelClass),i}_updatePositionStrategy(e){let i=this.positions.map(o=>({originX:o.originX,originY:o.originY,overlayX:o.overlayX,overlayY:o.overlayY,offsetX:o.offsetX||this.offsetX,offsetY:o.offsetY||this.offsetY,panelClass:o.panelClass||void 0}));return e.setOrigin(this._getOrigin()).withPositions(i).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){let e=this._overlay.position().flexibleConnectedTo(this._getOrigin());return this._updatePositionStrategy(e),e}_getOrigin(){return this.origin instanceof Vv?this.origin.elementRef:this.origin}_getOriginElement(){return this.origin instanceof Vv?this.origin.elementRef.nativeElement:this.origin instanceof He?this.origin.nativeElement:typeof Element<"u"&&this.origin instanceof Element?this.origin:null}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(e=>{this.backdropClick.emit(e)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(hx(()=>this.positionChange.observers.length>0)).subscribe(e=>{this._ngZone.run(()=>this.positionChange.emit(e)),this.positionChange.observers.length===0&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}static \u0275fac=function(i){return new(i||n)};static \u0275dir=ge({type:n,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:[0,"cdkConnectedOverlayOrigin","origin"],positions:[0,"cdkConnectedOverlayPositions","positions"],positionStrategy:[0,"cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:[0,"cdkConnectedOverlayOffsetX","offsetX"],offsetY:[0,"cdkConnectedOverlayOffsetY","offsetY"],width:[0,"cdkConnectedOverlayWidth","width"],height:[0,"cdkConnectedOverlayHeight","height"],minWidth:[0,"cdkConnectedOverlayMinWidth","minWidth"],minHeight:[0,"cdkConnectedOverlayMinHeight","minHeight"],backdropClass:[0,"cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:[0,"cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:[0,"cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:[0,"cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:[0,"cdkConnectedOverlayOpen","open"],disableClose:[0,"cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:[0,"cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:[2,"cdkConnectedOverlayHasBackdrop","hasBackdrop",Ke],lockPosition:[2,"cdkConnectedOverlayLockPosition","lockPosition",Ke],flexibleDimensions:[2,"cdkConnectedOverlayFlexibleDimensions","flexibleDimensions",Ke],growAfterOpen:[2,"cdkConnectedOverlayGrowAfterOpen","growAfterOpen",Ke],push:[2,"cdkConnectedOverlayPush","push",Ke],disposeOnNavigation:[2,"cdkConnectedOverlayDisposeOnNavigation","disposeOnNavigation",Ke]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[Ut,Di]})}return n})();function Bme(n,t){}var Pd=class{viewContainerRef;injector;id;role="dialog";panelClass="";hasBackdrop=!0;backdropClass="";disableClose=!1;width="";height="";minWidth;minHeight;maxWidth;maxHeight;positionStrategy;data=null;direction;ariaDescribedBy=null;ariaLabelledBy=null;ariaLabel=null;ariaModal=!1;autoFocus="first-tabbable";restoreFocus=!0;scrollStrategy;closeOnNavigation=!0;closeOnDestroy=!0;closeOnOverlayDetachments=!0;componentFactoryResolver;providers;container;templateContext};var DO=(()=>{class n extends nf{_elementRef=y(He);_focusTrapFactory=y(NC);_config;_interactivityChecker=y(Rv);_ngZone=y(et);_overlayRef=y(of);_focusMonitor=y(Us);_renderer=y(on);_platform=y(Zt);_document=y(kt,{optional:!0});_portalOutlet;_focusTrap=null;_elementFocusedBeforeDialogWasOpened=null;_closeInteractionType=null;_ariaLabelledByQueue=[];_changeDetectorRef=y(Yt);_injector=y(Si);_isDestroyed=!1;constructor(){super(),this._config=y(Pd,{optional:!0})||new Pd,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(e){this._ariaLabelledByQueue.push(e),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(e){let i=this._ariaLabelledByQueue.indexOf(e);i>-1&&(this._ariaLabelledByQueue.splice(i,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._isDestroyed=!0,this._restoreFocus()}attachComponentPortal(e){this._portalOutlet.hasAttached();let i=this._portalOutlet.attachComponentPortal(e);return this._contentAttached(),i}attachTemplatePortal(e){this._portalOutlet.hasAttached();let i=this._portalOutlet.attachTemplatePortal(e);return this._contentAttached(),i}attachDomPortal=e=>{this._portalOutlet.hasAttached();let i=this._portalOutlet.attachDomPortal(e);return this._contentAttached(),i};_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let o=()=>{r(),s(),e.removeAttribute("tabindex")},r=this._renderer.listen(e,"blur",o),s=this._renderer.listen(e,"mousedown",o)})),e.focus(i)}_focusByCssSelector(e,i){let o=this._elementRef.nativeElement.querySelector(e);o&&this._forceFocus(o,i)}_trapFocus(){this._isDestroyed||So(()=>{let e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElement()||this._focusDialogContainer();break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus);break}},{injector:this._injector})}_restoreFocus(){let e=this._config.restoreFocus,i=null;if(typeof e=="string"?i=this._document.querySelector(e):typeof e=="boolean"?i=e?this._elementFocusedBeforeDialogWasOpened:null:e&&(i=e),this._config.restoreFocus&&i&&typeof i.focus=="function"){let o=qp(),r=this._elementRef.nativeElement;(!o||o===this._document.body||o===r||r.contains(o))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){let e=this._elementRef.nativeElement,i=qp();return e===i||e.contains(i)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=qp()))}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Q({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(i,o){if(i&1&&rt(Hv,7),i&2){let r;me(r=pe())&&(o._portalOutlet=r.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(i,o){i&2&&Re("id",o._config.id||null)("role",o._config.role)("aria-modal",o._config.ariaModal)("aria-labelledby",o._config.ariaLabel?null:o._ariaLabelledByQueue[0])("aria-label",o._config.ariaLabel)("aria-describedby",o._config.ariaDescribedBy||null)},features:[dt],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(i,o){i&1&&te(0,Bme,0,0,"ng-template",0)},dependencies:[Hv],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2})}return n})(),Wv=class{overlayRef;config;componentInstance;componentRef;containerInstance;disableClose;closed=new Ee;backdropClick;keydownEvents;outsidePointerEvents;id;_detachSubscription;constructor(t,e){this.overlayRef=t,this.config=e,this.disableClose=e.disableClose,this.backdropClick=t.backdropClick(),this.keydownEvents=t.keydownEvents(),this.outsidePointerEvents=t.outsidePointerEvents(),this.id=e.id,this.keydownEvents.subscribe(i=>{i.keyCode===27&&!this.disableClose&&!ao(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=t.detachments().subscribe(()=>{e.closeOnOverlayDetachments!==!1&&this.close()})}close(t,e){if(this.containerInstance){let i=this.closed;this.containerInstance._closeInteractionType=e?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),i.next(t),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(t="",e=""){return this.overlayRef.updateSize({width:t,height:e}),this}addPanelClass(t){return this.overlayRef.addPanelClass(t),this}removePanelClass(t){return this.overlayRef.removePanelClass(t),this}},Hme=new ue("DialogScrollStrategy",{providedIn:"root",factory:()=>{let n=y(vr);return()=>n.scrollStrategies.block()}}),Vme=new ue("DialogData"),Wme=new ue("DefaultDialogConfig");var L8=(()=>{class n{_overlay=y(vr);_injector=y(Si);_defaultOptions=y(Wme,{optional:!0});_parentDialog=y(n,{optional:!0,skipSelf:!0});_overlayContainer=y(XC);_idGenerator=y(Yn);_openDialogsAtThisLevel=[];_afterAllClosedAtThisLevel=new Ee;_afterOpenedAtThisLevel=new Ee;_ariaHiddenElements=new Map;_scrollStrategy=y(Hme);get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}afterAllClosed=ha(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Qi(void 0)));constructor(){}open(e,i){let o=this._defaultOptions||new Pd;i=j(j({},o),i),i.id=i.id||this._idGenerator.getId("cdk-dialog-"),i.id&&this.getDialogById(i.id);let r=this._getOverlayConfig(i),s=this._overlay.create(r),a=new Wv(s,i),l=this._attachContainer(s,a,i);return a.containerInstance=l,this._attachDialogContent(e,a,l,i),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(a),a.closed.subscribe(()=>this._removeOpenDialog(a,!0)),this.afterOpened.next(a),a}closeAll(){IO(this.openDialogs,e=>e.close())}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){IO(this._openDialogsAtThisLevel,e=>{e.config.closeOnDestroy===!1&&this._removeOpenDialog(e,!1)}),IO(this._openDialogsAtThisLevel,e=>e.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(e){let i=new Od({positionStrategy:e.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,width:e.width,height:e.height,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(i.backdropClass=e.backdropClass),i}_attachContainer(e,i,o){let r=o.injector||o.viewContainerRef?.injector,s=[{provide:Pd,useValue:o},{provide:Wv,useValue:i},{provide:of,useValue:e}],a;o.container?typeof o.container=="function"?a=o.container:(a=o.container.type,s.push(...o.container.providers(o))):a=DO;let l=new Rd(a,o.viewContainerRef,Si.create({parent:r||this._injector,providers:s}));return e.attach(l).instance}_attachDialogContent(e,i,o,r){if(e instanceof qo){let s=this._createInjector(r,i,o,void 0),a={$implicit:r.data,dialogRef:i};r.templateContext&&(a=j(j({},a),typeof r.templateContext=="function"?r.templateContext():r.templateContext)),o.attachTemplatePortal(new Mc(e,null,a,s))}else{let s=this._createInjector(r,i,o,this._injector),a=o.attachComponentPortal(new Rd(e,r.viewContainerRef,s));i.componentRef=a,i.componentInstance=a.instance}}_createInjector(e,i,o,r){let s=e.injector||e.viewContainerRef?.injector,a=[{provide:Vme,useValue:e.data},{provide:Wv,useValue:i}];return e.providers&&(typeof e.providers=="function"?a.push(...e.providers(i,e,o)):a.push(...e.providers)),e.direction&&(!s||!s.get(mn,null,{optional:!0}))&&a.push({provide:mn,useValue:{value:e.direction,change:We()}}),Si.create({parent:s||r,providers:a})}_removeOpenDialog(e,i){let o=this.openDialogs.indexOf(e);o>-1&&(this.openDialogs.splice(o,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((r,s)=>{r?s.setAttribute("aria-hidden",r):s.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){let e=this._overlayContainer.getContainerElement();if(e.parentElement){let i=e.parentElement.children;for(let o=i.length-1;o>-1;o--){let r=i[o];r!==e&&r.nodeName!=="SCRIPT"&&r.nodeName!=="STYLE"&&!r.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){let e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}static \u0275fac=function(i){return new(i||n)};static \u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function IO(n,t){let e=n.length;for(;e--;)t(n[e])}function jme(n,t){}var JC=class{viewContainerRef;injector;id;role="dialog";panelClass="";hasBackdrop=!0;backdropClass="";disableClose=!1;width="";height="";minWidth;minHeight;maxWidth;maxHeight;position;data=null;direction;ariaDescribedBy=null;ariaLabelledBy=null;ariaLabel=null;ariaModal=!1;autoFocus="first-tabbable";restoreFocus=!0;delayFocusTrap=!0;scrollStrategy;closeOnNavigation=!0;componentFactoryResolver;enterAnimationDuration;exitAnimationDuration},EO="mdc-dialog--open",N8="mdc-dialog--opening",F8="mdc-dialog--closing",Ume=150,qme=75,Gme=(()=>{class n extends DO{_animationMode=y(Wi,{optional:!0});_animationStateChanged=new Le;_animationsEnabled=this._animationMode!=="NoopAnimations";_actionSectionCount=0;_hostElement=this._elementRef.nativeElement;_enterAnimationDuration=this._animationsEnabled?B8(this._config.enterAnimationDuration)??Ume:0;_exitAnimationDuration=this._animationsEnabled?B8(this._config.exitAnimationDuration)??qme:0;_animationTimer=null;_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(z8,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(N8,EO)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(EO),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(EO),this._animationsEnabled?(this._hostElement.style.setProperty(z8,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(F8)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_updateActionSectionCount(e){this._actionSectionCount+=e,this._changeDetectorRef.markForCheck()}_finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)};_finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})};_clearAnimationClasses(){this._hostElement.classList.remove(N8,F8)}_waitForAnimationToComplete(e,i){this._animationTimer!==null&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(i,e)}_requestAnimationFrame(e){this._ngZone.runOutsideAngular(()=>{typeof requestAnimationFrame=="function"?requestAnimationFrame(e):e()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(e){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})}ngOnDestroy(){super.ngOnDestroy(),this._animationTimer!==null&&clearTimeout(this._animationTimer)}attachComponentPortal(e){let i=super.attachComponentPortal(e);return i.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),i}static \u0275fac=(()=>{let e;return function(o){return(e||(e=ti(n)))(o||n)}})();static \u0275cmp=Q({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:10,hostBindings:function(i,o){i&2&&(rs("id",o._config.id),Re("aria-modal",o._config.ariaModal)("role",o._config.role)("aria-labelledby",o._config.ariaLabel?null:o._ariaLabelledByQueue[0])("aria-label",o._config.ariaLabel)("aria-describedby",o._config.ariaDescribedBy||null),ke("_mat-animation-noopable",!o._animationsEnabled)("mat-mdc-dialog-container-with-actions",o._actionSectionCount>0))},features:[dt],decls:3,vars:0,consts:[[1,"mat-mdc-dialog-inner-container","mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(i,o){i&1&&(x(0,"div",0)(1,"div",1),te(2,jme,0,0,"ng-template",2),w()())},dependencies:[Hv],styles:['.mat-mdc-dialog-container{width:100%;height:100%;display:block;box-sizing:border-box;max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;outline:0}.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-max-width, 560px);min-width:var(--mat-dialog-container-min-width, 280px)}@media(max-width: 599px){.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-small-max-width, calc(100vw - 32px))}}.mat-mdc-dialog-inner-container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;transition:opacity linear var(--mat-dialog-transition-duration, 0ms);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mdc-dialog--closing .mat-mdc-dialog-inner-container{transition:opacity 75ms linear;transform:none}.mdc-dialog--open .mat-mdc-dialog-inner-container{opacity:1}._mat-animation-noopable .mat-mdc-dialog-inner-container{transition:none}.mat-mdc-dialog-surface{display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;width:100%;height:100%;position:relative;overflow-y:auto;outline:0;transform:scale(0.8);transition:transform var(--mat-dialog-transition-duration, 0ms) cubic-bezier(0, 0, 0.2, 1);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;box-shadow:var(--mat-dialog-container-elevation-shadow, none);border-radius:var(--mdc-dialog-container-shape, var(--mat-sys-corner-extra-large, 4px));background-color:var(--mdc-dialog-container-color, var(--mat-sys-surface, white))}[dir=rtl] .mat-mdc-dialog-surface{text-align:right}.mdc-dialog--open .mat-mdc-dialog-surface,.mdc-dialog--closing .mat-mdc-dialog-surface{transform:none}._mat-animation-noopable .mat-mdc-dialog-surface{transition:none}.mat-mdc-dialog-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mat-mdc-dialog-title{display:block;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:var(--mat-dialog-headline-padding, 6px 24px 13px)}.mat-mdc-dialog-title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mat-mdc-dialog-title{text-align:right}.mat-mdc-dialog-container .mat-mdc-dialog-title{color:var(--mdc-dialog-subhead-color, var(--mat-sys-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mdc-dialog-subhead-font, var(--mat-sys-headline-small-font, inherit));line-height:var(--mdc-dialog-subhead-line-height, var(--mat-sys-headline-small-line-height, 1.5rem));font-size:var(--mdc-dialog-subhead-size, var(--mat-sys-headline-small-size, 1rem));font-weight:var(--mdc-dialog-subhead-weight, var(--mat-sys-headline-small-weight, 400));letter-spacing:var(--mdc-dialog-subhead-tracking, var(--mat-sys-headline-small-tracking, 0.03125em))}.mat-mdc-dialog-content{display:block;flex-grow:1;box-sizing:border-box;margin:0;overflow:auto;max-height:65vh}.mat-mdc-dialog-content>:first-child{margin-top:0}.mat-mdc-dialog-content>:last-child{margin-bottom:0}.mat-mdc-dialog-container .mat-mdc-dialog-content{color:var(--mdc-dialog-supporting-text-color, var(--mat-sys-on-surface-variant, rgba(0, 0, 0, 0.6)));font-family:var(--mdc-dialog-supporting-text-font, var(--mat-sys-body-medium-font, inherit));line-height:var(--mdc-dialog-supporting-text-line-height, var(--mat-sys-body-medium-line-height, 1.5rem));font-size:var(--mdc-dialog-supporting-text-size, var(--mat-sys-body-medium-size, 1rem));font-weight:var(--mdc-dialog-supporting-text-weight, var(--mat-sys-body-medium-weight, 400));letter-spacing:var(--mdc-dialog-supporting-text-tracking, var(--mat-sys-body-medium-tracking, 0.03125em))}.mat-mdc-dialog-container .mat-mdc-dialog-content{padding:var(--mat-dialog-content-padding, 20px 24px)}.mat-mdc-dialog-container-with-actions .mat-mdc-dialog-content{padding:var(--mat-dialog-with-actions-content-padding, 20px 24px 0)}.mat-mdc-dialog-container .mat-mdc-dialog-title+.mat-mdc-dialog-content{padding-top:0}.mat-mdc-dialog-actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0);padding:var(--mat-dialog-actions-padding, 16px 24px);justify-content:var(--mat-dialog-actions-alignment, flex-end)}@media(forced-colors: active){.mat-mdc-dialog-actions{border-top-color:CanvasText}}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-start,.mat-mdc-dialog-actions[align=start]{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}.mat-mdc-dialog-component-host{display:contents}'],encapsulation:2})}return n})(),z8="--mat-dialog-transition-duration";function B8(n){return n==null?null:typeof n=="number"?n:n.endsWith("ms")?Mo(n.substring(0,n.length-2)):n.endsWith("s")?Mo(n.substring(0,n.length-1))*1e3:n==="0"?0:null}var QC=function(n){return n[n.OPEN=0]="OPEN",n[n.CLOSING=1]="CLOSING",n[n.CLOSED=2]="CLOSED",n}(QC||{}),Rh=class{_ref;_containerInstance;componentInstance;componentRef;disableClose;id;_afterOpened=new Ee;_beforeClosed=new Ee;_result;_closeFallbackTimeout;_state=QC.OPEN;_closeInteractionType;constructor(t,e,i){this._ref=t,this._containerInstance=i,this.disableClose=e.disableClose,this.id=t.id,t.addPanelClass("mat-mdc-dialog-panel"),i._animationStateChanged.pipe(ri(o=>o.state==="opened"),Hn(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe(ri(o=>o.state==="closed"),Hn(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),tn(this.backdropClick(),this.keydownEvents().pipe(ri(o=>o.keyCode===27&&!this.disableClose&&!ao(o)))).subscribe(o=>{this.disableClose||(o.preventDefault(),H8(this,o.type==="keydown"?"keyboard":"mouse"))})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(ri(e=>e.state==="closing"),Hn(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=QC.CLOSING,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(t){let e=this._ref.config.positionStrategy;return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._ref.updatePosition(),this}updateSize(t="",e=""){return this._ref.updateSize(t,e),this}addPanelClass(t){return this._ref.addPanelClass(t),this}removePanelClass(t){return this._ref.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=QC.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}};function H8(n,t,e){return n._closeInteractionType=t,n.close(e)}var jv=new ue("MatMdcDialogData"),$me=new ue("mat-mdc-dialog-default-options"),Kme=new ue("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{let n=y(vr);return()=>n.scrollStrategies.block()}});var Ld=(()=>{class n{_overlay=y(vr);_defaultOptions=y($me,{optional:!0});_scrollStrategy=y(Kme);_parentDialog=y(n,{optional:!0,skipSelf:!0});_idGenerator=y(Yn);_dialog=y(L8);_openDialogsAtThisLevel=[];_afterAllClosedAtThisLevel=new Ee;_afterOpenedAtThisLevel=new Ee;dialogConfigClass=JC;_dialogRefConstructor;_dialogContainerType;_dialogDataToken;get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){let e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}afterAllClosed=ha(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Qi(void 0)));constructor(){this._dialogRefConstructor=Rh,this._dialogContainerType=Gme,this._dialogDataToken=jv}open(e,i){let o;i=j(j({},this._defaultOptions||new JC),i),i.id=i.id||this._idGenerator.getId("mat-mdc-dialog-"),i.scrollStrategy=i.scrollStrategy||this._scrollStrategy();let r=this._dialog.open(e,Te(j({},i),{positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:i},{provide:Pd,useValue:i}]},templateContext:()=>({dialogRef:o}),providers:(s,a,l)=>(o=new this._dialogRefConstructor(s,i,l),o.updatePosition(i?.position),[{provide:this._dialogContainerType,useValue:l},{provide:this._dialogDataToken,useValue:a.data},{provide:this._dialogRefConstructor,useValue:o}])}));return o.componentRef=r.componentRef,o.componentInstance=r.componentInstance,this.openDialogs.push(o),this.afterOpened.next(o),o.afterClosed().subscribe(()=>{let s=this.openDialogs.indexOf(o);s>-1&&(this.openDialogs.splice(s,1),this.openDialogs.length||this._getAfterAllClosed().next())}),o}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(e){let i=e.length;for(;i--;)e[i].close()}static \u0275fac=function(i){return new(i||n)};static \u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),eS=(()=>{class n{dialogRef=y(Rh,{optional:!0});_elementRef=y(He);_dialog=y(Ld);ariaLabel;type="button";dialogResult;_matDialogClose;constructor(){}ngOnInit(){this.dialogRef||(this.dialogRef=W8(this._elementRef,this._dialog.openDialogs))}ngOnChanges(e){let i=e._matDialogClose||e._matDialogCloseResult;i&&(this.dialogResult=i.currentValue)}_onButtonClick(e){H8(this.dialogRef,e.screenX===0&&e.screenY===0?"keyboard":"mouse",this.dialogResult)}static \u0275fac=function(i){return new(i||n)};static \u0275dir=ge({type:n,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(i,o){i&1&&le("click",function(s){return o._onButtonClick(s)}),i&2&&Re("aria-label",o.ariaLabel||null)("type",o.type)},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],type:"type",dialogResult:[0,"mat-dialog-close","dialogResult"],_matDialogClose:[0,"matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[Di]})}return n})(),V8=(()=>{class n{_dialogRef=y(Rh,{optional:!0});_elementRef=y(He);_dialog=y(Ld);constructor(){}ngOnInit(){this._dialogRef||(this._dialogRef=W8(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{this._onAdd()})}ngOnDestroy(){this._dialogRef?._containerInstance&&Promise.resolve().then(()=>{this._onRemove()})}static \u0275fac=function(i){return new(i||n)};static \u0275dir=ge({type:n})}return n})(),tS=(()=>{class n extends V8{id=y(Yn).getId("mat-mdc-dialog-title-");_onAdd(){this._dialogRef._containerInstance?._addAriaLabelledBy?.(this.id)}_onRemove(){this._dialogRef?._containerInstance?._removeAriaLabelledBy?.(this.id)}static \u0275fac=(()=>{let e;return function(o){return(e||(e=ti(n)))(o||n)}})();static \u0275dir=ge({type:n,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-mdc-dialog-title","mdc-dialog__title"],hostVars:1,hostBindings:function(i,o){i&2&&rs("id",o.id)},inputs:{id:"id"},exportAs:["matDialogTitle"],features:[dt]})}return n})(),iS=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275dir=ge({type:n,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-mdc-dialog-content","mdc-dialog__content"],features:[AW([kc])]})}return n})(),nS=(()=>{class n extends V8{align;_onAdd(){this._dialogRef._containerInstance?._updateActionSectionCount?.(1)}_onRemove(){this._dialogRef._containerInstance?._updateActionSectionCount?.(-1)}static \u0275fac=(()=>{let e;return function(o){return(e||(e=ti(n)))(o||n)}})();static \u0275dir=ge({type:n,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-mdc-dialog-actions","mdc-dialog__actions"],hostVars:6,hostBindings:function(i,o){i&2&&ke("mat-mdc-dialog-actions-align-start",o.align==="start")("mat-mdc-dialog-actions-align-center",o.align==="center")("mat-mdc-dialog-actions-align-end",o.align==="end")},inputs:{align:"align"},features:[dt]})}return n})();function W8(n,t){let e=n.nativeElement.parentElement;for(;e&&!e.classList.contains("mat-mdc-dialog-container");)e=e.parentElement;return e?t.find(i=>i.id===e.id):null}var Nd=(()=>{class n{get vertical(){return this._vertical}set vertical(e){this._vertical=yn(e)}_vertical=!1;get inset(){return this._inset}set inset(e){this._inset=yn(e)}_inset=!1;static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Q({type:n,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(i,o){i&2&&(Re("aria-orientation",o.vertical?"vertical":"horizontal"),ke("mat-divider-vertical",o.vertical)("mat-divider-horizontal",!o.vertical)("mat-divider-inset",o.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(i,o){},styles:[".mat-divider{display:block;margin:0;border-top-style:solid;border-top-color:var(--mat-divider-color, var(--mat-sys-outline));border-top-width:var(--mat-divider-width, 1px)}.mat-divider.mat-divider-vertical{border-top:0;border-right-style:solid;border-right-color:var(--mat-divider-color, var(--mat-sys-outline));border-right-width:var(--mat-divider-width, 1px)}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}"],encapsulation:2,changeDetection:0})}return n})();var Y8=(()=>{class n{_renderer;_elementRef;onChange=e=>{};onTouched=()=>{};constructor(e,i){this._renderer=e,this._elementRef=i}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static \u0275fac=function(i){return new(i||n)(ie(on),ie(He))};static \u0275dir=ge({type:n})}return n})(),Yme=(()=>{class n extends Y8{static \u0275fac=(()=>{let e;return function(o){return(e||(e=ti(n)))(o||n)}})();static \u0275dir=ge({type:n,features:[dt]})}return n})(),Na=new ue("");var Xme={provide:Na,useExisting:cr(()=>$r),multi:!0};function Zme(){let n=Km()?Km().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var Qme=new ue(""),$r=(()=>{class n extends Y8{_compositionMode;_composing=!1;constructor(e,i,o){super(e,i),this._compositionMode=o,this._compositionMode==null&&(this._compositionMode=!Zme())}writeValue(e){let i=e??"";this.setProperty("value",i)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static \u0275fac=function(i){return new(i||n)(ie(on),ie(He),ie(Qme,8))};static \u0275dir=ge({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,o){i&1&&le("input",function(s){return o._handleInput(s.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(s){return o._compositionEnd(s.target.value)})},standalone:!1,features:[At([Xme]),dt]})}return n})();function Fd(n){return n==null||(typeof n=="string"||Array.isArray(n))&&n.length===0}function X8(n){return n!=null&&typeof n.length=="number"}var pS=new ue(""),fS=new ue(""),Jme=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Oh=class{static min(t){return epe(t)}static max(t){return tpe(t)}static required(t){return ipe(t)}static requiredTrue(t){return npe(t)}static email(t){return ope(t)}static minLength(t){return rpe(t)}static maxLength(t){return spe(t)}static pattern(t){return ape(t)}static nullValidator(t){return Z8(t)}static compose(t){return n6(t)}static composeAsync(t){return o6(t)}};function epe(n){return t=>{if(Fd(t.value)||Fd(n))return null;let e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}function tpe(n){return t=>{if(Fd(t.value)||Fd(n))return null;let e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}function ipe(n){return Fd(n.value)?{required:!0}:null}function npe(n){return n.value===!0?null:{required:!0}}function ope(n){return Fd(n.value)||Jme.test(n.value)?null:{email:!0}}function rpe(n){return t=>Fd(t.value)||!X8(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}function spe(n){return t=>X8(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}function ape(n){if(!n)return Z8;let t,e;return typeof n=="string"?(e="",n.charAt(0)!=="^"&&(e+="^"),e+=n,n.charAt(n.length-1)!=="$"&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(Fd(i.value))return null;let o=i.value;return t.test(o)?null:{pattern:{requiredPattern:e,actualValue:o}}}}function Z8(n){return null}function Q8(n){return n!=null}function J8(n){return fx(n)?Bn(n):n}function e6(n){let t={};return n.forEach(e=>{t=e!=null?j(j({},t),e):t}),Object.keys(t).length===0?null:t}function t6(n,t){return t.map(e=>e(n))}function lpe(n){return!n.validate}function i6(n){return n.map(t=>lpe(t)?t:e=>t.validate(e))}function n6(n){if(!n)return null;let t=n.filter(Q8);return t.length==0?null:function(e){return e6(t6(e,t))}}function AO(n){return n!=null?n6(i6(n)):null}function o6(n){if(!n)return null;let t=n.filter(Q8);return t.length==0?null:function(e){let i=t6(e,t).map(J8);return rd(i).pipe(nt(e6))}}function RO(n){return n!=null?o6(i6(n)):null}function j8(n,t){return n===null?[t]:Array.isArray(n)?[...n,t]:[n,t]}function r6(n){return n._rawValidators}function s6(n){return n._rawAsyncValidators}function kO(n){return n?Array.isArray(n)?n:[n]:[]}function rS(n,t){return Array.isArray(n)?n.includes(t):n===t}function U8(n,t){let e=kO(t);return kO(n).forEach(o=>{rS(e,o)||e.push(o)}),e}function q8(n,t){return kO(t).filter(e=>!rS(n,e))}var sS=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=AO(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=RO(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return this.control?this.control.hasError(t,e):!1}getError(t,e){return this.control?this.control.getError(t,e):null}},zd=class extends sS{name;get formDirective(){return null}get path(){return null}},Ys=class extends sS{_parent=null;name=null;valueAccessor=null},aS=class{_cd;constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},cpe={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},mGe=Te(j({},cpe),{"[class.ng-submitted]":"isSubmitted"}),Kr=(()=>{class n extends aS{constructor(e){super(e)}static \u0275fac=function(i){return new(i||n)(ie(Ys,2))};static \u0275dir=ge({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,o){i&2&&ke("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},standalone:!1,features:[dt]})}return n})(),a6=(()=>{class n extends aS{constructor(e){super(e)}static \u0275fac=function(i){return new(i||n)(ie(zd,10))};static \u0275dir=ge({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,o){i&2&&ke("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},standalone:!1,features:[dt]})}return n})();var Uv="VALID",oS="INVALID",rf="PENDING",qv="DISABLED",Bd=class{},lS=class extends Bd{value;source;constructor(t,e){super(),this.value=t,this.source=e}},$v=class extends Bd{pristine;source;constructor(t,e){super(),this.pristine=t,this.source=e}},Kv=class extends Bd{touched;source;constructor(t,e){super(),this.touched=t,this.source=e}},sf=class extends Bd{status;source;constructor(t,e){super(),this.status=t,this.source=e}},MO=class extends Bd{source;constructor(t){super(),this.source=t}},TO=class extends Bd{source;constructor(t){super(),this.source=t}};function l6(n){return(gS(n)?n.validators:n)||null}function dpe(n){return Array.isArray(n)?AO(n):n||null}function c6(n,t){return(gS(t)?t.asyncValidators:n)||null}function upe(n){return Array.isArray(n)?RO(n):n||null}function gS(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function hpe(n,t,e){let i=n.controls;if(!(t?Object.keys(i):i).length)throw new Ai(1e3,"");if(!i[e])throw new Ai(1001,"")}function mpe(n,t,e){n._forEachChild((i,o)=>{if(e[o]===void 0)throw new Ai(1002,"")})}var cS=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(t,e){this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return ba(this.statusReactive)}set status(t){ba(()=>this.statusReactive.set(t))}_status=Ri(()=>this.statusReactive());statusReactive=Ue(void 0);get valid(){return this.status===Uv}get invalid(){return this.status===oS}get pending(){return this.status==rf}get disabled(){return this.status===qv}get enabled(){return this.status!==qv}errors;get pristine(){return ba(this.pristineReactive)}set pristine(t){ba(()=>this.pristineReactive.set(t))}_pristine=Ri(()=>this.pristineReactive());pristineReactive=Ue(!0);get dirty(){return!this.pristine}get touched(){return ba(this.touchedReactive)}set touched(t){ba(()=>this.touchedReactive.set(t))}_touched=Ri(()=>this.touchedReactive());touchedReactive=Ue(!1);get untouched(){return!this.touched}_events=new Ee;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(U8(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(U8(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(q8(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(q8(t,this._rawAsyncValidators))}hasValidator(t){return rS(this._rawValidators,t)}hasAsyncValidator(t){return rS(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let e=this.touched===!1;this.touched=!0;let i=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(Te(j({},t),{sourceControl:i})),e&&t.emitEvent!==!1&&this._events.next(new Kv(!0,i))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsTouched(t))}markAsUntouched(t={}){let e=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=t.sourceControl??this;this._forEachChild(o=>{o.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:i})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,i),e&&t.emitEvent!==!1&&this._events.next(new Kv(!1,i))}markAsDirty(t={}){let e=this.pristine===!0;this.pristine=!1;let i=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(Te(j({},t),{sourceControl:i})),e&&t.emitEvent!==!1&&this._events.next(new $v(!1,i))}markAsPristine(t={}){let e=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=t.sourceControl??this;this._forEachChild(o=>{o.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,i),e&&t.emitEvent!==!1&&this._events.next(new $v(!0,i))}markAsPending(t={}){this.status=rf;let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new sf(this.status,e)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(Te(j({},t),{sourceControl:e}))}disable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=qv,this.errors=null,this._forEachChild(o=>{o.disable(Te(j({},t),{onlySelf:!0}))}),this._updateValue();let i=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new lS(this.value,i)),this._events.next(new sf(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Te(j({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(o=>o(!0))}enable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=Uv,this._forEachChild(i=>{i.enable(Te(j({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Te(j({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t,e){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},e),this._parent._updateTouched({},e))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Uv||this.status===rf)&&this._runAsyncValidator(i,t.emitEvent)}let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new lS(this.value,e)),this._events.next(new sf(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(Te(j({},t),{sourceControl:e}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?qv:Uv}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,e){if(this.asyncValidator){this.status=rf,this._hasOwnPendingAsyncValidator={emitEvent:e!==!1};let i=J8(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(o=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(o,{emitEvent:e,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(e.emitEvent!==!1,this,e.shouldHaveEmitted)}get(t){let e=t;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((i,o)=>i&&i._find(o),this)}getError(t,e){let i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,e,i){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||i)&&this._events.next(new sf(this.status,e)),this._parent&&this._parent._updateControlsErrors(t,e,i)}_initObservables(){this.valueChanges=new Le,this.statusChanges=new Le}_calculateStatus(){return this._allControlsDisabled()?qv:this.errors?oS:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(rf)?rf:this._anyControlsHaveStatus(oS)?oS:Uv}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,e){let i=!this._anyControlsDirty(),o=this.pristine!==i;this.pristine=i,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,e),o&&this._events.next(new $v(this.pristine,e))}_updateTouched(t={},e){this.touched=this._anyControlsTouched(),this._events.next(new Kv(this.touched,e)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,e)}_onDisabledChange=[];_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){gS(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let e=this._parent&&this._parent.dirty;return!t&&!!e&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=dpe(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=upe(this._rawAsyncValidators)}},dS=class extends cS{constructor(t,e,i){super(l6(e),c6(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){mpe(this,!0,t),Object.keys(t).forEach(i=>{hpe(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t!=null&&(Object.keys(t).forEach(i=>{let o=this.controls[i];o&&o.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,o)=>{i.reset(t?t[o]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>i._syncPendingControls()?!0:e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{let i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(e,i,o)=>((i.enabled||this.disabled)&&(e[o]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((o,r)=>{i=e(i,o,r)}),i}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var af=new ue("",{providedIn:"root",factory:()=>_S}),_S="always";function ppe(n,t){return[...t.path,n]}function Yv(n,t,e=_S){OO(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||e==="always")&&t.valueAccessor.setDisabledState?.(n.disabled),gpe(n,t),vpe(n,t),_pe(n,t),fpe(n,t)}function uS(n,t,e=!0){let i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),mS(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function hS(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function fpe(n,t){if(t.valueAccessor.setDisabledState){let e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}function OO(n,t){let e=r6(n);t.validator!==null?n.setValidators(j8(e,t.validator)):typeof e=="function"&&n.setValidators([e]);let i=s6(n);t.asyncValidator!==null?n.setAsyncValidators(j8(i,t.asyncValidator)):typeof i=="function"&&n.setAsyncValidators([i]);let o=()=>n.updateValueAndValidity();hS(t._rawValidators,o),hS(t._rawAsyncValidators,o)}function mS(n,t){let e=!1;if(n!==null){if(t.validator!==null){let o=r6(n);if(Array.isArray(o)&&o.length>0){let r=o.filter(s=>s!==t.validator);r.length!==o.length&&(e=!0,n.setValidators(r))}}if(t.asyncValidator!==null){let o=s6(n);if(Array.isArray(o)&&o.length>0){let r=o.filter(s=>s!==t.asyncValidator);r.length!==o.length&&(e=!0,n.setAsyncValidators(r))}}}let i=()=>{};return hS(t._rawValidators,i),hS(t._rawAsyncValidators,i),e}function gpe(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&d6(n,t)})}function _pe(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&d6(n,t),n.updateOn!=="submit"&&n.markAsTouched()})}function d6(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function vpe(n,t){let e=(i,o)=>{t.valueAccessor.writeValue(i),o&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}function u6(n,t){n==null,OO(n,t)}function bpe(n,t){return mS(n,t)}function h6(n,t){if(!n.hasOwnProperty("model"))return!1;let e=n.model;return e.isFirstChange()?!0:!Object.is(t,e.currentValue)}function ype(n){return Object.getPrototypeOf(n.constructor)===Yme}function m6(n,t){n._syncPendingControls(),t.forEach(e=>{let i=e.control;i.updateOn==="submit"&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function p6(n,t){if(!t)return null;Array.isArray(t);let e,i,o;return t.forEach(r=>{r.constructor===$r?e=r:ype(r)?i=r:o=r}),o||i||e||null}function xpe(n,t){let e=n.indexOf(t);e>-1&&n.splice(e,1)}var wpe={provide:zd,useExisting:cr(()=>lf)},Gv=Promise.resolve(),lf=(()=>{class n extends zd{callSetDisabledState;get submitted(){return ba(this.submittedReactive)}_submitted=Ri(()=>this.submittedReactive());submittedReactive=Ue(!1);_directives=new Set;form;ngSubmit=new Le;options;constructor(e,i,o){super(),this.callSetDisabledState=o,this.form=new dS({},AO(e),RO(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){Gv.then(()=>{let i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),Yv(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){Gv.then(()=>{let i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){Gv.then(()=>{let i=this._findContainer(e.path),o=new dS({});u6(o,e),i.registerControl(e.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){Gv.then(()=>{let i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){Gv.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submittedReactive.set(!0),m6(this.form,this._directives),this.ngSubmit.emit(e),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}static \u0275fac=function(i){return new(i||n)(ie(pS,10),ie(fS,10),ie(af,8))};static \u0275dir=ge({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,o){i&1&&le("submit",function(s){return o.onSubmit(s)})("reset",function(){return o.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[At([wpe]),dt]})}return n})();function G8(n,t){let e=n.indexOf(t);e>-1&&n.splice(e,1)}function $8(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var Xv=class extends cS{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(t=null,e,i){super(l6(e),c6(i,e)),this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),gS(e)&&(e.nonNullable||e.initialValueIsDefault)&&($8(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&e.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,e.emitViewToModelChange!==!1)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){G8(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){G8(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){$8(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var Cpe=n=>n instanceof Xv;var Spe={provide:Ys,useExisting:cr(()=>bs)},K8=Promise.resolve(),bs=(()=>{class n extends Ys{_changeDetectorRef;callSetDisabledState;control=new Xv;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new Le;constructor(e,i,o,r,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=e,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=p6(this,r)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){let i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),h6(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Yv(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(e){K8.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){let i=e.isDisabled.currentValue,o=i!==0&&Ke(i);K8.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?ppe(e,this._parent):[e]}static \u0275fac=function(i){return new(i||n)(ie(zd,9),ie(pS,10),ie(fS,10),ie(Na,10),ie(Yt,8),ie(af,8))};static \u0275dir=ge({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[At([Spe]),dt,Di]})}return n})(),f6=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275dir=ge({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})();var g6=new ue(""),Ipe={provide:Ys,useExisting:cr(()=>PO)},PO=(()=>{class n extends Ys{_ngModelWarningConfig;callSetDisabledState;viewModel;form;set isDisabled(e){}model;update=new Le;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(e,i,o,r,s){super(),this._ngModelWarningConfig=r,this.callSetDisabledState=s,this._setValidators(e),this._setAsyncValidators(i),this.valueAccessor=p6(this,o)}ngOnChanges(e){if(this._isControlChanged(e)){let i=e.form.previousValue;i&&uS(i,this,!1),Yv(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}h6(e,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&uS(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_isControlChanged(e){return e.hasOwnProperty("form")}static \u0275fac=function(i){return new(i||n)(ie(pS,10),ie(fS,10),ie(Na,10),ie(g6,8),ie(af,8))};static \u0275dir=ge({type:n,selectors:[["","formControl",""]],inputs:{form:[0,"formControl","form"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],standalone:!1,features:[At([Ipe]),dt,Di]})}return n})(),Dpe={provide:zd,useExisting:cr(()=>cf)},cf=(()=>{class n extends zd{callSetDisabledState;get submitted(){return ba(this._submittedReactive)}set submitted(e){this._submittedReactive.set(e)}_submitted=Ri(()=>this._submittedReactive());_submittedReactive=Ue(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new Le;constructor(e,i,o){super(),this.callSetDisabledState=o,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(mS(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){let i=this.form.get(e.path);return Yv(i,e,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){uS(e.control||null,e,!1),xpe(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this._submittedReactive.set(!0),m6(this.form,this.directives),this.ngSubmit.emit(e),this.form._events.next(new MO(this.control)),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this._submittedReactive.set(!1),this.form._events.next(new TO(this.form))}_updateDomValue(){this.directives.forEach(e=>{let i=e.control,o=this.form.get(e.path);i!==o&&(uS(i||null,e),Cpe(o)&&(Yv(o,e,this.callSetDisabledState),e.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){let i=this.form.get(e.path);u6(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){let i=this.form.get(e.path);i&&bpe(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){OO(this.form,this),this._oldForm&&mS(this._oldForm,this)}_checkFormPresent(){this.form}static \u0275fac=function(i){return new(i||n)(ie(pS,10),ie(fS,10),ie(af,8))};static \u0275dir=ge({type:n,selectors:[["","formGroup",""]],hostBindings:function(i,o){i&1&&le("submit",function(s){return o.onSubmit(s)})("reset",function(){return o.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[At([Dpe]),dt,Di]})}return n})();var _6=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=xt({type:n});static \u0275inj=yt({})}return n})();var Xn=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:af,useValue:e.callSetDisabledState??_S}]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=xt({type:n});static \u0275inj=yt({imports:[_6]})}return n})(),v6=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:g6,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:af,useValue:e.callSetDisabledState??_S}]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=xt({type:n});static \u0275inj=yt({imports:[_6]})}return n})();var LO=["*"],b6='.mdc-list{margin:0;padding:8px 0;list-style-type:none}.mdc-list:focus{outline:none}.mdc-list-item{display:flex;position:relative;justify-content:flex-start;overflow:hidden;padding:0;align-items:stretch;cursor:pointer;padding-left:16px;padding-right:16px;background-color:var(--mdc-list-list-item-container-color, transparent);border-radius:var(--mdc-list-list-item-container-shape, var(--mat-sys-corner-none))}.mdc-list-item.mdc-list-item--selected{background-color:var(--mdc-list-list-item-selected-container-color)}.mdc-list-item:focus{outline:0}.mdc-list-item.mdc-list-item--disabled{cursor:auto}.mdc-list-item.mdc-list-item--with-one-line{height:var(--mdc-list-list-item-one-line-container-height, 48px)}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__start{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-two-lines{height:var(--mdc-list-list-item-two-line-container-height, 64px)}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-three-lines{height:var(--mdc-list-list-item-three-line-container-height, 88px)}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--selected::before,.mdc-list-item.mdc-list-item--selected:focus::before,.mdc-list-item:not(.mdc-list-item--selected):focus::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;content:"";pointer-events:none}a.mdc-list-item{color:inherit;text-decoration:none}.mdc-list-item__start{fill:currentColor;flex-shrink:0;pointer-events:none}.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-leading-icon-color, var(--mat-sys-on-surface-variant));width:var(--mdc-list-list-item-leading-icon-size, 24px);height:var(--mdc-list-list-item-leading-icon-size, 24px);margin-left:16px;margin-right:32px}[dir=rtl] .mdc-list-item--with-leading-icon .mdc-list-item__start{margin-left:32px;margin-right:16px}.mdc-list-item--with-leading-icon:hover .mdc-list-item__start{color:var(--mdc-list-list-item-hover-leading-icon-color)}.mdc-list-item--with-leading-avatar .mdc-list-item__start{width:var(--mdc-list-list-item-leading-avatar-size, 40px);height:var(--mdc-list-list-item-leading-avatar-size, 40px);margin-left:16px;margin-right:16px;border-radius:50%}.mdc-list-item--with-leading-avatar .mdc-list-item__start,[dir=rtl] .mdc-list-item--with-leading-avatar .mdc-list-item__start{margin-left:16px;margin-right:16px;border-radius:50%}.mdc-list-item__end{flex-shrink:0;pointer-events:none}.mdc-list-item--with-trailing-meta .mdc-list-item__end{font-family:var(--mdc-list-list-item-trailing-supporting-text-font, var(--mat-sys-label-small-font));line-height:var(--mdc-list-list-item-trailing-supporting-text-line-height, var(--mat-sys-label-small-line-height));font-size:var(--mdc-list-list-item-trailing-supporting-text-size, var(--mat-sys-label-small-size));font-weight:var(--mdc-list-list-item-trailing-supporting-text-weight, var(--mat-sys-label-small-weight));letter-spacing:var(--mdc-list-list-item-trailing-supporting-text-tracking, var(--mat-sys-label-small-tracking))}.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-icon-color, var(--mat-sys-on-surface-variant));width:var(--mdc-list-list-item-trailing-icon-size, 24px);height:var(--mdc-list-list-item-trailing-icon-size, 24px)}.mdc-list-item--with-trailing-icon:hover .mdc-list-item__end{color:var(--mdc-list-list-item-hover-trailing-icon-color)}.mdc-list-item.mdc-list-item--with-trailing-meta .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-supporting-text-color, var(--mat-sys-on-surface-variant))}.mdc-list-item--selected.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-selected-trailing-icon-color, var(--mat-sys-primary))}.mdc-list-item__content{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;align-self:center;flex:1;pointer-events:none}.mdc-list-item--with-two-lines .mdc-list-item__content,.mdc-list-item--with-three-lines .mdc-list-item__content{align-self:stretch}.mdc-list-item__primary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;color:var(--mdc-list-list-item-label-text-color, var(--mat-sys-on-surface));font-family:var(--mdc-list-list-item-label-text-font, var(--mat-sys-body-large-font));line-height:var(--mdc-list-list-item-label-text-line-height, var(--mat-sys-body-large-line-height));font-size:var(--mdc-list-list-item-label-text-size, var(--mat-sys-body-large-size));font-weight:var(--mdc-list-list-item-label-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mdc-list-list-item-label-text-tracking, var(--mat-sys-body-large-tracking))}.mdc-list-item:hover .mdc-list-item__primary-text{color:var(--mdc-list-list-item-hover-label-text-color, var(--mat-sys-on-surface))}.mdc-list-item:focus .mdc-list-item__primary-text{color:var(--mdc-list-list-item-focus-label-text-color, var(--mat-sys-on-surface))}.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-three-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item__secondary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;display:block;margin-top:0;color:var(--mdc-list-list-item-supporting-text-color, var(--mat-sys-on-surface-variant));font-family:var(--mdc-list-list-item-supporting-text-font, var(--mat-sys-body-medium-font));line-height:var(--mdc-list-list-item-supporting-text-line-height, var(--mat-sys-body-medium-line-height));font-size:var(--mdc-list-list-item-supporting-text-size, var(--mat-sys-body-medium-size));font-weight:var(--mdc-list-list-item-supporting-text-weight, var(--mat-sys-body-medium-weight));letter-spacing:var(--mdc-list-list-item-supporting-text-tracking, var(--mat-sys-body-medium-tracking))}.mdc-list-item__secondary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item--with-three-lines .mdc-list-item__secondary-text{white-space:normal;line-height:20px}.mdc-list-item--with-overline .mdc-list-item__secondary-text{white-space:nowrap;line-height:auto}.mdc-list-item--with-leading-radio.mdc-list-item,.mdc-list-item--with-leading-checkbox.mdc-list-item,.mdc-list-item--with-leading-icon.mdc-list-item,.mdc-list-item--with-leading-avatar.mdc-list-item{padding-left:0;padding-right:16px}[dir=rtl] .mdc-list-item--with-leading-radio.mdc-list-item,[dir=rtl] .mdc-list-item--with-leading-checkbox.mdc-list-item,[dir=rtl] .mdc-list-item--with-leading-icon.mdc-list-item,[dir=rtl] .mdc-list-item--with-leading-avatar.mdc-list-item{padding-left:16px;padding-right:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-trailing-icon.mdc-list-item,[dir=rtl] .mdc-list-item--with-trailing-icon.mdc-list-item{padding-left:0;padding-right:0}.mdc-list-item--with-trailing-icon .mdc-list-item__end{margin-left:16px;margin-right:16px}.mdc-list-item--with-trailing-meta.mdc-list-item{padding-left:16px;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-meta.mdc-list-item{padding-left:0;padding-right:16px}.mdc-list-item--with-trailing-meta .mdc-list-item__end{-webkit-user-select:none;user-select:none;margin-left:28px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-meta .mdc-list-item__end{margin-left:16px;margin-right:28px}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end,.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end{display:block;line-height:normal;align-self:flex-start;margin-top:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end::before,.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio .mdc-list-item__start,.mdc-list-item--with-leading-checkbox .mdc-list-item__start{margin-left:8px;margin-right:24px}[dir=rtl] .mdc-list-item--with-leading-radio .mdc-list-item__start,[dir=rtl] .mdc-list-item--with-leading-checkbox .mdc-list-item__start{margin-left:24px;margin-right:8px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__start,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-trailing-radio.mdc-list-item,.mdc-list-item--with-trailing-checkbox.mdc-list-item{padding-left:16px;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item,[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item{padding-left:0;padding-right:16px}.mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-icon,.mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-avatar,.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-icon,.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-avatar{padding-left:0}[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-icon,[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-avatar,[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-icon,[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-avatar{padding-right:0}.mdc-list-item--with-trailing-radio .mdc-list-item__end,.mdc-list-item--with-trailing-checkbox .mdc-list-item__end{margin-left:24px;margin-right:8px}[dir=rtl] .mdc-list-item--with-trailing-radio .mdc-list-item__end,[dir=rtl] .mdc-list-item--with-trailing-checkbox .mdc-list-item__end{margin-left:8px;margin-right:24px}.mdc-list-item--with-trailing-radio.mdc-list-item--with-three-lines .mdc-list-item__end,.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:8px}.mdc-list-group__subheader{margin:.75rem 16px}.mdc-list-item--disabled .mdc-list-item__start,.mdc-list-item--disabled .mdc-list-item__content,.mdc-list-item--disabled .mdc-list-item__end{opacity:1}.mdc-list-item--disabled .mdc-list-item__primary-text,.mdc-list-item--disabled .mdc-list-item__secondary-text{opacity:var(--mdc-list-list-item-disabled-label-text-opacity, 0.3)}.mdc-list-item--disabled.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-disabled-leading-icon-color, var(--mat-sys-on-surface));opacity:var(--mdc-list-list-item-disabled-leading-icon-opacity, 0.38)}.mdc-list-item--disabled.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-disabled-trailing-icon-color, var(--mat-sys-on-surface));opacity:var(--mdc-list-list-item-disabled-trailing-icon-opacity, 0.38)}.mat-mdc-list-item.mat-mdc-list-item-both-leading-and-trailing,[dir=rtl] .mat-mdc-list-item.mat-mdc-list-item-both-leading-and-trailing{padding-left:0;padding-right:0}.mdc-list-item.mdc-list-item--disabled .mdc-list-item__primary-text{color:var(--mdc-list-list-item-disabled-label-text-color, var(--mat-sys-on-surface))}.mdc-list-item:hover::before{background-color:var(--mdc-list-list-item-hover-state-layer-color, var(--mat-sys-on-surface));opacity:var(--mdc-list-list-item-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mdc-list-item.mdc-list-item--disabled::before{background-color:var(--mdc-list-list-item-disabled-state-layer-color, var(--mat-sys-on-surface));opacity:var(--mdc-list-list-item-disabled-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mdc-list-item:focus::before{background-color:var(--mdc-list-list-item-focus-state-layer-color, var(--mat-sys-on-surface));opacity:var(--mdc-list-list-item-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mdc-list-item--disabled .mdc-radio,.mdc-list-item--disabled .mdc-checkbox{opacity:var(--mdc-list-list-item-disabled-label-text-opacity, 0.3)}.mdc-list-item--with-leading-avatar .mat-mdc-list-item-avatar{border-radius:var(--mdc-list-list-item-leading-avatar-shape, var(--mat-sys-corner-full));background-color:var(--mdc-list-list-item-leading-avatar-color, var(--mat-sys-primary-container))}.mat-mdc-list-item-icon{font-size:var(--mdc-list-list-item-leading-icon-size, 24px)}@media(forced-colors: active){a.mdc-list-item--activated::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}a.mdc-list-item--activated [dir=rtl]::after{right:auto;left:16px}}.mat-mdc-list-base{display:block}.mat-mdc-list-base .mdc-list-item__start,.mat-mdc-list-base .mdc-list-item__end,.mat-mdc-list-base .mdc-list-item__content{pointer-events:auto}.mat-mdc-list-item,.mat-mdc-list-option{width:100%;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-list-item:not(.mat-mdc-list-item-interactive),.mat-mdc-list-option:not(.mat-mdc-list-item-interactive){cursor:default}.mat-mdc-list-item .mat-divider-inset,.mat-mdc-list-option .mat-divider-inset{position:absolute;left:0;right:0;bottom:0}.mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,.mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-left:72px}[dir=rtl] .mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,[dir=rtl] .mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-right:72px}.mat-mdc-list-item-interactive::before{top:0;left:0;right:0;bottom:0;position:absolute;content:"";opacity:0;pointer-events:none;border-radius:inherit}.mat-mdc-list-item>.mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-list-item:focus>.mat-focus-indicator::before{content:""}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-line.mdc-list-item__secondary-text{white-space:nowrap;line-height:normal}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-unscoped-content.mdc-list-item__secondary-text{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:rgba(0,0,0,0);text-align:start}mat-action-list button::-moz-focus-inner{border:0}.mdc-list-item--with-leading-icon .mdc-list-item__start{margin-inline-start:var(--mat-list-list-item-leading-icon-start-space, 16px);margin-inline-end:var(--mat-list-list-item-leading-icon-end-space, 16px)}.mat-mdc-nav-list .mat-mdc-list-item{border-radius:var(--mat-list-active-indicator-shape, var(--mat-sys-corner-full));--mat-focus-indicator-border-radius:var(--mat-list-active-indicator-shape, var(--mat-sys-corner-full))}.mat-mdc-nav-list .mat-mdc-list-item.mdc-list-item--activated{background-color:var(--mat-list-active-indicator-color, var(--mat-sys-secondary-container))}',Epe=["unscopedContent"],kpe=["text"],Mpe=[[["","matListItemAvatar",""],["","matListItemIcon",""]],[["","matListItemTitle",""]],[["","matListItemLine",""]],"*",[["","matListItemMeta",""]],[["mat-divider"]]],Tpe=["[matListItemAvatar],[matListItemIcon]","[matListItemTitle]","[matListItemLine]","*","[matListItemMeta]","mat-divider"];var Ape=new ue("ListOption"),Nh=(()=>{class n{_elementRef=y(He);constructor(){}static \u0275fac=function(i){return new(i||n)};static \u0275dir=ge({type:n,selectors:[["","matListItemTitle",""]],hostAttrs:[1,"mat-mdc-list-item-title","mdc-list-item__primary-text"]})}return n})(),Rpe=(()=>{class n{_elementRef=y(He);constructor(){}static \u0275fac=function(i){return new(i||n)};static \u0275dir=ge({type:n,selectors:[["","matListItemLine",""]],hostAttrs:[1,"mat-mdc-list-item-line","mdc-list-item__secondary-text"]})}return n})(),Ope=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275dir=ge({type:n,selectors:[["","matListItemMeta",""]],hostAttrs:[1,"mat-mdc-list-item-meta","mdc-list-item__end"]})}return n})(),y6=(()=>{class n{_listOption=y(Ape,{optional:!0});constructor(){}_isAlignedAtStart(){return!this._listOption||this._listOption?._getTogglePosition()==="after"}static \u0275fac=function(i){return new(i||n)};static \u0275dir=ge({type:n,hostVars:4,hostBindings:function(i,o){i&2&&ke("mdc-list-item__start",o._isAlignedAtStart())("mdc-list-item__end",!o._isAlignedAtStart())}})}return n})(),Ppe=(()=>{class n extends y6{static \u0275fac=(()=>{let e;return function(o){return(e||(e=ti(n)))(o||n)}})();static \u0275dir=ge({type:n,selectors:[["","matListItemAvatar",""]],hostAttrs:[1,"mat-mdc-list-item-avatar"],features:[dt]})}return n})(),Zv=(()=>{class n extends y6{static \u0275fac=(()=>{let e;return function(o){return(e||(e=ti(n)))(o||n)}})();static \u0275dir=ge({type:n,selectors:[["","matListItemIcon",""]],hostAttrs:[1,"mat-mdc-list-item-icon"],features:[dt]})}return n})(),Lpe=new ue("MAT_LIST_CONFIG"),Lh=(()=>{class n{_isNonInteractive=!0;get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=yn(e)}_disableRipple=!1;get disabled(){return this._disabled}set disabled(e){this._disabled=yn(e)}_disabled=!1;_defaultOptions=y(Lpe,{optional:!0});static \u0275fac=function(i){return new(i||n)};static \u0275dir=ge({type:n,hostVars:1,hostBindings:function(i,o){i&2&&Re("aria-disabled",o.disabled)},inputs:{disableRipple:"disableRipple",disabled:"disabled"}})}return n})(),Npe=(()=>{class n{_elementRef=y(He);_ngZone=y(et);_listBase=y(Lh,{optional:!0});_platform=y(Zt);_hostElement;_isButtonElement;_noopAnimations;_avatars;_icons;set lines(e){this._explicitLines=Mo(e,null),this._updateItemLines(!1)}_explicitLines=null;get disableRipple(){return this.disabled||this._disableRipple||this._noopAnimations||!!this._listBase?.disableRipple}set disableRipple(e){this._disableRipple=yn(e)}_disableRipple=!1;get disabled(){return this._disabled||!!this._listBase?.disabled}set disabled(e){this._disabled=yn(e)}_disabled=!1;_subscriptions=new fn;_rippleRenderer=null;_hasUnscopedTextContent=!1;rippleConfig;get rippleDisabled(){return this.disableRipple||!!this.rippleConfig.disabled}constructor(){y(kn).load(qs);let e=y(Td,{optional:!0}),i=y(Wi,{optional:!0});this.rippleConfig=e||{},this._hostElement=this._elementRef.nativeElement,this._isButtonElement=this._hostElement.nodeName.toLowerCase()==="button",this._noopAnimations=i==="NoopAnimations",this._listBase&&!this._listBase._isNonInteractive&&this._initInteractiveListItem(),this._isButtonElement&&!this._hostElement.hasAttribute("type")&&this._hostElement.setAttribute("type","button")}ngAfterViewInit(){this._monitorProjectedLinesAndTitle(),this._updateItemLines(!0)}ngOnDestroy(){this._subscriptions.unsubscribe(),this._rippleRenderer!==null&&this._rippleRenderer._removeTriggerEvents()}_hasIconOrAvatar(){return!!(this._avatars.length||this._icons.length)}_initInteractiveListItem(){this._hostElement.classList.add("mat-mdc-list-item-interactive"),this._rippleRenderer=new Zp(this,this._ngZone,this._hostElement,this._platform,y(Si)),this._rippleRenderer.setupTriggerEvents(this._hostElement)}_monitorProjectedLinesAndTitle(){this._ngZone.runOutsideAngular(()=>{this._subscriptions.add(tn(this._lines.changes,this._titles.changes).subscribe(()=>this._updateItemLines(!1)))})}_updateItemLines(e){if(!this._lines||!this._titles||!this._unscopedContent)return;e&&this._checkDomForUnscopedTextContent();let i=this._explicitLines??this._inferLinesFromContent(),o=this._unscopedContent.nativeElement;if(this._hostElement.classList.toggle("mat-mdc-list-item-single-line",i<=1),this._hostElement.classList.toggle("mdc-list-item--with-one-line",i<=1),this._hostElement.classList.toggle("mdc-list-item--with-two-lines",i===2),this._hostElement.classList.toggle("mdc-list-item--with-three-lines",i===3),this._hasUnscopedTextContent){let r=this._titles.length===0&&i===1;o.classList.toggle("mdc-list-item__primary-text",r),o.classList.toggle("mdc-list-item__secondary-text",!r)}else o.classList.remove("mdc-list-item__primary-text"),o.classList.remove("mdc-list-item__secondary-text")}_inferLinesFromContent(){let e=this._titles.length+this._lines.length;return this._hasUnscopedTextContent&&(e+=1),e}_checkDomForUnscopedTextContent(){this._hasUnscopedTextContent=Array.from(this._unscopedContent.nativeElement.childNodes).filter(e=>e.nodeType!==e.COMMENT_NODE).some(e=>!!(e.textContent&&e.textContent.trim()))}static \u0275fac=function(i){return new(i||n)};static \u0275dir=ge({type:n,contentQueries:function(i,o,r){if(i&1&&(bt(r,Ppe,4),bt(r,Zv,4)),i&2){let s;me(s=pe())&&(o._avatars=s),me(s=pe())&&(o._icons=s)}},hostVars:4,hostBindings:function(i,o){i&2&&(Re("aria-disabled",o.disabled)("disabled",o._isButtonElement&&o.disabled||null),ke("mdc-list-item--disabled",o.disabled))},inputs:{lines:"lines",disableRipple:"disableRipple",disabled:"disabled"}})}return n})();var x6=(()=>{class n extends Lh{_isNonInteractive=!1;static \u0275fac=(()=>{let e;return function(o){return(e||(e=ti(n)))(o||n)}})();static \u0275cmp=Q({type:n,selectors:[["mat-action-list"]],hostAttrs:["role","group",1,"mat-mdc-action-list","mat-mdc-list-base","mdc-list"],exportAs:["matActionList"],features:[At([{provide:Lh,useExisting:n}]),dt],ngContentSelectors:LO,decls:1,vars:0,template:function(i,o){i&1&&(wt(),Fe(0))},styles:['.mdc-list{margin:0;padding:8px 0;list-style-type:none}.mdc-list:focus{outline:none}.mdc-list-item{display:flex;position:relative;justify-content:flex-start;overflow:hidden;padding:0;align-items:stretch;cursor:pointer;padding-left:16px;padding-right:16px;background-color:var(--mdc-list-list-item-container-color, transparent);border-radius:var(--mdc-list-list-item-container-shape, var(--mat-sys-corner-none))}.mdc-list-item.mdc-list-item--selected{background-color:var(--mdc-list-list-item-selected-container-color)}.mdc-list-item:focus{outline:0}.mdc-list-item.mdc-list-item--disabled{cursor:auto}.mdc-list-item.mdc-list-item--with-one-line{height:var(--mdc-list-list-item-one-line-container-height, 48px)}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__start{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-two-lines{height:var(--mdc-list-list-item-two-line-container-height, 64px)}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-three-lines{height:var(--mdc-list-list-item-three-line-container-height, 88px)}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--selected::before,.mdc-list-item.mdc-list-item--selected:focus::before,.mdc-list-item:not(.mdc-list-item--selected):focus::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;content:"";pointer-events:none}a.mdc-list-item{color:inherit;text-decoration:none}.mdc-list-item__start{fill:currentColor;flex-shrink:0;pointer-events:none}.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-leading-icon-color, var(--mat-sys-on-surface-variant));width:var(--mdc-list-list-item-leading-icon-size, 24px);height:var(--mdc-list-list-item-leading-icon-size, 24px);margin-left:16px;margin-right:32px}[dir=rtl] .mdc-list-item--with-leading-icon .mdc-list-item__start{margin-left:32px;margin-right:16px}.mdc-list-item--with-leading-icon:hover .mdc-list-item__start{color:var(--mdc-list-list-item-hover-leading-icon-color)}.mdc-list-item--with-leading-avatar .mdc-list-item__start{width:var(--mdc-list-list-item-leading-avatar-size, 40px);height:var(--mdc-list-list-item-leading-avatar-size, 40px);margin-left:16px;margin-right:16px;border-radius:50%}.mdc-list-item--with-leading-avatar .mdc-list-item__start,[dir=rtl] .mdc-list-item--with-leading-avatar .mdc-list-item__start{margin-left:16px;margin-right:16px;border-radius:50%}.mdc-list-item__end{flex-shrink:0;pointer-events:none}.mdc-list-item--with-trailing-meta .mdc-list-item__end{font-family:var(--mdc-list-list-item-trailing-supporting-text-font, var(--mat-sys-label-small-font));line-height:var(--mdc-list-list-item-trailing-supporting-text-line-height, var(--mat-sys-label-small-line-height));font-size:var(--mdc-list-list-item-trailing-supporting-text-size, var(--mat-sys-label-small-size));font-weight:var(--mdc-list-list-item-trailing-supporting-text-weight, var(--mat-sys-label-small-weight));letter-spacing:var(--mdc-list-list-item-trailing-supporting-text-tracking, var(--mat-sys-label-small-tracking))}.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-icon-color, var(--mat-sys-on-surface-variant));width:var(--mdc-list-list-item-trailing-icon-size, 24px);height:var(--mdc-list-list-item-trailing-icon-size, 24px)}.mdc-list-item--with-trailing-icon:hover .mdc-list-item__end{color:var(--mdc-list-list-item-hover-trailing-icon-color)}.mdc-list-item.mdc-list-item--with-trailing-meta .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-supporting-text-color, var(--mat-sys-on-surface-variant))}.mdc-list-item--selected.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-selected-trailing-icon-color, var(--mat-sys-primary))}.mdc-list-item__content{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;align-self:center;flex:1;pointer-events:none}.mdc-list-item--with-two-lines .mdc-list-item__content,.mdc-list-item--with-three-lines .mdc-list-item__content{align-self:stretch}.mdc-list-item__primary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;color:var(--mdc-list-list-item-label-text-color, var(--mat-sys-on-surface));font-family:var(--mdc-list-list-item-label-text-font, var(--mat-sys-body-large-font));line-height:var(--mdc-list-list-item-label-text-line-height, var(--mat-sys-body-large-line-height));font-size:var(--mdc-list-list-item-label-text-size, var(--mat-sys-body-large-size));font-weight:var(--mdc-list-list-item-label-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mdc-list-list-item-label-text-tracking, var(--mat-sys-body-large-tracking))}.mdc-list-item:hover .mdc-list-item__primary-text{color:var(--mdc-list-list-item-hover-label-text-color, var(--mat-sys-on-surface))}.mdc-list-item:focus .mdc-list-item__primary-text{color:var(--mdc-list-list-item-focus-label-text-color, var(--mat-sys-on-surface))}.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-three-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item__secondary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;display:block;margin-top:0;color:var(--mdc-list-list-item-supporting-text-color, var(--mat-sys-on-surface-variant));font-family:var(--mdc-list-list-item-supporting-text-font, var(--mat-sys-body-medium-font));line-height:var(--mdc-list-list-item-supporting-text-line-height, var(--mat-sys-body-medium-line-height));font-size:var(--mdc-list-list-item-supporting-text-size, var(--mat-sys-body-medium-size));font-weight:var(--mdc-list-list-item-supporting-text-weight, var(--mat-sys-body-medium-weight));letter-spacing:var(--mdc-list-list-item-supporting-text-tracking, var(--mat-sys-body-medium-tracking))}.mdc-list-item__secondary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item--with-three-lines .mdc-list-item__secondary-text{white-space:normal;line-height:20px}.mdc-list-item--with-overline .mdc-list-item__secondary-text{white-space:nowrap;line-height:auto}.mdc-list-item--with-leading-radio.mdc-list-item,.mdc-list-item--with-leading-checkbox.mdc-list-item,.mdc-list-item--with-leading-icon.mdc-list-item,.mdc-list-item--with-leading-avatar.mdc-list-item{padding-left:0;padding-right:16px}[dir=rtl] .mdc-list-item--with-leading-radio.mdc-list-item,[dir=rtl] .mdc-list-item--with-leading-checkbox.mdc-list-item,[dir=rtl] .mdc-list-item--with-leading-icon.mdc-list-item,[dir=rtl] .mdc-list-item--with-leading-avatar.mdc-list-item{padding-left:16px;padding-right:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-trailing-icon.mdc-list-item,[dir=rtl] .mdc-list-item--with-trailing-icon.mdc-list-item{padding-left:0;padding-right:0}.mdc-list-item--with-trailing-icon .mdc-list-item__end{margin-left:16px;margin-right:16px}.mdc-list-item--with-trailing-meta.mdc-list-item{padding-left:16px;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-meta.mdc-list-item{padding-left:0;padding-right:16px}.mdc-list-item--with-trailing-meta .mdc-list-item__end{-webkit-user-select:none;user-select:none;margin-left:28px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-meta .mdc-list-item__end{margin-left:16px;margin-right:28px}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end,.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end{display:block;line-height:normal;align-self:flex-start;margin-top:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end::before,.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio .mdc-list-item__start,.mdc-list-item--with-leading-checkbox .mdc-list-item__start{margin-left:8px;margin-right:24px}[dir=rtl] .mdc-list-item--with-leading-radio .mdc-list-item__start,[dir=rtl] .mdc-list-item--with-leading-checkbox .mdc-list-item__start{margin-left:24px;margin-right:8px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__start,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-trailing-radio.mdc-list-item,.mdc-list-item--with-trailing-checkbox.mdc-list-item{padding-left:16px;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item,[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item{padding-left:0;padding-right:16px}.mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-icon,.mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-avatar,.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-icon,.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-avatar{padding-left:0}[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-icon,[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-avatar,[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-icon,[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-avatar{padding-right:0}.mdc-list-item--with-trailing-radio .mdc-list-item__end,.mdc-list-item--with-trailing-checkbox .mdc-list-item__end{margin-left:24px;margin-right:8px}[dir=rtl] .mdc-list-item--with-trailing-radio .mdc-list-item__end,[dir=rtl] .mdc-list-item--with-trailing-checkbox .mdc-list-item__end{margin-left:8px;margin-right:24px}.mdc-list-item--with-trailing-radio.mdc-list-item--with-three-lines .mdc-list-item__end,.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:8px}.mdc-list-group__subheader{margin:.75rem 16px}.mdc-list-item--disabled .mdc-list-item__start,.mdc-list-item--disabled .mdc-list-item__content,.mdc-list-item--disabled .mdc-list-item__end{opacity:1}.mdc-list-item--disabled .mdc-list-item__primary-text,.mdc-list-item--disabled .mdc-list-item__secondary-text{opacity:var(--mdc-list-list-item-disabled-label-text-opacity, 0.3)}.mdc-list-item--disabled.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-disabled-leading-icon-color, var(--mat-sys-on-surface));opacity:var(--mdc-list-list-item-disabled-leading-icon-opacity, 0.38)}.mdc-list-item--disabled.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-disabled-trailing-icon-color, var(--mat-sys-on-surface));opacity:var(--mdc-list-list-item-disabled-trailing-icon-opacity, 0.38)}.mat-mdc-list-item.mat-mdc-list-item-both-leading-and-trailing,[dir=rtl] .mat-mdc-list-item.mat-mdc-list-item-both-leading-and-trailing{padding-left:0;padding-right:0}.mdc-list-item.mdc-list-item--disabled .mdc-list-item__primary-text{color:var(--mdc-list-list-item-disabled-label-text-color, var(--mat-sys-on-surface))}.mdc-list-item:hover::before{background-color:var(--mdc-list-list-item-hover-state-layer-color, var(--mat-sys-on-surface));opacity:var(--mdc-list-list-item-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mdc-list-item.mdc-list-item--disabled::before{background-color:var(--mdc-list-list-item-disabled-state-layer-color, var(--mat-sys-on-surface));opacity:var(--mdc-list-list-item-disabled-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mdc-list-item:focus::before{background-color:var(--mdc-list-list-item-focus-state-layer-color, var(--mat-sys-on-surface));opacity:var(--mdc-list-list-item-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mdc-list-item--disabled .mdc-radio,.mdc-list-item--disabled .mdc-checkbox{opacity:var(--mdc-list-list-item-disabled-label-text-opacity, 0.3)}.mdc-list-item--with-leading-avatar .mat-mdc-list-item-avatar{border-radius:var(--mdc-list-list-item-leading-avatar-shape, var(--mat-sys-corner-full));background-color:var(--mdc-list-list-item-leading-avatar-color, var(--mat-sys-primary-container))}.mat-mdc-list-item-icon{font-size:var(--mdc-list-list-item-leading-icon-size, 24px)}@media(forced-colors: active){a.mdc-list-item--activated::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}a.mdc-list-item--activated [dir=rtl]::after{right:auto;left:16px}}.mat-mdc-list-base{display:block}.mat-mdc-list-base .mdc-list-item__start,.mat-mdc-list-base .mdc-list-item__end,.mat-mdc-list-base .mdc-list-item__content{pointer-events:auto}.mat-mdc-list-item,.mat-mdc-list-option{width:100%;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-list-item:not(.mat-mdc-list-item-interactive),.mat-mdc-list-option:not(.mat-mdc-list-item-interactive){cursor:default}.mat-mdc-list-item .mat-divider-inset,.mat-mdc-list-option .mat-divider-inset{position:absolute;left:0;right:0;bottom:0}.mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,.mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-left:72px}[dir=rtl] .mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,[dir=rtl] .mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-right:72px}.mat-mdc-list-item-interactive::before{top:0;left:0;right:0;bottom:0;position:absolute;content:"";opacity:0;pointer-events:none;border-radius:inherit}.mat-mdc-list-item>.mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-list-item:focus>.mat-focus-indicator::before{content:""}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-line.mdc-list-item__secondary-text{white-space:nowrap;line-height:normal}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-unscoped-content.mdc-list-item__secondary-text{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:rgba(0,0,0,0);text-align:start}mat-action-list button::-moz-focus-inner{border:0}.mdc-list-item--with-leading-icon .mdc-list-item__start{margin-inline-start:var(--mat-list-list-item-leading-icon-start-space, 16px);margin-inline-end:var(--mat-list-list-item-leading-icon-end-space, 16px)}.mat-mdc-nav-list .mat-mdc-list-item{border-radius:var(--mat-list-active-indicator-shape, var(--mat-sys-corner-full));--mat-focus-indicator-border-radius:var(--mat-list-active-indicator-shape, var(--mat-sys-corner-full))}.mat-mdc-nav-list .mat-mdc-list-item.mdc-list-item--activated{background-color:var(--mat-list-active-indicator-color, var(--mat-sys-secondary-container))}'],encapsulation:2,changeDetection:0})}return n})();var Hd=(()=>{class n extends Lh{static \u0275fac=(()=>{let e;return function(o){return(e||(e=ti(n)))(o||n)}})();static \u0275cmp=Q({type:n,selectors:[["mat-list"]],hostAttrs:[1,"mat-mdc-list","mat-mdc-list-base","mdc-list"],exportAs:["matList"],features:[At([{provide:Lh,useExisting:n}]),dt],ngContentSelectors:LO,decls:1,vars:0,template:function(i,o){i&1&&(wt(),Fe(0))},styles:[b6],encapsulation:2,changeDetection:0})}return n})(),Cl=(()=>{class n extends Npe{_lines;_titles;_meta;_unscopedContent;_itemText;get activated(){return this._activated}set activated(e){this._activated=yn(e)}_activated=!1;_getAriaCurrent(){return this._hostElement.nodeName==="A"&&this._activated?"page":null}_hasBothLeadingAndTrailing(){return this._meta.length!==0&&(this._avatars.length!==0||this._icons.length!==0)}static \u0275fac=(()=>{let e;return function(o){return(e||(e=ti(n)))(o||n)}})();static \u0275cmp=Q({type:n,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(i,o,r){if(i&1&&(bt(r,Rpe,5),bt(r,Nh,5),bt(r,Ope,5)),i&2){let s;me(s=pe())&&(o._lines=s),me(s=pe())&&(o._titles=s),me(s=pe())&&(o._meta=s)}},viewQuery:function(i,o){if(i&1&&(rt(Epe,5),rt(kpe,5)),i&2){let r;me(r=pe())&&(o._unscopedContent=r.first),me(r=pe())&&(o._itemText=r.first)}},hostAttrs:[1,"mat-mdc-list-item","mdc-list-item"],hostVars:13,hostBindings:function(i,o){i&2&&(Re("aria-current",o._getAriaCurrent()),ke("mdc-list-item--activated",o.activated)("mdc-list-item--with-leading-avatar",o._avatars.length!==0)("mdc-list-item--with-leading-icon",o._icons.length!==0)("mdc-list-item--with-trailing-meta",o._meta.length!==0)("mat-mdc-list-item-both-leading-and-trailing",o._hasBothLeadingAndTrailing())("_mat-animation-noopable",o._noopAnimations))},inputs:{activated:"activated"},exportAs:["matListItem"],features:[dt],ngContentSelectors:Tpe,decls:10,vars:0,consts:[["unscopedContent",""],[1,"mdc-list-item__content"],[1,"mat-mdc-list-item-unscoped-content",3,"cdkObserveContent"],[1,"mat-focus-indicator"]],template:function(i,o){if(i&1){let r=Nt();wt(Mpe),Fe(0),x(1,"span",1),Fe(2,1),Fe(3,2),x(4,"span",2,0),le("cdkObserveContent",function(){return Ze(r),Qe(o._updateItemLines(!0))}),Fe(6,3),w()(),Fe(7,4),Fe(8,5),X(9,"div",3)}},dependencies:[Qq],encapsulation:2,changeDetection:0})}return n})();var w6=(()=>{class n extends Lh{_isNonInteractive=!1;static \u0275fac=(()=>{let e;return function(o){return(e||(e=ti(n)))(o||n)}})();static \u0275cmp=Q({type:n,selectors:[["mat-nav-list"]],hostAttrs:["role","navigation",1,"mat-mdc-nav-list","mat-mdc-list-base","mdc-list"],exportAs:["matNavList"],features:[At([{provide:Lh,useExisting:n}]),dt],ngContentSelectors:LO,decls:1,vars:0,template:function(i,o){i&1&&(wt(),Fe(0))},styles:[b6],encapsulation:2,changeDetection:0})}return n})();var Fpe=["*"],vS;function zpe(){if(vS===void 0&&(vS=null,typeof window<"u")){let n=window;n.trustedTypes!==void 0&&(vS=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return vS}function Qv(n){return zpe()?.createHTML(n)||n}function C6(n){return Error(`Unable to find icon with the name "${n}"`)}function Bpe(){return Error("Could not find HttpClient for use with Angular Material icons. Please add provideHttpClient() to your providers.")}function S6(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function I6(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}var Tc=class{url;svgText;options;svgElement;constructor(t,e,i){this.url=t,this.svgText=e,this.options=i}},NO=(()=>{class n{_httpClient;_sanitizer;_errorHandler;_document;_svgIconConfigs=new Map;_iconSetConfigs=new Map;_cachedIconsByUrl=new Map;_inProgressUrlFetches=new Map;_fontCssClassesByAlias=new Map;_resolvers=[];_defaultFontSetClass=["material-icons","mat-ligature-font"];constructor(e,i,o,r){this._httpClient=e,this._sanitizer=i,this._errorHandler=r,this._document=o}addSvgIcon(e,i,o){return this.addSvgIconInNamespace("",e,i,o)}addSvgIconLiteral(e,i,o){return this.addSvgIconLiteralInNamespace("",e,i,o)}addSvgIconInNamespace(e,i,o,r){return this._addSvgIconConfig(e,i,new Tc(o,null,r))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,i,o,r){let s=this._sanitizer.sanitize(os.HTML,o);if(!s)throw I6(o);let a=Qv(s);return this._addSvgIconConfig(e,i,new Tc("",a,r))}addSvgIconSet(e,i){return this.addSvgIconSetInNamespace("",e,i)}addSvgIconSetLiteral(e,i){return this.addSvgIconSetLiteralInNamespace("",e,i)}addSvgIconSetInNamespace(e,i,o){return this._addSvgIconSetConfig(e,new Tc(i,null,o))}addSvgIconSetLiteralInNamespace(e,i,o){let r=this._sanitizer.sanitize(os.HTML,i);if(!r)throw I6(i);let s=Qv(r);return this._addSvgIconSetConfig(e,new Tc("",s,o))}registerFontClassAlias(e,i=e){return this._fontCssClassesByAlias.set(e,i),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){let i=this._sanitizer.sanitize(os.RESOURCE_URL,e);if(!i)throw S6(e);let o=this._cachedIconsByUrl.get(i);return o?We(bS(o)):this._loadSvgIconFromConfig(new Tc(e,null)).pipe(Ji(r=>this._cachedIconsByUrl.set(i,r)),nt(r=>bS(r)))}getNamedSvgIcon(e,i=""){let o=D6(i,e),r=this._svgIconConfigs.get(o);if(r)return this._getSvgFromConfig(r);if(r=this._getIconConfigFromResolvers(i,e),r)return this._svgIconConfigs.set(o,r),this._getSvgFromConfig(r);let s=this._iconSetConfigs.get(i);return s?this._getSvgFromIconSetConfigs(e,s):ua(C6(o))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?We(bS(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe(nt(i=>bS(i)))}_getSvgFromIconSetConfigs(e,i){let o=this._extractIconWithNameFromAnySet(e,i);if(o)return We(o);let r=i.filter(s=>!s.svgText).map(s=>this._loadSvgIconSetFromConfig(s).pipe(sd(a=>{let c=`Loading icon set URL: ${this._sanitizer.sanitize(os.RESOURCE_URL,s.url)} failed: ${a.message}`;return this._errorHandler.handleError(new Error(c)),We(null)})));return rd(r).pipe(nt(()=>{let s=this._extractIconWithNameFromAnySet(e,i);if(!s)throw C6(e);return s}))}_extractIconWithNameFromAnySet(e,i){for(let o=i.length-1;o>=0;o--){let r=i[o];if(r.svgText&&r.svgText.toString().indexOf(e)>-1){let s=this._svgElementFromConfig(r),a=this._extractSvgIconFromSet(s,e,r.options);if(a)return a}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe(Ji(i=>e.svgText=i),nt(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?We(null):this._fetchIcon(e).pipe(Ji(i=>e.svgText=i))}_extractSvgIconFromSet(e,i,o){let r=e.querySelector(`[id="${i}"]`);if(!r)return null;let s=r.cloneNode(!0);if(s.removeAttribute("id"),s.nodeName.toLowerCase()==="svg")return this._setSvgAttributes(s,o);if(s.nodeName.toLowerCase()==="symbol")return this._setSvgAttributes(this._toSvgElement(s),o);let a=this._svgElementFromString(Qv("<svg></svg>"));return a.appendChild(s),this._setSvgAttributes(a,o)}_svgElementFromString(e){let i=this._document.createElement("DIV");i.innerHTML=e;let o=i.querySelector("svg");if(!o)throw Error("<svg> tag not found");return o}_toSvgElement(e){let i=this._svgElementFromString(Qv("<svg></svg>")),o=e.attributes;for(let r=0;r<o.length;r++){let{name:s,value:a}=o[r];s!=="id"&&i.setAttribute(s,a)}for(let r=0;r<e.childNodes.length;r++)e.childNodes[r].nodeType===this._document.ELEMENT_NODE&&i.appendChild(e.childNodes[r].cloneNode(!0));return i}_setSvgAttributes(e,i){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),i&&i.viewBox&&e.setAttribute("viewBox",i.viewBox),e}_fetchIcon(e){let{url:i,options:o}=e,r=o?.withCredentials??!1;if(!this._httpClient)throw Bpe();if(i==null)throw Error(`Cannot fetch icon from URL "${i}".`);let s=this._sanitizer.sanitize(os.RESOURCE_URL,i);if(!s)throw S6(i);let a=this._inProgressUrlFetches.get(s);if(a)return a;let l=this._httpClient.get(s,{responseType:"text",withCredentials:r}).pipe(nt(c=>Qv(c)),ec(()=>this._inProgressUrlFetches.delete(s)),lW());return this._inProgressUrlFetches.set(s,l),l}_addSvgIconConfig(e,i,o){return this._svgIconConfigs.set(D6(e,i),o),this}_addSvgIconSetConfig(e,i){let o=this._iconSetConfigs.get(e);return o?o.push(i):this._iconSetConfigs.set(e,[i]),this}_svgElementFromConfig(e){if(!e.svgElement){let i=this._svgElementFromString(e.svgText);this._setSvgAttributes(i,e.options),e.svgElement=i}return e.svgElement}_getIconConfigFromResolvers(e,i){for(let o=0;o<this._resolvers.length;o++){let r=this._resolvers[o](i,e);if(r)return Hpe(r)?new Tc(r.url,null,r.options):new Tc(r,null)}}static \u0275fac=function(i){return new(i||n)(ct(dv,8),ct(bh),ct(kt,8),ct(Ku))};static \u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function bS(n){return n.cloneNode(!0)}function D6(n,t){return n+":"+t}function Hpe(n){return!!(n.url&&n.options)}var Vpe=new ue("MAT_ICON_DEFAULT_OPTIONS"),Wpe=new ue("mat-icon-location",{providedIn:"root",factory:jpe});function jpe(){let n=y(kt),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}var k6=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Upe=k6.map(n=>`[${n}]`).join(", "),qpe=/^url\(['"]?#(.*?)['"]?\)$/,Tn=(()=>{class n{_elementRef=y(He);_iconRegistry=y(NO);_location=y(Wpe);_errorHandler=y(Ku);_defaultColor;get color(){return this._color||this._defaultColor}set color(e){this._color=e}_color;inline=!1;get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}_svgIcon;get fontSet(){return this._fontSet}set fontSet(e){let i=this._cleanupFontValue(e);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}_fontSet;get fontIcon(){return this._fontIcon}set fontIcon(e){let i=this._cleanupFontValue(e);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_fontIcon;_previousFontSetClass=[];_previousFontIconClass;_svgName;_svgNamespace;_previousPath;_elementsWithExternalReferences;_currentIconFetch=fn.EMPTY;constructor(){let e=y(new $u("aria-hidden"),{optional:!0}),i=y(Vpe,{optional:!0});i&&(i.color&&(this.color=this._defaultColor=i.color),i.fontSet&&(this.fontSet=i.fontSet)),e||this._elementRef.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(e){if(!e)return["",""];let i=e.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){let e=this._elementsWithExternalReferences;if(e&&e.size){let i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();let i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){let e=this._elementRef.nativeElement,i=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){let o=e.childNodes[i];(o.nodeType!==1||o.nodeName.toLowerCase()==="svg")&&o.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;let e=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(o=>o.length>0);this._previousFontSetClass.forEach(o=>e.classList.remove(o)),i.forEach(o=>e.classList.add(o)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return typeof e=="string"?e.trim().split(" ")[0]:e}_prependPathToReferences(e){let i=this._elementsWithExternalReferences;i&&i.forEach((o,r)=>{o.forEach(s=>{r.setAttribute(s.name,`url('${e}#${s.value}')`)})})}_cacheChildrenWithExternalReferences(e){let i=e.querySelectorAll(Upe),o=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let r=0;r<i.length;r++)k6.forEach(s=>{let a=i[r],l=a.getAttribute(s),c=l?l.match(qpe):null;if(c){let d=o.get(a);d||(d=[],o.set(a,d)),d.push({name:s,value:c[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){let[i,o]=this._splitIconName(e);i&&(this._svgNamespace=i),o&&(this._svgName=o),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(o,i).pipe(Hn(1)).subscribe(r=>this._setSvgElement(r),r=>{let s=`Error retrieving icon ${i}:${o}! ${r.message}`;this._errorHandler.handleError(new Error(s))})}}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Q({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(i,o){i&2&&(Re("data-mat-icon-type",o._usingFontIcon()?"font":"svg")("data-mat-icon-name",o._svgName||o.fontIcon)("data-mat-icon-namespace",o._svgNamespace||o.fontSet)("fontIcon",o._usingFontIcon()?o.fontIcon:null),Lo(o.color?"mat-"+o.color:""),ke("mat-icon-inline",o.inline)("mat-icon-no-color",o.color!=="primary"&&o.color!=="accent"&&o.color!=="warn"))},inputs:{color:"color",inline:[2,"inline","inline",Ke],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[Ut],ngContentSelectors:Fpe,decls:1,vars:0,template:function(i,o){i&1&&(wt(),Fe(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color, inherit)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0})}return n})();var yS=class n{title="Inform\xE1cie o s\xFAbore";cancelText="Odstrani\u0165";confirmText="Potvrdi\u0165";dialogData=y(jv)||{fileWrapper:{}};static \u0275fac=function(e){return new(e||n)};static \u0275cmp=Q({type:n,selectors:[["app-file-upload-confirmation"]],inputs:{title:"title",cancelText:"cancelText",confirmText:"confirmText"},decls:19,vars:8,consts:[["mat-dialog-title",""],["svgIcon","rename-box-outline","matListItemIcon",""],["matListItemTitle",""],["matListItemIcon",""],["mat-button","","mat-dialog-close",""],["mat-flat-button","","cdkFocusInitial","",3,"mat-dialog-close"]],template:function(e,i){e&1&&(x(0,"h2",0),P(1),w(),x(2,"mat-dialog-content")(3,"mat-list")(4,"mat-list-item"),X(5,"mat-icon",1),x(6,"p",2),P(7),w()(),x(8,"mat-list-item")(9,"mat-icon",3),P(10,"date_range"),w(),x(11,"p"),P(12),Li(13,"date"),w()()()(),x(14,"mat-dialog-actions")(15,"button",4),P(16),w(),x(17,"button",5),P(18),w()()),e&2&&(I(),be(i.title),I(6),be(i.dialogData.fileWrapper.name),I(5),be(Ni(13,6,i.dialogData.fileWrapper.dateModified)),I(4),be(i.cancelText),I(),z("mat-dialog-close",!0),I(),be(i.confirmText))},dependencies:[tS,Mn,iS,nS,xx,eS,Hd,Cl,Zv,Tn,Nh],styles:["p[_ngcontent-%COMP%]{color:var(--mat-sys-on-surface);font:var(--mat-sys-body-large);margin:0}"]})};var Wt=class n{submittedFile=Ue(null);report=Ue(null);analysisImported=Ue(!1);setSubmittedFile(t){this.submittedFile.set(t)}getSubmittedFile(){return this.submittedFile.asReadonly()}setReport(t){return this.report.set(t)}getReport(){return this.report.asReadonly()}getAnalysisImported(){return this.analysisImported.asReadonly()}setAnalysisImported(t){return this.analysisImported.set(t)}clearContext(){this.submittedFile.set(null),this.report.set(null),this.analysisImported.set(!1)}static \u0275fac=function(e){return new(e||n)};static \u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})};var xS=class n{constructor(t,e,i){this.analysisContext=t;this.fileUtils=e;this.router=i}dialog=y(Ld);onFileUploaded(t,e,i,o){let r=this.fileUtils.createWrapper(t);this.dialog.open(yS,{data:{fileWrapper:r}}).afterClosed().subscribe(a=>{a?(this.analysisContext.setSubmittedFile(r),o&&o(r),this.router.navigate([e])):i&&this.router.navigate([i])})}static \u0275fac=function(e){return new(e||n)(ie(Wt),ie(wl),ie(xi))};static \u0275dir=ge({type:n})};var $pe=["*"],An=class n{title="Default Title";subtitle="Default subtitle";isTitleCentered=!1;isHorizontal=!1;isContentCentered=!0;wrapBreakpoint=null;shouldWrap=Ue(!0);ngOnInit(){this.wrapBreakpoint&&this.recalculateWrap()}onResize(){this.recalculateWrap()}recalculateWrap(){if(!this.wrapBreakpoint){this.shouldWrap.set(!0);return}this.shouldWrap.set(window.innerWidth<=this.wrapBreakpoint)}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=Q({type:n,selectors:[["app-surface"]],hostBindings:function(e,i){e&1&&le("resize",function(r){return i.onResize(r.target.innerWidth)},!1,DW)},inputs:{title:"title",subtitle:"subtitle",isTitleCentered:"isTitleCentered",isHorizontal:"isHorizontal",isContentCentered:"isContentCentered",wrapBreakpoint:"wrapBreakpoint"},ngContentSelectors:$pe,decls:8,vars:10,consts:[[1,"titled-surface"],[1,"text-frame"],[1,"title-text"],[1,"subtitle-text"],[1,"content"]],template:function(e,i){e&1&&(wt(),x(0,"div",0)(1,"div",1)(2,"h1",2),P(3),w(),x(4,"p",3),P(5),w()(),x(6,"div",4),Fe(7),w()()),e&2&&(I(),ke("title-centered",i.isTitleCentered),I(2),be(i.title),I(2),be(i.subtitle),I(),ke("horizontal",i.isHorizontal)("content-centered",i.isContentCentered)("content-wrap",i.shouldWrap()))},styles:[".titled-surface[_ngcontent-%COMP%]{display:flex;height:fit-content;width:100%;max-width:100%;padding:16px;flex-direction:column;flex-wrap:wrap;min-width:fit-content;align-items:stretch;gap:24px;background-color:var(--mat-sys-surface-container-low);border-radius:var(--mat-sys-corner-extra-large);box-sizing:border-box}.content[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-width:fit-content;align-items:stretch;justify-content:start;gap:24px}.content-wrap[_ngcontent-%COMP%]{flex-wrap:wrap}.content-centered[_ngcontent-%COMP%]{align-content:center}.horizontal[_ngcontent-%COMP%]{flex-direction:row;justify-content:center;align-items:start}.text-frame[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;align-self:stretch;gap:4px}.title-text[_ngcontent-%COMP%]{font:var(--mat-sys-headline-small);color:var(--mat-sys-on-surface);margin:0}.subtitle-text[_ngcontent-%COMP%]{font:var(--mat-sys-body-medium);color:var(--mat-sys-on-surface-variant);margin:0}.title-centered[_ngcontent-%COMP%]{align-items:center}"]})};var Kpe=["*"],Rn=class n{static \u0275fac=function(e){return new(e||n)};static \u0275cmp=Q({type:n,selectors:[["app-content-container"]],ngContentSelectors:Kpe,decls:2,vars:0,consts:[[1,"content"]],template:function(e,i){e&1&&(wt(),x(0,"div",0),Fe(1),w())},styles:[".content[_ngcontent-%COMP%]{display:flex;height:fit-content;flex-direction:column;flex-grow:1;padding-top:76px;padding-left:6rem;padding-right:6rem;padding-bottom:5rem;gap:2rem}@media (max-width: 1200px){.content[_ngcontent-%COMP%]{padding-left:4rem;padding-right:3rem}}@media (max-width: 840px){.content[_ngcontent-%COMP%]{padding-left:3rem;padding-right:2rem}}@media (max-width: 640px){.content[_ngcontent-%COMP%]{padding-left:2rem;padding-right:1rem}}@media (max-width: 440px){.content[_ngcontent-%COMP%]{padding-left:1rem;padding-right:1rem}}"]})};var Xs=class n{constructor(t){this.router=t}routesMap=new Map([["/analysis",[{route:"/analysis",isFullWidthOnly:!1,fullWidthName:"S\xFAhrn anal\xFDzy",iconPath:"ballot-outline",isIconSvg:!0},{route:"/pairs",isFullWidthOnly:!1,fullWidthName:"Dvojice odovzdan\xED",iconPath:"book-multiple-outline",isIconSvg:!0},{route:"/submissions",isFullWidthOnly:!1,fullWidthName:"Odovzdania",iconPath:"list",isIconSvg:!1},{route:"/metadata",isFullWidthOnly:!1,fullWidthName:"Meta\xFAdaje",iconPath:"badge-account-horizontal-outline",isIconSvg:!0},{route:"/heatmap",isFullWidthOnly:!1,fullWidthName:"Teplotn\xE1 mapa",iconPath:"table",isIconSvg:!1},{route:"/graph",isFullWidthOnly:!1,fullWidthName:"Graf",iconPath:"apache-kafka",isIconSvg:!0},{route:"/diff",isFullWidthOnly:!1,fullWidthName:"Rozdiel obsahu",iconPath:"difference_outlined",isIconSvg:!1}]],["/pairs",[{route:"/analysis",isFullWidthOnly:!1,fullWidthName:"S\xFAhrn anal\xFDzy",iconPath:"ballot-outline",isIconSvg:!0},{route:"/pairs",isFullWidthOnly:!1,fullWidthName:"Dvojice odovzdan\xED",iconPath:"book-multiple-outline",isIconSvg:!0},{route:"/submissions",isFullWidthOnly:!1,fullWidthName:"Odovzdania",iconPath:"list",isIconSvg:!1},{route:"/metadata",isFullWidthOnly:!1,fullWidthName:"Meta\xFAdaje",iconPath:"badge-account-horizontal-outline",isIconSvg:!0},{route:"/heatmap",isFullWidthOnly:!1,fullWidthName:"Teplotn\xE1 mapa",iconPath:"table",isIconSvg:!1},{route:"/graph",isFullWidthOnly:!1,fullWidthName:"Graf",iconPath:"apache-kafka",isIconSvg:!0},{route:"/diff",isFullWidthOnly:!1,fullWidthName:"Rozdiel obsahu",iconPath:"difference_outlined",isIconSvg:!1}]],["/metadata",[{route:"/analysis",isFullWidthOnly:!1,fullWidthName:"S\xFAhrn anal\xFDzy",iconPath:"ballot-outline",isIconSvg:!0},{route:"/pairs",isFullWidthOnly:!1,fullWidthName:"Dvojice odovzdan\xED",iconPath:"book-multiple-outline",isIconSvg:!0},{route:"/submissions",isFullWidthOnly:!1,fullWidthName:"Odovzdania",iconPath:"list",isIconSvg:!1},{route:"/metadata",isFullWidthOnly:!1,fullWidthName:"Meta\xFAdaje",iconPath:"badge-account-horizontal-outline",isIconSvg:!0},{route:"/heatmap",isFullWidthOnly:!1,fullWidthName:"Teplotn\xE1 mapa",iconPath:"table",isIconSvg:!1},{route:"/graph",isFullWidthOnly:!1,fullWidthName:"Graf",iconPath:"apache-kafka",isIconSvg:!0},{route:"/diff",isFullWidthOnly:!1,fullWidthName:"Rozdiel obsahu",iconPath:"difference_outlined",isIconSvg:!1}]],["/submissions",[{route:"/analysis",isFullWidthOnly:!1,fullWidthName:"S\xFAhrn anal\xFDzy",iconPath:"ballot-outline",isIconSvg:!0},{route:"/pairs",isFullWidthOnly:!1,fullWidthName:"Dvojice odovzdan\xED",iconPath:"book-multiple-outline",isIconSvg:!0},{route:"/submissions",isFullWidthOnly:!1,fullWidthName:"Odovzdania",iconPath:"list",isIconSvg:!1},{route:"/metadata",isFullWidthOnly:!1,fullWidthName:"Meta\xFAdaje",iconPath:"badge-account-horizontal-outline",isIconSvg:!0},{route:"/heatmap",isFullWidthOnly:!1,fullWidthName:"Teplotn\xE1 mapa",iconPath:"table",isIconSvg:!1},{route:"/graph",isFullWidthOnly:!1,fullWidthName:"Graf",iconPath:"apache-kafka",isIconSvg:!0},{route:"/diff",isFullWidthOnly:!1,fullWidthName:"Rozdiel obsahu",iconPath:"difference_outlined",isIconSvg:!1}]],["/heatmap",[{route:"/analysis",isFullWidthOnly:!1,fullWidthName:"S\xFAhrn anal\xFDzy",iconPath:"ballot-outline",isIconSvg:!0},{route:"/pairs",isFullWidthOnly:!1,fullWidthName:"Dvojice odovzdan\xED",iconPath:"book-multiple-outline",isIconSvg:!0},{route:"/submissions",isFullWidthOnly:!1,fullWidthName:"Odovzdania",iconPath:"list",isIconSvg:!1},{route:"/metadata",isFullWidthOnly:!1,fullWidthName:"Meta\xFAdaje",iconPath:"badge-account-horizontal-outline",isIconSvg:!0},{route:"/heatmap",isFullWidthOnly:!1,fullWidthName:"Teplotn\xE1 mapa",iconPath:"table",isIconSvg:!1},{route:"/graph",isFullWidthOnly:!1,fullWidthName:"Graf",iconPath:"apache-kafka",isIconSvg:!0},{route:"/diff",isFullWidthOnly:!1,fullWidthName:"Rozdiel obsahu",iconPath:"difference_outlined",isIconSvg:!1}]],["/graph",[{route:"/analysis",isFullWidthOnly:!1,fullWidthName:"S\xFAhrn anal\xFDzy",iconPath:"ballot-outline",isIconSvg:!0},{route:"/pairs",isFullWidthOnly:!1,fullWidthName:"Dvojice odovzdan\xED",iconPath:"book-multiple-outline",isIconSvg:!0},{route:"/submissions",isFullWidthOnly:!1,fullWidthName:"Odovzdania",iconPath:"list",isIconSvg:!1},{route:"/metadata",isFullWidthOnly:!1,fullWidthName:"Meta\xFAdaje",iconPath:"badge-account-horizontal-outline",isIconSvg:!0},{route:"/heatmap",isFullWidthOnly:!1,fullWidthName:"Teplotn\xE1 mapa",iconPath:"table",isIconSvg:!1},{route:"/graph",isFullWidthOnly:!1,fullWidthName:"Graf",iconPath:"apache-kafka",isIconSvg:!0},{route:"/diff",isFullWidthOnly:!1,fullWidthName:"Rozdiel obsahu",iconPath:"difference_outlined",isIconSvg:!1}]],["/clusters",[{route:"/analysis",isFullWidthOnly:!1,fullWidthName:"S\xFAhrn anal\xFDzy",iconPath:"ballot-outline",isIconSvg:!0},{route:"/pairs",isFullWidthOnly:!1,fullWidthName:"Dvojice odovzdan\xED",iconPath:"book-multiple-outline",isIconSvg:!0},{route:"/submissions",isFullWidthOnly:!1,fullWidthName:"Odovzdania",iconPath:"list",isIconSvg:!1},{route:"/metadata",isFullWidthOnly:!1,fullWidthName:"Meta\xFAdaje",iconPath:"badge-account-horizontal-outline",isIconSvg:!0},{route:"/heatmap",isFullWidthOnly:!1,fullWidthName:"Teplotn\xE1 mapa",iconPath:"table",isIconSvg:!1},{route:"/graph",isFullWidthOnly:!1,fullWidthName:"Graf",iconPath:"apache-kafka",isIconSvg:!0},{route:"/diff",isFullWidthOnly:!1,fullWidthName:"Rozdiel obsahu",iconPath:"difference_outlined",isIconSvg:!1}]],["/diff",[{route:"/analysis",isFullWidthOnly:!1,fullWidthName:"S\xFAhrn anal\xFDzy",iconPath:"ballot-outline",isIconSvg:!0},{route:"/pairs",isFullWidthOnly:!1,fullWidthName:"Dvojice odovzdan\xED",iconPath:"book-multiple-outline",isIconSvg:!0},{route:"/submissions",isFullWidthOnly:!1,fullWidthName:"Odovzdania",iconPath:"list",isIconSvg:!1},{route:"/metadata",isFullWidthOnly:!1,fullWidthName:"Meta\xFAdaje",iconPath:"badge-account-horizontal-outline",isIconSvg:!0},{route:"/heatmap",isFullWidthOnly:!1,fullWidthName:"Teplotn\xE1 mapa",iconPath:"table",isIconSvg:!1},{route:"/graph",isFullWidthOnly:!1,fullWidthName:"Graf",iconPath:"apache-kafka",isIconSvg:!0},{route:"/diff",isFullWidthOnly:!1,fullWidthName:"Rozdiel obsahu",iconPath:"difference_outlined",isIconSvg:!1}]]]);defaultRoutes=[{route:"/upload",isFullWidthOnly:!1,fullWidthName:"Nahra\u0165 s\xFAbor odovzdan\xED",iconPath:"upload-outline",isIconSvg:!0},{route:"/import",isFullWidthOnly:!1,fullWidthName:"Importova\u0165 analyzu",iconPath:"import",isIconSvg:!0},{route:"/previous-analysis",isFullWidthOnly:!1,fullWidthName:"Predo\u0161l\xE9 anal\xFDzy",iconPath:"list",isIconSvg:!1}];supportRoutes=[];homeRoute={route:"/import",fullWidthName:"Sp\xE4\u0165 na hlavn\xFA stranu",iconPath:"arrow_back",isIconSvg:!1,isFullWidthOnly:!0};dynamicRoutesBase=["/pairs","/submissions","/clusters","/diff"];activeRoute=Ue("/import");isNavigationLocked=Ue(!1);getRoutes(){let t=this.rawRoutes();return t.length>0?t.concat(this.supportRoutes):[]}rawRoutes(){let t=this.router.url.split("?")[0].split("#")[0],e=this.getBaseUrl(t);return this.routesMap.get(e)??[]}getActive(){return this.activeRoute}updateActive(){let t=this.router.url;this.activeRoute.set(t)}getHome(){return this.homeRoute}toggleNavigationLock(t){this.isNavigationLocked.set(t)}getNavigationLock(){return this.isNavigationLocked}getBaseUrl(t){for(let e of this.dynamicRoutesBase)if(t.startsWith(e))return e;return t}static \u0275fac=function(e){return new(e||n)(ct(xi))};static \u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})};var Sl=class n{propertyMap={};putProperty(t,e,i=""){this.propertyMap[`${i}${t}`]=e}popProperty(t,e=""){let i=this.propertyMap[`${e}${t}`];return i&&delete this.propertyMap[`${e}${t}`],i}clear(){this.propertyMap={}}static \u0275fac=function(e){return new(e||n)};static \u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})};var CS=class n extends xS{constructor(e,i,o,r,s){super(o,r,s);this.navigationService=e;this.routeContextService=i;this.analysisContext=o;this.fileUtils=r;this.router=s}supportedExtensions=new Set(["zip"]);subtitle="Povolen\xFD form\xE1t je ZIP";ngOnInit(){this.analysisContext.clearContext(),this.routeContextService.clear()}onFileUploaded(e){super.onFileUploaded(e,"/analysis","/import",()=>{this.navigationService.toggleNavigationLock(!0),this.analysisContext.setAnalysisImported(!0)})}static \u0275fac=function(i){return new(i||n)(ie(Xs),ie(Sl),ie(Wt),ie(wl),ie(xi))};static \u0275cmp=Q({type:n,selectors:[["app-import-analysis-page"]],features:[dt],decls:3,vars:2,consts:[["title","Import anal\xFDzy","subtitle","V pr\xEDpade, \u017Ee m\xE1te anal\xFDzu ulo\u017Een\xFA na disku, m\xF4\u017Eeme v\xE1m ju zobrazi\u0165."],[3,"fileUploaded","supportedExtensions","subtitle"]],template:function(i,o){i&1&&(x(0,"app-content-container")(1,"app-surface",0)(2,"app-file-upload-dnd",1),le("fileUploaded",function(s){return o.onFileUploaded(s)}),w()()()),i&2&&(I(2),z("supportedExtensions",o.supportedExtensions)("subtitle",o.subtitle))},dependencies:[UC,An,Rn],encapsulation:2})};function Ype(n,t){n&1&&X(0,"div",2)}var Xpe=new ue("MAT_PROGRESS_BAR_DEFAULT_OPTIONS");var Vd=(()=>{class n{_elementRef=y(He);_ngZone=y(et);_changeDetectorRef=y(Yt);_renderer=y(on);_cleanupTransitionEnd;_animationMode=y(Wi,{optional:!0});constructor(){let e=y(Xpe,{optional:!0});this._isNoopAnimation=this._animationMode==="NoopAnimations",e&&(e.color&&(this.color=this._defaultColor=e.color),this.mode=e.mode||this.mode)}_isNoopAnimation=!1;get color(){return this._color||this._defaultColor}set color(e){this._color=e}_color;_defaultColor="primary";get value(){return this._value}set value(e){this._value=M6(e||0),this._changeDetectorRef.markForCheck()}_value=0;get bufferValue(){return this._bufferValue||0}set bufferValue(e){this._bufferValue=M6(e||0),this._changeDetectorRef.markForCheck()}_bufferValue=0;animationEnd=new Le;get mode(){return this._mode}set mode(e){this._mode=e,this._changeDetectorRef.markForCheck()}_mode="determinate";ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._cleanupTransitionEnd=this._renderer.listen(this._elementRef.nativeElement,"transitionend",this._transitionendHandler)})}ngOnDestroy(){this._cleanupTransitionEnd?.()}_getPrimaryBarTransform(){return`scaleX(${this._isIndeterminate()?1:this.value/100})`}_getBufferBarFlexBasis(){return`${this.mode==="buffer"?this.bufferValue:100}%`}_isIndeterminate(){return this.mode==="indeterminate"||this.mode==="query"}_transitionendHandler=e=>{this.animationEnd.observers.length===0||!e.target||!e.target.classList.contains("mdc-linear-progress__primary-bar")||(this.mode==="determinate"||this.mode==="buffer")&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))};static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Q({type:n,selectors:[["mat-progress-bar"]],hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-mdc-progress-bar","mdc-linear-progress"],hostVars:10,hostBindings:function(i,o){i&2&&(Re("aria-valuenow",o._isIndeterminate()?null:o.value)("mode",o.mode),Lo("mat-"+o.color),ke("_mat-animation-noopable",o._isNoopAnimation)("mdc-linear-progress--animation-ready",!o._isNoopAnimation)("mdc-linear-progress--indeterminate",o._isIndeterminate()))},inputs:{color:"color",value:[2,"value","value",Yi],bufferValue:[2,"bufferValue","bufferValue",Yi],mode:"mode"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],features:[Ut],decls:7,vars:5,consts:[["aria-hidden","true",1,"mdc-linear-progress__buffer"],[1,"mdc-linear-progress__buffer-bar"],[1,"mdc-linear-progress__buffer-dots"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__primary-bar"],[1,"mdc-linear-progress__bar-inner"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__secondary-bar"]],template:function(i,o){i&1&&(x(0,"div",0),X(1,"div",1),te(2,Ype,1,0,"div",2),w(),x(3,"div",3),X(4,"span",4),w(),x(5,"div",5),X(6,"span",4),w()),i&2&&(I(),po("flex-basis",o._getBufferBarFlexBasis()),I(),Ye(o.mode==="buffer"?2:-1),I(),po("transform",o._getPrimaryBarTransform()))},styles:[`.mat-mdc-progress-bar{display:block;text-align:start}.mat-mdc-progress-bar[mode=query]{transform:scaleX(-1)}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-dots,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__secondary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__bar-inner.mdc-linear-progress__bar-inner{animation:none}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-bar{transition:transform 1ms}.mdc-linear-progress{position:relative;width:100%;transform:translateZ(0);outline:1px solid rgba(0,0,0,0);overflow-x:hidden;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);height:max(var(--mdc-linear-progress-track-height, 4px),var(--mdc-linear-progress-active-indicator-height, 4px))}@media(forced-colors: active){.mdc-linear-progress{outline-color:CanvasText}}.mdc-linear-progress__bar{position:absolute;top:0;bottom:0;margin:auto 0;width:100%;animation:none;transform-origin:top left;transition:transform 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);height:var(--mdc-linear-progress-active-indicator-height, 4px)}.mdc-linear-progress--indeterminate .mdc-linear-progress__bar{transition:none}[dir=rtl] .mdc-linear-progress__bar{right:0;transform-origin:center right}.mdc-linear-progress__bar-inner{display:inline-block;position:absolute;width:100%;animation:none;border-top-style:solid;border-color:var(--mdc-linear-progress-active-indicator-color, var(--mat-sys-primary));border-top-width:var(--mdc-linear-progress-active-indicator-height, 4px)}.mdc-linear-progress__buffer{display:flex;position:absolute;top:0;bottom:0;margin:auto 0;width:100%;overflow:hidden;height:var(--mdc-linear-progress-track-height, 4px);border-radius:var(--mdc-linear-progress-track-shape, var(--mat-sys-corner-none))}.mdc-linear-progress__buffer-dots{-webkit-mask-image:url("data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E");background-repeat:repeat-x;flex:auto;transform:rotate(180deg);animation:mdc-linear-progress-buffering 250ms infinite linear;background-color:var(--mdc-linear-progress-track-color, var(--mat-sys-surface-variant))}@media(forced-colors: active){.mdc-linear-progress__buffer-dots{background-color:ButtonBorder}}[dir=rtl] .mdc-linear-progress__buffer-dots{animation:mdc-linear-progress-buffering-reverse 250ms infinite linear;transform:rotate(0)}.mdc-linear-progress__buffer-bar{flex:0 1 100%;transition:flex-basis 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);background-color:var(--mdc-linear-progress-track-color, var(--mat-sys-surface-variant))}.mdc-linear-progress__primary-bar{transform:scaleX(0)}.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{left:-145.166611%}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation:mdc-linear-progress-primary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-primary-indeterminate-scale 2s infinite linear}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation-name:mdc-linear-progress-primary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{right:-145.166611%;left:auto}.mdc-linear-progress__secondary-bar{display:none}.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{left:-54.888891%;display:block}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation:mdc-linear-progress-secondary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-secondary-indeterminate-scale 2s infinite linear}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation-name:mdc-linear-progress-secondary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{right:-54.888891%;left:auto}@keyframes mdc-linear-progress-buffering{from{transform:rotate(180deg) translateX(calc(var(--mdc-linear-progress-track-height, 4px) * -2.5))}}@keyframes mdc-linear-progress-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(83.67142%)}100%{transform:translateX(200.611057%)}}@keyframes mdc-linear-progress-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(84.386165%)}100%{transform:translateX(160.277782%)}}@keyframes mdc-linear-progress-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.205028, 0.057051, 0.57661, 0.453971);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.152313, 0.196432, 0.648374, 1.004315);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.257759, -0.003163, 0.211762, 1.38179);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-primary-indeterminate-translate-reverse{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(-83.67142%)}100%{transform:translateX(-200.611057%)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate-reverse{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(-37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(-84.386165%)}100%{transform:translateX(-160.277782%)}}@keyframes mdc-linear-progress-buffering-reverse{from{transform:translateX(-10px)}}`],encapsulation:2,changeDetection:0})}return n})();function M6(n,t=0,e=100){return Math.max(t,Math.min(e,n))}var FO=class{_box;_destroyed=new Ee;_resizeSubject=new Ee;_resizeObserver;_elementObservables=new Map;constructor(t){this._box=t,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(e=>this._resizeSubject.next(e)))}observe(t){return this._elementObservables.has(t)||this._elementObservables.set(t,new ar(e=>{let i=this._resizeSubject.subscribe(e);return this._resizeObserver?.observe(t,{box:this._box}),()=>{this._resizeObserver?.unobserve(t),i.unsubscribe(),this._elementObservables.delete(t)}}).pipe(ri(e=>e.some(i=>i.target===t)),OT({bufferSize:1,refCount:!0}),vt(this._destroyed))),this._elementObservables.get(t)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}},T6=(()=>{class n{_cleanupErrorListener;_observers=new Map;_ngZone=y(et);constructor(){typeof ResizeObserver<"u"}ngOnDestroy(){for(let[,e]of this._observers)e.destroy();this._observers.clear(),this._cleanupErrorListener?.()}observe(e,i){let o=i?.box||"content-box";return this._observers.has(o)||this._observers.set(o,new FO(o)),this._observers.get(o).observe(e)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Zpe=["notch"],Qpe=["matFormFieldNotchedOutline",""],Jpe=["*"],efe=["textField"],tfe=["iconPrefixContainer"],ife=["textPrefixContainer"],nfe=["iconSuffixContainer"],ofe=["textSuffixContainer"],rfe=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],sfe=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];function afe(n,t){n&1&&X(0,"span",21)}function lfe(n,t){if(n&1&&(x(0,"label",20),Fe(1,1),te(2,afe,1,0,"span",21),w()),n&2){let e=Y(2);z("floating",e._shouldLabelFloat())("monitorResize",e._hasOutline())("id",e._labelId),Re("for",e._control.disableAutomaticLabeling?null:e._control.id),I(2),Ye(!e.hideRequiredMarker&&e._control.required?2:-1)}}function cfe(n,t){if(n&1&&te(0,lfe,3,5,"label",20),n&2){let e=Y();Ye(e._hasFloatingLabel()?0:-1)}}function dfe(n,t){n&1&&X(0,"div",7)}function ufe(n,t){}function hfe(n,t){if(n&1&&te(0,ufe,0,0,"ng-template",13),n&2){Y(2);let e=to(1);z("ngTemplateOutlet",e)}}function mfe(n,t){if(n&1&&(x(0,"div",9),te(1,hfe,1,1,null,13),w()),n&2){let e=Y();z("matFormFieldNotchedOutlineOpen",e._shouldLabelFloat()),I(),Ye(e._forceDisplayInfixLabel()?-1:1)}}function pfe(n,t){n&1&&(x(0,"div",10,2),Fe(2,2),w())}function ffe(n,t){n&1&&(x(0,"div",11,3),Fe(2,3),w())}function gfe(n,t){}function _fe(n,t){if(n&1&&te(0,gfe,0,0,"ng-template",13),n&2){Y();let e=to(1);z("ngTemplateOutlet",e)}}function vfe(n,t){n&1&&(x(0,"div",14,4),Fe(2,4),w())}function bfe(n,t){n&1&&(x(0,"div",15,5),Fe(2,5),w())}function yfe(n,t){n&1&&X(0,"div",16)}function xfe(n,t){if(n&1&&(x(0,"div",18),Fe(1,6),w()),n&2){let e=Y();z("@transitionMessages",e._subscriptAnimationState)}}function wfe(n,t){if(n&1&&(x(0,"mat-hint",22),P(1),w()),n&2){let e=Y(2);z("id",e._hintLabelId),I(),be(e.hintLabel)}}function Cfe(n,t){if(n&1&&(x(0,"div",19),te(1,wfe,2,2,"mat-hint",22),Fe(2,7),X(3,"div",23),Fe(4,8),w()),n&2){let e=Y();z("@transitionMessages",e._subscriptAnimationState),I(),Ye(e.hintLabel?1:-1)}}var Ho=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275dir=ge({type:n,selectors:[["mat-label"]]})}return n})(),Sfe=new ue("MatError");var IS=(()=>{class n{align="start";id=y(Yn).getId("mat-mdc-hint-");static \u0275fac=function(i){return new(i||n)};static \u0275dir=ge({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(i,o){i&2&&(rs("id",o.id),Re("align",null),ke("mat-mdc-form-field-hint-end",o.align==="end"))},inputs:{align:"align",id:"id"}})}return n})(),Ife=new ue("MatPrefix");var Dfe=new ue("MatSuffix");var F6=new ue("FloatingLabelParent"),A6=(()=>{class n{_elementRef=y(He);get floating(){return this._floating}set floating(e){this._floating=e,this.monitorResize&&this._handleResize()}_floating=!1;get monitorResize(){return this._monitorResize}set monitorResize(e){this._monitorResize=e,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}_monitorResize=!1;_resizeObserver=y(T6);_ngZone=y(et);_parent=y(F6);_resizeSubscription=new fn;constructor(){}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return Efe(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static \u0275fac=function(i){return new(i||n)};static \u0275dir=ge({type:n,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(i,o){i&2&&ke("mdc-floating-label--float-above",o.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"}})}return n})();function Efe(n){let t=n;if(t.offsetParent!==null)return t.scrollWidth;let e=t.cloneNode(!0);e.style.setProperty("position","absolute"),e.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(e);let i=e.scrollWidth;return e.remove(),i}var R6="mdc-line-ripple--active",SS="mdc-line-ripple--deactivating",O6=(()=>{class n{_elementRef=y(He);_cleanupTransitionEnd;constructor(){let e=y(et),i=y(on);e.runOutsideAngular(()=>{this._cleanupTransitionEnd=i.listen(this._elementRef.nativeElement,"transitionend",this._handleTransitionEnd)})}activate(){let e=this._elementRef.nativeElement.classList;e.remove(SS),e.add(R6)}deactivate(){this._elementRef.nativeElement.classList.add(SS)}_handleTransitionEnd=e=>{let i=this._elementRef.nativeElement.classList,o=i.contains(SS);e.propertyName==="opacity"&&o&&i.remove(R6,SS)};ngOnDestroy(){this._cleanupTransitionEnd()}static \u0275fac=function(i){return new(i||n)};static \u0275dir=ge({type:n,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]})}return n})(),P6=(()=>{class n{_elementRef=y(He);_ngZone=y(et);open=!1;_notch;constructor(){}ngAfterViewInit(){let e=this._elementRef.nativeElement.querySelector(".mdc-floating-label");e?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),typeof requestAnimationFrame=="function"&&(e.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>e.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(e){!this.open||!e?this._notch.nativeElement.style.width="":this._notch.nativeElement.style.width=`calc(${e}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Q({type:n,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(i,o){if(i&1&&rt(Zpe,5),i&2){let r;me(r=pe())&&(o._notch=r.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(i,o){i&2&&ke("mdc-notched-outline--notched",o.open)},inputs:{open:[0,"matFormFieldNotchedOutlineOpen","open"]},attrs:Qpe,ngContentSelectors:Jpe,decls:5,vars:0,consts:[["notch",""],[1,"mat-mdc-notch-piece","mdc-notched-outline__leading"],[1,"mat-mdc-notch-piece","mdc-notched-outline__notch"],[1,"mat-mdc-notch-piece","mdc-notched-outline__trailing"]],template:function(i,o){i&1&&(wt(),X(0,"div",1),x(1,"div",2,0),Fe(3),w(),X(4,"div",3))},encapsulation:2,changeDetection:0})}return n})(),kfe={transitionMessages:ic("transitionMessages",[Zm("enter",Cr({opacity:1,transform:"translateY(0%)"})),xa("void => enter",[Cr({opacity:0,transform:"translateY(-5px)"}),ya("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},eb=(()=>{class n{value;stateChanges;id;placeholder;ngControl;focused;empty;shouldLabelFloat;required;disabled;errorState;controlType;autofilled;userAriaDescribedBy;disableAutomaticLabeling;static \u0275fac=function(i){return new(i||n)};static \u0275dir=ge({type:n})}return n})();var Fh=new ue("MatFormField"),Mfe=new ue("MAT_FORM_FIELD_DEFAULT_OPTIONS"),L6="fill",Tfe="auto",N6="fixed",Afe="translateY(-50%)",Vo=(()=>{class n{_elementRef=y(He);_changeDetectorRef=y(Yt);_dir=y(mn);_platform=y(Zt);_idGenerator=y(Yn);_defaults=y(Mfe,{optional:!0});_animationMode=y(Wi,{optional:!0});_textField;_iconPrefixContainer;_textPrefixContainer;_iconSuffixContainer;_textSuffixContainer;_floatingLabel;_notchedOutline;_lineRipple;_formFieldControl;_prefixChildren;_suffixChildren;_errorChildren;_hintChildren;_labelChild=kW(Ho);get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=yn(e)}_hideRequiredMarker=!1;color="primary";get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||Tfe}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e,this._changeDetectorRef.markForCheck())}_floatLabel;get appearance(){return this._appearance}set appearance(e){let i=this._appearance,o=e||this._defaults?.appearance||L6;this._appearance=o,this._appearance==="outline"&&this._appearance!==i&&(this._needsOutlineLabelOffsetUpdate=!0)}_appearance=L6;get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||N6}set subscriptSizing(e){this._subscriptSizing=e||this._defaults?.subscriptSizing||N6}_subscriptSizing=null;get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}_hintLabel="";_hasIconPrefix=!1;_hasTextPrefix=!1;_hasIconSuffix=!1;_hasTextSuffix=!1;_labelId=this._idGenerator.getId("mat-mdc-form-field-label-");_hintLabelId=this._idGenerator.getId("mat-mdc-hint-");_subscriptAnimationState="";get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(e){this._explicitFormFieldControl=e}_destroyed=new Ee;_isFocused=null;_explicitFormFieldControl;_needsOutlineLabelOffsetUpdate=!1;_previousControl=null;_stateChanges;_valueChanges;_describedByChanges;_injector=y(Si);constructor(){let e=this._defaults;e&&(e.appearance&&(this.appearance=e.appearance),this._hideRequiredMarker=!!e?.hideRequiredMarker,e.color&&(this.color=e.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl(),this._control!==this._previousControl&&(this._initializeControl(this._previousControl),this._previousControl=this._control)}ngOnDestroy(){this._stateChanges?.unsubscribe(),this._valueChanges?.unsubscribe(),this._describedByChanges?.unsubscribe(),this._destroyed.next(),this._destroyed.complete()}getLabelId=Ri(()=>this._hasFloatingLabel()?this._labelId:null);getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(e){let i=this._control,o="mat-mdc-form-field-type-";e&&this._elementRef.nativeElement.classList.remove(o+e.controlType),i.controlType&&this._elementRef.nativeElement.classList.add(o+i.controlType),this._stateChanges?.unsubscribe(),this._stateChanges=i.stateChanges.subscribe(()=>{this._updateFocusState(),this._changeDetectorRef.markForCheck()}),this._describedByChanges?.unsubscribe(),this._describedByChanges=i.stateChanges.pipe(Qi([void 0,void 0]),nt(()=>[i.errorState,i.userAriaDescribedBy]),RT(),ri(([[r,s],[a,l]])=>r!==a||s!==l)).subscribe(()=>this._syncDescribedByIds()),this._valueChanges?.unsubscribe(),i.ngControl&&i.ngControl.valueChanges&&(this._valueChanges=i.ngControl.valueChanges.pipe(vt(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()))}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(e=>!e._isText),this._hasTextPrefix=!!this._prefixChildren.find(e=>e._isText),this._hasIconSuffix=!!this._suffixChildren.find(e=>!e._isText),this._hasTextSuffix=!!this._suffixChildren.find(e=>e._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),tn(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){this._control}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||this._isFocused===null)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0),mx(()=>{this._needsOutlineLabelOffsetUpdate&&(this._needsOutlineLabelOffsetUpdate=!1,this._updateOutlineLabelOffset())},{injector:this._injector}),this._dir.change.pipe(vt(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0)}_shouldAlwaysFloat(){return this.floatLabel==="always"}_hasOutline(){return this.appearance==="outline"}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel=Ri(()=>!!this._labelChild());_shouldLabelFloat(){return this._hasFloatingLabel()?this._control.shouldLabelFloat||this._shouldAlwaysFloat():!1}_shouldForward(e){let i=this._control?this._control.ngControl:null;return i&&i[e]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){!this._hasOutline()||!this._floatingLabel||!this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(0):this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth())}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){this._hintChildren}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&typeof this._control.userAriaDescribedBy=="string"&&e.push(...this._control.userAriaDescribedBy.split(" ")),this._getDisplayedMessages()==="hint"){let i=this._hintChildren?this._hintChildren.find(r=>r.align==="start"):null,o=this._hintChildren?this._hintChildren.find(r=>r.align==="end"):null;i?e.push(i.id):this._hintLabel&&e.push(this._hintLabelId),o&&e.push(o.id)}else this._errorChildren&&e.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(e)}}_updateOutlineLabelOffset(){if(!this._hasOutline()||!this._floatingLabel)return;let e=this._floatingLabel.element;if(!(this._iconPrefixContainer||this._textPrefixContainer)){e.style.transform="";return}if(!this._isAttachedToDom()){this._needsOutlineLabelOffsetUpdate=!0;return}let i=this._iconPrefixContainer?.nativeElement,o=this._textPrefixContainer?.nativeElement,r=this._iconSuffixContainer?.nativeElement,s=this._textSuffixContainer?.nativeElement,a=i?.getBoundingClientRect().width??0,l=o?.getBoundingClientRect().width??0,c=r?.getBoundingClientRect().width??0,d=s?.getBoundingClientRect().width??0,u=this._dir.value==="rtl"?"-1":"1",h=`${a+l}px`,f=`calc(${u} * (${h} + var(--mat-mdc-form-field-label-offset-x, 0px)))`;e.style.transform=`var(
        --mat-mdc-form-field-label-transform,
        ${Afe} translateX(${f})
    )`;let p=a+l+c+d;this._elementRef.nativeElement.style.setProperty("--mat-form-field-notch-max-width",`calc(100% - ${p}px)`)}_isAttachedToDom(){let e=this._elementRef.nativeElement;if(e.getRootNode){let i=e.getRootNode();return i&&i!==e}return document.documentElement.contains(e)}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Q({type:n,selectors:[["mat-form-field"]],contentQueries:function(i,o,r){if(i&1&&(PW(r,o._labelChild,Ho,5),bt(r,eb,5),bt(r,Ife,5),bt(r,Dfe,5),bt(r,Sfe,5),bt(r,IS,5)),i&2){gx();let s;me(s=pe())&&(o._formFieldControl=s.first),me(s=pe())&&(o._prefixChildren=s),me(s=pe())&&(o._suffixChildren=s),me(s=pe())&&(o._errorChildren=s),me(s=pe())&&(o._hintChildren=s)}},viewQuery:function(i,o){if(i&1&&(rt(efe,5),rt(tfe,5),rt(ife,5),rt(nfe,5),rt(ofe,5),rt(A6,5),rt(P6,5),rt(O6,5)),i&2){let r;me(r=pe())&&(o._textField=r.first),me(r=pe())&&(o._iconPrefixContainer=r.first),me(r=pe())&&(o._textPrefixContainer=r.first),me(r=pe())&&(o._iconSuffixContainer=r.first),me(r=pe())&&(o._textSuffixContainer=r.first),me(r=pe())&&(o._floatingLabel=r.first),me(r=pe())&&(o._notchedOutline=r.first),me(r=pe())&&(o._lineRipple=r.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(i,o){i&2&&ke("mat-mdc-form-field-label-always-float",o._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",o._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",o._hasIconSuffix)("mat-form-field-invalid",o._control.errorState)("mat-form-field-disabled",o._control.disabled)("mat-form-field-autofilled",o._control.autofilled)("mat-form-field-no-animations",o._animationMode==="NoopAnimations")("mat-form-field-appearance-fill",o.appearance=="fill")("mat-form-field-appearance-outline",o.appearance=="outline")("mat-form-field-hide-placeholder",o._hasFloatingLabel()&&!o._shouldLabelFloat())("mat-focused",o._control.focused)("mat-primary",o.color!=="accent"&&o.color!=="warn")("mat-accent",o.color==="accent")("mat-warn",o.color==="warn")("ng-untouched",o._shouldForward("untouched"))("ng-touched",o._shouldForward("touched"))("ng-pristine",o._shouldForward("pristine"))("ng-dirty",o._shouldForward("dirty"))("ng-valid",o._shouldForward("valid"))("ng-invalid",o._shouldForward("invalid"))("ng-pending",o._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[At([{provide:Fh,useExisting:n},{provide:F6,useExisting:n}])],ngContentSelectors:sfe,decls:18,vars:21,consts:[["labelTemplate",""],["textField",""],["iconPrefixContainer",""],["textPrefixContainer",""],["textSuffixContainer",""],["iconSuffixContainer",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],[1,"mat-mdc-form-field-focus-overlay"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[1,"mat-mdc-form-field-icon-prefix"],[1,"mat-mdc-form-field-text-prefix"],[1,"mat-mdc-form-field-infix"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align"],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[3,"id"],[1,"mat-mdc-form-field-hint-spacer"]],template:function(i,o){if(i&1){let r=Nt();wt(rfe),te(0,cfe,1,1,"ng-template",null,0,Qu),x(2,"div",6,1),le("click",function(a){return Ze(r),Qe(o._control.onContainerClick(a))}),te(4,dfe,1,0,"div",7),x(5,"div",8),te(6,mfe,2,2,"div",9)(7,pfe,3,0,"div",10)(8,ffe,3,0,"div",11),x(9,"div",12),te(10,_fe,1,1,null,13),Fe(11),w(),te(12,vfe,3,0,"div",14)(13,bfe,3,0,"div",15),w(),te(14,yfe,1,0,"div",16),w(),x(15,"div",17),te(16,xfe,2,1,"div",18)(17,Cfe,5,2,"div",19),w()}if(i&2){let r;I(2),ke("mdc-text-field--filled",!o._hasOutline())("mdc-text-field--outlined",o._hasOutline())("mdc-text-field--no-label",!o._hasFloatingLabel())("mdc-text-field--disabled",o._control.disabled)("mdc-text-field--invalid",o._control.errorState),I(2),Ye(!o._hasOutline()&&!o._control.disabled?4:-1),I(2),Ye(o._hasOutline()?6:-1),I(),Ye(o._hasIconPrefix?7:-1),I(),Ye(o._hasTextPrefix?8:-1),I(2),Ye(!o._hasOutline()||o._forceDisplayInfixLabel()?10:-1),I(2),Ye(o._hasTextSuffix?12:-1),I(),Ye(o._hasIconSuffix?13:-1),I(),Ye(o._hasOutline()?-1:14),I(),ke("mat-mdc-form-field-subscript-dynamic-size",o.subscriptSizing==="dynamic"),I(),Ye((r=o._getDisplayedMessages())==="error"?16:r==="hint"?17:-1)}},dependencies:[A6,P6,Xm,O6,IS],styles:['.mdc-text-field{display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color;border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field__input{width:100%;min-width:0;border:none;border-radius:0;background:none;padding:0;-moz-appearance:none;-webkit-appearance:none;height:28px}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}.mdc-text-field__input::placeholder{opacity:0}.mdc-text-field__input::-moz-placeholder{opacity:0}.mdc-text-field__input::-webkit-input-placeholder{opacity:0}.mdc-text-field__input:-ms-input-placeholder{opacity:0}.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive::placeholder{opacity:0}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive::-moz-placeholder{opacity:0}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive::-webkit-input-placeholder{opacity:0}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive:-ms-input-placeholder{opacity:0}.mdc-text-field--outlined .mdc-text-field__input,.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color, var(--mat-sys-on-surface));caret-color:var(--mdc-filled-text-field-caret-color, var(--mat-sys-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color, var(--mat-sys-on-surface));caret-color:var(--mdc-outlined-text-field-caret-color, var(--mat-sys-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}@media(forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}}.mdc-text-field--filled{height:56px;border-bottom-right-radius:0;border-bottom-left-radius:0;border-top-left-radius:var(--mdc-filled-text-field-container-shape, var(--mat-sys-corner-extra-small));border-top-right-radius:var(--mdc-filled-text-field-container-shape, var(--mat-sys-corner-extra-small))}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color, var(--mat-sys-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 4%, transparent))}.mdc-text-field--outlined{height:56px;overflow:visible;padding-right:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small)));padding-left:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small)) + 4px)}[dir=rtl] .mdc-text-field--outlined{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small)) + 4px);padding-left:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small)))}.mdc-floating-label{position:absolute;left:0;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label{right:0;left:auto;transform-origin:right top;text-align:right}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:auto}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label{left:auto;right:4px}.mdc-text-field--filled .mdc-floating-label{left:16px;right:auto}[dir=rtl] .mdc-text-field--filled .mdc-floating-label{left:auto;right:16px}.mdc-text-field--disabled .mdc-floating-label{cursor:default}@media(forced-colors: active){.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-filled-text-field-label-text-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-focus-label-text-color, var(--mat-sys-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-filled-text-field-hover-label-text-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-filled-text-field-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-filled-text-field-error-label-text-color, var(--mat-sys-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-error-focus-label-text-color, var(--mat-sys-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-filled-text-field-error-hover-label-text-color, var(--mat-sys-on-error-container))}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font, var(--mat-sys-body-large-font));font-size:var(--mdc-filled-text-field-label-text-size, var(--mat-sys-body-large-size));font-weight:var(--mdc-filled-text-field-label-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mdc-filled-text-field-label-text-tracking, var(--mat-sys-body-large-tracking))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-outlined-text-field-label-text-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-focus-label-text-color, var(--mat-sys-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-hover-label-text-color, var(--mat-sys-on-surface))}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-outlined-text-field-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-outlined-text-field-error-label-text-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-error-focus-label-text-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-error-hover-label-text-color, var(--mat-sys-on-error-container))}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font, var(--mat-sys-body-large-font));font-size:var(--mdc-outlined-text-field-label-text-size, var(--mat-sys-body-large-size));font-weight:var(--mdc-outlined-text-field-label-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mdc-outlined-text-field-label-text-tracking, var(--mat-sys-body-large-tracking))}.mdc-floating-label--float-above{cursor:auto;transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1);font-size:.75rem}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline{text-align:right}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mat-mdc-notch-piece{box-sizing:border-box;height:100%;pointer-events:none;border-top:1px solid;border-bottom:1px solid}.mdc-text-field--focused .mat-mdc-notch-piece{border-width:2px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-outline-color, var(--mat-sys-outline));border-width:var(--mdc-outlined-text-field-outline-width, 1px)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-hover-outline-color, var(--mat-sys-on-surface))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-focus-outline-color, var(--mat-sys-primary))}.mdc-text-field--outlined.mdc-text-field--disabled .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-disabled-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-outline-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-notched-outline .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-hover-outline-color, var(--mat-sys-on-error-container))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-focus-outline-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mat-mdc-notch-piece{border-width:var(--mdc-outlined-text-field-focus-outline-width, 2px)}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small));border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small))}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small)))}[dir=rtl] .mdc-notched-outline__leading{border-left:none;border-right:1px solid;border-bottom-left-radius:0;border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small));border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small))}.mdc-notched-outline__trailing{flex-grow:1;border-left:none;border-right:1px solid;border-top-left-radius:0;border-bottom-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small));border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small))}[dir=rtl] .mdc-notched-outline__trailing{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small));border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small))}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:min(var(--mat-form-field-notch-max-width, 100%),100% - max(12px,var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small)))*2)}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none;--mat-form-field-notch-max-width: 100%}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1;border-bottom-width:var(--mdc-filled-text-field-active-indicator-height, 1px)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color, var(--mat-sys-on-surface))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color, var(--mat-sys-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color, var(--mat-sys-on-error-container))}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height, 2px)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color, var(--mat-sys-primary))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color, var(--mat-sys-error))}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-text-field--disabled{pointer-events:none}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all;will-change:auto}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto;will-change:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:1px solid rgba(0,0,0,0)}[dir=rtl] .mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:none;border-right:1px solid rgba(0,0,0,0)}.mat-mdc-form-field-infix{min-height:var(--mat-form-field-container-height, 56px);padding-top:var(--mat-form-field-filled-with-label-container-padding-top, 24px);padding-bottom:var(--mat-form-field-filled-with-label-container-padding-bottom, 8px)}.mdc-text-field--outlined .mat-mdc-form-field-infix,.mdc-text-field--no-label .mat-mdc-form-field-infix{padding-top:var(--mat-form-field-container-vertical-padding, 16px);padding-bottom:var(--mat-form-field-container-vertical-padding, 16px)}.mat-mdc-text-field-wrapper .mat-mdc-form-field-flex .mat-mdc-floating-label{top:calc(var(--mat-form-field-container-height, 56px)/2)}.mdc-text-field--filled .mat-mdc-floating-label{display:var(--mat-form-field-filled-label-display, block)}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{--mat-mdc-form-field-label-transform: translateY(calc(calc(6.75px + var(--mat-form-field-container-height, 56px) / 2) * -1)) scale(var(--mat-mdc-form-field-floating-label-scale, 0.75));transform:var(--mat-mdc-form-field-label-transform)}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block;color:var(--mat-form-field-error-text-color, var(--mat-sys-error))}.mat-mdc-form-field-subscript-wrapper,.mat-mdc-form-field-bottom-align::before{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-subscript-text-font, var(--mat-sys-body-small-font));line-height:var(--mat-form-field-subscript-text-line-height, var(--mat-sys-body-small-line-height));font-size:var(--mat-form-field-subscript-text-size, var(--mat-sys-body-small-size));letter-spacing:var(--mat-form-field-subscript-text-tracking, var(--mat-sys-body-small-tracking));font-weight:var(--mat-form-field-subscript-text-weight, var(--mat-sys-body-small-weight))}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none;background-color:var(--mat-form-field-state-layer-color, var(--mat-sys-on-surface))}.mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-form-field.mat-focused .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-focus-state-layer-opacity, 0)}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option{color:var(--mat-form-field-select-option-text-color, var(--mat-sys-neutral10))}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option:disabled{color:var(--mat-form-field-select-disabled-option-text-color, color-mix(in srgb, var(--mat-sys-neutral10) 38%, transparent))}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none;color:var(--mat-form-field-enabled-select-arrow-color, var(--mat-sys-on-surface-variant))}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select.mat-focused .mat-mdc-form-field-infix::after{color:var(--mat-form-field-focus-select-arrow-color, var(--mat-sys-primary))}.mat-mdc-form-field-type-mat-native-select.mat-form-field-disabled .mat-mdc-form-field-infix::after{color:var(--mat-form-field-disabled-select-arrow-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}@media(forced-colors: active){.mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}}@media(forced-colors: active){.mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}}@media(forced-colors: active){.mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}}@media(forced-colors: active){.mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font, var(--mat-sys-body-large-font));line-height:var(--mat-form-field-container-text-line-height, var(--mat-sys-body-large-line-height));font-size:var(--mat-form-field-container-text-size, var(--mat-sys-body-large-size));letter-spacing:var(--mat-form-field-container-text-tracking, var(--mat-sys-body-large-tracking));font-weight:var(--mat-form-field-container-text-weight, var(--mat-sys-body-large-weight))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size)*var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%;z-index:0}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:0 12px;box-sizing:content-box}.mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-leading-icon-color, var(--mat-sys-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-disabled-leading-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-trailing-icon-color, var(--mat-sys-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-disabled-trailing-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-invalid .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-trailing-icon-color, var(--mat-sys-error))}.mat-form-field-invalid:not(.mat-focused):not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-hover-trailing-icon-color, var(--mat-sys-on-error-container))}.mat-form-field-invalid.mat-focused .mat-mdc-text-field-wrapper .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-focus-trailing-icon-color, var(--mat-sys-error))}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field-infix:has(textarea[cols]){width:auto}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::-moz-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::-webkit-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[kfe.transitionMessages]},changeDetection:0})}return n})();var Rfe=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Q({type:n,selectors:[["ng-component"]],hostAttrs:["cdk-text-field-style-loader",""],decls:0,vars:0,template:function(i,o){},styles:["textarea.cdk-textarea-autosize{resize:none}textarea.cdk-textarea-autosize-measuring{padding:2px 0 !important;box-sizing:content-box !important;height:auto !important;overflow:hidden !important}textarea.cdk-textarea-autosize-measuring-firefox{padding:2px 0 !important;box-sizing:content-box !important;height:0 !important}@keyframes cdk-text-field-autofill-start{/*!*/}@keyframes cdk-text-field-autofill-end{/*!*/}.cdk-text-field-autofill-monitored:-webkit-autofill{animation:cdk-text-field-autofill-start 0s 1ms}.cdk-text-field-autofill-monitored:not(:-webkit-autofill){animation:cdk-text-field-autofill-end 0s 1ms}"],encapsulation:2,changeDetection:0})}return n})(),z6=xl({passive:!0}),B6=(()=>{class n{_platform=y(Zt);_ngZone=y(et);_styleLoader=y(kn);_monitoredElements=new Map;constructor(){}monitor(e){if(!this._platform.isBrowser)return da;this._styleLoader.load(Rfe);let i=Gr(e),o=this._monitoredElements.get(i);if(o)return o.subject;let r=new Ee,s="cdk-text-field-autofilled",a=l=>{l.animationName==="cdk-text-field-autofill-start"&&!i.classList.contains(s)?(i.classList.add(s),this._ngZone.run(()=>r.next({target:l.target,isAutofilled:!0}))):l.animationName==="cdk-text-field-autofill-end"&&i.classList.contains(s)&&(i.classList.remove(s),this._ngZone.run(()=>r.next({target:l.target,isAutofilled:!1})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",a,z6),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:r,unlisten:()=>{i.removeEventListener("animationstart",a,z6)}}),r}stopMonitoring(e){let i=Gr(e),o=this._monitoredElements.get(i);o&&(o.unlisten(),o.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((e,i)=>this.stopMonitoring(i))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Ffe=new ue("MAT_INPUT_VALUE_ACCESSOR"),zfe=["button","checkbox","file","hidden","image","radio","range","reset","submit"],Bfe=new ue("MAT_INPUT_CONFIG"),Wd=(()=>{class n{_elementRef=y(He);_platform=y(Zt);ngControl=y(Ys,{optional:!0,self:!0});_autofillMonitor=y(B6);_ngZone=y(et);_formField=y(Fh,{optional:!0});_renderer=y(on);_uid=y(Yn).getId("mat-input-");_previousNativeValue;_inputValueAccessor;_signalBasedValueAccessor;_previousPlaceholder;_errorStateTracker;_config=y(Bfe,{optional:!0});_cleanupIosKeyup;_cleanupWebkitWheel;_formFieldDescribedBy;_isServer;_isNativeSelect;_isTextarea;_isInFormField;focused=!1;stateChanges=new Ee;controlType="mat-input";autofilled=!1;get disabled(){return this._disabled}set disabled(e){this._disabled=yn(e),this.focused&&(this.focused=!1,this.stateChanges.next())}_disabled=!1;get id(){return this._id}set id(e){this._id=e||this._uid}_id;placeholder;name;get required(){return this._required??this.ngControl?.control?.hasValidator(Oh.required)??!1}set required(e){this._required=yn(e)}_required;get type(){return this._type}set type(e){let i=this._type;this._type=e||"text",this._validateType(),!this._isTextarea&&KR().has(this._type)&&(this._elementRef.nativeElement.type=this._type),this._type!==i&&this._ensureWheelDefaultBehavior()}_type="text";get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(e){this._errorStateTracker.matcher=e}userAriaDescribedBy;get value(){return this._signalBasedValueAccessor?this._signalBasedValueAccessor.value():this._inputValueAccessor.value}set value(e){e!==this.value&&(this._signalBasedValueAccessor?this._signalBasedValueAccessor.value.set(e):this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=yn(e)}_readonly=!1;disabledInteractive;get errorState(){return this._errorStateTracker.errorState}set errorState(e){this._errorStateTracker.errorState=e}_neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(e=>KR().has(e));constructor(){let e=y(lf,{optional:!0}),i=y(cf,{optional:!0}),o=y(Pv),r=y(Ffe,{optional:!0,self:!0}),s=this._elementRef.nativeElement,a=s.nodeName.toLowerCase();r?Yu(r.value)?this._signalBasedValueAccessor=r:this._inputValueAccessor=r:this._inputValueAccessor=s,this._previousNativeValue=this.value,this.id=this.id,this._platform.IOS&&this._ngZone.runOutsideAngular(()=>{this._cleanupIosKeyup=this._renderer.listen(s,"keyup",this._iOSKeyupListener)}),this._errorStateTracker=new Th(o,this.ngControl,i,e,this.stateChanges),this._isServer=!this._platform.isBrowser,this._isNativeSelect=a==="select",this._isTextarea=a==="textarea",this._isInFormField=!!this._formField,this.disabledInteractive=this._config?.disabledInteractive||!1,this._isNativeSelect&&(this.controlType=s.multiple?"mat-native-select-multiple":"mat-native-select"),this._signalBasedValueAccessor&&ln(()=>{this._signalBasedValueAccessor.value(),this.stateChanges.next()})}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._cleanupIosKeyup?.(),this._cleanupWebkitWheel?.()}ngDoCheck(){this.ngControl&&(this.updateErrorState(),this.ngControl.disabled!==null&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}updateErrorState(){this._errorStateTracker.updateErrorState()}_focusChanged(e){if(e!==this.focused){if(!this._isNativeSelect&&e&&this.disabled&&this.disabledInteractive){let i=this._elementRef.nativeElement;i.type==="number"?(i.type="text",i.setSelectionRange(0,0),i.type="number"):i.setSelectionRange(0,0)}this.focused=e,this.stateChanges.next()}}_onInput(){}_dirtyCheckNativeValue(){let e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_dirtyCheckPlaceholder(){let e=this._getPlaceholder();if(e!==this._previousPlaceholder){let i=this._elementRef.nativeElement;this._previousPlaceholder=e,e?i.setAttribute("placeholder",e):i.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){zfe.indexOf(this._type)>-1}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!this._isNeverEmpty()&&!this._elementRef.nativeElement.value&&!this._isBadInput()&&!this.autofilled}get shouldLabelFloat(){if(this._isNativeSelect){let e=this._elementRef.nativeElement,i=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&i&&i.label)}else return this.focused&&!this.disabled||!this.empty}setDescribedByIds(e){let i=this._elementRef.nativeElement,o=i.getAttribute("aria-describedby"),r;if(o){let s=this._formFieldDescribedBy||e;r=e.concat(o.split(" ").filter(a=>a&&!s.includes(a)))}else r=e;this._formFieldDescribedBy=e,r.length?i.setAttribute("aria-describedby",r.join(" ")):i.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){let e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}_iOSKeyupListener=e=>{let i=e.target;!i.value&&i.selectionStart===0&&i.selectionEnd===0&&(i.setSelectionRange(1,1),i.setSelectionRange(0,0))};_webkitBlinkWheelListener=()=>{};_ensureWheelDefaultBehavior(){this._cleanupWebkitWheel?.(),this._type==="number"&&(this._platform.BLINK||this._platform.WEBKIT)&&(this._cleanupWebkitWheel=this._renderer.listen(this._elementRef.nativeElement,"wheel",this._webkitBlinkWheelListener))}_getReadonlyAttribute(){return this._isNativeSelect?null:this.readonly||this.disabled&&this.disabledInteractive?"true":null}static \u0275fac=function(i){return new(i||n)};static \u0275dir=ge({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:21,hostBindings:function(i,o){i&1&&le("focus",function(){return o._focusChanged(!0)})("blur",function(){return o._focusChanged(!1)})("input",function(){return o._onInput()}),i&2&&(rs("id",o.id)("disabled",o.disabled&&!o.disabledInteractive)("required",o.required),Re("name",o.name||null)("readonly",o._getReadonlyAttribute())("aria-disabled",o.disabled&&o.disabledInteractive?"true":null)("aria-invalid",o.empty&&o.required?null:o.errorState)("aria-required",o.required)("id",o.id),ke("mat-input-server",o._isServer)("mat-mdc-form-field-textarea-control",o._isInFormField&&o._isTextarea)("mat-mdc-form-field-input-control",o._isInFormField)("mat-mdc-input-disabled-interactive",o.disabledInteractive)("mdc-text-field__input",o._isInFormField)("mat-mdc-native-select-inline",o._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly",disabledInteractive:[2,"disabledInteractive","disabledInteractive",Ke]},exportAs:["matInput"],features:[At([{provide:eb,useExisting:n}]),Ut,Di]})}return n})();var Vfe=[[["caption"]],[["colgroup"],["col"]],"*"],Wfe=["caption","colgroup, col","*"];function jfe(n,t){n&1&&Fe(0,2)}function Ufe(n,t){n&1&&(x(0,"thead",0),an(1,1),w(),x(2,"tbody",0),an(3,2)(4,3),w(),x(5,"tfoot",0),an(6,4),w())}function qfe(n,t){n&1&&an(0,1)(1,2)(2,3)(3,4)}var Fa=new ue("CDK_TABLE");var AS=(()=>{class n{template=y(qo);constructor(){}static \u0275fac=function(i){return new(i||n)};static \u0275dir=ge({type:n,selectors:[["","cdkCellDef",""]]})}return n})(),RS=(()=>{class n{template=y(qo);constructor(){}static \u0275fac=function(i){return new(i||n)};static \u0275dir=ge({type:n,selectors:[["","cdkHeaderCellDef",""]]})}return n})(),W6=(()=>{class n{template=y(qo);constructor(){}static \u0275fac=function(i){return new(i||n)};static \u0275dir=ge({type:n,selectors:[["","cdkFooterCellDef",""]]})}return n})(),df=(()=>{class n{_table=y(Fa,{optional:!0});_hasStickyChanged=!1;get name(){return this._name}set name(e){this._setNameInput(e)}_name;get sticky(){return this._sticky}set sticky(e){e!==this._sticky&&(this._sticky=e,this._hasStickyChanged=!0)}_sticky=!1;get stickyEnd(){return this._stickyEnd}set stickyEnd(e){e!==this._stickyEnd&&(this._stickyEnd=e,this._hasStickyChanged=!0)}_stickyEnd=!1;cell;headerCell;footerCell;cssClassFriendlyName;_columnCssClassName;constructor(){}hasStickyChanged(){let e=this._hasStickyChanged;return this.resetStickyChanged(),e}resetStickyChanged(){this._hasStickyChanged=!1}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(e){e&&(this._name=e,this.cssClassFriendlyName=e.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}static \u0275fac=function(i){return new(i||n)};static \u0275dir=ge({type:n,selectors:[["","cdkColumnDef",""]],contentQueries:function(i,o,r){if(i&1&&(bt(r,AS,5),bt(r,RS,5),bt(r,W6,5)),i&2){let s;me(s=pe())&&(o.cell=s.first),me(s=pe())&&(o.headerCell=s.first),me(s=pe())&&(o.footerCell=s.first)}},inputs:{name:[0,"cdkColumnDef","name"],sticky:[2,"sticky","sticky",Ke],stickyEnd:[2,"stickyEnd","stickyEnd",Ke]},features:[At([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),Ut]})}return n})(),ES=class{constructor(t,e){e.nativeElement.classList.add(...t._columnCssClassName)}},j6=(()=>{class n extends ES{constructor(){super(y(df),y(He))}static \u0275fac=function(i){return new(i||n)};static \u0275dir=ge({type:n,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[dt]})}return n})();var U6=(()=>{class n extends ES{constructor(){let e=y(df),i=y(He);super(e,i);let o=e._table?._getCellRole();o&&i.nativeElement.setAttribute("role",o)}static \u0275fac=function(i){return new(i||n)};static \u0275dir=ge({type:n,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[dt]})}return n})(),kS=class{tasks=[];endTasks=[]},MS=new ue("_COALESCED_STYLE_SCHEDULER"),BO=(()=>{class n{_currentSchedule=null;_ngZone=y(et);constructor(){}schedule(e){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(e)}scheduleEnd(e){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(e)}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new kS,this._ngZone.runOutsideAngular(()=>queueMicrotask(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){let e=this._currentSchedule;this._currentSchedule=new kS;for(let i of e.tasks)i();for(let i of e.endTasks)i()}this._currentSchedule=null})))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=de({token:n,factory:n.\u0275fac})}return n})();var HO=(()=>{class n{template=y(qo);_differs=y(Ju);columns;_columnsDiffer;constructor(){}ngOnChanges(e){if(!this._columnsDiffer){let i=e.columns&&e.columns.currentValue||[];this._columnsDiffer=this._differs.find(i).create(),this._columnsDiffer.diff(i)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(e){return this instanceof tb?e.headerCell.template:this instanceof VO?e.footerCell.template:e.cell.template}static \u0275fac=function(i){return new(i||n)};static \u0275dir=ge({type:n,features:[Di]})}return n})(),tb=(()=>{class n extends HO{_table=y(Fa,{optional:!0});_hasStickyChanged=!1;get sticky(){return this._sticky}set sticky(e){e!==this._sticky&&(this._sticky=e,this._hasStickyChanged=!0)}_sticky=!1;constructor(){super(y(qo),y(Ju))}ngOnChanges(e){super.ngOnChanges(e)}hasStickyChanged(){let e=this._hasStickyChanged;return this.resetStickyChanged(),e}resetStickyChanged(){this._hasStickyChanged=!1}static \u0275fac=function(i){return new(i||n)};static \u0275dir=ge({type:n,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:[0,"cdkHeaderRowDef","columns"],sticky:[2,"cdkHeaderRowDefSticky","sticky",Ke]},features:[Ut,dt,Di]})}return n})(),VO=(()=>{class n extends HO{_table=y(Fa,{optional:!0});_hasStickyChanged=!1;get sticky(){return this._sticky}set sticky(e){e!==this._sticky&&(this._sticky=e,this._hasStickyChanged=!0)}_sticky=!1;constructor(){super(y(qo),y(Ju))}ngOnChanges(e){super.ngOnChanges(e)}hasStickyChanged(){let e=this._hasStickyChanged;return this.resetStickyChanged(),e}resetStickyChanged(){this._hasStickyChanged=!1}static \u0275fac=function(i){return new(i||n)};static \u0275dir=ge({type:n,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:[0,"cdkFooterRowDef","columns"],sticky:[2,"cdkFooterRowDefSticky","sticky",Ke]},features:[Ut,dt,Di]})}return n})(),OS=(()=>{class n extends HO{_table=y(Fa,{optional:!0});when;constructor(){super(y(qo),y(Ju))}static \u0275fac=function(i){return new(i||n)};static \u0275dir=ge({type:n,selectors:[["","cdkRowDef",""]],inputs:{columns:[0,"cdkRowDefColumns","columns"],when:[0,"cdkRowDefWhen","when"]},features:[dt]})}return n})(),zh=(()=>{class n{_viewContainer=y(Go);cells;context;static mostRecentCellOutlet=null;constructor(){n.mostRecentCellOutlet=this}ngOnDestroy(){n.mostRecentCellOutlet===this&&(n.mostRecentCellOutlet=null)}static \u0275fac=function(i){return new(i||n)};static \u0275dir=ge({type:n,selectors:[["","cdkCellOutlet",""]]})}return n})(),WO=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Q({type:n,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(i,o){i&1&&an(0,0)},dependencies:[zh],encapsulation:2})}return n})();var jO=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Q({type:n,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(i,o){i&1&&an(0,0)},dependencies:[zh],encapsulation:2})}return n})(),q6=(()=>{class n{templateRef=y(qo);_contentClassName="cdk-no-data-row";constructor(){}static \u0275fac=function(i){return new(i||n)};static \u0275dir=ge({type:n,selectors:[["ng-template","cdkNoDataRow",""]]})}return n})(),H6=["top","bottom","left","right"],zO=class{_isNativeHtmlTable;_stickCellCss;direction;_coalescedStyleScheduler;_isBrowser;_needsPositionStickyOnElement;_positionListener;_tableInjector;_elemSizeCache=new WeakMap;_resizeObserver=globalThis?.ResizeObserver?new globalThis.ResizeObserver(t=>this._updateCachedSizes(t)):null;_updatedStickyColumnsParamsToReplay=[];_stickyColumnsReplayTimeout=null;_cachedCellWidths=[];_borderCellCss;_destroyed=!1;constructor(t,e,i,o,r=!0,s=!0,a,l){this._isNativeHtmlTable=t,this._stickCellCss=e,this.direction=i,this._coalescedStyleScheduler=o,this._isBrowser=r,this._needsPositionStickyOnElement=s,this._positionListener=a,this._tableInjector=l,this._borderCellCss={top:`${e}-border-elem-top`,bottom:`${e}-border-elem-bottom`,left:`${e}-border-elem-left`,right:`${e}-border-elem-right`}}clearStickyPositioning(t,e){(e.includes("left")||e.includes("right"))&&this._removeFromStickyColumnReplayQueue(t);let i=[];for(let o of t)o.nodeType===o.ELEMENT_NODE&&i.push(o,...Array.from(o.children));this._afterNextRender({write:()=>{for(let o of i)this._removeStickyStyle(o,e)}})}updateStickyColumns(t,e,i,o=!0,r=!0){if(r&&this._updateStickyColumnReplayQueue({rows:[...t],stickyStartStates:[...e],stickyEndStates:[...i]}),!t.length||!this._isBrowser||!(e.some(g=>g)||i.some(g=>g))){this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]}));return}let s=t[0],a=s.children.length,l=this.direction==="rtl",c=l?"right":"left",d=l?"left":"right",u=e.lastIndexOf(!0),h=i.indexOf(!0),m,f,p;this._afterNextRender({earlyRead:()=>{m=this._getCellWidths(s,o),f=this._getStickyStartColumnPositions(m,e),p=this._getStickyEndColumnPositions(m,i)},write:()=>{for(let g of t)for(let v=0;v<a;v++){let b=g.children[v];e[v]&&this._addStickyStyle(b,c,f[v],v===u),i[v]&&this._addStickyStyle(b,d,p[v],v===h)}this._positionListener&&m.some(g=>!!g)&&(this._positionListener.stickyColumnsUpdated({sizes:u===-1?[]:m.slice(0,u+1).map((g,v)=>e[v]?g:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:h===-1?[]:m.slice(h).map((g,v)=>i[v+h]?g:null).reverse()}))}})}stickRows(t,e,i){if(!this._isBrowser)return;let o=i==="bottom"?t.slice().reverse():t,r=i==="bottom"?e.slice().reverse():e,s=[],a=[],l=[];this._afterNextRender({earlyRead:()=>{for(let c=0,d=0;c<o.length;c++){if(!r[c])continue;s[c]=d;let u=o[c];l[c]=this._isNativeHtmlTable?Array.from(u.children):[u];let h=this._retrieveElementSize(u).height;d+=h,a[c]=h}},write:()=>{let c=r.lastIndexOf(!0);for(let d=0;d<o.length;d++){if(!r[d])continue;let u=s[d],h=d===c;for(let m of l[d])this._addStickyStyle(m,i,u,h)}i==="top"?this._positionListener?.stickyHeaderRowsUpdated({sizes:a,offsets:s,elements:l}):this._positionListener?.stickyFooterRowsUpdated({sizes:a,offsets:s,elements:l})}})}updateStickyFooterContainer(t,e){this._isNativeHtmlTable&&this._afterNextRender({write:()=>{let i=t.querySelector("tfoot");i&&(e.some(o=>!o)?this._removeStickyStyle(i,["bottom"]):this._addStickyStyle(i,"bottom",0,!1))}})}destroy(){this._stickyColumnsReplayTimeout&&clearTimeout(this._stickyColumnsReplayTimeout),this._destroyed=!0}_removeStickyStyle(t,e){for(let o of e)t.style[o]="",t.classList.remove(this._borderCellCss[o]);H6.some(o=>e.indexOf(o)===-1&&t.style[o])?t.style.zIndex=this._getCalculatedZIndex(t):(t.style.zIndex="",this._needsPositionStickyOnElement&&(t.style.position=""),t.classList.remove(this._stickCellCss))}_addStickyStyle(t,e,i,o){t.classList.add(this._stickCellCss),o&&t.classList.add(this._borderCellCss[e]),t.style[e]=`${i}px`,t.style.zIndex=this._getCalculatedZIndex(t),this._needsPositionStickyOnElement&&(t.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(t){let e={top:100,bottom:10,left:1,right:1},i=0;for(let o of H6)t.style[o]&&(i+=e[o]);return i?`${i}`:""}_getCellWidths(t,e=!0){if(!e&&this._cachedCellWidths.length)return this._cachedCellWidths;let i=[],o=t.children;for(let r=0;r<o.length;r++){let s=o[r];i.push(this._retrieveElementSize(s).width)}return this._cachedCellWidths=i,i}_getStickyStartColumnPositions(t,e){let i=[],o=0;for(let r=0;r<t.length;r++)e[r]&&(i[r]=o,o+=t[r]);return i}_getStickyEndColumnPositions(t,e){let i=[],o=0;for(let r=t.length;r>0;r--)e[r]&&(i[r]=o,o+=t[r]);return i}_retrieveElementSize(t){let e=this._elemSizeCache.get(t);if(e)return e;let i=t.getBoundingClientRect(),o={width:i.width,height:i.height};return this._resizeObserver&&(this._elemSizeCache.set(t,o),this._resizeObserver.observe(t,{box:"border-box"})),o}_updateStickyColumnReplayQueue(t){this._removeFromStickyColumnReplayQueue(t.rows),!this._stickyColumnsReplayTimeout&&this._updatedStickyColumnsParamsToReplay.push(t)}_removeFromStickyColumnReplayQueue(t){let e=new Set(t);for(let i of this._updatedStickyColumnsParamsToReplay)i.rows=i.rows.filter(o=>!e.has(o));this._updatedStickyColumnsParamsToReplay=this._updatedStickyColumnsParamsToReplay.filter(i=>!!i.rows.length)}_updateCachedSizes(t){let e=!1;for(let i of t){let o=i.borderBoxSize?.length?{width:i.borderBoxSize[0].inlineSize,height:i.borderBoxSize[0].blockSize}:{width:i.contentRect.width,height:i.contentRect.height};o.width!==this._elemSizeCache.get(i.target)?.width&&Gfe(i.target)&&(e=!0),this._elemSizeCache.set(i.target,o)}e&&this._updatedStickyColumnsParamsToReplay.length&&(this._stickyColumnsReplayTimeout&&clearTimeout(this._stickyColumnsReplayTimeout),this._stickyColumnsReplayTimeout=setTimeout(()=>{if(!this._destroyed){for(let i of this._updatedStickyColumnsParamsToReplay)this.updateStickyColumns(i.rows,i.stickyStartStates,i.stickyEndStates,!0,!1);this._updatedStickyColumnsParamsToReplay=[],this._stickyColumnsReplayTimeout=null}},0))}_afterNextRender(t){this._tableInjector?So(t,{injector:this._tableInjector}):this._coalescedStyleScheduler.schedule(()=>{t.earlyRead?.(),t.write()})}};function Gfe(n){return["cdk-cell","cdk-header-cell","cdk-footer-cell"].some(t=>n.classList.contains(t))}var TS=new ue("CDK_SPL");var UO=(()=>{class n{viewContainer=y(Go);elementRef=y(He);constructor(){let e=y(Fa);e._rowOutlet=this,e._outletAssigned()}static \u0275fac=function(i){return new(i||n)};static \u0275dir=ge({type:n,selectors:[["","rowOutlet",""]]})}return n})(),qO=(()=>{class n{viewContainer=y(Go);elementRef=y(He);constructor(){let e=y(Fa);e._headerRowOutlet=this,e._outletAssigned()}static \u0275fac=function(i){return new(i||n)};static \u0275dir=ge({type:n,selectors:[["","headerRowOutlet",""]]})}return n})(),GO=(()=>{class n{viewContainer=y(Go);elementRef=y(He);constructor(){let e=y(Fa);e._footerRowOutlet=this,e._outletAssigned()}static \u0275fac=function(i){return new(i||n)};static \u0275dir=ge({type:n,selectors:[["","footerRowOutlet",""]]})}return n})(),$O=(()=>{class n{viewContainer=y(Go);elementRef=y(He);constructor(){let e=y(Fa);e._noDataRowOutlet=this,e._outletAssigned()}static \u0275fac=function(i){return new(i||n)};static \u0275dir=ge({type:n,selectors:[["","noDataRowOutlet",""]]})}return n})();var KO=(()=>{class n{_differs=y(Ju);_changeDetectorRef=y(Yt);_elementRef=y(He);_dir=y(mn,{optional:!0});_platform=y(Zt);_viewRepeater=y(Fv);_coalescedStyleScheduler=y(MS);_viewportRuler=y($s);_stickyPositioningListener=y(TS,{optional:!0,skipSelf:!0});_document=y(kt);_data;_onDestroy=new Ee;_renderRows;_renderChangeSubscription;_columnDefsByName=new Map;_rowDefs;_headerRowDefs;_footerRowDefs;_dataDiffer;_defaultRowDef;_customColumnDefs=new Set;_customRowDefs=new Set;_customHeaderRowDefs=new Set;_customFooterRowDefs=new Set;_customNoDataRow;_headerRowDefChanged=!0;_footerRowDefChanged=!0;_stickyColumnStylesNeedReset=!0;_forceRecalculateCellWidths=!0;_cachedRenderRowsMap=new Map;_isNativeHtmlTable;_stickyStyler;stickyCssClass="cdk-table-sticky";needsPositionStickyOnElement=!0;_isServer;_isShowingNoDataRow=!1;_hasAllOutlets=!1;_hasInitialized=!1;_getCellRole(){if(this._cellRoleInternal===void 0){let e=this._elementRef.nativeElement.getAttribute("role");return e==="grid"||e==="treegrid"?"gridcell":"cell"}return this._cellRoleInternal}_cellRoleInternal=void 0;get trackBy(){return this._trackByFn}set trackBy(e){this._trackByFn=e}_trackByFn;get dataSource(){return this._dataSource}set dataSource(e){this._dataSource!==e&&this._switchDataSource(e)}_dataSource;get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(e){this._multiTemplateDataRows=e,this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}_multiTemplateDataRows=!1;get fixedLayout(){return this._fixedLayout}set fixedLayout(e){this._fixedLayout=e,this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}_fixedLayout=!1;contentChanged=new Le;viewChange=new mo({start:0,end:Number.MAX_VALUE});_rowOutlet;_headerRowOutlet;_footerRowOutlet;_noDataRowOutlet;_contentColumnDefs;_contentRowDefs;_contentHeaderRowDefs;_contentFooterRowDefs;_noDataRow;_injector=y(Si);constructor(){y(new $u("role"),{optional:!0})||this._elementRef.nativeElement.setAttribute("role","table"),this._isServer=!this._platform.isBrowser,this._isNativeHtmlTable=this._elementRef.nativeElement.nodeName==="TABLE"}ngOnInit(){this._setupStickyStyler(),this._dataDiffer=this._differs.find([]).create((e,i)=>this.trackBy?this.trackBy(i.dataIndex,i.data):i),this._viewportRuler.change().pipe(vt(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentInit(){this._hasInitialized=!0}ngAfterContentChecked(){this._canRender()&&this._render()}ngOnDestroy(){this._stickyStyler?.destroy(),[this._rowOutlet?.viewContainer,this._headerRowOutlet?.viewContainer,this._footerRowOutlet?.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(e=>{e?.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),$C(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();let e=this._dataDiffer.diff(this._renderRows);if(!e){this._updateNoDataRow(),this.contentChanged.next();return}let i=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(e,i,(o,r,s)=>this._getEmbeddedViewArgs(o.item,s),o=>o.item.data,o=>{o.operation===ef.INSERTED&&o.context&&this._renderCellTemplateForItem(o.record.item.rowDef,o.context)}),this._updateRowIndexContext(),e.forEachIdentityChange(o=>{let r=i.get(o.currentIndex);r.context.$implicit=o.item.data}),this._updateNoDataRow(),this.contentChanged.next(),this.updateStickyColumnStyles()}addColumnDef(e){this._customColumnDefs.add(e)}removeColumnDef(e){this._customColumnDefs.delete(e)}addRowDef(e){this._customRowDefs.add(e)}removeRowDef(e){this._customRowDefs.delete(e)}addHeaderRowDef(e){this._customHeaderRowDefs.add(e),this._headerRowDefChanged=!0}removeHeaderRowDef(e){this._customHeaderRowDefs.delete(e),this._headerRowDefChanged=!0}addFooterRowDef(e){this._customFooterRowDefs.add(e),this._footerRowDefChanged=!0}removeFooterRowDef(e){this._customFooterRowDefs.delete(e),this._footerRowDefChanged=!0}setNoDataRow(e){this._customNoDataRow=e}updateStickyHeaderRowStyles(){let e=this._getRenderedRows(this._headerRowOutlet);if(this._isNativeHtmlTable){let o=V6(this._headerRowOutlet,"thead");o&&(o.style.display=e.length?"":"none")}let i=this._headerRowDefs.map(o=>o.sticky);this._stickyStyler.clearStickyPositioning(e,["top"]),this._stickyStyler.stickRows(e,i,"top"),this._headerRowDefs.forEach(o=>o.resetStickyChanged())}updateStickyFooterRowStyles(){let e=this._getRenderedRows(this._footerRowOutlet);if(this._isNativeHtmlTable){let o=V6(this._footerRowOutlet,"tfoot");o&&(o.style.display=e.length?"":"none")}let i=this._footerRowDefs.map(o=>o.sticky);this._stickyStyler.clearStickyPositioning(e,["bottom"]),this._stickyStyler.stickRows(e,i,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,i),this._footerRowDefs.forEach(o=>o.resetStickyChanged())}updateStickyColumnStyles(){let e=this._getRenderedRows(this._headerRowOutlet),i=this._getRenderedRows(this._rowOutlet),o=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...e,...i,...o],["left","right"]),this._stickyColumnStylesNeedReset=!1),e.forEach((r,s)=>{this._addStickyColumnStyles([r],this._headerRowDefs[s])}),this._rowDefs.forEach(r=>{let s=[];for(let a=0;a<i.length;a++)this._renderRows[a].rowDef===r&&s.push(i[a]);this._addStickyColumnStyles(s,r)}),o.forEach((r,s)=>{this._addStickyColumnStyles([r],this._footerRowDefs[s])}),Array.from(this._columnDefsByName.values()).forEach(r=>r.resetStickyChanged())}_outletAssigned(){!this._hasAllOutlets&&this._rowOutlet&&this._headerRowOutlet&&this._footerRowOutlet&&this._noDataRowOutlet&&(this._hasAllOutlets=!0,this._canRender()&&this._render())}_canRender(){return this._hasAllOutlets&&this._hasInitialized}_render(){this._cacheRowDefs(),this._cacheColumnDefs(),!this._headerRowDefs.length&&!this._footerRowDefs.length&&this._rowDefs.length;let i=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||i,this._forceRecalculateCellWidths=i,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}_getAllRenderRows(){let e=[],i=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let o=0;o<this._data.length;o++){let r=this._data[o],s=this._getRenderRowsForData(r,o,i.get(r));this._cachedRenderRowsMap.has(r)||this._cachedRenderRowsMap.set(r,new WeakMap);for(let a=0;a<s.length;a++){let l=s[a],c=this._cachedRenderRowsMap.get(l.data);c.has(l.rowDef)?c.get(l.rowDef).push(l):c.set(l.rowDef,[l]),e.push(l)}}return e}_getRenderRowsForData(e,i,o){return this._getRowDefs(e,i).map(s=>{let a=o&&o.has(s)?o.get(s):[];if(a.length){let l=a.shift();return l.dataIndex=i,l}else return{data:e,rowDef:s,dataIndex:i}})}_cacheColumnDefs(){this._columnDefsByName.clear(),DS(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(i=>{this._columnDefsByName.has(i.name),this._columnDefsByName.set(i.name,i)})}_cacheRowDefs(){this._headerRowDefs=DS(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=DS(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=DS(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);let e=this._rowDefs.filter(i=>!i.when);!this.multiTemplateDataRows&&e.length>1,this._defaultRowDef=e[0]}_renderUpdatedColumns(){let e=(s,a)=>{let l=!!a.getColumnsDiff();return s||l},i=this._rowDefs.reduce(e,!1);i&&this._forceRenderDataRows();let o=this._headerRowDefs.reduce(e,!1);o&&this._forceRenderHeaderRows();let r=this._footerRowDefs.reduce(e,!1);return r&&this._forceRenderFooterRows(),i||o||r}_switchDataSource(e){this._data=[],$C(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),e||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet&&this._rowOutlet.viewContainer.clear()),this._dataSource=e}_observeRenderChanges(){if(!this.dataSource)return;let e;$C(this.dataSource)?e=this.dataSource.connect(this):qu(this.dataSource)?e=this.dataSource:Array.isArray(this.dataSource)&&(e=We(this.dataSource)),this._renderChangeSubscription=e.pipe(vt(this._onDestroy)).subscribe(i=>{this._data=i||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((e,i)=>this._renderRow(this._headerRowOutlet,e,i)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((e,i)=>this._renderRow(this._footerRowOutlet,e,i)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(e,i){let o=Array.from(i?.columns||[]).map(a=>{let l=this._columnDefsByName.get(a);return l}),r=o.map(a=>a.sticky),s=o.map(a=>a.stickyEnd);this._stickyStyler.updateStickyColumns(e,r,s,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(e){let i=[];for(let o=0;o<e.viewContainer.length;o++){let r=e.viewContainer.get(o);i.push(r.rootNodes[0])}return i}_getRowDefs(e,i){if(this._rowDefs.length==1)return[this._rowDefs[0]];let o=[];if(this.multiTemplateDataRows)o=this._rowDefs.filter(r=>!r.when||r.when(i,e));else{let r=this._rowDefs.find(s=>s.when&&s.when(i,e))||this._defaultRowDef;r&&o.push(r)}return o.length,o}_getEmbeddedViewArgs(e,i){let o=e.rowDef,r={$implicit:e.data};return{templateRef:o.template,context:r,index:i}}_renderRow(e,i,o,r={}){let s=e.viewContainer.createEmbeddedView(i.template,r,o);return this._renderCellTemplateForItem(i,r),s}_renderCellTemplateForItem(e,i){for(let o of this._getCellTemplates(e))zh.mostRecentCellOutlet&&zh.mostRecentCellOutlet._viewContainer.createEmbeddedView(o,i);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){let e=this._rowOutlet.viewContainer;for(let i=0,o=e.length;i<o;i++){let s=e.get(i).context;s.count=o,s.first=i===0,s.last=i===o-1,s.even=i%2===0,s.odd=!s.even,this.multiTemplateDataRows?(s.dataIndex=this._renderRows[i].dataIndex,s.renderIndex=i):s.index=this._renderRows[i].dataIndex}}_getCellTemplates(e){return!e||!e.columns?[]:Array.from(e.columns,i=>{let o=this._columnDefsByName.get(i);return e.extractCellTemplate(o)})}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){let e=(i,o)=>i||o.hasStickyChanged();this._headerRowDefs.reduce(e,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(e,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(e,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){let e=this._dir?this._dir.value:"ltr";this._stickyStyler=new zO(this._isNativeHtmlTable,this.stickyCssClass,e,this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener,this._injector),(this._dir?this._dir.change:We()).pipe(vt(this._onDestroy)).subscribe(i=>{this._stickyStyler.direction=i,this.updateStickyColumnStyles()})}_getOwnDefs(e){return e.filter(i=>!i._table||i._table===this)}_updateNoDataRow(){let e=this._customNoDataRow||this._noDataRow;if(!e)return;let i=this._rowOutlet.viewContainer.length===0;if(i===this._isShowingNoDataRow)return;let o=this._noDataRowOutlet.viewContainer;if(i){let r=o.createEmbeddedView(e.templateRef),s=r.rootNodes[0];r.rootNodes.length===1&&s?.nodeType===this._document.ELEMENT_NODE&&(s.setAttribute("role","row"),s.classList.add(e._contentClassName))}else o.clear();this._isShowingNoDataRow=i,this._changeDetectorRef.markForCheck()}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Q({type:n,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(i,o,r){if(i&1&&(bt(r,q6,5),bt(r,df,5),bt(r,OS,5),bt(r,tb,5),bt(r,VO,5)),i&2){let s;me(s=pe())&&(o._noDataRow=s.first),me(s=pe())&&(o._contentColumnDefs=s),me(s=pe())&&(o._contentRowDefs=s),me(s=pe())&&(o._contentHeaderRowDefs=s),me(s=pe())&&(o._contentFooterRowDefs=s)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(i,o){i&2&&ke("cdk-table-fixed-layout",o.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:[2,"multiTemplateDataRows","multiTemplateDataRows",Ke],fixedLayout:[2,"fixedLayout","fixedLayout",Ke]},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[At([{provide:Fa,useExisting:n},{provide:Fv,useClass:tf},{provide:MS,useClass:BO},{provide:TS,useValue:null}]),Ut],ngContentSelectors:Wfe,decls:5,vars:2,consts:[["role","rowgroup"],["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(i,o){i&1&&(wt(Vfe),Fe(0),Fe(1,1),te(2,jfe,1,0)(3,Ufe,7,0)(4,qfe,4,0)),i&2&&(I(2),Ye(o._isServer?2:-1),I(),Ye(o._isNativeHtmlTable?3:4))},dependencies:[qO,UO,$O,GO],styles:[".cdk-table-fixed-layout{table-layout:fixed}"],encapsulation:2})}return n})();function DS(n,t){return n.concat(Array.from(t))}function V6(n,t){let e=t.toUpperCase(),i=n.viewContainer.element.nativeElement;for(;i;){let o=i.nodeType===1?i.nodeName:null;if(o===e)return i;if(o==="TABLE")break;i=i.parentNode}return null}var G6=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=xt({type:n});static \u0275inj=yt({imports:[fO]})}return n})();var $fe=[[["caption"]],[["colgroup"],["col"]],"*"],Kfe=["caption","colgroup, col","*"];function Yfe(n,t){n&1&&Fe(0,2)}function Xfe(n,t){n&1&&(x(0,"thead",0),an(1,1),w(),x(2,"tbody",2),an(3,3)(4,4),w(),x(5,"tfoot",0),an(6,5),w())}function Zfe(n,t){n&1&&an(0,1)(1,3)(2,4)(3,5)}var uf=(()=>{class n extends KO{stickyCssClass="mat-mdc-table-sticky";needsPositionStickyOnElement=!1;static \u0275fac=(()=>{let e;return function(o){return(e||(e=ti(n)))(o||n)}})();static \u0275cmp=Q({type:n,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-mdc-table","mdc-data-table__table"],hostVars:2,hostBindings:function(i,o){i&2&&ke("mdc-table-fixed-layout",o.fixedLayout)},exportAs:["matTable"],features:[At([{provide:KO,useExisting:n},{provide:Fa,useExisting:n},{provide:MS,useClass:BO},{provide:Fv,useClass:tf},{provide:TS,useValue:null}]),dt],ngContentSelectors:Kfe,decls:5,vars:2,consts:[["role","rowgroup"],["headerRowOutlet",""],["role","rowgroup",1,"mdc-data-table__content"],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(i,o){i&1&&(wt($fe),Fe(0),Fe(1,1),te(2,Yfe,1,0)(3,Xfe,7,0)(4,Zfe,4,0)),i&2&&(I(2),Ye(o._isServer?2:-1),I(),Ye(o._isNativeHtmlTable?3:4))},dependencies:[qO,UO,$O,GO],styles:[".mat-mdc-table-sticky{position:sticky !important}mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}.mat-mdc-table{min-width:100%;border:0;border-spacing:0;table-layout:auto;white-space:normal;background-color:var(--mat-table-background-color, var(--mat-sys-surface))}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell{text-align:right}.mdc-data-table__cell,.mdc-data-table__header-cell{padding:0 16px}.mat-mdc-header-row{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;height:var(--mat-table-header-container-height, 56px);color:var(--mat-table-header-headline-color, var(--mat-sys-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mat-table-header-headline-font, var(--mat-sys-title-small-font, Roboto, sans-serif));line-height:var(--mat-table-header-headline-line-height, var(--mat-sys-title-small-line-height));font-size:var(--mat-table-header-headline-size, var(--mat-sys-title-small-size, 14px));font-weight:var(--mat-table-header-headline-weight, var(--mat-sys-title-small-weight, 500))}.mat-mdc-row{height:var(--mat-table-row-item-container-height, 52px);color:var(--mat-table-row-item-label-text-color, var(--mat-sys-on-surface, rgba(0, 0, 0, 0.87)))}.mat-mdc-row,.mdc-data-table__content{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-table-row-item-label-text-font, var(--mat-sys-body-medium-font, Roboto, sans-serif));line-height:var(--mat-table-row-item-label-text-line-height, var(--mat-sys-body-medium-line-height));font-size:var(--mat-table-row-item-label-text-size, var(--mat-sys-body-medium-size, 14px));font-weight:var(--mat-table-row-item-label-text-weight, var(--mat-sys-body-medium-weight))}.mat-mdc-footer-row{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;height:var(--mat-table-footer-container-height, 52px);color:var(--mat-table-row-item-label-text-color, var(--mat-sys-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mat-table-footer-supporting-text-font, var(--mat-sys-body-medium-font, Roboto, sans-serif));line-height:var(--mat-table-footer-supporting-text-line-height, var(--mat-sys-body-medium-line-height));font-size:var(--mat-table-footer-supporting-text-size, var(--mat-sys-body-medium-size, 14px));font-weight:var(--mat-table-footer-supporting-text-weight, var(--mat-sys-body-medium-weight));letter-spacing:var(--mat-table-footer-supporting-text-tracking, var(--mat-sys-body-medium-tracking))}.mat-mdc-header-cell{border-bottom-color:var(--mat-table-row-item-outline-color, var(--mat-sys-outline, rgba(0, 0, 0, 0.12)));border-bottom-width:var(--mat-table-row-item-outline-width, 1px);border-bottom-style:solid;letter-spacing:var(--mat-table-header-headline-tracking, var(--mat-sys-title-small-tracking));font-weight:inherit;line-height:inherit;box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mat-mdc-header-cell{text-align:right}.mdc-data-table__row:last-child>.mat-mdc-header-cell{border-bottom:none}.mat-mdc-cell{border-bottom-color:var(--mat-table-row-item-outline-color, var(--mat-sys-outline, rgba(0, 0, 0, 0.12)));border-bottom-width:var(--mat-table-row-item-outline-width, 1px);border-bottom-style:solid;letter-spacing:var(--mat-table-row-item-label-text-tracking, var(--mat-sys-body-medium-tracking));line-height:inherit}.mdc-data-table__row:last-child>.mat-mdc-cell{border-bottom:none}.mat-mdc-footer-cell{letter-spacing:var(--mat-table-row-item-label-text-tracking, var(--mat-sys-body-medium-tracking))}mat-row.mat-mdc-row,mat-header-row.mat-mdc-header-row,mat-footer-row.mat-mdc-footer-row{border-bottom:none}.mat-mdc-table tbody,.mat-mdc-table tfoot,.mat-mdc-table thead,.mat-mdc-cell,.mat-mdc-footer-cell,.mat-mdc-header-row,.mat-mdc-row,.mat-mdc-footer-row,.mat-mdc-table .mat-mdc-header-cell{background:inherit}.mat-mdc-table mat-header-row.mat-mdc-header-row,.mat-mdc-table mat-row.mat-mdc-row,.mat-mdc-table mat-footer-row.mat-mdc-footer-cell{height:unset}mat-header-cell.mat-mdc-header-cell,mat-cell.mat-mdc-cell,mat-footer-cell.mat-mdc-footer-cell{align-self:stretch}"],encapsulation:2})}return n})(),hf=(()=>{class n extends AS{static \u0275fac=(()=>{let e;return function(o){return(e||(e=ti(n)))(o||n)}})();static \u0275dir=ge({type:n,selectors:[["","matCellDef",""]],features:[At([{provide:AS,useExisting:n}]),dt]})}return n})(),mf=(()=>{class n extends RS{static \u0275fac=(()=>{let e;return function(o){return(e||(e=ti(n)))(o||n)}})();static \u0275dir=ge({type:n,selectors:[["","matHeaderCellDef",""]],features:[At([{provide:RS,useExisting:n}]),dt]})}return n})();var pf=(()=>{class n extends df{get name(){return this._name}set name(e){this._setNameInput(e)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}static \u0275fac=(()=>{let e;return function(o){return(e||(e=ti(n)))(o||n)}})();static \u0275dir=ge({type:n,selectors:[["","matColumnDef",""]],inputs:{name:[0,"matColumnDef","name"]},features:[At([{provide:df,useExisting:n},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),dt]})}return n})(),ff=(()=>{class n extends j6{static \u0275fac=(()=>{let e;return function(o){return(e||(e=ti(n)))(o||n)}})();static \u0275dir=ge({type:n,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-mdc-header-cell","mdc-data-table__header-cell"],features:[dt]})}return n})();var gf=(()=>{class n extends U6{static \u0275fac=(()=>{let e;return function(o){return(e||(e=ti(n)))(o||n)}})();static \u0275dir=ge({type:n,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:[1,"mat-mdc-cell","mdc-data-table__cell"],features:[dt]})}return n})();var _f=(()=>{class n extends tb{static \u0275fac=(()=>{let e;return function(o){return(e||(e=ti(n)))(o||n)}})();static \u0275dir=ge({type:n,selectors:[["","matHeaderRowDef",""]],inputs:{columns:[0,"matHeaderRowDef","columns"],sticky:[2,"matHeaderRowDefSticky","sticky",Ke]},features:[At([{provide:tb,useExisting:n}]),Ut,dt]})}return n})();var vf=(()=>{class n extends OS{static \u0275fac=(()=>{let e;return function(o){return(e||(e=ti(n)))(o||n)}})();static \u0275dir=ge({type:n,selectors:[["","matRowDef",""]],inputs:{columns:[0,"matRowDefColumns","columns"],when:[0,"matRowDefWhen","when"]},features:[At([{provide:OS,useExisting:n}]),dt]})}return n})(),bf=(()=>{class n extends WO{static \u0275fac=(()=>{let e;return function(o){return(e||(e=ti(n)))(o||n)}})();static \u0275cmp=Q({type:n,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-mdc-header-row","mdc-data-table__header-row"],exportAs:["matHeaderRow"],features:[At([{provide:WO,useExisting:n}]),dt],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(i,o){i&1&&an(0,0)},dependencies:[zh],encapsulation:2})}return n})();var yf=(()=>{class n extends jO{static \u0275fac=(()=>{let e;return function(o){return(e||(e=ti(n)))(o||n)}})();static \u0275cmp=Q({type:n,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-mdc-row","mdc-data-table__row"],exportAs:["matRow"],features:[At([{provide:jO,useExisting:n}]),dt],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(i,o){i&1&&an(0,0)},dependencies:[zh],encapsulation:2})}return n})();var $6=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=xt({type:n});static \u0275inj=yt({imports:[To,G6,To]})}return n})(),Qfe=9007199254740991,jd=class extends qC{_data;_renderData=new mo([]);_filter=new mo("");_internalPageChanges=new Ee;_renderChangesSubscription=null;filteredData;get data(){return this._data.value}set data(t){t=Array.isArray(t)?t:[],this._data.next(t),this._renderChangesSubscription||this._filterData(t)}get filter(){return this._filter.value}set filter(t){this._filter.next(t),this._renderChangesSubscription||this._filterData(this.data)}get sort(){return this._sort}set sort(t){this._sort=t,this._updateChangeSubscription()}_sort;get paginator(){return this._paginator}set paginator(t){this._paginator=t,this._updateChangeSubscription()}_paginator;sortingDataAccessor=(t,e)=>{let i=t[e];if(XR(i)){let o=Number(i);return o<Qfe?o:i}return i};sortData=(t,e)=>{let i=e.active,o=e.direction;return!i||o==""?t:t.sort((r,s)=>{let a=this.sortingDataAccessor(r,i),l=this.sortingDataAccessor(s,i),c=typeof a,d=typeof l;c!==d&&(c==="number"&&(a+=""),d==="number"&&(l+=""));let u=0;return a!=null&&l!=null?a>l?u=1:a<l&&(u=-1):a!=null?u=1:l!=null&&(u=-1),u*(o=="asc"?1:-1)})};filterPredicate=(t,e)=>{let i=e.trim().toLowerCase();return Object.values(t).some(o=>`${o}`.toLowerCase().includes(i))};constructor(t=[]){super(),this._data=new mo(t),this._updateChangeSubscription()}_updateChangeSubscription(){let t=this._sort?tn(this._sort.sortChange,this._sort.initialized):We(null),e=this._paginator?tn(this._paginator.page,this._internalPageChanges,this._paginator.initialized):We(null),i=this._data,o=Jl([i,this._filter]).pipe(nt(([a])=>this._filterData(a))),r=Jl([o,t]).pipe(nt(([a])=>this._orderData(a))),s=Jl([r,e]).pipe(nt(([a])=>this._pageData(a)));this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=s.subscribe(a=>this._renderData.next(a))}_filterData(t){return this.filteredData=this.filter==null||this.filter===""?t:t.filter(e=>this.filterPredicate(e,this.filter)),this.paginator&&this._updatePaginator(this.filteredData.length),this.filteredData}_orderData(t){return this.sort?this.sortData(t.slice(),this.sort):t}_pageData(t){if(!this.paginator)return t;let e=this.paginator.pageIndex*this.paginator.pageSize;return t.slice(e,e+this.paginator.pageSize)}_updatePaginator(t){Promise.resolve().then(()=>{let e=this.paginator;if(e&&(e.length=t,e.pageIndex>0)){let i=Math.ceil(e.length/e.pageSize)-1||0,o=Math.min(e.pageIndex,i);o!==e.pageIndex&&(e.pageIndex=o,this._internalPageChanges.next())}})}connect(){return this._renderChangesSubscription||this._updateChangeSubscription(),this._renderData}disconnect(){this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=null}};var Jfe=["mat-sort-header",""],ege=["*"];function tge(n,t){n&1&&(x(0,"div",2),pi(),x(1,"svg",3),X(2,"path",4),w()())}var K6=new ue("MAT_SORT_DEFAULT_OPTIONS"),Il=(()=>{class n{_defaultOptions;_initializedStream=new cx(1);sortables=new Map;_stateChanges=new Ee;active;start="asc";get direction(){return this._direction}set direction(e){this._direction=e}_direction="";disableClear;disabled=!1;sortChange=new Le;initialized=this._initializedStream;constructor(e){this._defaultOptions=e}register(e){this.sortables.set(e.id,e)}deregister(e){this.sortables.delete(e.id)}sort(e){this.active!=e.id?(this.active=e.id,this.direction=e.start?e.start:this.start):this.direction=this.getNextSortDirection(e),this.sortChange.emit({active:this.active,direction:this.direction})}getNextSortDirection(e){if(!e)return"";let i=e?.disableClear??this.disableClear??!!this._defaultOptions?.disableClear,o=ige(e.start||this.start,i),r=o.indexOf(this.direction)+1;return r>=o.length&&(r=0),o[r]}ngOnInit(){this._initializedStream.next()}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete(),this._initializedStream.complete()}static \u0275fac=function(i){return new(i||n)(ie(K6,8))};static \u0275dir=ge({type:n,selectors:[["","matSort",""]],hostAttrs:[1,"mat-sort"],inputs:{active:[0,"matSortActive","active"],start:[0,"matSortStart","start"],direction:[0,"matSortDirection","direction"],disableClear:[2,"matSortDisableClear","disableClear",Ke],disabled:[2,"matSortDisabled","disabled",Ke]},outputs:{sortChange:"matSortChange"},exportAs:["matSort"],features:[Ut,Di]})}return n})();function ige(n,t){let e=["asc","desc"];return n=="desc"&&e.reverse(),t||e.push(""),e}var nge=(()=>{class n{changes=new Ee;static \u0275fac=function(i){return new(i||n)};static \u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var xf=(()=>{class n{_intl=y(nge);_sort=y(Il,{optional:!0});_columnDef=y("MAT_SORT_HEADER_COLUMN_DEF",{optional:!0});_changeDetectorRef=y(Yt);_focusMonitor=y(Us);_elementRef=y(He);_ariaDescriber=y(LC,{optional:!0});_renderChanges;_animationModule=y(Wi,{optional:!0});_recentlyCleared=Ue(null);_sortButton;id;arrowPosition="after";start;disabled=!1;get sortActionDescription(){return this._sortActionDescription}set sortActionDescription(e){this._updateSortActionDescription(e)}_sortActionDescription="Sort";disableClear;constructor(){y(kn).load(qs);let e=y(K6,{optional:!0});this._sort,e?.arrowPosition&&(this.arrowPosition=e?.arrowPosition)}ngOnInit(){!this.id&&this._columnDef&&(this.id=this._columnDef.name),this._sort.register(this),this._renderChanges=tn(this._sort._stateChanges,this._sort.sortChange).subscribe(()=>this._changeDetectorRef.markForCheck()),this._sortButton=this._elementRef.nativeElement.querySelector(".mat-sort-header-container"),this._updateSortActionDescription(this._sortActionDescription)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(()=>this._recentlyCleared.set(null))}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._sort.deregister(this),this._renderChanges?.unsubscribe(),this._sortButton&&this._ariaDescriber?.removeDescription(this._sortButton,this._sortActionDescription)}_toggleOnInteraction(){if(!this._isDisabled()){let e=this._isSorted(),i=this._sort.direction;this._sort.sort(this),this._recentlyCleared.set(e&&!this._isSorted()?i:null)}}_handleKeydown(e){(e.keyCode===32||e.keyCode===13)&&(e.preventDefault(),this._toggleOnInteraction())}_isSorted(){return this._sort.active==this.id&&(this._sort.direction==="asc"||this._sort.direction==="desc")}_isDisabled(){return this._sort.disabled||this.disabled}_getAriaSortAttribute(){return this._isSorted()?this._sort.direction=="asc"?"ascending":"descending":"none"}_renderArrow(){return!this._isDisabled()||this._isSorted()}_updateSortActionDescription(e){this._sortButton&&(this._ariaDescriber?.removeDescription(this._sortButton,this._sortActionDescription),this._ariaDescriber?.describe(this._sortButton,e)),this._sortActionDescription=e}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Q({type:n,selectors:[["","mat-sort-header",""]],hostAttrs:[1,"mat-sort-header"],hostVars:3,hostBindings:function(i,o){i&1&&le("click",function(){return o._toggleOnInteraction()})("keydown",function(s){return o._handleKeydown(s)})("mouseleave",function(){return o._recentlyCleared.set(!1)}),i&2&&(Re("aria-sort",o._getAriaSortAttribute()),ke("mat-sort-header-disabled",o._isDisabled()))},inputs:{id:[0,"mat-sort-header","id"],arrowPosition:"arrowPosition",start:"start",disabled:[2,"disabled","disabled",Ke],sortActionDescription:"sortActionDescription",disableClear:[2,"disableClear","disableClear",Ke]},exportAs:["matSortHeader"],features:[Ut],attrs:Jfe,ngContentSelectors:ege,decls:4,vars:17,consts:[[1,"mat-sort-header-container","mat-focus-indicator"],[1,"mat-sort-header-content"],[1,"mat-sort-header-arrow"],["viewBox","0 -960 960 960","focusable","false","aria-hidden","true"],["d","M440-240v-368L296-464l-56-56 240-240 240 240-56 56-144-144v368h-80Z"]],template:function(i,o){i&1&&(wt(),x(0,"div",0)(1,"div",1),Fe(2),w(),te(3,tge,3,0,"div",2),w()),i&2&&(ke("mat-sort-header-sorted",o._isSorted())("mat-sort-header-position-before",o.arrowPosition==="before")("mat-sort-header-descending",o._sort.direction==="desc")("mat-sort-header-ascending",o._sort.direction==="asc")("mat-sort-header-recently-cleared-ascending",o._recentlyCleared()==="asc")("mat-sort-header-recently-cleared-descending",o._recentlyCleared()==="desc")("mat-sort-header-animations-disabled",o._animationModule==="NoopAnimations"),Re("tabindex",o._isDisabled()?null:0)("role",o._isDisabled()?null:"button"),I(3),Ye(o._renderArrow()?3:-1))},styles:[".mat-sort-header-container{display:flex;cursor:pointer;align-items:center;letter-spacing:normal;outline:0}[mat-sort-header].cdk-keyboard-focused .mat-sort-header-container,[mat-sort-header].cdk-program-focused .mat-sort-header-container{border-bottom:solid 1px currentColor}.mat-sort-header-disabled .mat-sort-header-container{cursor:default}.mat-sort-header-container::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-sort-header-content{display:flex;align-items:center}.mat-sort-header-position-before{flex-direction:row-reverse}@keyframes _mat-sort-header-recently-cleared-ascending{from{transform:translateY(0);opacity:1}to{transform:translateY(-25%);opacity:0}}@keyframes _mat-sort-header-recently-cleared-descending{from{transform:translateY(0) rotate(180deg);opacity:1}to{transform:translateY(25%) rotate(180deg);opacity:0}}.mat-sort-header-arrow{height:12px;width:12px;position:relative;transition:transform 225ms cubic-bezier(0.4, 0, 0.2, 1),opacity 225ms cubic-bezier(0.4, 0, 0.2, 1);opacity:0;overflow:visible;color:var(--mat-sort-arrow-color, var(--mat-sys-on-surface))}.mat-sort-header.cdk-keyboard-focused .mat-sort-header-arrow,.mat-sort-header.cdk-program-focused .mat-sort-header-arrow,.mat-sort-header:hover .mat-sort-header-arrow{opacity:.54}.mat-sort-header .mat-sort-header-sorted .mat-sort-header-arrow{opacity:1}.mat-sort-header-descending .mat-sort-header-arrow{transform:rotate(180deg)}.mat-sort-header-recently-cleared-ascending .mat-sort-header-arrow{transform:translateY(-25%)}.mat-sort-header-recently-cleared-ascending .mat-sort-header-arrow{transition:none;animation:_mat-sort-header-recently-cleared-ascending 225ms cubic-bezier(0.4, 0, 0.2, 1) forwards}.mat-sort-header-recently-cleared-descending .mat-sort-header-arrow{transition:none;animation:_mat-sort-header-recently-cleared-descending 225ms cubic-bezier(0.4, 0, 0.2, 1) forwards}.mat-sort-header-animations-disabled .mat-sort-header-arrow{transition-duration:0ms;animation-duration:0ms}.mat-sort-header-arrow svg{width:24px;height:24px;fill:currentColor;position:absolute;top:50%;left:50%;margin:-12px 0 0 -12px;transform:translateZ(0)}.mat-sort-header-arrow,[dir=rtl] .mat-sort-header-position-before .mat-sort-header-arrow{margin:0 0 0 6px}.mat-sort-header-position-before .mat-sort-header-arrow,[dir=rtl] .mat-sort-header-arrow{margin:0 6px 0 0}"],encapsulation:2,changeDetection:0})}return n})();var A9e=y8.ENTERING+" "+b8.STANDARD_CURVE;var sge=["trigger"],age=["panel"],lge=[[["mat-select-trigger"]],"*"],cge=["mat-select-trigger","*"];function dge(n,t){if(n&1&&(x(0,"span",4),P(1),w()),n&2){let e=Y();I(),be(e.placeholder)}}function uge(n,t){n&1&&Fe(0)}function hge(n,t){if(n&1&&(x(0,"span",11),P(1),w()),n&2){let e=Y(2);I(),be(e.triggerValue)}}function mge(n,t){if(n&1&&(x(0,"span",5),te(1,uge,1,0)(2,hge,2,1,"span",11),w()),n&2){let e=Y();I(),Ye(e.customTrigger?1:2)}}function pge(n,t){if(n&1){let e=Nt();x(0,"div",12,1),le("@transformPanel.done",function(o){Ze(e);let r=Y();return Qe(r._panelDoneAnimatingStream.next(o.toState))})("keydown",function(o){Ze(e);let r=Y();return Qe(r._handleKeydown(o))}),Fe(2,1),w()}if(n&2){let e=Y();RW("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",e._getPanelTheme(),""),z("ngClass",e.panelClass)("@transformPanel","showing"),Re("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}}var fge={transformPanelWrap:ic("transformPanelWrap",[xa("* => void",GW("@transformPanel",[qW()],{optional:!0}))]),transformPanel:ic("transformPanel",[Zm("void",Cr({opacity:0,transform:"scale(1, 0.8)"})),xa("void => showing",ya("120ms cubic-bezier(0, 0, 0.2, 1)",Cr({opacity:1,transform:"scale(1, 1)"}))),xa("* => void",ya("100ms linear",Cr({opacity:0})))])};var gge=new ue("mat-select-scroll-strategy",{providedIn:"root",factory:()=>{let n=y(vr);return()=>n.scrollStrategies.reposition()}});var _ge=new ue("MAT_SELECT_CONFIG");var vge=new ue("MatSelectTrigger"),YO=class{source;value;constructor(t,e){this.source=t,this.value=e}},Ud=(()=>{class n{_viewportRuler=y($s);_changeDetectorRef=y(Yt);_elementRef=y(He);_dir=y(mn,{optional:!0});_idGenerator=y(Yn);_parentFormField=y(Fh,{optional:!0});ngControl=y(Ys,{self:!0,optional:!0});_liveAnnouncer=y(d8);_defaultOptions=y(_ge,{optional:!0});_initialized=new Ee;options;optionGroups;customTrigger;_positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}];_scrollOptionIntoView(e){let i=this.options.toArray()[e];if(i){let o=this.panel.nativeElement,r=BC(e,this.options,this.optionGroups),s=i._getHostElement();e===0&&r===1?o.scrollTop=0:o.scrollTop=HC(s.offsetTop,s.offsetHeight,o.scrollTop,o.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(e){return new YO(this,e)}_scrollStrategyFactory=y(gge);_panelOpen=!1;_compareWith=(e,i)=>e===i;_uid=this._idGenerator.getId("mat-select-");_triggerAriaLabelledBy=null;_previousControl;_destroy=new Ee;_errorStateTracker;stateChanges=new Ee;disableAutomaticLabeling=!0;userAriaDescribedBy;_selectionModel;_keyManager;_preferredOverlayOrigin;_overlayWidth;_onChange=()=>{};_onTouched=()=>{};_valueId=this._idGenerator.getId("mat-select-value-");_panelDoneAnimatingStream=new Ee;_scrollStrategy;_overlayPanelClass=this._defaultOptions?.overlayPanelClass||"";get focused(){return this._focused||this._panelOpen}_focused=!1;controlType="mat-select";trigger;panel;_overlayDir;panelClass;disabled=!1;disableRipple=!1;tabIndex=0;get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(e){this._hideSingleSelectionIndicator=e,this._syncParentProperties()}_hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1;get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}_placeholder;get required(){return this._required??this.ngControl?.control?.hasValidator(Oh.required)??!1}set required(e){this._required=e,this.stateChanges.next()}_required;get multiple(){return this._multiple}set multiple(e){this._selectionModel,this._multiple=e}_multiple=!1;disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1;get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){this._assignValue(e)&&this._onChange(e)}_value;ariaLabel="";ariaLabelledby;get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(e){this._errorStateTracker.matcher=e}typeaheadDebounceInterval;sortComparator;get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}_id;get errorState(){return this._errorStateTracker.errorState}set errorState(e){this._errorStateTracker.errorState=e}panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto";canSelectNullableOptions=this._defaultOptions?.canSelectNullableOptions??!1;optionSelectionChanges=ha(()=>{let e=this.options;return e?e.changes.pipe(Qi(e),In(()=>tn(...e.map(i=>i.onSelectionChange)))):this._initialized.pipe(In(()=>this.optionSelectionChanges))});openedChange=new Le;_openedStream=this.openedChange.pipe(ri(e=>e),nt(()=>{}));_closedStream=this.openedChange.pipe(ri(e=>!e),nt(()=>{}));selectionChange=new Le;valueChange=new Le;constructor(){let e=y(Pv),i=y(lf,{optional:!0}),o=y(cf,{optional:!0}),r=y(new $u("tabindex"),{optional:!0});this.ngControl&&(this.ngControl.valueAccessor=this),this._defaultOptions?.typeaheadDebounceInterval!=null&&(this.typeaheadDebounceInterval=this._defaultOptions.typeaheadDebounceInterval),this._errorStateTracker=new Th(e,this.ngControl,o,i,this.stateChanges),this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=r==null?0:parseInt(r)||0,this.id=this.id}ngOnInit(){this._selectionModel=new GC(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(C_(),vt(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen)),this._viewportRuler.change().pipe(vt(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}ngAfterContentInit(){this._initialized.next(),this._initialized.complete(),this._initKeyManager(),this._selectionModel.changed.pipe(vt(this._destroy)).subscribe(e=>{e.added.forEach(i=>i.select()),e.removed.forEach(i=>i.deselect())}),this.options.changes.pipe(Qi(null),vt(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){let e=this._getTriggerAriaLabelledby(),i=this.ngControl;if(e!==this._triggerAriaLabelledBy){let o=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?o.setAttribute("aria-labelledby",e):o.removeAttribute("aria-labelledby")}i&&(this._previousControl!==i.control&&(this._previousControl!==void 0&&i.disabled!==null&&i.disabled!==this.disabled&&(this.disabled=i.disabled),this._previousControl=i.control),this.updateErrorState())}ngOnChanges(e){(e.disabled||e.userAriaDescribedBy)&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this.typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._applyModalPanelOwnership(),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_trackedModal=null;_applyModalPanelOwnership(){let e=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!e)return;let i=`${this.id}-panel`;this._trackedModal&&Md(this._trackedModal,"aria-owns",i),Xp(e,"aria-owns",i),this._trackedModal=e}_clearFromModal(){if(!this._trackedModal)return;let e=`${this.id}-panel`;Md(this._trackedModal,"aria-owns",e),this._trackedModal=null}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched(),this.stateChanges.next())}writeValue(e){this._assignValue(e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){let e=this._selectionModel.selected.map(i=>i.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}updateErrorState(){this._errorStateTracker.updateErrorState()}_isRtl(){return this._dir?this._dir.value==="rtl":!1}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){let i=e.keyCode,o=i===40||i===38||i===37||i===39,r=i===13||i===32,s=this._keyManager;if(!s.isTyping()&&r&&!ao(e)||(this.multiple||e.altKey)&&o)e.preventDefault(),this.open();else if(!this.multiple){let a=this.selected;s.onKeydown(e);let l=this.selected;l&&a!==l&&this._liveAnnouncer.announce(l.viewValue,1e4)}}_handleOpenKeydown(e){let i=this._keyManager,o=e.keyCode,r=o===40||o===38,s=i.isTyping();if(r&&e.altKey)e.preventDefault(),this.close();else if(!s&&(o===13||o===32)&&i.activeItem&&!ao(e))e.preventDefault(),i.activeItem._selectViaInteraction();else if(!s&&this._multiple&&o===65&&e.ctrlKey){e.preventDefault();let a=this.options.some(l=>!l.disabled&&!l.selected);this.options.forEach(l=>{l.disabled||(a?l.select():l.deselect())})}else{let a=i.activeItemIndex;i.onKeydown(e),this._multiple&&r&&e.shiftKey&&i.activeItem&&i.activeItemIndex!==a&&i.activeItem._selectViaInteraction()}}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(Hn(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this.options.forEach(i=>i.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(i=>this._selectOptionByValue(i)),this._sortValues();else{let i=this._selectOptionByValue(e);i?this._keyManager.updateActiveItem(i):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(e){let i=this.options.find(o=>{if(this._selectionModel.isSelected(o))return!1;try{return(o.value!=null||this.canSelectNullableOptions)&&this._compareWith(o.value,e)}catch{return!1}});return i&&this._selectionModel.select(i),i}_assignValue(e){return e!==this._value||this._multiple&&Array.isArray(e)?(this.options&&this._setSelectionByValue(e),this._value=e,!0):!1}_skipPredicate=e=>this.panelOpen?!1:e.disabled;_getOverlayWidth(e){return this.panelWidth==="auto"?(e instanceof Vv?e.elementRef:e||this._elementRef).nativeElement.getBoundingClientRect().width:this.panelWidth===null?"":this.panelWidth}_syncParentProperties(){if(this.options)for(let e of this.options)e._changeDetectorRef.markForCheck()}_initKeyManager(){this._keyManager=new Kp(this.options).withTypeAhead(this.typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){let e=tn(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(vt(e)).subscribe(i=>{this._onSelect(i.source,i.isUserInput),i.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),tn(...this.options.map(i=>i._stateChanges)).pipe(vt(e)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(e,i){let o=this._selectionModel.isSelected(e);!this.canSelectNullableOptions&&e.value==null&&!this._multiple?(e.deselect(),this._selectionModel.clear(),this.value!=null&&this._propagateChanges(e.value)):(o!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),i&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),i&&this.focus())),o!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){let e=this.options.toArray();this._selectionModel.sort((i,o)=>this.sortComparator?this.sortComparator(i,o,e):e.indexOf(i)-e.indexOf(o)),this.stateChanges.next()}}_propagateChanges(e){let i;this.multiple?i=this.selected.map(o=>o.value):i=this.selected?this.selected.value:e,this._value=i,this.valueChange.emit(i),this._onChange(i),this.selectionChange.emit(this._getChangeEvent(i)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let e=-1;for(let i=0;i<this.options.length;i++)if(!this.options.get(i).disabled){e=i;break}this._keyManager.setActiveItem(e)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;let e=this._parentFormField?.getLabelId()||null,i=e?e+" ":"";return this.ariaLabelledby?i+this.ariaLabelledby:e}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;let e=this._parentFormField?.getLabelId(),i=(e?e+" ":"")+this._valueId;return this.ariaLabelledby&&(i+=" "+this.ariaLabelledby),i}_panelDoneAnimating(e){this.openedChange.emit(e)}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Q({type:n,selectors:[["mat-select"]],contentQueries:function(i,o,r){if(i&1&&(bt(r,vge,5),bt(r,_r,5),bt(r,Nv,5)),i&2){let s;me(s=pe())&&(o.customTrigger=s.first),me(s=pe())&&(o.options=s),me(s=pe())&&(o.optionGroups=s)}},viewQuery:function(i,o){if(i&1&&(rt(sge,5),rt(age,5),rt(SO,5)),i&2){let r;me(r=pe())&&(o.trigger=r.first),me(r=pe())&&(o.panel=r.first),me(r=pe())&&(o._overlayDir=r.first)}},hostAttrs:["role","combobox","aria-haspopup","listbox",1,"mat-mdc-select"],hostVars:19,hostBindings:function(i,o){i&1&&le("keydown",function(s){return o._handleKeydown(s)})("focus",function(){return o._onFocus()})("blur",function(){return o._onBlur()}),i&2&&(Re("id",o.id)("tabindex",o.disabled?-1:o.tabIndex)("aria-controls",o.panelOpen?o.id+"-panel":null)("aria-expanded",o.panelOpen)("aria-label",o.ariaLabel||null)("aria-required",o.required.toString())("aria-disabled",o.disabled.toString())("aria-invalid",o.errorState)("aria-activedescendant",o._getAriaActiveDescendant()),ke("mat-mdc-select-disabled",o.disabled)("mat-mdc-select-invalid",o.errorState)("mat-mdc-select-required",o.required)("mat-mdc-select-empty",o.empty)("mat-mdc-select-multiple",o.multiple))},inputs:{userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",disabled:[2,"disabled","disabled",Ke],disableRipple:[2,"disableRipple","disableRipple",Ke],tabIndex:[2,"tabIndex","tabIndex",e=>e==null?0:Yi(e)],hideSingleSelectionIndicator:[2,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",Ke],placeholder:"placeholder",required:[2,"required","required",Ke],multiple:[2,"multiple","multiple",Ke],disableOptionCentering:[2,"disableOptionCentering","disableOptionCentering",Ke],compareWith:"compareWith",value:"value",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:[2,"typeaheadDebounceInterval","typeaheadDebounceInterval",Yi],sortComparator:"sortComparator",id:"id",panelWidth:"panelWidth",canSelectNullableOptions:[2,"canSelectNullableOptions","canSelectNullableOptions",Ke]},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},exportAs:["matSelect"],features:[At([{provide:eb,useExisting:n},{provide:Lv,useExisting:n}]),Ut,Di],ngContentSelectors:cge,decls:11,vars:8,consts:[["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],["panel",""],["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],[1,"mat-mdc-select-value"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"backdropClick","attach","detach","cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"keydown","ngClass"]],template:function(i,o){if(i&1){let r=Nt();wt(lge),x(0,"div",2,0),le("click",function(){return Ze(r),Qe(o.open())}),x(3,"div",3),te(4,dge,2,1,"span",4)(5,mge,3,1,"span",5),w(),x(6,"div",6)(7,"div",7),pi(),x(8,"svg",8),X(9,"path",9),w()()()(),te(10,pge,3,9,"ng-template",10),le("backdropClick",function(){return Ze(r),Qe(o.close())})("attach",function(){return Ze(r),Qe(o._onAttached())})("detach",function(){return Ze(r),Qe(o.close())})}if(i&2){let r=to(1);I(3),Re("id",o._valueId),I(),Ye(o.empty?4:5),I(6),z("cdkConnectedOverlayPanelClass",o._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",o._scrollStrategy)("cdkConnectedOverlayOrigin",o._preferredOverlayOrigin||r)("cdkConnectedOverlayOpen",o.panelOpen)("cdkConnectedOverlayPositions",o._positions)("cdkConnectedOverlayWidth",o._overlayWidth)}},dependencies:[Vv,SO,bx],styles:['.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color, var(--mat-sys-on-surface));font-family:var(--mat-select-trigger-text-font, var(--mat-sys-body-large-font));line-height:var(--mat-select-trigger-text-line-height, var(--mat-sys-body-large-line-height));font-size:var(--mat-select-trigger-text-size, var(--mat-sys-body-large-size));font-weight:var(--mat-select-trigger-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mat-select-trigger-text-tracking, var(--mat-sys-body-large-tracking))}div.mat-mdc-select-panel{box-shadow:var(--mat-select-container-elevation-shadow, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-select-disabled .mat-mdc-select-placeholder{color:var(--mat-select-disabled-trigger-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow,.mat-form-field-invalid:not(.mat-form-field-disabled) .mat-mdc-form-field-infix::after{color:var(--mat-select-invalid-arrow-color, var(--mat-sys-error))}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color, var(--mat-sys-on-surface-variant))}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color, var(--mat-sys-primary))}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}@media(forced-colors: active){.mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .mat-mdc-select-arrow svg{fill:GrayText}}div.mat-mdc-select-panel{width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:static;background-color:var(--mat-select-panel-background-color, var(--mat-sys-surface-container))}@media(forced-colors: active){div.mat-mdc-select-panel{outline:solid 1px}}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}div.mat-mdc-select-panel .mat-mdc-option{--mdc-list-list-item-container-color: var(--mat-select-panel-background-color)}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color, var(--mat-sys-on-surface-variant))}.mat-form-field-no-animations .mat-mdc-select-placeholder,._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:var(--mat-select-arrow-transform, translateY(-8px))}'],encapsulation:2,data:{animation:[fge.transformPanel]},changeDetection:0})}return n})();var bge=["tooltip"],yge=20;var xge=new ue("mat-tooltip-scroll-strategy",{providedIn:"root",factory:()=>{let n=y(vr);return()=>n.scrollStrategies.reposition({scrollThrottle:yge})}});function wge(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}var Cge=new ue("mat-tooltip-default-options",{providedIn:"root",factory:wge});var Y6="tooltip-panel",X6=xl({passive:!0}),Sge=8,Ige=8,Dge=24,Ege=200,qd=(()=>{class n{_overlay=y(vr);_elementRef=y(He);_scrollDispatcher=y(Ad);_viewContainerRef=y(Go);_ngZone=y(et);_platform=y(Zt);_ariaDescriber=y(LC);_focusMonitor=y(Us);_dir=y(mn);_injector=y(Si);_defaultOptions=y(Cge,{optional:!0});_overlayRef;_tooltipInstance;_portal;_position="below";_positionAtOrigin=!1;_disabled=!1;_tooltipClass;_scrollStrategy=y(xge);_viewInitialized=!1;_pointerExitEventsInitialized=!1;_tooltipComponent=kge;_viewportMargin=8;_currentPosition;_cssClassPrefix="mat-mdc";_ariaDescriptionPending;_dirSubscribed=!1;get position(){return this._position}set position(e){e!==this._position&&(this._position=e,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(e){this._positionAtOrigin=yn(e),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(e){let i=yn(e);this._disabled!==i&&(this._disabled=i,i?this.hide(0):this._setupPointerEnterEventsIfNeeded(),this._syncAriaDescription(this.message))}get showDelay(){return this._showDelay}set showDelay(e){this._showDelay=Mo(e)}_showDelay;get hideDelay(){return this._hideDelay}set hideDelay(e){this._hideDelay=Mo(e),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}_hideDelay;touchGestures="auto";get message(){return this._message}set message(e){let i=this._message;this._message=e!=null?String(e).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage()),this._syncAriaDescription(i)}_message="";get tooltipClass(){return this._tooltipClass}set tooltipClass(e){this._tooltipClass=e,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}_passiveListeners=[];_document=y(kt);_touchstartTimeout=null;_destroyed=new Ee;_isDestroyed=!1;constructor(){let e=this._defaultOptions;e&&(this._showDelay=e.showDelay,this._hideDelay=e.hideDelay,e.position&&(this.position=e.position),e.positionAtOrigin&&(this.positionAtOrigin=e.positionAtOrigin),e.touchGestures&&(this.touchGestures=e.touchGestures),e.tooltipClass&&(this.tooltipClass=e.tooltipClass)),this._viewportMargin=Sge}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(vt(this._destroyed)).subscribe(e=>{e?e==="keyboard"&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){let e=this._elementRef.nativeElement;this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([i,o])=>{e.removeEventListener(i,o,X6)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._isDestroyed=!0,this._ariaDescriber.removeDescription(e,this.message,"tooltip"),this._focusMonitor.stopMonitoring(e)}show(e=this.showDelay,i){if(this.disabled||!this.message||this._isTooltipVisible()){this._tooltipInstance?._cancelPendingAnimations();return}let o=this._createOverlay(i);this._detach(),this._portal=this._portal||new Rd(this._tooltipComponent,this._viewContainerRef);let r=this._tooltipInstance=o.attach(this._portal).instance;r._triggerElement=this._elementRef.nativeElement,r._mouseLeaveHideDelay=this._hideDelay,r.afterHidden().pipe(vt(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),r.show(e)}hide(e=this.hideDelay){let i=this._tooltipInstance;i&&(i.isVisible()?i.hide(e):(i._cancelPendingAnimations(),this._detach()))}toggle(e){this._isTooltipVisible()?this.hide():this.show(void 0,e)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(e){if(this._overlayRef){let r=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!e)&&r._origin instanceof He)return this._overlayRef;this._detach()}let i=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),o=this._overlay.position().flexibleConnectedTo(this.positionAtOrigin?e||this._elementRef:this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(i);return o.positionChanges.pipe(vt(this._destroyed)).subscribe(r=>{this._updateCurrentPositionClass(r.connectionPair),this._tooltipInstance&&r.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:o,panelClass:`${this._cssClassPrefix}-${Y6}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(vt(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(vt(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(vt(this._destroyed)).subscribe(r=>{this._isTooltipVisible()&&r.keyCode===27&&!ao(r)&&(r.preventDefault(),r.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._dirSubscribed||(this._dirSubscribed=!0,this._dir.change.pipe(vt(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(e){let i=e.getConfig().positionStrategy,o=this._getOrigin(),r=this._getOverlayPosition();i.withPositions([this._addOffset(j(j({},o.main),r.main)),this._addOffset(j(j({},o.fallback),r.fallback))])}_addOffset(e){let i=Ige,o=!this._dir||this._dir.value=="ltr";return e.originY==="top"?e.offsetY=-i:e.originY==="bottom"?e.offsetY=i:e.originX==="start"?e.offsetX=o?-i:i:e.originX==="end"&&(e.offsetX=o?i:-i),e}_getOrigin(){let e=!this._dir||this._dir.value=="ltr",i=this.position,o;i=="above"||i=="below"?o={originX:"center",originY:i=="above"?"top":"bottom"}:i=="before"||i=="left"&&e||i=="right"&&!e?o={originX:"start",originY:"center"}:(i=="after"||i=="right"&&e||i=="left"&&!e)&&(o={originX:"end",originY:"center"});let{x:r,y:s}=this._invertPosition(o.originX,o.originY);return{main:o,fallback:{originX:r,originY:s}}}_getOverlayPosition(){let e=!this._dir||this._dir.value=="ltr",i=this.position,o;i=="above"?o={overlayX:"center",overlayY:"bottom"}:i=="below"?o={overlayX:"center",overlayY:"top"}:i=="before"||i=="left"&&e||i=="right"&&!e?o={overlayX:"end",overlayY:"center"}:(i=="after"||i=="right"&&e||i=="left"&&!e)&&(o={overlayX:"start",overlayY:"center"});let{x:r,y:s}=this._invertPosition(o.overlayX,o.overlayY);return{main:o,fallback:{overlayX:r,overlayY:s}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),So(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()},{injector:this._injector}))}_setTooltipClass(e){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=e,this._tooltipInstance._markForCheck())}_invertPosition(e,i){return this.position==="above"||this.position==="below"?i==="top"?i="bottom":i==="bottom"&&(i="top"):e==="end"?e="start":e==="start"&&(e="end"),{x:e,y:i}}_updateCurrentPositionClass(e){let{overlayY:i,originX:o,originY:r}=e,s;if(i==="center"?this._dir&&this._dir.value==="rtl"?s=o==="end"?"left":"right":s=o==="start"?"left":"right":s=i==="bottom"&&r==="top"?"above":"below",s!==this._currentPosition){let a=this._overlayRef;if(a){let l=`${this._cssClassPrefix}-${Y6}-`;a.removePanelClass(l+this._currentPosition),a.addPanelClass(l+s)}this._currentPosition=s}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",e=>{this._setupPointerExitEventsIfNeeded();let i;e.x!==void 0&&e.y!==void 0&&(i=e),this.show(void 0,i)}]):this.touchGestures!=="off"&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",e=>{let i=e.targetTouches?.[0],o=i?{x:i.clientX,y:i.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),this._touchstartTimeout&&clearTimeout(this._touchstartTimeout);let r=500;this._touchstartTimeout=setTimeout(()=>{this._touchstartTimeout=null,this.show(void 0,o)},this._defaultOptions?.touchLongPressShowDelay??r)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;let e=[];if(this._platformSupportsMouseEvents())e.push(["mouseleave",i=>{let o=i.relatedTarget;(!o||!this._overlayRef?.overlayElement.contains(o))&&this.hide()}],["wheel",i=>this._wheelListener(i)]);else if(this.touchGestures!=="off"){this._disableNativeGesturesIfNecessary();let i=()=>{this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions?.touchendHideDelay)};e.push(["touchend",i],["touchcancel",i])}this._addListeners(e),this._passiveListeners.push(...e)}_addListeners(e){e.forEach(([i,o])=>{this._elementRef.nativeElement.addEventListener(i,o,X6)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(e){if(this._isTooltipVisible()){let i=this._document.elementFromPoint(e.clientX,e.clientY),o=this._elementRef.nativeElement;i!==o&&!o.contains(i)&&this.hide()}}_disableNativeGesturesIfNecessary(){let e=this.touchGestures;if(e!=="off"){let i=this._elementRef.nativeElement,o=i.style;(e==="on"||i.nodeName!=="INPUT"&&i.nodeName!=="TEXTAREA")&&(o.userSelect=o.msUserSelect=o.webkitUserSelect=o.MozUserSelect="none"),(e==="on"||!i.draggable)&&(o.webkitUserDrag="none"),o.touchAction="none",o.webkitTapHighlightColor="transparent"}}_syncAriaDescription(e){this._ariaDescriptionPending||(this._ariaDescriptionPending=!0,this._ariaDescriber.removeDescription(this._elementRef.nativeElement,e,"tooltip"),this._isDestroyed||So({write:()=>{this._ariaDescriptionPending=!1,this.message&&!this.disabled&&this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")}},{injector:this._injector}))}static \u0275fac=function(i){return new(i||n)};static \u0275dir=ge({type:n,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(i,o){i&2&&ke("mat-mdc-tooltip-disabled",o.disabled)},inputs:{position:[0,"matTooltipPosition","position"],positionAtOrigin:[0,"matTooltipPositionAtOrigin","positionAtOrigin"],disabled:[0,"matTooltipDisabled","disabled"],showDelay:[0,"matTooltipShowDelay","showDelay"],hideDelay:[0,"matTooltipHideDelay","hideDelay"],touchGestures:[0,"matTooltipTouchGestures","touchGestures"],message:[0,"matTooltip","message"],tooltipClass:[0,"matTooltipClass","tooltipClass"]},exportAs:["matTooltip"]})}return n})(),kge=(()=>{class n{_changeDetectorRef=y(Yt);_elementRef=y(He);_isMultiline=!1;message;tooltipClass;_showTimeoutId;_hideTimeoutId;_triggerElement;_mouseLeaveHideDelay;_animationsDisabled;_tooltip;_closeOnInteraction=!1;_isVisible=!1;_onHide=new Ee;_showAnimation="mat-mdc-tooltip-show";_hideAnimation="mat-mdc-tooltip-hide";constructor(){let e=y(Wi,{optional:!0});this._animationsDisabled=e==="NoopAnimations"}show(e){this._hideTimeoutId!=null&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},e)}hide(e){this._showTimeoutId!=null&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},e)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:e}){(!e||!this._triggerElement.contains(e))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){let e=this._elementRef.nativeElement.getBoundingClientRect();return e.height>Dge&&e.width>=Ege}_handleAnimationEnd({animationName:e}){(e===this._showAnimation||e===this._hideAnimation)&&this._finalizeAnimation(e===this._showAnimation)}_cancelPendingAnimations(){this._showTimeoutId!=null&&clearTimeout(this._showTimeoutId),this._hideTimeoutId!=null&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(e){e?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(e){let i=this._tooltip.nativeElement,o=this._showAnimation,r=this._hideAnimation;if(i.classList.remove(e?r:o),i.classList.add(e?o:r),this._isVisible!==e&&(this._isVisible=e,this._changeDetectorRef.markForCheck()),e&&!this._animationsDisabled&&typeof getComputedStyle=="function"){let s=getComputedStyle(i);(s.getPropertyValue("animation-duration")==="0s"||s.getPropertyValue("animation-name")==="none")&&(this._animationsDisabled=!0)}e&&this._onShow(),this._animationsDisabled&&(i.classList.add("_mat-animation-noopable"),this._finalizeAnimation(e))}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Q({type:n,selectors:[["mat-tooltip-component"]],viewQuery:function(i,o){if(i&1&&rt(bge,7),i&2){let r;me(r=pe())&&(o._tooltip=r.first)}},hostAttrs:["aria-hidden","true"],hostBindings:function(i,o){i&1&&le("mouseleave",function(s){return o._handleMouseLeave(s)})},decls:4,vars:4,consts:[["tooltip",""],[1,"mdc-tooltip","mat-mdc-tooltip",3,"animationend","ngClass"],[1,"mat-mdc-tooltip-surface","mdc-tooltip__surface"]],template:function(i,o){if(i&1){let r=Nt();x(0,"div",1,0),le("animationend",function(a){return Ze(r),Qe(o._handleAnimationEnd(a))}),x(2,"div",2),P(3),w()()}i&2&&(ke("mdc-tooltip--multiline",o._isMultiline),z("ngClass",o.tooltipClass),I(3),be(o.message))},dependencies:[bx],styles:['.mat-mdc-tooltip{position:relative;transform:scale(0);display:inline-flex}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-surface{word-break:normal;overflow-wrap:anywhere;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center;will-change:transform,opacity;background-color:var(--mdc-plain-tooltip-container-color, var(--mat-sys-inverse-surface));color:var(--mdc-plain-tooltip-supporting-text-color, var(--mat-sys-inverse-on-surface));border-radius:var(--mdc-plain-tooltip-container-shape, var(--mat-sys-corner-extra-small));font-family:var(--mdc-plain-tooltip-supporting-text-font, var(--mat-sys-body-small-font));font-size:var(--mdc-plain-tooltip-supporting-text-size, var(--mat-sys-body-small-size));font-weight:var(--mdc-plain-tooltip-supporting-text-weight, var(--mat-sys-body-small-weight));line-height:var(--mdc-plain-tooltip-supporting-text-line-height, var(--mat-sys-body-small-line-height));letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking, var(--mat-sys-body-small-tracking))}.mat-mdc-tooltip-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:right}.mat-mdc-tooltip-panel{line-height:normal}.mat-mdc-tooltip-panel.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}'],encapsulation:2,changeDetection:0})}return n})();function Mge(n,t){if(n&1&&(x(0,"mat-option",17),P(1),w()),n&2){let e=t.$implicit;z("value",e),I(),ni(" ",e," ")}}function Tge(n,t){if(n&1){let e=Nt();x(0,"mat-form-field",14)(1,"mat-select",16,0),le("selectionChange",function(o){Ze(e);let r=Y(2);return Qe(r._changePageSize(o.value))}),Vr(3,Mge,2,2,"mat-option",17,Os),w(),x(5,"div",18),le("click",function(){Ze(e);let o=to(2);return Qe(o.open())}),w()()}if(n&2){let e=Y(2);z("appearance",e._formFieldAppearance)("color",e.color),I(),z("value",e.pageSize)("disabled",e.disabled)("aria-labelledby",e._pageSizeLabelId)("panelClass",e.selectConfig.panelClass||"")("disableOptionCentering",e.selectConfig.disableOptionCentering),I(2),Wr(e._displayedPageSizeOptions)}}function Age(n,t){if(n&1&&(x(0,"div",15),P(1),w()),n&2){let e=Y(2);I(),be(e.pageSize)}}function Rge(n,t){if(n&1&&(x(0,"div",3)(1,"div",13),P(2),w(),te(3,Tge,6,7,"mat-form-field",14)(4,Age,2,1,"div",15),w()),n&2){let e=Y();I(),Re("id",e._pageSizeLabelId),I(),ni(" ",e._intl.itemsPerPageLabel," "),I(),Ye(e._displayedPageSizeOptions.length>1?3:-1),I(),Ye(e._displayedPageSizeOptions.length<=1?4:-1)}}function Oge(n,t){if(n&1){let e=Nt();x(0,"button",19),le("click",function(){Ze(e);let o=Y();return Qe(o._buttonClicked(0,o._previousButtonsDisabled()))}),pi(),x(1,"svg",8),X(2,"path",20),w()()}if(n&2){let e=Y();z("matTooltip",e._intl.firstPageLabel)("matTooltipDisabled",e._previousButtonsDisabled())("disabled",e._previousButtonsDisabled()),Re("aria-label",e._intl.firstPageLabel)}}function Pge(n,t){if(n&1){let e=Nt();x(0,"button",21),le("click",function(){Ze(e);let o=Y();return Qe(o._buttonClicked(o.getNumberOfPages()-1,o._nextButtonsDisabled()))}),pi(),x(1,"svg",8),X(2,"path",22),w()()}if(n&2){let e=Y();z("matTooltip",e._intl.lastPageLabel)("matTooltipDisabled",e._nextButtonsDisabled())("disabled",e._nextButtonsDisabled()),Re("aria-label",e._intl.lastPageLabel)}}var ib=(()=>{class n{changes=new Ee;itemsPerPageLabel="Items per page:";nextPageLabel="Next page";previousPageLabel="Previous page";firstPageLabel="First page";lastPageLabel="Last page";getRangeLabel=(e,i,o)=>{if(o==0||i==0)return`0 of ${o}`;o=Math.max(o,0);let r=e*i,s=r<o?Math.min(r+i,o):r+i;return`${r+1} \u2013 ${s} of ${o}`};static \u0275fac=function(i){return new(i||n)};static \u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Lge=50;var Nge=new ue("MAT_PAGINATOR_DEFAULT_OPTIONS"),Ac=(()=>{class n{_intl=y(ib);_changeDetectorRef=y(Yt);_formFieldAppearance;_pageSizeLabelId=y(Yn).getId("mat-paginator-page-size-label-");_intlChanges;_isInitialized=!1;_initializedStream=new cx(1);color;get pageIndex(){return this._pageIndex}set pageIndex(e){this._pageIndex=Math.max(e||0,0),this._changeDetectorRef.markForCheck()}_pageIndex=0;get length(){return this._length}set length(e){this._length=e||0,this._changeDetectorRef.markForCheck()}_length=0;get pageSize(){return this._pageSize}set pageSize(e){this._pageSize=Math.max(e||0,0),this._updateDisplayedPageSizeOptions()}_pageSize;get pageSizeOptions(){return this._pageSizeOptions}set pageSizeOptions(e){this._pageSizeOptions=(e||[]).map(i=>Yi(i,0)),this._updateDisplayedPageSizeOptions()}_pageSizeOptions=[];hidePageSize=!1;showFirstLastButtons=!1;selectConfig={};disabled=!1;page=new Le;_displayedPageSizeOptions;initialized=this._initializedStream;constructor(){let e=this._intl,i=y(Nge,{optional:!0});if(this._intlChanges=e.changes.subscribe(()=>this._changeDetectorRef.markForCheck()),i){let{pageSize:o,pageSizeOptions:r,hidePageSize:s,showFirstLastButtons:a}=i;o!=null&&(this._pageSize=o),r!=null&&(this._pageSizeOptions=r),s!=null&&(this.hidePageSize=s),a!=null&&(this.showFirstLastButtons=a)}this._formFieldAppearance=i?.formFieldAppearance||"outline"}ngOnInit(){this._isInitialized=!0,this._updateDisplayedPageSizeOptions(),this._initializedStream.next()}ngOnDestroy(){this._initializedStream.complete(),this._intlChanges.unsubscribe()}nextPage(){this.hasNextPage()&&this._navigate(this.pageIndex+1)}previousPage(){this.hasPreviousPage()&&this._navigate(this.pageIndex-1)}firstPage(){this.hasPreviousPage()&&this._navigate(0)}lastPage(){this.hasNextPage()&&this._navigate(this.getNumberOfPages()-1)}hasPreviousPage(){return this.pageIndex>=1&&this.pageSize!=0}hasNextPage(){let e=this.getNumberOfPages()-1;return this.pageIndex<e&&this.pageSize!=0}getNumberOfPages(){return this.pageSize?Math.ceil(this.length/this.pageSize):0}_changePageSize(e){let i=this.pageIndex*this.pageSize,o=this.pageIndex;this.pageIndex=Math.floor(i/e)||0,this.pageSize=e,this._emitPageEvent(o)}_nextButtonsDisabled(){return this.disabled||!this.hasNextPage()}_previousButtonsDisabled(){return this.disabled||!this.hasPreviousPage()}_updateDisplayedPageSizeOptions(){this._isInitialized&&(this.pageSize||(this._pageSize=this.pageSizeOptions.length!=0?this.pageSizeOptions[0]:Lge),this._displayedPageSizeOptions=this.pageSizeOptions.slice(),this._displayedPageSizeOptions.indexOf(this.pageSize)===-1&&this._displayedPageSizeOptions.push(this.pageSize),this._displayedPageSizeOptions.sort((e,i)=>e-i),this._changeDetectorRef.markForCheck())}_emitPageEvent(e){this.page.emit({previousPageIndex:e,pageIndex:this.pageIndex,pageSize:this.pageSize,length:this.length})}_navigate(e){let i=this.pageIndex;e!==i&&(this.pageIndex=e,this._emitPageEvent(i))}_buttonClicked(e,i){i||this._navigate(e)}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Q({type:n,selectors:[["mat-paginator"]],hostAttrs:["role","group",1,"mat-mdc-paginator"],inputs:{color:"color",pageIndex:[2,"pageIndex","pageIndex",Yi],length:[2,"length","length",Yi],pageSize:[2,"pageSize","pageSize",Yi],pageSizeOptions:"pageSizeOptions",hidePageSize:[2,"hidePageSize","hidePageSize",Ke],showFirstLastButtons:[2,"showFirstLastButtons","showFirstLastButtons",Ke],selectConfig:"selectConfig",disabled:[2,"disabled","disabled",Ke]},outputs:{page:"page"},exportAs:["matPaginator"],features:[Ut],decls:14,vars:12,consts:[["selectRef",""],[1,"mat-mdc-paginator-outer-container"],[1,"mat-mdc-paginator-container"],[1,"mat-mdc-paginator-page-size"],[1,"mat-mdc-paginator-range-actions"],["aria-live","polite",1,"mat-mdc-paginator-range-label"],["mat-icon-button","","type","button","matTooltipPosition","above","disabledInteractive","",1,"mat-mdc-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","disabled"],["mat-icon-button","","type","button","matTooltipPosition","above","disabledInteractive","",1,"mat-mdc-paginator-navigation-previous",3,"click","matTooltip","matTooltipDisabled","disabled"],["viewBox","0 0 24 24","focusable","false","aria-hidden","true",1,"mat-mdc-paginator-icon"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button","matTooltipPosition","above","disabledInteractive","",1,"mat-mdc-paginator-navigation-next",3,"click","matTooltip","matTooltipDisabled","disabled"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],["mat-icon-button","","type","button","matTooltipPosition","above","disabledInteractive","",1,"mat-mdc-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","disabled"],[1,"mat-mdc-paginator-page-size-label"],[1,"mat-mdc-paginator-page-size-select",3,"appearance","color"],[1,"mat-mdc-paginator-page-size-value"],["hideSingleSelectionIndicator","",3,"selectionChange","value","disabled","aria-labelledby","panelClass","disableOptionCentering"],[3,"value"],[1,"mat-mdc-paginator-touch-target",3,"click"],["mat-icon-button","","type","button","matTooltipPosition","above","disabledInteractive","",1,"mat-mdc-paginator-navigation-first",3,"click","matTooltip","matTooltipDisabled","disabled"],["d","M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"],["mat-icon-button","","type","button","matTooltipPosition","above","disabledInteractive","",1,"mat-mdc-paginator-navigation-last",3,"click","matTooltip","matTooltipDisabled","disabled"],["d","M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"]],template:function(i,o){i&1&&(x(0,"div",1)(1,"div",2),te(2,Rge,5,4,"div",3),x(3,"div",4)(4,"div",5),P(5),w(),te(6,Oge,3,4,"button",6),x(7,"button",7),le("click",function(){return o._buttonClicked(o.pageIndex-1,o._previousButtonsDisabled())}),pi(),x(8,"svg",8),X(9,"path",9),w()(),S_(),x(10,"button",10),le("click",function(){return o._buttonClicked(o.pageIndex+1,o._nextButtonsDisabled())}),pi(),x(11,"svg",8),X(12,"path",11),w()(),te(13,Pge,3,4,"button",12),w()()()),i&2&&(I(2),Ye(o.hidePageSize?-1:2),I(3),ni(" ",o._intl.getRangeLabel(o.pageIndex,o.pageSize,o.length)," "),I(),Ye(o.showFirstLastButtons?6:-1),I(),z("matTooltip",o._intl.previousPageLabel)("matTooltipDisabled",o._previousButtonsDisabled())("disabled",o._previousButtonsDisabled()),Re("aria-label",o._intl.previousPageLabel),I(3),z("matTooltip",o._intl.nextPageLabel)("matTooltipDisabled",o._nextButtonsDisabled())("disabled",o._nextButtonsDisabled()),Re("aria-label",o._intl.nextPageLabel),I(3),Ye(o.showFirstLastButtons?13:-1))},dependencies:[Vo,Ud,_r,Gs,qd],styles:[".mat-mdc-paginator{display:block;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-paginator-container-text-color, var(--mat-sys-on-surface));background-color:var(--mat-paginator-container-background-color, var(--mat-sys-surface));font-family:var(--mat-paginator-container-text-font, var(--mat-sys-body-small-font));line-height:var(--mat-paginator-container-text-line-height, var(--mat-sys-body-small-line-height));font-size:var(--mat-paginator-container-text-size, var(--mat-sys-body-small-size));font-weight:var(--mat-paginator-container-text-weight, var(--mat-sys-body-small-weight));letter-spacing:var(--mat-paginator-container-text-tracking, var(--mat-sys-body-small-tracking));--mat-form-field-container-height:var(--mat-paginator-form-field-container-height, 40px);--mat-form-field-container-vertical-padding:var(--mat-paginator-form-field-container-vertical-padding, 8px)}.mat-mdc-paginator .mat-mdc-select-value{font-size:var(--mat-paginator-select-trigger-text-size, var(--mat-sys-body-small-size))}.mat-mdc-paginator .mat-mdc-form-field-subscript-wrapper{display:none}.mat-mdc-paginator .mat-mdc-select{line-height:1.5}.mat-mdc-paginator-outer-container{display:flex}.mat-mdc-paginator-container{display:flex;align-items:center;justify-content:flex-end;padding:0 8px;flex-wrap:wrap;width:100%;min-height:var(--mat-paginator-container-size, 56px)}.mat-mdc-paginator-page-size{display:flex;align-items:baseline;margin-right:8px}[dir=rtl] .mat-mdc-paginator-page-size{margin-right:0;margin-left:8px}.mat-mdc-paginator-page-size-label{margin:0 4px}.mat-mdc-paginator-page-size-select{margin:0 4px;width:84px}.mat-mdc-paginator-range-label{margin:0 32px 0 24px}.mat-mdc-paginator-range-actions{display:flex;align-items:center}.mat-mdc-paginator-icon{display:inline-block;width:28px;fill:var(--mat-paginator-enabled-icon-color, var(--mat-sys-on-surface-variant))}.mat-mdc-icon-button[aria-disabled] .mat-mdc-paginator-icon{fill:var(--mat-paginator-disabled-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}[dir=rtl] .mat-mdc-paginator-icon{transform:rotate(180deg)}@media(forced-colors: active){.mat-mdc-icon-button[disabled] .mat-mdc-paginator-icon,.mat-mdc-paginator-icon{fill:currentColor;fill:CanvasText}.mat-mdc-paginator-range-actions .mat-mdc-icon-button{outline:solid 1px}}.mat-mdc-paginator-touch-target{display:var(--mat-paginator-touch-target-display, block);position:absolute;top:50%;left:50%;width:84px;height:48px;background-color:rgba(0,0,0,0);transform:translate(-50%, -50%);cursor:pointer}"],encapsulation:2,changeDetection:0})}return n})();var jt=class n{static findByPairWithMaxScore(t,e){if(t&&t.length>0){let i=t.sort((r,s)=>n.compareByScore(r,s,e)*-1),o=this.getScoreByType(i[0],e);return o!=null&&o.score>0?i[0]:null}return null}static compareByScore(t,e,i){let o=n.getScoreByType(t,i),r=n.getScoreByType(e,i);return o?r?o.score-r.score:1:-1}static getFormattedScore(t,e,i=2){let o=this.getScoreByType(t,e);return o!==null?this.formatScore(o.score,i):"0 %"}static formatScore(t,e=2){return(t*100).toFixed(e)+" %"}static getScoreByType(t,e){if(t){let i=t.plagScores.find(o=>o.type===e);return i||null}return null}static hasIndexedSubmission(t,e){let i=e.get(t.firstId),o=e.get(t.secondId);return i.indexed||o.indexed}};var XO=class{_document;_textarea;constructor(t,e){this._document=e;let i=this._textarea=this._document.createElement("textarea"),o=i.style;o.position="fixed",o.top=o.opacity="0",o.left="-999em",i.setAttribute("aria-hidden","true"),i.value=t,i.readOnly=!0,(this._document.fullscreenElement||this._document.body).appendChild(i)}copy(){let t=this._textarea,e=!1;try{if(t){let i=this._document.activeElement;t.select(),t.setSelectionRange(0,t.value.length),e=this._document.execCommand("copy"),i&&i.focus()}}catch{}return e}destroy(){let t=this._textarea;t&&(t.remove(),this._textarea=void 0)}},Z6=(()=>{class n{_document=y(kt);constructor(){}copy(e){let i=this.beginCopy(e),o=i.copy();return i.destroy(),o}beginCopy(e){return new XO(e,this._document)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Xr=class n{constructor(t){this.clipboard=t}isScrolled=!1;isCopied=!1;tabindex="0";onScroll(t){this.isScrolled=t.scrollLeft>0}onClick(t){let e=t.textContent;e&&(this.clipboard.copy(e),this.showFeedback())}showFeedback(){this.isCopied=!0,setTimeout(()=>{this.isCopied=!1},500)}static \u0275fac=function(e){return new(e||n)(ie(Z6))};static \u0275dir=ge({type:n,selectors:[["","appTextOverflowScroll",""]],hostVars:5,hostBindings:function(e,i){e&1&&le("scroll",function(r){return i.onScroll(r.target)})("click",function(r){return i.onClick(r.target)}),e&2&&(Re("tabindex",i.tabindex),ke("scrolled",i.isScrolled)("text-copy",i.isCopied))}})};var zge=()=>[10,20,30,40];function Bge(n,t){n&1&&(x(0,"th",22),P(1," Odosielate\u013E dokumentu "),w())}function Hge(n,t){if(n&1&&(x(0,"td",23)(1,"div",24),P(2),w()()),n&2){let e=t.$implicit,i=Y();I(2),ni(" ",i.getSubmissionById(e.firstId).fileData.submitter," ")}}function Vge(n,t){n&1&&(x(0,"th",25),P(1," Odosielate\u013E dokumentu "),w())}function Wge(n,t){if(n&1&&(x(0,"td",23)(1,"div",24),P(2),w()()),n&2){let e=t.$implicit,i=Y();I(2),ni(" ",i.getSubmissionById(e.secondId).fileData.submitter," ")}}function jge(n,t){n&1&&(x(0,"th",26),P(1," Zhoda meta\xFAdajov "),w())}function Uge(n,t){if(n&1&&(x(0,"td",23),P(1),w()),n&2){let e=t.$implicit,i=Y();I(),ni(" ",i.isMetadataMatched(e)?"Pr\xEDtomn\xE1":"Nen\xE1jden\xE1"," ")}}function qge(n,t){n&1&&(x(0,"th",27),P(1," Jaccardov koeficient (slovn\xE9 n-gramy) "),w())}function Gge(n,t){if(n&1&&(x(0,"td",23),P(1),w()),n&2){let e=t.$implicit,i=Y();I(),ni(" ",i.getScoreByType(e,"JACCARD")," ")}}function $ge(n,t){n&1&&(x(0,"th",28),P(1," Semantick\xE1 podobnos\u0165 "),w())}function Kge(n,t){if(n&1&&(x(0,"td",23),P(1),w()),n&2){let e=t.$implicit,i=Y();I(),ni(" ",i.getScoreByType(e,"SEMANTIC")," ")}}function Yge(n,t){n&1&&X(0,"th",29)}function Xge(n,t){if(n&1){let e=Nt();x(0,"td",23)(1,"button",30),le("click",function(){let o=Ze(e).$implicit,r=Y();return Qe(r.onLoadPair(o))}),P(2," Na\u010Dita\u0165 "),w()()}}function Zge(n,t){n&1&&X(0,"tr",31)}function Qge(n,t){n&1&&X(0,"tr",32)}var Gd=class n{constructor(t,e,i){this.analysisContext=t;this.routeContextService=e;this.router=i;ln(()=>{this.pairsDataSource.data=this.pairsSource().sort((o,r)=>this.getMaxScore(r)-this.getMaxScore(o))})}static CONTEXT_KEY="pairs-table";pairsDisplayedColumns=["firstDocumentName","secondDocumentName","meta-match","jaccard-sim","sem-sim","moreButton"];pairsSource;contextPrefix="";isHalfPage=!1;sort;matPaginator;searchText=Ue("");pairsDataSource=new jd;ngAfterViewInit(){this.pairsDataSource.paginator=this.matPaginator,this.pairsDataSource.filterPredicate=this.rowsFilter.bind(this),this.pairsDataSource.sort=this.sort,this.applyContext()}rowsFilter(t,e){let i=this.getSubmissionById(t.firstId),o=this.getSubmissionById(t.secondId),r=`${i.fileData.submitter.toLowerCase()} ${o.fileData.submitter.toLowerCase()}`,s=e.split(/\s+/);for(let a of s)if(!r.includes(a))return!1;return!0}getSubmissionById(t){return this.analysisContext.getReport()().submissions.get(t)}onSorting(t){let e=t.direction==="asc"?1:-1;switch(t.active){case"first":{this.pairsDataSource.filteredData.sort((i,o)=>this.getSubmissionById(i.firstId).fileData.submitter.localeCompare(this.getSubmissionById(o.firstId).fileData.submitter)*e);break}case"second":{this.pairsDataSource.filteredData.sort((i,o)=>this.getSubmissionById(i.secondId).fileData.submitter.localeCompare(this.getSubmissionById(o.secondId).fileData.submitter)*e);break}case"meta-match":{this.pairsDataSource.filteredData.sort((i,o)=>jt.compareByScore(i,o,"META")*e);break}case"jaccard-sim":{this.pairsDataSource.filteredData.sort((i,o)=>jt.compareByScore(i,o,"JACCARD")*e);break}case"sem-sim":{this.pairsDataSource.filteredData.sort((i,o)=>jt.compareByScore(i,o,"SEMANTIC")*e);break}}}onLoadPair(t){this.router.navigate(["/pairs",t.id])}applyFilter(t){this.pairsDataSource.filter=t.trim()?.toLowerCase()}isMetadataMatched(t){let e=jt.getScoreByType(t,"META");return e?e.score>0:0}getScoreByType(t,e){let i=jt.getScoreByType(t,e);return jt.formatScore(i?i.score:0,1)}getMaxScore(t){let e=[...t.plagScores.map(i=>i.score*100)];return Math.max(...e)}ngOnDestroy(){this.routeContextService.putProperty(n.CONTEXT_KEY,JSON.stringify({filter:this.searchText()}),this.contextPrefix)}applyContext(){let t=this.routeContextService.popProperty(n.CONTEXT_KEY,this.contextPrefix);if(t){let e=JSON.parse(t);this.searchText.set(e.filter),this.applyFilter(this.searchText())}}static \u0275fac=function(e){return new(e||n)(ie(Wt),ie(Sl),ie(xi))};static \u0275cmp=Q({type:n,selectors:[["app-pairs-table"]],viewQuery:function(e,i){if(e&1&&(rt(Il,5),rt(Ac,5)),e&2){let o;me(o=pe())&&(i.sort=o.first),me(o=pe())&&(i.matPaginator=o.first)}},inputs:{pairsSource:"pairsSource",contextPrefix:"contextPrefix",isHalfPage:"isHalfPage"},decls:29,vars:13,consts:[[1,"table-container"],[1,"table-search-row"],[1,"search-bar"],["matInput","",3,"ngModelChange","ngModel"],[1,"table-responsive","height-65"],["mat-table","","matSort","",1,"mat-elevation-z20",3,"matSortChange","dataSource"],["matColumnDef","firstDocumentName"],["mat-header-cell","","mat-sort-header","first",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","secondDocumentName"],["mat-header-cell","","mat-sort-header","second",4,"matHeaderCellDef"],["matColumnDef","meta-match"],["mat-header-cell","","mat-sort-header","meta-match",4,"matHeaderCellDef"],["matColumnDef","jaccard-sim"],["mat-header-cell","","mat-sort-header","jaccard-sim",4,"matHeaderCellDef"],["matColumnDef","sem-sim"],["mat-header-cell","","mat-sort-header","sem-sim",4,"matHeaderCellDef"],["matColumnDef","moreButton"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"length","pageSize","pageSizeOptions"],["mat-header-cell","","mat-sort-header","first"],["mat-cell",""],["appTextOverflowScroll","",1,"scrollable-text"],["mat-header-cell","","mat-sort-header","second"],["mat-header-cell","","mat-sort-header","meta-match"],["mat-header-cell","","mat-sort-header","jaccard-sim"],["mat-header-cell","","mat-sort-header","sem-sim"],["mat-header-cell",""],["mat-button","",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(e,i){e&1&&(x(0,"div",0)(1,"div",1)(2,"mat-form-field",2)(3,"mat-label"),P(4,"H\u013Eada\u0165"),w(),x(5,"input",3),va("ngModelChange",function(r){return _a(i.searchText,r)||(i.searchText=r),r}),le("ngModelChange",function(r){return i.applyFilter(r)}),w()()(),x(6,"div",4)(7,"table",5),le("matSortChange",function(r){return i.onSorting(r)}),rn(8,6),te(9,Bge,2,0,"th",7)(10,Hge,3,1,"td",8),sn(),rn(11,9),te(12,Vge,2,0,"th",10)(13,Wge,3,1,"td",8),sn(),rn(14,11),te(15,jge,2,0,"th",12)(16,Uge,2,1,"td",8),sn(),rn(17,13),te(18,qge,2,0,"th",14)(19,Gge,2,1,"td",8),sn(),rn(20,15),te(21,$ge,2,0,"th",16)(22,Kge,2,1,"td",8),sn(),rn(23,17),te(24,Yge,1,0,"th",18)(25,Xge,3,0,"td",8),sn(),te(26,Zge,1,0,"tr",19)(27,Qge,1,0,"tr",20),w()(),X(28,"mat-paginator",21),w()),e&2&&(ke("height-50",i.isHalfPage)("width-55",i.isHalfPage),I(5),ga("ngModel",i.searchText),I(2),z("dataSource",i.pairsDataSource),I(19),z("matHeaderRowDef",i.pairsDisplayedColumns)("matHeaderRowDefSticky",!0),I(),z("matRowDefColumns",i.pairsDisplayedColumns),I(),z("length",i.pairsDataSource.data.length)("pageSize",20)("pageSizeOptions",Ps(12,zge)))},dependencies:[Vo,Wd,Xn,$r,Kr,bs,uf,Il,pf,ff,gf,Mn,bf,Ho,yf,Ac,xf,hf,mf,_f,vf,Xr],styles:[`.mat-column-meta-match{min-width:10%;width:10%}.mat-column-firstDocumentName,.mat-column-secondDocumentName{box-sizing:content-box;min-width:25%;width:25%}.mat-column-moreButton{text-align:center;width:8%;min-width:8%}.mat-column-jaccard-sim,.mat-column-sem-sim{min-width:8%}th[mat-sort-header=sem-sim] .mat-sort-header-container,th[mat-sort-header=jaccard-sim] .mat-sort-header-container{justify-content:flex-end}td.mat-column-jaccard-sim,td.mat-column-sem-sim{text-align:end}
`,`:root{--mdc-filled-text-field-container-color: #faf9fd}:root{--mdc-filled-text-field-focus-active-indicator-color: transparent}:root{--mdc-filled-text-field-active-indicator-height: 0}.table-responsive{display:block;min-width:100%;box-sizing:border-box;overflow-x:scroll;overflow-y:scroll;border-bottom:1px solid var(--mat-sys-outline);background-color:#faf9fd}.table-responsive .mat-mdc-table{table-layout:auto;min-width:100%;max-width:100%;margin-bottom:1rem;display:table;border-collapse:collapse;margin:0;overflow-x:scroll}.table-responsive .mat-row,.table-responsive .mat-header-row{display:table-row}.table-responsive .mat-mdc-cell,.table-responsive .mat-mdc-header-cell{word-wrap:initial;display:table-cell;padding:0 8px;line-break:unset;flex-direction:column;white-space:nowrap;overflow:hidden;vertical-align:middle}.table-container{display:flex;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f;width:100%;flex-direction:column;box-sizing:border-box;overflow:hidden;border-radius:var(--mat-sys-corner-extra-large);background-color:var(--mat-sys-surface-container-high)}.table-container .table-search-row{display:flex;flex-direction:row;gap:8px;justify-content:space-between;align-items:center;padding:8px}.table-container .search-bar{width:100%;box-shadow:0 3px 1px -2px #0003,0 2px 2px #00000024,0 1px 5px #0000001f;overflow:hidden;border-radius:var(--mat-sys-corner-extra-large)}.table-container .search-bar .mat-mdc-form-field-subscript-wrapper{width:0;height:0}.table-container mat-paginator{border-radius:var(--mat-sys-corner-extra-small)}@media (max-width: 1350px){.table-container{width:900px}}@media (max-width: 1050px){.table-container{width:640px}}@media (max-width: 440px){.table-container{width:100%}}.cell-width-12{max-width:12rem}.cell-width-6{max-width:6rem}.height-65{height:65vh}.height-50{height:50vh}.width-50{width:50vw}.width-55{min-width:60vw}td.meta-warning{background-color:#ffb300}
`],encapsulation:2})};function Jge(n,t){n&1&&(x(0,"app-surface",2),X(1,"mat-progress-bar",3),w())}function e_e(n,t){if(n&1&&(x(0,"app-surface",4),X(1,"app-pairs-table",5),w()),n&2){let e=Y();z("isTitleCentered",!0)("isContentCentered",!1),I(),z("pairsSource",e.pairs)}}var PS=class n{constructor(t){this.analysisContext=t;ln(()=>{let e=this.analysisContext.getReport()().pairs.values();e&&(this.pairs.set(Array.from(e)),this.isReportLoaded=!0)})}pairs=Ue([]);isReportLoaded=!1;static \u0275fac=function(e){return new(e||n)(ie(Wt))};static \u0275cmp=Q({type:n,selectors:[["app-submission-pairs-page"]],decls:3,vars:2,consts:[["title","Na\u010D\xEDtanie dvoj\xEDc","subtitle","",4,"ngIf"],["title","Dvojice odovzdan\xED","subtitle","",3,"isTitleCentered","isContentCentered",4,"ngIf"],["title","Na\u010D\xEDtanie dvoj\xEDc","subtitle",""],["mode","indeterminate"],["title","Dvojice odovzdan\xED","subtitle","",3,"isTitleCentered","isContentCentered"],["contextPrefix","submission-pairs-page",3,"pairsSource"]],template:function(e,i){e&1&&(x(0,"app-content-container"),te(1,Jge,2,0,"app-surface",0)(2,e_e,2,3,"app-surface",1),w()),e&2&&(I(),z("ngIf",!i.isReportLoaded),I(),z("ngIf",i.isReportLoaded))},dependencies:[Xn,fo,Vd,An,Gd,Rn],encapsulation:2})};var t_e=["editorContainer"],i_e="[_nghost-%COMP%]{display:block;height:200px}.editor-container[_ngcontent-%COMP%]{width:100%;height:98%}",eG=new ue("NGX_MONACO_EDITOR_CONFIG"),Q6=!1,J6,tG=(()=>{class n{constructor(){this.config=y(eG),this.onInit=new Le,this._insideNg=!1}set insideNg(e){this._insideNg=e,this._editor&&(this._editor.dispose(),this.initMonaco(this._options,this.insideNg))}get insideNg(){return this._insideNg}ngAfterViewInit(){Q6?J6.then(()=>{this.initMonaco(this._options,this.insideNg)}):(Q6=!0,J6=new Promise(e=>{let i=this.config.baseUrl;if((i==="assets"||!i)&&(i="./assets/monaco/min/vs"),typeof window.monaco=="object"){this.initMonaco(this._options,this.insideNg),e();return}let o=a=>{let l=a||window.require,c={paths:{vs:`${i}`}};Object.assign(c,this.config.requireConfig||{}),l.config(c),l(["vs/editor/editor.main"],()=>{typeof this.config.onMonacoLoad=="function"&&this.config.onMonacoLoad(),this.initMonaco(this._options,this.insideNg),e()})};if(this.config.monacoRequire)o(this.config.monacoRequire);else if(window.require)if(window.require.config)o();else{var r=`${i}/loader.js`,s=new XMLHttpRequest;s.addEventListener("load",()=>{let a=document.createElement("script");a.type="text/javascript",a.text=["var nodeRequire = require;",s.responseText.replace('"use strict";',""),"var monacoAmdRequire = require;","require = nodeRequire;","require.nodeRequire = require;"].join(`
`),document.body.appendChild(a),o(window.monacoAmdRequire)}),s.open("GET",r),s.send()}else{let a=document.createElement("script");a.type="text/javascript",a.src=`${i}/loader.js`,a.addEventListener("load",()=>{o()}),document.body.appendChild(a)}}))}ngOnDestroy(){this._windowResizeSubscription&&this._windowResizeSubscription.unsubscribe(),this._editor&&(this._editor.dispose(),this._editor=void 0)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=Q({type:n,selectors:[["ng-component"]],viewQuery:function(i,o){if(i&1&&rt(t_e,7),i&2){let r;me(r=pe())&&(o._editorContainer=r.first)}},inputs:{insideNg:"insideNg"},outputs:{onInit:"onInit"},standalone:!1,decls:0,vars:0,template:function(i,o){},encapsulation:2})}}return n})(),iG=(()=>{class n extends tG{constructor(){super(...arguments),this.zone=y(et),this._value="",this.propagateChange=e=>{},this.onTouched=()=>{}}set options(e){this._options=Object.assign({},this.config.defaultOptions,e),this._editor&&(this._editor.dispose(),this.initMonaco(e,this.insideNg))}get options(){return this._options}set model(e){this.options.model=e,this._editor&&(this._editor.dispose(),this.initMonaco(this.options,this.insideNg))}writeValue(e){this._value=e||"",setTimeout(()=>{this._editor&&!this.options.model&&this._editor.setValue(this._value)})}registerOnChange(e){this.propagateChange=e}registerOnTouched(e){this.onTouched=e}initMonaco(e,i){let o=!!e.model;if(o){let r=monaco.editor.getModel(e.model.uri||"");r?(e.model=r,e.model.setValue(this._value)):e.model=monaco.editor.createModel(e.model.value,e.model.language,e.model.uri)}i?this._editor=monaco.editor.create(this._editorContainer.nativeElement,e):this.zone.runOutsideAngular(()=>{this._editor=monaco.editor.create(this._editorContainer.nativeElement,e)}),o||this._editor.setValue(this._value),this._editor.onDidChangeModelContent(r=>{let s=this._editor.getValue();this.zone.run(()=>{this.propagateChange(s),this._value=s})}),this._editor.onDidBlurEditorWidget(()=>{this.onTouched()}),this._windowResizeSubscription&&this._windowResizeSubscription.unsubscribe(),this._windowResizeSubscription=Gu(window,"resize").subscribe(()=>this._editor.layout()),this.onInit.emit(this._editor)}static{this.\u0275fac=(()=>{let e;return function(o){return(e||(e=ti(n)))(o||n)}})()}static{this.\u0275cmp=Q({type:n,selectors:[["ngx-monaco-editor"]],inputs:{options:"options",model:"model"},features:[At([{provide:Na,useExisting:cr(()=>n),multi:!0}]),dt],decls:2,vars:0,consts:[["editorContainer",""],[1,"editor-container"]],template:function(i,o){i&1&&X(0,"div",1,0)},styles:["[_nghost-%COMP%]{display:block;height:200px}.editor-container[_ngcontent-%COMP%]{width:100%;height:98%}"],changeDetection:0})}}return n})(),nG=(()=>{class n extends tG{constructor(){super(...arguments),this.zone=y(et)}set options(e){this._options=Object.assign({},this.config.defaultOptions,e),this._editor&&(this._editor.dispose(),this.initMonaco(e,this.insideNg))}get options(){return this._options}set originalModel(e){this._originalModel=e,this._editor&&(this._editor.dispose(),this.initMonaco(this.options,this.insideNg))}set modifiedModel(e){this._modifiedModel=e,this._editor&&(this._editor.dispose(),this.initMonaco(this.options,this.insideNg))}initMonaco(e,i){if(!this._originalModel||!this._modifiedModel)throw new Error("originalModel or modifiedModel not found for ngx-monaco-diff-editor");this._originalModel.language=this._originalModel.language||e.language,this._modifiedModel.language=this._modifiedModel.language||e.language;let o=monaco.editor.createModel(this._originalModel.code,this._originalModel.language),r=monaco.editor.createModel(this._modifiedModel.code,this._modifiedModel.language);this._editorContainer.nativeElement.innerHTML="";let s=e.theme;i?this._editor=monaco.editor.createDiffEditor(this._editorContainer.nativeElement,e):this.zone.runOutsideAngular(()=>{this._editor=monaco.editor.createDiffEditor(this._editorContainer.nativeElement,e)}),e.theme=s,this._editor.setModel({original:o,modified:r}),this._windowResizeSubscription&&this._windowResizeSubscription.unsubscribe(),this._windowResizeSubscription=Gu(window,"resize").subscribe(()=>this._editor.layout()),this.onInit.emit(this._editor)}static{this.\u0275fac=(()=>{let e;return function(o){return(e||(e=ti(n)))(o||n)}})()}static{this.\u0275cmp=Q({type:n,selectors:[["ngx-monaco-diff-editor"]],inputs:{options:"options",originalModel:"originalModel",modifiedModel:"modifiedModel"},features:[dt],decls:2,vars:0,consts:[["editorContainer",""],[1,"editor-container"]],template:function(i,o){i&1&&X(0,"div",1,0)},styles:[i_e],changeDetection:0})}}return n})();function oG(n={}){return tc([{provide:eG,useValue:n}])}var n_e=Object.defineProperty,o_e=Object.getOwnPropertyDescriptor,r_e=Object.getOwnPropertyNames,s_e=Object.prototype.hasOwnProperty,rG=(n,t,e,i)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of r_e(t))!s_e.call(n,o)&&o!==e&&n_e(n,o,{get:()=>t[o],enumerable:!(i=o_e(t,o))||i.enumerable});return n},a_e=(n,t,e)=>(rG(n,t,"default"),e&&rG(e,t,"default")),nb={};a_e(nb,Dd);var sG={},ZO={},l_e=class aG{static getOrCreate(t){return ZO[t]||(ZO[t]=new aG(t)),ZO[t]}constructor(t){this._languageId=t,this._loadingTriggered=!1,this._lazyLoadPromise=new Promise((e,i)=>{this._lazyLoadPromiseResolve=e,this._lazyLoadPromiseReject=i})}load(){return this._loadingTriggered||(this._loadingTriggered=!0,sG[this._languageId].loader().then(t=>this._lazyLoadPromiseResolve(t),t=>this._lazyLoadPromiseReject(t))),this._lazyLoadPromise}};function $(n){let t=n.id;sG[t]=n,nb.languages.register(n);let e=l_e.getOrCreate(t);nb.languages.registerTokensProviderFactory(t,{create:()=>k(this,null,function*(){return(yield e.load()).language})}),nb.languages.onLanguageEncountered(t,()=>k(this,null,function*(){let i=yield e.load();nb.languages.setLanguageConfiguration(t,i.conf)}))}$({id:"abap",extensions:[".abap"],aliases:["abap","ABAP"],loader:()=>import("./chunk-ZMZBMM4M.js")});$({id:"apex",extensions:[".cls"],aliases:["Apex","apex"],mimetypes:["text/x-apex-source","text/x-apex"],loader:()=>import("./chunk-5MCHQ46W.js")});$({id:"azcli",extensions:[".azcli"],aliases:["Azure CLI","azcli"],loader:()=>import("./chunk-WUQ32F5U.js")});$({id:"bat",extensions:[".bat",".cmd"],aliases:["Batch","bat"],loader:()=>import("./chunk-YIOKXSYL.js")});$({id:"bicep",extensions:[".bicep"],aliases:["Bicep"],loader:()=>import("./chunk-JUJ4H7MM.js")});$({id:"cameligo",extensions:[".mligo"],aliases:["Cameligo"],loader:()=>import("./chunk-R4M76G2V.js")});$({id:"clojure",extensions:[".clj",".cljs",".cljc",".edn"],aliases:["clojure","Clojure"],loader:()=>import("./chunk-J67TFUZB.js")});$({id:"coffeescript",extensions:[".coffee"],aliases:["CoffeeScript","coffeescript","coffee"],mimetypes:["text/x-coffeescript","text/coffeescript"],loader:()=>import("./chunk-BJKBAKFG.js")});$({id:"c",extensions:[".c",".h"],aliases:["C","c"],loader:()=>import("./chunk-IGLTNPMW.js")});$({id:"cpp",extensions:[".cpp",".cc",".cxx",".hpp",".hh",".hxx"],aliases:["C++","Cpp","cpp"],loader:()=>import("./chunk-IGLTNPMW.js")});$({id:"csharp",extensions:[".cs",".csx",".cake"],aliases:["C#","csharp"],loader:()=>import("./chunk-B3AUUCLB.js")});$({id:"csp",extensions:[".csp"],aliases:["CSP","csp"],loader:()=>import("./chunk-VZIJWO5X.js")});$({id:"css",extensions:[".css"],aliases:["CSS","css"],mimetypes:["text/css"],loader:()=>import("./chunk-AB5Y2AWX.js")});$({id:"cypher",extensions:[".cypher",".cyp"],aliases:["Cypher","OpenCypher"],loader:()=>import("./chunk-MR4ONIOP.js")});$({id:"dart",extensions:[".dart"],aliases:["Dart","dart"],mimetypes:["text/x-dart-source","text/x-dart"],loader:()=>import("./chunk-TLVPBSHK.js")});$({id:"dockerfile",extensions:[".dockerfile"],filenames:["Dockerfile"],aliases:["Dockerfile"],loader:()=>import("./chunk-6ADFYH74.js")});$({id:"ecl",extensions:[".ecl"],aliases:["ECL","Ecl","ecl"],loader:()=>import("./chunk-G7FZHFO2.js")});$({id:"elixir",extensions:[".ex",".exs"],aliases:["Elixir","elixir","ex"],loader:()=>import("./chunk-ONKF4P4J.js")});$({id:"flow9",extensions:[".flow"],aliases:["Flow9","Flow","flow9","flow"],loader:()=>import("./chunk-7YAHUY4E.js")});$({id:"fsharp",extensions:[".fs",".fsi",".ml",".mli",".fsx",".fsscript"],aliases:["F#","FSharp","fsharp"],loader:()=>import("./chunk-LXN66XF3.js")});$({id:"freemarker2",extensions:[".ftl",".ftlh",".ftlx"],aliases:["FreeMarker2","Apache FreeMarker2"],loader:()=>import("./chunk-FF4OOIPP.js").then(n=>n.TagAutoInterpolationDollar)});$({id:"freemarker2.tag-angle.interpolation-dollar",aliases:["FreeMarker2 (Angle/Dollar)","Apache FreeMarker2 (Angle/Dollar)"],loader:()=>import("./chunk-FF4OOIPP.js").then(n=>n.TagAngleInterpolationDollar)});$({id:"freemarker2.tag-bracket.interpolation-dollar",aliases:["FreeMarker2 (Bracket/Dollar)","Apache FreeMarker2 (Bracket/Dollar)"],loader:()=>import("./chunk-FF4OOIPP.js").then(n=>n.TagBracketInterpolationDollar)});$({id:"freemarker2.tag-angle.interpolation-bracket",aliases:["FreeMarker2 (Angle/Bracket)","Apache FreeMarker2 (Angle/Bracket)"],loader:()=>import("./chunk-FF4OOIPP.js").then(n=>n.TagAngleInterpolationBracket)});$({id:"freemarker2.tag-bracket.interpolation-bracket",aliases:["FreeMarker2 (Bracket/Bracket)","Apache FreeMarker2 (Bracket/Bracket)"],loader:()=>import("./chunk-FF4OOIPP.js").then(n=>n.TagBracketInterpolationBracket)});$({id:"freemarker2.tag-auto.interpolation-dollar",aliases:["FreeMarker2 (Auto/Dollar)","Apache FreeMarker2 (Auto/Dollar)"],loader:()=>import("./chunk-FF4OOIPP.js").then(n=>n.TagAutoInterpolationDollar)});$({id:"freemarker2.tag-auto.interpolation-bracket",aliases:["FreeMarker2 (Auto/Bracket)","Apache FreeMarker2 (Auto/Bracket)"],loader:()=>import("./chunk-FF4OOIPP.js").then(n=>n.TagAutoInterpolationBracket)});$({id:"go",extensions:[".go"],aliases:["Go"],loader:()=>import("./chunk-BY2L3IRI.js")});$({id:"graphql",extensions:[".graphql",".gql"],aliases:["GraphQL","graphql","gql"],mimetypes:["application/graphql"],loader:()=>import("./chunk-NPOB6PHG.js")});$({id:"handlebars",extensions:[".handlebars",".hbs"],aliases:["Handlebars","handlebars","hbs"],mimetypes:["text/x-handlebars-template"],loader:()=>import("./chunk-2QOOY3GN.js")});$({id:"hcl",extensions:[".tf",".tfvars",".hcl"],aliases:["Terraform","tf","HCL","hcl"],loader:()=>import("./chunk-ZQYCOGDC.js")});$({id:"html",extensions:[".html",".htm",".shtml",".xhtml",".mdoc",".jsp",".asp",".aspx",".jshtm"],aliases:["HTML","htm","html","xhtml"],mimetypes:["text/html","text/x-jshtm","text/template","text/ng-template"],loader:()=>import("./chunk-NAI3757X.js")});$({id:"ini",extensions:[".ini",".properties",".gitconfig"],filenames:["config",".gitattributes",".gitconfig",".editorconfig"],aliases:["Ini","ini"],loader:()=>import("./chunk-YILL77O3.js")});$({id:"java",extensions:[".java",".jav"],aliases:["Java","java"],mimetypes:["text/x-java-source","text/x-java"],loader:()=>import("./chunk-K6O3GTVG.js")});$({id:"javascript",extensions:[".js",".es6",".jsx",".mjs",".cjs"],firstLine:"^#!.*\\bnode",filenames:["jakefile"],aliases:["JavaScript","javascript","js"],mimetypes:["text/javascript"],loader:()=>import("./chunk-DCWWJZZN.js")});$({id:"julia",extensions:[".jl"],aliases:["julia","Julia"],loader:()=>import("./chunk-JDOFGI4G.js")});$({id:"kotlin",extensions:[".kt",".kts"],aliases:["Kotlin","kotlin"],mimetypes:["text/x-kotlin-source","text/x-kotlin"],loader:()=>import("./chunk-LYVDKO6Q.js")});$({id:"less",extensions:[".less"],aliases:["Less","less"],mimetypes:["text/x-less","text/less"],loader:()=>import("./chunk-DKYWOHRM.js")});$({id:"lexon",extensions:[".lex"],aliases:["Lexon"],loader:()=>import("./chunk-BNB5MKM2.js")});$({id:"lua",extensions:[".lua"],aliases:["Lua","lua"],loader:()=>import("./chunk-654CBZ3M.js")});$({id:"liquid",extensions:[".liquid",".html.liquid"],aliases:["Liquid","liquid"],mimetypes:["application/liquid"],loader:()=>import("./chunk-VTG2RC2V.js")});$({id:"m3",extensions:[".m3",".i3",".mg",".ig"],aliases:["Modula-3","Modula3","modula3","m3"],loader:()=>import("./chunk-55OFSI4I.js")});$({id:"markdown",extensions:[".md",".markdown",".mdown",".mkdn",".mkd",".mdwn",".mdtxt",".mdtext"],aliases:["Markdown","markdown"],loader:()=>import("./chunk-CGGLK5GS.js")});$({id:"mdx",extensions:[".mdx"],aliases:["MDX","mdx"],loader:()=>import("./chunk-SASSI2VU.js")});$({id:"mips",extensions:[".s"],aliases:["MIPS","MIPS-V"],mimetypes:["text/x-mips","text/mips","text/plaintext"],loader:()=>import("./chunk-R6UMH4RT.js")});$({id:"msdax",extensions:[".dax",".msdax"],aliases:["DAX","MSDAX"],loader:()=>import("./chunk-K3CAMVGQ.js")});$({id:"mysql",extensions:[],aliases:["MySQL","mysql"],loader:()=>import("./chunk-O35PT7GR.js")});$({id:"objective-c",extensions:[".m"],aliases:["Objective-C"],loader:()=>import("./chunk-DSDO72KT.js")});$({id:"pascal",extensions:[".pas",".p",".pp"],aliases:["Pascal","pas"],mimetypes:["text/x-pascal-source","text/x-pascal"],loader:()=>import("./chunk-EN774BAZ.js")});$({id:"pascaligo",extensions:[".ligo"],aliases:["Pascaligo","ligo"],loader:()=>import("./chunk-NPOF7FQB.js")});$({id:"perl",extensions:[".pl",".pm"],aliases:["Perl","pl"],loader:()=>import("./chunk-A66BE3Z6.js")});$({id:"pgsql",extensions:[],aliases:["PostgreSQL","postgres","pg","postgre"],loader:()=>import("./chunk-LPD2QAFO.js")});$({id:"php",extensions:[".php",".php4",".php5",".phtml",".ctp"],aliases:["PHP","php"],mimetypes:["application/x-php"],loader:()=>import("./chunk-X2RAX5GT.js")});$({id:"pla",extensions:[".pla"],loader:()=>import("./chunk-3YLB3UTR.js")});$({id:"postiats",extensions:[".dats",".sats",".hats"],aliases:["ATS","ATS/Postiats"],loader:()=>import("./chunk-RHHKELUD.js")});$({id:"powerquery",extensions:[".pq",".pqm"],aliases:["PQ","M","Power Query","Power Query M"],loader:()=>import("./chunk-F4ZPT7VR.js")});$({id:"powershell",extensions:[".ps1",".psm1",".psd1"],aliases:["PowerShell","powershell","ps","ps1"],loader:()=>import("./chunk-BJRDGZ7N.js")});$({id:"proto",extensions:[".proto"],aliases:["protobuf","Protocol Buffers"],loader:()=>import("./chunk-Z6YSROTQ.js")});$({id:"pug",extensions:[".jade",".pug"],aliases:["Pug","Jade","jade"],loader:()=>import("./chunk-TPQEQL5L.js")});$({id:"python",extensions:[".py",".rpy",".pyw",".cpy",".gyp",".gypi"],aliases:["Python","py"],firstLine:"^#!/.*\\bpython[0-9.-]*\\b",loader:()=>import("./chunk-7SJAG5SO.js")});$({id:"qsharp",extensions:[".qs"],aliases:["Q#","qsharp"],loader:()=>import("./chunk-GCAP2KKA.js")});$({id:"r",extensions:[".r",".rhistory",".rmd",".rprofile",".rt"],aliases:["R","r"],loader:()=>import("./chunk-NC7267PV.js")});$({id:"razor",extensions:[".cshtml"],aliases:["Razor","razor"],mimetypes:["text/x-cshtml"],loader:()=>import("./chunk-YWH4G2QH.js")});$({id:"redis",extensions:[".redis"],aliases:["redis"],loader:()=>import("./chunk-RDMU34U5.js")});$({id:"redshift",extensions:[],aliases:["Redshift","redshift"],loader:()=>import("./chunk-WL6JT5XW.js")});$({id:"restructuredtext",extensions:[".rst"],aliases:["reStructuredText","restructuredtext"],loader:()=>import("./chunk-MW4NHCJ5.js")});$({id:"ruby",extensions:[".rb",".rbx",".rjs",".gemspec",".pp"],filenames:["rakefile","Gemfile"],aliases:["Ruby","rb"],loader:()=>import("./chunk-5YSDT3W3.js")});$({id:"rust",extensions:[".rs",".rlib"],aliases:["Rust","rust"],loader:()=>import("./chunk-WFIEVDA2.js")});$({id:"sb",extensions:[".sb"],aliases:["Small Basic","sb"],loader:()=>import("./chunk-YFSU3ASF.js")});$({id:"scala",extensions:[".scala",".sc",".sbt"],aliases:["Scala","scala","SBT","Sbt","sbt","Dotty","dotty"],mimetypes:["text/x-scala-source","text/x-scala","text/x-sbt","text/x-dotty"],loader:()=>import("./chunk-HWCET5UV.js")});$({id:"scheme",extensions:[".scm",".ss",".sch",".rkt"],aliases:["scheme","Scheme"],loader:()=>import("./chunk-4UCWC7TZ.js")});$({id:"scss",extensions:[".scss"],aliases:["Sass","sass","scss"],mimetypes:["text/x-scss","text/scss"],loader:()=>import("./chunk-4GZIDXAN.js")});$({id:"shell",extensions:[".sh",".bash"],aliases:["Shell","sh"],loader:()=>import("./chunk-WEWZ63DM.js")});$({id:"sol",extensions:[".sol"],aliases:["sol","solidity","Solidity"],loader:()=>import("./chunk-4QVGHSIC.js")});$({id:"aes",extensions:[".aes"],aliases:["aes","sophia","Sophia"],loader:()=>import("./chunk-7Z3YDLC3.js")});$({id:"sparql",extensions:[".rq"],aliases:["sparql","SPARQL"],loader:()=>import("./chunk-7TIXB3D2.js")});$({id:"sql",extensions:[".sql"],aliases:["SQL"],loader:()=>import("./chunk-N5NU6Q6D.js")});$({id:"st",extensions:[".st",".iecst",".iecplc",".lc3lib",".TcPOU",".TcDUT",".TcGVL",".TcIO"],aliases:["StructuredText","scl","stl"],loader:()=>import("./chunk-QMK3R4YK.js")});$({id:"swift",aliases:["Swift","swift"],extensions:[".swift"],mimetypes:["text/swift"],loader:()=>import("./chunk-GALC5WAS.js")});$({id:"systemverilog",extensions:[".sv",".svh"],aliases:["SV","sv","SystemVerilog","systemverilog"],loader:()=>import("./chunk-GN36JAUX.js")});$({id:"verilog",extensions:[".v",".vh"],aliases:["V","v","Verilog","verilog"],loader:()=>import("./chunk-GN36JAUX.js")});$({id:"tcl",extensions:[".tcl"],aliases:["tcl","Tcl","tcltk","TclTk","tcl/tk","Tcl/Tk"],loader:()=>import("./chunk-IZJGINF5.js")});$({id:"twig",extensions:[".twig"],aliases:["Twig","twig"],mimetypes:["text/x-twig"],loader:()=>import("./chunk-CGCQN7DC.js")});$({id:"typescript",extensions:[".ts",".tsx",".cts",".mts"],aliases:["TypeScript","ts","typescript"],mimetypes:["text/typescript"],loader:()=>import("./chunk-6WVPMLSK.js")});$({id:"typespec",extensions:[".tsp"],aliases:["TypeSpec"],loader:()=>import("./chunk-BAOKJAOP.js")});$({id:"vb",extensions:[".vb"],aliases:["Visual Basic","vb"],loader:()=>import("./chunk-2MA7GOS6.js")});$({id:"wgsl",extensions:[".wgsl"],aliases:["WebGPU Shading Language","WGSL","wgsl"],loader:()=>import("./chunk-ITSRZSS2.js")});$({id:"xml",extensions:[".xml",".xsd",".dtd",".ascx",".csproj",".config",".props",".targets",".wxi",".wxl",".wxs",".xaml",".svg",".svgz",".opf",".xslt",".xsl"],firstLine:"(\\<\\?xml.*)|(\\<svg)|(\\<\\!doctype\\s+svg)",aliases:["XML","xml"],mimetypes:["text/xml","application/xml","application/xaml+xml","application/xml-dtd"],loader:()=>import("./chunk-KQWACIQG.js")});$({id:"yaml",extensions:[".yaml",".yml"],aliases:["YAML","yaml","YML","yml"],mimetypes:["application/x-yaml","text/x-yaml"],loader:()=>import("./chunk-BXMQSABW.js")});var c_e=Object.defineProperty,d_e=Object.getOwnPropertyDescriptor,u_e=Object.getOwnPropertyNames,h_e=Object.prototype.hasOwnProperty,lG=(n,t,e,i)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of u_e(t))!h_e.call(n,o)&&o!==e&&c_e(n,o,{get:()=>t[o],enumerable:!(i=d_e(t,o))||i.enumerable});return n},m_e=(n,t,e)=>(lG(n,t,"default"),e&&lG(e,t,"default")),wf={};m_e(wf,Dd);var QO=class{constructor(n,t,e){this._onDidChange=new wf.Emitter,this._languageId=n,this.setOptions(t),this.setModeConfiguration(e)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get modeConfiguration(){return this._modeConfiguration}get diagnosticsOptions(){return this.options}get options(){return this._options}setOptions(n){this._options=n||Object.create(null),this._onDidChange.fire(this)}setDiagnosticsOptions(n){this.setOptions(n)}setModeConfiguration(n){this._modeConfiguration=n||Object.create(null),this._onDidChange.fire(this)}},JO={validate:!0,lint:{compatibleVendorPrefixes:"ignore",vendorPrefix:"warning",duplicateProperties:"warning",emptyRules:"warning",importStatement:"ignore",boxModel:"ignore",universalSelector:"ignore",zeroUnits:"ignore",fontFaceProperties:"warning",hexColorLength:"error",argumentsInColorFunction:"error",unknownProperties:"warning",ieHack:"ignore",unknownVendorSpecificProperties:"ignore",propertyIgnoredDueToDisplay:"warning",important:"ignore",float:"ignore",idSelector:"ignore"},data:{useDefaultDataProvider:!0},format:{newlineBetweenSelectors:!0,newlineBetweenRules:!0,spaceAroundSelectorSeparator:!1,braceStyle:"collapse",maxPreserveNewLines:void 0,preserveNewLines:!0}},eP={completionItems:!0,hovers:!0,documentSymbols:!0,definitions:!0,references:!0,documentHighlights:!0,rename:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0,documentFormattingEdits:!0,documentRangeFormattingEdits:!0},cG=new QO("css",JO,eP),dG=new QO("scss",JO,eP),uG=new QO("less",JO,eP);wf.languages.css={cssDefaults:cG,lessDefaults:uG,scssDefaults:dG};function tP(){return import("./chunk-ONS5VAWJ.js")}wf.languages.onLanguage("less",()=>{tP().then(n=>n.setupMode(uG))});wf.languages.onLanguage("scss",()=>{tP().then(n=>n.setupMode(dG))});wf.languages.onLanguage("css",()=>{tP().then(n=>n.setupMode(cG))});var p_e=Object.defineProperty,f_e=Object.getOwnPropertyDescriptor,g_e=Object.getOwnPropertyNames,__e=Object.prototype.hasOwnProperty,hG=(n,t,e,i)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of g_e(t))!__e.call(n,o)&&o!==e&&p_e(n,o,{get:()=>t[o],enumerable:!(i=f_e(t,o))||i.enumerable});return n},v_e=(n,t,e)=>(hG(n,t,"default"),e&&hG(e,t,"default")),LS={};v_e(LS,Dd);var b_e=class{constructor(n,t,e){this._onDidChange=new LS.Emitter,this._languageId=n,this.setOptions(t),this.setModeConfiguration(e)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get options(){return this._options}get modeConfiguration(){return this._modeConfiguration}setOptions(n){this._options=n||Object.create(null),this._onDidChange.fire(this)}setModeConfiguration(n){this._modeConfiguration=n||Object.create(null),this._onDidChange.fire(this)}},y_e={tabSize:4,insertSpaces:!1,wrapLineLength:120,unformatted:'default": "a, abbr, acronym, b, bdo, big, br, button, cite, code, dfn, em, i, img, input, kbd, label, map, object, q, samp, select, small, span, strong, sub, sup, textarea, tt, var',contentUnformatted:"pre",indentInnerHtml:!1,preserveNewLines:!0,maxPreserveNewLines:void 0,indentHandlebars:!1,endWithNewline:!1,extraLiners:"head, body, /html",wrapAttributes:"auto"},NS={format:y_e,suggest:{},data:{useDefaultDataProvider:!0}};function FS(n){return{completionItems:!0,hovers:!0,documentSymbols:!0,links:!0,documentHighlights:!0,rename:!0,colors:!0,foldingRanges:!0,selectionRanges:!0,diagnostics:n===ob,documentFormattingEdits:n===ob,documentRangeFormattingEdits:n===ob}}var ob="html",mG="handlebars",pG="razor",fG=zS(ob,NS,FS(ob)),x_e=fG.defaults,gG=zS(mG,NS,FS(mG)),w_e=gG.defaults,_G=zS(pG,NS,FS(pG)),C_e=_G.defaults;LS.languages.html={htmlDefaults:x_e,razorDefaults:C_e,handlebarDefaults:w_e,htmlLanguageService:fG,handlebarLanguageService:gG,razorLanguageService:_G,registerHTMLLanguageService:zS};function S_e(){return import("./chunk-ZFLKAUCT.js")}function zS(n,t=NS,e=FS(n)){let i=new b_e(n,t,e),o,r=LS.languages.onLanguage(n,()=>k(this,null,function*(){o=(yield S_e()).setupMode(i)}));return{defaults:i,dispose(){r.dispose(),o?.dispose(),o=void 0}}}var I_e=Object.defineProperty,D_e=Object.getOwnPropertyDescriptor,E_e=Object.getOwnPropertyNames,k_e=Object.prototype.hasOwnProperty,vG=(n,t,e,i)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of E_e(t))!k_e.call(n,o)&&o!==e&&I_e(n,o,{get:()=>t[o],enumerable:!(i=D_e(t,o))||i.enumerable});return n},M_e=(n,t,e)=>(vG(n,t,"default"),e&&vG(e,t,"default")),rb={};M_e(rb,Dd);var T_e=class{constructor(n,t,e){this._onDidChange=new rb.Emitter,this._languageId=n,this.setDiagnosticsOptions(t),this.setModeConfiguration(e)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get modeConfiguration(){return this._modeConfiguration}get diagnosticsOptions(){return this._diagnosticsOptions}setDiagnosticsOptions(n){this._diagnosticsOptions=n||Object.create(null),this._onDidChange.fire(this)}setModeConfiguration(n){this._modeConfiguration=n||Object.create(null),this._onDidChange.fire(this)}},A_e={validate:!0,allowComments:!0,schemas:[],enableSchemaRequest:!1,schemaRequest:"warning",schemaValidation:"warning",comments:"error",trailingCommas:"error"},R_e={documentFormattingEdits:!0,documentRangeFormattingEdits:!0,completionItems:!0,hovers:!0,documentSymbols:!0,tokens:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0},bG=new T_e("json",A_e,R_e),O_e=()=>yG().then(n=>n.getWorker());rb.languages.json={jsonDefaults:bG,getWorker:O_e};function yG(){return import("./chunk-SZV4FFRH.js")}rb.languages.register({id:"json",extensions:[".json",".bowerrc",".jshintrc",".jscsrc",".eslintrc",".babelrc",".har"],aliases:["JSON","json"],mimetypes:["application/json"]});rb.languages.onLanguage("json",()=>{yG().then(n=>n.setupMode(bG))});Vn();gt();Vn();tt();Fo();$t();Ae();$i();_n();mt();var BS=class extends Wn{constructor(){super({id:"diffEditor.toggleCollapseUnchangedRegions",title:Pe("toggleCollapseUnchangedRegions","Toggle Collapse Unchanged Regions"),icon:Ge.map,toggled:K.has("config.diffEditor.hideUnchangedRegions.enabled"),precondition:K.has("isInDiffEditor"),menu:{when:K.has("isInDiffEditor"),id:ve.EditorTitle,order:22,group:"navigation"}})}run(t,...e){let i=t.get(_t),o=!i.getValue("diffEditor.hideUnchangedRegions.enabled");i.updateValue("diffEditor.hideUnchangedRegions.enabled",o)}},sb=class extends Wn{constructor(){super({id:"diffEditor.toggleShowMovedCodeBlocks",title:Pe("toggleShowMovedCodeBlocks","Toggle Show Moved Code Blocks"),precondition:K.has("isInDiffEditor")})}run(t,...e){let i=t.get(_t),o=!i.getValue("diffEditor.experimental.showMoves");i.updateValue("diffEditor.experimental.showMoves",o)}},ab=class extends Wn{constructor(){super({id:"diffEditor.toggleUseInlineViewWhenSpaceIsLimited",title:Pe("toggleUseInlineViewWhenSpaceIsLimited","Toggle Use Inline View When Space Is Limited"),precondition:K.has("isInDiffEditor")})}run(t,...e){let i=t.get(_t),o=!i.getValue("diffEditor.useInlineViewWhenSpaceIsLimited");i.updateValue("diffEditor.useInlineViewWhenSpaceIsLimited",o)}},lb=Pe("diffEditor","Diff Editor"),HS=class extends kr{constructor(){super({id:"diffEditor.switchSide",title:Pe("switchSide","Switch Side"),icon:Ge.arrowSwap,precondition:K.has("isInDiffEditor"),f1:!0,category:lb})}runEditorCommand(t,e,i){let o=Sf(t);if(o instanceof Rp){if(i&&i.dryRun)return{destinationSelection:o.mapToOtherSide().destinationSelection};o.switchSide()}}},VS=class extends kr{constructor(){super({id:"diffEditor.exitCompareMove",title:Pe("exitCompareMove","Exit Compare Move"),icon:Ge.close,precondition:M.comparingMovedCode,f1:!1,category:lb,keybinding:{weight:1e4,primary:9}})}runEditorCommand(t,e,...i){let o=Sf(t);o instanceof Rp&&o.exitCompareMove()}},WS=class extends kr{constructor(){super({id:"diffEditor.collapseAllUnchangedRegions",title:Pe("collapseAllUnchangedRegions","Collapse All Unchanged Regions"),icon:Ge.fold,precondition:K.has("isInDiffEditor"),f1:!0,category:lb})}runEditorCommand(t,e,...i){let o=Sf(t);o instanceof Rp&&o.collapseAllUnchangedRegions()}},jS=class extends kr{constructor(){super({id:"diffEditor.showAllUnchangedRegions",title:Pe("showAllUnchangedRegions","Show All Unchanged Regions"),icon:Ge.unfold,precondition:K.has("isInDiffEditor"),f1:!0,category:lb})}runEditorCommand(t,e,...i){let o=Sf(t);o instanceof Rp&&o.showAllUnchangedRegions()}},Cf=class extends Wn{constructor(){super({id:"diffEditor.revert",title:Pe("revert","Revert"),f1:!1,category:lb})}run(t,e){let i=P_e(t,e.originalUri,e.modifiedUri);i instanceof Rp&&i.revertRangeMappings(e.mapping.innerChanges??[])}},xG=Pe("accessibleDiffViewer","Accessible Diff Viewer"),US=(()=>{class n extends Wn{static{this.id="editor.action.accessibleDiffViewer.next"}constructor(){super({id:n.id,title:Pe("editor.action.accessibleDiffViewer.next","Go to Next Difference"),category:xG,precondition:K.has("isInDiffEditor"),keybinding:{primary:65,weight:100},f1:!0})}run(e){Sf(e)?.accessibleDiffViewerNext()}}return n})(),iP=(()=>{class n extends Wn{static{this.id="editor.action.accessibleDiffViewer.prev"}constructor(){super({id:n.id,title:Pe("editor.action.accessibleDiffViewer.prev","Go to Previous Difference"),category:xG,precondition:K.has("isInDiffEditor"),keybinding:{primary:1089,weight:100},f1:!0})}run(e){Sf(e)?.accessibleDiffViewerPrev()}}return n})();function P_e(n,t,e){return n.get(Xt).listDiffEditors().find(r=>{let s=r.getModifiedEditor(),a=r.getOriginalEditor();return s&&s.getModel()?.uri.toString()===e.toString()&&a&&a.getModel()?.uri.toString()===t.toString()})||null}function Sf(n){let e=n.get(Xt).listDiffEditors(),i=Bx();if(i)for(let o of e){let r=o.getContainerDomNode();if(L_e(r,i))return o}return null}function L_e(n,t){let e=t;for(;e;){if(e===n)return!0;e=e.parentElement}return!1}$t();Ae();$i();Ui();mt();Gt(BS);Gt(sb);Gt(ab);Qo.appendMenuItem(ve.EditorTitle,{command:{id:new ab().desc.id,title:_("useInlineViewWhenSpaceIsLimited","Use Inline View When Space Is Limited"),toggled:K.has("config.diffEditor.useInlineViewWhenSpaceIsLimited"),precondition:K.has("isInDiffEditor")},order:11,group:"1_diff",when:K.and(M.diffEditorRenderSideBySideInlineBreakpointReached,K.has("isInDiffEditor"))});Qo.appendMenuItem(ve.EditorTitle,{command:{id:new sb().desc.id,title:_("showMoves","Show Moved Code Blocks"),icon:Ge.move,toggled:$j.create("config.diffEditor.experimental.showMoves",!0),precondition:K.has("isInDiffEditor")},order:10,group:"1_diff",when:K.has("isInDiffEditor")});Gt(Cf);for(let n of[{icon:Ge.arrowRight,key:M.diffEditorInlineMode.toNegated()},{icon:Ge.discard,key:M.diffEditorInlineMode}])Qo.appendMenuItem(ve.DiffEditorHunkToolbar,{command:{id:new Cf().desc.id,title:_("revertHunk","Revert Block"),icon:n.icon},when:K.and(M.diffEditorModifiedWritable,n.key),order:5,group:"primary"}),Qo.appendMenuItem(ve.DiffEditorSelectionToolbar,{command:{id:new Cf().desc.id,title:_("revertSelection","Revert Selection"),icon:n.icon},when:K.and(M.diffEditorModifiedWritable,n.key),order:5,group:"primary"});Gt(HS);Gt(VS);Gt(WS);Gt(jS);Qo.appendMenuItem(ve.EditorTitle,{command:{id:US.id,title:_("Open Accessible Diff Viewer","Open Accessible Diff Viewer"),precondition:K.has("isInDiffEditor")},order:10,group:"2_diff",when:K.and(M.accessibleDiffViewerVisible.negate(),K.has("isInDiffEditor"))});Pt.registerCommandAlias("editor.action.diffReview.next",US.id);Gt(US);Pt.registerCommandAlias("editor.action.diffReview.prev",iP.id);Gt(iP);Hs();oc();tt();Pn();$t();Ae();mt();var N_e=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},F_e=function(n,t){return function(e,i){t(e,i,n)}},nP,qS=new ot("selectionAnchorSet",!1),$d=class{static{nP=this}static{this.ID="editor.contrib.selectionAnchorController"}static get(e){return e.getContribution(nP.ID)}constructor(e,i){this.editor=e,this.selectionAnchorSetContextKey=qS.bindTo(i),this.modelChangeListener=e.onDidChangeModel(()=>this.selectionAnchorSetContextKey.reset())}setSelectionAnchor(){if(this.editor.hasModel()){let e=this.editor.getPosition();this.editor.changeDecorations(i=>{this.decorationId&&i.removeDecoration(this.decorationId),this.decorationId=i.addDecoration(ze.fromPositions(e,e),{description:"selection-anchor",stickiness:1,hoverMessage:new hn().appendText(_("selectionAnchor","Selection Anchor")),className:"selection-anchor"})}),this.selectionAnchorSetContextKey.set(!!this.decorationId),$n(_("anchorSet","Anchor set at {0}:{1}",e.lineNumber,e.column))}}goToSelectionAnchor(){if(this.editor.hasModel()&&this.decorationId){let e=this.editor.getModel().getDecorationRange(this.decorationId);e&&this.editor.setPosition(e.getStartPosition())}}selectFromAnchorToCursor(){if(this.editor.hasModel()&&this.decorationId){let e=this.editor.getModel().getDecorationRange(this.decorationId);if(e){let i=this.editor.getPosition();this.editor.setSelection(ze.fromPositions(e.getStartPosition(),i)),this.cancelSelectionAnchor()}}}cancelSelectionAnchor(){if(this.decorationId){let e=this.decorationId;this.editor.changeDecorations(i=>{i.removeDecoration(e),this.decorationId=void 0}),this.selectionAnchorSetContextKey.set(!1)}}dispose(){this.cancelSelectionAnchor(),this.modelChangeListener.dispose()}};$d=nP=N_e([F_e(1,Xe)],$d);var oP=class extends Z{constructor(){super({id:"editor.action.setSelectionAnchor",label:_("setSelectionAnchor","Set Selection Anchor"),alias:"Set Selection Anchor",precondition:void 0,kbOpts:{kbExpr:M.editorTextFocus,primary:Pi(2089,2080),weight:100}})}run(t,e){return k(this,null,function*(){$d.get(e)?.setSelectionAnchor()})}},rP=class extends Z{constructor(){super({id:"editor.action.goToSelectionAnchor",label:_("goToSelectionAnchor","Go to Selection Anchor"),alias:"Go to Selection Anchor",precondition:qS})}run(t,e){return k(this,null,function*(){$d.get(e)?.goToSelectionAnchor()})}},sP=class extends Z{constructor(){super({id:"editor.action.selectFromAnchorToCursor",label:_("selectFromAnchorToCursor","Select from Anchor to Cursor"),alias:"Select from Anchor to Cursor",precondition:qS,kbOpts:{kbExpr:M.editorTextFocus,primary:Pi(2089,2089),weight:100}})}run(t,e){return k(this,null,function*(){$d.get(e)?.selectFromAnchorToCursor()})}},aP=class extends Z{constructor(){super({id:"editor.action.cancelSelectionAnchor",label:_("cancelSelectionAnchor","Cancel Selection Anchor"),alias:"Cancel Selection Anchor",precondition:qS,kbOpts:{kbExpr:M.editorTextFocus,primary:9,weight:100}})}run(t,e){return k(this,null,function*(){$d.get(e)?.cancelSelectionAnchor()})}};Me($d.ID,$d,4);V(oP);V(rP);V(sP);V(aP);Ht();ce();tt();hi();qe();Pn();$t();ka();bn();Ae();$i();Eo();Do();var z_e=Oe("editorOverviewRuler.bracketMatchForeground","#A0A0A0",_("overviewRulerBracketMatchForeground","Overview ruler marker color for matching brackets.")),lP=class extends Z{constructor(){super({id:"editor.action.jumpToBracket",label:_("smartSelect.jumpBracket","Go to Bracket"),alias:"Go to Bracket",precondition:void 0,kbOpts:{kbExpr:M.editorTextFocus,primary:3165,weight:100}})}run(t,e){Bh.get(e)?.jumpToBracket()}},cP=class extends Z{constructor(){super({id:"editor.action.selectToBracket",label:_("smartSelect.selectToBracket","Select to Bracket"),alias:"Select to Bracket",precondition:void 0,metadata:{description:Pe("smartSelect.selectToBracketDescription","Select the text inside and including the brackets or curly braces"),args:[{name:"args",schema:{type:"object",properties:{selectBrackets:{type:"boolean",default:!0}}}}]}})}run(t,e,i){let o=!0;i&&i.selectBrackets===!1&&(o=!1),Bh.get(e)?.selectToBracket(o)}},dP=class extends Z{constructor(){super({id:"editor.action.removeBrackets",label:_("smartSelect.removeBrackets","Remove Brackets"),alias:"Remove Brackets",precondition:void 0,kbOpts:{kbExpr:M.editorTextFocus,primary:2561,weight:100}})}run(t,e){Bh.get(e)?.removeBrackets(this.id)}},uP=class{constructor(t,e,i){this.position=t,this.brackets=e,this.options=i}},Bh=class n extends U{static{this.ID="editor.contrib.bracketMatchingController"}static get(t){return t.getContribution(n.ID)}constructor(t){super(),this._editor=t,this._lastBracketsData=[],this._lastVersionId=0,this._decorations=this._editor.createDecorationsCollection(),this._updateBracketsSoon=this._register(new si(()=>this._updateBrackets(),50)),this._matchBrackets=this._editor.getOption(72),this._updateBracketsSoon.schedule(),this._register(t.onDidChangeCursorPosition(e=>{this._matchBrackets!=="never"&&this._updateBracketsSoon.schedule()})),this._register(t.onDidChangeModelContent(e=>{this._updateBracketsSoon.schedule()})),this._register(t.onDidChangeModel(e=>{this._lastBracketsData=[],this._updateBracketsSoon.schedule()})),this._register(t.onDidChangeModelLanguageConfiguration(e=>{this._lastBracketsData=[],this._updateBracketsSoon.schedule()})),this._register(t.onDidChangeConfiguration(e=>{e.hasChanged(72)&&(this._matchBrackets=this._editor.getOption(72),this._decorations.clear(),this._lastBracketsData=[],this._lastVersionId=0,this._updateBracketsSoon.schedule())})),this._register(t.onDidBlurEditorWidget(()=>{this._updateBracketsSoon.schedule()})),this._register(t.onDidFocusEditorWidget(()=>{this._updateBracketsSoon.schedule()}))}jumpToBracket(){if(!this._editor.hasModel())return;let t=this._editor.getModel(),e=this._editor.getSelections().map(i=>{let o=i.getStartPosition(),r=t.bracketPairs.matchBracket(o),s=null;if(r)r[0].containsPosition(o)&&!r[1].containsPosition(o)?s=r[1].getStartPosition():r[1].containsPosition(o)&&(s=r[0].getStartPosition());else{let a=t.bracketPairs.findEnclosingBrackets(o);if(a)s=a[1].getStartPosition();else{let l=t.bracketPairs.findNextBracket(o);l&&l.range&&(s=l.range.getStartPosition())}}return s?new ze(s.lineNumber,s.column,s.lineNumber,s.column):new ze(o.lineNumber,o.column,o.lineNumber,o.column)});this._editor.setSelections(e),this._editor.revealRange(e[0])}selectToBracket(t){if(!this._editor.hasModel())return;let e=this._editor.getModel(),i=[];this._editor.getSelections().forEach(o=>{let r=o.getStartPosition(),s=e.bracketPairs.matchBracket(r);if(!s&&(s=e.bracketPairs.findEnclosingBrackets(r),!s)){let c=e.bracketPairs.findNextBracket(r);c&&c.range&&(s=e.bracketPairs.matchBracket(c.range.getStartPosition()))}let a=null,l=null;if(s){s.sort(A.compareRangesUsingStarts);let[c,d]=s;if(a=t?c.getStartPosition():c.getEndPosition(),l=t?d.getEndPosition():d.getStartPosition(),d.containsPosition(r)){let u=a;a=l,l=u}}a&&l&&i.push(new ze(a.lineNumber,a.column,l.lineNumber,l.column))}),i.length>0&&(this._editor.setSelections(i),this._editor.revealRange(i[0]))}removeBrackets(t){if(!this._editor.hasModel())return;let e=this._editor.getModel();this._editor.getSelections().forEach(i=>{let o=i.getPosition(),r=e.bracketPairs.matchBracket(o);r||(r=e.bracketPairs.findEnclosingBrackets(o)),r&&(this._editor.pushUndoStop(),this._editor.executeEdits(t,[{range:r[0],text:""},{range:r[1],text:""}]),this._editor.pushUndoStop())})}static{this._DECORATION_OPTIONS_WITH_OVERVIEW_RULER=at.register({description:"bracket-match-overview",stickiness:1,className:"bracket-match",overviewRuler:{color:zi(z_e),position:Mr.Center}})}static{this._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER=at.register({description:"bracket-match-no-overview",stickiness:1,className:"bracket-match"})}_updateBrackets(){if(this._matchBrackets==="never")return;this._recomputeBrackets();let t=[],e=0;for(let i of this._lastBracketsData){let o=i.brackets;o&&(t[e++]={range:o[0],options:i.options},t[e++]={range:o[1],options:i.options})}this._decorations.set(t)}_recomputeBrackets(){if(!this._editor.hasModel()||!this._editor.hasWidgetFocus()){this._lastBracketsData=[],this._lastVersionId=0;return}let t=this._editor.getSelections();if(t.length>100){this._lastBracketsData=[],this._lastVersionId=0;return}let e=this._editor.getModel(),i=e.getVersionId(),o=[];this._lastVersionId===i&&(o=this._lastBracketsData);let r=[],s=0;for(let u=0,h=t.length;u<h;u++){let m=t[u];m.isEmpty()&&(r[s++]=m.getStartPosition())}r.length>1&&r.sort(he.compare);let a=[],l=0,c=0,d=o.length;for(let u=0,h=r.length;u<h;u++){let m=r[u];for(;c<d&&o[c].position.isBefore(m);)c++;if(c<d&&o[c].position.equals(m))a[l++]=o[c];else{let f=e.bracketPairs.matchBracket(m,20),p=n._DECORATION_OPTIONS_WITH_OVERVIEW_RULER;!f&&this._matchBrackets==="always"&&(f=e.bracketPairs.findEnclosingBrackets(m,20),p=n._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER),a[l++]=new uP(m,f,p)}}this._lastBracketsData=a,this._lastVersionId=i}};Me(Bh.ID,Bh,1);V(cP);V(lP);V(dP);Qo.appendMenuItem(ve.MenubarGoMenu,{group:"5_infile_nav",command:{id:"editor.action.jumpToBracket",title:_({key:"miGoToBracket",comment:["&& denotes a mnemonic"]},"Go to &&Bracket")},order:2});tt();$t();qe();Pn();var GS=class{constructor(t,e){this._selection=t,this._isMovingLeft=e}getEditOperations(t,e){if(this._selection.startLineNumber!==this._selection.endLineNumber||this._selection.isEmpty())return;let i=this._selection.startLineNumber,o=this._selection.startColumn,r=this._selection.endColumn;if(!(this._isMovingLeft&&o===1)&&!(!this._isMovingLeft&&r===t.getLineMaxColumn(i)))if(this._isMovingLeft){let s=new A(i,o-1,i,o),a=t.getValueInRange(s);e.addEditOperation(s,null),e.addEditOperation(new A(i,r,i,r),a)}else{let s=new A(i,r,i,r+1),a=t.getValueInRange(s);e.addEditOperation(s,null),e.addEditOperation(new A(i,o,i,o),a)}}computeCursorState(t,e){return this._isMovingLeft?new ze(this._selection.startLineNumber,this._selection.startColumn-1,this._selection.endLineNumber,this._selection.endColumn-1):new ze(this._selection.startLineNumber,this._selection.startColumn+1,this._selection.endLineNumber,this._selection.endColumn+1)}};Ae();var $S=class extends Z{constructor(t,e){super(e),this.left=t}run(t,e){if(!e.hasModel())return;let i=[],o=e.getSelections();for(let r of o)i.push(new GS(r,this.left));e.pushUndoStop(),e.executeCommands(this.id,i),e.pushUndoStop()}},hP=class extends $S{constructor(){super(!0,{id:"editor.action.moveCarretLeftAction",label:_("caret.moveLeft","Move Selected Text Left"),alias:"Move Selected Text Left",precondition:M.writable})}},mP=class extends $S{constructor(){super(!1,{id:"editor.action.moveCarretRightAction",label:_("caret.moveRight","Move Selected Text Right"),alias:"Move Selected Text Right",precondition:M.writable})}};V(hP);V(mP);tt();qe();$t();Ae();var pP=class extends Z{constructor(){super({id:"editor.action.transposeLetters",label:_("transposeLetters.label","Transpose Letters"),alias:"Transpose Letters",precondition:M.writable,kbOpts:{kbExpr:M.textInputFocus,primary:0,mac:{primary:306},weight:100}})}run(t,e){if(!e.hasModel())return;let i=e.getModel(),o=[],r=e.getSelections();for(let s of r){if(!s.isEmpty())continue;let a=s.startLineNumber,l=s.startColumn,c=i.getLineMaxColumn(a);if(a===1&&(l===1||l===2&&c===2))continue;let d=l===c?s.getPosition():Fw.rightPosition(i,s.getPosition().lineNumber,s.getPosition().column),u=Fw.leftPosition(i,d),h=Fw.leftPosition(i,u),m=i.getValueInRange(A.fromPositions(h,u)),f=i.getValueInRange(A.fromPositions(u,d)),p=A.fromPositions(h,d);o.push(new Cc(p,f+m))}o.length>0&&(e.pushUndoStop(),e.executeCommands(this.id,o),e.pushUndoStop())}};V(pP);dce();gt();Yo();tt();Fo();$t();gt();Oi();Ht();gi();Oi();A_();var Kd=function(){if(typeof crypto=="object"&&typeof crypto.randomUUID=="function")return crypto.randomUUID.bind(crypto);let n;typeof crypto=="object"&&typeof crypto.getRandomValues=="function"?n=crypto.getRandomValues.bind(crypto):n=function(i){for(let o=0;o<i.length;o++)i[o]=Math.floor(Math.random()*256);return i};let t=new Uint8Array(16),e=[];for(let i=0;i<256;i++)e.push(i.toString(16).padStart(2,"0"));return function(){n(t),t[6]=t[6]&15|64,t[8]=t[8]&63|128;let o=0,r="";return r+=e[t[o++]],r+=e[t[o++]],r+=e[t[o++]],r+=e[t[o++]],r+="-",r+=e[t[o++]],r+=e[t[o++]],r+="-",r+=e[t[o++]],r+=e[t[o++]],r+="-",r+=e[t[o++]],r+=e[t[o++]],r+="-",r+=e[t[o++]],r+=e[t[o++]],r+=e[t[o++]],r+=e[t[o++]],r+=e[t[o++]],r+=e[t[o++]],r}}();function cb(n){return{asString:()=>k(this,null,function*(){return n}),asFile:()=>{},value:typeof n=="string"?n:void 0}}function wG(n,t,e){let i={id:Kd(),name:n,uri:t,data:e};return{asString:()=>k(this,null,function*(){return""}),asFile:()=>i,value:void 0}}var If=class{constructor(){this._entries=new Map}get size(){let t=0;for(let e of this._entries)t++;return t}has(t){return this._entries.has(this.toKey(t))}matches(t){let e=[...this._entries.keys()];return jr.some(this,([i,o])=>o.asFile())&&e.push("files"),CG(KS(t),e)}get(t){return this._entries.get(this.toKey(t))?.[0]}append(t,e){let i=this._entries.get(t);i?i.push(e):this._entries.set(this.toKey(t),[e])}replace(t,e){this._entries.set(this.toKey(t),[e])}delete(t){this._entries.delete(this.toKey(t))}*[Symbol.iterator](){for(let[t,e]of this._entries)for(let i of e)yield[t,i]}toKey(t){return KS(t)}};function KS(n){return n.toLowerCase()}function YS(n,t){return CG(KS(n),t.map(KS))}function CG(n,t){if(n==="*/*")return t.length>0;if(t.includes(n))return!0;let e=n.match(/^([a-z]+)\/([a-z]+|\*)$/i);if(!e)return!1;let[i,o,r]=e;return r==="*"?t.some(s=>s.startsWith(o+"/")):!1}var Hh=Object.freeze({create:n=>Ix(n.map(t=>t.toString())).join(`\r
`),split:n=>n.split(`\r
`),parse:n=>Hh.split(n).filter(t=>!t.startsWith("#"))});var Qt=class n{static{this.sep="."}static{this.None=new n("@@none@@")}static{this.Empty=new n("")}constructor(t){this.value=t}equals(t){return this.value===t.value}contains(t){return this.equals(t)||this.value===""||t.value.startsWith(this.value+n.sep)}intersects(t){return this.contains(t)||t.contains(this)}append(...t){return new n((this.value?[this.value,...t]:t).join(n.sep))}};ce();dA();Yo();dA();On();lc();var gP={EDITORS:"CodeEditors",FILES:"CodeFiles"},fP=class{},B_e={DragAndDropContribution:"workbench.contributions.dragAndDrop"};go.add(B_e.DragAndDropContribution,new fP);var XS=class n{static{this.INSTANCE=new n}constructor(){}static getInstance(){return n.INSTANCE}hasData(t){return t&&t===this.proto}getData(t){if(this.hasData(t))return this.data}};function _P(n){let t=new If;for(let e of n.items){let i=e.type;if(e.kind==="string"){let o=new Promise(r=>e.getAsString(r));t.append(i,cb(o))}else if(e.kind==="file"){let o=e.getAsFile();o&&t.append(i,H_e(o))}}return t}function H_e(n){let t=n.path?ht.parse(n.path):void 0;return wG(n.name,t,()=>k(this,null,function*(){return new Uint8Array(yield n.arrayBuffer())}))}var V_e=Object.freeze([gP.EDITORS,gP.FILES,xw.RESOURCES,xw.INTERNAL_URI_LIST]);function ZS(n,t=!1){let e=_P(n),i=e.get(xw.INTERNAL_URI_LIST);if(i)e.replace(Nn.uriList,i);else if(t||!e.has(Nn.uriList)){let o=[];for(let r of n.items){let s=r.getAsFile();if(s){let a=s.path;try{a?o.push(ht.file(a).toString()):o.push(ht.parse(s.name,!0).toString())}catch{}}}o.length&&e.replace(Nn.uriList,cb(Hh.create(o)))}for(let o of V_e)e.delete(o);return e}qe();gn();Lt();Oi();ce();dA();oh();Ur();On();gn();Lt();Ae();var bP=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},db=function(n,t){return function(e,i){t(e,i,n)}},ub=class{provideDocumentPasteEdits(t,e,i,o,r){return k(this,null,function*(){let s=yield this.getEdit(i,r);if(s)return{edits:[{insertText:s.insertText,title:s.title,kind:s.kind,handledMimeType:s.handledMimeType,yieldTo:s.yieldTo}],dispose(){}}})}provideDocumentDropEdits(t,e,i,o){return k(this,null,function*(){let r=yield this.getEdit(i,o);if(r)return{edits:[{insertText:r.insertText,title:r.title,kind:r.kind,handledMimeType:r.handledMimeType,yieldTo:r.yieldTo}],dispose(){}}})}},Rc=class n extends ub{constructor(){super(...arguments),this.kind=n.kind,this.dropMimeTypes=[Nn.text],this.pasteMimeTypes=[Nn.text]}static{this.id="text"}static{this.kind=new Qt("text.plain")}getEdit(t,e){return k(this,null,function*(){let i=t.get(Nn.text);if(!i||t.has(Nn.uriList))return;let o=yield i.asString();return{handledMimeType:Nn.text,title:_("text.label","Insert Plain Text"),insertText:o,kind:this.kind}})}},QS=class extends ub{constructor(){super(...arguments),this.kind=new Qt("uri.absolute"),this.dropMimeTypes=[Nn.uriList],this.pasteMimeTypes=[Nn.uriList]}getEdit(t,e){return k(this,null,function*(){let i=yield SG(t);if(!i.length||e.isCancellationRequested)return;let o=0,r=i.map(({uri:a,originalText:l})=>a.scheme===Ln.file?a.fsPath:(o++,l)).join(" "),s;return o>0?s=i.length>1?_("defaultDropProvider.uriList.uris","Insert Uris"):_("defaultDropProvider.uriList.uri","Insert Uri"):s=i.length>1?_("defaultDropProvider.uriList.paths","Insert Paths"):_("defaultDropProvider.uriList.path","Insert Path"),{handledMimeType:Nn.uriList,insertText:r,title:s,kind:this.kind}})}},JS=class extends ub{constructor(t){super(),this._workspaceContextService=t,this.kind=new Qt("uri.relative"),this.dropMimeTypes=[Nn.uriList],this.pasteMimeTypes=[Nn.uriList]}getEdit(t,e){return k(this,null,function*(){let i=yield SG(t);if(!i.length||e.isCancellationRequested)return;let o=Ko(i.map(({uri:r})=>{let s=this._workspaceContextService.getWorkspaceFolder(r);return s?c5(s.uri,r):void 0}));if(o.length)return{handledMimeType:Nn.uriList,insertText:o.join(" "),title:i.length>1?_("defaultDropProvider.uriList.relativePaths","Insert Relative Paths"):_("defaultDropProvider.uriList.relativePath","Insert Relative Path"),kind:this.kind}})}};JS=bP([db(0,yc)],JS);var vP=class{constructor(){this.kind=new Qt("html"),this.pasteMimeTypes=["text/html"],this._yieldTo=[{mimeType:Nn.text}]}provideDocumentPasteEdits(t,e,i,o,r){return k(this,null,function*(){if(o.triggerKind!==L_.PasteAs&&!o.only?.contains(this.kind))return;let a=yield i.get("text/html")?.asString();if(!(!a||r.isCancellationRequested))return{dispose(){},edits:[{insertText:a,yieldTo:this._yieldTo,title:_("pasteHtmlLabel","Insert HTML"),kind:this.kind}]}})}};function SG(n){return k(this,null,function*(){let t=n.get(Nn.uriList);if(!t)return[];let e=yield t.asString(),i=[];for(let o of Hh.parse(e))try{i.push({uri:ht.parse(o),originalText:o})}catch{}return i})}var eI=class extends U{constructor(t,e){super(),this._register(t.documentDropEditProvider.register("*",new Rc)),this._register(t.documentDropEditProvider.register("*",new QS)),this._register(t.documentDropEditProvider.register("*",new JS(e)))}};eI=bP([db(0,ae),db(1,yc)],eI);var tI=class extends U{constructor(t,e){super(),this._register(t.documentPasteEditProvider.register("*",new Rc)),this._register(t.documentPasteEditProvider.register("*",new QS)),this._register(t.documentPasteEditProvider.register("*",new JS(e))),this._register(t.documentPasteEditProvider.register("*",new vP))}};tI=bP([db(0,ae),db(1,yc)],tI);var W_e=(()=>{class n{constructor(){this.value="",this.pos=0}static{this._table={36:0,58:1,44:2,123:3,125:4,92:5,47:6,124:7,43:11,45:12,63:13}}static isDigitCharacter(e){return e>=48&&e<=57}static isVariableCharacter(e){return e===95||e>=97&&e<=122||e>=65&&e<=90}text(e){this.value=e,this.pos=0}tokenText(e){return this.value.substr(e.pos,e.len)}next(){if(this.pos>=this.value.length)return{type:14,pos:this.pos,len:0};let e=this.pos,i=0,o=this.value.charCodeAt(e),r;if(r=n._table[o],typeof r=="number")return this.pos+=1,{type:r,pos:e,len:1};if(n.isDigitCharacter(o)){r=8;do i+=1,o=this.value.charCodeAt(e+i);while(n.isDigitCharacter(o));return this.pos+=i,{type:r,pos:e,len:i}}if(n.isVariableCharacter(o)){r=9;do o=this.value.charCodeAt(e+ ++i);while(n.isVariableCharacter(o)||n.isDigitCharacter(o));return this.pos+=i,{type:r,pos:e,len:i}}r=10;do i+=1,o=this.value.charCodeAt(e+i);while(!isNaN(o)&&typeof n._table[o]>"u"&&!n.isDigitCharacter(o)&&!n.isVariableCharacter(o));return this.pos+=i,{type:r,pos:e,len:i}}}return n})(),Yd=class{constructor(){this._children=[]}appendChild(t){return t instanceof vo&&this._children[this._children.length-1]instanceof vo?this._children[this._children.length-1].value+=t.value:(t.parent=this,this._children.push(t)),this}replace(t,e){let{parent:i}=t,o=i.children.indexOf(t),r=i.children.slice(0);r.splice(o,1,...e),i._children=r,function s(a,l){for(let c of a)c.parent=l,s(c.children,c)}(e,i)}get children(){return this._children}get rightMostDescendant(){return this._children.length>0?this._children[this._children.length-1].rightMostDescendant:this}get snippet(){let t=this;for(;;){if(!t)return;if(t instanceof Df)return t;t=t.parent}}toString(){return this.children.reduce((t,e)=>t+e.toString(),"")}len(){return 0}},vo=class n extends Yd{constructor(t){super(),this.value=t}toString(){return this.value}len(){return this.value.length}clone(){return new n(this.value)}},iI=class extends Yd{},Zr=class n extends iI{static compareByIndex(t,e){return t.index===e.index?0:t.isFinalTabstop?1:e.isFinalTabstop||t.index<e.index?-1:t.index>e.index?1:0}constructor(t){super(),this.index=t}get isFinalTabstop(){return this.index===0}get choice(){return this._children.length===1&&this._children[0]instanceof Vh?this._children[0]:void 0}clone(){let t=new n(this.index);return this.transform&&(t.transform=this.transform.clone()),t._children=this.children.map(e=>e.clone()),t}},Vh=class n extends Yd{constructor(){super(...arguments),this.options=[]}appendChild(t){return t instanceof vo&&(t.parent=this,this.options.push(t)),this}toString(){return this.options[0].value}len(){return this.options[0].len()}clone(){let t=new n;return this.options.forEach(t.appendChild,t),t}},yP=class n extends Yd{constructor(){super(...arguments),this.regexp=new RegExp("")}resolve(t){let e=this,i=!1,o=t.replace(this.regexp,function(){return i=!0,e._replace(Array.prototype.slice.call(arguments,0,-2))});return!i&&this._children.some(r=>r instanceof za&&!!r.elseValue)&&(o=this._replace([])),o}_replace(t){let e="";for(let i of this._children)if(i instanceof za){let o=t[i.index]||"";o=i.resolve(o),e+=o}else e+=i.toString();return e}toString(){return""}clone(){let t=new n;return t.regexp=new RegExp(this.regexp.source,(this.regexp.ignoreCase?"i":"")+(this.regexp.global?"g":"")),t._children=this.children.map(e=>e.clone()),t}},za=class n extends Yd{constructor(t,e,i,o){super(),this.index=t,this.shorthandName=e,this.ifValue=i,this.elseValue=o}resolve(t){return this.shorthandName==="upcase"?t?t.toLocaleUpperCase():"":this.shorthandName==="downcase"?t?t.toLocaleLowerCase():"":this.shorthandName==="capitalize"?t?t[0].toLocaleUpperCase()+t.substr(1):"":this.shorthandName==="pascalcase"?t?this._toPascalCase(t):"":this.shorthandName==="camelcase"?t?this._toCamelCase(t):"":t&&typeof this.ifValue=="string"?this.ifValue:!t&&typeof this.elseValue=="string"?this.elseValue:t||""}_toPascalCase(t){let e=t.match(/[a-z0-9]+/gi);return e?e.map(i=>i.charAt(0).toUpperCase()+i.substr(1)).join(""):t}_toCamelCase(t){let e=t.match(/[a-z0-9]+/gi);return e?e.map((i,o)=>o===0?i.charAt(0).toLowerCase()+i.substr(1):i.charAt(0).toUpperCase()+i.substr(1)).join(""):t}clone(){return new n(this.index,this.shorthandName,this.ifValue,this.elseValue)}},hb=class n extends iI{constructor(t){super(),this.name=t}resolve(t){let e=t.resolve(this);return this.transform&&(e=this.transform.resolve(e||"")),e!==void 0?(this._children=[new vo(e)],!0):!1}clone(){let t=new n(this.name);return this.transform&&(t.transform=this.transform.clone()),t._children=this.children.map(e=>e.clone()),t}};function IG(n,t){let e=[...n];for(;e.length>0;){let i=e.shift();if(!t(i))break;e.unshift(...i.children)}}var Df=class n extends Yd{get placeholderInfo(){if(!this._placeholders){let t=[],e;this.walk(function(i){return i instanceof Zr&&(t.push(i),e=!e||e.index<i.index?i:e),!0}),this._placeholders={all:t,last:e}}return this._placeholders}get placeholders(){let{all:t}=this.placeholderInfo;return t}offset(t){let e=0,i=!1;return this.walk(o=>o===t?(i=!0,!1):(e+=o.len(),!0)),i?e:-1}fullLen(t){let e=0;return IG([t],i=>(e+=i.len(),!0)),e}enclosingPlaceholders(t){let e=[],{parent:i}=t;for(;i;)i instanceof Zr&&e.push(i),i=i.parent;return e}resolveVariables(t){return this.walk(e=>(e instanceof hb&&e.resolve(t)&&(this._placeholders=void 0),!0)),this}appendChild(t){return this._placeholders=void 0,super.appendChild(t)}replace(t,e){return this._placeholders=void 0,super.replace(t,e)}clone(){let t=new n;return this._children=this.children.map(e=>e.clone()),t}walk(t){IG(this.children,t)}},Lr=class{constructor(){this._scanner=new W_e,this._token={type:14,pos:0,len:0}}static escape(t){return t.replace(/\$|}|\\/g,"\\$&")}static guessNeedsClipboard(t){return/\${?CLIPBOARD/.test(t)}parse(t,e,i){let o=new Df;return this.parseFragment(t,o),this.ensureFinalTabstop(o,i??!1,e??!1),o}parseFragment(t,e){let i=e.children.length;for(this._scanner.text(t),this._token=this._scanner.next();this._parse(e););let o=new Map,r=[];e.walk(l=>(l instanceof Zr&&(l.isFinalTabstop?o.set(0,void 0):!o.has(l.index)&&l.children.length>0?o.set(l.index,l.children):r.push(l)),!0));let s=(l,c)=>{let d=o.get(l.index);if(!d)return;let u=new Zr(l.index);u.transform=l.transform;for(let h of d){let m=h.clone();u.appendChild(m),m instanceof Zr&&o.has(m.index)&&!c.has(m.index)&&(c.add(m.index),s(m,c),c.delete(m.index))}e.replace(l,[u])},a=new Set;for(let l of r)s(l,a);return e.children.slice(i)}ensureFinalTabstop(t,e,i){(e||i&&t.placeholders.length>0)&&(t.placeholders.find(r=>r.index===0)||t.appendChild(new Zr(0)))}_accept(t,e){if(t===void 0||this._token.type===t){let i=e?this._scanner.tokenText(this._token):!0;return this._token=this._scanner.next(),i}return!1}_backTo(t){return this._scanner.pos=t.pos+t.len,this._token=t,!1}_until(t){let e=this._token;for(;this._token.type!==t;){if(this._token.type===14)return!1;if(this._token.type===5){let o=this._scanner.next();if(o.type!==0&&o.type!==4&&o.type!==5)return!1}this._token=this._scanner.next()}let i=this._scanner.value.substring(e.pos,this._token.pos).replace(/\\(\$|}|\\)/g,"$1");return this._token=this._scanner.next(),i}_parse(t){return this._parseEscaped(t)||this._parseTabstopOrVariableName(t)||this._parseComplexPlaceholder(t)||this._parseComplexVariable(t)||this._parseAnything(t)}_parseEscaped(t){let e;return(e=this._accept(5,!0))?(e=this._accept(0,!0)||this._accept(4,!0)||this._accept(5,!0)||e,t.appendChild(new vo(e)),!0):!1}_parseTabstopOrVariableName(t){let e,i=this._token;return this._accept(0)&&(e=this._accept(9,!0)||this._accept(8,!0))?(t.appendChild(/^\d+$/.test(e)?new Zr(Number(e)):new hb(e)),!0):this._backTo(i)}_parseComplexPlaceholder(t){let e,i=this._token;if(!(this._accept(0)&&this._accept(3)&&(e=this._accept(8,!0))))return this._backTo(i);let r=new Zr(Number(e));if(this._accept(1))for(;;){if(this._accept(4))return t.appendChild(r),!0;if(!this._parse(r))return t.appendChild(new vo("${"+e+":")),r.children.forEach(t.appendChild,t),!0}else if(r.index>0&&this._accept(7)){let s=new Vh;for(;;){if(this._parseChoiceElement(s)){if(this._accept(2))continue;if(this._accept(7)&&(r.appendChild(s),this._accept(4)))return t.appendChild(r),!0}return this._backTo(i),!1}}else return this._accept(6)?this._parseTransform(r)?(t.appendChild(r),!0):(this._backTo(i),!1):this._accept(4)?(t.appendChild(r),!0):this._backTo(i)}_parseChoiceElement(t){let e=this._token,i=[];for(;!(this._token.type===2||this._token.type===7);){let o;if((o=this._accept(5,!0))?o=this._accept(2,!0)||this._accept(7,!0)||this._accept(5,!0)||o:o=this._accept(void 0,!0),!o)return this._backTo(e),!1;i.push(o)}return i.length===0?(this._backTo(e),!1):(t.appendChild(new vo(i.join(""))),!0)}_parseComplexVariable(t){let e,i=this._token;if(!(this._accept(0)&&this._accept(3)&&(e=this._accept(9,!0))))return this._backTo(i);let r=new hb(e);if(this._accept(1))for(;;){if(this._accept(4))return t.appendChild(r),!0;if(!this._parse(r))return t.appendChild(new vo("${"+e+":")),r.children.forEach(t.appendChild,t),!0}else return this._accept(6)?this._parseTransform(r)?(t.appendChild(r),!0):(this._backTo(i),!1):this._accept(4)?(t.appendChild(r),!0):this._backTo(i)}_parseTransform(t){let e=new yP,i="",o="";for(;!this._accept(6);){let r;if(r=this._accept(5,!0)){r=this._accept(6,!0)||r,i+=r;continue}if(this._token.type!==14){i+=this._accept(void 0,!0);continue}return!1}for(;!this._accept(6);){let r;if(r=this._accept(5,!0)){r=this._accept(5,!0)||this._accept(6,!0)||r,e.appendChild(new vo(r));continue}if(!(this._parseFormatString(e)||this._parseAnything(e)))return!1}for(;!this._accept(4);){if(this._token.type!==14){o+=this._accept(void 0,!0);continue}return!1}try{e.regexp=new RegExp(i,o)}catch{return!1}return t.transform=e,!0}_parseFormatString(t){let e=this._token;if(!this._accept(0))return!1;let i=!1;this._accept(3)&&(i=!0);let o=this._accept(8,!0);if(o)if(i){if(this._accept(4))return t.appendChild(new za(Number(o))),!0;if(!this._accept(1))return this._backTo(e),!1}else return t.appendChild(new za(Number(o))),!0;else return this._backTo(e),!1;if(this._accept(6)){let r=this._accept(9,!0);return!r||!this._accept(4)?(this._backTo(e),!1):(t.appendChild(new za(Number(o),r)),!0)}else if(this._accept(11)){let r=this._until(4);if(r)return t.appendChild(new za(Number(o),void 0,r,void 0)),!0}else if(this._accept(12)){let r=this._until(4);if(r)return t.appendChild(new za(Number(o),void 0,void 0,r)),!0}else if(this._accept(13)){let r=this._until(1);if(r){let s=this._until(4);if(s)return t.appendChild(new za(Number(o),void 0,r,s)),!0}}else{let r=this._until(4);if(r)return t.appendChild(new za(Number(o),void 0,void 0,r)),!0}return this._backTo(e),!1}_parseAnything(t){return this._token.type!==14?(t.appendChild(new vo(this._scanner.tokenText(this._token))),this._accept(void 0),!0):!1}};function nI(n,t,e){return(typeof e.insertText=="string"?e.insertText==="":e.insertText.snippet==="")?{edits:e.additionalEdit?.edits??[]}:{edits:[...t.map(i=>new y5(n,{range:i,text:typeof e.insertText=="string"?Lr.escape(e.insertText)+"$0":e.insertText.snippet,insertAsSnippet:!0})),...e.additionalEdit?.edits??[]]}}function oI(n){function t(s,a){return"mimeType"in s?s.mimeType===a.handledMimeType:!!a.kind&&s.kind.contains(a.kind)}let e=new Map;for(let s of n)for(let a of s.yieldTo??[])for(let l of n)if(l!==s&&t(a,l)){let c=e.get(s);c||(c=[],e.set(s,c)),c.push(l)}if(!e.size)return Array.from(n);let i=new Set,o=[];function r(s){if(!s.length)return[];let a=s[0];if(o.includes(a))return console.warn("Yield to cycle detected",a),s;if(i.has(a))return r(s.slice(1));let l=[],c=e.get(a);return c&&(o.push(a),l=r(c),o.pop()),i.add(a),[...l,a,...r(s.slice(1))]}return r(Array.from(n))}_h();gt();Ht();Vn();ce();Fi();Zo();qe();bn();Ot();var j_e=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},U_e=function(n,t){return function(e,i){t(e,i,n)}},q_e=at.register({description:"inline-progress-widget",stickiness:1,showIfCollapsed:!0,after:{content:Nx,inlineClassName:"inline-editor-progress-decoration",inlineClassNameAffectsLetterSpacing:!0}}),G_e=(()=>{class n extends U{static{this.baseId="editor.widget.inlineProgressWidget"}constructor(e,i,o,r,s){super(),this.typeId=e,this.editor=i,this.range=o,this.delegate=s,this.allowEditorOverflow=!1,this.suppressMouseDown=!0,this.create(r),this.editor.addContentWidget(this),this.editor.layoutContentWidget(this)}create(e){this.domNode=ye(".inline-progress-widget"),this.domNode.role="button",this.domNode.title=e;let i=ye("span.icon");this.domNode.append(i),i.classList.add(...St.asClassNameArray(Ge.loading),"codicon-modifier-spin");let o=()=>{let r=this.editor.getOption(67);this.domNode.style.height=`${r}px`,this.domNode.style.width=`${Math.ceil(.8*r)}px`};o(),this._register(this.editor.onDidChangeConfiguration(r=>{(r.hasChanged(52)||r.hasChanged(67))&&o()})),this._register(Ct(this.domNode,li.CLICK,r=>{this.delegate.cancel()}))}getId(){return n.baseId+"."+this.typeId}getDomNode(){return this.domNode}getPosition(){return{position:{lineNumber:this.range.startLineNumber,column:this.range.startColumn},preference:[0]}}dispose(){super.dispose(),this.editor.removeContentWidget(this)}}return n})(),Ef=class extends U{constructor(t,e,i){super(),this.id=t,this._editor=e,this._instantiationService=i,this._showDelay=500,this._showPromise=this._register(new dn),this._currentWidget=this._register(new dn),this._operationIdPool=0,this._currentDecorations=e.createDecorationsCollection()}dispose(){super.dispose(),this._currentDecorations.clear()}showWhile(t,e,i,o,r){return k(this,null,function*(){let s=this._operationIdPool++;this._currentOperation=s,this.clear(),this._showPromise.value=sc(()=>{let a=A.fromPositions(t);this._currentDecorations.set([{range:a,options:q_e}]).length>0&&(this._currentWidget.value=this._instantiationService.createInstance(G_e,this.id,this._editor,a,e,o))},r??this._showDelay);try{return yield i}finally{this._currentOperation===s&&(this.clear(),this._currentOperation=void 0)}})}clear(){this._showPromise.clear(),this._currentDecorations.clear(),this._currentWidget.clear()}};Ef=j_e([U_e(2,De)],Ef);oi();Hs();ce();tt();qe();Ae();mt();gt();var $_e=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},DG=function(n,t){return function(e,i){t(e,i,n)}},rI,bo=class{static{rI=this}static{this.ID="editor.contrib.messageController"}static{this.MESSAGE_VISIBLE=new ot("messageVisible",!1,_("messageVisible","Whether the editor is currently showing an inline message"))}static get(t){return t.getContribution(rI.ID)}constructor(t,e,i){this._openerService=i,this._messageWidget=new dn,this._messageListeners=new G,this._mouseOverMessage=!1,this._editor=t,this._visible=rI.MESSAGE_VISIBLE.bindTo(e)}dispose(){this._message?.dispose(),this._messageListeners.dispose(),this._messageWidget.dispose(),this._visible.reset()}showMessage(t,e){$n(_p(t)?t.value:t),this._visible.set(!0),this._messageWidget.clear(),this._messageListeners.clear(),this._message=_p(t)?h5(t,{actionHandler:{callback:o=>{this.closeMessage(),b5(this._openerService,o,_p(t)?t.isTrusted:void 0)},disposables:this._messageListeners}}):void 0,this._messageWidget.value=new sI(this._editor,e,typeof t=="string"?t:this._message.element),this._messageListeners.add(bi.debounce(this._editor.onDidBlurEditorText,(o,r)=>r,0)(()=>{this._mouseOverMessage||this._messageWidget.value&&zj(Bx(),this._messageWidget.value.getDomNode())||this.closeMessage()})),this._messageListeners.add(this._editor.onDidChangeCursorPosition(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidDispose(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidChangeModel(()=>this.closeMessage())),this._messageListeners.add(Ct(this._messageWidget.value.getDomNode(),li.MOUSE_ENTER,()=>this._mouseOverMessage=!0,!0)),this._messageListeners.add(Ct(this._messageWidget.value.getDomNode(),li.MOUSE_LEAVE,()=>this._mouseOverMessage=!1,!0));let i;this._messageListeners.add(this._editor.onMouseMove(o=>{o.target.position&&(i?i.containsPosition(o.target.position)||this.closeMessage():i=new A(e.lineNumber-3,1,o.target.position.lineNumber+3,1))}))}closeMessage(){this._visible.reset(),this._messageListeners.clear(),this._messageWidget.value&&this._messageListeners.add(sI.fadeOut(this._messageWidget.value))}};bo=rI=$_e([DG(1,Xe),DG(2,Gn)],bo);var K_e=Ki.bindToContribution(bo.get);Ne(new K_e({id:"leaveEditorMessage",precondition:bo.MESSAGE_VISIBLE,handler:n=>n.closeMessage(),kbOpts:{weight:130,primary:9}}));var sI=class{static fadeOut(t){let e=()=>{t.dispose(),clearTimeout(i),t.getDomNode().removeEventListener("animationend",e)},i=setTimeout(e,110);return t.getDomNode().addEventListener("animationend",e),t.getDomNode().classList.add("fadeOut"),{dispose:e}}constructor(t,{lineNumber:e,column:i},o){this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._editor=t,this._editor.revealLinesInCenterIfOutsideViewport(e,e,0),this._position={lineNumber:e,column:i},this._domNode=document.createElement("div"),this._domNode.classList.add("monaco-editor-overlaymessage"),this._domNode.style.marginLeft="-6px";let r=document.createElement("div");r.classList.add("anchor","top"),this._domNode.appendChild(r);let s=document.createElement("div");typeof o=="string"?(s.classList.add("message"),s.textContent=o):(o.classList.add("message"),s.appendChild(o)),this._domNode.appendChild(s);let a=document.createElement("div");a.classList.add("anchor","below"),this._domNode.appendChild(a),this._editor.addContentWidget(this),this._domNode.classList.add("fadeIn")}dispose(){this._editor.removeContentWidget(this)}getId(){return"messageoverlay"}getDomNode(){return this._domNode}getPosition(){return{position:this._position,preference:[1,2],positionAffinity:1}}afterRender(t){this._domNode.classList.toggle("below",t===2)}};Me(bo.ID,bo,4);Ae();mt();Ot();gt();lh();Oi();io();Ae();function xP(n,t){return t&&(n.stack||n.stacktrace)?_("stackTrace.format","{0}: {1}",kG(n),EG(n.stack)||EG(n.stacktrace)):kG(n)}function EG(n){return Array.isArray(n)?n.join(`
`):n}function kG(n){return n.code==="ERR_UNC_HOST_NOT_ALLOWED"?`${n.message}. Please update the 'security.allowedUNCHosts' setting if you want to allow this host.`:typeof n.code=="string"&&typeof n.errno=="number"&&typeof n.syscall=="string"?_("nodeExceptionMessage","A system error occurred ({0})",n.message):n.message||_("error.defaultMessage","An unknown error occurred. Please consult the log for more details.")}function kf(n=null,t=!1){if(!n)return _("error.defaultMessage","An unknown error occurred. Please consult the log for more details.");if(Array.isArray(n)){let e=Ko(n),i=kf(e[0],t);return e.length>1?_("error.moreErrors","{0} ({1} errors in total)",i,e.length):i}if(Ex(n))return n;if(n.detail){let e=n.detail;if(e.error)return xP(e.error,t);if(e.exception)return xP(e.exception,t)}return n.stack?xP(n,t):n.message?n.message:_("error.defaultMessage","An unknown error occurred. Please consult the log for more details.")}Bt();oi();ce();Ae();mt();Ot();var MG=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},Mf=function(n,t){return function(e,i){t(e,i,n)}},CP,SP=class extends U{static{CP=this}static{this.baseId="editor.widget.postEditWidget"}constructor(e,i,o,r,s,a,l,c,d,u){super(),this.typeId=e,this.editor=i,this.showCommand=r,this.range=s,this.edits=a,this.onSelectNewEdit=l,this._contextMenuService=c,this._keybindingService=u,this.allowEditorOverflow=!0,this.suppressMouseDown=!0,this.create(),this.visibleContext=o.bindTo(d),this.visibleContext.set(!0),this._register(Mt(()=>this.visibleContext.reset())),this.editor.addContentWidget(this),this.editor.layoutContentWidget(this),this._register(Mt(()=>this.editor.removeContentWidget(this))),this._register(this.editor.onDidChangeCursorPosition(h=>{s.containsPosition(h.position)||this.dispose()})),this._register(bi.runAndSubscribe(u.onDidUpdateKeybindings,()=>{this._updateButtonTitle()}))}_updateButtonTitle(){let e=this._keybindingService.lookupKeybinding(this.showCommand.id)?.getLabel();this.button.element.title=this.showCommand.label+(e?` (${e})`:"")}create(){this.domNode=ye(".post-edit-widget"),this.button=this._register(new J5(this.domNode,{supportIcons:!0})),this.button.label="$(insert)",this._register(Ct(this.domNode,li.CLICK,()=>this.showSelector()))}getId(){return CP.baseId+"."+this.typeId}getDomNode(){return this.domNode}getPosition(){return{position:this.range.getEndPosition(),preference:[2]}}showSelector(){this._contextMenuService.showContextMenu({getAnchor:()=>{let e=Gi(this.button.element);return{x:e.left+e.width,y:e.top+e.height}},getActions:()=>this.edits.allEdits.map((e,i)=>Gj({id:"",label:e.title,checked:i===this.edits.activeEditIndex,run:()=>{if(i!==this.edits.activeEditIndex)return this.onSelectNewEdit(i)}}))})}};SP=CP=MG([Mf(7,Bs),Mf(8,Xe),Mf(9,Vt)],SP);var Tf=class extends U{constructor(t,e,i,o,r,s,a){super(),this._id=t,this._editor=e,this._visibleContext=i,this._showCommand=o,this._instantiationService=r,this._bulkEditService=s,this._notificationService=a,this._currentWidget=this._register(new dn),this._register(bi.any(e.onDidChangeModel,e.onDidChangeModelContent)(()=>this.clear()))}applyEditAndShowIfNeeded(t,e,i,o,r){return k(this,null,function*(){let s=this._editor.getModel();if(!s||!t.length)return;let a=e.allEdits.at(e.activeEditIndex);if(!a)return;let l=g=>k(this,null,function*(){let v=this._editor.getModel();v&&(yield v.undo(),this.applyEditAndShowIfNeeded(t,{activeEditIndex:g,allEdits:e.allEdits},i,o,r))}),c=(g,v)=>{ur(g)||(this._notificationService.error(v),i&&this.show(t[0],e,l))},d;try{d=yield o(a,r)}catch(g){return c(g,_("resolveError",`Error resolving edit '{0}':
{1}`,a.title,kf(g)))}if(r.isCancellationRequested)return;let u=nI(s.uri,t,d),h=t[0],m=s.deltaDecorations([],[{range:h,options:{description:"paste-line-suffix",stickiness:0}}]);this._editor.focus();let f,p;try{f=yield this._bulkEditService.apply(u,{editor:this._editor,token:r}),p=s.getDecorationRange(m[0])}catch(g){return c(g,_("applyError",`Error applying edit '{0}':
{1}`,a.title,kf(g)))}finally{s.deltaDecorations(m,[])}r.isCancellationRequested||i&&f.isApplied&&e.allEdits.length>1&&this.show(p??h,e,l)})}show(t,e,i){this.clear(),this._editor.hasModel()&&(this._currentWidget.value=this._instantiationService.createInstance(SP,this._id,this._editor,this._visibleContext,this._showCommand,t,e,i))}clear(){this._currentWidget.clear()}tryShowSelector(){this._currentWidget.value?.showSelector()}};Tf=MG([Mf(4,De),Mf(5,xd),Mf(6,Bi)],Tf);Bt();var X_e=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},Af=function(n,t){return function(e,i){t(e,i,n)}},Wh,DP="editor.changePasteType",aI=new ot("pasteWidgetVisible",!1,_("pasteWidgetVisible","Whether the paste widget is showing")),IP="application/vnd.code.copyMetadata",Ba=class extends U{static{Wh=this}static{this.ID="editor.contrib.copyPasteActionController"}static get(e){return e.getContribution(Wh.ID)}constructor(e,i,o,r,s,a,l){super(),this._bulkEditService=o,this._clipboardService=r,this._languageFeaturesService=s,this._quickInputService=a,this._progressService=l,this._editor=e;let c=e.getContainerDomNode();this._register(Ct(c,"copy",d=>this.handleCopy(d))),this._register(Ct(c,"cut",d=>this.handleCopy(d))),this._register(Ct(c,"paste",d=>this.handlePaste(d),!0)),this._pasteProgressManager=this._register(new Ef("pasteIntoEditor",e,i)),this._postPasteWidgetManager=this._register(i.createInstance(Tf,"pasteIntoEditor",e,aI,{id:DP,label:_("postPasteWidgetTitle","Show paste options...")}))}changePasteType(){this._postPasteWidgetManager.tryShowSelector()}pasteAs(e){this._editor.focus();try{this._pasteAsActionContext={preferred:e},H_().execCommand("paste")}finally{this._pasteAsActionContext=void 0}}clearWidgets(){this._postPasteWidgetManager.clear()}isPasteAsEnabled(){return this._editor.getOption(85).enabled}finishedPaste(){return k(this,null,function*(){yield this._currentPasteOperation})}handleCopy(e){if(!this._editor.hasTextFocus()||(this._clipboardService.clearInternalState?.(),!e.clipboardData||!this.isPasteAsEnabled()))return;let i=this._editor.getModel(),o=this._editor.getSelections();if(!i||!o?.length)return;let r=this._editor.getOption(37),s=o,a=o.length===1&&o[0].isEmpty();if(a){if(!r)return;s=[new A(s[0].startLineNumber,1,s[0].startLineNumber,1+i.getLineLength(s[0].startLineNumber))]}let l=this._editor._getViewModel()?.getPlainTextToCopy(o,r,cd),d={multicursorText:Array.isArray(l)?l:null,pasteOnNewLine:a,mode:null},u=this._languageFeaturesService.documentPasteEditProvider.ordered(i).filter(g=>!!g.prepareDocumentPaste);if(!u.length){this.setCopyMetadata(e.clipboardData,{defaultPastePayload:d});return}let h=_P(e.clipboardData),m=u.flatMap(g=>g.copyMimeTypes??[]),f=Kd();this.setCopyMetadata(e.clipboardData,{id:f,providerCopyMimeTypes:m,defaultPastePayload:d});let p=yi(g=>k(this,null,function*(){let v=Ko(yield Promise.all(u.map(b=>k(this,null,function*(){try{return yield b.prepareDocumentPaste(i,s,h,g)}catch(C){console.error(C);return}}))));v.reverse();for(let b of v)for(let[C,T]of b)h.replace(C,T);return h}));Wh._currentCopyOperation?.dataTransferPromise.cancel(),Wh._currentCopyOperation={handle:f,dataTransferPromise:p}}handlePaste(e){return k(this,null,function*(){if(!e.clipboardData||!this._editor.hasTextFocus())return;bo.get(this._editor)?.closeMessage(),this._currentPasteOperation?.cancel(),this._currentPasteOperation=void 0;let i=this._editor.getModel(),o=this._editor.getSelections();if(!o?.length||!i||this._editor.getOption(92)||!this.isPasteAsEnabled()&&!this._pasteAsActionContext)return;let r=this.fetchCopyMetadata(e),s=ZS(e.clipboardData);s.delete(IP);let a=[...e.clipboardData.types,...r?.providerCopyMimeTypes??[],Nn.uriList],l=this._languageFeaturesService.documentPasteEditProvider.ordered(i).filter(c=>{let d=this._pasteAsActionContext?.preferred;return d&&c.providedPasteEditKinds&&!this.providerMatchesPreference(c,d)?!1:c.pasteMimeTypes?.some(u=>YS(u,a))});if(!l.length){this._pasteAsActionContext?.preferred&&this.showPasteAsNoEditMessage(o,this._pasteAsActionContext.preferred);return}e.preventDefault(),e.stopImmediatePropagation(),this._pasteAsActionContext?this.showPasteAsPick(this._pasteAsActionContext.preferred,l,o,s,r):this.doPasteInline(l,o,s,r,e)})}showPasteAsNoEditMessage(e,i){bo.get(this._editor)?.showMessage(_("pasteAsError","No paste edits for '{0}' found",i instanceof Qt?i.value:i.providerId),e[0].getStartPosition())}doPasteInline(e,i,o,r,s){let a=this._editor;if(!a.hasModel())return;let l=new bl(a,3,void 0),c=yi(d=>k(this,null,function*(){let u=this._editor;if(!u.hasModel())return;let h=u.getModel(),m=new G,f=m.add(new fi(d));m.add(l.token.onCancellationRequested(()=>f.cancel()));let p=f.token;try{if(yield this.mergeInDataFromCopy(o,r,p),p.isCancellationRequested)return;let g=e.filter(C=>this.isSupportedPasteProvider(C,o));if(!g.length||g.length===1&&g[0]instanceof Rc)return this.applyDefaultPasteHandler(o,r,p,s);let v={triggerKind:L_.Automatic},b=yield this.getPasteEdits(g,o,h,i,v,p);if(m.add(b),p.isCancellationRequested)return;if(b.edits.length===1&&b.edits[0].provider instanceof Rc)return this.applyDefaultPasteHandler(o,r,p,s);if(b.edits.length){let C=u.getOption(85).showPasteSelector==="afterPaste";return this._postPasteWidgetManager.applyEditAndShowIfNeeded(i,{activeEditIndex:0,allEdits:b.edits},C,(T,E)=>new Promise((F,L)=>{k(this,null,function*(){try{let H=T.provider.resolveDocumentPasteEdit?.(T,E),re=new md,R=H&&(yield this._pasteProgressManager.showWhile(i[0].getEndPosition(),_("resolveProcess","Resolving paste edit. Click to cancel"),Promise.race([re.p,H]),{cancel:()=>(re.cancel(),L(new ud))},0));return R&&(T.additionalEdit=R.additionalEdit),F(T)}catch(H){return L(H)}})}),p)}yield this.applyDefaultPasteHandler(o,r,p,s)}finally{m.dispose(),this._currentPasteOperation===c&&(this._currentPasteOperation=void 0)}}));this._pasteProgressManager.showWhile(i[0].getEndPosition(),_("pasteIntoEditorProgress","Running paste handlers. Click to cancel and do basic paste"),c,{cancel:()=>k(this,null,function*(){try{if(c.cancel(),l.token.isCancellationRequested)return;yield this.applyDefaultPasteHandler(o,r,l.token,s)}finally{l.dispose()}})}).then(()=>{l.dispose()}),this._currentPasteOperation=c}showPasteAsPick(e,i,o,r,s){let a=yi(l=>k(this,null,function*(){let c=this._editor;if(!c.hasModel())return;let d=c.getModel(),u=new G,h=u.add(new bl(c,3,void 0,l));try{if(yield this.mergeInDataFromCopy(r,s,h.token),h.token.isCancellationRequested)return;let m=i.filter(b=>this.isSupportedPasteProvider(b,r,e));e&&(m=m.filter(b=>this.providerMatchesPreference(b,e)));let f={triggerKind:L_.PasteAs,only:e&&e instanceof Qt?e:void 0},p=u.add(yield this.getPasteEdits(m,r,d,o,f,h.token));if(h.token.isCancellationRequested)return;if(e&&(p={edits:p.edits.filter(b=>e instanceof Qt?e.contains(b.kind):e.providerId===b.provider.id),dispose:p.dispose}),!p.edits.length){f.only&&this.showPasteAsNoEditMessage(o,f.only);return}let g;if(e?g=p.edits.at(0):g=(yield this._quickInputService.pick(p.edits.map(C=>({label:C.title,description:C.kind?.value,edit:C})),{placeHolder:_("pasteAsPickerPlaceholder","Select Paste Action")}))?.edit,!g)return;let v=nI(d.uri,o,g);yield this._bulkEditService.apply(v,{editor:this._editor})}finally{u.dispose(),this._currentPasteOperation===a&&(this._currentPasteOperation=void 0)}}));this._progressService.withProgress({location:10,title:_("pasteAsProgress","Running paste handlers")},()=>a)}setCopyMetadata(e,i){e.setData(IP,JSON.stringify(i))}fetchCopyMetadata(e){if(!e.clipboardData)return;let i=e.clipboardData.getData(IP);if(i)try{return JSON.parse(i)}catch{return}let[o,r]=_U.getTextData(e.clipboardData);if(r)return{defaultPastePayload:{mode:r.mode,multicursorText:r.multicursorText??null,pasteOnNewLine:!!r.isFromEmptySelection}}}mergeInDataFromCopy(e,i,o){return k(this,null,function*(){if(i?.id&&Wh._currentCopyOperation?.handle===i.id){let r=yield Wh._currentCopyOperation.dataTransferPromise;if(o.isCancellationRequested)return;for(let[s,a]of r)e.replace(s,a)}if(!e.has(Nn.uriList)){let r=yield this._clipboardService.readResources();if(o.isCancellationRequested)return;r.length&&e.append(Nn.uriList,cb(Hh.create(r)))}})}getPasteEdits(e,i,o,r,s,a){return k(this,null,function*(){let l=new G,c=yield sl(Promise.all(e.map(u=>k(this,null,function*(){try{let h=yield u.provideDocumentPasteEdits?.(o,r,i,s,a);return h&&l.add(h),h?.edits?.map(m=>Te(j({},m),{provider:u}))}catch(h){ur(h)||console.error(h);return}}))),a),d=Ko(c??[]).flat().filter(u=>!s.only||s.only.contains(u.kind));return{edits:oI(d),dispose:()=>l.dispose()}})}applyDefaultPasteHandler(e,i,o,r){return k(this,null,function*(){let a=(yield(e.get(Nn.text)??e.get("text"))?.asString())??"";if(o.isCancellationRequested)return;let l={clipboardEvent:r,text:a,pasteOnNewLine:i?.defaultPastePayload.pasteOnNewLine??!1,multicursorText:i?.defaultPastePayload.multicursorText??null,mode:null};this._editor.trigger("keyboard","paste",l)})}isSupportedPasteProvider(e,i,o){return e.pasteMimeTypes?.some(r=>i.matches(r))?!o||this.providerMatchesPreference(e,o):!1}providerMatchesPreference(e,i){return i instanceof Qt?e.providedPasteEditKinds?e.providedPasteEditKinds.some(o=>i.contains(o)):!0:e.id===i.providerId}};Ba=Wh=X_e([Af(1,De),Af(2,xd),Af(3,Oa),Af(4,ae),Af(5,Bo),Af(6,x5)],Ba);Ae();$i();mt();var jh="9_cutcopypaste",Z_e=dd||document.queryCommandSupported("cut"),TG=dd||document.queryCommandSupported("copy"),Q_e=typeof navigator.clipboard>"u"||Dj?document.queryCommandSupported("paste"):!0;function MP(n){return n.register(),n}var J_e=Z_e?MP(new Wx({id:"editor.action.clipboardCutAction",precondition:void 0,kbOpts:dd?{primary:2102,win:{primary:2102,secondary:[1044]},weight:100}:void 0,menuOpts:[{menuId:ve.MenubarEditMenu,group:"2_ccp",title:_({key:"miCut",comment:["&& denotes a mnemonic"]},"Cu&&t"),order:1},{menuId:ve.EditorContext,group:jh,title:_("actions.clipboard.cutLabel","Cut"),when:M.writable,order:1},{menuId:ve.CommandPalette,group:"",title:_("actions.clipboard.cutLabel","Cut"),order:1},{menuId:ve.SimpleEditorContext,group:jh,title:_("actions.clipboard.cutLabel","Cut"),when:M.writable,order:1}]})):void 0,eve=TG?MP(new Wx({id:"editor.action.clipboardCopyAction",precondition:void 0,kbOpts:dd?{primary:2081,win:{primary:2081,secondary:[2067]},weight:100}:void 0,menuOpts:[{menuId:ve.MenubarEditMenu,group:"2_ccp",title:_({key:"miCopy",comment:["&& denotes a mnemonic"]},"&&Copy"),order:2},{menuId:ve.EditorContext,group:jh,title:_("actions.clipboard.copyLabel","Copy"),order:2},{menuId:ve.CommandPalette,group:"",title:_("actions.clipboard.copyLabel","Copy"),order:1},{menuId:ve.SimpleEditorContext,group:jh,title:_("actions.clipboard.copyLabel","Copy"),order:2}]})):void 0;Qo.appendMenuItem(ve.MenubarEditMenu,{submenu:ve.MenubarCopy,title:Pe("copy as","Copy As"),group:"2_ccp",order:3});Qo.appendMenuItem(ve.EditorContext,{submenu:ve.EditorContextCopy,title:Pe("copy as","Copy As"),group:jh,order:3});Qo.appendMenuItem(ve.EditorContext,{submenu:ve.EditorContextShare,title:Pe("share","Share"),group:"11_share",order:-1,when:K.and(K.notEquals("resourceScheme","output"),M.editorTextFocus)});Qo.appendMenuItem(ve.ExplorerContext,{submenu:ve.ExplorerContextShare,title:Pe("share","Share"),group:"11_share",order:-1});var EP=Q_e?MP(new Wx({id:"editor.action.clipboardPasteAction",precondition:void 0,kbOpts:dd?{primary:2100,win:{primary:2100,secondary:[1043]},linux:{primary:2100,secondary:[1043]},weight:100}:void 0,menuOpts:[{menuId:ve.MenubarEditMenu,group:"2_ccp",title:_({key:"miPaste",comment:["&& denotes a mnemonic"]},"&&Paste"),order:4},{menuId:ve.EditorContext,group:jh,title:_("actions.clipboard.pasteLabel","Paste"),when:M.writable,order:4},{menuId:ve.CommandPalette,group:"",title:_("actions.clipboard.pasteLabel","Paste"),order:1},{menuId:ve.SimpleEditorContext,group:jh,title:_("actions.clipboard.pasteLabel","Paste"),when:M.writable,order:4}]})):void 0,kP=class extends Z{constructor(){super({id:"editor.action.clipboardCopyWithSyntaxHighlightingAction",label:_("actions.clipboard.copyWithSyntaxHighlightingLabel","Copy With Syntax Highlighting"),alias:"Copy With Syntax Highlighting",precondition:void 0,kbOpts:{kbExpr:M.textInputFocus,primary:0,weight:100}})}run(t,e){!e.hasModel()||!e.getOption(37)&&e.getSelection().isEmpty()||(zA.forceCopyWithSyntaxHighlighting=!0,e.focus(),e.getContainerDomNode().ownerDocument.execCommand("copy"),zA.forceCopyWithSyntaxHighlighting=!1)}};function AG(n,t){n&&(n.addImplementation(1e4,"code-editor",(e,i)=>{let o=e.get(Xt).getFocusedCodeEditor();if(o&&o.hasTextFocus()){let r=o.getOption(37),s=o.getSelection();return s&&s.isEmpty()&&!r||o.getContainerDomNode().ownerDocument.execCommand(t),!0}return!1}),n.addImplementation(0,"generic-dom",(e,i)=>(H_().execCommand(t),!0)))}AG(J_e,"cut");AG(eve,"copy");EP&&(EP.addImplementation(1e4,"code-editor",(n,t)=>{let e=n.get(Xt),i=n.get(Oa),o=e.getFocusedCodeEditor();return o&&o.hasTextFocus()?o.getContainerDomNode().ownerDocument.execCommand("paste")?Ba.get(o)?.finishedPaste()??Promise.resolve():ej?k(void 0,null,function*(){let s=yield i.readText();if(s!==""){let a=gU.INSTANCE.get(s),l=!1,c=null,d=null;a&&(l=o.getOption(37)&&!!a.isFromEmptySelection,c=typeof a.multicursorText<"u"?a.multicursorText:null,d=a.mode),o.trigger("keyboard","paste",{text:s,pasteOnNewLine:l,multicursorText:c,mode:d})}}):!0:!1}),EP.addImplementation(0,"generic-dom",(n,t)=>(H_().execCommand("paste"),!0)));TG&&V(kP);tt();Fi();tt();$t();Oi();gi();Bt();ce();On();qe();Pn();Lt();ls();_h();Ae();Ui();Ia();Bt();var ui=new class{constructor(){this.QuickFix=new Qt("quickfix"),this.Refactor=new Qt("refactor"),this.RefactorExtract=this.Refactor.append("extract"),this.RefactorInline=this.Refactor.append("inline"),this.RefactorMove=this.Refactor.append("move"),this.RefactorRewrite=this.Refactor.append("rewrite"),this.Notebook=new Qt("notebook"),this.Source=new Qt("source"),this.SourceOrganizeImports=this.Source.append("organizeImports"),this.SourceFixAll=this.Source.append("fixAll"),this.SurroundWith=this.Refactor.append("surround")}},Ao=function(n){return n.Refactor="refactor",n.RefactorPreview="refactor preview",n.Lightbulb="lightbulb",n.Default="other (default)",n.SourceAction="source action",n.QuickFix="quick fix action",n.FixAll="fix all",n.OrganizeImports="organize imports",n.AutoFix="auto fix",n.QuickFixHover="quick fix hover window",n.OnSave="save participants",n.ProblemsView="problems view",n}(Ao||{});function RG(n,t){return!(n.include&&!n.include.intersects(t)||n.excludes&&n.excludes.some(e=>PG(t,e,n.include))||!n.includeSourceActions&&ui.Source.contains(t))}function OG(n,t){let e=t.kind?new Qt(t.kind):void 0;return!(n.include&&(!e||!n.include.contains(e))||n.excludes&&e&&n.excludes.some(i=>PG(e,i,n.include))||!n.includeSourceActions&&e&&ui.Source.contains(e)||n.onlyIncludePreferredActions&&!t.isPreferred)}function PG(n,t,e){return!(!t.contains(n)||e&&t.contains(e))}var Zd=class n{static fromUser(t,e){return!t||typeof t!="object"?new n(e.kind,e.apply,!1):new n(n.getKindFromUser(t,e.kind),n.getApplyFromUser(t,e.apply),n.getPreferredUser(t))}static getApplyFromUser(t,e){switch(typeof t.apply=="string"?t.apply.toLowerCase():""){case"first":return"first";case"never":return"never";case"ifsingle":return"ifSingle";default:return e}}static getKindFromUser(t,e){return typeof t.kind=="string"?new Qt(t.kind):e}static getPreferredUser(t){return typeof t.preferred=="boolean"?t.preferred:!1}constructor(t,e,i){this.kind=t,this.apply=e,this.preferred=i}},lI=class{constructor(t,e,i){this.action=t,this.provider=e,this.highlightRange=i}resolve(t){return k(this,null,function*(){if(this.provider?.resolveCodeAction&&!this.action.edit){let e;try{e=yield this.provider.resolveCodeAction(this.action,t)}catch(i){zt(i)}e&&(this.action.edit=e.edit)}return this})}};var cI="editor.action.codeAction",Rf="editor.action.quickFix",dI="editor.action.autoFix",uI="editor.action.refactor",hI="editor.action.sourceAction",mb="editor.action.organizeImports",pb="editor.action.fixAll",TP=class n extends U{static codeActionsPreferredComparator(t,e){return t.isPreferred&&!e.isPreferred?-1:!t.isPreferred&&e.isPreferred?1:0}static codeActionsComparator({action:t},{action:e}){return t.isAI&&!e.isAI?1:!t.isAI&&e.isAI?-1:Dn(t.diagnostics)?Dn(e.diagnostics)?n.codeActionsPreferredComparator(t,e):-1:Dn(e.diagnostics)?1:n.codeActionsPreferredComparator(t,e)}constructor(t,e,i){super(),this.documentation=e,this._register(i),this.allActions=[...t].sort(n.codeActionsComparator),this.validActions=this.allActions.filter(({action:o})=>!o.disabled)}get hasAutoFix(){return this.validActions.some(({action:t})=>!!t.kind&&ui.QuickFix.contains(new Qt(t.kind))&&!!t.isPreferred)}get hasAIFix(){return this.validActions.some(({action:t})=>!!t.isAI)}get allAIFixes(){return this.validActions.every(({action:t})=>!!t.isAI)}},LG={actions:[],documentation:void 0};function Qd(n,t,e,i,o,r){return k(this,null,function*(){let s=i.filter||{},a=Te(j({},s),{excludes:[...s.excludes||[],ui.Notebook]}),l={only:s.include?.value,trigger:i.type},c=new RU(t,r),d=i.type===2,u=tve(n,t,d?a:s),h=new G,m=u.map(p=>k(this,null,function*(){try{o.report(p);let g=yield p.provideCodeActions(t,e,l,c.token);if(g&&h.add(g),c.token.isCancellationRequested)return LG;let v=(g?.actions||[]).filter(C=>C&&OG(s,C)),b=nve(p,v,s.include);return{actions:v.map(C=>new lI(C,p)),documentation:b}}catch(g){if(ur(g))throw g;return zt(g),LG}})),f=n.onDidChange(()=>{let p=n.all(t);$o(p,u)||c.cancel()});try{let p=yield Promise.all(m),g=p.map(b=>b.actions).flat(),v=[...Ko(p.map(b=>b.documentation)),...ive(n,t,i,g)];return new TP(g,v,h)}finally{f.dispose(),c.dispose()}})}function tve(n,t,e){return n.all(t).filter(i=>i.providedCodeActionKinds?i.providedCodeActionKinds.some(o=>RG(e,new Qt(o))):!0)}function*ive(n,t,e,i){if(t&&i.length)for(let o of n.all(t))o._getAdditionalMenuItems&&(yield*eW(o._getAdditionalMenuItems?.({trigger:e.type,only:e.filter?.include?.value},i.map(r=>r.action))))}function nve(n,t,e){if(!n.documentation)return;let i=n.documentation.map(o=>({kind:new Qt(o.kind),command:o.command}));if(e){let o;for(let r of i)r.kind.contains(e)&&(o?o.kind.contains(r.kind)&&(o=r):o=r);if(o)return o?.command}for(let o of t)if(o.kind){for(let r of i)if(r.kind.contains(new Qt(o.kind)))return r.command}}var Uh=function(n){return n.OnSave="onSave",n.FromProblemsView="fromProblemsView",n.FromCodeActions="fromCodeActions",n.FromAILightbulb="fromAILightbulb",n}(Uh||{});function NG(r,s,a,l){return k(this,arguments,function*(n,t,e,i,o=Je.None){let c=n.get(xd),d=n.get(ci),u=n.get(jn),h=n.get(Bi);if(u.publicLog2("codeAction.applyCodeAction",{codeActionTitle:t.action.title,codeActionKind:t.action.kind,codeActionIsPreferred:!!t.action.isPreferred,reason:e}),yield t.resolve(o),!o.isCancellationRequested&&!(t.action.edit?.edits.length&&!(yield c.apply(t.action.edit,{editor:i?.editor,label:t.action.title,quotableLabel:t.action.title,code:"undoredo.codeAction",respectAutoSaveConfig:e!==Uh.OnSave,showPreview:i?.preview})).isApplied)&&t.action.command)try{yield d.executeCommand(t.action.command.id,...t.action.command.arguments||[])}catch(m){let f=ove(m);h.error(typeof f=="string"?f:_("applyCodeActionFailed","An unknown error occurred while applying the code action"))}})}function ove(n){return typeof n=="string"?n:n instanceof Error&&typeof n.message=="string"?n.message:void 0}Pt.registerCommand("_executeCodeActionProvider",function(n,t,e,i,o){return k(this,null,function*(){if(!(t instanceof ht))throw ss();let{codeActionProvider:r}=n.get(ae),s=n.get(ji).getModel(t);if(!s)throw ss();let a=ze.isISelection(e)?ze.liftSelection(e):A.isIRange(e)?s.validateRange(e):void 0;if(!a)throw ss();let l=typeof i=="string"?new Qt(i):void 0,c=yield Qd(r,s,a,{type:1,triggerAction:Ao.Default,filter:{includeSourceActions:!0,include:l}},hs.None,Je.None),d=[],u=Math.min(c.validActions.length,typeof o=="number"?o:0);for(let h=0;h<u;h++)d.push(c.validActions[h].resolve(Je.None));try{return yield Promise.all(d),c.validActions.map(h=>h.action)}finally{setTimeout(()=>c.dispose(),100)}})});Ae();mt();gt();Bt();QT();ce();hi();bn();Lt();QT();var rve=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},sve=function(n,t){return function(e,i){t(e,i,n)}},AP,mI=class{static{AP=this}static{this.codeActionCommands=[uI,cI,hI,mb,pb]}constructor(e){this.keybindingService=e}getResolver(){let e=new sp(()=>this.keybindingService.getKeybindings().filter(i=>AP.codeActionCommands.indexOf(i.command)>=0).filter(i=>i.resolvedKeybinding).map(i=>{let o=i.commandArgs;return i.command===mb?o={kind:ui.SourceOrganizeImports.value}:i.command===pb&&(o={kind:ui.SourceFixAll.value}),j({resolvedKeybinding:i.resolvedKeybinding},Zd.fromUser(o,{kind:Qt.None,apply:"never"}))}));return i=>{if(i.kind)return this.bestKeybindingForCodeAction(i,e.value)?.resolvedKeybinding}}bestKeybindingForCodeAction(e,i){if(!e.kind)return;let o=new Qt(e.kind);return i.filter(r=>r.kind.contains(o)).filter(r=>r.preferred?e.isPreferred:!0).reduceRight((r,s)=>r?r.kind.contains(s.kind)?s:r:s,void 0)}};mI=AP=rve([sve(0,Vt)],mI);Vn();Ae();Eo();var bnt=Oe("symbolIcon.arrayForeground",En,_("symbolIcon.arrayForeground","The foreground color for array symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),ynt=Oe("symbolIcon.booleanForeground",En,_("symbolIcon.booleanForeground","The foreground color for boolean symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),xnt=Oe("symbolIcon.classForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},_("symbolIcon.classForeground","The foreground color for class symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),wnt=Oe("symbolIcon.colorForeground",En,_("symbolIcon.colorForeground","The foreground color for color symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Cnt=Oe("symbolIcon.constantForeground",En,_("symbolIcon.constantForeground","The foreground color for constant symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Snt=Oe("symbolIcon.constructorForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},_("symbolIcon.constructorForeground","The foreground color for constructor symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Int=Oe("symbolIcon.enumeratorForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},_("symbolIcon.enumeratorForeground","The foreground color for enumerator symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Dnt=Oe("symbolIcon.enumeratorMemberForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},_("symbolIcon.enumeratorMemberForeground","The foreground color for enumerator member symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Ent=Oe("symbolIcon.eventForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},_("symbolIcon.eventForeground","The foreground color for event symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),knt=Oe("symbolIcon.fieldForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},_("symbolIcon.fieldForeground","The foreground color for field symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Mnt=Oe("symbolIcon.fileForeground",En,_("symbolIcon.fileForeground","The foreground color for file symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Tnt=Oe("symbolIcon.folderForeground",En,_("symbolIcon.folderForeground","The foreground color for folder symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Ant=Oe("symbolIcon.functionForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},_("symbolIcon.functionForeground","The foreground color for function symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Rnt=Oe("symbolIcon.interfaceForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},_("symbolIcon.interfaceForeground","The foreground color for interface symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Ont=Oe("symbolIcon.keyForeground",En,_("symbolIcon.keyForeground","The foreground color for key symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Pnt=Oe("symbolIcon.keywordForeground",En,_("symbolIcon.keywordForeground","The foreground color for keyword symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Lnt=Oe("symbolIcon.methodForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},_("symbolIcon.methodForeground","The foreground color for method symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Nnt=Oe("symbolIcon.moduleForeground",En,_("symbolIcon.moduleForeground","The foreground color for module symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Fnt=Oe("symbolIcon.namespaceForeground",En,_("symbolIcon.namespaceForeground","The foreground color for namespace symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),znt=Oe("symbolIcon.nullForeground",En,_("symbolIcon.nullForeground","The foreground color for null symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Bnt=Oe("symbolIcon.numberForeground",En,_("symbolIcon.numberForeground","The foreground color for number symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Hnt=Oe("symbolIcon.objectForeground",En,_("symbolIcon.objectForeground","The foreground color for object symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Vnt=Oe("symbolIcon.operatorForeground",En,_("symbolIcon.operatorForeground","The foreground color for operator symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Wnt=Oe("symbolIcon.packageForeground",En,_("symbolIcon.packageForeground","The foreground color for package symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),jnt=Oe("symbolIcon.propertyForeground",En,_("symbolIcon.propertyForeground","The foreground color for property symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Unt=Oe("symbolIcon.referenceForeground",En,_("symbolIcon.referenceForeground","The foreground color for reference symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),qnt=Oe("symbolIcon.snippetForeground",En,_("symbolIcon.snippetForeground","The foreground color for snippet symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Gnt=Oe("symbolIcon.stringForeground",En,_("symbolIcon.stringForeground","The foreground color for string symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),$nt=Oe("symbolIcon.structForeground",En,_("symbolIcon.structForeground","The foreground color for struct symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Knt=Oe("symbolIcon.textForeground",En,_("symbolIcon.textForeground","The foreground color for text symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Ynt=Oe("symbolIcon.typeParameterForeground",En,_("symbolIcon.typeParameterForeground","The foreground color for type parameter symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Xnt=Oe("symbolIcon.unitForeground",En,_("symbolIcon.unitForeground","The foreground color for unit symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Znt=Oe("symbolIcon.variableForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},_("symbolIcon.variableForeground","The foreground color for variable symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));Ae();var FG=Object.freeze({kind:Qt.Empty,title:_("codeAction.widget.id.more","More Actions...")}),ave=Object.freeze([{kind:ui.QuickFix,title:_("codeAction.widget.id.quickfix","Quick Fix")},{kind:ui.RefactorExtract,title:_("codeAction.widget.id.extract","Extract"),icon:Ge.wrench},{kind:ui.RefactorInline,title:_("codeAction.widget.id.inline","Inline"),icon:Ge.wrench},{kind:ui.RefactorRewrite,title:_("codeAction.widget.id.convert","Rewrite"),icon:Ge.wrench},{kind:ui.RefactorMove,title:_("codeAction.widget.id.move","Move"),icon:Ge.wrench},{kind:ui.SurroundWith,title:_("codeAction.widget.id.surround","Surround With"),icon:Ge.surroundWith},{kind:ui.Source,title:_("codeAction.widget.id.source","Source Action"),icon:Ge.symbolFile},FG]);function zG(n,t,e){if(!t)return n.map(r=>({kind:"action",item:r,group:FG,disabled:!!r.action.disabled,label:r.action.disabled||r.action.title,canPreview:!!r.action.edit?.edits.length}));let i=ave.map(r=>({group:r,actions:[]}));for(let r of n){let s=r.action.kind?new Qt(r.action.kind):Qt.None;for(let a of i)if(a.group.kind.contains(s)){a.actions.push(r);break}}let o=[];for(let r of i)if(r.actions.length){o.push({kind:"header",group:r.group});for(let s of r.actions){let a=r.group;o.push({kind:"action",item:s,group:s.action.isAI?{title:a.title,kind:a.kind,icon:Ge.sparkle}:a,label:s.action.title,disabled:!!s.action.disabled,keybinding:e(s.action)})}}return o}gt();Vn();oi();ce();Zo();ka();bn();Z5();Ae();qe();var lve=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},cve=function(n,t){return function(e,i){t(e,i,n)}},Of,BG=Ii("gutter-lightbulb",Ge.lightBulb,_("gutterLightbulbWidget","Icon which spawns code actions menu from the gutter when there is no space in the editor.")),HG=Ii("gutter-lightbulb-auto-fix",Ge.lightbulbAutofix,_("gutterLightbulbAutoFixWidget","Icon which spawns code actions menu from the gutter when there is no space in the editor and a quick fix is available.")),VG=Ii("gutter-lightbulb-sparkle",Ge.lightbulbSparkle,_("gutterLightbulbAIFixWidget","Icon which spawns code actions menu from the gutter when there is no space in the editor and an AI fix is available.")),WG=Ii("gutter-lightbulb-aifix-auto-fix",Ge.lightbulbSparkleAutofix,_("gutterLightbulbAIFixAutoFixWidget","Icon which spawns code actions menu from the gutter when there is no space in the editor and an AI fix and a quick fix is available.")),jG=Ii("gutter-lightbulb-sparkle-filled",Ge.sparkleFilled,_("gutterLightbulbSparkleFilledWidget","Icon which spawns code actions menu from the gutter when there is no space in the editor and an AI fix and a quick fix is available.")),Ha;(function(n){n.Hidden={type:0};class t{constructor(i,o,r,s){this.actions=i,this.trigger=o,this.editorPosition=r,this.widgetPosition=s,this.type=1}}n.Showing=t})(Ha||(Ha={}));var qh=class extends U{static{Of=this}static{this.GUTTER_DECORATION=at.register({description:"codicon-gutter-lightbulb-decoration",glyphMarginClassName:St.asClassName(Ge.lightBulb),glyphMargin:{position:up.Left},stickiness:1})}static{this.ID="editor.contrib.lightbulbWidget"}static{this._posPref=[0]}constructor(t,e){super(),this._editor=t,this._keybindingService=e,this._onClick=this._register(new je),this.onClick=this._onClick.event,this._state=Ha.Hidden,this._gutterState=Ha.Hidden,this._iconClasses=[],this.lightbulbClasses=["codicon-"+BG.id,"codicon-"+WG.id,"codicon-"+HG.id,"codicon-"+VG.id,"codicon-"+jG.id],this.gutterDecoration=Of.GUTTER_DECORATION,this._domNode=ye("div.lightBulbWidget"),this._domNode.role="listbox",this._register(rw.ignoreTarget(this._domNode)),this._editor.addContentWidget(this),this._register(this._editor.onDidChangeModelContent(i=>{let o=this._editor.getModel();(this.state.type!==1||!o||this.state.editorPosition.lineNumber>=o.getLineCount())&&this.hide(),(this.gutterState.type!==1||!o||this.gutterState.editorPosition.lineNumber>=o.getLineCount())&&this.gutterHide()})),this._register(Oj(this._domNode,i=>{if(this.state.type!==1)return;this._editor.focus(),i.preventDefault();let{top:o,height:r}=Gi(this._domNode),s=this._editor.getOption(67),a=Math.floor(s/3);this.state.widgetPosition.position!==null&&this.state.widgetPosition.position.lineNumber<this.state.editorPosition.lineNumber&&(a+=s),this._onClick.fire({x:i.posx,y:o+r+a,actions:this.state.actions,trigger:this.state.trigger})})),this._register(Ct(this._domNode,"mouseenter",i=>{(i.buttons&1)===1&&this.hide()})),this._register(bi.runAndSubscribe(this._keybindingService.onDidUpdateKeybindings,()=>{this._preferredKbLabel=this._keybindingService.lookupKeybinding(dI)?.getLabel()??void 0,this._quickFixKbLabel=this._keybindingService.lookupKeybinding(Rf)?.getLabel()??void 0,this._updateLightBulbTitleAndIcon()})),this._register(this._editor.onMouseDown(i=>k(this,null,function*(){if(!i.target.element||!this.lightbulbClasses.some(l=>i.target.element&&i.target.element.classList.contains(l))||this.gutterState.type!==1)return;this._editor.focus();let{top:o,height:r}=Gi(i.target.element),s=this._editor.getOption(67),a=Math.floor(s/3);this.gutterState.widgetPosition.position!==null&&this.gutterState.widgetPosition.position.lineNumber<this.gutterState.editorPosition.lineNumber&&(a+=s),this._onClick.fire({x:i.event.posx,y:o+r+a,actions:this.gutterState.actions,trigger:this.gutterState.trigger})})))}dispose(){super.dispose(),this._editor.removeContentWidget(this),this._gutterDecorationID&&this._removeGutterDecoration(this._gutterDecorationID)}getId(){return"LightBulbWidget"}getDomNode(){return this._domNode}getPosition(){return this._state.type===1?this._state.widgetPosition:null}update(t,e,i){if(t.validActions.length<=0)return this.gutterHide(),this.hide();if(!this._editor.hasTextFocus())return this.gutterHide(),this.hide();if(!this._editor.getOptions().get(65).enabled)return this.gutterHide(),this.hide();let s=this._editor.getModel();if(!s)return this.gutterHide(),this.hide();let{lineNumber:a,column:l}=s.validatePosition(i),c=s.getOptions().tabSize,d=this._editor.getOptions().get(50),u=s.getLineContent(a),h=tv(u,c),m=d.spaceWidth*h>22,f=E=>E>2&&this._editor.getTopForLineNumber(E)===this._editor.getTopForLineNumber(E-1),p=this._editor.getLineDecorations(a),g=!1;if(p)for(let E of p){let F=E.options.glyphMarginClassName;if(F&&!this.lightbulbClasses.some(L=>F.includes(L))){g=!0;break}}let v=a,b=1;if(!m){let E=F=>{let L=s.getLineContent(F);return/^\s*$|^\s+/.test(L)||L.length<=b};if(a>1&&!f(a-1)){let F=s.getLineCount(),L=a===F,H=a>1&&E(a-1),re=!L&&E(a+1),R=E(a),W=!re&&!H;if(!re&&!H&&!g)return this.gutterState=new Ha.Showing(t,e,i,{position:{lineNumber:v,column:b},preference:Of._posPref}),this.renderGutterLightbub(),this.hide();H||L||H&&!R?v-=1:(re||W&&R)&&(v+=1)}else if(a===1&&(a===s.getLineCount()||!E(a+1)&&!E(a)))if(this.gutterState=new Ha.Showing(t,e,i,{position:{lineNumber:v,column:b},preference:Of._posPref}),g)this.gutterHide();else return this.renderGutterLightbub(),this.hide();else if(a<s.getLineCount()&&!f(a+1))v+=1;else if(l*d.spaceWidth<22)return this.hide();b=/^\S\s*$/.test(s.getLineContent(v))?2:1}this.state=new Ha.Showing(t,e,i,{position:{lineNumber:v,column:b},preference:Of._posPref}),this._gutterDecorationID&&(this._removeGutterDecoration(this._gutterDecorationID),this.gutterHide());let C=t.validActions,T=t.validActions[0].action.kind;if(C.length!==1||!T){this._editor.layoutContentWidget(this);return}this._editor.layoutContentWidget(this)}hide(){this.state!==Ha.Hidden&&(this.state=Ha.Hidden,this._editor.layoutContentWidget(this))}gutterHide(){this.gutterState!==Ha.Hidden&&(this._gutterDecorationID&&this._removeGutterDecoration(this._gutterDecorationID),this.gutterState=Ha.Hidden)}get state(){return this._state}set state(t){this._state=t,this._updateLightBulbTitleAndIcon()}get gutterState(){return this._gutterState}set gutterState(t){this._gutterState=t,this._updateGutterLightBulbTitleAndIcon()}_updateLightBulbTitleAndIcon(){if(this._domNode.classList.remove(...this._iconClasses),this._iconClasses=[],this.state.type!==1)return;let t,e=!1;this.state.actions.allAIFixes?(t=Ge.sparkleFilled,this.state.actions.validActions.length===1&&(e=!0)):this.state.actions.hasAutoFix?this.state.actions.hasAIFix?t=Ge.lightbulbSparkleAutofix:t=Ge.lightbulbAutofix:this.state.actions.hasAIFix?t=Ge.lightbulbSparkle:t=Ge.lightBulb,this._updateLightbulbTitle(this.state.actions.hasAutoFix,e),this._iconClasses=St.asClassNameArray(t),this._domNode.classList.add(...this._iconClasses)}_updateGutterLightBulbTitleAndIcon(){if(this.gutterState.type!==1)return;let t,e=!1;this.gutterState.actions.allAIFixes?(t=jG,this.gutterState.actions.validActions.length===1&&(e=!0)):this.gutterState.actions.hasAutoFix?this.gutterState.actions.hasAIFix?t=WG:t=HG:this.gutterState.actions.hasAIFix?t=VG:t=BG,this._updateLightbulbTitle(this.gutterState.actions.hasAutoFix,e);let i=at.register({description:"codicon-gutter-lightbulb-decoration",glyphMarginClassName:St.asClassName(t),glyphMargin:{position:up.Left},stickiness:1});this.gutterDecoration=i}renderGutterLightbub(){let t=this._editor.getSelection();t&&(this._gutterDecorationID===void 0?this._addGutterDecoration(t.startLineNumber):this._updateGutterDecoration(this._gutterDecorationID,t.startLineNumber))}_addGutterDecoration(t){this._editor.changeDecorations(e=>{this._gutterDecorationID=e.addDecoration(new A(t,0,t,0),this.gutterDecoration)})}_removeGutterDecoration(t){this._editor.changeDecorations(e=>{e.removeDecoration(t),this._gutterDecorationID=void 0})}_updateGutterDecoration(t,e){this._editor.changeDecorations(i=>{i.changeDecoration(t,new A(e,0,e,0)),i.changeDecorationOptions(t,this.gutterDecoration)})}_updateLightbulbTitle(t,e){this.state.type===1&&(e?this.title=_("codeActionAutoRun","Run: {0}",this.state.actions.validActions[0].action.title):t&&this._preferredKbLabel?this.title=_("preferredcodeActionWithKb","Show Code Actions. Preferred Quick Fix Available ({0})",this._preferredKbLabel):!t&&this._quickFixKbLabel?this.title=_("codeActionWithKb","Show Code Actions ({0})",this._quickFixKbLabel):t||(this.title=_("codeAction","Show Code Actions")))}set title(t){this._domNode.title=t}};qh=Of=lve([cve(1,Vt)],qh);Ae();gt();ce();Ae();gt();gi();Vn();ce();Yo();Zo();Ae();Eo();var UG=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},RP=function(n,t){return function(e,i){t(e,i,n)}},NP="acceptSelectedCodeAction",FP="previewSelectedCodeAction",OP=class{get templateId(){return"header"}renderTemplate(t){t.classList.add("group-header");let e=document.createElement("span");return t.append(e),{container:t,text:e}}renderElement(t,e,i){i.text.textContent=t.group?.title??""}disposeTemplate(t){}},PP=class{get templateId(){return"action"}constructor(t,e){this._supportsPreview=t,this._keybindingService=e}renderTemplate(t){t.classList.add(this.templateId);let e=document.createElement("div");e.className="icon",t.append(e);let i=document.createElement("span");i.className="title",t.append(i);let o=new Dp(t,ep);return{container:t,icon:e,text:i,keybinding:o}}renderElement(t,e,i){if(t.group?.icon?(i.icon.className=St.asClassName(t.group.icon),t.group.icon.color&&(i.icon.style.color=pl(t.group.icon.color.id))):(i.icon.className=St.asClassName(Ge.lightBulb),i.icon.style.color="var(--vscode-editorLightBulb-foreground)"),!t.item||!t.label)return;i.text.textContent=qG(t.label),i.keybinding.set(t.keybinding),jj(!!t.keybinding,i.keybinding.element);let o=this._keybindingService.lookupKeybinding(NP)?.getLabel(),r=this._keybindingService.lookupKeybinding(FP)?.getLabel();i.container.classList.toggle("option-disabled",t.disabled),t.disabled?i.container.title=t.label:o&&r?this._supportsPreview&&t.canPreview?i.container.title=_({key:"label-preview",comment:['placeholders are keybindings, e.g "F2 to Apply, Shift+F2 to Preview"']},"{0} to Apply, {1} to Preview",o,r):i.container.title=_({key:"label",comment:['placeholder is a keybinding, e.g "F2 to Apply"']},"{0} to Apply",o):i.container.title=""}disposeTemplate(t){t.keybinding.dispose()}};PP=UG([RP(1,Vt)],PP);var LP=class extends UIEvent{constructor(){super("acceptSelectedAction")}},pI=class extends UIEvent{constructor(){super("previewSelectedAction")}};function dve(n){if(n.kind==="action")return n.label}var fI=class extends U{constructor(t,e,i,o,r,s){super(),this._delegate=o,this._contextViewService=r,this._keybindingService=s,this._actionLineHeight=24,this._headerLineHeight=26,this.cts=this._register(new fi),this.domNode=document.createElement("div"),this.domNode.classList.add("actionList");let a={getHeight:l=>l.kind==="header"?this._headerLineHeight:this._actionLineHeight,getTemplateId:l=>l.kind};this._list=this._register(new xp(t,this.domNode,a,[new PP(e,this._keybindingService),new OP],{keyboardSupport:!1,typeNavigationEnabled:!0,keyboardNavigationLabelProvider:{getKeyboardNavigationLabel:dve},accessibilityProvider:{getAriaLabel:l=>{if(l.kind==="action"){let c=l.label?qG(l?.label):"";return l.disabled&&(c=_({key:"customQuickFixWidget.labels",comment:["Action widget labels for accessibility."]},"{0}, Disabled Reason: {1}",c,l.disabled)),c}return null},getWidgetAriaLabel:()=>_({key:"customQuickFixWidget",comment:["An action widget option"]},"Action Widget"),getRole:l=>l.kind==="action"?"option":"separator",getWidgetRole:()=>"listbox"}})),this._list.style(B5),this._register(this._list.onMouseClick(l=>this.onListClick(l))),this._register(this._list.onMouseOver(l=>this.onListHover(l))),this._register(this._list.onDidChangeFocus(()=>this.onFocus())),this._register(this._list.onDidChangeSelection(l=>this.onListSelection(l))),this._allMenuItems=i,this._list.splice(0,this._list.length,this._allMenuItems),this._list.length&&this.focusNext()}focusCondition(t){return!t.disabled&&t.kind==="action"}hide(t){this._delegate.onHide(t),this.cts.cancel(),this._contextViewService.hideContextView()}layout(t){let e=this._allMenuItems.filter(l=>l.kind==="header").length,o=this._allMenuItems.length*this._actionLineHeight+e*this._headerLineHeight-e*this._actionLineHeight;this._list.layout(o);let r=t;if(this._allMenuItems.length>=50)r=380;else{let l=this._allMenuItems.map((c,d)=>{let u=this.domNode.ownerDocument.getElementById(this._list.getElementID(d));if(u){u.style.width="auto";let h=u.getBoundingClientRect().width;return u.style.width="",h}return 0});r=Math.max(...l,t)}let a=Math.min(o,this.domNode.ownerDocument.body.clientHeight*.7);return this._list.layout(a,r),this.domNode.style.height=`${a}px`,this._list.domFocus(),r}focusPrevious(){this._list.focusPrevious(1,!0,void 0,this.focusCondition)}focusNext(){this._list.focusNext(1,!0,void 0,this.focusCondition)}acceptSelected(t){let e=this._list.getFocus();if(e.length===0)return;let i=e[0],o=this._list.element(i);if(!this.focusCondition(o))return;let r=t?new pI:new LP;this._list.setSelection([i],r)}onListSelection(t){if(!t.elements.length)return;let e=t.elements[0];e.item&&this.focusCondition(e)?this._delegate.onSelect(e.item,t.browserEvent instanceof pI):this._list.setSelection([])}onFocus(){let t=this._list.getFocus();if(t.length===0)return;let e=t[0],i=this._list.element(e);this._delegate.onFocus?.(i.item)}onListHover(t){return k(this,null,function*(){let e=t.element;if(e&&e.item&&this.focusCondition(e)){if(this._delegate.onHover&&!e.disabled&&e.kind==="action"){let i=yield this._delegate.onHover(e.item,this.cts.token);e.canPreview=i?i.canPreview:void 0}t.index&&this._list.splice(t.index,1,[e])}this._list.setFocus(typeof t.index=="number"?[t.index]:[])})}onListClick(t){t.element&&this.focusCondition(t.element)&&this._list.setFocus([])}};fI=UG([RP(4,vd),RP(5,Vt)],fI);function qG(n){return n.replace(/\r\n|\r|\n/g," ")}$i();mt();cc();Ot();Eo();var uve=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},zP=function(n,t){return function(e,i){t(e,i,n)}};Oe("actionBar.toggledBackground",fp,_("actionBar.toggledBackground","Background color for toggled action items in action bar."));var Gh={Visible:new ot("codeActionMenuVisible",!1,_("codeActionMenuVisible","Whether the action widget list is visible"))},Jd=No("actionWidgetService"),$h=class extends U{get isVisible(){return Gh.Visible.getValue(this._contextKeyService)||!1}constructor(t,e,i){super(),this._contextViewService=t,this._contextKeyService=e,this._instantiationService=i,this._list=this._register(new dn)}show(t,e,i,o,r,s,a){let l=Gh.Visible.bindTo(this._contextKeyService),c=this._instantiationService.createInstance(fI,t,e,i,o);this._contextViewService.showContextView({getAnchor:()=>r,render:d=>(l.set(!0),this._renderWidget(d,c,a??[])),onHide:d=>{l.reset(),this._onWidgetClosed(d)}},s,!1)}acceptSelected(t){this._list.value?.acceptSelected(t)}focusPrevious(){this._list?.value?.focusPrevious()}focusNext(){this._list?.value?.focusNext()}hide(t){this._list.value?.hide(t),this._list.clear()}_renderWidget(t,e,i){let o=document.createElement("div");if(o.classList.add("action-widget"),t.appendChild(o),this._list.value=e,this._list.value)o.appendChild(this._list.value.domNode);else throw new Error("List has no value");let r=new G,s=document.createElement("div"),a=t.appendChild(s);a.classList.add("context-view-block"),r.add(Ct(a,li.MOUSE_DOWN,m=>m.stopPropagation()));let l=document.createElement("div"),c=t.appendChild(l);c.classList.add("context-view-pointerBlock"),r.add(Ct(c,li.POINTER_MOVE,()=>c.remove())),r.add(Ct(c,li.MOUSE_DOWN,()=>c.remove()));let d=0;if(i.length){let m=this._createActionBar(".action-widget-action-bar",i);m&&(o.appendChild(m.getContainer().parentElement),r.add(m),d=m.getContainer().offsetWidth)}let u=this._list.value?.layout(d);o.style.width=`${u}px`;let h=r.add(Sa(t));return r.add(h.onDidBlur(()=>this.hide(!0))),r}_createActionBar(t,e){if(!e.length)return;let i=ye(t),o=new xc(i);return o.push(e,{icon:!1,label:!0}),o}_onWidgetClosed(t){this._list.value?.hide(t)}};$h=uve([zP(0,vd),zP(1,Xe),zP(2,De)],$h);zo(Jd,$h,1);var fb=1100;Gt(class extends Wn{constructor(){super({id:"hideCodeActionWidget",title:Pe("hideCodeActionWidget.title","Hide action widget"),precondition:Gh.Visible,keybinding:{weight:fb,primary:9,secondary:[1033]}})}run(n){n.get(Jd).hide(!0)}});Gt(class extends Wn{constructor(){super({id:"selectPrevCodeAction",title:Pe("selectPrevCodeAction.title","Select previous action"),precondition:Gh.Visible,keybinding:{weight:fb,primary:16,secondary:[2064],mac:{primary:16,secondary:[2064,302]}}})}run(n){let t=n.get(Jd);t instanceof $h&&t.focusPrevious()}});Gt(class extends Wn{constructor(){super({id:"selectNextCodeAction",title:Pe("selectNextCodeAction.title","Select next action"),precondition:Gh.Visible,keybinding:{weight:fb,primary:18,secondary:[2066],mac:{primary:18,secondary:[2066,300]}}})}run(n){let t=n.get(Jd);t instanceof $h&&t.focusNext()}});Gt(class extends Wn{constructor(){super({id:NP,title:Pe("acceptSelected.title","Accept selected action"),precondition:Gh.Visible,keybinding:{weight:fb,primary:3,secondary:[2137]}})}run(n){let t=n.get(Jd);t instanceof $h&&t.acceptSelected()}});Gt(class extends Wn{constructor(){super({id:FP,title:Pe("previewSelected.title","Preview selected action"),precondition:Gh.Visible,keybinding:{weight:fb,primary:2051}})}run(n){let t=n.get(Jd);t instanceof $h&&t.acceptSelected(!0)}});Ui();_n();mt();Ot();Eo();Kx();Do();Ht();Bt();oi();ce();Ur();hi();Pn();mt();Ls();var HP=new ot("supportedCodeAction",""),GG="_typescript.applyFixAllCodeAction",BP=class extends U{constructor(t,e,i,o=250){super(),this._editor=t,this._markerService=e,this._signalChange=i,this._delay=o,this._autoTriggerTimer=this._register(new al),this._register(this._markerService.onMarkerChanged(r=>this._onMarkerChanges(r))),this._register(this._editor.onDidChangeCursorPosition(()=>this._tryAutoTrigger()))}trigger(t){let e=this._getRangeOfSelectionUnlessWhitespaceEnclosed(t);this._signalChange(e?{trigger:t,selection:e}:void 0)}_onMarkerChanges(t){let e=this._editor.getModel();e&&t.some(i=>mh(i,e.uri))&&this._tryAutoTrigger()}_tryAutoTrigger(){this._autoTriggerTimer.cancelAndSet(()=>{this.trigger({type:2,triggerAction:Ao.Default})},this._delay)}_getRangeOfSelectionUnlessWhitespaceEnclosed(t){if(!this._editor.hasModel())return;let e=this._editor.getSelection();if(t.type===1)return e;let i=this._editor.getOption(65).enabled;if(i!==Tx.Off){{if(i===Tx.On)return e;if(i===Tx.OnCode){if(!e.isEmpty())return e;let r=this._editor.getModel(),{lineNumber:s,column:a}=e.getPosition(),l=r.getLineContent(s);if(l.length===0)return;if(a===1){if(/\s/.test(l[0]))return}else if(a===r.getLineMaxColumn(s)){if(/\s/.test(l[l.length-1]))return}else if(/\s/.test(l[a-2])&&/\s/.test(l[a-1]))return}}return e}}},Kh;(function(n){n.Empty={type:0};class t{constructor(i,o,r){this.trigger=i,this.position=o,this._cancellablePromise=r,this.type=1,this.actions=r.catch(s=>{if(ur(s))return $G;throw s})}cancel(){this._cancellablePromise.cancel()}}n.Triggered=t})(Kh||(Kh={}));var $G=Object.freeze({allActions:[],validActions:[],dispose:()=>{},documentation:[],hasAutoFix:!1,hasAIFix:!1,allAIFixes:!1}),gI=class extends U{constructor(t,e,i,o,r,s,a){super(),this._editor=t,this._registry=e,this._markerService=i,this._progressService=r,this._configurationService=s,this._telemetryService=a,this._codeActionOracle=this._register(new dn),this._state=Kh.Empty,this._onDidChangeState=this._register(new je),this.onDidChangeState=this._onDidChangeState.event,this._disposed=!1,this._supportedCodeActions=HP.bindTo(o),this._register(this._editor.onDidChangeModel(()=>this._update())),this._register(this._editor.onDidChangeModelLanguage(()=>this._update())),this._register(this._registry.onDidChange(()=>this._update())),this._register(this._editor.onDidChangeConfiguration(l=>{l.hasChanged(65)&&this._update()})),this._update()}dispose(){this._disposed||(this._disposed=!0,super.dispose(),this.setState(Kh.Empty,!0))}_settingEnabledNearbyQuickfixes(){let t=this._editor?.getModel();return this._configurationService?this._configurationService.getValue("editor.codeActionWidget.includeNearbyQuickFixes",{resource:t?.uri}):!1}_update(){if(this._disposed)return;this._codeActionOracle.value=void 0,this.setState(Kh.Empty);let t=this._editor.getModel();if(t&&this._registry.has(t)&&!this._editor.getOption(92)){let e=this._registry.all(t).flatMap(i=>i.providedCodeActionKinds??[]);this._supportedCodeActions.set(e.join(" ")),this._codeActionOracle.value=new BP(this._editor,this._markerService,i=>{if(!i){this.setState(Kh.Empty);return}let o=i.selection.getStartPosition(),r=yi(l=>k(this,null,function*(){if(this._settingEnabledNearbyQuickfixes()&&i.trigger.type===1&&(i.trigger.triggerAction===Ao.QuickFix||i.trigger.filter?.include?.contains(ui.QuickFix))){let c=yield Qd(this._registry,t,i.selection,i.trigger,hs.None,l),d=[...c.allActions];if(l.isCancellationRequested)return $G;let u=c.validActions?.some(m=>m.action.kind?ui.QuickFix.contains(new Qt(m.action.kind)):!1),h=this._markerService.read({resource:t.uri});if(u){for(let m of c.validActions)m.action.command?.arguments?.some(f=>typeof f=="string"&&f.includes(GG))&&(m.action.diagnostics=[...h.filter(f=>f.relatedInformation)]);return{validActions:c.validActions,allActions:d,documentation:c.documentation,hasAutoFix:c.hasAutoFix,hasAIFix:c.hasAIFix,allAIFixes:c.allAIFixes,dispose:()=>{c.dispose()}}}else if(!u&&h.length>0){let m=i.selection.getPosition(),f=m,p=Number.MAX_VALUE,g=[...c.validActions];for(let b of h){let C=b.endColumn,T=b.endLineNumber,E=b.startLineNumber;if(T===m.lineNumber||E===m.lineNumber){f=new he(T,C);let F={type:i.trigger.type,triggerAction:i.trigger.triggerAction,filter:{include:i.trigger.filter?.include?i.trigger.filter?.include:ui.QuickFix},autoApply:i.trigger.autoApply,context:{notAvailableMessage:i.trigger.context?.notAvailableMessage||"",position:f}},L=new ze(f.lineNumber,f.column,f.lineNumber,f.column),H=yield Qd(this._registry,t,L,F,hs.None,l);if(H.validActions.length!==0){for(let re of H.validActions)re.action.command?.arguments?.some(R=>typeof R=="string"&&R.includes(GG))&&(re.action.diagnostics=[...h.filter(R=>R.relatedInformation)]);c.allActions.length===0&&d.push(...H.allActions),Math.abs(m.column-C)<p?g.unshift(...H.validActions):g.push(...H.validActions)}p=Math.abs(m.column-C)}}let v=g.filter((b,C,T)=>T.findIndex(E=>E.action.title===b.action.title)===C);return v.sort((b,C)=>b.action.isPreferred&&!C.action.isPreferred?-1:!b.action.isPreferred&&C.action.isPreferred||b.action.isAI&&!C.action.isAI?1:!b.action.isAI&&C.action.isAI?-1:0),{validActions:v,allActions:d,documentation:c.documentation,hasAutoFix:c.hasAutoFix,hasAIFix:c.hasAIFix,allAIFixes:c.allAIFixes,dispose:()=>{c.dispose()}}}}if(i.trigger.type===1){let c=new Xi,d=yield Qd(this._registry,t,i.selection,i.trigger,hs.None,l);return this._telemetryService&&this._telemetryService.publicLog2("codeAction.invokedDurations",{codeActions:d.validActions.length,duration:c.elapsed()}),d}return Qd(this._registry,t,i.selection,i.trigger,hs.None,l)}));i.trigger.type===1&&this._progressService?.showWhile(r,250);let s=new Kh.Triggered(i.trigger,o,r),a=!1;this._state.type===1&&(a=this._state.trigger.type===1&&s.type===1&&s.trigger.type===2&&this._state.position!==s.position),a?setTimeout(()=>{this.setState(s)},500):this.setState(s)},void 0),this._codeActionOracle.value.trigger({type:2,triggerAction:Ao.Default})}else this._supportedCodeActions.reset()}trigger(t){this._codeActionOracle.value?.trigger(t)}setState(t,e){t!==this._state&&(this._state.type===1&&this._state.cancel(),this._state=t,!e&&!this._disposed&&this._onDidChangeState.fire(t))}};Ia();var hve=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},Dl=function(n,t){return function(e,i){t(e,i,n)}},Pf,mve="quickfix-edit-highlight",Oc=class extends U{static{Pf=this}static{this.ID="editor.contrib.codeActionController"}static get(t){return t.getContribution(Pf.ID)}constructor(t,e,i,o,r,s,a,l,c,d,u){super(),this._commandService=a,this._configurationService=l,this._actionWidgetService=c,this._instantiationService=d,this._telemetryService=u,this._activeCodeActions=this._register(new dn),this._showDisabled=!1,this._disposed=!1,this._editor=t,this._model=this._register(new gI(this._editor,r.codeActionProvider,e,i,s,l,this._telemetryService)),this._register(this._model.onDidChangeState(h=>this.update(h))),this._lightBulbWidget=new sp(()=>{let h=this._editor.getContribution(qh.ID);return h&&this._register(h.onClick(m=>this.showCodeActionsFromLightbulb(m.actions,m))),h}),this._resolver=o.createInstance(mI),this._register(this._editor.onDidLayoutChange(()=>this._actionWidgetService.hide()))}dispose(){this._disposed=!0,super.dispose()}showCodeActionsFromLightbulb(t,e){return k(this,null,function*(){if(t.allAIFixes&&t.validActions.length===1){let i=t.validActions[0],o=i.action.command;o&&o.id==="inlineChat.start"&&o.arguments&&o.arguments.length>=1&&(o.arguments[0]=Te(j({},o.arguments[0]),{autoSend:!1})),yield this._applyCodeAction(i,!1,!1,Uh.FromAILightbulb);return}yield this.showCodeActionList(t,e,{includeDisabledActions:!1,fromLightbulb:!0})})}showCodeActions(t,e,i){return this.showCodeActionList(e,i,{includeDisabledActions:!1,fromLightbulb:!1})}manualTriggerAtCurrentPosition(t,e,i,o){if(!this._editor.hasModel())return;bo.get(this._editor)?.closeMessage();let r=this._editor.getPosition();this._trigger({type:1,triggerAction:e,filter:i,autoApply:o,context:{notAvailableMessage:t,position:r}})}_trigger(t){return this._model.trigger(t)}_applyCodeAction(t,e,i,o){return k(this,null,function*(){try{yield this._instantiationService.invokeFunction(NG,t,o,{preview:i,editor:this._editor})}finally{e&&this._trigger({type:2,triggerAction:Ao.QuickFix,filter:{}})}})}hideLightBulbWidget(){this._lightBulbWidget.rawValue?.hide(),this._lightBulbWidget.rawValue?.gutterHide()}update(t){return k(this,null,function*(){if(t.type!==1){this.hideLightBulbWidget();return}let e;try{e=yield t.actions}catch(o){ut(o);return}if(!(this._disposed||this._editor.getSelection()?.startLineNumber!==t.position.lineNumber))if(this._lightBulbWidget.value?.update(e,t.trigger,t.position),t.trigger.type===1){if(t.trigger.filter?.include){let r=this.tryGetValidActionToApply(t.trigger,e);if(r){try{this.hideLightBulbWidget(),yield this._applyCodeAction(r,!1,!1,Uh.FromCodeActions)}finally{e.dispose()}return}if(t.trigger.context){let s=this.getInvalidActionThatWouldHaveBeenApplied(t.trigger,e);if(s&&s.action.disabled){bo.get(this._editor)?.showMessage(s.action.disabled,t.trigger.context.position),e.dispose();return}}}let o=!!t.trigger.filter?.include;if(t.trigger.context&&(!e.allActions.length||!o&&!e.validActions.length)){bo.get(this._editor)?.showMessage(t.trigger.context.notAvailableMessage,t.trigger.context.position),this._activeCodeActions.value=e,e.dispose();return}this._activeCodeActions.value=e,this.showCodeActionList(e,this.toCoords(t.position),{includeDisabledActions:o,fromLightbulb:!1})}else this._actionWidgetService.isVisible?e.dispose():this._activeCodeActions.value=e})}getInvalidActionThatWouldHaveBeenApplied(t,e){if(e.allActions.length&&(t.autoApply==="first"&&e.validActions.length===0||t.autoApply==="ifSingle"&&e.allActions.length===1))return e.allActions.find(({action:i})=>i.disabled)}tryGetValidActionToApply(t,e){if(e.validActions.length&&(t.autoApply==="first"&&e.validActions.length>0||t.autoApply==="ifSingle"&&e.validActions.length===1))return e.validActions[0]}static{this.DECORATION=at.register({description:"quickfix-highlight",className:mve})}showCodeActionList(t,e,i){return k(this,null,function*(){let o=this._editor.createDecorationsCollection(),r=this._editor.getDomNode();if(!r)return;let s=i.includeDisabledActions&&(this._showDisabled||t.validActions.length===0)?t.allActions:t.validActions;if(!s.length)return;let a=he.isIPosition(e)?this.toCoords(e):e,l={onSelect:(c,d)=>k(this,null,function*(){this._applyCodeAction(c,!0,!!d,i.fromLightbulb?Uh.FromAILightbulb:Uh.FromCodeActions),this._actionWidgetService.hide(!1),o.clear()}),onHide:c=>{this._editor?.focus(),o.clear()},onHover:(c,d)=>k(this,null,function*(){if(d.isCancellationRequested)return;let u=!1,h=c.action.kind;if(h){let m=new Qt(h);u=[ui.RefactorExtract,ui.RefactorInline,ui.RefactorRewrite,ui.RefactorMove,ui.Source].some(p=>p.contains(m))}return{canPreview:u||!!c.action.edit?.edits.length}}),onFocus:c=>{if(c&&c.action){let d=c.action.ranges,u=c.action.diagnostics;if(o.clear(),d&&d.length>0){let h=u&&u?.length>1?u.map(m=>({range:m,options:Pf.DECORATION})):d.map(m=>({range:m,options:Pf.DECORATION}));o.set(h)}else if(u&&u.length>0){let h=u.map(f=>({range:f,options:Pf.DECORATION}));o.set(h);let m=u[0];if(m.startLineNumber&&m.startColumn){let f=this._editor.getModel()?.getWordAtPosition({lineNumber:m.startLineNumber,column:m.startColumn})?.word;Ta(_("editingNewSelection","Context: {0} at line {1} and column {2}.",f,m.startLineNumber,m.startColumn))}}}else o.clear()}};this._actionWidgetService.show("codeActionWidget",!0,zG(s,this._shouldShowHeaders(),this._resolver.getResolver()),l,a,r,this._getActionBarActions(t,e,i))})}toCoords(t){if(!this._editor.hasModel())return{x:0,y:0};this._editor.revealPosition(t,1),this._editor.render();let e=this._editor.getScrolledVisiblePosition(t),i=Gi(this._editor.getDomNode()),o=i.left+e.left,r=i.top+e.top+e.height;return{x:o,y:r}}_shouldShowHeaders(){let t=this._editor?.getModel();return this._configurationService.getValue("editor.codeActionWidget.showHeaders",{resource:t?.uri})}_getActionBarActions(t,e,i){if(i.fromLightbulb)return[];let o=t.documentation.map(r=>({id:r.id,label:r.title,tooltip:r.tooltip??"",class:void 0,enabled:!0,run:()=>this._commandService.executeCommand(r.id,...r.arguments??[])}));return i.includeDisabledActions&&t.validActions.length>0&&t.allActions.length!==t.validActions.length&&o.push(this._showDisabled?{id:"hideMoreActions",label:_("hideMoreActions","Hide Disabled"),enabled:!0,tooltip:"",class:void 0,run:()=>(this._showDisabled=!1,this.showCodeActionList(t,e,i))}:{id:"showMoreActions",label:_("showMoreActions","Show Disabled"),enabled:!0,tooltip:"",class:void 0,run:()=>(this._showDisabled=!0,this.showCodeActionList(t,e,i))}),o}};Oc=Pf=hve([Dl(1,ev),Dl(2,Xe),Dl(3,De),Dl(4,ae),Dl(5,bc),Dl(6,ci),Dl(7,_t),Dl(8,Jd),Dl(9,De),Dl(10,jn)],Oc);_d((n,t)=>{((o,r)=>{r&&t.addRule(`.monaco-editor ${o} { background-color: ${r}; }`)})(".quickfix-edit-highlight",n.getColor(D4));let i=n.getColor(Qx);i&&t.addRule(`.monaco-editor .quickfix-edit-highlight { border: 1px ${mc(n.type)?"dotted":"solid"} ${i}; box-sizing: border-box; }`)});function gb(n){return K.regex(HP.keys()[0],new RegExp("(\\s|^)"+rc(n.value)+"\\b"))}var VP={type:"object",defaultSnippets:[{body:{kind:""}}],properties:{kind:{type:"string",description:_("args.schema.kind","Kind of the code action to run.")},apply:{type:"string",description:_("args.schema.apply","Controls when the returned actions are applied."),default:"ifSingle",enum:["first","ifSingle","never"],enumDescriptions:[_("args.schema.apply.first","Always apply the first returned code action."),_("args.schema.apply.ifSingle","Apply the first returned code action if it is the only one."),_("args.schema.apply.never","Do not apply the returned code actions.")]},preferred:{type:"boolean",default:!1,description:_("args.schema.preferred","Controls if only preferred code actions should be returned.")}}};function Yh(n,t,e,i,o=Ao.Default){n.hasModel()&&Oc.get(n)?.manualTriggerAtCurrentPosition(t,o,e,i)}var _I=class extends Z{constructor(){super({id:Rf,label:_("quickfix.trigger.label","Quick Fix..."),alias:"Quick Fix...",precondition:K.and(M.writable,M.hasCodeActionsProvider),kbOpts:{kbExpr:M.textInputFocus,primary:2137,weight:100}})}run(t,e){return Yh(e,_("editor.action.quickFix.noneMessage","No code actions available"),void 0,void 0,Ao.QuickFix)}},vI=class extends Ki{constructor(){super({id:cI,precondition:K.and(M.writable,M.hasCodeActionsProvider),metadata:{description:"Trigger a code action",args:[{name:"args",schema:VP}]}})}runEditorCommand(t,e,i){let o=Zd.fromUser(i,{kind:Qt.Empty,apply:"ifSingle"});return Yh(e,typeof i?.kind=="string"?o.preferred?_("editor.action.codeAction.noneMessage.preferred.kind","No preferred code actions for '{0}' available",i.kind):_("editor.action.codeAction.noneMessage.kind","No code actions for '{0}' available",i.kind):o.preferred?_("editor.action.codeAction.noneMessage.preferred","No preferred code actions available"):_("editor.action.codeAction.noneMessage","No code actions available"),{include:o.kind,includeSourceActions:!0,onlyIncludePreferredActions:o.preferred},o.apply)}},bI=class extends Z{constructor(){super({id:uI,label:_("refactor.label","Refactor..."),alias:"Refactor...",precondition:K.and(M.writable,M.hasCodeActionsProvider),kbOpts:{kbExpr:M.textInputFocus,primary:3120,mac:{primary:1328},weight:100},contextMenuOpts:{group:"1_modification",order:2,when:K.and(M.writable,gb(ui.Refactor))},metadata:{description:"Refactor...",args:[{name:"args",schema:VP}]}})}run(t,e,i){let o=Zd.fromUser(i,{kind:ui.Refactor,apply:"never"});return Yh(e,typeof i?.kind=="string"?o.preferred?_("editor.action.refactor.noneMessage.preferred.kind","No preferred refactorings for '{0}' available",i.kind):_("editor.action.refactor.noneMessage.kind","No refactorings for '{0}' available",i.kind):o.preferred?_("editor.action.refactor.noneMessage.preferred","No preferred refactorings available"):_("editor.action.refactor.noneMessage","No refactorings available"),{include:ui.Refactor.contains(o.kind)?o.kind:Qt.None,onlyIncludePreferredActions:o.preferred},o.apply,Ao.Refactor)}},yI=class extends Z{constructor(){super({id:hI,label:_("source.label","Source Action..."),alias:"Source Action...",precondition:K.and(M.writable,M.hasCodeActionsProvider),contextMenuOpts:{group:"1_modification",order:2.1,when:K.and(M.writable,gb(ui.Source))},metadata:{description:"Source Action...",args:[{name:"args",schema:VP}]}})}run(t,e,i){let o=Zd.fromUser(i,{kind:ui.Source,apply:"never"});return Yh(e,typeof i?.kind=="string"?o.preferred?_("editor.action.source.noneMessage.preferred.kind","No preferred source actions for '{0}' available",i.kind):_("editor.action.source.noneMessage.kind","No source actions for '{0}' available",i.kind):o.preferred?_("editor.action.source.noneMessage.preferred","No preferred source actions available"):_("editor.action.source.noneMessage","No source actions available"),{include:ui.Source.contains(o.kind)?o.kind:Qt.None,includeSourceActions:!0,onlyIncludePreferredActions:o.preferred},o.apply,Ao.SourceAction)}},xI=class extends Z{constructor(){super({id:mb,label:_("organizeImports.label","Organize Imports"),alias:"Organize Imports",precondition:K.and(M.writable,gb(ui.SourceOrganizeImports)),kbOpts:{kbExpr:M.textInputFocus,primary:1581,weight:100}})}run(t,e){return Yh(e,_("editor.action.organize.noneMessage","No organize imports action available"),{include:ui.SourceOrganizeImports,includeSourceActions:!0},"ifSingle",Ao.OrganizeImports)}},wI=class extends Z{constructor(){super({id:pb,label:_("fixAll.label","Fix All"),alias:"Fix All",precondition:K.and(M.writable,gb(ui.SourceFixAll))})}run(t,e){return Yh(e,_("fixAll.noneMessage","No fix all action available"),{include:ui.SourceFixAll,includeSourceActions:!0},"ifSingle",Ao.FixAll)}},CI=class extends Z{constructor(){super({id:dI,label:_("autoFix.label","Auto Fix..."),alias:"Auto Fix...",precondition:K.and(M.writable,gb(ui.QuickFix)),kbOpts:{kbExpr:M.textInputFocus,primary:1625,mac:{primary:2649},weight:100}})}run(t,e){return Yh(e,_("editor.action.autoFix.noneMessage","No auto fixes available"),{include:ui.QuickFix,onlyIncludePreferredActions:!0},"ifSingle",Ao.AutoFix)}};Ae();uA();lc();Me(Oc.ID,Oc,3);Me(qh.ID,qh,4);V(_I);V(bI);V(yI);V(xI);V(CI);V(wI);Ne(new vI);go.as(fd.Configuration).registerConfiguration(Te(j({},vp),{properties:{"editor.codeActionWidget.showHeaders":{type:"boolean",scope:5,description:_("showCodeActionHeaders","Enable/disable showing group headers in the Code Action menu."),default:!0}}}));go.as(fd.Configuration).registerConfiguration(Te(j({},vp),{properties:{"editor.codeActionWidget.includeNearbyQuickFixes":{type:"boolean",scope:5,description:_("includeNearbyQuickFixes","Enable/disable showing nearest Quick Fix within a line when not currently on a diagnostic."),default:!0}}}));go.as(fd.Configuration).registerConfiguration(Te(j({},vp),{properties:{"editor.codeActions.triggerOnFocusChange":{type:"boolean",scope:5,markdownDescription:_("triggerOnFocusChange","Enable triggering {0} when {1} is set to {2}. Code Actions must be set to {3} to be triggered for window and focus changes.","`#editor.codeActionsOnSave#`","`#files.autoSave#`","`afterDelay`","`always`"),default:!1}}}));Ht();Bt();ce();tt();$t();gi();Bt();ce();io();On();ls();Ui();Lt();var Lf=class{constructor(){this.lenses=[],this._disposables=new G}dispose(){this._disposables.dispose()}get isDisposed(){return this._disposables.isDisposed}add(t,e){this._disposables.add(t);for(let i of t.lenses)this.lenses.push({symbol:i,provider:e})}};function WP(n,t,e){return k(this,null,function*(){let i=n.ordered(t),o=new Map,r=new Lf,s=i.map((a,l)=>k(this,null,function*(){o.set(a,l);try{let c=yield Promise.resolve(a.provideCodeLenses(t,e));c&&r.add(c,a)}catch(c){zt(c)}}));return yield Promise.all(s),r.lenses=r.lenses.sort((a,l)=>a.symbol.range.startLineNumber<l.symbol.range.startLineNumber?-1:a.symbol.range.startLineNumber>l.symbol.range.startLineNumber?1:o.get(a.provider)<o.get(l.provider)?-1:o.get(a.provider)>o.get(l.provider)?1:a.symbol.range.startColumn<l.symbol.range.startColumn?-1:a.symbol.range.startColumn>l.symbol.range.startColumn?1:0),r})}Pt.registerCommand("_executeCodeLensProvider",function(n,...t){let[e,i]=t;Tt(ht.isUri(e)),Tt(typeof i=="number"||!i);let{codeLensProvider:o}=n.get(ae),r=n.get(ji).getModel(e);if(!r)throw ss();let s=[],a=new G;return WP(o,r,Je.None).then(l=>{a.add(l);let c=[];for(let d of l.lenses)i==null||d.symbol.command?s.push(d.symbol):i-- >0&&d.provider.resolveCodeLens&&c.push(Promise.resolve(d.provider.resolveCodeLens(r,d.symbol,Je.None)).then(u=>s.push(u||d.symbol)));return Promise.all(c)}).then(()=>s).finally(()=>{setTimeout(()=>a.dispose(),100)})});oi();uc();qe();cc();Ot();cce();gt();var pve=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},fve=function(n,t){return function(e,i){t(e,i,n)}},UP=No("ICodeLensCache"),SI=class{constructor(t,e){this.lineCount=t,this.data=e}},jP=class{constructor(t){this._fakeProvider=new class{provideCodeLenses(){throw new Error("not supported")}},this._cache=new hl(20,.75);let e="codelens/cache";Pj(fj,()=>t.remove(e,1));let i="codelens/cache2",o=t.get(i,1,"{}");this._deserialize(o);let r=bi.filter(t.onWillSaveState,s=>s.reason===wp.SHUTDOWN);bi.once(r)(s=>{t.store(i,this._serialize(),1,1)})}put(t,e){let i=e.lenses.map(s=>({range:s.symbol.range,command:s.symbol.command&&{id:"",title:s.symbol.command?.title}})),o=new Lf;o.add({lenses:i,dispose:()=>{}},this._fakeProvider);let r=new SI(t.getLineCount(),o);this._cache.set(t.uri.toString(),r)}get(t){let e=this._cache.get(t.uri.toString());return e&&e.lineCount===t.getLineCount()?e.data:void 0}delete(t){this._cache.delete(t.uri.toString())}_serialize(){let t=Object.create(null);for(let[e,i]of this._cache){let o=new Set;for(let r of i.data.lenses)o.add(r.symbol.range.startLineNumber);t[e]={lineCount:i.lineCount,lines:[...o.values()]}}return JSON.stringify(t)}_deserialize(t){try{let e=JSON.parse(t);for(let i in e){let o=e[i],r=[];for(let a of o.lines)r.push({range:new A(a,1,a,11)});let s=new Lf;s.add({lenses:r,dispose(){}},this._fakeProvider),this._cache.set(i,new SI(o.lineCount,s))}}catch{}}};jP=pve([fve(0,Ar)],jP);zo(UP,jP,1);gt();X4();qe();bn();var qP=class{constructor(t,e,i){this.afterColumn=1073741824,this.afterLineNumber=t,this.heightInPx=e,this._onHeight=i,this.suppressMouseDown=!0,this.domNode=document.createElement("div")}onComputedHeight(t){this._lastHeight===void 0?this._lastHeight=t:this._lastHeight!==t&&(this._lastHeight=t,this._onHeight())}isVisible(){return this._lastHeight!==0&&this.domNode.hasAttribute("monaco-visible-view-zone")}},gve=(()=>{class n{static{this._idPool=0}constructor(e,i){this.allowEditorOverflow=!1,this.suppressMouseDown=!0,this._commands=new Map,this._isEmpty=!0,this._editor=e,this._id=`codelens.widget-${n._idPool++}`,this.updatePosition(i),this._domNode=document.createElement("span"),this._domNode.className="codelens-decoration"}withCommands(e,i){this._commands.clear();let o=[],r=!1;for(let s=0;s<e.length;s++){let a=e[s];if(a&&(r=!0,a.command)){let l=Y4(a.command.title.trim());if(a.command.id){let c=`c${n._idPool++}`;o.push(ye("a",{id:c,title:a.command.tooltip,role:"button"},...l)),this._commands.set(c,a.command)}else o.push(ye("span",{title:a.command.tooltip},...l));s+1<e.length&&o.push(ye("span",void 0,"\xA0|\xA0"))}}r?(sh(this._domNode,...o),this._isEmpty&&i&&this._domNode.classList.add("fadein"),this._isEmpty=!1):sh(this._domNode,ye("span",void 0,"no commands"))}getCommand(e){return e.parentElement===this._domNode?this._commands.get(e.id):void 0}getId(){return this._id}getDomNode(){return this._domNode}updatePosition(e){let i=this._editor.getModel().getLineFirstNonWhitespaceColumn(e);this._widgetPosition={position:{lineNumber:e,column:i},preference:[1]}}getPosition(){return this._widgetPosition||null}}return n})(),Nf=class{constructor(){this._removeDecorations=[],this._addDecorations=[],this._addDecorationsCallbacks=[]}addDecoration(t,e){this._addDecorations.push(t),this._addDecorationsCallbacks.push(e)}removeDecoration(t){this._removeDecorations.push(t)}commit(t){let e=t.deltaDecorations(this._removeDecorations,this._addDecorations);for(let i=0,o=e.length;i<o;i++)this._addDecorationsCallbacks[i](e[i])}},YG=at.register({collapseOnReplaceEdit:!0,description:"codelens"}),_b=class{constructor(t,e,i,o,r,s){this._isDisposed=!1,this._editor=e,this._data=t,this._decorationIds=[];let a,l=[];this._data.forEach((c,d)=>{c.symbol.command&&l.push(c.symbol),i.addDecoration({range:c.symbol.range,options:YG},u=>this._decorationIds[d]=u),a?a=A.plusRange(a,c.symbol.range):a=A.lift(c.symbol.range)}),this._viewZone=new qP(a.startLineNumber-1,r,s),this._viewZoneId=o.addZone(this._viewZone),l.length>0&&(this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(l,!1))}_createContentWidgetIfNecessary(){this._contentWidget?this._editor.layoutContentWidget(this._contentWidget):(this._contentWidget=new gve(this._editor,this._viewZone.afterLineNumber+1),this._editor.addContentWidget(this._contentWidget))}dispose(t,e){this._decorationIds.forEach(t.removeDecoration,t),this._decorationIds=[],e?.removeZone(this._viewZoneId),this._contentWidget&&(this._editor.removeContentWidget(this._contentWidget),this._contentWidget=void 0),this._isDisposed=!0}isDisposed(){return this._isDisposed}isValid(){return this._decorationIds.some((t,e)=>{let i=this._editor.getModel().getDecorationRange(t),o=this._data[e].symbol;return!!(i&&A.isEmpty(o.range)===i.isEmpty())})}updateCodeLensSymbols(t,e){this._decorationIds.forEach(e.removeDecoration,e),this._decorationIds=[],this._data=t,this._data.forEach((i,o)=>{e.addDecoration({range:i.symbol.range,options:YG},r=>this._decorationIds[o]=r)})}updateHeight(t,e){this._viewZone.heightInPx=t,e.layoutZone(this._viewZoneId),this._contentWidget&&this._editor.layoutContentWidget(this._contentWidget)}computeIfNecessary(t){if(!this._viewZone.isVisible())return null;for(let e=0;e<this._decorationIds.length;e++){let i=t.getDecorationRange(this._decorationIds[e]);i&&(this._data[e].symbol.range=i)}return this._data}updateCommands(t){this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(t,!0);for(let e=0;e<this._data.length;e++){let i=t[e];if(i){let{symbol:o}=this._data[e];o.command=i.command||o.command}}}getCommand(t){return this._contentWidget?.getCommand(t)}getLineNumber(){let t=this._editor.getModel().getDecorationRange(this._decorationIds[0]);return t?t.startLineNumber:-1}update(t){if(this.isValid()){let e=this._editor.getModel().getDecorationRange(this._decorationIds[0]);e&&(this._viewZone.afterLineNumber=e.startLineNumber-1,t.layoutZone(this._viewZoneId),this._contentWidget&&(this._contentWidget.updatePosition(e.startLineNumber),this._editor.layoutContentWidget(this._contentWidget)))}}};Ae();Ui();Fs();Lt();var _ve=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},vb=function(n,t){return function(e,i){t(e,i,n)}},bb=class{static{this.ID="css.editor.codeLens"}constructor(t,e,i,o,r,s){this._editor=t,this._languageFeaturesService=e,this._commandService=o,this._notificationService=r,this._codeLensCache=s,this._disposables=new G,this._localToDispose=new G,this._lenses=[],this._oldCodeLensModels=new G,this._provideCodeLensDebounce=i.for(e.codeLensProvider,"CodeLensProvide",{min:250}),this._resolveCodeLensesDebounce=i.for(e.codeLensProvider,"CodeLensResolve",{min:250,salt:"resolve"}),this._resolveCodeLensesScheduler=new si(()=>this._resolveCodeLensesInViewport(),this._resolveCodeLensesDebounce.default()),this._disposables.add(this._editor.onDidChangeModel(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeConfiguration(a=>{(a.hasChanged(50)||a.hasChanged(19)||a.hasChanged(18))&&this._updateLensStyle(),a.hasChanged(17)&&this._onModelChange()})),this._disposables.add(e.codeLensProvider.onDidChange(this._onModelChange,this)),this._onModelChange(),this._updateLensStyle()}dispose(){this._localDispose(),this._disposables.dispose(),this._oldCodeLensModels.dispose(),this._currentCodeLensModel?.dispose()}_getLayoutInfo(){let t=Math.max(1.3,this._editor.getOption(67)/this._editor.getOption(52)),e=this._editor.getOption(19);return(!e||e<5)&&(e=this._editor.getOption(52)*.9|0),{fontSize:e,codeLensHeight:e*t|0}}_updateLensStyle(){let{codeLensHeight:t,fontSize:e}=this._getLayoutInfo(),i=this._editor.getOption(18),o=this._editor.getOption(50),{style:r}=this._editor.getContainerDomNode();r.setProperty("--vscode-editorCodeLens-lineHeight",`${t}px`),r.setProperty("--vscode-editorCodeLens-fontSize",`${e}px`),r.setProperty("--vscode-editorCodeLens-fontFeatureSettings",o.fontFeatureSettings),i&&(r.setProperty("--vscode-editorCodeLens-fontFamily",i),r.setProperty("--vscode-editorCodeLens-fontFamilyDefault",tp.fontFamily)),this._editor.changeViewZones(s=>{for(let a of this._lenses)a.updateHeight(t,s)})}_localDispose(){this._getCodeLensModelPromise?.cancel(),this._getCodeLensModelPromise=void 0,this._resolveCodeLensesPromise?.cancel(),this._resolveCodeLensesPromise=void 0,this._localToDispose.clear(),this._oldCodeLensModels.clear(),this._currentCodeLensModel?.dispose()}_onModelChange(){this._localDispose();let t=this._editor.getModel();if(!t||!this._editor.getOption(17)||t.isTooLargeForTokenization())return;let e=this._codeLensCache.get(t);if(e&&this._renderCodeLensSymbols(e),!this._languageFeaturesService.codeLensProvider.has(t)){e&&sc(()=>{let o=this._codeLensCache.get(t);e===o&&(this._codeLensCache.delete(t),this._onModelChange())},30*1e3,this._localToDispose);return}for(let o of this._languageFeaturesService.codeLensProvider.all(t))if(typeof o.onDidChange=="function"){let r=o.onDidChange(()=>i.schedule());this._localToDispose.add(r)}let i=new si(()=>{let o=Date.now();this._getCodeLensModelPromise?.cancel(),this._getCodeLensModelPromise=yi(r=>WP(this._languageFeaturesService.codeLensProvider,t,r)),this._getCodeLensModelPromise.then(r=>{this._currentCodeLensModel&&this._oldCodeLensModels.add(this._currentCodeLensModel),this._currentCodeLensModel=r,this._codeLensCache.put(t,r);let s=this._provideCodeLensDebounce.update(t,Date.now()-o);i.delay=s,this._renderCodeLensSymbols(r),this._resolveCodeLensesInViewportSoon()},ut)},this._provideCodeLensDebounce.get(t));this._localToDispose.add(i),this._localToDispose.add(Mt(()=>this._resolveCodeLensesScheduler.cancel())),this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{this._editor.changeDecorations(o=>{this._editor.changeViewZones(r=>{let s=[],a=-1;this._lenses.forEach(c=>{!c.isValid()||a===c.getLineNumber()?s.push(c):(c.update(r),a=c.getLineNumber())});let l=new Nf;s.forEach(c=>{c.dispose(l,r),this._lenses.splice(this._lenses.indexOf(c),1)}),l.commit(o)})}),i.schedule(),this._resolveCodeLensesScheduler.cancel(),this._resolveCodeLensesPromise?.cancel(),this._resolveCodeLensesPromise=void 0})),this._localToDispose.add(this._editor.onDidFocusEditorText(()=>{i.schedule()})),this._localToDispose.add(this._editor.onDidBlurEditorText(()=>{i.cancel()})),this._localToDispose.add(this._editor.onDidScrollChange(o=>{o.scrollTopChanged&&this._lenses.length>0&&this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add(this._editor.onDidLayoutChange(()=>{this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add(Mt(()=>{if(this._editor.getModel()){let o=vl.capture(this._editor);this._editor.changeDecorations(r=>{this._editor.changeViewZones(s=>{this._disposeAllLenses(r,s)})}),o.restore(this._editor)}else this._disposeAllLenses(void 0,void 0)})),this._localToDispose.add(this._editor.onMouseDown(o=>{if(o.target.type!==9)return;let r=o.target.element;if(r?.tagName==="SPAN"&&(r=r.parentElement),r?.tagName==="A")for(let s of this._lenses){let a=s.getCommand(r);if(a){this._commandService.executeCommand(a.id,...a.arguments||[]).catch(l=>this._notificationService.error(l));break}}})),i.schedule()}_disposeAllLenses(t,e){let i=new Nf;for(let o of this._lenses)o.dispose(i,e);t&&i.commit(t),this._lenses.length=0}_renderCodeLensSymbols(t){if(!this._editor.hasModel())return;let e=this._editor.getModel().getLineCount(),i=[],o;for(let a of t.lenses){let l=a.symbol.range.startLineNumber;l<1||l>e||(o&&o[o.length-1].symbol.range.startLineNumber===l?o.push(a):(o=[a],i.push(o)))}if(!i.length&&!this._lenses.length)return;let r=vl.capture(this._editor),s=this._getLayoutInfo();this._editor.changeDecorations(a=>{this._editor.changeViewZones(l=>{let c=new Nf,d=0,u=0;for(;u<i.length&&d<this._lenses.length;){let h=i[u][0].symbol.range.startLineNumber,m=this._lenses[d].getLineNumber();m<h?(this._lenses[d].dispose(c,l),this._lenses.splice(d,1)):m===h?(this._lenses[d].updateCodeLensSymbols(i[u],c),u++,d++):(this._lenses.splice(d,0,new _b(i[u],this._editor,c,l,s.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),d++,u++)}for(;d<this._lenses.length;)this._lenses[d].dispose(c,l),this._lenses.splice(d,1);for(;u<i.length;)this._lenses.push(new _b(i[u],this._editor,c,l,s.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),u++;c.commit(a)})}),r.restore(this._editor)}_resolveCodeLensesInViewportSoon(){this._editor.getModel()&&this._resolveCodeLensesScheduler.schedule()}_resolveCodeLensesInViewport(){this._resolveCodeLensesPromise?.cancel(),this._resolveCodeLensesPromise=void 0;let t=this._editor.getModel();if(!t)return;let e=[],i=[];if(this._lenses.forEach(s=>{let a=s.computeIfNecessary(t);a&&(e.push(a),i.push(s))}),e.length===0)return;let o=Date.now(),r=yi(s=>{let a=e.map((l,c)=>{let d=new Array(l.length),u=l.map((h,m)=>!h.symbol.command&&typeof h.provider.resolveCodeLens=="function"?Promise.resolve(h.provider.resolveCodeLens(t,h.symbol,s)).then(f=>{d[m]=f},zt):(d[m]=h.symbol,Promise.resolve(void 0)));return Promise.all(u).then(()=>{!s.isCancellationRequested&&!i[c].isDisposed()&&i[c].updateCommands(d)})});return Promise.all(a)});this._resolveCodeLensesPromise=r,this._resolveCodeLensesPromise.then(()=>{let s=this._resolveCodeLensesDebounce.update(t,Date.now()-o);this._resolveCodeLensesScheduler.delay=s,this._currentCodeLensModel&&this._codeLensCache.put(t,this._currentCodeLensModel),this._oldCodeLensModels.clear(),r===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)},s=>{ut(s),r===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)})}getModel(){return k(this,null,function*(){return yield this._getCodeLensModelPromise,yield this._resolveCodeLensesPromise,this._currentCodeLensModel?.isDisposed?void 0:this._currentCodeLensModel})}};bb=_ve([vb(1,ae),vb(2,vn),vb(3,ci),vb(4,Bi),vb(5,UP)],bb);Me(bb.ID,bb,1);V(class extends Z{constructor(){super({id:"codelens.showLensesInCurrentLine",precondition:M.hasCodeLensProvider,label:_("showLensOnLine","Show CodeLens Commands For Current Line"),alias:"Show CodeLens Commands For Current Line"})}run(t,e){return k(this,null,function*(){if(!e.hasModel())return;let i=t.get(Bo),o=t.get(ci),r=t.get(Bi),s=e.getSelection().positionLineNumber,a=e.getContribution(bb.ID);if(!a)return;let l=yield a.getModel();if(!l)return;let c=[];for(let h of l.lenses)h.symbol.command&&h.symbol.range.startLineNumber===s&&c.push({label:h.symbol.command.title,command:h.symbol.command});if(c.length===0)return;let d=yield i.pick(c,{canPickMany:!1,placeHolder:_("placeHolder","Select a command")});if(!d)return;let u=d.command;if(l.isDisposed){let m=(yield a.getModel())?.lenses.find(f=>f.symbol.range.startLineNumber===s&&f.symbol.command?.title===u.title);if(!m||!m.symbol.command)return;u=m.symbol.command}try{yield o.executeCommand(u.id,...u.arguments||[])}catch(h){r.error(h)}})}});ce();tt();qe();Ht();ml();Bt();oi();ce();Ls();Fi();tt();qe();bn();Fs();Lt();gi();Bt();On();qe();ls();Ui();Lt();ml();ce();Lt();fh();var XG=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},GP=function(n,t){return function(e,i){t(e,i,n)}},Xh=class{constructor(t){this._editorWorkerService=t}provideDocumentColors(t,e){return k(this,null,function*(){return this._editorWorkerService.computeDefaultDocumentColors(t.uri)})}provideColorPresentations(t,e,i){let o=e.range,r=e.color,s=r.alpha,a=new It(new Ma(Math.round(255*r.red),Math.round(255*r.green),Math.round(255*r.blue),s)),l=s?It.Format.CSS.formatRGB(a):It.Format.CSS.formatRGBA(a),c=s?It.Format.CSS.formatHSL(a):It.Format.CSS.formatHSLA(a),d=s?It.Format.CSS.formatHex(a):It.Format.CSS.formatHexA(a),u=[];return u.push({label:l,textEdit:{range:o,text:l}}),u.push({label:c,textEdit:{range:o,text:c}}),u.push({label:d,textEdit:{range:o,text:d}}),u}};Xh=XG([GP(0,gr)],Xh);var $P=class extends U{constructor(t,e){super(),this._register(t.colorProvider.register("*",new Xh(e)))}};$P=XG([GP(0,ae),GP(1,gr)],$P);Ws($P);_n();function II(n,t,e,i=!0){return k(this,null,function*(){return QP(new KP,n,t,e,i)})}function ZP(n,t,e,i){return Promise.resolve(e.provideColorPresentations(n,t,i))}var KP=class{constructor(){}compute(t,e,i,o){return k(this,null,function*(){let r=yield t.provideDocumentColors(e,i);if(Array.isArray(r))for(let s of r)o.push({colorInfo:s,provider:t});return Array.isArray(r)})}},YP=class{constructor(){}compute(t,e,i,o){return k(this,null,function*(){let r=yield t.provideDocumentColors(e,i);if(Array.isArray(r))for(let s of r)o.push({range:s.range,color:[s.color.red,s.color.green,s.color.blue,s.color.alpha]});return Array.isArray(r)})}},XP=class{constructor(t){this.colorInfo=t}compute(t,e,i,o){return k(this,null,function*(){let r=yield t.provideColorPresentations(e,this.colorInfo,Je.None);return Array.isArray(r)&&o.push(...r),Array.isArray(r)})}};function QP(n,t,e,i,o){return k(this,null,function*(){let r=!1,s,a=[],l=t.ordered(e);for(let c=l.length-1;c>=0;c--){let d=l[c];if(d instanceof Xh)s=d;else try{(yield n.compute(d,e,i,a))&&(r=!0)}catch(u){zt(u)}}return r?a:s&&o?(yield n.compute(s,e,i,a),a):[]})}function ZG(n,t){let{colorProvider:e}=n.get(ae),i=n.get(ji).getModel(t);if(!i)throw ss();let o=n.get(_t).getValue("editor.defaultColorDecorators",{resource:t});return{model:i,colorProviderRegistry:e,isDefaultColorDecoratorsEnabled:o}}Pt.registerCommand("_executeDocumentColorProvider",function(n,...t){let[e]=t;if(!(e instanceof ht))throw ss();let{model:i,colorProviderRegistry:o,isDefaultColorDecoratorsEnabled:r}=ZG(n,e);return QP(new YP,o,i,Je.None,r)});Pt.registerCommand("_executeColorPresentationProvider",function(n,...t){let[e,i]=t,{uri:o,range:r}=i;if(!(o instanceof ht)||!Array.isArray(e)||e.length!==4||!A.isIRange(r))throw ss();let{model:s,colorProviderRegistry:a,isDefaultColorDecoratorsEnabled:l}=ZG(n,o),[c,d,u,h]=e;return QP(new XP({range:r,color:{red:c,green:d,blue:u,alpha:h}}),a,s,Je.None,l)});_n();var vve=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},JP=function(n,t){return function(e,i){t(e,i,n)}},eL,iL=Object.create({}),Zh=class extends U{static{eL=this}static{this.ID="editor.contrib.colorDetector"}static{this.RECOMPUTE_TIME=1e3}constructor(e,i,o,r){super(),this._editor=e,this._configurationService=i,this._languageFeaturesService=o,this._localToDispose=this._register(new G),this._decorationsIds=[],this._colorDatas=new Map,this._colorDecoratorIds=this._editor.createDecorationsCollection(),this._ruleFactory=new Lw(this._editor),this._decoratorLimitReporter=new tL,this._colorDecorationClassRefs=this._register(new G),this._debounceInformation=r.for(o.colorProvider,"Document Colors",{min:eL.RECOMPUTE_TIME}),this._register(e.onDidChangeModel(()=>{this._isColorDecoratorsEnabled=this.isEnabled(),this.updateColors()})),this._register(e.onDidChangeModelLanguage(()=>this.updateColors())),this._register(o.colorProvider.onDidChange(()=>this.updateColors())),this._register(e.onDidChangeConfiguration(s=>{let a=this._isColorDecoratorsEnabled;this._isColorDecoratorsEnabled=this.isEnabled(),this._isDefaultColorDecoratorsEnabled=this._editor.getOption(148);let l=a!==this._isColorDecoratorsEnabled||s.hasChanged(21),c=s.hasChanged(148);(l||c)&&(this._isColorDecoratorsEnabled?this.updateColors():this.removeAllDecorations())})),this._timeoutTimer=null,this._computePromise=null,this._isColorDecoratorsEnabled=this.isEnabled(),this._isDefaultColorDecoratorsEnabled=this._editor.getOption(148),this.updateColors()}isEnabled(){let e=this._editor.getModel();if(!e)return!1;let i=e.getLanguageId(),o=this._configurationService.getValue(i);if(o&&typeof o=="object"){let r=o.colorDecorators;if(r&&r.enable!==void 0&&!r.enable)return r.enable}return this._editor.getOption(20)}static get(e){return e.getContribution(this.ID)}dispose(){this.stop(),this.removeAllDecorations(),super.dispose()}updateColors(){if(this.stop(),!this._isColorDecoratorsEnabled)return;let e=this._editor.getModel();!e||!this._languageFeaturesService.colorProvider.has(e)||(this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{this._timeoutTimer||(this._timeoutTimer=new al,this._timeoutTimer.cancelAndSet(()=>{this._timeoutTimer=null,this.beginCompute()},this._debounceInformation.get(e)))})),this.beginCompute())}beginCompute(){return k(this,null,function*(){this._computePromise=yi(e=>k(this,null,function*(){let i=this._editor.getModel();if(!i)return[];let o=new Xi(!1),r=yield II(this._languageFeaturesService.colorProvider,i,e,this._isDefaultColorDecoratorsEnabled);return this._debounceInformation.update(i,o.elapsed()),r}));try{let e=yield this._computePromise;this.updateDecorations(e),this.updateColorDecorators(e),this._computePromise=null}catch(e){ut(e)}})}stop(){this._timeoutTimer&&(this._timeoutTimer.cancel(),this._timeoutTimer=null),this._computePromise&&(this._computePromise.cancel(),this._computePromise=null),this._localToDispose.clear()}updateDecorations(e){let i=e.map(o=>({range:{startLineNumber:o.colorInfo.range.startLineNumber,startColumn:o.colorInfo.range.startColumn,endLineNumber:o.colorInfo.range.endLineNumber,endColumn:o.colorInfo.range.endColumn},options:at.EMPTY}));this._editor.changeDecorations(o=>{this._decorationsIds=o.deltaDecorations(this._decorationsIds,i),this._colorDatas=new Map,this._decorationsIds.forEach((r,s)=>this._colorDatas.set(r,e[s]))})}updateColorDecorators(e){this._colorDecorationClassRefs.clear();let i=[],o=this._editor.getOption(21);for(let s=0;s<e.length&&i.length<o;s++){let{red:a,green:l,blue:c,alpha:d}=e[s].colorInfo.color,u=new Ma(Math.round(a*255),Math.round(l*255),Math.round(c*255),d),h=`rgba(${u.r}, ${u.g}, ${u.b}, ${u.a})`,m=this._colorDecorationClassRefs.add(this._ruleFactory.createClassNameRef({backgroundColor:h}));i.push({range:{startLineNumber:e[s].colorInfo.range.startLineNumber,startColumn:e[s].colorInfo.range.startColumn,endLineNumber:e[s].colorInfo.range.endLineNumber,endColumn:e[s].colorInfo.range.endColumn},options:{description:"colorDetector",before:{content:Nx,inlineClassName:`${m.className} colorpicker-color-decoration`,inlineClassNameAffectsLetterSpacing:!0,attachedData:iL}}})}let r=o<e.length?o:!1;this._decoratorLimitReporter.update(e.length,r),this._colorDecoratorIds.set(i)}removeAllDecorations(){this._editor.removeDecorations(this._decorationsIds),this._decorationsIds=[],this._colorDecoratorIds.clear(),this._colorDecorationClassRefs.clear()}getColorData(e){let i=this._editor.getModel();if(!i)return null;let o=i.getDecorationsInRange(A.fromPositions(e,e)).filter(r=>this._colorDatas.has(r.id));return o.length===0?null:this._colorDatas.get(o[0].id)}isColorDecoration(e){return this._colorDecoratorIds.has(e)}};Zh=eL=vve([JP(1,_t),JP(2,ae),JP(3,vn)],Zh);var tL=class{constructor(){this._onDidChange=new je,this._computed=0,this._limited=!1}update(t,e){(t!==this._computed||e!==this._limited)&&(this._computed=t,this._limited=e,this._onDidChange.fire())}};Me(Zh.ID,Zh,1);Ht();gi();ml();ce();qe();oi();var DI=class{get color(){return this._color}set color(t){this._color.equals(t)||(this._color=t,this._onDidChangeColor.fire(t))}get presentation(){return this.colorPresentations[this.presentationIndex]}get colorPresentations(){return this._colorPresentations}set colorPresentations(t){this._colorPresentations=t,this.presentationIndex>t.length-1&&(this.presentationIndex=0),this._onDidChangePresentation.fire(this.presentation)}constructor(t,e,i){this.presentationIndex=i,this._onColorFlushed=new je,this.onColorFlushed=this._onColorFlushed.event,this._onDidChangeColor=new je,this.onDidChangeColor=this._onDidChangeColor.event,this._onDidChangePresentation=new je,this.onDidChangePresentation=this._onDidChangePresentation.event,this.originalColor=t,this._color=t,this._colorPresentations=e}selectNextColorPresentation(){this.presentationIndex=(this.presentationIndex+1)%this.colorPresentations.length,this.flushColor(),this._onDidChangePresentation.fire(this.presentation)}guessColorPresentation(t,e){let i=-1;for(let o=0;o<this.colorPresentations.length;o++)if(e.toLowerCase()===this.colorPresentations[o].label){i=o;break}if(i===-1){let o=e.split("(")[0].toLowerCase();for(let r=0;r<this.colorPresentations.length;r++)if(this.colorPresentations[r].label.toLowerCase().startsWith(o)){i=r;break}}i!==-1&&i!==this.presentationIndex&&(this.presentationIndex=i,this._onDidChangePresentation.fire(this.presentation))}flushColor(){this._onColorFlushed.fire(this._color)}};gt();Vn();ml();oi();ce();Zo();Ae();Eo();var Qr=ye,nL=class extends U{constructor(t,e,i,o=!1){super(),this.model=e,this.showingStandaloneColorPicker=o,this._closeButton=null,this._domNode=Qr(".colorpicker-header"),we(t,this._domNode),this._pickedColorNode=we(this._domNode,Qr(".picked-color")),we(this._pickedColorNode,Qr("span.codicon.codicon-color-mode")),this._pickedColorPresentation=we(this._pickedColorNode,document.createElement("span")),this._pickedColorPresentation.classList.add("picked-color-presentation");let r=_("clickToToggleColorOptions","Click to toggle color options (rgb/hsl/hex)");this._pickedColorNode.setAttribute("title",r),this._originalColorNode=we(this._domNode,Qr(".original-color")),this._originalColorNode.style.backgroundColor=It.Format.CSS.format(this.model.originalColor)||"",this.backgroundColor=i.getColorTheme().getColor(_A)||It.white,this._register(i.onDidColorThemeChange(s=>{this.backgroundColor=s.getColor(_A)||It.white})),this._register(Ct(this._pickedColorNode,li.CLICK,()=>this.model.selectNextColorPresentation())),this._register(Ct(this._originalColorNode,li.CLICK,()=>{this.model.color=this.model.originalColor,this.model.flushColor()})),this._register(e.onDidChangeColor(this.onDidChangeColor,this)),this._register(e.onDidChangePresentation(this.onDidChangePresentation,this)),this._pickedColorNode.style.backgroundColor=It.Format.CSS.format(e.color)||"",this._pickedColorNode.classList.toggle("light",e.color.rgba.a<.5?this.backgroundColor.isLighter():e.color.isLighter()),this.onDidChangeColor(this.model.color),this.showingStandaloneColorPicker&&(this._domNode.classList.add("standalone-colorpicker"),this._closeButton=this._register(new oL(this._domNode)))}get closeButton(){return this._closeButton}get pickedColorNode(){return this._pickedColorNode}get originalColorNode(){return this._originalColorNode}onDidChangeColor(t){this._pickedColorNode.style.backgroundColor=It.Format.CSS.format(t)||"",this._pickedColorNode.classList.toggle("light",t.rgba.a<.5?this.backgroundColor.isLighter():t.isLighter()),this.onDidChangePresentation()}onDidChangePresentation(){this._pickedColorPresentation.textContent=this.model.presentation?this.model.presentation.label:""}},oL=class extends U{constructor(t){super(),this._onClicked=this._register(new je),this.onClicked=this._onClicked.event,this._button=document.createElement("div"),this._button.classList.add("close-button"),we(t,this._button);let e=document.createElement("div");e.classList.add("close-button-inner-div"),we(this._button,e),we(e,Qr(".button"+St.asCSSSelector(Ii("color-picker-close",Ge.close,_("closeIcon","Icon to close the color picker"))))).classList.add("close-icon"),this._register(Ct(this._button,li.CLICK,()=>{this._onClicked.fire()}))}},rL=class extends U{constructor(t,e,i,o=!1){super(),this.model=e,this.pixelRatio=i,this._insertButton=null,this._domNode=Qr(".colorpicker-body"),we(t,this._domNode),this._saturationBox=new sL(this._domNode,this.model,this.pixelRatio),this._register(this._saturationBox),this._register(this._saturationBox.onDidChange(this.onDidSaturationValueChange,this)),this._register(this._saturationBox.onColorFlushed(this.flushColor,this)),this._opacityStrip=new aL(this._domNode,this.model,o),this._register(this._opacityStrip),this._register(this._opacityStrip.onDidChange(this.onDidOpacityChange,this)),this._register(this._opacityStrip.onColorFlushed(this.flushColor,this)),this._hueStrip=new lL(this._domNode,this.model,o),this._register(this._hueStrip),this._register(this._hueStrip.onDidChange(this.onDidHueChange,this)),this._register(this._hueStrip.onColorFlushed(this.flushColor,this)),o&&(this._insertButton=this._register(new cL(this._domNode)),this._domNode.classList.add("standalone-colorpicker"))}flushColor(){this.model.flushColor()}onDidSaturationValueChange({s:t,v:e}){let i=this.model.color.hsva;this.model.color=new It(new j_(i.h,t,e,i.a))}onDidOpacityChange(t){let e=this.model.color.hsva;this.model.color=new It(new j_(e.h,e.s,e.v,t))}onDidHueChange(t){let e=this.model.color.hsva,i=(1-t)*360;this.model.color=new It(new j_(i===360?0:i,e.s,e.v,e.a))}get domNode(){return this._domNode}get saturationBox(){return this._saturationBox}get enterButton(){return this._insertButton}layout(){this._saturationBox.layout(),this._opacityStrip.layout(),this._hueStrip.layout()}},sL=class extends U{constructor(t,e,i){super(),this.model=e,this.pixelRatio=i,this._onDidChange=new je,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new je,this.onColorFlushed=this._onColorFlushed.event,this._domNode=Qr(".saturation-wrap"),we(t,this._domNode),this._canvas=document.createElement("canvas"),this._canvas.className="saturation-box",we(this._domNode,this._canvas),this.selection=Qr(".saturation-selection"),we(this._domNode,this.selection),this.layout(),this._register(Ct(this._domNode,li.POINTER_DOWN,o=>this.onPointerDown(o))),this._register(this.model.onDidChangeColor(this.onDidChangeColor,this)),this.monitor=null}get domNode(){return this._domNode}onPointerDown(t){if(!t.target||!(t.target instanceof Element))return;this.monitor=this._register(new xA);let e=Gi(this._domNode);t.target!==this.selection&&this.onDidChangePosition(t.offsetX,t.offsetY),this.monitor.startMonitoring(t.target,t.pointerId,t.buttons,o=>this.onDidChangePosition(o.pageX-e.left,o.pageY-e.top),()=>null);let i=Ct(t.target.ownerDocument,li.POINTER_UP,()=>{this._onColorFlushed.fire(),i.dispose(),this.monitor&&(this.monitor.stopMonitoring(!0),this.monitor=null)},!0)}onDidChangePosition(t,e){let i=Math.max(0,Math.min(1,t/this.width)),o=Math.max(0,Math.min(1,1-e/this.height));this.paintSelection(i,o),this._onDidChange.fire({s:i,v:o})}layout(){this.width=this._domNode.offsetWidth,this.height=this._domNode.offsetHeight,this._canvas.width=this.width*this.pixelRatio,this._canvas.height=this.height*this.pixelRatio,this.paint();let t=this.model.color.hsva;this.paintSelection(t.s,t.v)}paint(){let t=this.model.color.hsva,e=new It(new j_(t.h,1,1,1)),i=this._canvas.getContext("2d"),o=i.createLinearGradient(0,0,this._canvas.width,0);o.addColorStop(0,"rgba(255, 255, 255, 1)"),o.addColorStop(.5,"rgba(255, 255, 255, 0.5)"),o.addColorStop(1,"rgba(255, 255, 255, 0)");let r=i.createLinearGradient(0,0,0,this._canvas.height);r.addColorStop(0,"rgba(0, 0, 0, 0)"),r.addColorStop(1,"rgba(0, 0, 0, 1)"),i.rect(0,0,this._canvas.width,this._canvas.height),i.fillStyle=It.Format.CSS.format(e),i.fill(),i.fillStyle=o,i.fill(),i.fillStyle=r,i.fill()}paintSelection(t,e){this.selection.style.left=`${t*this.width}px`,this.selection.style.top=`${this.height-e*this.height}px`}onDidChangeColor(t){if(this.monitor&&this.monitor.isMonitoring())return;this.paint();let e=t.hsva;this.paintSelection(e.s,e.v)}},EI=class extends U{constructor(t,e,i=!1){super(),this.model=e,this._onDidChange=new je,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new je,this.onColorFlushed=this._onColorFlushed.event,i?(this.domNode=we(t,Qr(".standalone-strip")),this.overlay=we(this.domNode,Qr(".standalone-overlay"))):(this.domNode=we(t,Qr(".strip")),this.overlay=we(this.domNode,Qr(".overlay"))),this.slider=we(this.domNode,Qr(".slider")),this.slider.style.top="0px",this._register(Ct(this.domNode,li.POINTER_DOWN,o=>this.onPointerDown(o))),this._register(e.onDidChangeColor(this.onDidChangeColor,this)),this.layout()}layout(){this.height=this.domNode.offsetHeight-this.slider.offsetHeight;let t=this.getValue(this.model.color);this.updateSliderPosition(t)}onDidChangeColor(t){let e=this.getValue(t);this.updateSliderPosition(e)}onPointerDown(t){if(!t.target||!(t.target instanceof Element))return;let e=this._register(new xA),i=Gi(this.domNode);this.domNode.classList.add("grabbing"),t.target!==this.slider&&this.onDidChangeTop(t.offsetY),e.startMonitoring(t.target,t.pointerId,t.buttons,r=>this.onDidChangeTop(r.pageY-i.top),()=>null);let o=Ct(t.target.ownerDocument,li.POINTER_UP,()=>{this._onColorFlushed.fire(),o.dispose(),e.stopMonitoring(!0),this.domNode.classList.remove("grabbing")},!0)}onDidChangeTop(t){let e=Math.max(0,Math.min(1,1-t/this.height));this.updateSliderPosition(e),this._onDidChange.fire(e)}updateSliderPosition(t){this.slider.style.top=`${(1-t)*this.height}px`}},aL=class extends EI{constructor(t,e,i=!1){super(t,e,i),this.domNode.classList.add("opacity-strip"),this.onDidChangeColor(this.model.color)}onDidChangeColor(t){super.onDidChangeColor(t);let{r:e,g:i,b:o}=t.rgba,r=new It(new Ma(e,i,o,1)),s=new It(new Ma(e,i,o,0));this.overlay.style.background=`linear-gradient(to bottom, ${r} 0%, ${s} 100%)`}getValue(t){return t.hsva.a}},lL=class extends EI{constructor(t,e,i=!1){super(t,e,i),this.domNode.classList.add("hue-strip")}getValue(t){return 1-t.hsva.h/360}},cL=class extends U{constructor(t){super(),this._onClicked=this._register(new je),this.onClicked=this._onClicked.event,this._button=we(t,document.createElement("button")),this._button.classList.add("insert-button"),this._button.textContent="Insert",this._register(Ct(this._button,li.CLICK,()=>{this._onClicked.fire()}))}get button(){return this._button}},kI=class extends fc{constructor(t,e,i,o,r=!1){super(),this.model=e,this.pixelRatio=i,this._register(qj.getInstance(Ca(t)).onDidChange(()=>this.layout())),this._domNode=Qr(".colorpicker-widget"),t.appendChild(this._domNode),this.header=this._register(new nL(this._domNode,this.model,o,r)),this.body=this._register(new rL(this._domNode,this.model,this.pixelRatio,r))}layout(){this.body.layout()}get domNode(){return this._domNode}};var Ff=class{constructor(t,e,i,o){this.priority=t,this.range=e,this.initialMousePosX=i,this.initialMousePosY=o,this.type=1}equals(t){return t.type===1&&this.range.equalsRange(t.range)}canAdoptVisibleHover(t,e){return t.type===1&&e.lineNumber===this.range.startLineNumber}},eu=class{constructor(t,e,i,o,r,s){this.priority=t,this.owner=e,this.range=i,this.initialMousePosX=o,this.initialMousePosY=r,this.supportsMarkerHover=s,this.type=2}equals(t){return t.type===2&&this.owner===t.owner}canAdoptVisibleHover(t,e){return t.type===2&&this.owner===t.owner}},Jr=class{constructor(t){this.renderedHoverParts=t}dispose(){for(let t of this.renderedHoverParts)t.dispose()}},ys=new class{constructor(){this._participants=[]}register(t){this._participants.push(t)}getAll(){return this._participants}};Do();gt();var QG=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},JG=function(n,t){return function(e,i){t(e,i,n)}},dL=class{constructor(t,e,i,o){this.owner=t,this.range=e,this.model=i,this.provider=o,this.forceShowAtRange=!0}isValidForHoverAnchor(t){return t.type===1&&this.range.startColumn<=t.range.startColumn&&this.range.endColumn>=t.range.endColumn}},Qh=class{constructor(t,e){this._editor=t,this._themeService=e,this.hoverOrdinal=2}computeSync(t,e){return[]}computeAsync(t,e,i){return hr.fromPromise(this._computeAsync(t,e,i))}_computeAsync(t,e,i){return k(this,null,function*(){if(!this._editor.hasModel())return[];let o=Zh.get(this._editor);if(!o)return[];for(let r of e){if(!o.isColorDecoration(r))continue;let s=o.getColorData(r.range.getStartPosition());if(s)return[yield e$(this,this._editor.getModel(),s.colorInfo,s.provider)]}return[]})}renderHoverParts(t,e){let i=t$(this,this._editor,this._themeService,e,t);if(!i)return new Jr([]);this._colorPicker=i.colorPicker;let o={hoverPart:i.hoverPart,hoverElement:this._colorPicker.domNode,dispose(){i.disposables.dispose()}};return new Jr([o])}handleResize(){this._colorPicker?.layout()}isColorPickerVisible(){return!!this._colorPicker}};Qh=QG([JG(1,qn)],Qh);var uL=class{constructor(t,e,i,o){this.owner=t,this.range=e,this.model=i,this.provider=o}},zf=class{constructor(t,e){this._editor=t,this._themeService=e,this._color=null}createColorHover(t,e,i){return k(this,null,function*(){if(!this._editor.hasModel()||!Zh.get(this._editor))return null;let r=yield II(i,this._editor.getModel(),Je.None),s=null,a=null;for(let u of r){let h=u.colorInfo;A.containsRange(h.range,t.range)&&(s=h,a=u.provider)}let l=s??t,c=a??e,d=!!s;return{colorHover:yield e$(this,this._editor.getModel(),l,c),foundInEditor:d}})}updateEditorModel(t){return k(this,null,function*(){if(!this._editor.hasModel())return;let e=t.model,i=new A(t.range.startLineNumber,t.range.startColumn,t.range.endLineNumber,t.range.endColumn);this._color&&(yield MI(this._editor.getModel(),e,this._color,i,t),i=i$(this._editor,i,e))})}renderHoverParts(t,e){return t$(this,this._editor,this._themeService,e,t)}set color(t){this._color=t}get color(){return this._color}};zf=QG([JG(1,qn)],zf);function e$(n,t,e,i){return k(this,null,function*(){let o=t.getValueInRange(e.range),{red:r,green:s,blue:a,alpha:l}=e.color,c=new Ma(Math.round(r*255),Math.round(s*255),Math.round(a*255),l),d=new It(c),u=yield ZP(t,e,i,Je.None),h=new DI(d,[],0);return h.colorPresentations=u||[],h.guessColorPresentation(d,o),n instanceof Qh?new dL(n,A.lift(e.range),h,i):new uL(n,A.lift(e.range),h,i)})}function t$(n,t,e,i,o){if(i.length===0||!t.hasModel())return;if(o.setMinimumDimensions){let h=t.getOption(67)+8;o.setMinimumDimensions(new ai(302,h))}let r=new G,s=i[0],a=t.getModel(),l=s.model,c=r.add(new kI(o.fragment,l,t.getOption(144),e,n instanceof zf)),d=!1,u=new A(s.range.startLineNumber,s.range.startColumn,s.range.endLineNumber,s.range.endColumn);if(n instanceof zf){let h=s.model.color;n.color=h,MI(a,l,h,u,s),r.add(l.onColorFlushed(m=>{n.color=m}))}else r.add(l.onColorFlushed(h=>k(this,null,function*(){yield MI(a,l,h,u,s),d=!0,u=i$(t,u,l)})));return r.add(l.onDidChangeColor(h=>{MI(a,l,h,u,s)})),r.add(t.onDidChangeModelContent(h=>{d?d=!1:(o.hide(),t.focus())})),{hoverPart:s,colorPicker:c,disposables:r}}function i$(n,t,e){let i=[],o=e.presentation.textEdit??{range:t,text:e.presentation.label,forceMoveMarkers:!1};i.push(o),e.presentation.additionalTextEdits&&i.push(...e.presentation.additionalTextEdits);let r=A.lift(o.range),s=n.getModel()._setTrackedRange(null,r,3);return n.executeEdits("colorpicker",i),n.pushUndoStop(),n.getModel()._getTrackedRange(s)??r}function MI(n,t,e,i,o){return k(this,null,function*(){let r=yield ZP(n,{range:i,color:{red:e.rgba.r/255,green:e.rgba.g/255,blue:e.rgba.b/255,alpha:e.rgba.a}},o.provider,Je.None);t.colorPresentations=r||[]})}Ae();var TI="editor.action.showHover",n$="editor.action.showDefinitionPreviewHover",o$="editor.action.scrollUpHover",r$="editor.action.scrollDownHover",s$="editor.action.scrollLeftHover",a$="editor.action.scrollRightHover",l$="editor.action.pageUpHover",c$="editor.action.pageDownHover",d$="editor.action.goToTopHover",u$="editor.action.goToBottomHover",Jh="editor.action.increaseHoverVerbosityLevel",h$=_({key:"increaseHoverVerbosityLevel",comment:["Label for action that will increase the hover verbosity level."]},"Increase Hover Verbosity Level"),em="editor.action.decreaseHoverVerbosityLevel",m$=_({key:"decreaseHoverVerbosityLevel",comment:["Label for action that will decrease the hover verbosity level."]},"Decrease Hover Verbosity Level");ce();Ot();gt();lh();Oi();Ht();Vn();ce();so();wd();Yo();Zo();hi();gn();var AI="editor.action.inlineSuggest.commit",RI="editor.action.inlineSuggest.showPrevious",OI="editor.action.inlineSuggest.showNext";Ae();$i();Ui();mt();Ot();Ia();var fL=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},Zs=function(n,t){return function(e,i){t(e,i,n)}},PI,LI=class extends U{constructor(t,e,i){super(),this.editor=t,this.model=e,this.instantiationService=i,this.alwaysShowToolbar=ro(this,this.editor.onDidChangeConfiguration,()=>this.editor.getOption(62).showToolbar==="always"),this.sessionPosition=void 0,this.position=qt(this,o=>{let r=this.model.read(o)?.primaryGhostText.read(o);if(!this.alwaysShowToolbar.read(o)||!r||r.parts.length===0)return this.sessionPosition=void 0,null;let s=r.parts[0].column;this.sessionPosition&&this.sessionPosition.lineNumber!==r.lineNumber&&(this.sessionPosition=void 0);let a=new he(r.lineNumber,Math.min(s,this.sessionPosition?.column??Number.MAX_SAFE_INTEGER));return this.sessionPosition=a,a}),this._register(gl((o,r)=>{let s=this.model.read(o);if(!s||!this.alwaysShowToolbar.read(o))return;let a=vw((c,d)=>{let u=d.add(this.instantiationService.createInstance(Pc,this.editor,!0,this.position,s.selectedInlineCompletionIndex,s.inlineCompletionsCount,s.activeCommands));return t.addContentWidget(u),d.add(Mt(()=>t.removeContentWidget(u))),d.add(ii(h=>{this.position.read(h)&&s.lastTriggerKind.read(h)!==as.Explicit&&s.triggerExplicitly()})),u}),l=Cd(this,(c,d)=>!!this.position.read(c)||!!d);r.add(ii(c=>{l.read(c)&&a.read(c)}))}))}};LI=fL([Zs(2,De)],LI);var bve=Ii("inline-suggestion-hints-next",Ge.chevronRight,_("parameterHintsNextIcon","Icon for show next parameter hint.")),yve=Ii("inline-suggestion-hints-previous",Ge.chevronLeft,_("parameterHintsPreviousIcon","Icon for show previous parameter hint.")),Pc=class extends U{static{PI=this}static{this._dropDownVisible=!1}static get dropDownVisible(){return this._dropDownVisible}static{this.id=0}createCommandAction(e,i,o){let r=new dl(e,i,o,!0,()=>this._commandService.executeCommand(e)),s=this.keybindingService.lookupKeybinding(e,this._contextKeyService),a=i;return s&&(a=_({key:"content",comment:["A label","A keybinding"]},"{0} ({1})",i,s.getLabel())),r.tooltip=a,r}constructor(e,i,o,r,s,a,l,c,d,u,h){super(),this.editor=e,this.withBorder=i,this._position=o,this._currentSuggestionIdx=r,this._suggestionCount=s,this._extraCommands=a,this._commandService=l,this.keybindingService=d,this._contextKeyService=u,this._menuService=h,this.id=`InlineSuggestionHintsContentWidget${PI.id++}`,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this.nodes=pr("div.inlineSuggestionsHints",{className:this.withBorder?".withBorder":""},[pr("div@toolBar")]),this.previousAction=this.createCommandAction(RI,_("previous","Previous"),St.asClassName(yve)),this.availableSuggestionCountAction=new dl("inlineSuggestionHints.availableSuggestionCount","",void 0,!1),this.nextAction=this.createCommandAction(OI,_("next","Next"),St.asClassName(bve)),this.inlineCompletionsActionsMenus=this._register(this._menuService.createMenu(ve.InlineCompletionsActions,this._contextKeyService)),this.clearAvailableSuggestionCountLabelDebounced=this._register(new si(()=>{this.availableSuggestionCountAction.label=""},100)),this.disableButtonsDebounced=this._register(new si(()=>{this.previousAction.enabled=this.nextAction.enabled=!1},100)),this.toolBar=this._register(c.createInstance(pL,this.nodes.toolBar,ve.InlineSuggestionToolbar,{menuOptions:{renderShortTitle:!0},toolbarOptions:{primaryGroup:m=>m.startsWith("primary")},actionViewItemProvider:(m,f)=>{if(m instanceof ul)return c.createInstance(mL,m,void 0);if(m===this.availableSuggestionCountAction){let p=new hL(void 0,m,{label:!0,icon:!1});return p.setClass("availableSuggestionCount"),p}},telemetrySource:"InlineSuggestionToolbar"})),this.toolBar.setPrependedPrimaryActions([this.previousAction,this.availableSuggestionCountAction,this.nextAction]),this._register(this.toolBar.onDidChangeDropdownVisibility(m=>{PI._dropDownVisible=m})),this._register(ii(m=>{this._position.read(m),this.editor.layoutContentWidget(this)})),this._register(ii(m=>{let f=this._suggestionCount.read(m),p=this._currentSuggestionIdx.read(m);f!==void 0?(this.clearAvailableSuggestionCountLabelDebounced.cancel(),this.availableSuggestionCountAction.label=`${p+1}/${f}`):this.clearAvailableSuggestionCountLabelDebounced.schedule(),f!==void 0&&f>1?(this.disableButtonsDebounced.cancel(),this.previousAction.enabled=this.nextAction.enabled=!0):this.disableButtonsDebounced.schedule()})),this._register(ii(m=>{let p=this._extraCommands.read(m).map(g=>({class:void 0,id:g.id,enabled:!0,tooltip:g.tooltip||"",label:g.title,run:v=>this._commandService.executeCommand(g.id)}));for(let[g,v]of this.inlineCompletionsActionsMenus.getActions())for(let b of v)b instanceof ul&&p.push(b);p.length>0&&p.unshift(new ac),this.toolBar.setAdditionalSecondaryActions(p)}))}getId(){return this.id}getDomNode(){return this.nodes.root}getPosition(){return{position:this._position.get(),preference:[1,2],positionAffinity:3}}};Pc=PI=fL([Zs(6,ci),Zs(7,De),Zs(8,Vt),Zs(9,Xe),Zs(10,Ns)],Pc);var hL=class extends J_{constructor(){super(...arguments),this._className=void 0}setClass(t){this._className=t}render(t){super.render(t),this._className&&t.classList.add(this._className)}updateTooltip(){}},mL=class extends Cw{updateLabel(){let t=this._keybindingService.lookupKeybinding(this._action.id,this._contextKeyService);if(!t)return super.updateLabel();if(this.label){let e=pr("div.keybinding").root;this._register(new Dp(e,ep,j({disableTitle:!0},kw))).set(t),this.label.textContent=this._action.label,this.label.appendChild(e),this.label.classList.add("inlineSuggestionStatusBarItemLabel")}}updateTooltip(){}},pL=class extends Gw{constructor(t,e,i,o,r,s,a,l,c){super(t,j({resetMenu:e},i),o,r,s,a,l,c),this.menuId=e,this.options2=i,this.menuService=o,this.contextKeyService=r,this.menu=this._store.add(this.menuService.createMenu(this.menuId,this.contextKeyService,{emitEventsForSubmenuChanges:!0})),this.additionalActions=[],this.prependedPrimaryActions=[],this._store.add(this.menu.onDidChange(()=>this.updateToolbar())),this.updateToolbar()}updateToolbar(){let t=[],e=[];Cp(this.menu,this.options2?.menuOptions,{primary:t,secondary:e},this.options2?.toolbarOptions?.primaryGroup,this.options2?.toolbarOptions?.shouldInlineSubmenu,this.options2?.toolbarOptions?.useSeparatorsInPrimaryActions),e.push(...this.additionalActions),t.unshift(...this.prependedPrimaryActions),this.setActions(t,e)}setPrependedPrimaryActions(t){$o(this.prependedPrimaryActions,t,(e,i)=>e===i)||(this.prependedPrimaryActions=t,this.updateToolbar())}setAdditionalSecondaryActions(t){$o(this.additionalActions,t,(e,i)=>e===i)||(this.additionalActions=t,this.updateToolbar())}};pL=fL([Zs(3,Ns),Zs(4,Xe),Zs(5,Bs),Zs(6,Vt),Zs(7,ci),Zs(8,jn)],pL);Ht();gt();function tu(n,t,e){let i=Gi(n);return!(t<i.left||t>i.left+i.width||e<i.top||e>i.top+i.height)}gt();ce();gn();Ht();Bt();oi();ce();var gL=class{constructor(t,e,i){this.value=t,this.isComplete=e,this.hasLoadingMessage=i}},Bf=class extends U{constructor(t,e){super(),this._editor=t,this._computer=e,this._onResult=this._register(new je),this.onResult=this._onResult.event,this._firstWaitScheduler=this._register(new si(()=>this._triggerAsyncComputation(),0)),this._secondWaitScheduler=this._register(new si(()=>this._triggerSyncComputation(),0)),this._loadingMessageScheduler=this._register(new si(()=>this._triggerLoadingMessage(),0)),this._state=0,this._asyncIterable=null,this._asyncIterableDone=!1,this._result=[]}dispose(){this._asyncIterable&&(this._asyncIterable.cancel(),this._asyncIterable=null),super.dispose()}get _hoverTime(){return this._editor.getOption(60).delay}get _firstWaitTime(){return this._hoverTime/2}get _secondWaitTime(){return this._hoverTime-this._firstWaitTime}get _loadingMessageTime(){return 3*this._hoverTime}_setState(t,e=!0){this._state=t,e&&this._fireResult()}_triggerAsyncComputation(){this._setState(2),this._secondWaitScheduler.schedule(this._secondWaitTime),this._computer.computeAsync?(this._asyncIterableDone=!1,this._asyncIterable=Mj(t=>this._computer.computeAsync(t)),k(this,null,function*(){try{try{for(var t=lx(this._asyncIterable),e,i,o;e=!(i=yield t.next()).done;e=!1){let r=i.value;r&&(this._result.push(r),this._fireResult())}}catch{o=[i]}finally{try{e&&(i=t.return)&&(yield i.call(t))}finally{if(o)throw o[0]}}this._asyncIterableDone=!0,(this._state===3||this._state===4)&&this._setState(0)}catch(r){ut(r)}})):this._asyncIterableDone=!0}_triggerSyncComputation(){this._computer.computeSync&&(this._result=this._result.concat(this._computer.computeSync())),this._setState(this._asyncIterableDone?0:3)}_triggerLoadingMessage(){this._state===3&&this._setState(4)}_fireResult(){if(this._state===1||this._state===2)return;let t=this._state===0,e=this._state===4;this._onResult.fire(new gL(this._result.slice(0),t,e))}start(t){if(t===0)this._state===0&&(this._setState(1),this._firstWaitScheduler.schedule(this._firstWaitTime),this._loadingMessageScheduler.schedule(this._loadingMessageTime));else switch(this._state){case 0:this._triggerAsyncComputation(),this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break;case 2:this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break}}cancel(){this._firstWaitScheduler.cancel(),this._secondWaitScheduler.cancel(),this._loadingMessageScheduler.cancel(),this._asyncIterable&&(this._asyncIterable.cancel(),this._asyncIterable=null),this._result=[],this._setState(0,!1)}};Ot();gt();gt();oi();ce();var iu=class{constructor(){this._onDidWillResize=new je,this.onDidWillResize=this._onDidWillResize.event,this._onDidResize=new je,this.onDidResize=this._onDidResize.event,this._sashListener=new G,this._size=new ai(0,0),this._minSize=new ai(0,0),this._maxSize=new ai(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),this.domNode=document.createElement("div"),this._eastSash=new wc(this.domNode,{getVerticalSashLeft:()=>this._size.width},{orientation:0}),this._westSash=new wc(this.domNode,{getVerticalSashLeft:()=>0},{orientation:0}),this._northSash=new wc(this.domNode,{getHorizontalSashTop:()=>0},{orientation:1,orthogonalEdge:AA.North}),this._southSash=new wc(this.domNode,{getHorizontalSashTop:()=>this._size.height},{orientation:1,orthogonalEdge:AA.South}),this._northSash.orthogonalStartSash=this._westSash,this._northSash.orthogonalEndSash=this._eastSash,this._southSash.orthogonalStartSash=this._westSash,this._southSash.orthogonalEndSash=this._eastSash;let t,e=0,i=0;this._sashListener.add(bi.any(this._northSash.onDidStart,this._eastSash.onDidStart,this._southSash.onDidStart,this._westSash.onDidStart)(()=>{t===void 0&&(this._onDidWillResize.fire(),t=this._size,e=0,i=0)})),this._sashListener.add(bi.any(this._northSash.onDidEnd,this._eastSash.onDidEnd,this._southSash.onDidEnd,this._westSash.onDidEnd)(()=>{t!==void 0&&(t=void 0,e=0,i=0,this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(this._eastSash.onDidChange(o=>{t&&(i=o.currentX-o.startX,this.layout(t.height+e,t.width+i),this._onDidResize.fire({dimension:this._size,done:!1,east:!0}))})),this._sashListener.add(this._westSash.onDidChange(o=>{t&&(i=-(o.currentX-o.startX),this.layout(t.height+e,t.width+i),this._onDidResize.fire({dimension:this._size,done:!1,west:!0}))})),this._sashListener.add(this._northSash.onDidChange(o=>{t&&(e=-(o.currentY-o.startY),this.layout(t.height+e,t.width+i),this._onDidResize.fire({dimension:this._size,done:!1,north:!0}))})),this._sashListener.add(this._southSash.onDidChange(o=>{t&&(e=o.currentY-o.startY,this.layout(t.height+e,t.width+i),this._onDidResize.fire({dimension:this._size,done:!1,south:!0}))})),this._sashListener.add(bi.any(this._eastSash.onDidReset,this._westSash.onDidReset)(o=>{this._preferredSize&&(this.layout(this._size.height,this._preferredSize.width),this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(bi.any(this._northSash.onDidReset,this._southSash.onDidReset)(o=>{this._preferredSize&&(this.layout(this._preferredSize.height,this._size.width),this._onDidResize.fire({dimension:this._size,done:!0}))}))}dispose(){this._northSash.dispose(),this._southSash.dispose(),this._eastSash.dispose(),this._westSash.dispose(),this._sashListener.dispose(),this._onDidResize.dispose(),this._onDidWillResize.dispose(),this.domNode.remove()}enableSashes(t,e,i,o){this._northSash.state=t?3:0,this._eastSash.state=e?3:0,this._southSash.state=i?3:0,this._westSash.state=o?3:0}layout(t=this.size.height,e=this.size.width){let{height:i,width:o}=this._minSize,{height:r,width:s}=this._maxSize;t=Math.max(i,Math.min(r,t)),e=Math.max(o,Math.min(s,e));let a=new ai(e,t);ai.equals(a,this._size)||(this.domNode.style.height=t+"px",this.domNode.style.width=e+"px",this._size=a,this._northSash.layout(),this._eastSash.layout(),this._southSash.layout(),this._westSash.layout())}clearSashHoverState(){this._eastSash.clearSashHoverState(),this._westSash.clearSashHoverState(),this._northSash.clearSashHoverState(),this._southSash.clearSashHoverState()}get size(){return this._size}set maxSize(t){this._maxSize=t}get maxSize(){return this._maxSize}set minSize(t){this._minSize=t}get minSize(){return this._minSize}set preferredSize(t){this._preferredSize=t}get preferredSize(){return this._preferredSize}};ce();hi();gt();var xve=30,wve=24,NI=class extends U{constructor(t,e=new ai(10,10)){super(),this._editor=t,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._resizableNode=this._register(new iu),this._contentPosition=null,this._isResizing=!1,this._resizableNode.domNode.style.position="absolute",this._resizableNode.minSize=ai.lift(e),this._resizableNode.layout(e.height,e.width),this._resizableNode.enableSashes(!0,!0,!0,!0),this._register(this._resizableNode.onDidResize(i=>{this._resize(new ai(i.dimension.width,i.dimension.height)),i.done&&(this._isResizing=!1)})),this._register(this._resizableNode.onDidWillResize(()=>{this._isResizing=!0}))}get isResizing(){return this._isResizing}getDomNode(){return this._resizableNode.domNode}getPosition(){return this._contentPosition}get position(){return this._contentPosition?.position?he.lift(this._contentPosition.position):void 0}_availableVerticalSpaceAbove(t){let e=this._editor.getDomNode(),i=this._editor.getScrolledVisiblePosition(t);return!e||!i?void 0:Gi(e).top+i.top-xve}_availableVerticalSpaceBelow(t){let e=this._editor.getDomNode(),i=this._editor.getScrolledVisiblePosition(t);if(!e||!i)return;let o=Gi(e),r=ll(e.ownerDocument.body),s=o.top+i.top+i.height;return r.height-s-wve}_findPositionPreference(t,e){let i=Math.min(this._availableVerticalSpaceBelow(e)??1/0,t),o=Math.min(this._availableVerticalSpaceAbove(e)??1/0,t),r=Math.min(Math.max(o,i),t),s=Math.min(t,r),a;return this._editor.getOption(60).above?a=s<=o?1:2:a=s<=i?2:1,a===1?this._resizableNode.enableSashes(!0,!0,!1,!1):this._resizableNode.enableSashes(!1,!0,!0,!1),a}_resize(t){this._resizableNode.layout(t.height,t.width)}};mt();_n();$t();oi();var Cve=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},FI=function(n,t){return function(e,i){t(e,i,n)}},El,p$=30,Sve=6,zI=class extends NI{static{El=this}static{this.ID="editor.contrib.resizableContentHoverWidget"}static{this._lastDimensions=new ai(0,0)}get isVisibleFromKeyboard(){return this._renderedHover?.source===1}get isVisible(){return this._hoverVisibleKey.get()??!1}get isFocused(){return this._hoverFocusedKey.get()??!1}constructor(t,e,i,o,r){let s=t.getOption(67)+8,a=150,l=new ai(a,s);super(t,l),this._configurationService=i,this._accessibilityService=o,this._keybindingService=r,this._hover=this._register(new aw),this._onDidResize=this._register(new je),this.onDidResize=this._onDidResize.event,this._minimumSize=l,this._hoverVisibleKey=M.hoverVisible.bindTo(e),this._hoverFocusedKey=M.hoverFocused.bindTo(e),we(this._resizableNode.domNode,this._hover.containerDomNode),this._resizableNode.domNode.style.zIndex="50",this._register(this._editor.onDidLayoutChange(()=>{this.isVisible&&this._updateMaxDimensions()})),this._register(this._editor.onDidChangeConfiguration(d=>{d.hasChanged(50)&&this._updateFont()}));let c=this._register(Sa(this._resizableNode.domNode));this._register(c.onDidFocus(()=>{this._hoverFocusedKey.set(!0)})),this._register(c.onDidBlur(()=>{this._hoverFocusedKey.set(!1)})),this._setRenderedHover(void 0),this._editor.addContentWidget(this)}dispose(){super.dispose(),this._renderedHover?.dispose(),this._editor.removeContentWidget(this)}getId(){return El.ID}static _applyDimensions(t,e,i){let o=typeof e=="number"?`${e}px`:e,r=typeof i=="number"?`${i}px`:i;t.style.width=o,t.style.height=r}_setContentsDomNodeDimensions(t,e){let i=this._hover.contentsDomNode;return El._applyDimensions(i,t,e)}_setContainerDomNodeDimensions(t,e){let i=this._hover.containerDomNode;return El._applyDimensions(i,t,e)}_setHoverWidgetDimensions(t,e){this._setContentsDomNodeDimensions(t,e),this._setContainerDomNodeDimensions(t,e),this._layoutContentWidget()}static _applyMaxDimensions(t,e,i){let o=typeof e=="number"?`${e}px`:e,r=typeof i=="number"?`${i}px`:i;t.style.maxWidth=o,t.style.maxHeight=r}_setHoverWidgetMaxDimensions(t,e){El._applyMaxDimensions(this._hover.contentsDomNode,t,e),El._applyMaxDimensions(this._hover.containerDomNode,t,e),this._hover.containerDomNode.style.setProperty("--vscode-hover-maxWidth",typeof t=="number"?`${t}px`:t),this._layoutContentWidget()}_setAdjustedHoverWidgetDimensions(t){this._setHoverWidgetMaxDimensions("none","none");let e=t.width,i=t.height;this._setHoverWidgetDimensions(e,i)}_updateResizableNodeMaxDimensions(){let t=this._findMaximumRenderingWidth()??1/0,e=this._findMaximumRenderingHeight()??1/0;this._resizableNode.maxSize=new ai(t,e),this._setHoverWidgetMaxDimensions(t,e)}_resize(t){El._lastDimensions=new ai(t.width,t.height),this._setAdjustedHoverWidgetDimensions(t),this._resizableNode.layout(t.height,t.width),this._updateResizableNodeMaxDimensions(),this._hover.scrollbar.scanDomNode(),this._editor.layoutContentWidget(this),this._onDidResize.fire()}_findAvailableSpaceVertically(){let t=this._renderedHover?.showAtPosition;if(t)return this._positionPreference===1?this._availableVerticalSpaceAbove(t):this._availableVerticalSpaceBelow(t)}_findMaximumRenderingHeight(){let t=this._findAvailableSpaceVertically();if(!t)return;let e=Sve;return Array.from(this._hover.contentsDomNode.children).forEach(i=>{e+=i.clientHeight}),Math.min(t,e)}_isHoverTextOverflowing(){this._hover.containerDomNode.style.setProperty("--vscode-hover-whiteSpace","nowrap"),this._hover.containerDomNode.style.setProperty("--vscode-hover-sourceWhiteSpace","nowrap");let t=Array.from(this._hover.contentsDomNode.children).some(e=>e.scrollWidth>e.clientWidth);return this._hover.containerDomNode.style.removeProperty("--vscode-hover-whiteSpace"),this._hover.containerDomNode.style.removeProperty("--vscode-hover-sourceWhiteSpace"),t}_findMaximumRenderingWidth(){if(!this._editor||!this._editor.hasModel())return;let t=this._isHoverTextOverflowing(),e=typeof this._contentWidth>"u"?0:this._contentWidth-2;return t||this._hover.containerDomNode.clientWidth<e?ll(this._hover.containerDomNode.ownerDocument.body).width-14:this._hover.containerDomNode.clientWidth+2}isMouseGettingCloser(t,e){if(!this._renderedHover)return!1;if(this._renderedHover.initialMousePosX===void 0||this._renderedHover.initialMousePosY===void 0)return this._renderedHover.initialMousePosX=t,this._renderedHover.initialMousePosY=e,!1;let i=Gi(this.getDomNode());this._renderedHover.closestMouseDistance===void 0&&(this._renderedHover.closestMouseDistance=f$(this._renderedHover.initialMousePosX,this._renderedHover.initialMousePosY,i.left,i.top,i.width,i.height));let o=f$(t,e,i.left,i.top,i.width,i.height);return o>this._renderedHover.closestMouseDistance+4?!1:(this._renderedHover.closestMouseDistance=Math.min(this._renderedHover.closestMouseDistance,o),!0)}_setRenderedHover(t){this._renderedHover?.dispose(),this._renderedHover=t,this._hoverVisibleKey.set(!!t),this._hover.containerDomNode.classList.toggle("hidden",!t)}_updateFont(){let{fontSize:t,lineHeight:e}=this._editor.getOption(50),i=this._hover.contentsDomNode;i.style.fontSize=`${t}px`,i.style.lineHeight=`${e/t}`,Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach(r=>this._editor.applyFontInfo(r))}_updateContent(t){let e=this._hover.contentsDomNode;e.style.paddingBottom="",e.textContent="",e.appendChild(t)}_layoutContentWidget(){this._editor.layoutContentWidget(this),this._hover.onContentsChanged()}_updateMaxDimensions(){let t=Math.max(this._editor.getLayoutInfo().height/4,250,El._lastDimensions.height),e=Math.max(this._editor.getLayoutInfo().width*.66,500,El._lastDimensions.width);this._setHoverWidgetMaxDimensions(e,t)}_render(t){this._setRenderedHover(t),this._updateFont(),this._updateContent(t.domNode),this._updateMaxDimensions(),this.onContentsChanged(),this._editor.render()}getPosition(){return this._renderedHover?{position:this._renderedHover.showAtPosition,secondaryPosition:this._renderedHover.showAtSecondaryPosition,positionAffinity:this._renderedHover.shouldAppearBeforeContent?3:void 0,preference:[this._positionPreference??1]}:null}show(t){if(!this._editor||!this._editor.hasModel())return;this._render(t);let e=pd(this._hover.containerDomNode),i=t.showAtPosition;this._positionPreference=this._findPositionPreference(e,i)??1,this.onContentsChanged(),t.shouldFocus&&this._hover.containerDomNode.focus(),this._onDidResize.fire();let r=this._hover.containerDomNode.ownerDocument.activeElement===this._hover.containerDomNode&&G4(this._configurationService.getValue("accessibility.verbosity.hover")===!0&&this._accessibilityService.isScreenReaderOptimized(),this._keybindingService.lookupKeybinding("editor.action.accessibleView")?.getAriaLabel()??"");r&&(this._hover.contentsDomNode.ariaLabel=this._hover.contentsDomNode.textContent+", "+r)}hide(){if(!this._renderedHover)return;let t=this._renderedHover.shouldFocus||this._hoverFocusedKey.get();this._setRenderedHover(void 0),this._resizableNode.maxSize=new ai(1/0,1/0),this._resizableNode.clearSashHoverState(),this._hoverFocusedKey.set(!1),this._editor.layoutContentWidget(this),t&&this._editor.focus()}_removeConstraintsRenderNormally(){let t=this._editor.getLayoutInfo();this._resizableNode.layout(t.height,t.width),this._setHoverWidgetDimensions("auto","auto")}setMinimumDimensions(t){this._minimumSize=new ai(Math.max(this._minimumSize.width,t.width),Math.max(this._minimumSize.height,t.height)),this._updateMinimumWidth()}_updateMinimumWidth(){let t=typeof this._contentWidth>"u"?this._minimumSize.width:Math.min(this._contentWidth,this._minimumSize.width);this._resizableNode.minSize=new ai(t,this._minimumSize.height)}onContentsChanged(){this._removeConstraintsRenderNormally();let t=this._hover.containerDomNode,e=pd(t),i=Er(t);if(this._resizableNode.layout(e,i),this._setHoverWidgetDimensions(i,e),e=pd(t),i=Er(t),this._contentWidth=i,this._updateMinimumWidth(),this._resizableNode.layout(e,i),this._renderedHover?.showAtPosition){let o=pd(this._hover.containerDomNode);this._positionPreference=this._findPositionPreference(o,this._renderedHover.showAtPosition)}this._layoutContentWidget()}focus(){this._hover.containerDomNode.focus()}scrollUp(){let t=this._hover.scrollbar.getScrollPosition().scrollTop,e=this._editor.getOption(50);this._hover.scrollbar.setScrollPosition({scrollTop:t-e.lineHeight})}scrollDown(){let t=this._hover.scrollbar.getScrollPosition().scrollTop,e=this._editor.getOption(50);this._hover.scrollbar.setScrollPosition({scrollTop:t+e.lineHeight})}scrollLeft(){let t=this._hover.scrollbar.getScrollPosition().scrollLeft;this._hover.scrollbar.setScrollPosition({scrollLeft:t-p$})}scrollRight(){let t=this._hover.scrollbar.getScrollPosition().scrollLeft;this._hover.scrollbar.setScrollPosition({scrollLeft:t+p$})}pageUp(){let t=this._hover.scrollbar.getScrollPosition().scrollTop,e=this._hover.scrollbar.getScrollDimensions().height;this._hover.scrollbar.setScrollPosition({scrollTop:t-e})}pageDown(){let t=this._hover.scrollbar.getScrollPosition().scrollTop,e=this._hover.scrollbar.getScrollDimensions().height;this._hover.scrollbar.setScrollPosition({scrollTop:t+e})}goToTop(){this._hover.scrollbar.setScrollPosition({scrollTop:0})}goToBottom(){this._hover.scrollbar.setScrollPosition({scrollTop:this._hover.scrollbar.getScrollDimensions().scrollHeight})}};zI=El=Cve([FI(1,Xe),FI(2,_t),FI(3,yd),FI(4,Vt)],zI);function f$(n,t,e,i,o,r){let s=e+o/2,a=i+r/2,l=Math.max(Math.abs(n-s)-o/2,0),c=Math.max(Math.abs(t-a)-r/2,0);return Math.sqrt(l*l+c*c)}Oi();Ht();var BI=class n{get anchor(){return this._anchor}set anchor(t){this._anchor=t}get shouldFocus(){return this._shouldFocus}set shouldFocus(t){this._shouldFocus=t}get source(){return this._source}set source(t){this._source=t}get insistOnKeepingHoverVisible(){return this._insistOnKeepingHoverVisible}set insistOnKeepingHoverVisible(t){this._insistOnKeepingHoverVisible=t}constructor(t,e){this._editor=t,this._participants=e,this._anchor=null,this._shouldFocus=!1,this._source=0,this._insistOnKeepingHoverVisible=!1}static _getLineDecorations(t,e){if(e.type!==1&&!e.supportsMarkerHover)return[];let i=t.getModel(),o=e.range.startLineNumber;if(o>i.getLineCount())return[];let r=i.getLineMaxColumn(o);return t.getLineDecorations(o).filter(s=>{if(s.options.isWholeLine)return!0;let a=s.range.startLineNumber===o?s.range.startColumn:1,l=s.range.endLineNumber===o?s.range.endColumn:r;if(s.options.showIfCollapsed){if(a>e.range.startColumn+1||e.range.endColumn-1>l)return!1}else if(a>e.range.startColumn||e.range.endColumn>l)return!1;return!0})}computeAsync(t){let e=this._anchor;if(!this._editor.hasModel()||!e)return hr.EMPTY;let i=n._getLineDecorations(this._editor,e);return hr.merge(this._participants.map(o=>o.computeAsync?o.computeAsync(e,i,t):hr.EMPTY))}computeSync(){if(!this._editor.hasModel()||!this._anchor)return[];let t=n._getLineDecorations(this._editor,this._anchor),e=[];for(let i of this._participants)e=e.concat(i.computeSync(this._anchor,t));return Ko(e)}};var yb=class{constructor(t,e,i){this.anchor=t,this.hoverParts=e,this.isComplete=i}filter(t){let e=this.hoverParts.filter(i=>i.isValidForHoverAnchor(t));return e.length===this.hoverParts.length?this:new _L(this,this.anchor,e,this.isComplete)}},_L=class extends yb{constructor(t,e,i,o){super(e,i,o),this.original=t}filter(t){return this.original.filter(t)}};oi();ce();gt();ce();var Ive=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},Dve=function(n,t){return function(e,i){t(e,i,n)}},g$=ye,Hf=class extends U{get hasContent(){return this._hasContent}constructor(t){super(),this._keybindingService=t,this.actions=[],this._hasContent=!1,this.hoverElement=g$("div.hover-row.status-bar"),this.hoverElement.tabIndex=0,this.actionsElement=we(this.hoverElement,g$("div.actions"))}addAction(t){let e=this._keybindingService.lookupKeybinding(t.commandId),i=e?e.getLabel():null;this._hasContent=!0;let o=this._register(q4.render(this.actionsElement,t,i));return this.actions.push(o),o}append(t){let e=we(this.actionsElement,t);return this._hasContent=!0,e}};Hf=Ive([Dve(0,Vt)],Hf);bn();hi();qe();gt();gt();Oi();gi();Hs();ce();qe();Da();Ae();_n();Lt();gn();Vn();Zo();Bt();Ht();Ht();gi();Bt();tt();Lt();var vL=class{constructor(t,e,i){this.provider=t,this.hover=e,this.ordinal=i}};function Eve(n,t,e,i,o){return k(this,null,function*(){let r=yield Promise.resolve(n.provideHover(e,i,o)).catch(zt);if(!(!r||!kve(r)))return new vL(n,r,t)})}function xb(n,t,e,i,o=!1){let s=n.ordered(t,o).map((a,l)=>Eve(a,l,t,e,i));return hr.fromPromises(s).coalesce()}function _$(n,t,e,i,o=!1){return xb(n,t,e,i,o).map(r=>r.hover).toPromise()}oo("_executeHoverProvider",(n,t,e)=>{let i=n.get(ae);return _$(i.hoverProvider,t,e,Je.None)});oo("_executeHoverProvider_recursive",(n,t,e)=>{let i=n.get(ae);return _$(i.hoverProvider,t,e,Je.None,!0)});function kve(n){let t=typeof n.range<"u",e=typeof n.contents<"u"&&n.contents&&n.contents.length>0;return t&&e}Ui();var Mve=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},tm=function(n,t){return function(e,i){t(e,i,n)}},Vf=ye,Tve=Ii("hover-increase-verbosity",Ge.add,_("increaseHoverVerbosity","Icon for increaseing hover verbosity.")),Ave=Ii("hover-decrease-verbosity",Ge.remove,_("decreaseHoverVerbosity","Icon for decreasing hover verbosity.")),br=class{constructor(t,e,i,o,r,s=void 0){this.owner=t,this.range=e,this.contents=i,this.isBeforeContent=o,this.ordinal=r,this.source=s}isValidForHoverAnchor(t){return t.type===1&&this.range.startColumn<=t.range.startColumn&&this.range.endColumn>=t.range.endColumn}},HI=class{constructor(t,e,i){this.hover=t,this.hoverProvider=e,this.hoverPosition=i}supportsVerbosityAction(t){switch(t){case Sr.Increase:return this.hover.canIncreaseVerbosity??!1;case Sr.Decrease:return this.hover.canDecreaseVerbosity??!1}}},nu=class{constructor(t,e,i,o,r,s,a,l){this._editor=t,this._languageService=e,this._openerService=i,this._configurationService=o,this._languageFeaturesService=r,this._keybindingService=s,this._hoverService=a,this._commandService=l,this.hoverOrdinal=3}createLoadingMessage(t){return new br(this,t.range,[new hn().appendText(_("modesContentHover.loading","Loading..."))],!1,2e3)}computeSync(t,e){if(!this._editor.hasModel()||t.type!==1)return[];let i=this._editor.getModel(),o=t.range.startLineNumber,r=i.getLineMaxColumn(o),s=[],a=1e3,l=i.getLineLength(o),c=i.getLanguageIdAtPosition(t.range.startLineNumber,t.range.startColumn),d=this._editor.getOption(118),u=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:c}),h=!1;d>=0&&l>d&&t.range.startColumn>=d&&(h=!0,s.push(new br(this,t.range,[{value:_("stopped rendering","Rendering paused for long line for performance reasons. This can be configured via `editor.stopRenderingLineAfter`.")}],!1,a++))),!h&&typeof u=="number"&&l>=u&&s.push(new br(this,t.range,[{value:_("too many characters","Tokenization is skipped for long lines for performance reasons. This can be configured via `editor.maxTokenizationLineLength`.")}],!1,a++));let m=!1;for(let f of e){let p=f.range.startLineNumber===o?f.range.startColumn:1,g=f.range.endLineNumber===o?f.range.endColumn:r,v=f.options.hoverMessage;if(!v||bd(v))continue;f.options.beforeContentClassName&&(m=!0);let b=new A(t.range.startLineNumber,p,t.range.startLineNumber,g);s.push(new br(this,b,Dx(v),m,a++))}return s}computeAsync(t,e,i){if(!this._editor.hasModel()||t.type!==1)return hr.EMPTY;let o=this._editor.getModel(),r=this._languageFeaturesService.hoverProvider;return r.has(o)?this._getMarkdownHovers(r,o,t,i):hr.EMPTY}_getMarkdownHovers(t,e,i,o){let r=i.range.getStartPosition();return xb(t,e,r,o).filter(l=>!bd(l.hover.contents)).map(l=>{let c=l.hover.range?A.lift(l.hover.range):i.range,d=new HI(l.hover,l.provider,r);return new br(this,c,l.hover.contents,!1,l.ordinal,d)})}renderHoverParts(t,e){return this._renderedHoverParts=new bL(e,t.fragment,this,this._editor,this._languageService,this._openerService,this._commandService,this._keybindingService,this._hoverService,this._configurationService,t.onContentsChanged),this._renderedHoverParts}updateMarkdownHoverVerbosityLevel(t,e,i){return Promise.resolve(this._renderedHoverParts?.updateMarkdownHoverPartVerbosityLevel(t,e,i))}};nu=Mve([tm(1,Un),tm(2,Gn),tm(3,_t),tm(4,ae),tm(5,Vt),tm(6,pc),tm(7,ci)],nu);var Wf=class{constructor(t,e,i){this.hoverPart=t,this.hoverElement=e,this.disposables=i}dispose(){this.disposables.dispose()}},bL=class{constructor(t,e,i,o,r,s,a,l,c,d,u){this._hoverParticipant=i,this._editor=o,this._languageService=r,this._openerService=s,this._commandService=a,this._keybindingService=l,this._hoverService=c,this._configurationService=d,this._onFinishedRendering=u,this._ongoingHoverOperations=new Map,this._disposables=new G,this.renderedHoverParts=this._renderHoverParts(t,e,this._onFinishedRendering),this._disposables.add(Mt(()=>{this.renderedHoverParts.forEach(h=>{h.dispose()}),this._ongoingHoverOperations.forEach(h=>{h.tokenSource.dispose(!0)})}))}_renderHoverParts(t,e,i){return t.sort(nc(o=>o.ordinal,th)),t.map(o=>{let r=this._renderHoverPart(o,i);return e.appendChild(r.hoverElement),r})}_renderHoverPart(t,e){let i=this._renderMarkdownHover(t,e),o=i.hoverElement,r=t.source,s=new G;if(s.add(i),!r)return new Wf(t,o,s);let a=r.supportsVerbosityAction(Sr.Increase),l=r.supportsVerbosityAction(Sr.Decrease);if(!a&&!l)return new Wf(t,o,s);let c=Vf("div.verbosity-actions");return o.prepend(c),s.add(this._renderHoverExpansionAction(c,Sr.Increase,a)),s.add(this._renderHoverExpansionAction(c,Sr.Decrease,l)),new Wf(t,o,s)}_renderMarkdownHover(t,e){return b$(this._editor,t,this._languageService,this._openerService,e)}_renderHoverExpansionAction(t,e,i){let o=new G,r=e===Sr.Increase,s=we(t,Vf(St.asCSSSelector(r?Tve:Ave)));s.tabIndex=0;let a=new W4("mouse",!1,{target:t,position:{hoverPosition:0}},this._configurationService,this._hoverService);if(o.add(this._hoverService.setupManagedHover(a,s,Rve(this._keybindingService,e))),!i)return s.classList.add("disabled"),o;s.classList.add("enabled");let l=()=>this._commandService.executeCommand(e===Sr.Increase?Jh:em);return o.add(new $4(s,l)),o.add(new K4(s,l,[3,10])),o}updateMarkdownHoverPartVerbosityLevel(t,e,i=!0){return k(this,null,function*(){let o=this._editor.getModel();if(!o)return;let r=this._getRenderedHoverPartAtIndex(e),s=r?.hoverPart.source;if(!r||!s?.supportsVerbosityAction(t))return;let a=yield this._fetchHover(s,o,t);if(!a)return;let l=new HI(a,s.hoverProvider,s.hoverPosition),c=r.hoverPart,d=new br(this._hoverParticipant,c.range,a.contents,c.isBeforeContent,c.ordinal,l),u=this._renderHoverPart(d,this._onFinishedRendering);return this._replaceRenderedHoverPartAtIndex(e,u,d),i&&this._focusOnHoverPartWithIndex(e),{hoverPart:d,hoverElement:u.hoverElement}})}_fetchHover(t,e,i){return k(this,null,function*(){let o=i===Sr.Increase?1:-1,r=t.hoverProvider,s=this._ongoingHoverOperations.get(r);s&&(s.tokenSource.cancel(),o+=s.verbosityDelta);let a=new fi;this._ongoingHoverOperations.set(r,{verbosityDelta:o,tokenSource:a});let l={verbosityRequest:{verbosityDelta:o,previousHover:t.hover}},c;try{c=yield Promise.resolve(r.provideHover(e,t.hoverPosition,a.token,l))}catch(d){zt(d)}return a.dispose(),this._ongoingHoverOperations.delete(r),c})}_replaceRenderedHoverPartAtIndex(t,e,i){if(t>=this.renderedHoverParts.length||t<0)return;let o=this.renderedHoverParts[t],r=o.hoverElement,s=e.hoverElement,a=Array.from(s.children);r.replaceChildren(...a);let l=new Wf(i,r,e.disposables);r.focus(),o.dispose(),this.renderedHoverParts[t]=l}_focusOnHoverPartWithIndex(t){this.renderedHoverParts[t].hoverElement.focus()}_getRenderedHoverPartAtIndex(t){return this.renderedHoverParts[t]}dispose(){this._disposables.dispose()}};function v$(n,t,e,i,o){t.sort(nc(s=>s.ordinal,th));let r=[];for(let s of t)r.push(b$(e,s,i,o,n.onContentsChanged));return new Jr(r)}function b$(n,t,e,i,o){let r=new G,s=Vf("div.hover-row"),a=Vf("div.hover-row-contents");s.appendChild(a);let l=t.contents;for(let d of l){if(bd(d))continue;let u=Vf("div.markdown-hover"),h=we(u,Vf("div.hover-contents")),m=r.add(new Vs({editor:n},e,i));r.add(m.onDidRenderAsync(()=>{h.className="hover-contents code-hover-contents",o()}));let f=r.add(m.render(d));h.appendChild(f.element),a.appendChild(u)}return{hoverPart:t,hoverElement:s,dispose(){r.dispose()}}}function Rve(n,t){switch(t){case Sr.Increase:{let e=n.lookupKeybinding(Jh);return e?_("increaseVerbosityWithKb","Increase Hover Verbosity ({0})",e.getLabel()):_("increaseVerbosity","Increase Hover Verbosity")}case Sr.Decrease:{let e=n.lookupKeybinding(em);return e?_("decreaseVerbosityWithKb","Decrease Hover Verbosity ({0})",e.getLabel()):_("decreaseVerbosity","Decrease Hover Verbosity")}}}Ht();Hs();hi();bn();Da();cl();gt();Oi();Ht();gi();Bt();ce();uc();io();On();qe();gn();ka();bn();Fs();Lt();cl();oi();ce();Yo();function yL(n,t){return!!n[t]}var wb=class{constructor(t,e){this.target=t.target,this.isLeftClick=t.event.leftButton,this.isMiddleClick=t.event.middleButton,this.isRightClick=t.event.rightButton,this.hasTriggerModifier=yL(t.event,e.triggerModifier),this.hasSideBySideModifier=yL(t.event,e.triggerSideBySideModifier),this.isNoneOrSingleMouseDown=t.event.detail<=1}},VI=class{constructor(t,e){this.keyCodeIsTriggerKey=t.keyCode===e.triggerKey,this.keyCodeIsSideBySideKey=t.keyCode===e.triggerSideBySideKey,this.hasTriggerModifier=yL(t,e.triggerModifier)}},jf=class{constructor(t,e,i,o){this.triggerKey=t,this.triggerModifier=e,this.triggerSideBySideKey=i,this.triggerSideBySideModifier=o}equals(t){return this.triggerKey===t.triggerKey&&this.triggerModifier===t.triggerModifier&&this.triggerSideBySideKey===t.triggerSideBySideKey&&this.triggerSideBySideModifier===t.triggerSideBySideModifier}};function y$(n){return n==="altKey"?dr?new jf(57,"metaKey",6,"altKey"):new jf(5,"ctrlKey",6,"altKey"):dr?new jf(6,"altKey",57,"metaKey"):new jf(6,"altKey",5,"ctrlKey")}var kl=class extends U{constructor(t,e){super(),this._onMouseMoveOrRelevantKeyDown=this._register(new je),this.onMouseMoveOrRelevantKeyDown=this._onMouseMoveOrRelevantKeyDown.event,this._onExecute=this._register(new je),this.onExecute=this._onExecute.event,this._onCancel=this._register(new je),this.onCancel=this._onCancel.event,this._editor=t,this._extractLineNumberFromMouseEvent=e?.extractLineNumberFromMouseEvent??(i=>i.target.position?i.target.position.lineNumber:0),this._opts=y$(this._editor.getOption(78)),this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._register(this._editor.onDidChangeConfiguration(i=>{if(i.hasChanged(78)){let o=y$(this._editor.getOption(78));if(this._opts.equals(o))return;this._opts=o,this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._onCancel.fire()}})),this._register(this._editor.onMouseMove(i=>this._onEditorMouseMove(new wb(i,this._opts)))),this._register(this._editor.onMouseDown(i=>this._onEditorMouseDown(new wb(i,this._opts)))),this._register(this._editor.onMouseUp(i=>this._onEditorMouseUp(new wb(i,this._opts)))),this._register(this._editor.onKeyDown(i=>this._onEditorKeyDown(new VI(i,this._opts)))),this._register(this._editor.onKeyUp(i=>this._onEditorKeyUp(new VI(i,this._opts)))),this._register(this._editor.onMouseDrag(()=>this._resetHandler())),this._register(this._editor.onDidChangeCursorSelection(i=>this._onDidChangeCursorSelection(i))),this._register(this._editor.onDidChangeModel(i=>this._resetHandler())),this._register(this._editor.onDidChangeModelContent(()=>this._resetHandler())),this._register(this._editor.onDidScrollChange(i=>{(i.scrollTopChanged||i.scrollLeftChanged)&&this._resetHandler()}))}_onDidChangeCursorSelection(t){t.selection&&t.selection.startColumn!==t.selection.endColumn&&this._resetHandler()}_onEditorMouseMove(t){this._lastMouseMoveEvent=t,this._onMouseMoveOrRelevantKeyDown.fire([t,null])}_onEditorMouseDown(t){this._hasTriggerKeyOnMouseDown=t.hasTriggerModifier,this._lineNumberOnMouseDown=this._extractLineNumberFromMouseEvent(t)}_onEditorMouseUp(t){let e=this._extractLineNumberFromMouseEvent(t);this._hasTriggerKeyOnMouseDown&&this._lineNumberOnMouseDown&&this._lineNumberOnMouseDown===e&&this._onExecute.fire(t)}_onEditorKeyDown(t){this._lastMouseMoveEvent&&(t.keyCodeIsTriggerKey||t.keyCodeIsSideBySideKey&&t.hasTriggerModifier)?this._onMouseMoveOrRelevantKeyDown.fire([this._lastMouseMoveEvent,t]):t.hasTriggerModifier&&this._onCancel.fire()}_onEditorKeyUp(t){t.keyCodeIsTriggerKey&&this._onCancel.fire()}_resetHandler(){this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._onCancel.fire()}};Bt();ce();hi();qe();oh();On();var Cb=class{constructor(t,e){this.range=t,this.direction=e}},xL=class n{constructor(t,e,i){this.hint=t,this.anchor=e,this.provider=i,this._isResolved=!1}with(t){let e=new n(this.hint,t.anchor,this.provider);return e._isResolved=this._isResolved,e._currentResolve=this._currentResolve,e}resolve(t){return k(this,null,function*(){if(typeof this.provider.resolveInlayHint=="function"){if(this._currentResolve)return yield this._currentResolve,t.isCancellationRequested?void 0:this.resolve(t);this._isResolved||(this._currentResolve=this._doResolve(t).finally(()=>this._currentResolve=void 0)),yield this._currentResolve}})}_doResolve(t){return k(this,null,function*(){try{let e=yield Promise.resolve(this.provider.resolveInlayHint(this.hint,t));this.hint.tooltip=e?.tooltip??this.hint.tooltip,this.hint.label=e?.label??this.hint.label,this.hint.textEdits=e?.textEdits??this.hint.textEdits,this._isResolved=!0}catch(e){zt(e),this._isResolved=!1}})}},Sb=class n{static{this._emptyInlayHintList=Object.freeze({dispose(){},hints:[]})}static create(t,e,i,o){return k(this,null,function*(){let r=[],s=t.ordered(e).reverse().map(a=>i.map(l=>k(this,null,function*(){try{let c=yield a.provideInlayHints(e,l,o);(c?.hints.length||a.onDidChangeInlayHints)&&r.push([c??n._emptyInlayHintList,a])}catch(c){zt(c)}})));if(yield Promise.all(s.flat()),o.isCancellationRequested||e.isDisposed())throw new ud;return new n(i,r,e)})}constructor(t,e,i){this._disposables=new G,this.ranges=t,this.provider=new Set;let o=[];for(let[r,s]of e){this._disposables.add(r),this.provider.add(s);for(let a of r.hints){let l=i.validatePosition(a.position),c="before",d=n._getRangeAtPosition(i,l),u;d.getStartPosition().isBefore(l)?(u=A.fromPositions(d.getStartPosition(),l),c="after"):(u=A.fromPositions(l,d.getEndPosition()),c="before"),o.push(new xL(a,new Cb(u,c),s))}}this.items=o.sort((r,s)=>he.compare(r.hint.position,s.hint.position))}dispose(){this._disposables.dispose()}static _getRangeAtPosition(t,e){let i=e.lineNumber,o=t.getWordAtPosition(e);if(o)return new A(i,o.startColumn,i,o.endColumn);t.tokenization.tokenizeIfCheap(i);let r=t.tokenization.getLineTokens(i),s=e.column-1,a=r.findTokenIndexAtOffset(s),l=r.getStartOffset(a),c=r.getEndOffset(a);return c-l===1&&(l===s&&a>1?(l=r.getStartOffset(a-1),c=r.getEndOffset(a-1)):c===s&&a<r.getCount()-1&&(l=r.getStartOffset(a+1),c=r.getEndOffset(a+1))),new A(i,l+1,i,c+1)}};function x$(n){return ht.from({scheme:Ln.command,path:n.id,query:n.arguments&&encodeURIComponent(JSON.stringify(n.arguments))}).toString()}gt();lh();gi();qe();cl();Ht();oc();io();On();_h();tt();Fo();GT();Fo();Jo();Lt();Ui();mt();Ot();Do();var Ove=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},Lc=function(n,t){return function(e,i){t(e,i,n)}},yo=class extends CU{constructor(t,e,i,o,r,s,a,l,c,d,u,h,m){super(t,Te(j({},o.getRawOptions()),{overflowWidgetsDomNode:o.getOverflowWidgetsDomNode()}),i,r,s,a,l,c,d,u,h,m),this._parentEditor=o,this._overwriteOptions=e,super.updateOptions(this._overwriteOptions),this._register(o.onDidChangeConfiguration(f=>this._onParentConfigurationChanged(f)))}getParentEditor(){return this._parentEditor}_onParentConfigurationChanged(t){super.updateOptions(this._parentEditor.getRawOptions()),super.updateOptions(this._overwriteOptions)}updateOptions(t){Jm(this._overwriteOptions,t,!0),super.updateOptions(this._overwriteOptions)}};yo=Ove([Lc(4,De),Lc(5,Xt),Lc(6,ci),Lc(7,Xe),Lc(8,qn),Lc(9,Bi),Lc(10,yd),Lc(11,_i),Lc(12,ae)],yo);hi();qe();$t();gn();Ht();Bt();oc();ce();Fo();hi();qe();gt();lh();Vn();Zo();ml();oi();GT();tt();Fo();gt();ml();ce();GT();qe();bn();var C$=new It(new Ma(0,122,204)),Pve={showArrow:!0,showFrame:!0,className:"",frameColor:C$,arrowColor:C$,keepEditorSelection:!1},Lve="vs.editor.contrib.zoneWidget",wL=class{constructor(t,e,i,o,r,s,a,l){this.id="",this.domNode=t,this.afterLineNumber=e,this.afterColumn=i,this.heightInLines=o,this.showInHiddenAreas=a,this.ordinal=l,this._onDomNodeTop=r,this._onComputedHeight=s}onDomNodeTop(t){this._onDomNodeTop(t)}onComputedHeight(t){this._onComputedHeight(t)}},CL=class{constructor(t,e){this._id=t,this._domNode=e}getId(){return this._id}getDomNode(){return this._domNode}getPosition(){return null}},SL=class n{static{this._IdGenerator=new d5(".arrow-decoration-")}constructor(t){this._editor=t,this._ruleName=n._IdGenerator.nextId(),this._decorations=this._editor.createDecorationsCollection(),this._color=null,this._height=-1}dispose(){this.hide(),rA(this._ruleName)}set color(t){this._color!==t&&(this._color=t,this._updateStyle())}set height(t){this._height!==t&&(this._height=t,this._updateStyle())}_updateStyle(){rA(this._ruleName),Vj(`.monaco-editor ${this._ruleName}`,`border-style: solid; border-color: transparent; border-bottom-color: ${this._color}; border-width: ${this._height}px; bottom: -${this._height}px !important; margin-left: -${this._height}px; `)}show(t){t.column===1&&(t={lineNumber:t.lineNumber,column:2}),this._decorations.set([{range:A.fromPositions(t),options:{description:"zone-widget-arrow",className:this._ruleName,stickiness:1}}])}hide(){this._decorations.clear()}},WI=class{constructor(t,e={}){this._arrow=null,this._overlayWidget=null,this._resizeSash=null,this._viewZone=null,this._disposables=new G,this.container=null,this._isShowing=!1,this.editor=t,this._positionMarkerId=this.editor.createDecorationsCollection(),this.options=QW(e),Jm(this.options,Pve,!1),this.domNode=document.createElement("div"),this.options.isAccessible||(this.domNode.setAttribute("aria-hidden","true"),this.domNode.setAttribute("role","presentation")),this._disposables.add(this.editor.onDidLayoutChange(i=>{let o=this._getWidth(i);this.domNode.style.width=o+"px",this.domNode.style.left=this._getLeft(i)+"px",this._onWidth(o)}))}dispose(){this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._viewZone&&this.editor.changeViewZones(t=>{this._viewZone&&t.removeZone(this._viewZone.id),this._viewZone=null}),this._positionMarkerId.clear(),this._disposables.dispose()}create(){this.domNode.classList.add("zone-widget"),this.options.className&&this.domNode.classList.add(this.options.className),this.container=document.createElement("div"),this.container.classList.add("zone-widget-container"),this.domNode.appendChild(this.container),this.options.showArrow&&(this._arrow=new SL(this.editor),this._disposables.add(this._arrow)),this._fillContainer(this.container),this._initSash(),this._applyStyles()}style(t){t.frameColor&&(this.options.frameColor=t.frameColor),t.arrowColor&&(this.options.arrowColor=t.arrowColor),this._applyStyles()}_applyStyles(){if(this.container&&this.options.frameColor){let t=this.options.frameColor.toString();this.container.style.borderTopColor=t,this.container.style.borderBottomColor=t}if(this._arrow&&this.options.arrowColor){let t=this.options.arrowColor.toString();this._arrow.color=t}}_getWidth(t){return t.width-t.minimap.minimapWidth-t.verticalScrollbarWidth}_getLeft(t){return t.minimap.minimapWidth>0&&t.minimap.minimapLeft===0?t.minimap.minimapWidth:0}_onViewZoneTop(t){this.domNode.style.top=t+"px"}_onViewZoneHeight(t){if(this.domNode.style.height=`${t}px`,this.container){let e=t-this._decoratingElementsHeight();this.container.style.height=`${e}px`;let i=this.editor.getLayoutInfo();this._doLayout(e,this._getWidth(i))}this._resizeSash?.layout()}get position(){let t=this._positionMarkerId.getRange(0);if(t)return t.getStartPosition()}show(t,e){let i=A.isIRange(t)?A.lift(t):A.fromPositions(t);this._isShowing=!0,this._showImpl(i,e),this._isShowing=!1,this._positionMarkerId.set([{range:i,options:at.EMPTY}])}hide(){this._viewZone&&(this.editor.changeViewZones(t=>{this._viewZone&&t.removeZone(this._viewZone.id)}),this._viewZone=null),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._arrow?.hide(),this._positionMarkerId.clear()}_decoratingElementsHeight(){let t=this.editor.getOption(67),e=0;if(this.options.showArrow){let i=Math.round(t/3);e+=2*i}if(this.options.showFrame){let i=Math.round(t/9);e+=2*i}return e}_showImpl(t,e){let i=t.getStartPosition(),o=this.editor.getLayoutInfo(),r=this._getWidth(o);this.domNode.style.width=`${r}px`,this.domNode.style.left=this._getLeft(o)+"px";let s=document.createElement("div");s.style.overflow="hidden";let a=this.editor.getOption(67);if(!this.options.allowUnlimitedHeight){let h=Math.max(12,this.editor.getLayoutInfo().height/a*.8);e=Math.min(e,h)}let l=0,c=0;if(this._arrow&&this.options.showArrow&&(l=Math.round(a/3),this._arrow.height=l,this._arrow.show(i)),this.options.showFrame&&(c=Math.round(a/9)),this.editor.changeViewZones(h=>{this._viewZone&&h.removeZone(this._viewZone.id),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this.domNode.style.top="-1000px",this._viewZone=new wL(s,i.lineNumber,i.column,e,m=>this._onViewZoneTop(m),m=>this._onViewZoneHeight(m),this.options.showInHiddenAreas,this.options.ordinal),this._viewZone.id=h.addZone(this._viewZone),this._overlayWidget=new CL(Lve+this._viewZone.id,this.domNode),this.editor.addOverlayWidget(this._overlayWidget)}),this.container&&this.options.showFrame){let h=this.options.frameWidth?this.options.frameWidth:c;this.container.style.borderTopWidth=h+"px",this.container.style.borderBottomWidth=h+"px"}let d=e*a-this._decoratingElementsHeight();this.container&&(this.container.style.top=l+"px",this.container.style.height=d+"px",this.container.style.overflow="hidden"),this._doLayout(d,r),this.options.keepEditorSelection||this.editor.setSelection(t);let u=this.editor.getModel();if(u){let h=u.validateRange(new A(t.startLineNumber,1,t.endLineNumber+1,1));this.revealRange(h,h.startLineNumber===u.getLineCount())}}revealRange(t,e){e?this.editor.revealLineNearTop(t.endLineNumber,0):this.editor.revealRange(t,0)}setCssClass(t,e){this.container&&(e&&this.container.classList.remove(e),this.container.classList.add(t))}_onWidth(t){}_doLayout(t,e){}_relayout(t){this._viewZone&&this._viewZone.heightInLines!==t&&this.editor.changeViewZones(e=>{this._viewZone&&(this._viewZone.heightInLines=t,e.layoutZone(this._viewZone.id))})}_initSash(){if(this._resizeSash)return;this._resizeSash=this._disposables.add(new wc(this.domNode,this,{orientation:1})),this.options.isResizeable||(this._resizeSash.state=0);let t;this._disposables.add(this._resizeSash.onDidStart(e=>{this._viewZone&&(t={startY:e.startY,heightInLines:this._viewZone.heightInLines})})),this._disposables.add(this._resizeSash.onDidEnd(()=>{t=void 0})),this._disposables.add(this._resizeSash.onDidChange(e=>{if(t){let i=(e.currentY-t.startY)/this.editor.getOption(67),o=i<0?Math.ceil(i):Math.floor(i),r=t.heightInLines+o;r>5&&r<35&&this._relayout(r)}}))}getHorizontalSashLeft(){return 0}getHorizontalSashTop(){return(this.domNode.style.height===null?0:parseInt(this.domNode.style.height))-this._decoratingElementsHeight()/2}getHorizontalSashWidth(){let t=this.editor.getLayoutInfo();return t.width-t.minimap.minimapWidth}};Ae();mt();cc();Ot();Eo();var S$=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},I$=function(n,t){return function(e,i){t(e,i,n)}},IL=No("IPeekViewService");zo(IL,class{constructor(){this._widgets=new Map}addExclusiveWidget(n,t){let e=this._widgets.get(n);e&&(e.listener.dispose(),e.widget.dispose());let i=()=>{let o=this._widgets.get(n);o&&o.widget===t&&(o.listener.dispose(),this._widgets.delete(n))};this._widgets.set(n,{widget:t,listener:t.onDidClose(i)})}},1);var xo;(function(n){n.inPeekEditor=new ot("inReferenceSearchEditor",!0,_("inReferenceSearchEditor","Whether the current code editor is embedded inside peek")),n.notInPeekEditor=n.inPeekEditor.toNegated()})(xo||(xo={}));var jI=class{static{this.ID="editor.contrib.referenceController"}constructor(t,e){t instanceof yo&&xo.inPeekEditor.bindTo(e)}dispose(){}};jI=S$([I$(1,Xe)],jI);Me(jI.ID,jI,0);function D$(n){let t=n.get(Xt).getFocusedCodeEditor();return t instanceof yo?t.getParentEditor():t}var Nve={headerBackgroundColor:It.white,primaryHeadingColor:It.fromHex("#333333"),secondaryHeadingColor:It.fromHex("#6c6c6cb3")},Uf=class extends WI{constructor(t,e,i){super(t,e),this.instantiationService=i,this._onDidClose=new je,this.onDidClose=this._onDidClose.event,Jm(this.options,Nve,!1)}dispose(){this.disposed||(this.disposed=!0,super.dispose(),this._onDidClose.fire(this))}style(t){let e=this.options;t.headerBackgroundColor&&(e.headerBackgroundColor=t.headerBackgroundColor),t.primaryHeadingColor&&(e.primaryHeadingColor=t.primaryHeadingColor),t.secondaryHeadingColor&&(e.secondaryHeadingColor=t.secondaryHeadingColor),super.style(t)}_applyStyles(){super._applyStyles();let t=this.options;this._headElement&&t.headerBackgroundColor&&(this._headElement.style.backgroundColor=t.headerBackgroundColor.toString()),this._primaryHeading&&t.primaryHeadingColor&&(this._primaryHeading.style.color=t.primaryHeadingColor.toString()),this._secondaryHeading&&t.secondaryHeadingColor&&(this._secondaryHeading.style.color=t.secondaryHeadingColor.toString()),this._bodyElement&&t.frameColor&&(this._bodyElement.style.borderColor=t.frameColor.toString())}_fillContainer(t){this.setCssClass("peekview-widget"),this._headElement=ye(".head"),this._bodyElement=ye(".body"),this._fillHead(this._headElement),this._fillBody(this._bodyElement),t.appendChild(this._headElement),t.appendChild(this._bodyElement)}_fillHead(t,e){this._titleElement=ye(".peekview-title"),this.options.supportOnTitleClick&&(this._titleElement.classList.add("clickable"),mr(this._titleElement,"click",r=>this._onTitleClick(r))),we(this._headElement,this._titleElement),this._fillTitleIcon(this._titleElement),this._primaryHeading=ye("span.filename"),this._secondaryHeading=ye("span.dirname"),this._metaHeading=ye("span.meta"),we(this._titleElement,this._primaryHeading,this._secondaryHeading,this._metaHeading);let i=ye(".peekview-actions");we(this._headElement,i);let o=this._getActionBarOptions();this._actionbarWidget=new xc(i,o),this._disposables.add(this._actionbarWidget),e||this._actionbarWidget.push(new dl("peekview.close",_("label.close","Close"),St.asClassName(Ge.close),!0,()=>(this.dispose(),Promise.resolve())),{label:!1,icon:!0})}_fillTitleIcon(t){}_getActionBarOptions(){return{actionViewItemProvider:V5.bind(void 0,this.instantiationService),orientation:0}}_onTitleClick(t){}setTitle(t,e){this._primaryHeading&&this._secondaryHeading&&(this._primaryHeading.innerText=t,this._primaryHeading.setAttribute("title",t),e?this._secondaryHeading.innerText=e:Dr(this._secondaryHeading))}setMetaTitle(t){this._metaHeading&&(t?(this._metaHeading.innerText=t,Xo(this._metaHeading)):Io(this._metaHeading))}_doLayout(t,e){if(!this._isShowing&&t<0){this.dispose();return}let i=Math.ceil(this.editor.getOption(67)*1.2),o=Math.round(t-(i+2));this._doLayoutHead(i,e),this._doLayoutBody(o,e)}_doLayoutHead(t,e){this._headElement&&(this._headElement.style.height=`${t}px`,this._headElement.style.lineHeight=this._headElement.style.height)}_doLayoutBody(t,e){this._bodyElement&&(this._bodyElement.style.height=`${t}px`)}};Uf=S$([I$(2,De)],Uf);var E$=Oe("peekViewTitle.background",{dark:"#252526",light:"#F3F3F3",hcDark:It.black,hcLight:It.white},_("peekViewTitleBackground","Background color of the peek view title area.")),UI=Oe("peekViewTitleLabel.foreground",{dark:It.white,light:It.black,hcDark:It.white,hcLight:uh},_("peekViewTitleForeground","Color of the peek view title.")),qI=Oe("peekViewTitleDescription.foreground",{dark:"#ccccccb3",light:"#616161",hcDark:"#FFFFFF99",hcLight:"#292929"},_("peekViewTitleInfoForeground","Color of the peek view title info.")),k$=Oe("peekView.border",{dark:G_,light:G_,hcDark:zs,hcLight:zs},_("peekViewBorder","Color of the peek view borders and arrow.")),M$=Oe("peekViewResult.background",{dark:"#252526",light:"#F3F3F3",hcDark:It.black,hcLight:It.white},_("peekViewResultsBackground","Background color of the peek view result list.")),Eut=Oe("peekViewResult.lineForeground",{dark:"#bbbbbb",light:"#646465",hcDark:It.white,hcLight:uh},_("peekViewResultsMatchForeground","Foreground color for line nodes in the peek view result list.")),kut=Oe("peekViewResult.fileForeground",{dark:It.white,light:"#1E1E1E",hcDark:It.white,hcLight:uh},_("peekViewResultsFileForeground","Foreground color for file nodes in the peek view result list.")),Mut=Oe("peekViewResult.selectionBackground",{dark:"#3399ff33",light:"#3399ff33",hcDark:null,hcLight:null},_("peekViewResultsSelectionBackground","Background color of the selected entry in the peek view result list.")),Tut=Oe("peekViewResult.selectionForeground",{dark:It.white,light:"#6C6C6C",hcDark:It.white,hcLight:uh},_("peekViewResultsSelectionForeground","Foreground color of the selected entry in the peek view result list.")),T$=Oe("peekViewEditor.background",{dark:"#001F33",light:"#F2F8FC",hcDark:It.black,hcLight:It.white},_("peekViewEditorBackground","Background color of the peek view editor.")),Aut=Oe("peekViewEditorGutter.background",T$,_("peekViewEditorGutterBackground","Background color of the gutter in the peek view editor.")),Rut=Oe("peekViewEditorStickyScroll.background",T$,_("peekViewEditorStickScrollBackground","Background color of sticky scroll in the peek view editor.")),Out=Oe("peekViewResult.matchHighlightBackground",{dark:"#ea5c004d",light:"#ea5c004d",hcDark:null,hcLight:null},_("peekViewResultsMatchHighlight","Match highlight color in the peek view result list.")),Put=Oe("peekViewEditor.matchHighlightBackground",{dark:"#ff8f0099",light:"#f5d802de",hcDark:null,hcLight:null},_("peekViewEditorMatchHighlight","Match highlight color in the peek view editor.")),Lut=Oe("peekViewEditor.matchHighlightBorder",{dark:null,light:null,hcDark:fl,hcLight:fl},_("peekViewEditorMatchHighlightBorder","Match highlight border in the peek view editor."));Ae();Ui();_n();mt();Ot();aA();Bt();oi();ce();uc();Ur();Fi();qe();Ae();var xs=class{constructor(t,e,i,o){this.isProviderFirst=t,this.parent=e,this.link=i,this._rangeCallback=o,this.id=u5.nextId()}get uri(){return this.link.uri}get range(){return this._range??this.link.targetSelectionRange??this.link.range}set range(t){this._range=t,this._rangeCallback(this)}get ariaMessage(){let t=this.parent.getPreview(this)?.preview(this.range);return t?_({key:"aria.oneReference.preview",comment:["Placeholders are: 0: filename, 1:line number, 2: column number, 3: preview snippet of source code"]},"{0} in {1} on line {2} at column {3}",t.value,fr(this.uri),this.range.startLineNumber,this.range.startColumn):_("aria.oneReference","in {0} on line {1} at column {2}",fr(this.uri),this.range.startLineNumber,this.range.startColumn)}},DL=class{constructor(t){this._modelReference=t}dispose(){this._modelReference.dispose()}preview(t,e=8){let i=this._modelReference.object.textEditorModel;if(!i)return;let{startLineNumber:o,startColumn:r,endLineNumber:s,endColumn:a}=t,l=i.getWordUntilPosition({lineNumber:o,column:r-e}),c=new A(o,l.startColumn,o,r),d=new A(s,a,s,1073741824),u=i.getValueInRange(c).replace(/^\s+/,""),h=i.getValueInRange(t),m=i.getValueInRange(d).replace(/\s+$/,"");return{value:u+h+m,highlight:{start:u.length,end:u.length+h.length}}}},Nc=class{constructor(t,e){this.parent=t,this.uri=e,this.children=[],this._previews=new Ea}dispose(){cn(this._previews.values()),this._previews.clear()}getPreview(t){return this._previews.get(t.uri)}get ariaMessage(){let t=this.children.length;return t===1?_("aria.fileReferences.1","1 symbol in {0}, full path {1}",fr(this.uri),this.uri.fsPath):_("aria.fileReferences.N","{0} symbols in {1}, full path {2}",t,fr(this.uri),this.uri.fsPath)}resolve(t){return k(this,null,function*(){if(this._previews.size!==0)return this;for(let e of this.children)if(!this._previews.has(e.uri))try{let i=yield t.createModelReference(e.uri);this._previews.set(e.uri,new DL(i))}catch(i){ut(i)}return this})}},yr=class n{constructor(t,e){this.groups=[],this.references=[],this._onDidChangeReferenceRange=new je,this.onDidChangeReferenceRange=this._onDidChangeReferenceRange.event,this._links=t,this._title=e;let[i]=t;t.sort(n._compareReferences);let o;for(let r of t)if((!o||!wA.isEqual(o.uri,r.uri,!0))&&(o=new Nc(this,r.uri),this.groups.push(o)),o.children.length===0||n._compareReferences(r,o.children[o.children.length-1])!==0){let s=new xs(i===r,o,r,a=>this._onDidChangeReferenceRange.fire(a));this.references.push(s),o.children.push(s)}}dispose(){cn(this.groups),this._onDidChangeReferenceRange.dispose(),this.groups.length=0}clone(){return new n(this._links,this._title)}get title(){return this._title}get isEmpty(){return this.groups.length===0}get ariaMessage(){return this.isEmpty?_("aria.result.0","No results found"):this.references.length===1?_("aria.result.1","Found 1 symbol in {0}",this.references[0].uri.fsPath):this.groups.length===1?_("aria.result.n1","Found {0} symbols in {1}",this.references.length,this.groups[0].uri.fsPath):_("aria.result.nm","Found {0} symbols in {1} files",this.references.length,this.groups.length)}nextOrPreviousReference(t,e){let{parent:i}=t,o=i.children.indexOf(t),r=i.children.length,s=i.parent.groups.length;return s===1||e&&o+1<r||!e&&o>0?(e?o=(o+1)%r:o=(o+r-1)%r,i.children[o]):(o=i.parent.groups.indexOf(i),e?(o=(o+1)%s,i.parent.groups[o].children[0]):(o=(o+s-1)%s,i.parent.groups[o].children[i.parent.groups[o].children.length-1]))}nearestReference(t,e){let i=this.references.map((o,r)=>({idx:r,prefixLen:rl(o.uri.toString(),t.toString()),offsetDist:Math.abs(o.range.startLineNumber-e.lineNumber)*100+Math.abs(o.range.startColumn-e.column)})).sort((o,r)=>o.prefixLen>r.prefixLen?-1:o.prefixLen<r.prefixLen?1:o.offsetDist<r.offsetDist?-1:o.offsetDist>r.offsetDist?1:0)[0];if(i)return this.references[i.idx]}referenceAt(t,e){for(let i of this.references)if(i.uri.toString()===t.toString()&&A.containsPosition(i.range,e))return i}firstReference(){for(let t of this.references)if(t.isProviderFirst)return t;return this.references[0]}static _compareReferences(t,e){return wA.compare(t.uri,e.uri)||A.compareRangesUsingStarts(t.range,e.range)}};gt();ml();oi();ce();oh();Ur();qe();bn();qx();cl();gt();_c();ce();Ur();cl();Ae();Ot();var ZI=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},QI=function(n,t){return function(e,i){t(e,i,n)}},EL,GI=class{constructor(t){this._resolverService=t}hasChildren(t){return t instanceof yr||t instanceof Nc}getChildren(t){if(t instanceof yr)return t.groups;if(t instanceof Nc)return t.resolve(this._resolverService).then(e=>e.children);throw new Error("bad tree")}};GI=ZI([QI(0,no)],GI);var $I=class{getHeight(){return 23}getTemplateId(t){return t instanceof Nc?Ib.id:TL.id}},KI=class{constructor(t){this._keybindingService=t}getKeyboardNavigationLabel(t){if(t instanceof xs){let e=t.parent.getPreview(t)?.preview(t.range);if(e)return e.value}return fr(t.uri)}};KI=ZI([QI(0,Vt)],KI);var YI=class{getId(t){return t instanceof xs?t.id:t.uri}},kL=class extends U{constructor(t,e){super(),this._labelService=e;let i=document.createElement("div");i.classList.add("reference-file"),this.file=this._register(new Ew(i,{supportHighlights:!0})),this.badge=new eU(we(i,ye(".count")),{},z5),t.appendChild(i)}set(t,e){let i=gp(t.uri);this.file.setLabel(this._labelService.getUriBasenameLabel(t.uri),this._labelService.getUriLabel(i,{relative:!0}),{title:this._labelService.getUriLabel(t.uri),matches:e});let o=t.children.length;this.badge.setCount(o),o>1?this.badge.setTitleFormat(_("referencesCount","{0} references",o)):this.badge.setTitleFormat(_("referenceCount","{0} reference",o))}};kL=ZI([QI(1,vc)],kL);var Ib=class{static{EL=this}static{this.id="FileReferencesRenderer"}constructor(e){this._instantiationService=e,this.templateId=EL.id}renderTemplate(e){return this._instantiationService.createInstance(kL,e)}renderElement(e,i,o){o.set(e.element,hh(e.filterData))}disposeTemplate(e){e.dispose()}};Ib=EL=ZI([QI(0,De)],Ib);var ML=class extends U{constructor(t){super(),this.label=this._register(new cU(t))}set(t,e){let i=t.parent.getPreview(t)?.preview(t.range);if(!i||!i.value)this.label.set(`${fr(t.uri)}:${t.range.startLineNumber+1}:${t.range.startColumn+1}`);else{let{value:o,highlight:r}=i;e&&!gc.isDefault(e)?(this.label.element.classList.toggle("referenceMatch",!1),this.label.set(o,hh(e))):(this.label.element.classList.toggle("referenceMatch",!0),this.label.set(o,[r]))}}},TL=(()=>{class n{constructor(){this.templateId=n.id}static{this.id="OneReferenceRenderer"}renderTemplate(e){return new ML(e)}renderElement(e,i,o){o.set(e.element,e.filterData)}disposeTemplate(e){e.dispose()}}return n})(),XI=class{getWidgetAriaLabel(){return _("treeAriaLabel","References")}getAriaLabel(t){return t.ariaMessage}};Ae();Ot();Do();var zve=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},qf=function(n,t){return function(e,i){t(e,i,n)}},AL=class n{static{this.DecorationOptions=at.register({description:"reference-decoration",stickiness:1,className:"reference-decoration"})}constructor(t,e){this._editor=t,this._model=e,this._decorations=new Map,this._decorationIgnoreSet=new Set,this._callOnDispose=new G,this._callOnModelChange=new G,this._callOnDispose.add(this._editor.onDidChangeModel(()=>this._onModelChanged())),this._onModelChanged()}dispose(){this._callOnModelChange.dispose(),this._callOnDispose.dispose(),this.removeDecorations()}_onModelChanged(){this._callOnModelChange.clear();let t=this._editor.getModel();if(t){for(let e of this._model.references)if(e.uri.toString()===t.uri.toString()){this._addDecorations(e.parent);return}}}_addDecorations(t){if(!this._editor.hasModel())return;this._callOnModelChange.add(this._editor.getModel().onDidChangeDecorations(()=>this._onDecorationChanged()));let e=[],i=[];for(let o=0,r=t.children.length;o<r;o++){let s=t.children[o];this._decorationIgnoreSet.has(s.id)||s.uri.toString()===this._editor.getModel().uri.toString()&&(e.push({range:s.range,options:n.DecorationOptions}),i.push(o))}this._editor.changeDecorations(o=>{let r=o.deltaDecorations([],e);for(let s=0;s<r.length;s++)this._decorations.set(r[s],t.children[i[s]])})}_onDecorationChanged(){let t=[],e=this._editor.getModel();if(e){for(let[i,o]of this._decorations){let r=e.getDecorationRange(i);if(!r)continue;let s=!1;if(!A.equalsRange(r,o.range)){if(A.spansMultipleLines(r))s=!0;else{let a=o.range.endColumn-o.range.startColumn,l=r.endColumn-r.startColumn;a!==l&&(s=!0)}s?(this._decorationIgnoreSet.add(o.id),t.push(i)):o.range=r}}for(let i=0,o=t.length;i<o;i++)this._decorations.delete(t[i]);this._editor.removeDecorations(t)}}removeDecorations(){this._editor.removeDecorations([...this._decorations.keys()]),this._decorations.clear()}},JI=class{constructor(){this.ratio=.7,this.heightInLines=18}static fromJSON(t){let e,i;try{let o=JSON.parse(t);e=o.ratio,i=o.heightInLines}catch{}return{ratio:e||.7,heightInLines:i||18}}},RL=class extends lU{},eD=class extends Uf{constructor(t,e,i,o,r,s,a,l,c){super(t,{showFrame:!1,showArrow:!0,isResizeable:!0,isAccessible:!0,supportOnTitleClick:!0},s),this._defaultTreeKeyboardSupport=e,this.layoutData=i,this._textModelResolverService=r,this._instantiationService=s,this._peekViewService=a,this._uriLabel=l,this._keybindingService=c,this._disposeOnNewModel=new G,this._callOnDispose=new G,this._onDidSelectReference=new je,this.onDidSelectReference=this._onDidSelectReference.event,this._dim=new ai(0,0),this._isClosing=!1,this._applyTheme(o.getColorTheme()),this._callOnDispose.add(o.onDidColorThemeChange(this._applyTheme.bind(this))),this._peekViewService.addExclusiveWidget(t,this),this.create()}get isClosing(){return this._isClosing}dispose(){this._isClosing=!0,this.setModel(void 0),this._callOnDispose.dispose(),this._disposeOnNewModel.dispose(),cn(this._preview),cn(this._previewNotAvailableMessage),cn(this._tree),cn(this._previewModelReference),this._splitView.dispose(),super.dispose()}_applyTheme(t){let e=t.getColor(k$)||It.transparent;this.style({arrowColor:e,frameColor:e,headerBackgroundColor:t.getColor(E$)||It.transparent,primaryHeadingColor:t.getColor(UI),secondaryHeadingColor:t.getColor(qI)})}show(t){super.show(t,this.layoutData.heightInLines||18)}focusOnReferenceTree(){this._tree.domFocus()}focusOnPreviewEditor(){this._preview.focus()}isPreviewEditorFocused(){return this._preview.hasTextFocus()}_onTitleClick(t){this._preview&&this._preview.getModel()&&this._onDidSelectReference.fire({element:this._getFocusedReference(),kind:t.ctrlKey||t.metaKey||t.altKey?"side":"open",source:"title"})}_fillBody(t){this.setCssClass("reference-zone-widget"),this._messageContainer=we(t,ye("div.messages")),Io(this._messageContainer),this._splitView=new sU(t,{orientation:1}),this._previewContainer=we(t,ye("div.preview.inline"));let e={scrollBeyondLastLine:!1,scrollbar:{verticalScrollbarSize:14,horizontal:"auto",useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,alwaysConsumeMouseWheel:!0},overviewRulerLanes:2,fixedOverflowWidgets:!0,minimap:{enabled:!1}};this._preview=this._instantiationService.createInstance(yo,this._previewContainer,e,{},this.editor),Io(this._previewContainer),this._previewNotAvailableMessage=this._instantiationService.createInstance(Ra,_("missingPreviewMessage","no preview available"),dc,Ra.DEFAULT_CREATION_OPTIONS,null),this._treeContainer=we(t,ye("div.ref-tree.inline"));let i={keyboardSupport:this._defaultTreeKeyboardSupport,accessibilityProvider:new XI,keyboardNavigationLabelProvider:this._instantiationService.createInstance(KI),identityProvider:new YI,openOnSingleClick:!0,selectionNavigation:!0,overrideStyles:{listBackground:M$}};this._defaultTreeKeyboardSupport&&this._callOnDispose.add(mr(this._treeContainer,"keydown",r=>{r.equals(9)&&(this._keybindingService.dispatchEvent(r,r.target),r.stopPropagation())},!0)),this._tree=this._instantiationService.createInstance(RL,"ReferencesWidget",this._treeContainer,new $I,[this._instantiationService.createInstance(Ib),this._instantiationService.createInstance(TL)],this._instantiationService.createInstance(GI),i),this._splitView.addView({onDidChange:bi.None,element:this._previewContainer,minimumSize:200,maximumSize:Number.MAX_VALUE,layout:r=>{this._preview.layout({height:this._dim.height,width:r})}},RA.Distribute),this._splitView.addView({onDidChange:bi.None,element:this._treeContainer,minimumSize:100,maximumSize:Number.MAX_VALUE,layout:r=>{this._treeContainer.style.height=`${this._dim.height}px`,this._treeContainer.style.width=`${r}px`,this._tree.layout(this._dim.height,r)}},RA.Distribute),this._disposables.add(this._splitView.onDidSashChange(()=>{this._dim.width&&(this.layoutData.ratio=this._splitView.getViewSize(0)/this._dim.width)},void 0));let o=(r,s)=>{r instanceof xs&&(s==="show"&&this._revealReference(r,!1),this._onDidSelectReference.fire({element:r,kind:s,source:"tree"}))};this._disposables.add(this._tree.onDidOpen(r=>{r.sideBySide?o(r.element,"side"):r.editorOptions.pinned?o(r.element,"goto"):o(r.element,"show")})),Io(this._treeContainer)}_onWidth(t){this._dim&&this._doLayoutBody(this._dim.height,t)}_doLayoutBody(t,e){super._doLayoutBody(t,e),this._dim=new ai(e,t),this.layoutData.heightInLines=this._viewZone?this._viewZone.heightInLines:this.layoutData.heightInLines,this._splitView.layout(e),this._splitView.resizeView(0,e*this.layoutData.ratio)}setSelection(t){return this._revealReference(t,!0).then(()=>{this._model&&(this._tree.setSelection([t]),this._tree.setFocus([t]))})}setModel(t){return this._disposeOnNewModel.clear(),this._model=t,this._model?this._onNewModel():Promise.resolve()}_onNewModel(){return this._model?this._model.isEmpty?(this.setTitle(""),this._messageContainer.innerText=_("noResults","No results"),Xo(this._messageContainer),Promise.resolve(void 0)):(Io(this._messageContainer),this._decorationsManager=new AL(this._preview,this._model),this._disposeOnNewModel.add(this._decorationsManager),this._disposeOnNewModel.add(this._model.onDidChangeReferenceRange(t=>this._tree.rerender(t))),this._disposeOnNewModel.add(this._preview.onMouseDown(t=>{let{event:e,target:i}=t;if(e.detail!==2)return;let o=this._getFocusedReference();o&&this._onDidSelectReference.fire({element:{uri:o.uri,range:i.range},kind:e.ctrlKey||e.metaKey||e.altKey?"side":"open",source:"editor"})})),this.container.classList.add("results-loaded"),Xo(this._treeContainer),Xo(this._previewContainer),this._splitView.layout(this._dim.width),this.focusOnReferenceTree(),this._tree.setInput(this._model.groups.length===1?this._model.groups[0]:this._model)):Promise.resolve(void 0)}_getFocusedReference(){let[t]=this._tree.getFocus();if(t instanceof xs)return t;if(t instanceof Nc&&t.children.length>0)return t.children[0]}revealReference(t){return k(this,null,function*(){yield this._revealReference(t,!1),this._onDidSelectReference.fire({element:t,kind:"goto",source:"tree"})})}_revealReference(t,e){return k(this,null,function*(){if(this._revealedReference===t)return;this._revealedReference=t,t.uri.scheme!==Ln.inMemory?this.setTitle(s5(t.uri),this._uriLabel.getUriLabel(gp(t.uri))):this.setTitle(_("peekView.alternateTitle","References"));let i=this._textModelResolverService.createModelReference(t.uri);this._tree.getInput()===t.parent?this._tree.reveal(t):(e&&this._tree.reveal(t.parent),yield this._tree.expand(t.parent),this._tree.reveal(t));let o=yield i;if(!this._model){o.dispose();return}cn(this._previewModelReference);let r=o.object;if(r){let s=this._preview.getModel()===r.textEditorModel?0:1,a=A.lift(t.range).collapseToStart();this._previewModelReference=o,this._preview.setModel(r.textEditorModel),this._preview.setSelection(a),this._preview.revealRangeInCenter(a,s)}else this._preview.setModel(this._previewNotAvailableMessage),o.dispose()})}};eD=zve([qf(3,qn),qf(4,no),qf(5,De),qf(6,IL),qf(7,vc),qf(8,Vt)],eD);$t();var Bve=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},Gf=function(n,t){return function(e,i){t(e,i,n)}},tD,im=new ot("referenceSearchVisible",!1,_("referenceSearchVisible","Whether reference peek is visible, like 'Peek References' or 'Peek Definition'")),Fc=class{static{tD=this}static{this.ID="editor.contrib.referencesController"}static get(e){return e.getContribution(tD.ID)}constructor(e,i,o,r,s,a,l,c){this._defaultTreeKeyboardSupport=e,this._editor=i,this._editorService=r,this._notificationService=s,this._instantiationService=a,this._storageService=l,this._configurationService=c,this._disposables=new G,this._requestIdPool=0,this._ignoreModelChangeEvent=!1,this._referenceSearchVisible=im.bindTo(o)}dispose(){this._referenceSearchVisible.reset(),this._disposables.dispose(),this._widget?.dispose(),this._model?.dispose(),this._widget=void 0,this._model=void 0}toggleWidget(e,i,o){let r;if(this._widget&&(r=this._widget.position),this.closeWidget(),r&&e.containsPosition(r))return;this._peekMode=o,this._referenceSearchVisible.set(!0),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>{this.closeWidget()})),this._disposables.add(this._editor.onDidChangeModel(()=>{this._ignoreModelChangeEvent||this.closeWidget()}));let s="peekViewLayout",a=JI.fromJSON(this._storageService.get(s,0,"{}"));this._widget=this._instantiationService.createInstance(eD,this._editor,this._defaultTreeKeyboardSupport,a),this._widget.setTitle(_("labelLoading","Loading...")),this._widget.show(e),this._disposables.add(this._widget.onDidClose(()=>{i.cancel(),this._widget?(this._storageService.store(s,JSON.stringify(this._widget.layoutData),0,1),this._widget.isClosing||this.closeWidget(),this._widget=void 0):this.closeWidget()})),this._disposables.add(this._widget.onDidSelectReference(c=>{let{element:d,kind:u}=c;if(d)switch(u){case"open":(c.source!=="editor"||!this._configurationService.getValue("editor.stablePeek"))&&this.openReference(d,!1,!1);break;case"side":this.openReference(d,!0,!1);break;case"goto":o?this._gotoReference(d,!0):this.openReference(d,!1,!0);break}}));let l=++this._requestIdPool;i.then(c=>{if(l!==this._requestIdPool||!this._widget){c.dispose();return}return this._model?.dispose(),this._model=c,this._widget.setModel(this._model).then(()=>{if(this._widget&&this._model&&this._editor.hasModel()){this._model.isEmpty?this._widget.setMetaTitle(""):this._widget.setMetaTitle(_("metaTitle.N","{0} ({1})",this._model.title,this._model.references.length));let d=this._editor.getModel().uri,u=new he(e.startLineNumber,e.startColumn),h=this._model.nearestReference(d,u);if(h)return this._widget.setSelection(h).then(()=>{this._widget&&this._editor.getOption(87)==="editor"&&this._widget.focusOnPreviewEditor()})}})},c=>{this._notificationService.error(c)})}changeFocusBetweenPreviewAndReferences(){this._widget&&(this._widget.isPreviewEditorFocused()?this._widget.focusOnReferenceTree():this._widget.focusOnPreviewEditor())}goToNextOrPreviousReference(e){return k(this,null,function*(){if(!this._editor.hasModel()||!this._model||!this._widget)return;let i=this._widget.position;if(!i)return;let o=this._model.nearestReference(this._editor.getModel().uri,i);if(!o)return;let r=this._model.nextOrPreviousReference(o,e),s=this._editor.hasTextFocus(),a=this._widget.isPreviewEditorFocused();yield this._widget.setSelection(r),yield this._gotoReference(r,!1),s?this._editor.focus():this._widget&&a&&this._widget.focusOnPreviewEditor()})}revealReference(e){return k(this,null,function*(){!this._editor.hasModel()||!this._model||!this._widget||(yield this._widget.revealReference(e))})}closeWidget(e=!0){this._widget?.dispose(),this._model?.dispose(),this._referenceSearchVisible.reset(),this._disposables.clear(),this._widget=void 0,this._model=void 0,e&&this._editor.focus(),this._requestIdPool+=1}_gotoReference(e,i){this._widget?.hide(),this._ignoreModelChangeEvent=!0;let o=A.lift(e.range).collapseToStart();return this._editorService.openCodeEditor({resource:e.uri,options:{selection:o,selectionSource:"code.jump",pinned:i}},this._editor).then(r=>{if(this._ignoreModelChangeEvent=!1,!r||!this._widget){this.closeWidget();return}if(this._editor===r)this._widget.show(o),this._widget.focusOnReferenceTree();else{let s=tD.get(r),a=this._model.clone();this.closeWidget(),r.focus(),s?.toggleWidget(o,yi(l=>Promise.resolve(a)),this._peekMode??!1)}},r=>{this._ignoreModelChangeEvent=!1,ut(r)})}openReference(e,i,o){i||this.closeWidget();let{uri:r,range:s}=e;this._editorService.openCodeEditor({resource:r,options:{selection:s,selectionSource:"code.jump",pinned:o}},this._editor,i)}};Fc=tD=Bve([Gf(2,Xe),Gf(3,Xt),Gf(4,Bi),Gf(5,De),Gf(6,Ar),Gf(7,_t)],Fc);function nm(n,t){let e=D$(n);if(!e)return;let i=Fc.get(e);i&&t(i)}cs.registerCommandAndKeybindingRule({id:"togglePeekWidgetFocus",weight:100,primary:Pi(2089,60),when:K.or(im,xo.inPeekEditor),handler(n){nm(n,t=>{t.changeFocusBetweenPreviewAndReferences()})}});cs.registerCommandAndKeybindingRule({id:"goToNextReference",weight:90,primary:62,secondary:[70],when:K.or(im,xo.inPeekEditor),handler(n){nm(n,t=>{t.goToNextOrPreviousReference(!0)})}});cs.registerCommandAndKeybindingRule({id:"goToPreviousReference",weight:90,primary:1086,secondary:[1094],when:K.or(im,xo.inPeekEditor),handler(n){nm(n,t=>{t.goToNextOrPreviousReference(!1)})}});Pt.registerCommandAlias("goToNextReferenceFromEmbeddedEditor","goToNextReference");Pt.registerCommandAlias("goToPreviousReferenceFromEmbeddedEditor","goToPreviousReference");Pt.registerCommandAlias("closeReferenceSearchEditor","closeReferenceSearch");Pt.registerCommand("closeReferenceSearch",n=>nm(n,t=>t.closeWidget()));cs.registerKeybindingRule({id:"closeReferenceSearch",weight:-1,primary:9,secondary:[1033],when:K.and(xo.inPeekEditor,K.not("config.editor.stablePeek"))});cs.registerKeybindingRule({id:"closeReferenceSearch",weight:250,primary:9,secondary:[1033],when:K.and(im,K.not("config.editor.stablePeek"),K.or(M.editorTextFocus,aU.negate()))});cs.registerCommandAndKeybindingRule({id:"revealReference",weight:200,primary:3,mac:{primary:3,secondary:[2066]},when:K.and(im,PA,LA.negate(),NA.negate()),handler(n){let e=n.get(Dw).lastFocusedList?.getFocus();Array.isArray(e)&&e[0]instanceof xs&&nm(n,i=>i.revealReference(e[0]))}});cs.registerCommandAndKeybindingRule({id:"openReferenceToSide",weight:100,primary:2051,mac:{primary:259},when:K.and(im,PA,LA.negate(),NA.negate()),handler(n){let e=n.get(Dw).lastFocusedList?.getFocus();Array.isArray(e)&&e[0]instanceof xs&&nm(n,i=>i.openReference(e[0],!0,!0))}});Pt.registerCommand("openReference",n=>{let e=n.get(Dw).lastFocusedList?.getFocus();Array.isArray(e)&&e[0]instanceof xs&&nm(n,i=>i.openReference(e[0],!1,!0))});oi();ce();Ur();tt();Fo();qe();Ae();mt();cc();Ot();aA();var A$=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},Db=function(n,t){return function(e,i){t(e,i,n)}},LL=new ot("hasSymbols",!1,_("hasSymbols","Whether there are symbol locations that can be navigated via keyboard-only.")),Eb=No("ISymbolNavigationService"),OL=class{constructor(t,e,i,o){this._editorService=e,this._notificationService=i,this._keybindingService=o,this._currentModel=void 0,this._currentIdx=-1,this._ignoreEditorChange=!1,this._ctxHasSymbols=LL.bindTo(t)}reset(){this._ctxHasSymbols.reset(),this._currentState?.dispose(),this._currentMessage?.dispose(),this._currentModel=void 0,this._currentIdx=-1}put(t){let e=t.parent.parent;if(e.references.length<=1){this.reset();return}this._currentModel=e,this._currentIdx=e.references.indexOf(t),this._ctxHasSymbols.set(!0),this._showMessage();let i=new PL(this._editorService),o=i.onDidChange(r=>{if(this._ignoreEditorChange)return;let s=this._editorService.getActiveCodeEditor();if(!s)return;let a=s.getModel(),l=s.getPosition();if(!a||!l)return;let c=!1,d=!1;for(let u of e.references)if(mh(u.uri,a.uri))c=!0,d=d||A.containsPosition(u.range,l);else if(c)break;(!c||!d)&&this.reset()});this._currentState=KT(i,o)}revealNext(t){if(!this._currentModel)return Promise.resolve();this._currentIdx+=1,this._currentIdx%=this._currentModel.references.length;let e=this._currentModel.references[this._currentIdx];return this._showMessage(),this._ignoreEditorChange=!0,this._editorService.openCodeEditor({resource:e.uri,options:{selection:A.collapseToStart(e.range),selectionRevealType:3}},t).finally(()=>{this._ignoreEditorChange=!1})}_showMessage(){this._currentMessage?.dispose();let t=this._keybindingService.lookupKeybinding("editor.gotoNextSymbolFromResult"),e=t?_("location.kb","Symbol {0} of {1}, {2} for next",this._currentIdx+1,this._currentModel.references.length,t.getLabel()):_("location","Symbol {0} of {1}",this._currentIdx+1,this._currentModel.references.length);this._currentMessage=this._notificationService.status(e)}};OL=A$([Db(0,Xe),Db(1,Xt),Db(2,Bi),Db(3,Vt)],OL);zo(Eb,OL,1);Ne(new class extends Ki{constructor(){super({id:"editor.gotoNextSymbolFromResult",precondition:LL,kbOpts:{weight:100,primary:70}})}runEditorCommand(n,t){return n.get(Eb).revealNext(t)}});cs.registerCommandAndKeybindingRule({id:"editor.gotoNextSymbolFromResult.cancel",weight:100,when:LL,primary:9,handler(n){n.get(Eb).reset()}});var PL=class{constructor(t){this._listener=new Map,this._disposables=new G,this._onDidChange=new je,this.onDidChange=this._onDidChange.event,this._disposables.add(t.onCodeEditorRemove(this._onDidRemoveEditor,this)),this._disposables.add(t.onCodeEditorAdd(this._onDidAddEditor,this)),t.listCodeEditors().forEach(this._onDidAddEditor,this)}dispose(){this._disposables.dispose(),this._onDidChange.dispose(),cn(this._listener.values())}_onDidAddEditor(t){this._listener.set(t,KT(t.onDidChangeCursorPosition(e=>this._onDidChange.fire({editor:t})),t.onDidChangeModelContent(e=>this._onDidChange.fire({editor:t}))))}_onDidRemoveEditor(t){this._listener.get(t)?.dispose(),this._listener.delete(t)}};PL=A$([Db(0,Xt)],PL);Ae();$i();Ui();mt();Ot();Oi();gi();Bt();oh();tt();Lt();function NL(n,t){return t.uri.scheme===n.uri.scheme?!0:!Aj(t.uri,Ln.walkThroughSnippet,Ln.vscodeChatCodeBlock,Ln.vscodeChatCodeCompareBlock)}function kb(n,t,e,i,o){return k(this,null,function*(){let s=e.ordered(n,i).map(l=>Promise.resolve(o(l,n,t)).then(void 0,c=>{zt(c)})),a=yield Promise.all(s);return Ko(a.flat()).filter(l=>NL(n,l))})}function ou(n,t,e,i,o){return kb(t,e,n,i,(r,s,a)=>r.provideDefinition(s,a,o))}function iD(n,t,e,i,o){return kb(t,e,n,i,(r,s,a)=>r.provideDeclaration(s,a,o))}function nD(n,t,e,i,o){return kb(t,e,n,i,(r,s,a)=>r.provideImplementation(s,a,o))}function oD(n,t,e,i,o){return kb(t,e,n,i,(r,s,a)=>r.provideTypeDefinition(s,a,o))}function $f(n,t,e,i,o,r){return kb(t,e,n,o,(s,a,l)=>k(this,null,function*(){let c=(yield s.provideReferences(a,l,{includeDeclaration:!0},r))?.filter(u=>NL(a,u));if(!i||!c||c.length!==2)return c;let d=(yield s.provideReferences(a,l,{includeDeclaration:!1},r))?.filter(u=>NL(a,u));return d&&d.length===1?d:c}))}function Ml(n){return k(this,null,function*(){let t=yield n(),e=new yr(t,""),i=e.references.map(o=>o.link);return e.dispose(),i})}oo("_executeDefinitionProvider",(n,t,e)=>{let i=n.get(ae),o=ou(i.definitionProvider,t,e,!1,Je.None);return Ml(()=>o)});oo("_executeDefinitionProvider_recursive",(n,t,e)=>{let i=n.get(ae),o=ou(i.definitionProvider,t,e,!0,Je.None);return Ml(()=>o)});oo("_executeTypeDefinitionProvider",(n,t,e)=>{let i=n.get(ae),o=oD(i.typeDefinitionProvider,t,e,!1,Je.None);return Ml(()=>o)});oo("_executeTypeDefinitionProvider_recursive",(n,t,e)=>{let i=n.get(ae),o=oD(i.typeDefinitionProvider,t,e,!0,Je.None);return Ml(()=>o)});oo("_executeDeclarationProvider",(n,t,e)=>{let i=n.get(ae),o=iD(i.declarationProvider,t,e,!1,Je.None);return Ml(()=>o)});oo("_executeDeclarationProvider_recursive",(n,t,e)=>{let i=n.get(ae),o=iD(i.declarationProvider,t,e,!0,Je.None);return Ml(()=>o)});oo("_executeReferenceProvider",(n,t,e)=>{let i=n.get(ae),o=$f(i.referenceProvider,t,e,!1,!1,Je.None);return Ml(()=>o)});oo("_executeReferenceProvider_recursive",(n,t,e)=>{let i=n.get(ae),o=$f(i.referenceProvider,t,e,!1,!0,Je.None);return Ml(()=>o)});oo("_executeImplementationProvider",(n,t,e)=>{let i=n.get(ae),o=nD(i.implementationProvider,t,e,!1,Je.None);return Ml(()=>o)});oo("_executeImplementationProvider_recursive",(n,t,e)=>{let i=n.get(ae),o=nD(i.implementationProvider,t,e,!0,Je.None);return Ml(()=>o)});Lt();A_();Qo.appendMenuItem(ve.EditorContext,{submenu:ve.EditorContextPeek,title:_("peek.submenu","Peek"),group:"navigation",order:100});var om=class n{static is(t){return!t||typeof t!="object"?!1:!!(t instanceof n||he.isIPosition(t.position)&&t.model)}constructor(t,e){this.model=t,this.position=e}},Tl=class n extends kr{static{this._allSymbolNavigationCommands=new Map}static{this._activeAlternativeCommands=new Set}static all(){return n._allSymbolNavigationCommands.values()}static _patchConfig(t){let e=Te(j({},t),{f1:!0});if(e.menu)for(let i of jr.wrap(e.menu))(i.id===ve.EditorContext||i.id===ve.EditorContextPeek)&&(i.when=K.and(t.precondition,i.when));return e}constructor(t,e){super(n._patchConfig(e)),this.configuration=t,n._allSymbolNavigationCommands.set(e.id,this)}runEditorCommand(t,e,i,o){if(!e.hasModel())return Promise.resolve(void 0);let r=t.get(Bi),s=t.get(Xt),a=t.get(bc),l=t.get(Eb),c=t.get(ae),d=t.get(De),u=e.getModel(),h=e.getPosition(),m=om.is(i)?i:new om(u,h),f=new bl(e,5),p=sl(this._getLocationModel(c,m.model,m.position,f.token),f.token).then(g=>k(this,null,function*(){if(!g||f.token.isCancellationRequested)return;$n(g.ariaMessage);let v;if(g.referenceAt(u.uri,h)){let C=this._getAlternativeCommand(e);!n._activeAlternativeCommands.has(C)&&n._allSymbolNavigationCommands.has(C)&&(v=n._allSymbolNavigationCommands.get(C))}let b=g.references.length;if(b===0){if(!this.configuration.muteMessage){let C=u.getWordAtPosition(h);bo.get(e)?.showMessage(this._getNoResultFoundMessage(C),h)}}else if(b===1&&v)n._activeAlternativeCommands.add(this.desc.id),d.invokeFunction(C=>v.runEditorCommand(C,e,i,o).finally(()=>{n._activeAlternativeCommands.delete(this.desc.id)}));else return this._onResult(s,l,e,g,o)}),g=>{r.error(g)}).finally(()=>{f.dispose()});return a.showWhile(p,250),p}_onResult(t,e,i,o,r){return k(this,null,function*(){let s=this._getGoToPreference(i);if(!(i instanceof yo)&&(this.configuration.openInPeek||s==="peek"&&o.references.length>1))this._openInPeek(i,o,r);else{let a=o.firstReference(),l=o.references.length>1&&s==="gotoAndPeek",c=yield this._openReference(i,t,a,this.configuration.openToSide,!l);l&&c?this._openInPeek(c,o,r):o.dispose(),s==="goto"&&e.put(a)}})}_openReference(t,e,i,o,r){return k(this,null,function*(){let s;if(dj(i)&&(s=i.targetSelectionRange),s||(s=i.range),!s)return;let a=yield e.openCodeEditor({resource:i.uri,options:{selection:A.collapseToStart(s),selectionRevealType:3,selectionSource:"code.jump"}},t,o);if(a){if(r){let l=a.getModel(),c=a.createDecorationsCollection([{range:s,options:{description:"symbol-navigate-action-highlight",className:"symbolHighlight"}}]);setTimeout(()=>{a.getModel()===l&&c.clear()},350)}return a}})}_openInPeek(t,e,i){let o=Fc.get(t);o&&t.hasModel()?o.toggleWidget(i??t.getSelection(),yi(r=>Promise.resolve(e)),this.configuration.openInPeek):e.dispose()}},zc=class extends Tl{_getLocationModel(t,e,i,o){return k(this,null,function*(){return new yr(yield ou(t.definitionProvider,e,i,!1,o),_("def.title","Definitions"))})}_getNoResultFoundMessage(t){return t&&t.word?_("noResultWord","No definition found for '{0}'",t.word):_("generic.noResults","No definition found")}_getAlternativeCommand(t){return t.getOption(58).alternativeDefinitionCommand}_getGoToPreference(t){return t.getOption(58).multipleDefinitions}};Gt(class FL extends zc{static{this.id="editor.action.revealDefinition"}constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:FL.id,title:Te(j({},Pe("actions.goToDecl.label","Go to Definition")),{mnemonicTitle:_({key:"miGotoDefinition",comment:["&& denotes a mnemonic"]},"Go to &&Definition")}),precondition:M.hasDefinitionProvider,keybinding:[{when:M.editorTextFocus,primary:70,weight:100},{when:K.and(M.editorTextFocus,OA),primary:2118,weight:100}],menu:[{id:ve.EditorContext,group:"navigation",order:1.1},{id:ve.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:2}]}),Pt.registerCommandAlias("editor.action.goToDeclaration",FL.id)}});Gt(class zL extends zc{static{this.id="editor.action.revealDefinitionAside"}constructor(){super({openToSide:!0,openInPeek:!1,muteMessage:!1},{id:zL.id,title:Pe("actions.goToDeclToSide.label","Open Definition to the Side"),precondition:K.and(M.hasDefinitionProvider,M.isInEmbeddedEditor.toNegated()),keybinding:[{when:M.editorTextFocus,primary:Pi(2089,70),weight:100},{when:K.and(M.editorTextFocus,OA),primary:Pi(2089,2118),weight:100}]}),Pt.registerCommandAlias("editor.action.openDeclarationToTheSide",zL.id)}});Gt(class BL extends zc{static{this.id="editor.action.peekDefinition"}constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:BL.id,title:Pe("actions.previewDecl.label","Peek Definition"),precondition:K.and(M.hasDefinitionProvider,xo.notInPeekEditor,M.isInEmbeddedEditor.toNegated()),keybinding:{when:M.editorTextFocus,primary:582,linux:{primary:3140},weight:100},menu:{id:ve.EditorContextPeek,group:"peek",order:2}}),Pt.registerCommandAlias("editor.action.previewDeclaration",BL.id)}});var rD=class extends Tl{_getLocationModel(t,e,i,o){return k(this,null,function*(){return new yr(yield iD(t.declarationProvider,e,i,!1,o),_("decl.title","Declarations"))})}_getNoResultFoundMessage(t){return t&&t.word?_("decl.noResultWord","No declaration found for '{0}'",t.word):_("decl.generic.noResults","No declaration found")}_getAlternativeCommand(t){return t.getOption(58).alternativeDeclarationCommand}_getGoToPreference(t){return t.getOption(58).multipleDeclarations}};Gt(class R$ extends rD{static{this.id="editor.action.revealDeclaration"}constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:R$.id,title:Te(j({},Pe("actions.goToDeclaration.label","Go to Declaration")),{mnemonicTitle:_({key:"miGotoDeclaration",comment:["&& denotes a mnemonic"]},"Go to &&Declaration")}),precondition:K.and(M.hasDeclarationProvider,M.isInEmbeddedEditor.toNegated()),menu:[{id:ve.EditorContext,group:"navigation",order:1.3},{id:ve.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:3}]})}_getNoResultFoundMessage(t){return t&&t.word?_("decl.noResultWord","No declaration found for '{0}'",t.word):_("decl.generic.noResults","No declaration found")}});Gt(class extends rD{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.peekDeclaration",title:Pe("actions.peekDecl.label","Peek Declaration"),precondition:K.and(M.hasDeclarationProvider,xo.notInPeekEditor,M.isInEmbeddedEditor.toNegated()),menu:{id:ve.EditorContextPeek,group:"peek",order:3}})}});var sD=class extends Tl{_getLocationModel(t,e,i,o){return k(this,null,function*(){return new yr(yield oD(t.typeDefinitionProvider,e,i,!1,o),_("typedef.title","Type Definitions"))})}_getNoResultFoundMessage(t){return t&&t.word?_("goToTypeDefinition.noResultWord","No type definition found for '{0}'",t.word):_("goToTypeDefinition.generic.noResults","No type definition found")}_getAlternativeCommand(t){return t.getOption(58).alternativeTypeDefinitionCommand}_getGoToPreference(t){return t.getOption(58).multipleTypeDefinitions}};Gt(class O$ extends sD{static{this.ID="editor.action.goToTypeDefinition"}constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:O$.ID,title:Te(j({},Pe("actions.goToTypeDefinition.label","Go to Type Definition")),{mnemonicTitle:_({key:"miGotoTypeDefinition",comment:["&& denotes a mnemonic"]},"Go to &&Type Definition")}),precondition:M.hasTypeDefinitionProvider,keybinding:{when:M.editorTextFocus,primary:0,weight:100},menu:[{id:ve.EditorContext,group:"navigation",order:1.4},{id:ve.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:3}]})}});Gt(class P$ extends sD{static{this.ID="editor.action.peekTypeDefinition"}constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:P$.ID,title:Pe("actions.peekTypeDefinition.label","Peek Type Definition"),precondition:K.and(M.hasTypeDefinitionProvider,xo.notInPeekEditor,M.isInEmbeddedEditor.toNegated()),menu:{id:ve.EditorContextPeek,group:"peek",order:4}})}});var aD=class extends Tl{_getLocationModel(t,e,i,o){return k(this,null,function*(){return new yr(yield nD(t.implementationProvider,e,i,!1,o),_("impl.title","Implementations"))})}_getNoResultFoundMessage(t){return t&&t.word?_("goToImplementation.noResultWord","No implementation found for '{0}'",t.word):_("goToImplementation.generic.noResults","No implementation found")}_getAlternativeCommand(t){return t.getOption(58).alternativeImplementationCommand}_getGoToPreference(t){return t.getOption(58).multipleImplementations}};Gt(class L$ extends aD{static{this.ID="editor.action.goToImplementation"}constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:L$.ID,title:Te(j({},Pe("actions.goToImplementation.label","Go to Implementations")),{mnemonicTitle:_({key:"miGotoImplementation",comment:["&& denotes a mnemonic"]},"Go to &&Implementations")}),precondition:M.hasImplementationProvider,keybinding:{when:M.editorTextFocus,primary:2118,weight:100},menu:[{id:ve.EditorContext,group:"navigation",order:1.45},{id:ve.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:4}]})}});Gt(class N$ extends aD{static{this.ID="editor.action.peekImplementation"}constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:N$.ID,title:Pe("actions.peekImplementation.label","Peek Implementations"),precondition:K.and(M.hasImplementationProvider,xo.notInPeekEditor,M.isInEmbeddedEditor.toNegated()),keybinding:{when:M.editorTextFocus,primary:3142,weight:100},menu:{id:ve.EditorContextPeek,group:"peek",order:5}})}});var lD=class extends Tl{_getNoResultFoundMessage(t){return t?_("references.no","No references found for '{0}'",t.word):_("references.noGeneric","No references found")}_getAlternativeCommand(t){return t.getOption(58).alternativeReferenceCommand}_getGoToPreference(t){return t.getOption(58).multipleReferences}};Gt(class extends lD{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:"editor.action.goToReferences",title:Te(j({},Pe("goToReferences.label","Go to References")),{mnemonicTitle:_({key:"miGotoReference",comment:["&& denotes a mnemonic"]},"Go to &&References")}),precondition:K.and(M.hasReferenceProvider,xo.notInPeekEditor,M.isInEmbeddedEditor.toNegated()),keybinding:{when:M.editorTextFocus,primary:1094,weight:100},menu:[{id:ve.EditorContext,group:"navigation",order:1.45},{id:ve.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:5}]})}_getLocationModel(t,e,i,o){return k(this,null,function*(){return new yr(yield $f(t.referenceProvider,e,i,!0,!1,o),_("ref.title","References"))})}});Gt(class extends lD{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.referenceSearch.trigger",title:Pe("references.action.label","Peek References"),precondition:K.and(M.hasReferenceProvider,xo.notInPeekEditor,M.isInEmbeddedEditor.toNegated()),menu:{id:ve.EditorContextPeek,group:"peek",order:6}})}_getLocationModel(t,e,i,o){return k(this,null,function*(){return new yr(yield $f(t.referenceProvider,e,i,!1,!1,o),_("ref.title","References"))})}});var HL=class extends Tl{constructor(t,e,i){super(t,{id:"editor.action.goToLocation",title:Pe("label.generic","Go to Any Symbol"),precondition:K.and(xo.notInPeekEditor,M.isInEmbeddedEditor.toNegated())}),this._references=e,this._gotoMultipleBehaviour=i}_getLocationModel(t,e,i,o){return k(this,null,function*(){return new yr(this._references,_("generic.title","Locations"))})}_getNoResultFoundMessage(t){return t&&_("generic.noResult","No results for '{0}'",t.word)||""}_getGoToPreference(t){return this._gotoMultipleBehaviour??t.getOption(58).multipleReferences}_getAlternativeCommand(){return""}};Pt.registerCommand({id:"editor.action.goToLocations",metadata:{description:"Go to locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:ht},{name:"position",description:"The position at which to start",constraint:he.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto`"},{name:"noResultsMessage",description:"Human readable message that shows when locations is empty."}]},handler:(n,t,e,i,o,r,s)=>k(void 0,null,function*(){Tt(ht.isUri(t)),Tt(he.isIPosition(e)),Tt(Array.isArray(i)),Tt(typeof o>"u"||typeof o=="string"),Tt(typeof s>"u"||typeof s=="boolean");let a=n.get(Xt),l=yield a.openCodeEditor({resource:t},a.getFocusedCodeEditor());if(qA(l))return l.setPosition(e),l.revealPositionInCenterIfOutsideViewport(e,0),l.invokeWithinContext(c=>{let d=new class extends HL{_getNoResultFoundMessage(u){return r||super._getNoResultFoundMessage(u)}}({muteMessage:!r,openInPeek:!!s,openToSide:!1},i,o);c.get(De).invokeFunction(d.run.bind(d),l)})})});Pt.registerCommand({id:"editor.action.peekLocations",metadata:{description:"Peek locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:ht},{name:"position",description:"The position at which to start",constraint:he.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto`"}]},handler:(n,t,e,i,o)=>k(void 0,null,function*(){n.get(ci).executeCommand("editor.action.goToLocations",t,e,i,o,void 0,!0)})});Pt.registerCommand({id:"editor.action.findReferences",handler:(n,t,e)=>{Tt(ht.isUri(t)),Tt(he.isIPosition(e));let i=n.get(ae),o=n.get(Xt);return o.openCodeEditor({resource:t},o.getFocusedCodeEditor()).then(r=>{if(!qA(r)||!r.hasModel())return;let s=Fc.get(r);if(!s)return;let a=yi(c=>$f(i.referenceProvider,r.getModel(),he.lift(e),!1,!1,c).then(d=>new yr(d,_("ref.title","References")))),l=new A(e.lineNumber,e.column,e.lineNumber,e.column);return Promise.resolve(s.toggleWidget(l,a,!1))})}});Pt.registerCommandAlias("editor.action.showReferences","editor.action.peekLocations");$i();Ui();mt();Ot();function F$(n,t,e,i){return k(this,null,function*(){let o=n.get(no),r=n.get(Bs),s=n.get(ci),a=n.get(De),l=n.get(Bi);if(yield i.item.resolve(Je.None),!i.part.location)return;let c=i.part.location,d=[],u=new Set(Qo.getMenuItems(ve.EditorContext).map(m=>Yj(m)?m.command.id:Kd()));for(let m of Tl.all())u.has(m.desc.id)&&d.push(new dl(m.desc.id,ul.label(m.desc,{renderShortTitle:!0}),void 0,!0,()=>k(this,null,function*(){let f=yield o.createModelReference(c.uri);try{let p=new om(f.object.textEditorModel,A.getStartPosition(c.range)),g=i.item.anchor.range;yield a.invokeFunction(m.runEditorCommand.bind(m),t,p,g)}finally{f.dispose()}})));if(i.part.command){let{command:m}=i.part;d.push(new ac),d.push(new dl(m.id,m.title,void 0,!0,()=>k(this,null,function*(){try{yield s.executeCommand(m.id,...m.arguments??[])}catch(f){l.notify({severity:mp.Error,source:i.item.provider.displayName,message:f})}})))}let h=t.getOption(128);r.showContextMenu({domForShadowRoot:h?t.getDomNode()??void 0:void 0,getAnchor:()=>{let m=Gi(e);return{x:m.left,y:m.top+m.height+8}},getActions:()=>d,onHide:()=>{t.focus()},autoSelectFirstItem:!0})})}function cD(n,t,e,i){return k(this,null,function*(){let r=yield n.get(no).createModelReference(i.uri);yield e.invokeWithinContext(s=>k(this,null,function*(){let a=t.hasSideBySideModifier,l=s.get(Xe),c=xo.inPeekEditor.getValue(l),d=!a&&e.getOption(89)&&!c;return new zc({openToSide:a,openInPeek:d,muteMessage:!0},{title:{value:"",original:""},id:"",precondition:void 0}).run(s,new om(r.object.textEditorModel,A.getStartPosition(i.range)),A.lift(i.range))})),r.dispose()})}Ui();cc();Ot();Eo();Do();var Hve=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},Kf=function(n,t){return function(e,i){t(e,i,n)}},Yf,VL=class n{constructor(){this._entries=new hl(50)}get(t){let e=n._key(t);return this._entries.get(e)}set(t,e){let i=n._key(t);this._entries.set(i,e)}static _key(t){return`${t.uri.toString()}/${t.getVersionId()}`}},z$=No("IInlayHintsCache");zo(z$,VL,1);var Xf=class{constructor(t,e){this.item=t,this.index=e}get part(){let t=this.item.hint.label;return typeof t=="string"?{label:t}:t[this.index]}},WL=class{constructor(t,e){this.part=t,this.hasTriggerModifier=e}},rm=class{static{Yf=this}static{this.ID="editor.contrib.InlayHints"}static{this._MAX_DECORATORS=1500}static{this._MAX_LABEL_LEN=43}static get(e){return e.getContribution(Yf.ID)??void 0}constructor(e,i,o,r,s,a,l){this._editor=e,this._languageFeaturesService=i,this._inlayHintsCache=r,this._commandService=s,this._notificationService=a,this._instaService=l,this._disposables=new G,this._sessionDisposables=new G,this._decorationsMetadata=new Map,this._ruleFactory=new Lw(this._editor),this._activeRenderMode=0,this._debounceInfo=o.for(i.inlayHintsProvider,"InlayHint",{min:25}),this._disposables.add(i.inlayHintsProvider.onDidChange(()=>this._update())),this._disposables.add(e.onDidChangeModel(()=>this._update())),this._disposables.add(e.onDidChangeModelLanguage(()=>this._update())),this._disposables.add(e.onDidChangeConfiguration(c=>{c.hasChanged(142)&&this._update()})),this._update()}dispose(){this._sessionDisposables.dispose(),this._removeAllDecorations(),this._disposables.dispose()}_update(){this._sessionDisposables.clear(),this._removeAllDecorations();let e=this._editor.getOption(142);if(e.enabled==="off")return;let i=this._editor.getModel();if(!i||!this._languageFeaturesService.inlayHintsProvider.has(i))return;if(e.enabled==="on")this._activeRenderMode=0;else{let l,c;e.enabled==="onUnlessPressed"?(l=0,c=1):(l=1,c=0),this._activeRenderMode=l,this._sessionDisposables.add(Uj.getInstance().event(d=>{if(!this._editor.hasModel())return;let u=d.altKey&&d.ctrlKey&&!(d.shiftKey||d.metaKey)?c:l;if(u!==this._activeRenderMode){this._activeRenderMode=u;let h=this._editor.getModel(),m=this._copyInlayHintsWithCurrentAnchor(h);this._updateHintsDecorators([h.getFullModelRange()],m),a.schedule(0)}}))}let o=this._inlayHintsCache.get(i);o&&this._updateHintsDecorators([i.getFullModelRange()],o),this._sessionDisposables.add(Mt(()=>{i.isDisposed()||this._cacheHintsForFastRestore(i)}));let r,s=new Set,a=new si(()=>k(this,null,function*(){let l=Date.now();r?.dispose(!0),r=new fi;let c=i.onWillDispose(()=>r?.cancel());try{let d=r.token,u=yield Sb.create(this._languageFeaturesService.inlayHintsProvider,i,this._getHintsRanges(),d);if(a.delay=this._debounceInfo.update(i,Date.now()-l),d.isCancellationRequested){u.dispose();return}for(let h of u.provider)typeof h.onDidChangeInlayHints=="function"&&!s.has(h)&&(s.add(h),this._sessionDisposables.add(h.onDidChangeInlayHints(()=>{a.isScheduled()||a.schedule()})));this._sessionDisposables.add(u),this._updateHintsDecorators(u.ranges,u.items),this._cacheHintsForFastRestore(i)}catch(d){ut(d)}finally{r.dispose(),c.dispose()}}),this._debounceInfo.get(i));this._sessionDisposables.add(a),this._sessionDisposables.add(Mt(()=>r?.dispose(!0))),a.schedule(0),this._sessionDisposables.add(this._editor.onDidScrollChange(l=>{(l.scrollTopChanged||!a.isScheduled())&&a.schedule()})),this._sessionDisposables.add(this._editor.onDidChangeModelContent(l=>{r?.cancel();let c=Math.max(a.delay,1250);a.schedule(c)})),this._sessionDisposables.add(this._installDblClickGesture(()=>a.schedule(0))),this._sessionDisposables.add(this._installLinkGesture()),this._sessionDisposables.add(this._installContextMenu())}_installLinkGesture(){let e=new G,i=e.add(new kl(this._editor)),o=new G;return e.add(o),e.add(i.onMouseMoveOrRelevantKeyDown(r=>{let[s]=r,a=this._getInlayHintLabelPart(s),l=this._editor.getModel();if(!a||!l){o.clear();return}let c=new fi;o.add(Mt(()=>c.dispose(!0))),a.item.resolve(c.token),this._activeInlayHintPart=a.part.command||a.part.location?new WL(a,s.hasTriggerModifier):void 0;let d=l.validatePosition(a.item.hint.position).lineNumber,u=new A(d,1,d,l.getLineMaxColumn(d)),h=this._getInlineHintsForRange(u);this._updateHintsDecorators([u],h),o.add(Mt(()=>{this._activeInlayHintPart=void 0,this._updateHintsDecorators([u],h)}))})),e.add(i.onCancel(()=>o.clear())),e.add(i.onExecute(r=>k(this,null,function*(){let s=this._getInlayHintLabelPart(r);if(s){let a=s.part;a.location?this._instaService.invokeFunction(cD,r,this._editor,a.location):pj.is(a.command)&&(yield this._invokeCommand(a.command,s.item))}}))),e}_getInlineHintsForRange(e){let i=new Set;for(let o of this._decorationsMetadata.values())e.containsRange(o.item.anchor.range)&&i.add(o.item);return Array.from(i)}_installDblClickGesture(e){return this._editor.onMouseUp(i=>k(this,null,function*(){if(i.event.detail!==2)return;let o=this._getInlayHintLabelPart(i);if(o&&(i.event.preventDefault(),yield o.item.resolve(Je.None),Dn(o.item.hint.textEdits))){let r=o.item.hint.textEdits.map(s=>mi.replace(A.lift(s.range),s.text));this._editor.executeEdits("inlayHint.default",r),e()}}))}_installContextMenu(){return this._editor.onContextMenu(e=>k(this,null,function*(){if(!Wj(e.event.target))return;let i=this._getInlayHintLabelPart(e);i&&(yield this._instaService.invokeFunction(F$,this._editor,e.event.target,i))}))}_getInlayHintLabelPart(e){if(e.target.type!==6)return;let i=e.target.detail.injectedText?.options;if(i instanceof Ip&&i?.attachedData instanceof Xf)return i.attachedData}_invokeCommand(e,i){return k(this,null,function*(){try{yield this._commandService.executeCommand(e.id,...e.arguments??[])}catch(o){this._notificationService.notify({severity:mp.Error,source:i.provider.displayName,message:o})}})}_cacheHintsForFastRestore(e){let i=this._copyInlayHintsWithCurrentAnchor(e);this._inlayHintsCache.set(e,i)}_copyInlayHintsWithCurrentAnchor(e){let i=new Map;for(let[o,r]of this._decorationsMetadata){if(i.has(r.item))continue;let s=e.getDecorationRange(o);if(s){let a=new Cb(s,r.item.anchor.direction),l=r.item.with({anchor:a});i.set(r.item,l)}}return Array.from(i.values())}_getHintsRanges(){let i=this._editor.getModel(),o=this._editor.getVisibleRangesPlusViewportAboveBelow(),r=[];for(let s of o.sort(A.compareRangesUsingStarts)){let a=i.validateRange(new A(s.startLineNumber-30,s.startColumn,s.endLineNumber+30,s.endColumn));r.length===0||!A.areIntersectingOrTouching(r[r.length-1],a)?r.push(a):r[r.length-1]=A.plusRange(r[r.length-1],a)}return r}_updateHintsDecorators(e,i){let o=[],r=(p,g,v,b,C)=>{let T={content:v,inlineClassNameAffectsLetterSpacing:!0,inlineClassName:g.className,cursorStops:b,attachedData:C};o.push({item:p,classNameRef:g,decoration:{range:p.anchor.range,options:{description:"InlayHint",showIfCollapsed:p.anchor.range.isEmpty(),collapseOnReplaceEdit:!p.anchor.range.isEmpty(),stickiness:0,[p.anchor.direction]:this._activeRenderMode===0?T:void 0}}})},s=(p,g)=>{let v=this._ruleFactory.createClassNameRef({width:`${a/3|0}px`,display:"inline-block"});r(p,v,"\u200A",g?hc.Right:hc.None)},{fontSize:a,fontFamily:l,padding:c,isUniform:d}=this._getLayoutInfo(),u="--code-editorInlayHintsFontFamily";this._editor.getContainerDomNode().style.setProperty(u,l);let h={line:0,totalLen:0};for(let p of i){if(h.line!==p.anchor.range.startLineNumber&&(h={line:p.anchor.range.startLineNumber,totalLen:0}),h.totalLen>Yf._MAX_LABEL_LEN)continue;p.hint.paddingLeft&&s(p,!1);let g=typeof p.hint.label=="string"?[{label:p.hint.label}]:p.hint.label;for(let v=0;v<g.length;v++){let b=g[v],C=v===0,T=v===g.length-1,E={fontSize:`${a}px`,fontFamily:`var(${u}), ${tp.fontFamily}`,verticalAlign:d?"baseline":"middle",unicodeBidi:"isolate"};Dn(p.hint.textEdits)&&(E.cursor="default"),this._fillInColors(E,p.hint),(b.command||b.location)&&this._activeInlayHintPart?.part.item===p&&this._activeInlayHintPart.part.index===v&&(E.textDecoration="underline",this._activeInlayHintPart.hasTriggerModifier&&(E.color=zi(C4),E.cursor="pointer")),c&&(C&&T?(E.padding=`1px ${Math.max(1,a/4)|0}px`,E.borderRadius=`${a/4|0}px`):C?(E.padding=`1px 0 1px ${Math.max(1,a/4)|0}px`,E.borderRadius=`${a/4|0}px 0 0 ${a/4|0}px`):T?(E.padding=`1px ${Math.max(1,a/4)|0}px 1px 0`,E.borderRadius=`0 ${a/4|0}px ${a/4|0}px 0`):E.padding="1px 0 1px 0");let F=b.label;h.totalLen+=F.length;let L=!1,H=h.totalLen-Yf._MAX_LABEL_LEN;if(H>0&&(F=F.slice(0,-H)+"\u2026",L=!0),r(p,this._ruleFactory.createClassNameRef(E),Vve(F),T&&!p.hint.paddingRight?hc.Right:hc.None,new Xf(p,v)),L)break}if(p.hint.paddingRight&&s(p,!0),o.length>Yf._MAX_DECORATORS)break}let m=[];for(let[p,g]of this._decorationsMetadata){let v=this._editor.getModel()?.getDecorationRange(p);v&&e.some(b=>b.containsRange(v))&&(m.push(p),g.classNameRef.dispose(),this._decorationsMetadata.delete(p))}let f=vl.capture(this._editor);this._editor.changeDecorations(p=>{let g=p.deltaDecorations(m,o.map(v=>v.decoration));for(let v=0;v<g.length;v++){let b=o[v];this._decorationsMetadata.set(g[v],b)}}),f.restore(this._editor)}_fillInColors(e,i){i.kind===XT.Parameter?(e.backgroundColor=zi(L4),e.color=zi(P4)):i.kind===XT.Type?(e.backgroundColor=zi(O4),e.color=zi(R4)):(e.backgroundColor=zi(A4),e.color=zi(T4))}_getLayoutInfo(){let e=this._editor.getOption(142),i=e.padding,o=this._editor.getOption(52),r=this._editor.getOption(49),s=e.fontSize;(!s||s<5||s>o)&&(s=o);let a=e.fontFamily||r;return{fontSize:s,fontFamily:a,padding:i,isUniform:!i&&a===r&&s===o}}_removeAllDecorations(){this._editor.removeDecorations(Array.from(this._decorationsMetadata.keys()));for(let e of this._decorationsMetadata.values())e.classNameRef.dispose();this._decorationsMetadata.clear()}};rm=Yf=Hve([Kf(1,ae),Kf(2,vn),Kf(3,z$),Kf(4,ci),Kf(5,Bi),Kf(6,De)],rm);function Vve(n){return n.replace(/[ \t]/g,"\xA0")}Pt.registerCommand("_executeInlayHintProvider",(n,...t)=>k(void 0,null,function*(){let[e,i]=t;Tt(ht.isUri(e)),Tt(A.isIRange(i));let{inlayHintsProvider:o}=n.get(ae),r=yield n.get(no).createModelReference(e);try{let s=yield Sb.create(o,r.object.textEditorModel,[A.lift(i)],Je.None),a=s.items.map(l=>l.hint);return setTimeout(()=>s.dispose(),0),a}finally{r.dispose()}}));_n();Lt();Ae();Yo();Oi();Ui();var Wve=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},ru=function(n,t){return function(e,i){t(e,i,n)}},dD=class extends eu{constructor(t,e,i,o){super(10,e,t.item.anchor.range,i,o,!0),this.part=t}},Zf=class extends nu{constructor(t,e,i,o,r,s,a,l,c){super(t,e,i,s,l,o,r,c),this._resolverService=a,this.hoverOrdinal=6}suggestHoverAnchor(t){if(!rm.get(this._editor)||t.target.type!==6)return null;let i=t.target.detail.injectedText?.options;return i instanceof Ip&&i.attachedData instanceof Xf?new dD(i.attachedData,this,t.event.posx,t.event.posy):null}computeSync(){return[]}computeAsync(t,e,i){return t instanceof dD?new hr(o=>k(this,null,function*(){let{part:r}=t;if(yield r.item.resolve(i),i.isCancellationRequested)return;let s;typeof r.item.hint.tooltip=="string"?s=new hn().appendText(r.item.hint.tooltip):r.item.hint.tooltip&&(s=r.item.hint.tooltip),s&&o.emitOne(new br(this,t.range,[s],!1,0)),Dn(r.item.hint.textEdits)&&o.emitOne(new br(this,t.range,[new hn().appendText(_("hint.dbl","Double-click to insert"))],!1,10001));let a;if(typeof r.part.tooltip=="string"?a=new hn().appendText(r.part.tooltip):r.part.tooltip&&(a=r.part.tooltip),a&&o.emitOne(new br(this,t.range,[a],!1,1)),r.part.location||r.part.command){let m,p=this._editor.getOption(78)==="altKey"?dr?_("links.navigate.kb.meta.mac","cmd + click"):_("links.navigate.kb.meta","ctrl + click"):dr?_("links.navigate.kb.alt.mac","option + click"):_("links.navigate.kb.alt","alt + click");r.part.location&&r.part.command?m=new hn().appendText(_("hint.defAndCommand","Go to Definition ({0}), right click for more",p)):r.part.location?m=new hn().appendText(_("hint.def","Go to Definition ({0})",p)):r.part.command&&(m=new hn(`[${_("hint.cmd","Execute Command")}](${x$(r.part.command)} "${r.part.command.title}") (${p})`,{isTrusted:!0})),m&&o.emitOne(new br(this,t.range,[m],!1,1e4))}let l=yield this._resolveInlayHintLabelPartHover(r,i);try{for(var c=lx(l),d,u,h;d=!(u=yield c.next()).done;d=!1){let m=u.value;o.emitOne(m)}}catch{h=[u]}finally{try{d&&(u=c.return)&&(yield u.call(c))}finally{if(h)throw h[0]}}})):hr.EMPTY}_resolveInlayHintLabelPartHover(t,e){return k(this,null,function*(){if(!t.part.location)return hr.EMPTY;let{uri:i,range:o}=t.part.location,r=yield this._resolverService.createModelReference(i);try{let s=r.object.textEditorModel;return this._languageFeaturesService.hoverProvider.has(s)?xb(this._languageFeaturesService.hoverProvider,s,new he(o.startLineNumber,o.startColumn),e).filter(a=>!bd(a.hover.contents)).map(a=>new br(this,t.item.anchor.range,a.hover.contents,!1,2+a.ordinal)):hr.EMPTY}finally{r.dispose()}})}};Zf=Wve([ru(1,Un),ru(2,Gn),ru(3,Vt),ru(4,pc),ru(5,_t),ru(6,no),ru(7,ae),ru(8,ci)],Zf);Bt();var uD=class n extends U{constructor(t,e,i,o,r,s){super();let a=e.anchor,l=e.hoverParts;this._renderedHoverParts=this._register(new qL(t,i,l,s,r));let{showAtPosition:c,showAtSecondaryPosition:d}=n.computeHoverPositions(t,a.range,l);this.shouldAppearBeforeContent=l.some(u=>u.isBeforeContent),this.showAtPosition=c,this.showAtSecondaryPosition=d,this.initialMousePosX=a.initialMousePosX,this.initialMousePosY=a.initialMousePosY,this.shouldFocus=o.shouldFocus,this.source=o.source}get domNode(){return this._renderedHoverParts.domNode}get domNodeHasChildren(){return this._renderedHoverParts.domNodeHasChildren}get focusedHoverPartIndex(){return this._renderedHoverParts.focusedHoverPartIndex}updateHoverVerbosityLevel(t,e,i){return k(this,null,function*(){this._renderedHoverParts.updateHoverVerbosityLevel(t,e,i)})}isColorPickerVisible(){return this._renderedHoverParts.isColorPickerVisible()}static computeHoverPositions(t,e,i){let o=1;if(t.hasModel()){let d=t._getViewModel(),u=d.coordinatesConverter,h=u.convertModelRangeToViewRange(e),m=d.getLineMinColumn(h.startLineNumber),f=new he(h.startLineNumber,m);o=u.convertViewPositionToModelPosition(f).column}let r=e.startLineNumber,s=e.startColumn,a;for(let d of i){let u=d.range,h=u.startLineNumber===r,m=u.endLineNumber===r;if(h&&m){let p=u.startColumn,g=Math.min(s,p);s=Math.max(g,o)}d.forceShowAtRange&&(a=u)}let l,c;if(a){let d=a.getStartPosition();l=d,c=d}else l=e.getStartPosition(),c=new he(r,s);return{showAtPosition:l,showAtSecondaryPosition:c}}},UL=class{constructor(t,e){this._statusBar=e,t.appendChild(this._statusBar.hoverElement)}get hoverElement(){return this._statusBar.hoverElement}get actions(){return this._statusBar.actions}dispose(){this._statusBar.dispose()}},qL=class n extends U{static{this._DECORATION_OPTIONS=at.register({description:"content-hover-highlight",className:"hoverHighlight"})}constructor(t,e,i,o,r){super(),this._renderedParts=[],this._focusedHoverPartIndex=-1,this._context=r,this._fragment=document.createDocumentFragment(),this._register(this._renderParts(e,i,r,o)),this._register(this._registerListenersOnRenderedParts()),this._register(this._createEditorDecorations(t,i)),this._updateMarkdownAndColorParticipantInfo(e)}_createEditorDecorations(t,e){if(e.length===0)return U.None;let i=e[0].range;for(let r of e){let s=r.range;i=A.plusRange(i,s)}let o=t.createDecorationsCollection();return o.set([{range:i,options:n._DECORATION_OPTIONS}]),Mt(()=>{o.clear()})}_renderParts(t,e,i,o){let r=new Hf(o),s=j({fragment:this._fragment,statusBar:r},i),a=new G;for(let c of t){let d=this._renderHoverPartsForParticipant(e,c,s);a.add(d);for(let u of d.renderedHoverParts)this._renderedParts.push({type:"hoverPart",participant:c,hoverPart:u.hoverPart,hoverElement:u.hoverElement})}let l=this._renderStatusBar(this._fragment,r);return l&&(a.add(l),this._renderedParts.push({type:"statusBar",hoverElement:l.hoverElement,actions:l.actions})),Mt(()=>{a.dispose()})}_renderHoverPartsForParticipant(t,e,i){let o=t.filter(s=>s.owner===e);return o.length>0?e.renderHoverParts(i,o):new Jr([])}_renderStatusBar(t,e){if(e.hasContent)return new UL(t,e)}_registerListenersOnRenderedParts(){let t=new G;return this._renderedParts.forEach((e,i)=>{let o=e.hoverElement;o.tabIndex=0,t.add(Ct(o,li.FOCUS_IN,r=>{r.stopPropagation(),this._focusedHoverPartIndex=i})),t.add(Ct(o,li.FOCUS_OUT,r=>{r.stopPropagation(),this._focusedHoverPartIndex=-1}))}),t}_updateMarkdownAndColorParticipantInfo(t){let e=t.find(i=>i instanceof nu&&!(i instanceof Zf));e&&(this._markdownHoverParticipant=e),this._colorHoverParticipant=t.find(i=>i instanceof Qh)}updateHoverVerbosityLevel(t,e,i){return k(this,null,function*(){if(!this._markdownHoverParticipant)return;let o=this._normalizedIndexToMarkdownHoverIndexRange(this._markdownHoverParticipant,e);if(o===void 0)return;let r=yield this._markdownHoverParticipant.updateMarkdownHoverVerbosityLevel(t,o,i);r&&(this._renderedParts[e]={type:"hoverPart",participant:this._markdownHoverParticipant,hoverPart:r.hoverPart,hoverElement:r.hoverElement},this._context.onContentsChanged())})}isColorPickerVisible(){return this._colorHoverParticipant?.isColorPickerVisible()??!1}_normalizedIndexToMarkdownHoverIndexRange(t,e){let i=this._renderedParts[e];if(!i||i.type!=="hoverPart"||!(i.participant===t))return;let r=this._renderedParts.findIndex(s=>s.type==="hoverPart"&&s.participant===t);if(r===-1)throw new ol;return e-r}get domNode(){return this._fragment}get domNodeHasChildren(){return this._fragment.hasChildNodes()}get focusedHoverPartIndex(){return this._focusedHoverPartIndex}};var jve=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},B$=function(n,t){return function(e,i){t(e,i,n)}},hD=class extends U{constructor(t,e,i){super(),this._editor=t,this._instantiationService=e,this._keybindingService=i,this._currentResult=null,this._onContentsChanged=this._register(new je),this.onContentsChanged=this._onContentsChanged.event,this._contentHoverWidget=this._register(this._instantiationService.createInstance(zI,this._editor)),this._participants=this._initializeHoverParticipants(),this._computer=new BI(this._editor,this._participants),this._hoverOperation=this._register(new Bf(this._editor,this._computer)),this._registerListeners()}_initializeHoverParticipants(){let t=[];for(let e of ys.getAll()){let i=this._instantiationService.createInstance(e,this._editor);t.push(i)}return t.sort((e,i)=>e.hoverOrdinal-i.hoverOrdinal),this._register(this._contentHoverWidget.onDidResize(()=>{this._participants.forEach(e=>e.handleResize?.())})),t}_registerListeners(){this._register(this._hoverOperation.onResult(e=>{if(!this._computer.anchor)return;let i=e.hasLoadingMessage?this._addLoadingMessage(e.value):e.value;this._withResult(new yb(this._computer.anchor,i,e.isComplete))}));let t=this._contentHoverWidget.getDomNode();this._register(mr(t,"keydown",e=>{e.equals(9)&&this.hide()})),this._register(mr(t,"mouseleave",e=>{this._onMouseLeave(e)})),this._register(rp.onDidChange(()=>{this._contentHoverWidget.position&&this._currentResult&&this._setCurrentResult(this._currentResult)}))}_startShowingOrUpdateHover(t,e,i,o,r){if(!(this._contentHoverWidget.position&&this._currentResult))return t?(this._startHoverOperationIfNecessary(t,e,i,o,!1),!0):!1;let a=this._editor.getOption(60).sticky,l=r&&this._contentHoverWidget.isMouseGettingCloser(r.event.posx,r.event.posy);return a&&l?(t&&this._startHoverOperationIfNecessary(t,e,i,o,!0),!0):t?this._currentResult.anchor.equals(t)?!0:t.canAdoptVisibleHover(this._currentResult.anchor,this._contentHoverWidget.position)?(this._setCurrentResult(this._currentResult.filter(t)),this._startHoverOperationIfNecessary(t,e,i,o,!1),!0):(this._setCurrentResult(null),this._startHoverOperationIfNecessary(t,e,i,o,!1),!0):(this._setCurrentResult(null),!1)}_startHoverOperationIfNecessary(t,e,i,o,r){this._computer.anchor&&this._computer.anchor.equals(t)||(this._hoverOperation.cancel(),this._computer.anchor=t,this._computer.shouldFocus=o,this._computer.source=i,this._computer.insistOnKeepingHoverVisible=r,this._hoverOperation.start(e))}_setCurrentResult(t){let e=t;if(this._currentResult===e)return;e&&e.hoverParts.length===0&&(e=null),this._currentResult=e,this._currentResult?this._showHover(this._currentResult):this._hideHover()}_addLoadingMessage(t){if(!this._computer.anchor)return t;for(let e of this._participants){if(!e.createLoadingMessage)continue;let i=e.createLoadingMessage(this._computer.anchor);if(i)return t.slice(0).concat([i])}return t}_withResult(t){if(this._contentHoverWidget.position&&this._currentResult&&this._currentResult.isComplete||this._setCurrentResult(t),!t.isComplete)return;let o=t.hoverParts.length===0,r=this._computer.insistOnKeepingHoverVisible;o&&r||this._setCurrentResult(t)}_showHover(t){let e=this._getHoverContext();this._renderedContentHover=new uD(this._editor,t,this._participants,this._computer,e,this._keybindingService),this._renderedContentHover.domNodeHasChildren?this._contentHoverWidget.show(this._renderedContentHover):this._renderedContentHover.dispose()}_hideHover(){this._contentHoverWidget.hide()}_getHoverContext(){return{hide:()=>{this.hide()},onContentsChanged:()=>{this._onContentsChanged.fire(),this._contentHoverWidget.onContentsChanged()},setMinimumDimensions:o=>{this._contentHoverWidget.setMinimumDimensions(o)}}}showsOrWillShow(t){if(this._contentHoverWidget.isResizing)return!0;let i=this._findHoverAnchorCandidates(t);if(!(i.length>0))return this._startShowingOrUpdateHover(null,0,0,!1,t);let r=i[0];return this._startShowingOrUpdateHover(r,0,0,!1,t)}_findHoverAnchorCandidates(t){let e=[];for(let o of this._participants){if(!o.suggestHoverAnchor)continue;let r=o.suggestHoverAnchor(t);r&&e.push(r)}let i=t.target;switch(i.type){case 6:{e.push(new Ff(0,i.range,t.event.posx,t.event.posy));break}case 7:{let o=this._editor.getOption(50).typicalHalfwidthCharacterWidth/2;if(!(!i.detail.isAfterLines&&typeof i.detail.horizontalDistanceToText=="number"&&i.detail.horizontalDistanceToText<o))break;e.push(new Ff(0,i.range,t.event.posx,t.event.posy));break}}return e.sort((o,r)=>r.priority-o.priority),e}_onMouseLeave(t){let e=this._editor.getDomNode();(!e||!tu(e,t.x,t.y))&&this.hide()}startShowingAtRange(t,e,i,o){this._startShowingOrUpdateHover(new Ff(0,t,void 0,void 0),e,i,o,null)}updateHoverVerbosityLevel(t,e,i){return k(this,null,function*(){this._renderedContentHover?.updateHoverVerbosityLevel(t,e,i)})}focusedHoverPartIndex(){return this._renderedContentHover?.focusedHoverPartIndex??-1}containsNode(t){return t?this._contentHoverWidget.getDomNode().contains(t):!1}focus(){this._contentHoverWidget.focus()}scrollUp(){this._contentHoverWidget.scrollUp()}scrollDown(){this._contentHoverWidget.scrollDown()}scrollLeft(){this._contentHoverWidget.scrollLeft()}scrollRight(){this._contentHoverWidget.scrollRight()}pageUp(){this._contentHoverWidget.pageUp()}pageDown(){this._contentHoverWidget.pageDown()}goToTop(){this._contentHoverWidget.goToTop()}goToBottom(){this._contentHoverWidget.goToBottom()}hide(){this._computer.anchor=null,this._hoverOperation.cancel(),this._setCurrentResult(null)}getDomNode(){return this._contentHoverWidget.getDomNode()}get isColorPickerVisible(){return this._renderedContentHover?.isColorPickerVisible()??!1}get isVisibleFromKeyboard(){return this._contentHoverWidget.isVisibleFromKeyboard}get isVisible(){return this._contentHoverWidget.isVisible}get isFocused(){return this._contentHoverWidget.isFocused}get isResizing(){return this._contentHoverWidget.isResizing}get widget(){return this._contentHoverWidget}};hD=jve([B$(1,De),B$(2,Vt)],hD);oi();var Uve=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},H$=function(n,t){return function(e,i){t(e,i,n)}},GL,mD=!1,co=class extends U{static{GL=this}static{this.ID="editor.contrib.contentHover"}constructor(e,i,o){super(),this._editor=e,this._instantiationService=i,this._keybindingService=o,this._onHoverContentsChanged=this._register(new je),this.shouldKeepOpenOnEditorMouseMoveOrLeave=!1,this._listenersStore=new G,this._hoverState={mouseDown:!1,activatedByDecoratorClick:!1},this._reactToEditorMouseMoveRunner=this._register(new si(()=>this._reactToEditorMouseMove(this._mouseMoveEvent),0)),this._hookListeners(),this._register(this._editor.onDidChangeConfiguration(r=>{r.hasChanged(60)&&(this._unhookListeners(),this._hookListeners())}))}static get(e){return e.getContribution(GL.ID)}_hookListeners(){let e=this._editor.getOption(60);this._hoverSettings={enabled:e.enabled,sticky:e.sticky,hidingDelay:e.hidingDelay},e.enabled?(this._listenersStore.add(this._editor.onMouseDown(i=>this._onEditorMouseDown(i))),this._listenersStore.add(this._editor.onMouseUp(()=>this._onEditorMouseUp())),this._listenersStore.add(this._editor.onMouseMove(i=>this._onEditorMouseMove(i))),this._listenersStore.add(this._editor.onKeyDown(i=>this._onKeyDown(i)))):(this._listenersStore.add(this._editor.onMouseMove(i=>this._onEditorMouseMove(i))),this._listenersStore.add(this._editor.onKeyDown(i=>this._onKeyDown(i)))),this._listenersStore.add(this._editor.onMouseLeave(i=>this._onEditorMouseLeave(i))),this._listenersStore.add(this._editor.onDidChangeModel(()=>{this._cancelScheduler(),this._hideWidgets()})),this._listenersStore.add(this._editor.onDidChangeModelContent(()=>this._cancelScheduler())),this._listenersStore.add(this._editor.onDidScrollChange(i=>this._onEditorScrollChanged(i)))}_unhookListeners(){this._listenersStore.clear()}_cancelScheduler(){this._mouseMoveEvent=void 0,this._reactToEditorMouseMoveRunner.cancel()}_onEditorScrollChanged(e){(e.scrollTopChanged||e.scrollLeftChanged)&&this._hideWidgets()}_onEditorMouseDown(e){this._hoverState.mouseDown=!0,!this._shouldNotHideCurrentHoverWidget(e)&&this._hideWidgets()}_shouldNotHideCurrentHoverWidget(e){return this._isMouseOnContentHoverWidget(e)||this._isContentWidgetResizing()}_isMouseOnContentHoverWidget(e){let i=this._contentWidget?.getDomNode();return i?tu(i,e.event.posx,e.event.posy):!1}_onEditorMouseUp(){this._hoverState.mouseDown=!1}_onEditorMouseLeave(e){this.shouldKeepOpenOnEditorMouseMoveOrLeave||(this._cancelScheduler(),this._shouldNotHideCurrentHoverWidget(e))||mD||this._hideWidgets()}_shouldNotRecomputeCurrentHoverWidget(e){let i=this._hoverSettings.sticky,o=(a,l)=>{let c=this._isMouseOnContentHoverWidget(a);return l&&c},r=a=>{let l=this._isMouseOnContentHoverWidget(a),c=this._contentWidget?.isColorPickerVisible??!1;return l&&c},s=(a,l)=>(l&&this._contentWidget?.containsNode(a.event.browserEvent.view?.document.activeElement)&&!a.event.browserEvent.view?.getSelection()?.isCollapsed)??!1;return o(e,i)||r(e)||s(e,i)}_onEditorMouseMove(e){if(this.shouldKeepOpenOnEditorMouseMoveOrLeave||(this._mouseMoveEvent=e,this._contentWidget?.isFocused||this._contentWidget?.isResizing))return;let i=this._hoverSettings.sticky;if(i&&this._contentWidget?.isVisibleFromKeyboard)return;if(this._shouldNotRecomputeCurrentHoverWidget(e)){this._reactToEditorMouseMoveRunner.cancel();return}let r=this._hoverSettings.hidingDelay;if(this._contentWidget?.isVisible&&i&&r>0){this._reactToEditorMouseMoveRunner.isScheduled()||this._reactToEditorMouseMoveRunner.schedule(r);return}this._reactToEditorMouseMove(e)}_reactToEditorMouseMove(e){if(!e)return;let o=e.target.element?.classList.contains("colorpicker-color-decoration"),r=this._editor.getOption(149),s=this._hoverSettings.enabled,a=this._hoverState.activatedByDecoratorClick;if(o&&(r==="click"&&!a||r==="hover"&&!s&&!mD||r==="clickAndHover"&&!s&&!a)||!o&&!s&&!a){this._hideWidgets();return}this._tryShowHoverWidget(e)||mD||this._hideWidgets()}_tryShowHoverWidget(e){return this._getOrCreateContentWidget().showsOrWillShow(e)}_onKeyDown(e){if(!this._editor.hasModel())return;let i=this._keybindingService.softDispatch(e,this._editor.getDomNode()),o=i.kind===1||i.kind===2&&(i.commandId===TI||i.commandId===Jh||i.commandId===em)&&this._contentWidget?.isVisible;e.keyCode===5||e.keyCode===6||e.keyCode===57||e.keyCode===4||o||this._hideWidgets()}_hideWidgets(){mD||this._hoverState.mouseDown&&this._contentWidget?.isColorPickerVisible||Pc.dropDownVisible||(this._hoverState.activatedByDecoratorClick=!1,this._contentWidget?.hide())}_getOrCreateContentWidget(){return this._contentWidget||(this._contentWidget=this._instantiationService.createInstance(hD,this._editor),this._listenersStore.add(this._contentWidget.onContentsChanged(()=>this._onHoverContentsChanged.fire()))),this._contentWidget}showContentHover(e,i,o,r,s=!1){this._hoverState.activatedByDecoratorClick=s,this._getOrCreateContentWidget().startShowingAtRange(e,i,o,r)}_isContentWidgetResizing(){return this._contentWidget?.widget.isResizing||!1}focusedHoverPartIndex(){return this._getOrCreateContentWidget().focusedHoverPartIndex()}updateHoverVerbosityLevel(e,i,o){this._getOrCreateContentWidget().updateHoverVerbosityLevel(e,i,o)}focus(){this._contentWidget?.focus()}scrollUp(){this._contentWidget?.scrollUp()}scrollDown(){this._contentWidget?.scrollDown()}scrollLeft(){this._contentWidget?.scrollLeft()}scrollRight(){this._contentWidget?.scrollRight()}pageUp(){this._contentWidget?.pageUp()}pageDown(){this._contentWidget?.pageDown()}goToTop(){this._contentWidget?.goToTop()}goToBottom(){this._contentWidget?.goToBottom()}get isColorPickerVisible(){return this._contentWidget?.isColorPickerVisible}get isHoverVisible(){return this._contentWidget?.isVisible}dispose(){super.dispose(),this._unhookListeners(),this._listenersStore.dispose(),this._contentWidget?.dispose()}};co=GL=Uve([H$(1,De),H$(2,Vt)],co);var V$=(()=>{class n extends U{static{this.ID="editor.contrib.colorContribution"}constructor(e){super(),this._editor=e,this._register(e.onMouseDown(i=>this.onMouseDown(i)))}dispose(){super.dispose()}onMouseDown(e){let i=this._editor.getOption(149);if(i!=="click"&&i!=="clickAndHover")return;let o=e.target;if(o.type!==6||!o.detail.injectedText||o.detail.injectedText.options.attachedData!==iL||!o.range)return;let r=this._editor.getContribution(co.ID);if(r&&!r.isColorPickerVisible){let s=new A(o.range.startLineNumber,o.range.startColumn+1,o.range.endLineNumber,o.range.endColumn+1);r.showContentHover(s,1,0,!1,!0)}}}return n})();Me(V$.ID,V$,2);ys.register(Qh);tt();Ae();ce();Ot();oi();Lt();tt();$t();mt();gt();fh();var j$=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},Qf=function(n,t){return function(e,i){t(e,i,n)}},$L,KL,su=class extends U{static{$L=this}static{this.ID="editor.contrib.standaloneColorPickerController"}constructor(e,i,o){super(),this._editor=e,this._instantiationService=o,this._standaloneColorPickerWidget=null,this._standaloneColorPickerVisible=M.standaloneColorPickerVisible.bindTo(i),this._standaloneColorPickerFocused=M.standaloneColorPickerFocused.bindTo(i)}showOrFocus(){this._editor.hasModel()&&(this._standaloneColorPickerVisible.get()?this._standaloneColorPickerFocused.get()||this._standaloneColorPickerWidget?.focus():this._standaloneColorPickerWidget=this._instantiationService.createInstance(YL,this._editor,this._standaloneColorPickerVisible,this._standaloneColorPickerFocused))}hide(){this._standaloneColorPickerFocused.set(!1),this._standaloneColorPickerVisible.set(!1),this._standaloneColorPickerWidget?.hide(),this._editor.focus()}insertColor(){this._standaloneColorPickerWidget?.updateEditor(),this.hide()}static get(e){return e.getContribution($L.ID)}};su=$L=j$([Qf(1,Xe),Qf(2,De)],su);Me(su.ID,su,1);var W$=8,qve=22,YL=class extends U{static{KL=this}static{this.ID="editor.contrib.standaloneColorPickerWidget"}constructor(e,i,o,r,s,a,l){super(),this._editor=e,this._standaloneColorPickerVisible=i,this._standaloneColorPickerFocused=o,this._keybindingService=s,this._languageFeaturesService=a,this._editorWorkerService=l,this.allowEditorOverflow=!0,this._position=void 0,this._body=document.createElement("div"),this._colorHover=null,this._selectionSetInEditor=!1,this._onResult=this._register(new je),this.onResult=this._onResult.event,this._standaloneColorPickerVisible.set(!0),this._standaloneColorPickerParticipant=r.createInstance(zf,this._editor),this._position=this._editor._getViewModel()?.getPrimaryCursorState().modelState.position;let c=this._editor.getSelection(),d=c?{startLineNumber:c.startLineNumber,startColumn:c.startColumn,endLineNumber:c.endLineNumber,endColumn:c.endColumn}:{startLineNumber:0,endLineNumber:0,endColumn:0,startColumn:0},u=this._register(Sa(this._body));this._register(u.onDidBlur(h=>{this.hide()})),this._register(u.onDidFocus(h=>{this.focus()})),this._register(this._editor.onDidChangeCursorPosition(()=>{this._selectionSetInEditor?this._selectionSetInEditor=!1:this.hide()})),this._register(this._editor.onMouseMove(h=>{let m=h.target.element?.classList;m&&m.contains("colorpicker-color-decoration")&&this.hide()})),this._register(this.onResult(h=>{this._render(h.value,h.foundInEditor)})),this._start(d),this._body.style.zIndex="50",this._editor.addContentWidget(this)}updateEditor(){this._colorHover&&this._standaloneColorPickerParticipant.updateEditorModel(this._colorHover)}getId(){return KL.ID}getDomNode(){return this._body}getPosition(){if(!this._position)return null;let e=this._editor.getOption(60).above;return{position:this._position,secondaryPosition:this._position,preference:e?[1,2]:[2,1],positionAffinity:2}}hide(){this.dispose(),this._standaloneColorPickerVisible.set(!1),this._standaloneColorPickerFocused.set(!1),this._editor.removeContentWidget(this),this._editor.focus()}focus(){this._standaloneColorPickerFocused.set(!0),this._body.focus()}_start(e){return k(this,null,function*(){let i=yield this._computeAsync(e);i&&this._onResult.fire(new XL(i.result,i.foundInEditor))})}_computeAsync(e){return k(this,null,function*(){if(!this._editor.hasModel())return null;let i={range:e,color:{red:0,green:0,blue:0,alpha:1}},o=yield this._standaloneColorPickerParticipant.createColorHover(i,new Xh(this._editorWorkerService),this._languageFeaturesService.colorProvider);return o?{result:o.colorHover,foundInEditor:o.foundInEditor}:null})}_render(e,i){let o=document.createDocumentFragment(),r=this._register(new Hf(this._keybindingService)),s={fragment:o,statusBar:r,onContentsChanged:()=>{},hide:()=>this.hide()};this._colorHover=e;let a=this._standaloneColorPickerParticipant.renderHoverParts(s,[e]);if(!a)return;this._register(a.disposables);let l=a.colorPicker;this._body.classList.add("standalone-colorpicker-body"),this._body.style.maxHeight=Math.max(this._editor.getLayoutInfo().height/4,250)+"px",this._body.style.maxWidth=Math.max(this._editor.getLayoutInfo().width*.66,500)+"px",this._body.tabIndex=0,this._body.appendChild(o),l.layout();let c=l.body,d=c.saturationBox.domNode.clientWidth,u=c.domNode.clientWidth-d-qve-W$,h=l.body.enterButton;h?.onClicked(()=>{this.updateEditor(),this.hide()});let m=l.header,f=m.pickedColorNode;f.style.width=d+W$+"px";let p=m.originalColorNode;p.style.width=u+"px",l.header.closeButton?.onClicked(()=>{this.hide()}),i&&(h&&(h.button.textContent="Replace"),this._selectionSetInEditor=!0,this._editor.setSelection(e.range)),this._editor.layoutContentWidget(this)}};YL=KL=j$([Qf(3,De),Qf(4,Vt),Qf(5,ae),Qf(6,gr)],YL);var XL=class{constructor(t,e){this.value=t,this.foundInEditor=e}};$t();$i();var ZL=class extends kr{constructor(){super({id:"editor.action.showOrFocusStandaloneColorPicker",title:Te(j({},Pe("showOrFocusStandaloneColorPicker","Show or Focus Standalone Color Picker")),{mnemonicTitle:_({key:"mishowOrFocusStandaloneColorPicker",comment:["&& denotes a mnemonic"]},"&&Show or Focus Standalone Color Picker")}),precondition:void 0,menu:[{id:ve.CommandPalette}],metadata:{description:Pe("showOrFocusStandaloneColorPickerDescription","Show or focus a standalone color picker which uses the default color provider. It displays hex/rgb/hsl colors.")}})}runEditorCommand(t,e){su.get(e)?.showOrFocus()}},QL=class extends Z{constructor(){super({id:"editor.action.hideColorPicker",label:_({key:"hideColorPicker",comment:["Action that hides the color picker"]},"Hide the Color Picker"),alias:"Hide the Color Picker",precondition:M.standaloneColorPickerVisible.isEqualTo(!0),kbOpts:{primary:9,weight:100},metadata:{description:Pe("hideColorPickerDescription","Hide the standalone color picker.")}})}run(t,e){su.get(e)?.hide()}},JL=class extends Z{constructor(){super({id:"editor.action.insertColorWithStandaloneColorPicker",label:_({key:"insertColorWithStandaloneColorPicker",comment:["Action that inserts color with standalone color picker"]},"Insert Color with Standalone Color Picker"),alias:"Insert Color with Standalone Color Picker",precondition:M.standaloneColorPickerFocused.isEqualTo(!0),kbOpts:{primary:3,weight:100},metadata:{description:Pe("insertColorWithStandaloneColorPickerDescription","Insert hex/rgb/hsl colors with the focused standalone color picker.")}})}run(t,e){su.get(e)?.insertColor()}};V(QL);V(JL);Gt(ZL);oc();tt();qe();$t();Jo();hi();qe();Pn();var Bc=class n{constructor(t,e,i){this.languageConfigurationService=i,this._selection=t,this._insertSpace=e,this._usedEndToken=null}static _haystackHasNeedleAtOffset(t,e,i){if(i<0)return!1;let o=e.length,r=t.length;if(i+o>r)return!1;for(let s=0;s<o;s++){let a=t.charCodeAt(i+s),l=e.charCodeAt(s);if(a!==l&&!(a>=65&&a<=90&&a+32===l)&&!(l>=65&&l<=90&&l+32===a))return!1}return!0}_createOperationsForBlockComment(t,e,i,o,r,s){let a=t.startLineNumber,l=t.startColumn,c=t.endLineNumber,d=t.endColumn,u=r.getLineContent(a),h=r.getLineContent(c),m=u.lastIndexOf(e,l-1+e.length),f=h.indexOf(i,d-1-i.length);if(m!==-1&&f!==-1)if(a===c)u.substring(m+e.length,f).indexOf(i)>=0&&(m=-1,f=-1);else{let g=u.substring(m+e.length),v=h.substring(0,f);(g.indexOf(i)>=0||v.indexOf(i)>=0)&&(m=-1,f=-1)}let p;m!==-1&&f!==-1?(o&&m+e.length<u.length&&u.charCodeAt(m+e.length)===32&&(e=e+" "),o&&f>0&&h.charCodeAt(f-1)===32&&(i=" "+i,f-=1),p=n._createRemoveBlockCommentOperations(new A(a,m+e.length+1,c,f+1),e,i)):(p=n._createAddBlockCommentOperations(t,e,i,this._insertSpace),this._usedEndToken=p.length===1?i:null);for(let g of p)s.addTrackedEditOperation(g.range,g.text)}static _createRemoveBlockCommentOperations(t,e,i){let o=[];return A.isEmpty(t)?o.push(mi.delete(new A(t.startLineNumber,t.startColumn-e.length,t.endLineNumber,t.endColumn+i.length))):(o.push(mi.delete(new A(t.startLineNumber,t.startColumn-e.length,t.startLineNumber,t.startColumn))),o.push(mi.delete(new A(t.endLineNumber,t.endColumn,t.endLineNumber,t.endColumn+i.length)))),o}static _createAddBlockCommentOperations(t,e,i,o){let r=[];return A.isEmpty(t)?r.push(mi.replace(new A(t.startLineNumber,t.startColumn,t.endLineNumber,t.endColumn),e+"  "+i)):(r.push(mi.insert(new he(t.startLineNumber,t.startColumn),e+(o?" ":""))),r.push(mi.insert(new he(t.endLineNumber,t.endColumn),(o?" ":"")+i))),r}getEditOperations(t,e){let i=this._selection.startLineNumber,o=this._selection.startColumn;t.tokenization.tokenizeIfCheap(i);let r=t.getLanguageIdAtPosition(i,o),s=this.languageConfigurationService.getLanguageConfiguration(r).comments;!s||!s.blockCommentStartToken||!s.blockCommentEndToken||this._createOperationsForBlockComment(this._selection,s.blockCommentStartToken,s.blockCommentEndToken,this._insertSpace,t,e)}computeCursorState(t,e){let i=e.getInverseEditOperations();if(i.length===2){let o=i[0],r=i[1];return new ze(o.range.endLineNumber,o.range.endColumn,r.range.startLineNumber,r.range.startColumn)}else{let o=i[0].range,r=this._usedEndToken?-this._usedEndToken.length-1:0;return new ze(o.endLineNumber,o.endColumn+r,o.endLineNumber,o.endColumn+r)}}};Fi();hi();qe();Pn();var pD=class n{constructor(t,e,i,o,r,s,a){this.languageConfigurationService=t,this._selection=e,this._indentSize=i,this._type=o,this._insertSpace=r,this._selectionId=null,this._deltaColumn=0,this._moveEndPositionDown=!1,this._ignoreEmptyLines=s,this._ignoreFirstLine=a||!1}static _gatherPreflightCommentStrings(t,e,i,o){t.tokenization.tokenizeIfCheap(e);let r=t.getLanguageIdAtPosition(e,1),s=o.getLanguageConfiguration(r).comments,a=s?s.lineCommentToken:null;if(!a)return null;let l=[];for(let c=0,d=i-e+1;c<d;c++)l[c]={ignore:!1,commentStr:a,commentStrOffset:0,commentStrLength:a.length};return l}static _analyzeLines(t,e,i,o,r,s,a,l){let c=!0,d;t===0?d=!0:t===1?d=!1:d=!0;for(let u=0,h=o.length;u<h;u++){let m=o[u],f=r+u;if(f===r&&a){m.ignore=!0;continue}let p=i.getLineContent(f),g=F_(p);if(g===-1){m.ignore=s,m.commentStrOffset=p.length;continue}if(c=!1,m.ignore=!1,m.commentStrOffset=g,d&&!Bc._haystackHasNeedleAtOffset(p,m.commentStr,g)&&(t===0?d=!1:t===1||(m.ignore=!0)),d&&e){let v=g+m.commentStrLength;v<p.length&&p.charCodeAt(v)===32&&(m.commentStrLength+=1)}}if(t===0&&c){d=!1;for(let u=0,h=o.length;u<h;u++)o[u].ignore=!1}return{supported:!0,shouldRemoveComments:d,lines:o}}static _gatherPreflightData(t,e,i,o,r,s,a,l){let c=n._gatherPreflightCommentStrings(i,o,r,l);return c===null?{supported:!1}:n._analyzeLines(t,e,i,c,o,s,a,l)}_executeLineComments(t,e,i,o){let r;i.shouldRemoveComments?r=n._createRemoveLineCommentsOperations(i.lines,o.startLineNumber):(n._normalizeInsertionPoint(t,i.lines,o.startLineNumber,this._indentSize),r=this._createAddLineCommentsOperations(i.lines,o.startLineNumber));let s=new he(o.positionLineNumber,o.positionColumn);for(let a=0,l=r.length;a<l;a++)e.addEditOperation(r[a].range,r[a].text),A.isEmpty(r[a].range)&&A.getStartPosition(r[a].range).equals(s)&&t.getLineContent(s.lineNumber).length+1===s.column&&(this._deltaColumn=(r[a].text||"").length);this._selectionId=e.trackSelection(o)}_attemptRemoveBlockComment(t,e,i,o){let r=e.startLineNumber,s=e.endLineNumber,a=o.length+Math.max(t.getLineFirstNonWhitespaceColumn(e.startLineNumber),e.startColumn),l=t.getLineContent(r).lastIndexOf(i,a-1),c=t.getLineContent(s).indexOf(o,e.endColumn-1-i.length);return l!==-1&&c===-1&&(c=t.getLineContent(r).indexOf(o,l+i.length),s=r),l===-1&&c!==-1&&(l=t.getLineContent(s).lastIndexOf(i,c),r=s),e.isEmpty()&&(l===-1||c===-1)&&(l=t.getLineContent(r).indexOf(i),l!==-1&&(c=t.getLineContent(r).indexOf(o,l+i.length))),l!==-1&&t.getLineContent(r).charCodeAt(l+i.length)===32&&(i+=" "),c!==-1&&t.getLineContent(s).charCodeAt(c-1)===32&&(o=" "+o,c-=1),l!==-1&&c!==-1?Bc._createRemoveBlockCommentOperations(new A(r,l+i.length+1,s,c+1),i,o):null}_executeBlockComment(t,e,i){t.tokenization.tokenizeIfCheap(i.startLineNumber);let o=t.getLanguageIdAtPosition(i.startLineNumber,1),r=this.languageConfigurationService.getLanguageConfiguration(o).comments;if(!r||!r.blockCommentStartToken||!r.blockCommentEndToken)return;let s=r.blockCommentStartToken,a=r.blockCommentEndToken,l=this._attemptRemoveBlockComment(t,i,s,a);if(!l){if(i.isEmpty()){let c=t.getLineContent(i.startLineNumber),d=F_(c);d===-1&&(d=c.length),l=Bc._createAddBlockCommentOperations(new A(i.startLineNumber,d+1,i.startLineNumber,c.length+1),s,a,this._insertSpace)}else l=Bc._createAddBlockCommentOperations(new A(i.startLineNumber,t.getLineFirstNonWhitespaceColumn(i.startLineNumber),i.endLineNumber,t.getLineMaxColumn(i.endLineNumber)),s,a,this._insertSpace);l.length===1&&(this._deltaColumn=s.length+1)}this._selectionId=e.trackSelection(i);for(let c of l)e.addEditOperation(c.range,c.text)}getEditOperations(t,e){let i=this._selection;if(this._moveEndPositionDown=!1,i.startLineNumber===i.endLineNumber&&this._ignoreFirstLine){e.addEditOperation(new A(i.startLineNumber,t.getLineMaxColumn(i.startLineNumber),i.startLineNumber+1,1),i.startLineNumber===t.getLineCount()?"":`
`),this._selectionId=e.trackSelection(i);return}i.startLineNumber<i.endLineNumber&&i.endColumn===1&&(this._moveEndPositionDown=!0,i=i.setEndPosition(i.endLineNumber-1,t.getLineMaxColumn(i.endLineNumber-1)));let o=n._gatherPreflightData(this._type,this._insertSpace,t,i.startLineNumber,i.endLineNumber,this._ignoreEmptyLines,this._ignoreFirstLine,this.languageConfigurationService);return o.supported?this._executeLineComments(t,e,o,i):this._executeBlockComment(t,e,i)}computeCursorState(t,e){let i=e.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(i=i.setEndPosition(i.endLineNumber+1,1)),new ze(i.selectionStartLineNumber,i.selectionStartColumn+this._deltaColumn,i.positionLineNumber,i.positionColumn+this._deltaColumn)}static _createRemoveLineCommentsOperations(t,e){let i=[];for(let o=0,r=t.length;o<r;o++){let s=t[o];s.ignore||i.push(mi.delete(new A(e+o,s.commentStrOffset+1,e+o,s.commentStrOffset+s.commentStrLength+1)))}return i}_createAddLineCommentsOperations(t,e){let i=[],o=this._insertSpace?" ":"";for(let r=0,s=t.length;r<s;r++){let a=t[r];a.ignore||i.push(mi.insert(new he(e+r,a.commentStrOffset+1),a.commentStr+o))}return i}static nextVisibleColumn(t,e,i,o){return i?t+(e-t%e):t+o}static _normalizeInsertionPoint(t,e,i,o){let r=1073741824,s,a;for(let l=0,c=e.length;l<c;l++){if(e[l].ignore)continue;let d=t.getLineContent(i+l),u=0;for(let h=0,m=e[l].commentStrOffset;u<r&&h<m;h++)u=n.nextVisibleColumn(u,o,d.charCodeAt(h)===9,1);u<r&&(r=u)}r=Math.floor(r/o)*o;for(let l=0,c=e.length;l<c;l++){if(e[l].ignore)continue;let d=t.getLineContent(i+l),u=0;for(s=0,a=e[l].commentStrOffset;u<r&&s<a;s++)u=n.nextVisibleColumn(u,o,d.charCodeAt(s)===9,1);u>r?e[l].commentStrOffset=s-1:e[l].commentStrOffset=s}}};Ae();$i();var Mb=class extends Z{constructor(t,e){super(e),this._type=t}run(t,e){let i=t.get(_i);if(!e.hasModel())return;let o=e.getModel(),r=[],s=o.getOptions(),a=e.getOption(23),l=e.getSelections().map((d,u)=>({selection:d,index:u,ignoreFirstLine:!1}));l.sort((d,u)=>A.compareRangesUsingStarts(d.selection,u.selection));let c=l[0];for(let d=1;d<l.length;d++){let u=l[d];c.selection.endLineNumber===u.selection.startLineNumber&&(c.index<u.index?u.ignoreFirstLine=!0:(c.ignoreFirstLine=!0,c=u))}for(let d of l)r.push(new pD(i,d.selection,s.indentSize,this._type,a.insertSpace,a.ignoreEmptyLines,d.ignoreFirstLine));e.pushUndoStop(),e.executeCommands(this.id,r),e.pushUndoStop()}},eN=class extends Mb{constructor(){super(0,{id:"editor.action.commentLine",label:_("comment.line","Toggle Line Comment"),alias:"Toggle Line Comment",precondition:M.writable,kbOpts:{kbExpr:M.editorTextFocus,primary:2138,weight:100},menuOpts:{menuId:ve.MenubarEditMenu,group:"5_insert",title:_({key:"miToggleLineComment",comment:["&& denotes a mnemonic"]},"&&Toggle Line Comment"),order:1}})}},tN=class extends Mb{constructor(){super(1,{id:"editor.action.addCommentLine",label:_("comment.line.add","Add Line Comment"),alias:"Add Line Comment",precondition:M.writable,kbOpts:{kbExpr:M.editorTextFocus,primary:Pi(2089,2081),weight:100}})}},iN=class extends Mb{constructor(){super(2,{id:"editor.action.removeCommentLine",label:_("comment.line.remove","Remove Line Comment"),alias:"Remove Line Comment",precondition:M.writable,kbOpts:{kbExpr:M.editorTextFocus,primary:Pi(2089,2099),weight:100}})}},nN=class extends Z{constructor(){super({id:"editor.action.blockComment",label:_("comment.block","Toggle Block Comment"),alias:"Toggle Block Comment",precondition:M.writable,kbOpts:{kbExpr:M.editorTextFocus,primary:1567,linux:{primary:3103},weight:100},menuOpts:{menuId:ve.MenubarEditMenu,group:"5_insert",title:_({key:"miToggleBlockComment",comment:["&& denotes a mnemonic"]},"Toggle &&Block Comment"),order:2}})}run(t,e){let i=t.get(_i);if(!e.hasModel())return;let o=e.getOption(23),r=[],s=e.getSelections();for(let a of s)r.push(new Bc(a,o.insertSpace,i));e.pushUndoStop(),e.executeCommands(this.id,r),e.pushUndoStop()}};V(eN);V(tN);V(iN);V(nN);gt();lh();ce();Yo();tt();$t();Ae();$i();mt();_n();var Gve=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},sm=function(n,t){return function(e,i){t(e,i,n)}},oN,am=class{static{oN=this}static{this.ID="editor.contrib.contextmenu"}static get(e){return e.getContribution(oN.ID)}constructor(e,i,o,r,s,a,l,c){this._contextMenuService=i,this._contextViewService=o,this._contextKeyService=r,this._keybindingService=s,this._menuService=a,this._configurationService=l,this._workspaceContextService=c,this._toDispose=new G,this._contextMenuIsBeingShownCount=0,this._editor=e,this._toDispose.add(this._editor.onContextMenu(d=>this._onContextMenu(d))),this._toDispose.add(this._editor.onMouseWheel(d=>{if(this._contextMenuIsBeingShownCount>0){let u=this._contextViewService.getContextViewElement(),h=d.srcElement;h.shadowRoot&&Bj(u)===h.shadowRoot||this._contextViewService.hideContextView()}})),this._toDispose.add(this._editor.onKeyDown(d=>{this._editor.getOption(24)&&d.keyCode===58&&(d.preventDefault(),d.stopPropagation(),this.showContextMenu())}))}_onContextMenu(e){if(!this._editor.hasModel())return;if(!this._editor.getOption(24)){this._editor.focus(),e.target.position&&!this._editor.getSelection().containsPosition(e.target.position)&&this._editor.setPosition(e.target.position);return}if(e.target.type===12||e.target.type===6&&e.target.detail.injectedText)return;if(e.event.preventDefault(),e.event.stopPropagation(),e.target.type===11)return this._showScrollbarContextMenu(e.event);if(e.target.type!==6&&e.target.type!==7&&e.target.type!==1)return;if(this._editor.focus(),e.target.position){let o=!1;for(let r of this._editor.getSelections())if(r.containsPosition(e.target.position)){o=!0;break}o||this._editor.setPosition(e.target.position)}let i=null;e.target.type!==1&&(i=e.event),this.showContextMenu(i)}showContextMenu(e){if(!this._editor.getOption(24)||!this._editor.hasModel())return;let i=this._getMenuActions(this._editor.getModel(),this._editor.contextMenuId);i.length>0&&this._doShowContextMenu(i,e)}_getMenuActions(e,i){let o=[],r=this._menuService.getMenuActions(i,this._contextKeyService,{arg:e.uri});for(let s of r){let[,a]=s,l=0;for(let c of a)if(c instanceof Xj){let d=this._getMenuActions(e,c.item.submenu);d.length>0&&(o.push(new sA(c.id,c.label,d)),l++)}else o.push(c),l++;l&&o.push(new ac)}return o.length&&o.pop(),o}_doShowContextMenu(e,i=null){if(!this._editor.hasModel())return;let o=this._editor.getOption(60);this._editor.updateOptions({hover:{enabled:!1}});let r=i;if(!r){this._editor.revealPosition(this._editor.getPosition(),1),this._editor.render();let a=this._editor.getScrolledVisiblePosition(this._editor.getPosition()),l=Gi(this._editor.getDomNode()),c=l.left+a.left,d=l.top+a.top+a.height;r={x:c,y:d}}let s=this._editor.getOption(128)&&!T_;this._contextMenuIsBeingShownCount++,this._contextMenuService.showContextMenu({domForShadowRoot:s?this._editor.getOverflowWidgetsDomNode()??this._editor.getDomNode():void 0,getAnchor:()=>r,getActions:()=>e,getActionViewItem:a=>{let l=this._keybindingFor(a);if(l)return new J_(a,a,{label:!0,keybinding:l.getLabel(),isMenu:!0});let c=a;return typeof c.getActionViewItem=="function"?c.getActionViewItem():new J_(a,a,{icon:!0,label:!0,isMenu:!0})},getKeyBinding:a=>this._keybindingFor(a),onHide:a=>{this._contextMenuIsBeingShownCount--,this._editor.updateOptions({hover:o})}})}_showScrollbarContextMenu(e){if(!this._editor.hasModel()||I5(this._workspaceContextService.getWorkspace()))return;let i=this._editor.getOption(73),o=0,r=d=>({id:`menu-action-${++o}`,label:d.label,tooltip:"",class:void 0,enabled:typeof d.enabled>"u"?!0:d.enabled,checked:d.checked,run:d.run}),s=(d,u)=>new sA(`menu-action-${++o}`,d,u,void 0),a=(d,u,h,m,f)=>{if(!u)return r({label:d,enabled:u,run:()=>{}});let p=v=>()=>{this._configurationService.updateValue(h,v)},g=[];for(let v of f)g.push(r({label:v.label,checked:m===v.value,run:p(v.value)}));return s(d,g)},l=[];l.push(r({label:_("context.minimap.minimap","Minimap"),checked:i.enabled,run:()=>{this._configurationService.updateValue("editor.minimap.enabled",!i.enabled)}})),l.push(new ac),l.push(r({label:_("context.minimap.renderCharacters","Render Characters"),enabled:i.enabled,checked:i.renderCharacters,run:()=>{this._configurationService.updateValue("editor.minimap.renderCharacters",!i.renderCharacters)}})),l.push(a(_("context.minimap.size","Vertical size"),i.enabled,"editor.minimap.size",i.size,[{label:_("context.minimap.size.proportional","Proportional"),value:"proportional"},{label:_("context.minimap.size.fill","Fill"),value:"fill"},{label:_("context.minimap.size.fit","Fit"),value:"fit"}])),l.push(a(_("context.minimap.slider","Slider"),i.enabled,"editor.minimap.showSlider",i.showSlider,[{label:_("context.minimap.slider.mouseover","Mouse Over"),value:"mouseover"},{label:_("context.minimap.slider.always","Always"),value:"always"}]));let c=this._editor.getOption(128)&&!T_;this._contextMenuIsBeingShownCount++,this._contextMenuService.showContextMenu({domForShadowRoot:c?this._editor.getDomNode():void 0,getAnchor:()=>e,getActions:()=>l,onHide:d=>{this._contextMenuIsBeingShownCount--,this._editor.focus()}})}_keybindingFor(e){return this._keybindingService.lookupKeybinding(e.id)}dispose(){this._contextMenuIsBeingShownCount>0&&this._contextViewService.hideContextView(),this._toDispose.dispose()}};am=oN=Gve([sm(1,Bs),sm(2,vd),sm(3,Xe),sm(4,Vt),sm(5,Ns),sm(6,_t),sm(7,yc)],am);var rN=class extends Z{constructor(){super({id:"editor.action.showContextMenu",label:_("action.showContextMenu.label","Show Editor Context Menu"),alias:"Show Editor Context Menu",precondition:void 0,kbOpts:{kbExpr:M.textInputFocus,primary:1092,weight:100}})}run(t,e){am.get(e)?.showContextMenu()}};Me(am.ID,am,2);V(rN);ce();tt();$t();Ae();var Tb=class{constructor(t){this.selections=t}equals(t){let e=this.selections.length,i=t.selections.length;if(e!==i)return!1;for(let o=0;o<e;o++)if(!this.selections[o].equalsSelection(t.selections[o]))return!1;return!0}},Ab=class{constructor(t,e,i){this.cursorState=t,this.scrollTop=e,this.scrollLeft=i}},fD=(()=>{class n extends U{static{this.ID="editor.contrib.cursorUndoRedoController"}static get(e){return e.getContribution(n.ID)}constructor(e){super(),this._editor=e,this._isCursorUndoRedo=!1,this._undoStack=[],this._redoStack=[],this._register(e.onDidChangeModel(i=>{this._undoStack=[],this._redoStack=[]})),this._register(e.onDidChangeModelContent(i=>{this._undoStack=[],this._redoStack=[]})),this._register(e.onDidChangeCursorSelection(i=>{if(this._isCursorUndoRedo||!i.oldSelections||i.oldModelVersionId!==i.modelVersionId)return;let o=new Tb(i.oldSelections);this._undoStack.length>0&&this._undoStack[this._undoStack.length-1].cursorState.equals(o)||(this._undoStack.push(new Ab(o,e.getScrollTop(),e.getScrollLeft())),this._redoStack=[],this._undoStack.length>50&&this._undoStack.shift())}))}cursorUndo(){!this._editor.hasModel()||this._undoStack.length===0||(this._redoStack.push(new Ab(new Tb(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._undoStack.pop()))}cursorRedo(){!this._editor.hasModel()||this._redoStack.length===0||(this._undoStack.push(new Ab(new Tb(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._redoStack.pop()))}_applyState(e){this._isCursorUndoRedo=!0,this._editor.setSelections(e.cursorState.selections),this._editor.setScrollPosition({scrollTop:e.scrollTop,scrollLeft:e.scrollLeft}),this._isCursorUndoRedo=!1}}return n})(),sN=class extends Z{constructor(){super({id:"cursorUndo",label:_("cursor.undo","Cursor Undo"),alias:"Cursor Undo",precondition:void 0,kbOpts:{kbExpr:M.textInputFocus,primary:2099,weight:100}})}run(t,e,i){fD.get(e)?.cursorUndo()}},aN=class extends Z{constructor(){super({id:"cursorRedo",label:_("cursor.redo","Cursor Redo"),alias:"Cursor Redo",precondition:void 0})}run(t,e,i){fD.get(e)?.cursorRedo()}};Me(fD.ID,fD,0);V(sN);V(aN);ce();Yo();tt();hi();qe();Pn();bn();qe();Pn();var gD=class{constructor(t,e,i){this.selection=t,this.targetPosition=e,this.copy=i,this.targetSelection=null}getEditOperations(t,e){let i=t.getValueInRange(this.selection);if(this.copy||e.addEditOperation(this.selection,null),e.addEditOperation(new A(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column),i),this.selection.containsPosition(this.targetPosition)&&!(this.copy&&(this.selection.getEndPosition().equals(this.targetPosition)||this.selection.getStartPosition().equals(this.targetPosition)))){this.targetSelection=this.selection;return}if(this.copy){this.targetSelection=new ze(this.targetPosition.lineNumber,this.targetPosition.column,this.selection.endLineNumber-this.selection.startLineNumber+this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}if(this.targetPosition.lineNumber>this.selection.endLineNumber){this.targetSelection=new ze(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}if(this.targetPosition.lineNumber<this.selection.endLineNumber){this.targetSelection=new ze(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber+this.selection.endLineNumber-this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}this.selection.endColumn<=this.targetPosition.column?this.targetSelection=new ze(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column-this.selection.endColumn+this.selection.startColumn:this.targetPosition.column-this.selection.endColumn+this.selection.startColumn,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column:this.selection.endColumn):this.targetSelection=new ze(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column+this.selection.endColumn-this.selection.startColumn)}computeCursorState(t,e){return this.targetSelection}};function Jf(n){return dr?n.altKey:n.ctrlKey}var _D=class n extends U{static{this.ID="editor.contrib.dragAndDrop"}static{this.TRIGGER_KEY_VALUE=dr?6:5}constructor(t){super(),this._editor=t,this._dndDecorationIds=this._editor.createDecorationsCollection(),this._register(this._editor.onMouseDown(e=>this._onEditorMouseDown(e))),this._register(this._editor.onMouseUp(e=>this._onEditorMouseUp(e))),this._register(this._editor.onMouseDrag(e=>this._onEditorMouseDrag(e))),this._register(this._editor.onMouseDrop(e=>this._onEditorMouseDrop(e))),this._register(this._editor.onMouseDropCanceled(()=>this._onEditorMouseDropCanceled())),this._register(this._editor.onKeyDown(e=>this.onEditorKeyDown(e))),this._register(this._editor.onKeyUp(e=>this.onEditorKeyUp(e))),this._register(this._editor.onDidBlurEditorWidget(()=>this.onEditorBlur())),this._register(this._editor.onDidBlurEditorText(()=>this.onEditorBlur())),this._mouseDown=!1,this._modifierPressed=!1,this._dragSelection=null}onEditorBlur(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1}onEditorKeyDown(t){!this._editor.getOption(35)||this._editor.getOption(22)||(Jf(t)&&(this._modifierPressed=!0),this._mouseDown&&Jf(t)&&this._editor.updateOptions({mouseStyle:"copy"}))}onEditorKeyUp(t){!this._editor.getOption(35)||this._editor.getOption(22)||(Jf(t)&&(this._modifierPressed=!1),this._mouseDown&&t.keyCode===n.TRIGGER_KEY_VALUE&&this._editor.updateOptions({mouseStyle:"default"}))}_onEditorMouseDown(t){this._mouseDown=!0}_onEditorMouseUp(t){this._mouseDown=!1,this._editor.updateOptions({mouseStyle:"text"})}_onEditorMouseDrag(t){let e=t.target;if(this._dragSelection===null){let o=(this._editor.getSelections()||[]).filter(r=>e.position&&r.containsPosition(e.position));if(o.length===1)this._dragSelection=o[0];else return}Jf(t.event)?this._editor.updateOptions({mouseStyle:"copy"}):this._editor.updateOptions({mouseStyle:"default"}),e.position&&(this._dragSelection.containsPosition(e.position)?this._removeDecoration():this.showAt(e.position))}_onEditorMouseDropCanceled(){this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}_onEditorMouseDrop(t){if(t.target&&(this._hitContent(t.target)||this._hitMargin(t.target))&&t.target.position){let e=new he(t.target.position.lineNumber,t.target.position.column);if(this._dragSelection===null){let i=null;if(t.event.shiftKey){let o=this._editor.getSelection();if(o){let{selectionStartLineNumber:r,selectionStartColumn:s}=o;i=[new ze(r,s,e.lineNumber,e.column)]}}else i=(this._editor.getSelections()||[]).map(o=>o.containsPosition(e)?new ze(e.lineNumber,e.column,e.lineNumber,e.column):o);this._editor.setSelections(i||[],"mouse",3)}else(!this._dragSelection.containsPosition(e)||(Jf(t.event)||this._modifierPressed)&&(this._dragSelection.getEndPosition().equals(e)||this._dragSelection.getStartPosition().equals(e)))&&(this._editor.pushUndoStop(),this._editor.executeCommand(n.ID,new gD(this._dragSelection,e,Jf(t.event)||this._modifierPressed)),this._editor.pushUndoStop())}this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}static{this._DECORATION_OPTIONS=at.register({description:"dnd-target",className:"dnd-target"})}showAt(t){this._dndDecorationIds.set([{range:new A(t.lineNumber,t.column,t.lineNumber,t.column),options:n._DECORATION_OPTIONS}]),this._editor.revealPosition(t,1)}_removeDecoration(){this._dndDecorationIds.clear()}_hitContent(t){return t.type===6||t.type===7}_hitMargin(t){return t.type===2||t.type===3||t.type===4}dispose(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1,super.dispose()}};Me(_D.ID,_D,2);tt();$t();Ae();Me(Ba.ID,Ba,0);Ws(tI);Ne(new class extends Ki{constructor(){super({id:DP,precondition:aI,kbOpts:{weight:100,primary:2137}})}runEditorCommand(n,t){return Ba.get(t)?.changePasteType()}});Ne(new class extends Ki{constructor(){super({id:"editor.hidePasteWidget",precondition:aI,kbOpts:{weight:100,primary:9}})}runEditorCommand(n,t){Ba.get(t)?.clearWidgets()}});V(class U$ extends Z{static{this.argsSchema={type:"object",properties:{kind:{type:"string",description:_("pasteAs.kind","The kind of the paste edit to try applying. If not provided or there are multiple edits for this kind, the editor will show a picker.")}}}}constructor(){super({id:"editor.action.pasteAs",label:_("pasteAs","Paste As..."),alias:"Paste As...",precondition:M.writable,metadata:{description:"Paste as",args:[{name:"args",schema:U$.argsSchema}]}})}run(t,e,i){let o=typeof i?.kind=="string"?i.kind:void 0;return!o&&i&&(o=typeof i.id=="string"?i.id:void 0),Ba.get(e)?.pasteAs(o?new Qt(o):void 0)}});V(class extends Z{constructor(){super({id:"editor.action.pasteAsText",label:_("pasteAsText","Paste as Text"),alias:"Paste as Text",precondition:M.writable})}run(n,t){return Ba.get(t)?.pasteAs({providerId:Rc.id})}});tt();Ae();uA();lc();Oi();Ht();ce();qe();Lt();var vD=class{constructor(){this._dragOperations=new Map}removeDragOperationTransfer(t){if(t&&this._dragOperations.has(t)){let e=this._dragOperations.get(t);return this._dragOperations.delete(t),e}}},Rb=class{constructor(t){this.identifier=t}};cc();Ot();var lN=No("treeViewsDndService");zo(lN,vD,1);_h();Ae();_n();mt();Ot();var $ve=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},bD=function(n,t){return function(e,i){t(e,i,n)}},cN,dN="editor.experimental.dropIntoEditor.defaultProvider",uN="editor.changeDropType",yD=new ot("dropWidgetVisible",!1,_("dropWidgetVisible","Whether the drop widget is showing")),lm=class extends U{static{cN=this}static{this.ID="editor.contrib.dropIntoEditorController"}static get(e){return e.getContribution(cN.ID)}constructor(e,i,o,r,s){super(),this._configService=o,this._languageFeaturesService=r,this._treeViewsDragAndDropService=s,this.treeItemsTransfer=XS.getInstance(),this._dropProgressManager=this._register(i.createInstance(Ef,"dropIntoEditor",e)),this._postDropWidgetManager=this._register(i.createInstance(Tf,"dropIntoEditor",e,yD,{id:uN,label:_("postDropWidgetTitle","Show drop options...")})),this._register(e.onDropIntoEditor(a=>this.onDropIntoEditor(e,a.position,a.event)))}clearWidgets(){this._postDropWidgetManager.clear()}changeDropType(){this._postDropWidgetManager.tryShowSelector()}onDropIntoEditor(e,i,o){return k(this,null,function*(){if(!o.dataTransfer||!e.hasModel())return;this._currentOperation?.cancel(),e.focus(),e.setPosition(i);let r=yi(s=>k(this,null,function*(){let a=new G,l=a.add(new bl(e,1,void 0,s));try{let c=yield this.extractDataTransferData(o);if(c.size===0||l.token.isCancellationRequested)return;let d=e.getModel();if(!d)return;let u=this._languageFeaturesService.documentDropEditProvider.ordered(d).filter(m=>m.dropMimeTypes?m.dropMimeTypes.some(f=>c.matches(f)):!0),h=a.add(yield this.getDropEdits(u,d,i,c,l));if(l.token.isCancellationRequested)return;if(h.edits.length){let m=this.getInitialActiveEditIndex(d,h.edits),f=e.getOption(36).showDropSelector==="afterDrop";yield this._postDropWidgetManager.applyEditAndShowIfNeeded([A.fromPositions(i)],{activeEditIndex:m,allEdits:h.edits},f,p=>k(this,null,function*(){return p}),s)}}finally{a.dispose(),this._currentOperation===r&&(this._currentOperation=void 0)}}));this._dropProgressManager.showWhile(i,_("dropIntoEditorProgress","Running drop handlers. Click to cancel"),r,{cancel:()=>r.cancel()}),this._currentOperation=r})}getDropEdits(e,i,o,r,s){return k(this,null,function*(){let a=new G,l=yield sl(Promise.all(e.map(d=>k(this,null,function*(){try{let u=yield d.provideDocumentDropEdits(i,o,r,s.token);return u&&a.add(u),u?.edits.map(h=>Te(j({},h),{providerId:d.id}))}catch(u){console.error(u)}}))),s.token),c=Ko(l??[]).flat();return{edits:oI(c),dispose:()=>a.dispose()}})}getInitialActiveEditIndex(e,i){let o=this._configService.getValue(dN,{resource:e.uri});for(let[r,s]of Object.entries(o)){let a=new Qt(s),l=i.findIndex(c=>a.value===c.providerId&&c.handledMimeType&&YS(r,[c.handledMimeType]));if(l>=0)return l}return 0}extractDataTransferData(e){return k(this,null,function*(){if(!e.dataTransfer)return new If;let i=ZS(e.dataTransfer);if(this.treeItemsTransfer.hasData(Rb.prototype)){let o=this.treeItemsTransfer.getData(Rb.prototype);if(Array.isArray(o))for(let r of o){let s=yield this._treeViewsDragAndDropService.removeDragOperationTransfer(r.identifier);if(s)for(let[a,l]of s)i.replace(a,l)}}return i})}};lm=cN=$ve([bD(1,De),bD(2,_t),bD(3,ae),bD(4,lN)],lm);Me(lm.ID,lm,2);Ws(eI);Ne(new class extends Ki{constructor(){super({id:uN,precondition:yD,kbOpts:{weight:100,primary:2137}})}runEditorCommand(n,t,e){lm.get(t)?.changeDropType()}});Ne(new class extends Ki{constructor(){super({id:"editor.hideDropWidget",precondition:yD,kbOpts:{weight:100,primary:9}})}runEditorCommand(n,t,e){lm.get(t)?.clearWidgets()}});go.as(fd.Configuration).registerConfiguration(Te(j({},vp),{properties:{[dN]:{type:"object",scope:5,description:_("defaultProviderDescription","Configures the default drop provider to use for content of a given mime type."),default:{},additionalProperties:{type:"string"}}}}));Ht();ce();Fi();tt();TA();$t();ka();W_();Ht();ce();hi();qe();Pn();_ce();qe();ka();bn();Eo();Do();var xD=class n{constructor(t){this._editor=t,this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null,this._startPosition=this._editor.getPosition()}dispose(){this._editor.removeDecorations(this._allDecorations()),this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}reset(){this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}getCount(){return this._decorations.length}getFindScope(){return this._findScopeDecorationIds[0]?this._editor.getModel().getDecorationRange(this._findScopeDecorationIds[0]):null}getFindScopes(){if(this._findScopeDecorationIds.length){let t=this._findScopeDecorationIds.map(e=>this._editor.getModel().getDecorationRange(e)).filter(e=>!!e);if(t.length)return t}return null}getStartPosition(){return this._startPosition}setStartPosition(t){this._startPosition=t,this.setCurrentFindMatch(null)}_getDecorationIndex(t){let e=this._decorations.indexOf(t);return e>=0?e+1:1}getDecorationRangeAt(t){let e=t<this._decorations.length?this._decorations[t]:null;return e?this._editor.getModel().getDecorationRange(e):null}getCurrentMatchesPosition(t){let e=this._editor.getModel().getDecorationsInRange(t);for(let i of e){let o=i.options;if(o===n._FIND_MATCH_DECORATION||o===n._CURRENT_FIND_MATCH_DECORATION)return this._getDecorationIndex(i.id)}return 0}setCurrentFindMatch(t){let e=null,i=0;if(t)for(let o=0,r=this._decorations.length;o<r;o++){let s=this._editor.getModel().getDecorationRange(this._decorations[o]);if(t.equalsRange(s)){e=this._decorations[o],i=o+1;break}}return(this._highlightedDecorationId!==null||e!==null)&&this._editor.changeDecorations(o=>{if(this._highlightedDecorationId!==null&&(o.changeDecorationOptions(this._highlightedDecorationId,n._FIND_MATCH_DECORATION),this._highlightedDecorationId=null),e!==null&&(this._highlightedDecorationId=e,o.changeDecorationOptions(this._highlightedDecorationId,n._CURRENT_FIND_MATCH_DECORATION)),this._rangeHighlightDecorationId!==null&&(o.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),e!==null){let r=this._editor.getModel().getDecorationRange(e);if(r.startLineNumber!==r.endLineNumber&&r.endColumn===1){let s=r.endLineNumber-1,a=this._editor.getModel().getLineMaxColumn(s);r=new A(r.startLineNumber,r.startColumn,s,a)}this._rangeHighlightDecorationId=o.addDecoration(r,n._RANGE_HIGHLIGHT_DECORATION)}}),i}set(t,e){this._editor.changeDecorations(i=>{let o=n._FIND_MATCH_DECORATION,r=[];if(t.length>1e3){o=n._FIND_MATCH_NO_OVERVIEW_DECORATION;let a=this._editor.getModel().getLineCount(),c=this._editor.getLayoutInfo().height/a,d=Math.max(2,Math.ceil(3/c)),u=t[0].range.startLineNumber,h=t[0].range.endLineNumber;for(let m=1,f=t.length;m<f;m++){let p=t[m].range;h+d>=p.startLineNumber?p.endLineNumber>h&&(h=p.endLineNumber):(r.push({range:new A(u,1,h,1),options:n._FIND_MATCH_ONLY_OVERVIEW_DECORATION}),u=p.startLineNumber,h=p.endLineNumber)}r.push({range:new A(u,1,h,1),options:n._FIND_MATCH_ONLY_OVERVIEW_DECORATION})}let s=new Array(t.length);for(let a=0,l=t.length;a<l;a++)s[a]={range:t[a].range,options:o};this._decorations=i.deltaDecorations(this._decorations,s),this._overviewRulerApproximateDecorations=i.deltaDecorations(this._overviewRulerApproximateDecorations,r),this._rangeHighlightDecorationId&&(i.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),this._findScopeDecorationIds.length&&(this._findScopeDecorationIds.forEach(a=>i.removeDecoration(a)),this._findScopeDecorationIds=[]),e?.length&&(this._findScopeDecorationIds=e.map(a=>i.addDecoration(a,n._FIND_SCOPE_DECORATION)))})}matchBeforePosition(t){if(this._decorations.length===0)return null;for(let e=this._decorations.length-1;e>=0;e--){let i=this._decorations[e],o=this._editor.getModel().getDecorationRange(i);if(!(!o||o.endLineNumber>t.lineNumber)){if(o.endLineNumber<t.lineNumber)return o;if(!(o.endColumn>t.column))return o}}return this._editor.getModel().getDecorationRange(this._decorations[this._decorations.length-1])}matchAfterPosition(t){if(this._decorations.length===0)return null;for(let e=0,i=this._decorations.length;e<i;e++){let o=this._decorations[e],r=this._editor.getModel().getDecorationRange(o);if(!(!r||r.startLineNumber<t.lineNumber)){if(r.startLineNumber>t.lineNumber)return r;if(!(r.startColumn<t.column))return r}}return this._editor.getModel().getDecorationRange(this._decorations[0])}_allDecorations(){let t=[];return t=t.concat(this._decorations),t=t.concat(this._overviewRulerApproximateDecorations),this._findScopeDecorationIds.length&&t.push(...this._findScopeDecorationIds),this._rangeHighlightDecorationId&&t.push(this._rangeHighlightDecorationId),t}static{this._CURRENT_FIND_MATCH_DECORATION=at.register({description:"current-find-match",stickiness:1,zIndex:13,className:"currentFindMatch",inlineClassName:"currentFindMatchInline",showIfCollapsed:!0,overviewRuler:{color:zi(Jx),position:Mr.Center},minimap:{color:zi(bA),position:1}})}static{this._FIND_MATCH_DECORATION=at.register({description:"find-match",stickiness:1,zIndex:10,className:"findMatch",inlineClassName:"findMatchInline",showIfCollapsed:!0,overviewRuler:{color:zi(Jx),position:Mr.Center},minimap:{color:zi(bA),position:1}})}static{this._FIND_MATCH_NO_OVERVIEW_DECORATION=at.register({description:"find-match-no-overview",stickiness:1,className:"findMatch",showIfCollapsed:!0})}static{this._FIND_MATCH_ONLY_OVERVIEW_DECORATION=at.register({description:"find-match-only-overview",stickiness:1,overviewRuler:{color:zi(Jx),position:Mr.Center}})}static{this._RANGE_HIGHLIGHT_DECORATION=at.register({description:"find-range-highlight",stickiness:1,className:"rangeHighlight",isWholeLine:!0})}static{this._FIND_SCOPE_DECORATION=at.register({description:"find-scope",className:"findScope",isWholeLine:!0})}};qe();var wD=class{constructor(t,e,i){this._editorSelection=t,this._ranges=e,this._replaceStrings=i,this._trackedEditorSelectionId=null}getEditOperations(t,e){if(this._ranges.length>0){let i=[];for(let s=0;s<this._ranges.length;s++)i.push({range:this._ranges[s],text:this._replaceStrings[s]});i.sort((s,a)=>A.compareRangesUsingStarts(s.range,a.range));let o=[],r=i[0];for(let s=1;s<i.length;s++)r.range.endLineNumber===i[s].range.startLineNumber&&r.range.endColumn===i[s].range.startColumn?(r.range=r.range.plusRange(i[s].range),r.text=r.text+i[s].text):(o.push(r),r=i[s]);o.push(r);for(let s of o)e.addEditOperation(s.range,s.text)}this._trackedEditorSelectionId=e.trackSelection(this._editorSelection)}computeCursorState(t,e){return e.getTrackedSelection(this._trackedEditorSelectionId)}};Fi();function hN(n,t){if(n&&n[0]!==""){let e=q$(n,t,"-"),i=q$(n,t,"_");return e&&!i?G$(n,t,"-"):!e&&i?G$(n,t,"_"):n[0].toUpperCase()===n[0]?t.toUpperCase():n[0].toLowerCase()===n[0]?t.toLowerCase():Ij(n[0][0])&&t.length>0?t[0].toUpperCase()+t.substr(1):n[0][0].toUpperCase()!==n[0][0]&&t.length>0?t[0].toLowerCase()+t.substr(1):t}else return t}function q$(n,t,e){return n[0].indexOf(e)!==-1&&t.indexOf(e)!==-1&&n[0].split(e).length===t.split(e).length}function G$(n,t,e){let i=t.split(e),o=n[0].split(e),r="";return i.forEach((s,a)=>{r+=hN([o[a]],s)+e}),r.slice(0,-1)}var CD=class{constructor(t){this.staticValue=t,this.kind=0}},mN=class{constructor(t){this.pieces=t,this.kind=1}},tg=class n{static fromStaticValue(t){return new n([eg.staticValue(t)])}get hasReplacementPatterns(){return this._state.kind===1}constructor(t){!t||t.length===0?this._state=new CD(""):t.length===1&&t[0].staticValue!==null?this._state=new CD(t[0].staticValue):this._state=new mN(t)}buildReplaceString(t,e){if(this._state.kind===0)return e?hN(t,this._state.staticValue):this._state.staticValue;let i="";for(let o=0,r=this._state.pieces.length;o<r;o++){let s=this._state.pieces[o];if(s.staticValue!==null){i+=s.staticValue;continue}let a=n._substitute(s.matchIndex,t);if(s.caseOps!==null&&s.caseOps.length>0){let l=[],c=s.caseOps.length,d=0;for(let u=0,h=a.length;u<h;u++){if(d>=c){l.push(a.slice(u));break}switch(s.caseOps[d]){case"U":l.push(a[u].toUpperCase());break;case"u":l.push(a[u].toUpperCase()),d++;break;case"L":l.push(a[u].toLowerCase());break;case"l":l.push(a[u].toLowerCase()),d++;break;default:l.push(a[u])}}a=l.join("")}i+=a}return i}static _substitute(t,e){if(e===null)return"";if(t===0)return e[0];let i="";for(;t>0;){if(t<e.length)return(e[t]||"")+i;i=String(t%10)+i,t=Math.floor(t/10)}return"$"+i}},eg=class n{static staticValue(t){return new n(t,-1,null)}static caseOps(t,e){return new n(null,t,e)}constructor(t,e,i){this.staticValue=t,this.matchIndex=e,!i||i.length===0?this.caseOps=null:this.caseOps=i.slice(0)}},pN=class{constructor(t){this._source=t,this._lastCharIndex=0,this._result=[],this._resultLen=0,this._currentStaticPiece=""}emitUnchanged(t){this._emitStatic(this._source.substring(this._lastCharIndex,t)),this._lastCharIndex=t}emitStatic(t,e){this._emitStatic(t),this._lastCharIndex=e}_emitStatic(t){t.length!==0&&(this._currentStaticPiece+=t)}emitMatchIndex(t,e,i){this._currentStaticPiece.length!==0&&(this._result[this._resultLen++]=eg.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),this._result[this._resultLen++]=eg.caseOps(t,i),this._lastCharIndex=e}finalize(){return this.emitUnchanged(this._source.length),this._currentStaticPiece.length!==0&&(this._result[this._resultLen++]=eg.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),new tg(this._result)}};function $$(n){if(!n||n.length===0)return new tg(null);let t=[],e=new pN(n);for(let i=0,o=n.length;i<o;i++){let r=n.charCodeAt(i);if(r===92){if(i++,i>=o)break;let s=n.charCodeAt(i);switch(s){case 92:e.emitUnchanged(i-1),e.emitStatic("\\",i+1);break;case 110:e.emitUnchanged(i-1),e.emitStatic(`
`,i+1);break;case 116:e.emitUnchanged(i-1),e.emitStatic("	",i+1);break;case 117:case 85:case 108:case 76:e.emitUnchanged(i-1),e.emitStatic("",i+1),t.push(String.fromCharCode(s));break}continue}if(r===36){if(i++,i>=o)break;let s=n.charCodeAt(i);if(s===36){e.emitUnchanged(i-1),e.emitStatic("$",i+1);continue}if(s===48||s===38){e.emitUnchanged(i-1),e.emitMatchIndex(0,i+1,t),t.length=0;continue}if(49<=s&&s<=57){let a=s-48;if(i+1<o){let l=n.charCodeAt(i+1);if(48<=l&&l<=57){i++,a=a*10+(l-48),e.emitUnchanged(i-2),e.emitMatchIndex(a,i+1,t),t.length=0;continue}}e.emitUnchanged(i-1),e.emitMatchIndex(a,i+1,t),t.length=0;continue}}}return e.finalize()}mt();var Rl=new ot("findWidgetVisible",!1),obt=Rl.toNegated(),ig=new ot("findInputFocussed",!1),Ob=new ot("replaceInputFocussed",!1),Pb={primary:545,mac:{primary:2593}},Lb={primary:565,mac:{primary:2613}},Nb={primary:560,mac:{primary:2608}},Fb={primary:554,mac:{primary:2602}},zb={primary:558,mac:{primary:2606}},wi={StartFindAction:"actions.find",StartFindWithSelection:"actions.findWithSelection",StartFindWithArgs:"editor.actions.findWithArgs",NextMatchFindAction:"editor.action.nextMatchFindAction",PreviousMatchFindAction:"editor.action.previousMatchFindAction",GoToMatchFindAction:"editor.action.goToMatchFindAction",NextSelectionMatchFindAction:"editor.action.nextSelectionMatchFindAction",PreviousSelectionMatchFindAction:"editor.action.previousSelectionMatchFindAction",StartFindReplaceAction:"editor.action.startFindReplaceAction",CloseFindWidgetCommand:"closeFindWidget",ToggleCaseSensitiveCommand:"toggleFindCaseSensitive",ToggleWholeWordCommand:"toggleFindWholeWord",ToggleRegexCommand:"toggleFindRegex",ToggleSearchScopeCommand:"toggleFindInSelection",TogglePreserveCaseCommand:"togglePreserveCase",ReplaceOneAction:"editor.action.replaceOne",ReplaceAllAction:"editor.action.replaceAll",SelectAllMatchesAction:"editor.action.selectAllMatches"},Al=19999,Kve=240,SD=class n{constructor(t,e){this._toDispose=new G,this._editor=t,this._state=e,this._isDisposed=!1,this._startSearchingTimer=new al,this._decorations=new xD(t),this._toDispose.add(this._decorations),this._updateDecorationsScheduler=new si(()=>{if(this._editor.hasModel())return this.research(!1)},100),this._toDispose.add(this._updateDecorationsScheduler),this._toDispose.add(this._editor.onDidChangeCursorPosition(i=>{(i.reason===3||i.reason===5||i.reason===6)&&this._decorations.setStartPosition(this._editor.getPosition())})),this._ignoreModelContentChanged=!1,this._toDispose.add(this._editor.onDidChangeModelContent(i=>{this._ignoreModelContentChanged||(i.isFlush&&this._decorations.reset(),this._decorations.setStartPosition(this._editor.getPosition()),this._updateDecorationsScheduler.schedule())})),this._toDispose.add(this._state.onFindReplaceStateChange(i=>this._onStateChanged(i))),this.research(!1,this._state.searchScope)}dispose(){this._isDisposed=!0,cn(this._startSearchingTimer),this._toDispose.dispose()}_onStateChanged(t){this._isDisposed||this._editor.hasModel()&&(t.searchString||t.isReplaceRevealed||t.isRegex||t.wholeWord||t.matchCase||t.searchScope)&&(this._editor.getModel().isTooLargeForSyncing()?(this._startSearchingTimer.cancel(),this._startSearchingTimer.setIfNotSet(()=>{t.searchScope?this.research(t.moveCursor,this._state.searchScope):this.research(t.moveCursor)},Kve)):t.searchScope?this.research(t.moveCursor,this._state.searchScope):this.research(t.moveCursor))}static _getSearchRange(t,e){return e||t.getFullModelRange()}research(t,e){let i=null;typeof e<"u"?e!==null&&(Array.isArray(e)?i=e:i=[e]):i=this._decorations.getFindScopes(),i!==null&&(i=i.map(a=>{if(a.startLineNumber!==a.endLineNumber){let l=a.endLineNumber;return a.endColumn===1&&(l=l-1),new A(a.startLineNumber,1,l,this._editor.getModel().getLineMaxColumn(l))}return a}));let o=this._findMatches(i,!1,Al);this._decorations.set(o,i);let r=this._editor.getSelection(),s=this._decorations.getCurrentMatchesPosition(r);if(s===0&&o.length>0){let a=Gx(o.map(l=>l.range),l=>A.compareRangesUsingStarts(l,r)>=0);s=a>0?a-1+1:s}this._state.changeMatchInfo(s,this._decorations.getCount(),void 0),t&&this._editor.getOption(41).cursorMoveOnType&&this._moveToNextMatch(this._decorations.getStartPosition())}_hasMatches(){return this._state.matchesCount>0}_cannotFind(){if(!this._hasMatches()){let t=this._decorations.getFindScope();return t&&this._editor.revealRangeInCenterIfOutsideViewport(t,0),!0}return!1}_setCurrentFindMatch(t){let e=this._decorations.setCurrentFindMatch(t);this._state.changeMatchInfo(e,this._decorations.getCount(),t),this._editor.setSelection(t),this._editor.revealRangeInCenterIfOutsideViewport(t,0)}_prevSearchPosition(t){let e=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0),{lineNumber:i,column:o}=t,r=this._editor.getModel();return e||o===1?(i===1?i=r.getLineCount():i--,o=r.getLineMaxColumn(i)):o--,new he(i,o)}_moveToPrevMatch(t,e=!1){if(!this._state.canNavigateBack()){let d=this._decorations.matchAfterPosition(t);d&&this._setCurrentFindMatch(d);return}if(this._decorations.getCount()<Al){let d=this._decorations.matchBeforePosition(t);d&&d.isEmpty()&&d.getStartPosition().equals(t)&&(t=this._prevSearchPosition(t),d=this._decorations.matchBeforePosition(t)),d&&this._setCurrentFindMatch(d);return}if(this._cannotFind())return;let i=this._decorations.getFindScope(),o=n._getSearchRange(this._editor.getModel(),i);o.getEndPosition().isBefore(t)&&(t=o.getEndPosition()),t.isBefore(o.getStartPosition())&&(t=o.getEndPosition());let{lineNumber:r,column:s}=t,a=this._editor.getModel(),l=new he(r,s),c=a.findPreviousMatch(this._state.searchString,l,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(132):null,!1);if(c&&c.range.isEmpty()&&c.range.getStartPosition().equals(l)&&(l=this._prevSearchPosition(l),c=a.findPreviousMatch(this._state.searchString,l,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(132):null,!1)),!!c){if(!e&&!o.containsRange(c.range))return this._moveToPrevMatch(c.range.getStartPosition(),!0);this._setCurrentFindMatch(c.range)}}moveToPrevMatch(){this._moveToPrevMatch(this._editor.getSelection().getStartPosition())}_nextSearchPosition(t){let e=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0),{lineNumber:i,column:o}=t,r=this._editor.getModel();return e||o===r.getLineMaxColumn(i)?(i===r.getLineCount()?i=1:i++,o=1):o++,new he(i,o)}_moveToNextMatch(t){if(!this._state.canNavigateForward()){let i=this._decorations.matchBeforePosition(t);i&&this._setCurrentFindMatch(i);return}if(this._decorations.getCount()<Al){let i=this._decorations.matchAfterPosition(t);i&&i.isEmpty()&&i.getStartPosition().equals(t)&&(t=this._nextSearchPosition(t),i=this._decorations.matchAfterPosition(t)),i&&this._setCurrentFindMatch(i);return}let e=this._getNextMatch(t,!1,!0);e&&this._setCurrentFindMatch(e.range)}_getNextMatch(t,e,i,o=!1){if(this._cannotFind())return null;let r=this._decorations.getFindScope(),s=n._getSearchRange(this._editor.getModel(),r);s.getEndPosition().isBefore(t)&&(t=s.getStartPosition()),t.isBefore(s.getStartPosition())&&(t=s.getStartPosition());let{lineNumber:a,column:l}=t,c=this._editor.getModel(),d=new he(a,l),u=c.findNextMatch(this._state.searchString,d,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(132):null,e);return i&&u&&u.range.isEmpty()&&u.range.getStartPosition().equals(d)&&(d=this._nextSearchPosition(d),u=c.findNextMatch(this._state.searchString,d,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(132):null,e)),u?!o&&!s.containsRange(u.range)?this._getNextMatch(u.range.getEndPosition(),e,i,!0):u:null}moveToNextMatch(){this._moveToNextMatch(this._editor.getSelection().getEndPosition())}_moveToMatch(t){let e=this._decorations.getDecorationRangeAt(t);e&&this._setCurrentFindMatch(e)}moveToMatch(t){this._moveToMatch(t)}_getReplacePattern(){return this._state.isRegex?$$(this._state.replaceString):tg.fromStaticValue(this._state.replaceString)}replace(){if(!this._hasMatches())return;let t=this._getReplacePattern(),e=this._editor.getSelection(),i=this._getNextMatch(e.getStartPosition(),!0,!1);if(i)if(e.equalsRange(i.range)){let o=t.buildReplaceString(i.matches,this._state.preserveCase),r=new Cc(e,o);this._executeEditorCommand("replace",r),this._decorations.setStartPosition(new he(e.startLineNumber,e.startColumn+o.length)),this.research(!0)}else this._decorations.setStartPosition(this._editor.getPosition()),this._setCurrentFindMatch(i.range)}_findMatches(t,e,i){let o=(t||[null]).map(r=>n._getSearchRange(this._editor.getModel(),r));return this._editor.getModel().findMatches(this._state.searchString,o,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(132):null,e,i)}replaceAll(){if(!this._hasMatches())return;let t=this._decorations.getFindScopes();t===null&&this._state.matchesCount>=Al?this._largeReplaceAll():this._regularReplaceAll(t),this.research(!1)}_largeReplaceAll(){let e=new o4(this._state.searchString,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(132):null).parseSearchRequest();if(!e)return;let i=e.regex;if(!i.multiline){let u="mu";i.ignoreCase&&(u+="i"),i.global&&(u+="g"),i=new RegExp(i.source,u)}let o=this._editor.getModel(),r=o.getValue(1),s=o.getFullModelRange(),a=this._getReplacePattern(),l,c=this._state.preserveCase;a.hasReplacementPatterns||c?l=r.replace(i,function(){return a.buildReplaceString(arguments,c)}):l=r.replace(i,a.buildReplaceString(null,c));let d=new Nw(s,l,this._editor.getSelection());this._executeEditorCommand("replaceAll",d)}_regularReplaceAll(t){let e=this._getReplacePattern(),i=this._findMatches(t,e.hasReplacementPatterns||this._state.preserveCase,1073741824),o=[];for(let s=0,a=i.length;s<a;s++)o[s]=e.buildReplaceString(i[s].matches,this._state.preserveCase);let r=new wD(this._editor.getSelection(),i.map(s=>s.range),o);this._executeEditorCommand("replaceAll",r)}selectAllMatches(){if(!this._hasMatches())return;let t=this._decorations.getFindScopes(),i=this._findMatches(t,!1,1073741824).map(r=>new ze(r.range.startLineNumber,r.range.startColumn,r.range.endLineNumber,r.range.endColumn)),o=this._editor.getSelection();for(let r=0,s=i.length;r<s;r++)if(i[r].equalsRange(o)){i=[o].concat(i.slice(0,r)).concat(i.slice(r+1));break}this._editor.setSelections(i)}_executeEditorCommand(t,e){try{this._ignoreModelContentChanged=!0,this._editor.pushUndoStop(),this._editor.executeCommand(t,e),this._editor.pushUndoStop()}finally{this._ignoreModelContentChanged=!1}}};gt();Ht();Eo();var K$=(()=>{class n extends fc{static{this.ID="editor.contrib.findOptionsWidget"}constructor(e,i,o){super(),this._hideSoon=this._register(new si(()=>this._hide(),2e3)),this._isVisible=!1,this._editor=e,this._state=i,this._keybindingService=o,this._domNode=document.createElement("div"),this._domNode.className="findOptionsWidget",this._domNode.style.display="none",this._domNode.style.top="10px",this._domNode.style.zIndex="12",this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true");let r={inputActiveOptionBorder:pl(ew),inputActiveOptionForeground:pl(tw),inputActiveOptionBackground:pl(fp)},s=this._register(Q_());this.caseSensitive=this._register(new tU(j({appendTitle:this._keybindingLabelFor(wi.ToggleCaseSensitiveCommand),isChecked:this._state.matchCase,hoverDelegate:s},r))),this._domNode.appendChild(this.caseSensitive.domNode),this._register(this.caseSensitive.onChange(()=>{this._state.change({matchCase:this.caseSensitive.checked},!1)})),this.wholeWords=this._register(new iU(j({appendTitle:this._keybindingLabelFor(wi.ToggleWholeWordCommand),isChecked:this._state.wholeWord,hoverDelegate:s},r))),this._domNode.appendChild(this.wholeWords.domNode),this._register(this.wholeWords.onChange(()=>{this._state.change({wholeWord:this.wholeWords.checked},!1)})),this.regex=this._register(new nU(j({appendTitle:this._keybindingLabelFor(wi.ToggleRegexCommand),isChecked:this._state.isRegex,hoverDelegate:s},r))),this._domNode.appendChild(this.regex.domNode),this._register(this.regex.onChange(()=>{this._state.change({isRegex:this.regex.checked},!1)})),this._editor.addOverlayWidget(this),this._register(this._state.onFindReplaceStateChange(a=>{let l=!1;a.isRegex&&(this.regex.checked=this._state.isRegex,l=!0),a.wholeWord&&(this.wholeWords.checked=this._state.wholeWord,l=!0),a.matchCase&&(this.caseSensitive.checked=this._state.matchCase,l=!0),!this._state.isRevealed&&l&&this._revealTemporarily()})),this._register(Ct(this._domNode,li.MOUSE_LEAVE,a=>this._onMouseLeave())),this._register(Ct(this._domNode,"mouseover",a=>this._onMouseOver()))}_keybindingLabelFor(e){let i=this._keybindingService.lookupKeybinding(e);return i?` (${i.getLabel()})`:""}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return n.ID}getDomNode(){return this._domNode}getPosition(){return{preference:0}}highlightFindOptions(){this._revealTemporarily()}_revealTemporarily(){this._show(),this._hideSoon.schedule()}_onMouseLeave(){this._hideSoon.schedule()}_onMouseOver(){this._hideSoon.cancel()}_show(){this._isVisible||(this._isVisible=!0,this._domNode.style.display="block")}_hide(){this._isVisible&&(this._isVisible=!1,this._domNode.style.display="none")}}return n})();oi();ce();qe();function ID(n,t){return n===1?!0:n===2?!1:t}var DD=class extends U{get searchString(){return this._searchString}get replaceString(){return this._replaceString}get isRevealed(){return this._isRevealed}get isReplaceRevealed(){return this._isReplaceRevealed}get isRegex(){return ID(this._isRegexOverride,this._isRegex)}get wholeWord(){return ID(this._wholeWordOverride,this._wholeWord)}get matchCase(){return ID(this._matchCaseOverride,this._matchCase)}get preserveCase(){return ID(this._preserveCaseOverride,this._preserveCase)}get actualIsRegex(){return this._isRegex}get actualWholeWord(){return this._wholeWord}get actualMatchCase(){return this._matchCase}get actualPreserveCase(){return this._preserveCase}get searchScope(){return this._searchScope}get matchesPosition(){return this._matchesPosition}get matchesCount(){return this._matchesCount}get currentMatch(){return this._currentMatch}constructor(){super(),this._onFindReplaceStateChange=this._register(new je),this.onFindReplaceStateChange=this._onFindReplaceStateChange.event,this._searchString="",this._replaceString="",this._isRevealed=!1,this._isReplaceRevealed=!1,this._isRegex=!1,this._isRegexOverride=0,this._wholeWord=!1,this._wholeWordOverride=0,this._matchCase=!1,this._matchCaseOverride=0,this._preserveCase=!1,this._preserveCaseOverride=0,this._searchScope=null,this._matchesPosition=0,this._matchesCount=0,this._currentMatch=null,this._loop=!0,this._isSearching=!1,this._filters=null}changeMatchInfo(t,e,i){let o={moveCursor:!1,updateHistory:!1,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1,isSearching:!1,filters:!1},r=!1;e===0&&(t=0),t>e&&(t=e),this._matchesPosition!==t&&(this._matchesPosition=t,o.matchesPosition=!0,r=!0),this._matchesCount!==e&&(this._matchesCount=e,o.matchesCount=!0,r=!0),typeof i<"u"&&(A.equalsRange(this._currentMatch,i)||(this._currentMatch=i,o.currentMatch=!0,r=!0)),r&&this._onFindReplaceStateChange.fire(o)}change(t,e,i=!0){let o={moveCursor:e,updateHistory:i,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1,isSearching:!1,filters:!1},r=!1,s=this.isRegex,a=this.wholeWord,l=this.matchCase,c=this.preserveCase;typeof t.searchString<"u"&&this._searchString!==t.searchString&&(this._searchString=t.searchString,o.searchString=!0,r=!0),typeof t.replaceString<"u"&&this._replaceString!==t.replaceString&&(this._replaceString=t.replaceString,o.replaceString=!0,r=!0),typeof t.isRevealed<"u"&&this._isRevealed!==t.isRevealed&&(this._isRevealed=t.isRevealed,o.isRevealed=!0,r=!0),typeof t.isReplaceRevealed<"u"&&this._isReplaceRevealed!==t.isReplaceRevealed&&(this._isReplaceRevealed=t.isReplaceRevealed,o.isReplaceRevealed=!0,r=!0),typeof t.isRegex<"u"&&(this._isRegex=t.isRegex),typeof t.wholeWord<"u"&&(this._wholeWord=t.wholeWord),typeof t.matchCase<"u"&&(this._matchCase=t.matchCase),typeof t.preserveCase<"u"&&(this._preserveCase=t.preserveCase),typeof t.searchScope<"u"&&(t.searchScope?.every(d=>this._searchScope?.some(u=>!A.equalsRange(u,d)))||(this._searchScope=t.searchScope,o.searchScope=!0,r=!0)),typeof t.loop<"u"&&this._loop!==t.loop&&(this._loop=t.loop,o.loop=!0,r=!0),typeof t.isSearching<"u"&&this._isSearching!==t.isSearching&&(this._isSearching=t.isSearching,o.isSearching=!0,r=!0),typeof t.filters<"u"&&(this._filters?this._filters.update(t.filters):this._filters=t.filters,o.filters=!0,r=!0),this._isRegexOverride=typeof t.isRegexOverride<"u"?t.isRegexOverride:0,this._wholeWordOverride=typeof t.wholeWordOverride<"u"?t.wholeWordOverride:0,this._matchCaseOverride=typeof t.matchCaseOverride<"u"?t.matchCaseOverride:0,this._preserveCaseOverride=typeof t.preserveCaseOverride<"u"?t.preserveCaseOverride:0,s!==this.isRegex&&(r=!0,o.isRegex=!0),a!==this.wholeWord&&(r=!0,o.wholeWord=!0),l!==this.matchCase&&(r=!0,o.matchCase=!0),c!==this.preserveCase&&(r=!0,o.preserveCase=!0),r&&this._onFindReplaceStateChange.fire(o)}canNavigateBack(){return this.canNavigateInLoop()||this.matchesPosition!==1}canNavigateForward(){return this.canNavigateInLoop()||this.matchesPosition<this.matchesCount}canNavigateInLoop(){return this._loop||this.matchesCount>=Al}};gt();Ht();Vn();Bt();ce();Yo();Fi();qe();Ae();gt();Vn();oi();Ae();var Yve=_("defaultLabel","input"),Xve=_("label.preserveCaseToggle","Preserve Case"),fN=class extends Iw{constructor(t){super({icon:Ge.preserveCase,title:Xve+t.appendTitle,isChecked:t.isChecked,hoverDelegate:t.hoverDelegate??Sd("element"),inputActiveOptionBorder:t.inputActiveOptionBorder,inputActiveOptionForeground:t.inputActiveOptionForeground,inputActiveOptionBackground:t.inputActiveOptionBackground})}},ED=class extends fc{constructor(t,e,i,o){super(),this._showOptionButtons=i,this.fixFocusOnOptionClickEnabled=!0,this.cachedOptionsWidth=0,this._onDidOptionChange=this._register(new je),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new je),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new je),this._onInput=this._register(new je),this._onKeyUp=this._register(new je),this._onPreserveCaseKeyDown=this._register(new je),this.onPreserveCaseKeyDown=this._onPreserveCaseKeyDown.event,this.contextViewProvider=e,this.placeholder=o.placeholder||"",this.validation=o.validation,this.label=o.label||Yve;let r=o.appendPreserveCaseLabel||"",s=o.history||[],a=!!o.flexibleHeight,l=!!o.flexibleWidth,c=o.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new oU(this.domNode,this.contextViewProvider,{ariaLabel:this.label||"",placeholder:this.placeholder||"",validationOptions:{validation:this.validation},history:s,showHistoryHint:o.showHistoryHint,flexibleHeight:a,flexibleWidth:l,flexibleMaxHeight:c,inputBoxStyles:o.inputBoxStyles})),this.preserveCase=this._register(new fN(j({appendTitle:r,isChecked:!1},o.toggleStyles))),this._register(this.preserveCase.onChange(h=>{this._onDidOptionChange.fire(h),!h&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.preserveCase.onKeyDown(h=>{this._onPreserveCaseKeyDown.fire(h)})),this._showOptionButtons?this.cachedOptionsWidth=this.preserveCase.width():this.cachedOptionsWidth=0;let d=[this.preserveCase.domNode];this.onkeydown(this.domNode,h=>{if(h.equals(15)||h.equals(17)||h.equals(9)){let m=d.indexOf(this.domNode.ownerDocument.activeElement);if(m>=0){let f=-1;h.equals(17)?f=(m+1)%d.length:h.equals(15)&&(m===0?f=d.length-1:f=m-1),h.equals(9)?(d[m].blur(),this.inputBox.focus()):f>=0&&d[f].focus(),rh.stop(h,!0)}}});let u=document.createElement("div");u.className="controls",u.style.display=this._showOptionButtons?"block":"none",u.appendChild(this.preserveCase.domNode),this.domNode.appendChild(u),t?.appendChild(this.domNode),this.onkeydown(this.inputBox.inputElement,h=>this._onKeyDown.fire(h)),this.onkeyup(this.inputBox.inputElement,h=>this._onKeyUp.fire(h)),this.oninput(this.inputBox.inputElement,h=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,h=>this._onMouseDown.fire(h))}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.preserveCase.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.preserveCase.disable()}setEnabled(t){t?this.enable():this.disable()}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getPreserveCase(){return this.preserveCase.checked}setPreserveCase(t){this.preserveCase.checked=t}focusOnPreserve(){this.preserveCase.focus()}validate(){this.inputBox?.validate()}set width(t){this.inputBox.paddingRight=this.cachedOptionsWidth,this.domNode.style.width=t+"px"}dispose(){super.dispose()}};mt();aA();Ae();ce();gt();var Y$=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},X$=function(n,t){return function(e,i){t(e,i,n)}},AD=new ot("suggestWidgetVisible",!1,_("suggestWidgetVisible","Whether suggestion are visible")),gN="historyNavigationWidgetFocus",Z$="historyNavigationForwardsEnabled",Q$="historyNavigationBackwardsEnabled",Bb,kD=[];function J$(n,t){if(kD.includes(t))throw new Error("Cannot register the same widget multiple times");kD.push(t);let e=new G,i=new ot(gN,!1).bindTo(n),o=new ot(Z$,!0).bindTo(n),r=new ot(Q$,!0).bindTo(n),s=()=>{i.set(!0),Bb=t},a=()=>{i.set(!1),Bb===t&&(Bb=void 0)};return Hj(t.element)&&s(),e.add(t.onDidFocus(()=>s())),e.add(t.onDidBlur(()=>a())),e.add(Mt(()=>{kD.splice(kD.indexOf(t),1),a()})),{historyNavigationForwardsEnablement:o,historyNavigationBackwardsEnablement:r,dispose(){e.dispose()}}}var MD=class extends rU{constructor(t,e,i,o){super(t,e,i);let r=this._register(o.createScoped(this.inputBox.element));this._register(J$(r,this.inputBox))}};MD=Y$([X$(3,Xe)],MD);var TD=class extends ED{constructor(t,e,i,o,r=!1){super(t,e,r,i);let s=this._register(o.createScoped(this.inputBox.element));this._register(J$(s,this.inputBox))}};TD=Y$([X$(3,Xe)],TD);cs.registerCommandAndKeybindingRule({id:"history.showPrevious",weight:200,when:K.and(K.has(gN),K.equals(Q$,!0),K.not("isComposing"),AD.isEqualTo(!1)),primary:16,secondary:[528],handler:n=>{Bb?.showPreviousValue()}});cs.registerCommandAndKeybindingRule({id:"history.showNext",weight:200,when:K.and(K.has(gN),K.equals(Z$,!0),K.not("isComposing"),AD.isEqualTo(!1)),primary:18,secondary:[530],handler:n=>{Bb?.showNextValue()}});function _N(n){return n.lookupKeybinding("history.showPrevious")?.getElectronAccelerator()==="Up"&&n.lookupKeybinding("history.showNext")?.getElectronAccelerator()==="Down"}Eo();Do();Zo();Kx();io();var eK=Ii("find-collapsed",Ge.chevronRight,_("findCollapsedIcon","Icon to indicate that the editor find widget is collapsed.")),tK=Ii("find-expanded",Ge.chevronDown,_("findExpandedIcon","Icon to indicate that the editor find widget is expanded.")),Zve=Ii("find-selection",Ge.selection,_("findSelectionIcon","Icon for 'Find in Selection' in the editor find widget.")),Qve=Ii("find-replace",Ge.replace,_("findReplaceIcon","Icon for 'Replace' in the editor find widget.")),Jve=Ii("find-replace-all",Ge.replaceAll,_("findReplaceAllIcon","Icon for 'Replace All' in the editor find widget.")),ebe=Ii("find-previous-match",Ge.arrowUp,_("findPreviousMatchIcon","Icon for 'Find Previous' in the editor find widget.")),tbe=Ii("find-next-match",Ge.arrowDown,_("findNextMatchIcon","Icon for 'Find Next' in the editor find widget.")),ibe=_("label.findDialog","Find / Replace"),nbe=_("label.find","Find"),obe=_("placeholder.find","Find"),rbe=_("label.previousMatchButton","Previous Match"),sbe=_("label.nextMatchButton","Next Match"),abe=_("label.toggleSelectionFind","Find in Selection"),lbe=_("label.closeButton","Close"),cbe=_("label.replace","Replace"),dbe=_("placeholder.replace","Replace"),ube=_("label.replaceButton","Replace"),hbe=_("label.replaceAllButton","Replace All"),mbe=_("label.toggleReplaceButton","Toggle Replace"),pbe=_("title.matchesCountLimit","Only the first {0} results are highlighted, but all find operations work on the entire text.",Al),fbe=_("label.matchesLocation","{0} of {1}"),iK=_("label.noResults","No results"),Ol=419,gbe=275,_be=gbe-54,Hb=69,vbe=33,nK="ctrlEnterReplaceAll.windows.donotask",oK=dr?256:2048,Vb=class{constructor(t){this.afterLineNumber=t,this.heightInPx=vbe,this.suppressMouseDown=!1,this.domNode=document.createElement("div"),this.domNode.className="dock-find-viewzone"}};function rK(n,t,e){let i=!!t.match(/\n/);if(e&&i&&e.selectionStart>0){n.stopPropagation();return}}function sK(n,t,e){let i=!!t.match(/\n/);if(e&&i&&e.selectionEnd<e.value.length){n.stopPropagation();return}}var aK=(()=>{class n extends fc{static{this.ID="editor.contrib.findWidget"}constructor(e,i,o,r,s,a,l,c,d,u){super(),this._hoverService=u,this._cachedHeight=null,this._revealTimeouts=[],this._codeEditor=e,this._controller=i,this._state=o,this._contextViewProvider=r,this._keybindingService=s,this._contextKeyService=a,this._storageService=c,this._notificationService=d,this._ctrlEnterReplaceAllWarningPrompted=!!c.getBoolean(nK,0),this._isVisible=!1,this._isReplaceVisible=!1,this._ignoreChangeEvent=!1,this._updateHistoryDelayer=new Ir(500),this._register(Mt(()=>this._updateHistoryDelayer.cancel())),this._register(this._state.onFindReplaceStateChange(h=>this._onStateChanged(h))),this._buildDomNode(),this._updateButtons(),this._tryUpdateWidgetWidth(),this._findInput.inputBox.layout(),this._register(this._codeEditor.onDidChangeConfiguration(h=>{if(h.hasChanged(92)&&(this._codeEditor.getOption(92)&&this._state.change({isReplaceRevealed:!1},!1),this._updateButtons()),h.hasChanged(146)&&this._tryUpdateWidgetWidth(),h.hasChanged(2)&&this.updateAccessibilitySupport(),h.hasChanged(41)){let m=this._codeEditor.getOption(41).loop;this._state.change({loop:m},!1);let f=this._codeEditor.getOption(41).addExtraSpaceOnTop;f&&!this._viewZone&&(this._viewZone=new Vb(0),this._showViewZone()),!f&&this._viewZone&&this._removeViewZone()}})),this.updateAccessibilitySupport(),this._register(this._codeEditor.onDidChangeCursorSelection(()=>{this._isVisible&&this._updateToggleSelectionFindButton()})),this._register(this._codeEditor.onDidFocusEditorWidget(()=>k(this,null,function*(){if(this._isVisible){let h=yield this._controller.getGlobalBufferTerm();h&&h!==this._state.searchString&&(this._state.change({searchString:h},!1),this._findInput.select())}}))),this._findInputFocused=ig.bindTo(a),this._findFocusTracker=this._register(Sa(this._findInput.inputBox.inputElement)),this._register(this._findFocusTracker.onDidFocus(()=>{this._findInputFocused.set(!0),this._updateSearchScope()})),this._register(this._findFocusTracker.onDidBlur(()=>{this._findInputFocused.set(!1)})),this._replaceInputFocused=Ob.bindTo(a),this._replaceFocusTracker=this._register(Sa(this._replaceInput.inputBox.inputElement)),this._register(this._replaceFocusTracker.onDidFocus(()=>{this._replaceInputFocused.set(!0),this._updateSearchScope()})),this._register(this._replaceFocusTracker.onDidBlur(()=>{this._replaceInputFocused.set(!1)})),this._codeEditor.addOverlayWidget(this),this._codeEditor.getOption(41).addExtraSpaceOnTop&&(this._viewZone=new Vb(0)),this._register(this._codeEditor.onDidChangeModel(()=>{this._isVisible&&(this._viewZoneId=void 0)})),this._register(this._codeEditor.onDidScrollChange(h=>{if(h.scrollTopChanged){this._layoutViewZone();return}setTimeout(()=>{this._layoutViewZone()},0)}))}getId(){return n.ID}getDomNode(){return this._domNode}getPosition(){return this._isVisible?{preference:0}:null}_onStateChanged(e){if(e.searchString){try{this._ignoreChangeEvent=!0,this._findInput.setValue(this._state.searchString)}finally{this._ignoreChangeEvent=!1}this._updateButtons()}if(e.replaceString&&(this._replaceInput.inputBox.value=this._state.replaceString),e.isRevealed&&(this._state.isRevealed?this._reveal():this._hide(!0)),e.isReplaceRevealed&&(this._state.isReplaceRevealed?!this._codeEditor.getOption(92)&&!this._isReplaceVisible&&(this._isReplaceVisible=!0,this._replaceInput.width=Er(this._findInput.domNode),this._updateButtons(),this._replaceInput.inputBox.layout()):this._isReplaceVisible&&(this._isReplaceVisible=!1,this._updateButtons())),(e.isRevealed||e.isReplaceRevealed)&&(this._state.isRevealed||this._state.isReplaceRevealed)&&this._tryUpdateHeight()&&this._showViewZone(),e.isRegex&&this._findInput.setRegex(this._state.isRegex),e.wholeWord&&this._findInput.setWholeWords(this._state.wholeWord),e.matchCase&&this._findInput.setCaseSensitive(this._state.matchCase),e.preserveCase&&this._replaceInput.setPreserveCase(this._state.preserveCase),e.searchScope&&(this._state.searchScope?this._toggleSelectionFind.checked=!0:this._toggleSelectionFind.checked=!1,this._updateToggleSelectionFindButton()),e.searchString||e.matchesCount||e.matchesPosition){let i=this._state.searchString.length>0&&this._state.matchesCount===0;this._domNode.classList.toggle("no-results",i),this._updateMatchesCount(),this._updateButtons()}(e.searchString||e.currentMatch)&&this._layoutViewZone(),e.updateHistory&&this._delayedUpdateHistory(),e.loop&&this._updateButtons()}_delayedUpdateHistory(){this._updateHistoryDelayer.trigger(this._updateHistory.bind(this)).then(void 0,ut)}_updateHistory(){this._state.searchString&&this._findInput.inputBox.addToHistory(),this._state.replaceString&&this._replaceInput.inputBox.addToHistory()}_updateMatchesCount(){this._matchesCount.style.minWidth=Hb+"px",this._state.matchesCount>=Al?this._matchesCount.title=pbe:this._matchesCount.title="",this._matchesCount.firstChild?.remove();let e;if(this._state.matchesCount>0){let i=String(this._state.matchesCount);this._state.matchesCount>=Al&&(i+="+");let o=String(this._state.matchesPosition);o==="0"&&(o="?"),e=ap(fbe,o,i)}else e=iK;this._matchesCount.appendChild(document.createTextNode(e)),$n(this._getAriaLabel(e,this._state.currentMatch,this._state.searchString)),Hb=Math.max(Hb,this._matchesCount.clientWidth)}_getAriaLabel(e,i,o){if(e===iK)return o===""?_("ariaSearchNoResultEmpty","{0} found",e):_("ariaSearchNoResult","{0} found for '{1}'",e,o);if(i){let r=_("ariaSearchNoResultWithLineNum","{0} found for '{1}', at {2}",e,o,i.startLineNumber+":"+i.startColumn),s=this._codeEditor.getModel();return s&&i.startLineNumber<=s.getLineCount()&&i.startLineNumber>=1?`${s.getLineContent(i.startLineNumber)}, ${r}`:r}return _("ariaSearchNoResultWithLineNumNoCurrentMatch","{0} found for '{1}'",e,o)}_updateToggleSelectionFindButton(){let e=this._codeEditor.getSelection(),i=e?e.startLineNumber!==e.endLineNumber||e.startColumn!==e.endColumn:!1,o=this._toggleSelectionFind.checked;this._isVisible&&(o||i)?this._toggleSelectionFind.enable():this._toggleSelectionFind.disable()}_updateButtons(){this._findInput.setEnabled(this._isVisible),this._replaceInput.setEnabled(this._isVisible&&this._isReplaceVisible),this._updateToggleSelectionFindButton(),this._closeBtn.setEnabled(this._isVisible);let e=this._state.searchString.length>0,i=!!this._state.matchesCount;this._prevBtn.setEnabled(this._isVisible&&e&&i&&this._state.canNavigateBack()),this._nextBtn.setEnabled(this._isVisible&&e&&i&&this._state.canNavigateForward()),this._replaceBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&e),this._replaceAllBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&e),this._domNode.classList.toggle("replaceToggled",this._isReplaceVisible),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible);let o=!this._codeEditor.getOption(92);this._toggleReplaceBtn.setEnabled(this._isVisible&&o)}_reveal(){if(this._revealTimeouts.forEach(e=>{clearTimeout(e)}),this._revealTimeouts=[],!this._isVisible){this._isVisible=!0;let e=this._codeEditor.getSelection();switch(this._codeEditor.getOption(41).autoFindInSelection){case"always":this._toggleSelectionFind.checked=!0;break;case"never":this._toggleSelectionFind.checked=!1;break;case"multiline":{let o=!!e&&e.startLineNumber!==e.endLineNumber;this._toggleSelectionFind.checked=o;break}default:break}this._tryUpdateWidgetWidth(),this._updateButtons(),this._revealTimeouts.push(setTimeout(()=>{this._domNode.classList.add("visible"),this._domNode.setAttribute("aria-hidden","false")},0)),this._revealTimeouts.push(setTimeout(()=>{this._findInput.validate()},200)),this._codeEditor.layoutOverlayWidget(this);let i=!0;if(this._codeEditor.getOption(41).seedSearchStringFromSelection&&e){let o=this._codeEditor.getDomNode();if(o){let r=Gi(o),s=this._codeEditor.getScrolledVisiblePosition(e.getStartPosition()),a=r.left+(s?s.left:0),l=s?s.top:0;if(this._viewZone&&l<this._viewZone.heightInPx){e.endLineNumber>e.startLineNumber&&(i=!1);let c=Nj(this._domNode).left;a>c&&(i=!1);let d=this._codeEditor.getScrolledVisiblePosition(e.getEndPosition());r.left+(d?d.left:0)>c&&(i=!1)}}}this._showViewZone(i)}}_hide(e){this._revealTimeouts.forEach(i=>{clearTimeout(i)}),this._revealTimeouts=[],this._isVisible&&(this._isVisible=!1,this._updateButtons(),this._domNode.classList.remove("visible"),this._domNode.setAttribute("aria-hidden","true"),this._findInput.clearMessage(),e&&this._codeEditor.focus(),this._codeEditor.layoutOverlayWidget(this),this._removeViewZone())}_layoutViewZone(e){if(!this._codeEditor.getOption(41).addExtraSpaceOnTop){this._removeViewZone();return}if(!this._isVisible)return;let o=this._viewZone;this._viewZoneId!==void 0||!o||this._codeEditor.changeViewZones(r=>{o.heightInPx=this._getHeight(),this._viewZoneId=r.addZone(o),this._codeEditor.setScrollTop(e||this._codeEditor.getScrollTop()+o.heightInPx)})}_showViewZone(e=!0){if(!this._isVisible||!this._codeEditor.getOption(41).addExtraSpaceOnTop)return;this._viewZone===void 0&&(this._viewZone=new Vb(0));let o=this._viewZone;this._codeEditor.changeViewZones(r=>{if(this._viewZoneId!==void 0){let s=this._getHeight();if(s===o.heightInPx)return;let a=s-o.heightInPx;o.heightInPx=s,r.layoutZone(this._viewZoneId),e&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+a);return}else{let s=this._getHeight();if(s-=this._codeEditor.getOption(84).top,s<=0)return;o.heightInPx=s,this._viewZoneId=r.addZone(o),e&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+s)}})}_removeViewZone(){this._codeEditor.changeViewZones(e=>{this._viewZoneId!==void 0&&(e.removeZone(this._viewZoneId),this._viewZoneId=void 0,this._viewZone&&(this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()-this._viewZone.heightInPx),this._viewZone=void 0))})}_tryUpdateWidgetWidth(){if(!this._isVisible||!this._domNode.isConnected)return;let e=this._codeEditor.getLayoutInfo();if(e.contentWidth<=0){this._domNode.classList.add("hiddenEditor");return}else this._domNode.classList.contains("hiddenEditor")&&this._domNode.classList.remove("hiddenEditor");let o=e.width,r=e.minimap.minimapWidth,s=!1,a=!1,l=!1;if(this._resized&&Er(this._domNode)>Ol){this._domNode.style.maxWidth=`${o-28-r-15}px`,this._replaceInput.width=Er(this._findInput.domNode);return}if(Ol+28+r>=o&&(a=!0),Ol+28+r-Hb>=o&&(l=!0),Ol+28+r-Hb>=o+50&&(s=!0),this._domNode.classList.toggle("collapsed-find-widget",s),this._domNode.classList.toggle("narrow-find-widget",l),this._domNode.classList.toggle("reduced-find-widget",a),!l&&!s&&(this._domNode.style.maxWidth=`${o-28-r-15}px`),this._findInput.layout({collapsedFindWidget:s,narrowFindWidget:l,reducedFindWidget:a}),this._resized){let c=this._findInput.inputBox.element.clientWidth;c>0&&(this._replaceInput.width=c)}else this._isReplaceVisible&&(this._replaceInput.width=Er(this._findInput.domNode))}_getHeight(){let e=0;return e+=4,e+=this._findInput.inputBox.height+2,this._isReplaceVisible&&(e+=4,e+=this._replaceInput.inputBox.height+2),e+=4,e}_tryUpdateHeight(){let e=this._getHeight();return this._cachedHeight!==null&&this._cachedHeight===e?!1:(this._cachedHeight=e,this._domNode.style.height=`${e}px`,!0)}focusFindInput(){this._findInput.select(),this._findInput.focus()}focusReplaceInput(){this._replaceInput.select(),this._replaceInput.focus()}highlightFindOptions(){this._findInput.highlightFindOptions()}_updateSearchScope(){if(this._codeEditor.hasModel()&&this._toggleSelectionFind.checked){let e=this._codeEditor.getSelections();e.map(i=>{i.endColumn===1&&i.endLineNumber>i.startLineNumber&&(i=i.setEndPosition(i.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(i.endLineNumber-1)));let o=this._state.currentMatch;return i.startLineNumber!==i.endLineNumber&&!A.equalsRange(i,o)?i:null}).filter(i=>!!i),e.length&&this._state.change({searchScope:e},!0)}}_onFindInputMouseDown(e){e.middleButton&&e.stopPropagation()}_onFindInputKeyDown(e){if(e.equals(oK|3))if(this._keybindingService.dispatchEvent(e,e.target)){e.preventDefault();return}else{this._findInput.inputBox.insertAtCursor(`
`),e.preventDefault();return}if(e.equals(2)){this._isReplaceVisible?this._replaceInput.focus():this._findInput.focusOnCaseSensitive(),e.preventDefault();return}if(e.equals(2066)){this._codeEditor.focus(),e.preventDefault();return}if(e.equals(16))return rK(e,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea"));if(e.equals(18))return sK(e,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea"))}_onReplaceInputKeyDown(e){if(e.equals(oK|3))if(this._keybindingService.dispatchEvent(e,e.target)){e.preventDefault();return}else{cd&&dd&&!this._ctrlEnterReplaceAllWarningPrompted&&(this._notificationService.info(_("ctrlEnter.keybindingChanged","Ctrl+Enter now inserts line break instead of replacing all. You can modify the keybinding for editor.action.replaceAll to override this behavior.")),this._ctrlEnterReplaceAllWarningPrompted=!0,this._storageService.store(nK,!0,0,0)),this._replaceInput.inputBox.insertAtCursor(`
`),e.preventDefault();return}if(e.equals(2)){this._findInput.focusOnCaseSensitive(),e.preventDefault();return}if(e.equals(1026)){this._findInput.focus(),e.preventDefault();return}if(e.equals(2066)){this._codeEditor.focus(),e.preventDefault();return}if(e.equals(16))return rK(e,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea"));if(e.equals(18))return sK(e,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea"))}getVerticalSashLeft(e){return 0}_keybindingLabelFor(e){let i=this._keybindingService.lookupKeybinding(e);return i?` (${i.getLabel()})`:""}_buildDomNode(){this._findInput=this._register(new MD(null,this._contextViewProvider,{width:_be,label:nbe,placeholder:obe,appendCaseSensitiveLabel:this._keybindingLabelFor(wi.ToggleCaseSensitiveCommand),appendWholeWordsLabel:this._keybindingLabelFor(wi.ToggleWholeWordCommand),appendRegexLabel:this._keybindingLabelFor(wi.ToggleRegexCommand),validation:u=>{if(u.length===0||!this._findInput.getRegex())return null;try{return new RegExp(u,"gu"),null}catch(h){return{content:h.message}}},flexibleHeight:!0,flexibleWidth:!0,flexibleMaxHeight:118,showCommonFindToggles:!0,showHistoryHint:()=>_N(this._keybindingService),inputBoxStyles:kA,toggleStyles:EA},this._contextKeyService)),this._findInput.setRegex(!!this._state.isRegex),this._findInput.setCaseSensitive(!!this._state.matchCase),this._findInput.setWholeWords(!!this._state.wholeWord),this._register(this._findInput.onKeyDown(u=>this._onFindInputKeyDown(u))),this._register(this._findInput.inputBox.onDidChange(()=>{this._ignoreChangeEvent||this._state.change({searchString:this._findInput.getValue()},!0)})),this._register(this._findInput.onDidOptionChange(()=>{this._state.change({isRegex:this._findInput.getRegex(),wholeWord:this._findInput.getWholeWords(),matchCase:this._findInput.getCaseSensitive()},!0)})),this._register(this._findInput.onCaseSensitiveKeyDown(u=>{u.equals(1026)&&this._isReplaceVisible&&(this._replaceInput.focus(),u.preventDefault())})),this._register(this._findInput.onRegexKeyDown(u=>{u.equals(2)&&this._isReplaceVisible&&(this._replaceInput.focusOnPreserve(),u.preventDefault())})),this._register(this._findInput.inputBox.onDidHeightChange(u=>{this._tryUpdateHeight()&&this._showViewZone()})),JW&&this._register(this._findInput.onMouseDown(u=>this._onFindInputMouseDown(u))),this._matchesCount=document.createElement("div"),this._matchesCount.className="matchesCount",this._updateMatchesCount();let o=this._register(Q_());this._prevBtn=this._register(new au({label:rbe+this._keybindingLabelFor(wi.PreviousMatchFindAction),icon:ebe,hoverDelegate:o,onTrigger:()=>{ld(this._codeEditor.getAction(wi.PreviousMatchFindAction)).run().then(void 0,ut)}},this._hoverService)),this._nextBtn=this._register(new au({label:sbe+this._keybindingLabelFor(wi.NextMatchFindAction),icon:tbe,hoverDelegate:o,onTrigger:()=>{ld(this._codeEditor.getAction(wi.NextMatchFindAction)).run().then(void 0,ut)}},this._hoverService));let r=document.createElement("div");r.className="find-part",r.appendChild(this._findInput.domNode);let s=document.createElement("div");s.className="find-actions",r.appendChild(s),s.appendChild(this._matchesCount),s.appendChild(this._prevBtn.domNode),s.appendChild(this._nextBtn.domNode),this._toggleSelectionFind=this._register(new Iw({icon:Zve,title:abe+this._keybindingLabelFor(wi.ToggleSearchScopeCommand),isChecked:!1,hoverDelegate:o,inputActiveOptionBackground:pl(fp),inputActiveOptionBorder:pl(ew),inputActiveOptionForeground:pl(tw)})),this._register(this._toggleSelectionFind.onChange(()=>{if(this._toggleSelectionFind.checked){if(this._codeEditor.hasModel()){let u=this._codeEditor.getSelections();u=u.map(h=>(h.endColumn===1&&h.endLineNumber>h.startLineNumber&&(h=h.setEndPosition(h.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(h.endLineNumber-1))),h.isEmpty()?null:h)).filter(h=>!!h),u.length&&this._state.change({searchScope:u},!0)}}else this._state.change({searchScope:null},!0)})),s.appendChild(this._toggleSelectionFind.domNode),this._closeBtn=this._register(new au({label:lbe+this._keybindingLabelFor(wi.CloseFindWidgetCommand),icon:Mw,hoverDelegate:o,onTrigger:()=>{this._state.change({isRevealed:!1,searchScope:null},!1)},onKeyDown:u=>{u.equals(2)&&this._isReplaceVisible&&(this._replaceBtn.isEnabled()?this._replaceBtn.focus():this._codeEditor.focus(),u.preventDefault())}},this._hoverService)),this._replaceInput=this._register(new TD(null,void 0,{label:cbe,placeholder:dbe,appendPreserveCaseLabel:this._keybindingLabelFor(wi.TogglePreserveCaseCommand),history:[],flexibleHeight:!0,flexibleWidth:!0,flexibleMaxHeight:118,showHistoryHint:()=>_N(this._keybindingService),inputBoxStyles:kA,toggleStyles:EA},this._contextKeyService,!0)),this._replaceInput.setPreserveCase(!!this._state.preserveCase),this._register(this._replaceInput.onKeyDown(u=>this._onReplaceInputKeyDown(u))),this._register(this._replaceInput.inputBox.onDidChange(()=>{this._state.change({replaceString:this._replaceInput.inputBox.value},!1)})),this._register(this._replaceInput.inputBox.onDidHeightChange(u=>{this._isReplaceVisible&&this._tryUpdateHeight()&&this._showViewZone()})),this._register(this._replaceInput.onDidOptionChange(()=>{this._state.change({preserveCase:this._replaceInput.getPreserveCase()},!0)})),this._register(this._replaceInput.onPreserveCaseKeyDown(u=>{u.equals(2)&&(this._prevBtn.isEnabled()?this._prevBtn.focus():this._nextBtn.isEnabled()?this._nextBtn.focus():this._toggleSelectionFind.enabled?this._toggleSelectionFind.focus():this._closeBtn.isEnabled()&&this._closeBtn.focus(),u.preventDefault())}));let a=this._register(Q_());this._replaceBtn=this._register(new au({label:ube+this._keybindingLabelFor(wi.ReplaceOneAction),icon:Qve,hoverDelegate:a,onTrigger:()=>{this._controller.replace()},onKeyDown:u=>{u.equals(1026)&&(this._closeBtn.focus(),u.preventDefault())}},this._hoverService)),this._replaceAllBtn=this._register(new au({label:hbe+this._keybindingLabelFor(wi.ReplaceAllAction),icon:Jve,hoverDelegate:a,onTrigger:()=>{this._controller.replaceAll()}},this._hoverService));let l=document.createElement("div");l.className="replace-part",l.appendChild(this._replaceInput.domNode);let c=document.createElement("div");c.className="replace-actions",l.appendChild(c),c.appendChild(this._replaceBtn.domNode),c.appendChild(this._replaceAllBtn.domNode),this._toggleReplaceBtn=this._register(new au({label:mbe,className:"codicon toggle left",onTrigger:()=>{this._state.change({isReplaceRevealed:!this._isReplaceVisible},!1),this._isReplaceVisible&&(this._replaceInput.width=Er(this._findInput.domNode),this._replaceInput.inputBox.layout()),this._showViewZone()}},this._hoverService)),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible),this._domNode=document.createElement("div"),this._domNode.className="editor-widget find-widget",this._domNode.setAttribute("aria-hidden","true"),this._domNode.ariaLabel=ibe,this._domNode.role="dialog",this._domNode.style.width=`${Ol}px`,this._domNode.appendChild(this._toggleReplaceBtn.domNode),this._domNode.appendChild(r),this._domNode.appendChild(this._closeBtn.domNode),this._domNode.appendChild(l),this._resizeSash=this._register(new wc(this._domNode,this,{orientation:0,size:2})),this._resized=!1;let d=Ol;this._register(this._resizeSash.onDidStart(()=>{d=Er(this._domNode)})),this._register(this._resizeSash.onDidChange(u=>{this._resized=!0;let h=d+u.startX-u.currentX;if(h<Ol)return;let m=parseFloat(Lj(this._domNode).maxWidth)||0;h>m||(this._domNode.style.width=`${h}px`,this._isReplaceVisible&&(this._replaceInput.width=Er(this._findInput.domNode)),this._findInput.inputBox.layout(),this._tryUpdateHeight())})),this._register(this._resizeSash.onDidReset(()=>{let u=Er(this._domNode);if(u<Ol)return;let h=Ol;if(!this._resized||u===Ol){let m=this._codeEditor.getLayoutInfo();h=m.width-28-m.minimap.minimapWidth-15,this._resized=!0}this._domNode.style.width=`${h}px`,this._isReplaceVisible&&(this._replaceInput.width=Er(this._findInput.domNode)),this._findInput.inputBox.layout()}))}updateAccessibilitySupport(){let e=this._codeEditor.getOption(2);this._findInput.setFocusInputOnOptionClick(e!==2)}}return n})(),au=class extends fc{constructor(t,e){super(),this._opts=t;let i="button";this._opts.className&&(i=i+" "+this._opts.className),this._opts.icon&&(i=i+" "+St.asClassName(this._opts.icon)),this._domNode=document.createElement("div"),this._domNode.tabIndex=0,this._domNode.className=i,this._domNode.setAttribute("role","button"),this._domNode.setAttribute("aria-label",this._opts.label),this._register(e.setupManagedHover(t.hoverDelegate??Sd("element"),this._domNode,this._opts.label)),this.onclick(this._domNode,o=>{this._opts.onTrigger(),o.preventDefault()}),this.onkeydown(this._domNode,o=>{if(o.equals(10)||o.equals(3)){this._opts.onTrigger(),o.preventDefault();return}this._opts.onKeyDown?.(o)})}get domNode(){return this._domNode}isEnabled(){return this._domNode.tabIndex>=0}focus(){this._domNode.focus()}setEnabled(t){this._domNode.classList.toggle("disabled",!t),this._domNode.setAttribute("aria-disabled",String(!t)),this._domNode.tabIndex=t?0:-1}setExpanded(t){this._domNode.setAttribute("aria-expanded",String(!!t)),t?(this._domNode.classList.remove(...St.asClassNameArray(eK)),this._domNode.classList.add(...St.asClassNameArray(tK))):(this._domNode.classList.remove(...St.asClassNameArray(tK)),this._domNode.classList.add(...St.asClassNameArray(eK)))}};_d((n,t)=>{let e=n.getColor(Qx);e&&t.addRule(`.monaco-editor .findMatch { border: 1px ${mc(n.type)?"dotted":"solid"} ${e}; box-sizing: border-box; }`);let i=n.getColor(k4);i&&t.addRule(`.monaco-editor .findScope { border: 1px ${mc(n.type)?"dashed":"solid"} ${i}; }`);let o=n.getColor(zs);o&&t.addRule(`.monaco-editor .find-widget { border: 1px solid ${o}; }`);let r=n.getColor(I4);r&&t.addRule(`.monaco-editor .findMatchInline { color: ${r}; }`);let s=n.getColor(E4);s&&t.addRule(`.monaco-editor .currentFindMatchInline { color: ${s}; }`)});Ae();$i();mt();Do();var lK=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},ws=function(n,t){return function(e,i){t(e,i,n)}},vN,bbe=524288;function bN(n,t="single",e=!1){if(!n.hasModel())return null;let i=n.getSelection();if(t==="single"&&i.startLineNumber===i.endLineNumber||t==="multiple"){if(i.isEmpty()){let o=n.getConfiguredWordAtPosition(i.getStartPosition());if(o&&e===!1)return o.word}else if(n.getModel().getValueLengthInRange(i)<bbe)return n.getModel().getValueInRange(i)}return null}var ir=class extends U{static{vN=this}static{this.ID="editor.contrib.findController"}get editor(){return this._editor}static get(e){return e.getContribution(vN.ID)}constructor(e,i,o,r,s,a){super(),this._editor=e,this._findWidgetVisible=Rl.bindTo(i),this._contextKeyService=i,this._storageService=o,this._clipboardService=r,this._notificationService=s,this._hoverService=a,this._updateHistoryDelayer=new Ir(500),this._state=this._register(new DD),this.loadQueryState(),this._register(this._state.onFindReplaceStateChange(l=>this._onStateChanged(l))),this._model=null,this._register(this._editor.onDidChangeModel(()=>{let l=this._editor.getModel()&&this._state.isRevealed;this.disposeModel(),this._state.change({searchScope:null,matchCase:this._storageService.getBoolean("editor.matchCase",1,!1),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,!1),isRegex:this._storageService.getBoolean("editor.isRegex",1,!1),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,!1)},!1),l&&this._start({forceRevealReplace:!1,seedSearchStringFromSelection:"none",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!1,updateSearchScope:!1,loop:this._editor.getOption(41).loop})}))}dispose(){this.disposeModel(),super.dispose()}disposeModel(){this._model&&(this._model.dispose(),this._model=null)}_onStateChanged(e){this.saveQueryState(e),e.isRevealed&&(this._state.isRevealed?this._findWidgetVisible.set(!0):(this._findWidgetVisible.reset(),this.disposeModel())),e.searchString&&this.setGlobalBufferTerm(this._state.searchString)}saveQueryState(e){e.isRegex&&this._storageService.store("editor.isRegex",this._state.actualIsRegex,1,1),e.wholeWord&&this._storageService.store("editor.wholeWord",this._state.actualWholeWord,1,1),e.matchCase&&this._storageService.store("editor.matchCase",this._state.actualMatchCase,1,1),e.preserveCase&&this._storageService.store("editor.preserveCase",this._state.actualPreserveCase,1,1)}loadQueryState(){this._state.change({matchCase:this._storageService.getBoolean("editor.matchCase",1,this._state.matchCase),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,this._state.wholeWord),isRegex:this._storageService.getBoolean("editor.isRegex",1,this._state.isRegex),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,this._state.preserveCase)},!1)}isFindInputFocused(){return!!ig.getValue(this._contextKeyService)}getState(){return this._state}closeFindWidget(){this._state.change({isRevealed:!1,searchScope:null},!1),this._editor.focus()}toggleCaseSensitive(){this._state.change({matchCase:!this._state.matchCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleWholeWords(){this._state.change({wholeWord:!this._state.wholeWord},!1),this._state.isRevealed||this.highlightFindOptions()}toggleRegex(){this._state.change({isRegex:!this._state.isRegex},!1),this._state.isRevealed||this.highlightFindOptions()}togglePreserveCase(){this._state.change({preserveCase:!this._state.preserveCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleSearchScope(){if(this._state.searchScope)this._state.change({searchScope:null},!0);else if(this._editor.hasModel()){let e=this._editor.getSelections();e=e.map(i=>(i.endColumn===1&&i.endLineNumber>i.startLineNumber&&(i=i.setEndPosition(i.endLineNumber-1,this._editor.getModel().getLineMaxColumn(i.endLineNumber-1))),i.isEmpty()?null:i)).filter(i=>!!i),e.length&&this._state.change({searchScope:e},!0)}}setSearchString(e){this._state.isRegex&&(e=rc(e)),this._state.change({searchString:e},!1)}highlightFindOptions(e=!1){}_start(e,i){return k(this,null,function*(){if(this.disposeModel(),!this._editor.hasModel())return;let o=Te(j({},i),{isRevealed:!0});if(e.seedSearchStringFromSelection==="single"){let r=bN(this._editor,e.seedSearchStringFromSelection,e.seedSearchStringFromNonEmptySelection);r&&(this._state.isRegex?o.searchString=rc(r):o.searchString=r)}else if(e.seedSearchStringFromSelection==="multiple"&&!e.updateSearchScope){let r=bN(this._editor,e.seedSearchStringFromSelection);r&&(o.searchString=r)}if(!o.searchString&&e.seedSearchStringFromGlobalClipboard){let r=yield this.getGlobalBufferTerm();if(!this._editor.hasModel())return;r&&(o.searchString=r)}if(e.forceRevealReplace||o.isReplaceRevealed?o.isReplaceRevealed=!0:this._findWidgetVisible.get()||(o.isReplaceRevealed=!1),e.updateSearchScope){let r=this._editor.getSelections();r.some(s=>!s.isEmpty())&&(o.searchScope=r)}o.loop=e.loop,this._state.change(o,!1),this._model||(this._model=new SD(this._editor,this._state))})}start(e,i){return this._start(e,i)}moveToNextMatch(){return this._model?(this._model.moveToNextMatch(),!0):!1}moveToPrevMatch(){return this._model?(this._model.moveToPrevMatch(),!0):!1}goToMatch(e){return this._model?(this._model.moveToMatch(e),!0):!1}replace(){return this._model?(this._model.replace(),!0):!1}replaceAll(){return this._model?this._editor.getModel()?.isTooLargeForHeapOperation()?(this._notificationService.warn(_("too.large.for.replaceall","The file is too large to perform a replace all operation.")),!1):(this._model.replaceAll(),!0):!1}selectAllMatches(){return this._model?(this._model.selectAllMatches(),this._editor.focus(),!0):!1}getGlobalBufferTerm(){return k(this,null,function*(){return this._editor.getOption(41).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()?this._clipboardService.readFindText():""})}setGlobalBufferTerm(e){this._editor.getOption(41).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()&&this._clipboardService.writeFindText(e)}};ir=vN=lK([ws(1,Xe),ws(2,Ar),ws(3,Oa),ws(4,Bi),ws(5,pc)],ir);var yN=class cK extends ir{constructor(t,e,i,o,r,s,a,l,c){super(t,i,a,l,s,c),this._contextViewService=e,this._keybindingService=o,this._themeService=r,this._widget=null,this._findOptionsWidget=null}_start(t,e){return k(this,null,function*(){this._widget||this._createFindWidget();let i=this._editor.getSelection(),o=!1;switch(this._editor.getOption(41).autoFindInSelection){case"always":o=!0;break;case"never":o=!1;break;case"multiline":{o=!!i&&i.startLineNumber!==i.endLineNumber;break}default:break}t.updateSearchScope=t.updateSearchScope||o,yield J3(cK.prototype,this,"_start").call(this,t,e),this._widget&&(t.shouldFocus===2?this._widget.focusReplaceInput():t.shouldFocus===1&&this._widget.focusFindInput())})}highlightFindOptions(t=!1){this._widget||this._createFindWidget(),this._state.isRevealed&&!t?this._widget.highlightFindOptions():this._findOptionsWidget.highlightFindOptions()}_createFindWidget(){this._widget=this._register(new aK(this._editor,this,this._state,this._contextViewService,this._keybindingService,this._contextKeyService,this._themeService,this._storageService,this._notificationService,this._hoverService)),this._findOptionsWidget=this._register(new K$(this._editor,this._state,this._keybindingService))}};yN=lK([ws(1,vd),ws(2,Xe),ws(3,Vt),ws(4,qn),ws(5,Bi),ws(6,Ar),ws(7,Oa),ws(8,pc)],yN);var ybe=cA(new lA({id:wi.StartFindAction,label:_("startFindAction","Find"),alias:"Find",precondition:K.or(M.focus,K.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2084,weight:100},menuOpts:{menuId:ve.MenubarEditMenu,group:"3_find",title:_({key:"miFind",comment:["&& denotes a mnemonic"]},"&&Find"),order:1}}));ybe.addImplementation(0,(n,t,e)=>{let i=ir.get(t);return i?i.start({forceRevealReplace:!1,seedSearchStringFromSelection:t.getOption(41).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:t.getOption(41).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:t.getOption(41).globalFindClipboard,shouldFocus:1,shouldAnimate:!0,updateSearchScope:!1,loop:t.getOption(41).loop}):!1});var xbe={description:"Open a new In-Editor Find Widget.",args:[{name:"Open a new In-Editor Find Widget args",schema:{properties:{searchString:{type:"string"},replaceString:{type:"string"},isRegex:{type:"boolean"},matchWholeWord:{type:"boolean"},isCaseSensitive:{type:"boolean"},preserveCase:{type:"boolean"},findInSelection:{type:"boolean"}}}}]},xN=class extends Z{constructor(){super({id:wi.StartFindWithArgs,label:_("startFindWithArgsAction","Find With Arguments"),alias:"Find With Arguments",precondition:void 0,kbOpts:{kbExpr:null,primary:0,weight:100},metadata:xbe})}run(t,e,i){return k(this,null,function*(){let o=ir.get(e);if(o){let r=i?{searchString:i.searchString,replaceString:i.replaceString,isReplaceRevealed:i.replaceString!==void 0,isRegex:i.isRegex,wholeWord:i.matchWholeWord,matchCase:i.isCaseSensitive,preserveCase:i.preserveCase}:{};yield o.start({forceRevealReplace:!1,seedSearchStringFromSelection:o.getState().searchString.length===0&&e.getOption(41).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:e.getOption(41).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:!0,shouldFocus:1,shouldAnimate:!0,updateSearchScope:i?.findInSelection||!1,loop:e.getOption(41).loop},r),o.setGlobalBufferTerm(o.getState().searchString)}})}},wN=class extends Z{constructor(){super({id:wi.StartFindWithSelection,label:_("startFindWithSelectionAction","Find With Selection"),alias:"Find With Selection",precondition:void 0,kbOpts:{kbExpr:null,primary:0,mac:{primary:2083},weight:100}})}run(t,e){return k(this,null,function*(){let i=ir.get(e);i&&(yield i.start({forceRevealReplace:!1,seedSearchStringFromSelection:"multiple",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:e.getOption(41).loop}),i.setGlobalBufferTerm(i.getState().searchString))})}},RD=class extends Z{run(t,e){return k(this,null,function*(){let i=ir.get(e);i&&!this._run(i)&&(yield i.start({forceRevealReplace:!1,seedSearchStringFromSelection:i.getState().searchString.length===0&&e.getOption(41).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:e.getOption(41).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:!0,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:e.getOption(41).loop}),this._run(i))})}},CN=class extends RD{constructor(){super({id:wi.NextMatchFindAction,label:_("findNextMatchAction","Find Next"),alias:"Find Next",precondition:void 0,kbOpts:[{kbExpr:M.focus,primary:61,mac:{primary:2085,secondary:[61]},weight:100},{kbExpr:K.and(M.focus,ig),primary:3,weight:100}]})}_run(t){return t.moveToNextMatch()?(t.editor.pushUndoStop(),!0):!1}},SN=class extends RD{constructor(){super({id:wi.PreviousMatchFindAction,label:_("findPreviousMatchAction","Find Previous"),alias:"Find Previous",precondition:void 0,kbOpts:[{kbExpr:M.focus,primary:1085,mac:{primary:3109,secondary:[1085]},weight:100},{kbExpr:K.and(M.focus,ig),primary:1027,weight:100}]})}_run(t){return t.moveToPrevMatch()}},IN=class extends Z{constructor(){super({id:wi.GoToMatchFindAction,label:_("findMatchAction.goToMatch","Go to Match..."),alias:"Go to Match...",precondition:Rl}),this._highlightDecorations=[]}run(t,e,i){let o=ir.get(e);if(!o)return;let r=o.getState().matchesCount;if(r<1){t.get(Bi).notify({severity:mp.Warning,message:_("findMatchAction.noResults","No matches. Try searching for something else.")});return}let s=t.get(Bo),a=new G,l=a.add(s.createInputBox());l.placeholder=_("findMatchAction.inputPlaceHolder","Type a number to go to a specific match (between 1 and {0})",r);let c=u=>{let h=parseInt(u);if(isNaN(h))return;let m=o.getState().matchesCount;if(h>0&&h<=m)return h-1;if(h<0&&h>=-m)return m+h},d=u=>{let h=c(u);if(typeof h=="number"){l.validationMessage=void 0,o.goToMatch(h);let m=o.getState().currentMatch;m&&this.addDecorations(e,m)}else l.validationMessage=_("findMatchAction.inputValidationMessage","Please type a number between 1 and {0}",o.getState().matchesCount),this.clearDecorations(e)};a.add(l.onDidChangeValue(u=>{d(u)})),a.add(l.onDidAccept(()=>{let u=c(l.value);typeof u=="number"?(o.goToMatch(u),l.hide()):l.validationMessage=_("findMatchAction.inputValidationMessage","Please type a number between 1 and {0}",o.getState().matchesCount)})),a.add(l.onDidHide(()=>{this.clearDecorations(e),a.dispose()})),l.show()}clearDecorations(t){t.changeDecorations(e=>{this._highlightDecorations=e.deltaDecorations(this._highlightDecorations,[])})}addDecorations(t,e){t.changeDecorations(i=>{this._highlightDecorations=i.deltaDecorations(this._highlightDecorations,[{range:e,options:{description:"find-match-quick-access-range-highlight",className:"rangeHighlight",isWholeLine:!0}},{range:e,options:{description:"find-match-quick-access-range-highlight-overview",overviewRuler:{color:zi(Sw),position:Mr.Full}}}])})}},OD=class extends Z{run(t,e){return k(this,null,function*(){let i=ir.get(e);if(!i)return;let o=bN(e,"single",!1);o&&i.setSearchString(o),this._run(i)||(yield i.start({forceRevealReplace:!1,seedSearchStringFromSelection:"none",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:e.getOption(41).loop}),this._run(i))})}},DN=class extends OD{constructor(){super({id:wi.NextSelectionMatchFindAction,label:_("nextSelectionMatchFindAction","Find Next Selection"),alias:"Find Next Selection",precondition:void 0,kbOpts:{kbExpr:M.focus,primary:2109,weight:100}})}_run(t){return t.moveToNextMatch()}},EN=class extends OD{constructor(){super({id:wi.PreviousSelectionMatchFindAction,label:_("previousSelectionMatchFindAction","Find Previous Selection"),alias:"Find Previous Selection",precondition:void 0,kbOpts:{kbExpr:M.focus,primary:3133,weight:100}})}_run(t){return t.moveToPrevMatch()}},wbe=cA(new lA({id:wi.StartFindReplaceAction,label:_("startReplace","Replace"),alias:"Replace",precondition:K.or(M.focus,K.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2086,mac:{primary:2596},weight:100},menuOpts:{menuId:ve.MenubarEditMenu,group:"3_find",title:_({key:"miReplace",comment:["&& denotes a mnemonic"]},"&&Replace"),order:2}}));wbe.addImplementation(0,(n,t,e)=>{if(!t.hasModel()||t.getOption(92))return!1;let i=ir.get(t);if(!i)return!1;let o=t.getSelection(),r=i.isFindInputFocused(),s=!o.isEmpty()&&o.startLineNumber===o.endLineNumber&&t.getOption(41).seedSearchStringFromSelection!=="never"&&!r,a=r||s?2:1;return i.start({forceRevealReplace:!0,seedSearchStringFromSelection:s?"single":"none",seedSearchStringFromNonEmptySelection:t.getOption(41).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:t.getOption(41).seedSearchStringFromSelection!=="never",shouldFocus:a,shouldAnimate:!0,updateSearchScope:!1,loop:t.getOption(41).loop})});Me(ir.ID,yN,0);V(xN);V(wN);V(CN);V(SN);V(IN);V(DN);V(EN);var Wa=Ki.bindToContribution(ir.get);Ne(new Wa({id:wi.CloseFindWidgetCommand,precondition:Rl,handler:n=>n.closeFindWidget(),kbOpts:{weight:105,kbExpr:K.and(M.focus,K.not("isComposing")),primary:9,secondary:[1033]}}));Ne(new Wa({id:wi.ToggleCaseSensitiveCommand,precondition:void 0,handler:n=>n.toggleCaseSensitive(),kbOpts:{weight:105,kbExpr:M.focus,primary:Pb.primary,mac:Pb.mac,win:Pb.win,linux:Pb.linux}}));Ne(new Wa({id:wi.ToggleWholeWordCommand,precondition:void 0,handler:n=>n.toggleWholeWords(),kbOpts:{weight:105,kbExpr:M.focus,primary:Lb.primary,mac:Lb.mac,win:Lb.win,linux:Lb.linux}}));Ne(new Wa({id:wi.ToggleRegexCommand,precondition:void 0,handler:n=>n.toggleRegex(),kbOpts:{weight:105,kbExpr:M.focus,primary:Nb.primary,mac:Nb.mac,win:Nb.win,linux:Nb.linux}}));Ne(new Wa({id:wi.ToggleSearchScopeCommand,precondition:void 0,handler:n=>n.toggleSearchScope(),kbOpts:{weight:105,kbExpr:M.focus,primary:Fb.primary,mac:Fb.mac,win:Fb.win,linux:Fb.linux}}));Ne(new Wa({id:wi.TogglePreserveCaseCommand,precondition:void 0,handler:n=>n.togglePreserveCase(),kbOpts:{weight:105,kbExpr:M.focus,primary:zb.primary,mac:zb.mac,win:zb.win,linux:zb.linux}}));Ne(new Wa({id:wi.ReplaceOneAction,precondition:Rl,handler:n=>n.replace(),kbOpts:{weight:105,kbExpr:M.focus,primary:3094}}));Ne(new Wa({id:wi.ReplaceOneAction,precondition:Rl,handler:n=>n.replace(),kbOpts:{weight:105,kbExpr:K.and(M.focus,Ob),primary:3}}));Ne(new Wa({id:wi.ReplaceAllAction,precondition:Rl,handler:n=>n.replaceAll(),kbOpts:{weight:105,kbExpr:M.focus,primary:2563}}));Ne(new Wa({id:wi.ReplaceAllAction,precondition:Rl,handler:n=>n.replaceAll(),kbOpts:{weight:105,kbExpr:K.and(M.focus,Ob),primary:void 0,mac:{primary:2051}}}));Ne(new Wa({id:wi.SelectAllMatchesAction,precondition:Rl,handler:n=>n.selectAllMatches(),kbOpts:{weight:105,kbExpr:M.focus,primary:515}}));Ht();gi();Bt();oc();ce();Fi();io();tt();$t();gn();Jo();oi();var Cbe={0:" ",1:"u",2:"r"},dK=65535,Cs=16777215,uK=4278190080,Wb=class{constructor(t){let e=Math.ceil(t/32);this._states=new Uint32Array(e)}get(t){let e=t/32|0,i=t%32;return(this._states[e]&1<<i)!==0}set(t,e){let i=t/32|0,o=t%32,r=this._states[i];e?this._states[i]=r|1<<o:this._states[i]=r&~(1<<o)}},Wo=class n{constructor(t,e,i){if(t.length!==e.length||t.length>dK)throw new Error("invalid startIndexes or endIndexes size");this._startIndexes=t,this._endIndexes=e,this._collapseStates=new Wb(t.length),this._userDefinedStates=new Wb(t.length),this._recoveredStates=new Wb(t.length),this._types=i,this._parentsComputed=!1}ensureParentIndices(){if(!this._parentsComputed){this._parentsComputed=!0;let t=[],e=(i,o)=>{let r=t[t.length-1];return this.getStartLineNumber(r)<=i&&this.getEndLineNumber(r)>=o};for(let i=0,o=this._startIndexes.length;i<o;i++){let r=this._startIndexes[i],s=this._endIndexes[i];if(r>Cs||s>Cs)throw new Error("startLineNumber or endLineNumber must not exceed "+Cs);for(;t.length>0&&!e(r,s);)t.pop();let a=t.length>0?t[t.length-1]:-1;t.push(i),this._startIndexes[i]=r+((a&255)<<24),this._endIndexes[i]=s+((a&65280)<<16)}}}get length(){return this._startIndexes.length}getStartLineNumber(t){return this._startIndexes[t]&Cs}getEndLineNumber(t){return this._endIndexes[t]&Cs}getType(t){return this._types?this._types[t]:void 0}hasTypes(){return!!this._types}isCollapsed(t){return this._collapseStates.get(t)}setCollapsed(t,e){this._collapseStates.set(t,e)}isUserDefined(t){return this._userDefinedStates.get(t)}setUserDefined(t,e){return this._userDefinedStates.set(t,e)}isRecovered(t){return this._recoveredStates.get(t)}setRecovered(t,e){return this._recoveredStates.set(t,e)}getSource(t){return this.isUserDefined(t)?1:this.isRecovered(t)?2:0}setSource(t,e){e===1?(this.setUserDefined(t,!0),this.setRecovered(t,!1)):e===2?(this.setUserDefined(t,!1),this.setRecovered(t,!0)):(this.setUserDefined(t,!1),this.setRecovered(t,!1))}setCollapsedAllOfType(t,e){let i=!1;if(this._types)for(let o=0;o<this._types.length;o++)this._types[o]===t&&(this.setCollapsed(o,e),i=!0);return i}toRegion(t){return new kN(this,t)}getParentIndex(t){this.ensureParentIndices();let e=((this._startIndexes[t]&uK)>>>24)+((this._endIndexes[t]&uK)>>>16);return e===dK?-1:e}contains(t,e){return this.getStartLineNumber(t)<=e&&this.getEndLineNumber(t)>=e}findIndex(t){let e=0,i=this._startIndexes.length;if(i===0)return-1;for(;e<i;){let o=Math.floor((e+i)/2);t<this.getStartLineNumber(o)?i=o:e=o+1}return e-1}findRange(t){let e=this.findIndex(t);if(e>=0){if(this.getEndLineNumber(e)>=t)return e;for(e=this.getParentIndex(e);e!==-1;){if(this.contains(e,t))return e;e=this.getParentIndex(e)}}return-1}toString(){let t=[];for(let e=0;e<this.length;e++)t[e]=`[${Cbe[this.getSource(e)]}${this.isCollapsed(e)?"+":"-"}] ${this.getStartLineNumber(e)}/${this.getEndLineNumber(e)}`;return t.join(", ")}toFoldRange(t){return{startLineNumber:this._startIndexes[t]&Cs,endLineNumber:this._endIndexes[t]&Cs,type:this._types?this._types[t]:void 0,isCollapsed:this.isCollapsed(t),source:this.getSource(t)}}static fromFoldRanges(t){let e=t.length,i=new Uint32Array(e),o=new Uint32Array(e),r=[],s=!1;for(let l=0;l<e;l++){let c=t[l];i[l]=c.startLineNumber,o[l]=c.endLineNumber,r.push(c.type),c.type&&(s=!0)}s||(r=void 0);let a=new n(i,o,r);for(let l=0;l<e;l++)t[l].isCollapsed&&a.setCollapsed(l,!0),a.setSource(l,t[l].source);return a}static sanitizeAndMerge(t,e,i,o){i=i??Number.MAX_VALUE;let r=(g,v)=>Array.isArray(g)?b=>b<v?g[b]:void 0:b=>b<v?g.toFoldRange(b):void 0,s=r(t,t.length),a=r(e,e.length),l=0,c=0,d=s(0),u=a(0),h=[],m,f=0,p=[];for(;d||u;){let g;if(u&&(!d||d.startLineNumber>=u.startLineNumber))d&&d.startLineNumber===u.startLineNumber?(u.source===1?g=u:(g=d,g.isCollapsed=u.isCollapsed&&(d.endLineNumber===u.endLineNumber||!o?.startsInside(d.startLineNumber+1,d.endLineNumber+1)),g.source=0),d=s(++l)):(g=u,u.isCollapsed&&u.source===0&&(g.source=2)),u=a(++c);else{let v=c,b=u;for(;;){if(!b||b.startLineNumber>d.endLineNumber){g=d;break}if(b.source===1&&b.endLineNumber>d.endLineNumber)break;b=a(++v)}d=s(++l)}if(g){for(;m&&m.endLineNumber<g.startLineNumber;)m=h.pop();g.endLineNumber>g.startLineNumber&&g.startLineNumber>f&&g.endLineNumber<=i&&(!m||m.endLineNumber>=g.endLineNumber)&&(p.push(g),f=g.startLineNumber,m&&h.push(m),m=g)}}return p}},kN=class{constructor(t,e){this.ranges=t,this.index=e}get startLineNumber(){return this.ranges.getStartLineNumber(this.index)}get endLineNumber(){return this.ranges.getEndLineNumber(this.index)}get regionIndex(){return this.index}get parentIndex(){return this.ranges.getParentIndex(this.index)}get isCollapsed(){return this.ranges.isCollapsed(this.index)}containedBy(t){return t.startLineNumber<=this.startLineNumber&&t.endLineNumber>=this.endLineNumber}containsLine(t){return this.startLineNumber<=t&&t<=this.endLineNumber}};Rj();var PD=class{get regions(){return this._regions}get textModel(){return this._textModel}constructor(t,e){this._updateEventEmitter=new je,this.onDidChange=this._updateEventEmitter.event,this._textModel=t,this._decorationProvider=e,this._regions=new Wo(new Uint32Array(0),new Uint32Array(0)),this._editorDecorationIds=[]}toggleCollapseState(t){if(!t.length)return;t=t.sort((i,o)=>i.regionIndex-o.regionIndex);let e={};this._decorationProvider.changeDecorations(i=>{let o=0,r=-1,s=-1,a=l=>{for(;o<l;){let c=this._regions.getEndLineNumber(o),d=this._regions.isCollapsed(o);if(c<=r){let u=this.regions.getSource(o)!==0;i.changeDecorationOptions(this._editorDecorationIds[o],this._decorationProvider.getDecorationOption(d,c<=s,u))}d&&c>s&&(s=c),o++}};for(let l of t){let c=l.regionIndex,d=this._editorDecorationIds[c];if(d&&!e[d]){e[d]=!0,a(c);let u=!this._regions.isCollapsed(c);this._regions.setCollapsed(c,u),r=Math.max(r,this._regions.getEndLineNumber(c))}}a(this._regions.length)}),this._updateEventEmitter.fire({model:this,collapseStateChanged:t})}removeManualRanges(t){let e=new Array,i=o=>{for(let r of t)if(!(r.startLineNumber>o.endLineNumber||o.startLineNumber>r.endLineNumber))return!0;return!1};for(let o=0;o<this._regions.length;o++){let r=this._regions.toFoldRange(o);(r.source===0||!i(r))&&e.push(r)}this.updatePost(Wo.fromFoldRanges(e))}update(t,e){let i=this._currentFoldedOrManualRanges(e),o=Wo.sanitizeAndMerge(t,i,this._textModel.getLineCount(),e);this.updatePost(Wo.fromFoldRanges(o))}updatePost(t){let e=[],i=-1;for(let o=0,r=t.length;o<r;o++){let s=t.getStartLineNumber(o),a=t.getEndLineNumber(o),l=t.isCollapsed(o),c=t.getSource(o)!==0,d={startLineNumber:s,startColumn:this._textModel.getLineMaxColumn(s),endLineNumber:a,endColumn:this._textModel.getLineMaxColumn(a)+1};e.push({range:d,options:this._decorationProvider.getDecorationOption(l,a<=i,c)}),l&&a>i&&(i=a)}this._decorationProvider.changeDecorations(o=>this._editorDecorationIds=o.deltaDecorations(this._editorDecorationIds,e)),this._regions=t,this._updateEventEmitter.fire({model:this})}_currentFoldedOrManualRanges(t){let e=[];for(let i=0,o=this._regions.length;i<o;i++){let r=this.regions.isCollapsed(i),s=this.regions.getSource(i);if(r||s!==0){let a=this._regions.toFoldRange(i),l=this._textModel.getDecorationRange(this._editorDecorationIds[i]);l&&(r&&t?.startsInside(l.startLineNumber+1,l.endLineNumber)&&(r=!1),e.push({startLineNumber:l.startLineNumber,endLineNumber:l.endLineNumber,type:a.type,isCollapsed:r,source:s}))}}return e}getMemento(){let t=this._currentFoldedOrManualRanges(),e=[],i=this._textModel.getLineCount();for(let o=0,r=t.length;o<r;o++){let s=t[o];if(s.startLineNumber>=s.endLineNumber||s.startLineNumber<1||s.endLineNumber>i)continue;let a=this._getLinesChecksum(s.startLineNumber+1,s.endLineNumber);e.push({startLineNumber:s.startLineNumber,endLineNumber:s.endLineNumber,isCollapsed:s.isCollapsed,source:s.source,checksum:a})}return e.length>0?e:void 0}applyMemento(t){if(!Array.isArray(t))return;let e=[],i=this._textModel.getLineCount();for(let r of t){if(r.startLineNumber>=r.endLineNumber||r.startLineNumber<1||r.endLineNumber>i)continue;let s=this._getLinesChecksum(r.startLineNumber+1,r.endLineNumber);(!r.checksum||s===r.checksum)&&e.push({startLineNumber:r.startLineNumber,endLineNumber:r.endLineNumber,type:void 0,isCollapsed:r.isCollapsed??!0,source:r.source??0})}let o=Wo.sanitizeAndMerge(this._regions,e,i);this.updatePost(Wo.fromFoldRanges(o))}_getLinesChecksum(t,e){return Fx(this._textModel.getLineContent(t)+this._textModel.getLineContent(e))%1e6}dispose(){this._decorationProvider.removeDecorations(this._editorDecorationIds)}getAllRegionsAtLine(t,e){let i=[];if(this._regions){let o=this._regions.findRange(t),r=1;for(;o>=0;){let s=this._regions.toRegion(o);(!e||e(s,r))&&i.push(s),r++,o=s.parentIndex}}return i}getRegionAtLine(t){if(this._regions){let e=this._regions.findRange(t);if(e>=0)return this._regions.toRegion(e)}return null}getRegionsInside(t,e){let i=[],o=t?t.regionIndex+1:0,r=t?t.endLineNumber:Number.MAX_VALUE;if(e&&e.length===2){let s=[];for(let a=o,l=this._regions.length;a<l;a++){let c=this._regions.toRegion(a);if(this._regions.getStartLineNumber(a)<r){for(;s.length>0&&!c.containedBy(s[s.length-1]);)s.pop();s.push(c),e(c,s.length)&&i.push(c)}else break}}else for(let s=o,a=this._regions.length;s<a;s++){let l=this._regions.toRegion(s);if(this._regions.getStartLineNumber(s)<r)(!e||e(l))&&i.push(l);else break}return i}};function jb(n,t,e){let i=[];for(let o of e){let r=n.getRegionAtLine(o);if(r){let s=!r.isCollapsed;if(i.push(r),t>1){let a=n.getRegionsInside(r,(l,c)=>l.isCollapsed!==s&&c<t);i.push(...a)}}}n.toggleCollapseState(i)}function cm(n,t,e=Number.MAX_VALUE,i){let o=[];if(i&&i.length>0)for(let r of i){let s=n.getRegionAtLine(r);if(s&&(s.isCollapsed!==t&&o.push(s),e>1)){let a=n.getRegionsInside(s,(l,c)=>l.isCollapsed!==t&&c<e);o.push(...a)}}else{let r=n.getRegionsInside(null,(s,a)=>s.isCollapsed!==t&&a<e);o.push(...r)}n.toggleCollapseState(o)}function MN(n,t,e,i){let o=[];for(let r of i){let s=n.getAllRegionsAtLine(r,(a,l)=>a.isCollapsed!==t&&l<=e);o.push(...s)}n.toggleCollapseState(o)}function hK(n,t,e){let i=[];for(let o of e){let r=n.getAllRegionsAtLine(o,s=>s.isCollapsed!==t);r.length>0&&i.push(r[0])}n.toggleCollapseState(i)}function mK(n,t,e,i){let o=(s,a)=>a===t&&s.isCollapsed!==e&&!i.some(l=>s.containsLine(l)),r=n.getRegionsInside(null,o);n.toggleCollapseState(r)}function TN(n,t,e){let i=[];for(let s of e){let a=n.getAllRegionsAtLine(s,void 0);a.length>0&&i.push(a[0])}let o=s=>i.every(a=>!a.containedBy(s)&&!s.containedBy(a))&&s.isCollapsed!==t,r=n.getRegionsInside(null,o);n.toggleCollapseState(r)}function LD(n,t,e){let i=n.textModel,o=n.regions,r=[];for(let s=o.length-1;s>=0;s--)if(e!==o.isCollapsed(s)){let a=o.getStartLineNumber(s);t.test(i.getLineContent(a))&&r.push(o.toRegion(s))}n.toggleCollapseState(r)}function ND(n,t,e){let i=n.regions,o=[];for(let r=i.length-1;r>=0;r--)e!==i.isCollapsed(r)&&t===i.getType(r)&&o.push(i.toRegion(r));n.toggleCollapseState(o)}function pK(n,t){let e=null,i=t.getRegionAtLine(n);if(i!==null&&(e=i.startLineNumber,n===e)){let o=i.parentIndex;o!==-1?e=t.regions.getStartLineNumber(o):e=null}return e}function fK(n,t){let e=t.getRegionAtLine(n);if(e!==null&&e.startLineNumber===n){if(n!==e.startLineNumber)return e.startLineNumber;{let i=e.parentIndex,o=0;for(i!==-1&&(o=t.regions.getStartLineNumber(e.parentIndex));e!==null;)if(e.regionIndex>0){if(e=t.regions.toRegion(e.regionIndex-1),e.startLineNumber<=o)return null;if(e.parentIndex===i)return e.startLineNumber}else return null}}else if(t.regions.length>0)for(e=t.regions.toRegion(t.regions.length-1);e!==null;){if(e.startLineNumber<n)return e.startLineNumber;e.regionIndex>0?e=t.regions.toRegion(e.regionIndex-1):e=null}return null}function gK(n,t){let e=t.getRegionAtLine(n);if(e!==null&&e.startLineNumber===n){let i=e.parentIndex,o=0;if(i!==-1)o=t.regions.getEndLineNumber(e.parentIndex);else{if(t.regions.length===0)return null;o=t.regions.getEndLineNumber(t.regions.length-1)}for(;e!==null;)if(e.regionIndex<t.regions.length){if(e=t.regions.toRegion(e.regionIndex+1),e.startLineNumber>=o)return null;if(e.parentIndex===i)return e.startLineNumber}else return null}else if(t.regions.length>0)for(e=t.regions.toRegion(0);e!==null;){if(e.startLineNumber>n)return e.startLineNumber;e.regionIndex<t.regions.length?e=t.regions.toRegion(e.regionIndex+1):e=null}return null}W_();oi();qe();wce();var FD=class{get onDidChange(){return this._updateEventEmitter.event}get hiddenRanges(){return this._hiddenRanges}constructor(t){this._updateEventEmitter=new je,this._hasLineChanges=!1,this._foldingModel=t,this._foldingModelListener=t.onDidChange(e=>this.updateHiddenRanges()),this._hiddenRanges=[],t.regions.length&&this.updateHiddenRanges()}notifyChangeModelContent(t){this._hiddenRanges.length&&!this._hasLineChanges&&(this._hasLineChanges=t.changes.some(e=>e.range.endLineNumber!==e.range.startLineNumber||h4(e.text)[0]!==0))}updateHiddenRanges(){let t=!1,e=[],i=0,o=0,r=Number.MAX_VALUE,s=-1,a=this._foldingModel.regions;for(;i<a.length;i++){if(!a.isCollapsed(i))continue;let l=a.getStartLineNumber(i)+1,c=a.getEndLineNumber(i);r<=l&&c<=s||(!t&&o<this._hiddenRanges.length&&this._hiddenRanges[o].startLineNumber===l&&this._hiddenRanges[o].endLineNumber===c?(e.push(this._hiddenRanges[o]),o++):(t=!0,e.push(new A(l,1,c,1))),r=l,s=c)}(this._hasLineChanges||t||o<this._hiddenRanges.length)&&this.applyHiddenRanges(e)}applyHiddenRanges(t){this._hiddenRanges=t,this._hasLineChanges=!1,this._updateEventEmitter.fire(t)}hasRanges(){return this._hiddenRanges.length>0}isHidden(t){return _K(this._hiddenRanges,t)!==null}adjustSelections(t){let e=!1,i=this._foldingModel.textModel,o=null,r=s=>((!o||!Sbe(s,o))&&(o=_K(this._hiddenRanges,s)),o?o.startLineNumber-1:null);for(let s=0,a=t.length;s<a;s++){let l=t[s],c=r(l.startLineNumber);c&&(l=l.setStartPosition(c,i.getLineMaxColumn(c)),e=!0);let d=r(l.endLineNumber);d&&(l=l.setEndPosition(d,i.getLineMaxColumn(d)),e=!0),t[s]=l}return e}dispose(){this.hiddenRanges.length>0&&(this._hiddenRanges=[],this._updateEventEmitter.fire(this._hiddenRanges)),this._foldingModelListener&&(this._foldingModelListener.dispose(),this._foldingModelListener=null)}};function Sbe(n,t){return n>=t.startLineNumber&&n<=t.endLineNumber}function _K(n,t){let e=Gx(n,i=>t<i.startLineNumber)-1;return e>=0&&n[e].endLineNumber>=t?n[e]:null}Z5();var Ibe=5e3,Dbe="indent",dm=class{constructor(t,e,i){this.editorModel=t,this.languageConfigurationService=e,this.foldingRangesLimit=i,this.id=Dbe}dispose(){}compute(t){let e=this.languageConfigurationService.getLanguageConfiguration(this.editorModel.getLanguageId()).foldingRules,i=e&&!!e.offSide,o=e&&e.markers;return Promise.resolve(kbe(this.editorModel,i,o,this.foldingRangesLimit))}},AN=class{constructor(t){this._startIndexes=[],this._endIndexes=[],this._indentOccurrences=[],this._length=0,this._foldingRangesLimit=t}insertFirst(t,e,i){if(t>Cs||e>Cs)return;let o=this._length;this._startIndexes[o]=t,this._endIndexes[o]=e,this._length++,i<1e3&&(this._indentOccurrences[i]=(this._indentOccurrences[i]||0)+1)}toIndentRanges(t){let e=this._foldingRangesLimit.limit;if(this._length<=e){this._foldingRangesLimit.update(this._length,!1);let i=new Uint32Array(this._length),o=new Uint32Array(this._length);for(let r=this._length-1,s=0;r>=0;r--,s++)i[s]=this._startIndexes[r],o[s]=this._endIndexes[r];return new Wo(i,o)}else{this._foldingRangesLimit.update(this._length,e);let i=0,o=this._indentOccurrences.length;for(let l=0;l<this._indentOccurrences.length;l++){let c=this._indentOccurrences[l];if(c){if(c+i>e){o=l;break}i+=c}}let r=t.getOptions().tabSize,s=new Uint32Array(e),a=new Uint32Array(e);for(let l=this._length-1,c=0;l>=0;l--){let d=this._startIndexes[l],u=t.getLineContent(d),h=tv(u,r);(h<o||h===o&&i++<e)&&(s[c]=d,a[c]=this._endIndexes[l],c++)}return new Wo(s,a)}}},Ebe={limit:Ibe,update:()=>{}};function kbe(n,t,e,i=Ebe){let o=n.getOptions().tabSize,r=new AN(i),s;e&&(s=new RegExp(`(${e.start.source})|(?:${e.end.source})`));let a=[],l=n.getLineCount()+1;a.push({indent:-1,endAbove:l,line:l});for(let c=n.getLineCount();c>0;c--){let d=n.getLineContent(c),u=tv(d,o),h=a[a.length-1];if(u===-1){t&&(h.endAbove=c);continue}let m;if(s&&(m=d.match(s)))if(m[1]){let f=a.length-1;for(;f>0&&a[f].indent!==-2;)f--;if(f>0){a.length=f+1,h=a[f],r.insertFirst(c,h.line,u),h.line=c,h.indent=u,h.endAbove=c;continue}}else{a.push({indent:-2,endAbove:c,line:c});continue}if(h.indent>u){do a.pop(),h=a[a.length-1];while(h.indent>u);let f=h.endAbove-1;f-c>=1&&r.insertFirst(c,f,u)}h.indent===u?h.endAbove=c:a.push({indent:u,endAbove:c,line:c})}return r.toIndentRanges(n)}Ae();mt();Vn();bn();Ae();Eo();Do();Zo();var Mbe=Oe("editor.foldBackground",{light:us(gA,.3),dark:us(gA,.3),hcDark:null,hcLight:null},_("foldBackgroundBackground","Background color behind folded ranges. The color must not be opaque so as not to hide underlying decorations."),!0);Oe("editor.foldPlaceholderForeground",{light:"#808080",dark:"#808080",hcDark:null,hcLight:null},_("collapsedTextColor","Color of the collapsed text after the first line of a folded range."));Oe("editorGutter.foldingControlForeground",f4,_("editorGutter.foldingControlForeground","Color of the folding control in the editor gutter."));var Ub=Ii("folding-expanded",Ge.chevronDown,_("foldingExpandedIcon","Icon for expanded ranges in the editor glyph margin.")),qb=Ii("folding-collapsed",Ge.chevronRight,_("foldingCollapsedIcon","Icon for collapsed ranges in the editor glyph margin.")),vK=Ii("folding-manual-collapsed",qb,_("foldingManualCollapedIcon","Icon for manually collapsed ranges in the editor glyph margin.")),bK=Ii("folding-manual-expanded",Ub,_("foldingManualExpandedIcon","Icon for manually expanded ranges in the editor glyph margin.")),RN={color:zi(Mbe),position:1},ng=_("linesCollapsed","Click to expand the range."),zD=_("linesExpanded","Click to collapse the range."),BD=class n{static{this.COLLAPSED_VISUAL_DECORATION=at.register({description:"folding-collapsed-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",isWholeLine:!0,linesDecorationsTooltip:ng,firstLineDecorationClassName:St.asClassName(qb)})}static{this.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=at.register({description:"folding-collapsed-highlighted-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",className:"folded-background",minimap:RN,isWholeLine:!0,linesDecorationsTooltip:ng,firstLineDecorationClassName:St.asClassName(qb)})}static{this.MANUALLY_COLLAPSED_VISUAL_DECORATION=at.register({description:"folding-manually-collapsed-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",isWholeLine:!0,linesDecorationsTooltip:ng,firstLineDecorationClassName:St.asClassName(vK)})}static{this.MANUALLY_COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=at.register({description:"folding-manually-collapsed-highlighted-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",className:"folded-background",minimap:RN,isWholeLine:!0,linesDecorationsTooltip:ng,firstLineDecorationClassName:St.asClassName(vK)})}static{this.NO_CONTROLS_COLLAPSED_RANGE_DECORATION=at.register({description:"folding-no-controls-range-decoration",stickiness:0,afterContentClassName:"inline-folded",isWholeLine:!0,linesDecorationsTooltip:ng})}static{this.NO_CONTROLS_COLLAPSED_HIGHLIGHTED_RANGE_DECORATION=at.register({description:"folding-no-controls-range-decoration",stickiness:0,afterContentClassName:"inline-folded",className:"folded-background",minimap:RN,isWholeLine:!0,linesDecorationsTooltip:ng})}static{this.EXPANDED_VISUAL_DECORATION=at.register({description:"folding-expanded-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+St.asClassName(Ub),linesDecorationsTooltip:zD})}static{this.EXPANDED_AUTO_HIDE_VISUAL_DECORATION=at.register({description:"folding-expanded-auto-hide-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:St.asClassName(Ub),linesDecorationsTooltip:zD})}static{this.MANUALLY_EXPANDED_VISUAL_DECORATION=at.register({description:"folding-manually-expanded-visual-decoration",stickiness:0,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+St.asClassName(bK),linesDecorationsTooltip:zD})}static{this.MANUALLY_EXPANDED_AUTO_HIDE_VISUAL_DECORATION=at.register({description:"folding-manually-expanded-auto-hide-visual-decoration",stickiness:0,isWholeLine:!0,firstLineDecorationClassName:St.asClassName(bK),linesDecorationsTooltip:zD})}static{this.NO_CONTROLS_EXPANDED_RANGE_DECORATION=at.register({description:"folding-no-controls-range-decoration",stickiness:0,isWholeLine:!0})}static{this.HIDDEN_RANGE_DECORATION=at.register({description:"folding-hidden-range-decoration",stickiness:1})}constructor(t){this.editor=t,this.showFoldingControls="mouseover",this.showFoldingHighlights=!0}getDecorationOption(t,e,i){return e?n.HIDDEN_RANGE_DECORATION:this.showFoldingControls==="never"?t?this.showFoldingHighlights?n.NO_CONTROLS_COLLAPSED_HIGHLIGHTED_RANGE_DECORATION:n.NO_CONTROLS_COLLAPSED_RANGE_DECORATION:n.NO_CONTROLS_EXPANDED_RANGE_DECORATION:t?i?this.showFoldingHighlights?n.MANUALLY_COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:n.MANUALLY_COLLAPSED_VISUAL_DECORATION:this.showFoldingHighlights?n.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:n.COLLAPSED_VISUAL_DECORATION:this.showFoldingControls==="mouseover"?i?n.MANUALLY_EXPANDED_AUTO_HIDE_VISUAL_DECORATION:n.EXPANDED_AUTO_HIDE_VISUAL_DECORATION:i?n.MANUALLY_EXPANDED_VISUAL_DECORATION:n.EXPANDED_VISUAL_DECORATION}changeDecorations(t){return this.editor.changeDecorations(t)}removeDecorations(t){this.editor.removeDecorations(t)}};Bt();ce();var Tbe={},Abe="syntax",um=class{constructor(t,e,i,o,r){this.editorModel=t,this.providers=e,this.handleFoldingRangesChange=i,this.foldingRangesLimit=o,this.fallbackRangeProvider=r,this.id=Abe,this.disposables=new G,r&&this.disposables.add(r);for(let s of e)typeof s.onDidChange=="function"&&this.disposables.add(s.onDidChange(i))}compute(t){return Rbe(this.providers,this.editorModel,t).then(e=>e?Obe(e,this.foldingRangesLimit):this.fallbackRangeProvider?.compute(t)??null)}dispose(){this.disposables.dispose()}};function Rbe(n,t,e){let i=null,o=n.map((r,s)=>Promise.resolve(r.provideFoldingRanges(t,Tbe,e)).then(a=>{if(!e.isCancellationRequested&&Array.isArray(a)){Array.isArray(i)||(i=[]);let l=t.getLineCount();for(let c of a)c.start>0&&c.end>c.start&&c.end<=l&&i.push({start:c.start,end:c.end,rank:s,kind:c.kind})}},zt));return Promise.all(o).then(r=>i)}var ON=class{constructor(t){this._startIndexes=[],this._endIndexes=[],this._nestingLevels=[],this._nestingLevelCounts=[],this._types=[],this._length=0,this._foldingRangesLimit=t}add(t,e,i,o){if(t>Cs||e>Cs)return;let r=this._length;this._startIndexes[r]=t,this._endIndexes[r]=e,this._nestingLevels[r]=o,this._types[r]=i,this._length++,o<30&&(this._nestingLevelCounts[o]=(this._nestingLevelCounts[o]||0)+1)}toIndentRanges(){let t=this._foldingRangesLimit.limit;if(this._length<=t){this._foldingRangesLimit.update(this._length,!1);let e=new Uint32Array(this._length),i=new Uint32Array(this._length);for(let o=0;o<this._length;o++)e[o]=this._startIndexes[o],i[o]=this._endIndexes[o];return new Wo(e,i,this._types)}else{this._foldingRangesLimit.update(this._length,t);let e=0,i=this._nestingLevelCounts.length;for(let a=0;a<this._nestingLevelCounts.length;a++){let l=this._nestingLevelCounts[a];if(l){if(l+e>t){i=a;break}e+=l}}let o=new Uint32Array(t),r=new Uint32Array(t),s=[];for(let a=0,l=0;a<this._length;a++){let c=this._nestingLevels[a];(c<i||c===i&&e++<t)&&(o[l]=this._startIndexes[a],r[l]=this._endIndexes[a],s[l]=this._types[a],l++)}return new Wo(o,r,s)}}};function Obe(n,t){let e=n.sort((s,a)=>{let l=s.start-a.start;return l===0&&(l=s.rank-a.rank),l}),i=new ON(t),o,r=[];for(let s of e)if(!o)o=s,i.add(s.start,s.end,s.kind&&s.kind.value,r.length);else if(s.start>o.start)if(s.end<=o.end)r.push(o),o=s,i.add(s.start,s.end,s.kind&&s.kind.value,r.length);else{if(s.start>o.end){do o=r.pop();while(o&&s.start>o.end);o&&r.push(o),o=s}i.add(s.start,s.end,s.kind&&s.kind.value,r.length)}return i.toIndentRanges()}Fs();Ls();Lt();oi();Ui();On();ls();_n();var Pbe=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},Gb=function(n,t){return function(e,i){t(e,i,n)}},$b,wo=new ot("foldingEnabled",!1),Pl=class extends U{static{$b=this}static{this.ID="editor.contrib.folding"}static get(e){return e.getContribution($b.ID)}static getFoldingRangeProviders(e,i){let o=e.foldingRangeProvider.ordered(i);return $b._foldingRangeSelector?.(o,i)??o}constructor(e,i,o,r,s,a){super(),this.contextKeyService=i,this.languageConfigurationService=o,this.languageFeaturesService=a,this.localToDispose=this._register(new G),this.editor=e,this._foldingLimitReporter=new Kb(e);let l=this.editor.getOptions();this._isEnabled=l.get(43),this._useFoldingProviders=l.get(44)!=="indentation",this._unfoldOnClickAfterEndOfLine=l.get(48),this._restoringViewState=!1,this._currentModelHasFoldedImports=!1,this._foldingImportsByDefault=l.get(46),this.updateDebounceInfo=s.for(a.foldingRangeProvider,"Folding",{min:200}),this.foldingModel=null,this.hiddenRangeModel=null,this.rangeProvider=null,this.foldingRegionPromise=null,this.foldingModelPromise=null,this.updateScheduler=null,this.cursorChangedScheduler=null,this.mouseDownInfo=null,this.foldingDecorationProvider=new BD(e),this.foldingDecorationProvider.showFoldingControls=l.get(111),this.foldingDecorationProvider.showFoldingHighlights=l.get(45),this.foldingEnabled=wo.bindTo(this.contextKeyService),this.foldingEnabled.set(this._isEnabled),this._register(this.editor.onDidChangeModel(()=>this.onModelChanged())),this._register(this.editor.onDidChangeConfiguration(c=>{if(c.hasChanged(43)&&(this._isEnabled=this.editor.getOptions().get(43),this.foldingEnabled.set(this._isEnabled),this.onModelChanged()),c.hasChanged(47)&&this.onModelChanged(),c.hasChanged(111)||c.hasChanged(45)){let d=this.editor.getOptions();this.foldingDecorationProvider.showFoldingControls=d.get(111),this.foldingDecorationProvider.showFoldingHighlights=d.get(45),this.triggerFoldingModelChanged()}c.hasChanged(44)&&(this._useFoldingProviders=this.editor.getOptions().get(44)!=="indentation",this.onFoldingStrategyChanged()),c.hasChanged(48)&&(this._unfoldOnClickAfterEndOfLine=this.editor.getOptions().get(48)),c.hasChanged(46)&&(this._foldingImportsByDefault=this.editor.getOptions().get(46))})),this.onModelChanged()}saveViewState(){let e=this.editor.getModel();if(!e||!this._isEnabled||e.isTooLargeForTokenization())return{};if(this.foldingModel){let i=this.foldingModel.getMemento(),o=this.rangeProvider?this.rangeProvider.id:void 0;return{collapsedRegions:i,lineCount:e.getLineCount(),provider:o,foldedImports:this._currentModelHasFoldedImports}}}restoreViewState(e){let i=this.editor.getModel();if(!(!i||!this._isEnabled||i.isTooLargeForTokenization()||!this.hiddenRangeModel)&&e&&(this._currentModelHasFoldedImports=!!e.foldedImports,e.collapsedRegions&&e.collapsedRegions.length>0&&this.foldingModel)){this._restoringViewState=!0;try{this.foldingModel.applyMemento(e.collapsedRegions)}finally{this._restoringViewState=!1}}}onModelChanged(){this.localToDispose.clear();let e=this.editor.getModel();!this._isEnabled||!e||e.isTooLargeForTokenization()||(this._currentModelHasFoldedImports=!1,this.foldingModel=new PD(e,this.foldingDecorationProvider),this.localToDispose.add(this.foldingModel),this.hiddenRangeModel=new FD(this.foldingModel),this.localToDispose.add(this.hiddenRangeModel),this.localToDispose.add(this.hiddenRangeModel.onDidChange(i=>this.onHiddenRangesChanges(i))),this.updateScheduler=new Ir(this.updateDebounceInfo.get(e)),this.cursorChangedScheduler=new si(()=>this.revealCursor(),200),this.localToDispose.add(this.cursorChangedScheduler),this.localToDispose.add(this.languageFeaturesService.foldingRangeProvider.onDidChange(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelLanguageConfiguration(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelContent(i=>this.onDidChangeModelContent(i))),this.localToDispose.add(this.editor.onDidChangeCursorPosition(()=>this.onCursorPositionChanged())),this.localToDispose.add(this.editor.onMouseDown(i=>this.onEditorMouseDown(i))),this.localToDispose.add(this.editor.onMouseUp(i=>this.onEditorMouseUp(i))),this.localToDispose.add({dispose:()=>{this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.updateScheduler?.cancel(),this.updateScheduler=null,this.foldingModel=null,this.foldingModelPromise=null,this.hiddenRangeModel=null,this.cursorChangedScheduler=null,this.rangeProvider?.dispose(),this.rangeProvider=null}}),this.triggerFoldingModelChanged())}onFoldingStrategyChanged(){this.rangeProvider?.dispose(),this.rangeProvider=null,this.triggerFoldingModelChanged()}getRangeProvider(e){if(this.rangeProvider)return this.rangeProvider;let i=new dm(e,this.languageConfigurationService,this._foldingLimitReporter);if(this.rangeProvider=i,this._useFoldingProviders&&this.foldingModel){let o=$b.getFoldingRangeProviders(this.languageFeaturesService,e);o.length>0&&(this.rangeProvider=new um(e,o,()=>this.triggerFoldingModelChanged(),this._foldingLimitReporter,i))}return this.rangeProvider}getFoldingModel(){return this.foldingModelPromise}onDidChangeModelContent(e){this.hiddenRangeModel?.notifyChangeModelContent(e),this.triggerFoldingModelChanged()}triggerFoldingModelChanged(){this.updateScheduler&&(this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.foldingModelPromise=this.updateScheduler.trigger(()=>{let e=this.foldingModel;if(!e)return null;let i=new Xi,o=this.getRangeProvider(e.textModel),r=this.foldingRegionPromise=yi(s=>o.compute(s));return r.then(s=>{if(s&&r===this.foldingRegionPromise){let a;if(this._foldingImportsByDefault&&!this._currentModelHasFoldedImports){let d=s.setCollapsedAllOfType(op.Imports.value,!0);d&&(a=vl.capture(this.editor),this._currentModelHasFoldedImports=d)}let l=this.editor.getSelections();e.update(s,Lbe(l)),a?.restore(this.editor);let c=this.updateDebounceInfo.update(e.textModel,i.elapsed());this.updateScheduler&&(this.updateScheduler.defaultDelay=c)}return e})}).then(void 0,e=>(ut(e),null)))}onHiddenRangesChanges(e){if(this.hiddenRangeModel&&e.length&&!this._restoringViewState){let i=this.editor.getSelections();i&&this.hiddenRangeModel.adjustSelections(i)&&this.editor.setSelections(i)}this.editor.setHiddenAreas(e,this)}onCursorPositionChanged(){this.hiddenRangeModel&&this.hiddenRangeModel.hasRanges()&&this.cursorChangedScheduler.schedule()}revealCursor(){let e=this.getFoldingModel();e&&e.then(i=>{if(i){let o=this.editor.getSelections();if(o&&o.length>0){let r=[];for(let s of o){let a=s.selectionStartLineNumber;this.hiddenRangeModel&&this.hiddenRangeModel.isHidden(a)&&r.push(...i.getAllRegionsAtLine(a,l=>l.isCollapsed&&a>l.startLineNumber))}r.length&&(i.toggleCollapseState(r),this.reveal(o[0].getPosition()))}}}).then(void 0,ut)}onEditorMouseDown(e){if(this.mouseDownInfo=null,!this.hiddenRangeModel||!e.target||!e.target.range||!e.event.leftButton&&!e.event.middleButton)return;let i=e.target.range,o=!1;switch(e.target.type){case 4:{let r=e.target.detail,s=e.target.element.offsetLeft;if(r.offsetX-s<4)return;o=!0;break}case 7:{if(this._unfoldOnClickAfterEndOfLine&&this.hiddenRangeModel.hasRanges()&&!e.target.detail.isAfterLines)break;return}case 6:{if(this.hiddenRangeModel.hasRanges()){let r=this.editor.getModel();if(r&&i.startColumn===r.getLineMaxColumn(i.startLineNumber))break}return}default:return}this.mouseDownInfo={lineNumber:i.startLineNumber,iconClicked:o}}onEditorMouseUp(e){let i=this.foldingModel;if(!i||!this.mouseDownInfo||!e.target)return;let o=this.mouseDownInfo.lineNumber,r=this.mouseDownInfo.iconClicked,s=e.target.range;if(!s||s.startLineNumber!==o)return;if(r){if(e.target.type!==4)return}else{let l=this.editor.getModel();if(!l||s.startColumn!==l.getLineMaxColumn(o))return}let a=i.getRegionAtLine(o);if(a&&a.startLineNumber===o){let l=a.isCollapsed;if(r||l){let c=e.event.altKey,d=[];if(c){let u=m=>!m.containedBy(a)&&!a.containedBy(m),h=i.getRegionsInside(null,u);for(let m of h)m.isCollapsed&&d.push(m);d.length===0&&(d=h)}else{let u=e.event.middleButton||e.event.shiftKey;if(u)for(let h of i.getRegionsInside(a))h.isCollapsed===l&&d.push(h);(l||!u||d.length===0)&&d.push(a)}i.toggleCollapseState(d),this.reveal({lineNumber:o,column:1})}}}reveal(e){this.editor.revealPositionInCenterIfOutsideViewport(e,0)}};Pl=$b=Pbe([Gb(1,Xe),Gb(2,_i),Gb(3,Bi),Gb(4,vn),Gb(5,ae)],Pl);var Kb=class{constructor(t){this.editor=t,this._onDidChange=new je,this._computed=0,this._limited=!1}get limit(){return this.editor.getOptions().get(47)}update(t,e){(t!==this._computed||e!==this._limited)&&(this._computed=t,this._limited=e,this._onDidChange.fire())}},uo=class extends Z{runEditorCommand(t,e,i){let o=t.get(_i),r=Pl.get(e);if(!r)return;let s=r.getFoldingModel();if(s)return this.reportTelemetry(t,e),s.then(a=>{if(a){this.invoke(r,a,e,i,o);let l=e.getSelection();l&&r.reveal(l.getStartPosition())}})}getSelectedLines(t){let e=t.getSelections();return e?e.map(i=>i.startLineNumber):[]}getLineNumbers(t,e){return t&&t.selectionLines?t.selectionLines.map(i=>i+1):this.getSelectedLines(e)}run(t,e){}};function Lbe(n){return!n||n.length===0?{startsInside:()=>!1}:{startsInside(t,e){for(let i of n){let o=i.startLineNumber;if(o>=t&&o<=e)return!0}return!1}}}function xK(n){if(!ih(n)){if(!kx(n))return!1;let t=n;if(!ih(t.levels)&&!qT(t.levels)||!ih(t.direction)&&!Ex(t.direction)||!ih(t.selectionLines)&&(!Array.isArray(t.selectionLines)||!t.selectionLines.every(qT)))return!1}return!0}var PN=class extends uo{constructor(){super({id:"editor.unfold",label:_("unfoldAction.label","Unfold"),alias:"Unfold",precondition:wo,kbOpts:{kbExpr:M.editorTextFocus,primary:3166,mac:{primary:2654},weight:100},metadata:{description:"Unfold the content in the editor",args:[{name:"Unfold editor argument",description:`Property-value pairs that can be passed through this argument:
						* 'levels': Number of levels to unfold. If not set, defaults to 1.
						* 'direction': If 'up', unfold given number of levels up otherwise unfolds down.
						* 'selectionLines': Array of the start lines (0-based) of the editor selections to apply the unfold action to. If not set, the active selection(s) will be used.
						`,constraint:xK,schema:{type:"object",properties:{levels:{type:"number",default:1},direction:{type:"string",enum:["up","down"],default:"down"},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(t,e,i,o){let r=o&&o.levels||1,s=this.getLineNumbers(o,i);o&&o.direction==="up"?MN(e,!1,r,s):cm(e,!1,r,s)}},LN=class extends uo{constructor(){super({id:"editor.unfoldRecursively",label:_("unFoldRecursivelyAction.label","Unfold Recursively"),alias:"Unfold Recursively",precondition:wo,kbOpts:{kbExpr:M.editorTextFocus,primary:Pi(2089,2142),weight:100}})}invoke(t,e,i,o){cm(e,!1,Number.MAX_VALUE,this.getSelectedLines(i))}},NN=class extends uo{constructor(){super({id:"editor.fold",label:_("foldAction.label","Fold"),alias:"Fold",precondition:wo,kbOpts:{kbExpr:M.editorTextFocus,primary:3164,mac:{primary:2652},weight:100},metadata:{description:"Fold the content in the editor",args:[{name:"Fold editor argument",description:`Property-value pairs that can be passed through this argument:
							* 'levels': Number of levels to fold.
							* 'direction': If 'up', folds given number of levels up otherwise folds down.
							* 'selectionLines': Array of the start lines (0-based) of the editor selections to apply the fold action to. If not set, the active selection(s) will be used.
							If no levels or direction is set, folds the region at the locations or if already collapsed, the first uncollapsed parent instead.
						`,constraint:xK,schema:{type:"object",properties:{levels:{type:"number"},direction:{type:"string",enum:["up","down"]},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(t,e,i,o){let r=this.getLineNumbers(o,i),s=o&&o.levels,a=o&&o.direction;typeof s!="number"&&typeof a!="string"?hK(e,!0,r):a==="up"?MN(e,!0,s||1,r):cm(e,!0,s||1,r)}},FN=class extends uo{constructor(){super({id:"editor.toggleFold",label:_("toggleFoldAction.label","Toggle Fold"),alias:"Toggle Fold",precondition:wo,kbOpts:{kbExpr:M.editorTextFocus,primary:Pi(2089,2090),weight:100}})}invoke(t,e,i){let o=this.getSelectedLines(i);jb(e,1,o)}},zN=class extends uo{constructor(){super({id:"editor.foldRecursively",label:_("foldRecursivelyAction.label","Fold Recursively"),alias:"Fold Recursively",precondition:wo,kbOpts:{kbExpr:M.editorTextFocus,primary:Pi(2089,2140),weight:100}})}invoke(t,e,i){let o=this.getSelectedLines(i);cm(e,!0,Number.MAX_VALUE,o)}},BN=class extends uo{constructor(){super({id:"editor.toggleFoldRecursively",label:_("toggleFoldRecursivelyAction.label","Toggle Fold Recursively"),alias:"Toggle Fold Recursively",precondition:wo,kbOpts:{kbExpr:M.editorTextFocus,primary:Pi(2089,3114),weight:100}})}invoke(t,e,i){let o=this.getSelectedLines(i);jb(e,Number.MAX_VALUE,o)}},HN=class extends uo{constructor(){super({id:"editor.foldAllBlockComments",label:_("foldAllBlockComments.label","Fold All Block Comments"),alias:"Fold All Block Comments",precondition:wo,kbOpts:{kbExpr:M.editorTextFocus,primary:Pi(2089,2138),weight:100}})}invoke(t,e,i,o,r){if(e.regions.hasTypes())ND(e,op.Comment.value,!0);else{let s=i.getModel();if(!s)return;let a=r.getLanguageConfiguration(s.getLanguageId()).comments;if(a&&a.blockCommentStartToken){let l=new RegExp("^\\s*"+rc(a.blockCommentStartToken));LD(e,l,!0)}}}},VN=class extends uo{constructor(){super({id:"editor.foldAllMarkerRegions",label:_("foldAllMarkerRegions.label","Fold All Regions"),alias:"Fold All Regions",precondition:wo,kbOpts:{kbExpr:M.editorTextFocus,primary:Pi(2089,2077),weight:100}})}invoke(t,e,i,o,r){if(e.regions.hasTypes())ND(e,op.Region.value,!0);else{let s=i.getModel();if(!s)return;let a=r.getLanguageConfiguration(s.getLanguageId()).foldingRules;if(a&&a.markers&&a.markers.start){let l=new RegExp(a.markers.start);LD(e,l,!0)}}}},WN=class extends uo{constructor(){super({id:"editor.unfoldAllMarkerRegions",label:_("unfoldAllMarkerRegions.label","Unfold All Regions"),alias:"Unfold All Regions",precondition:wo,kbOpts:{kbExpr:M.editorTextFocus,primary:Pi(2089,2078),weight:100}})}invoke(t,e,i,o,r){if(e.regions.hasTypes())ND(e,op.Region.value,!1);else{let s=i.getModel();if(!s)return;let a=r.getLanguageConfiguration(s.getLanguageId()).foldingRules;if(a&&a.markers&&a.markers.start){let l=new RegExp(a.markers.start);LD(e,l,!1)}}}},jN=class extends uo{constructor(){super({id:"editor.foldAllExcept",label:_("foldAllExcept.label","Fold All Except Selected"),alias:"Fold All Except Selected",precondition:wo,kbOpts:{kbExpr:M.editorTextFocus,primary:Pi(2089,2136),weight:100}})}invoke(t,e,i){let o=this.getSelectedLines(i);TN(e,!0,o)}},UN=class extends uo{constructor(){super({id:"editor.unfoldAllExcept",label:_("unfoldAllExcept.label","Unfold All Except Selected"),alias:"Unfold All Except Selected",precondition:wo,kbOpts:{kbExpr:M.editorTextFocus,primary:Pi(2089,2134),weight:100}})}invoke(t,e,i){let o=this.getSelectedLines(i);TN(e,!1,o)}},qN=class extends uo{constructor(){super({id:"editor.foldAll",label:_("foldAllAction.label","Fold All"),alias:"Fold All",precondition:wo,kbOpts:{kbExpr:M.editorTextFocus,primary:Pi(2089,2069),weight:100}})}invoke(t,e,i){cm(e,!0)}},GN=class extends uo{constructor(){super({id:"editor.unfoldAll",label:_("unfoldAllAction.label","Unfold All"),alias:"Unfold All",precondition:wo,kbOpts:{kbExpr:M.editorTextFocus,primary:Pi(2089,2088),weight:100}})}invoke(t,e,i){cm(e,!1)}},yK=(()=>{class n extends uo{static{this.ID_PREFIX="editor.foldLevel"}static{this.ID=e=>n.ID_PREFIX+e}getFoldingLevel(){return parseInt(this.id.substr(n.ID_PREFIX.length))}invoke(e,i,o){mK(i,this.getFoldingLevel(),!0,this.getSelectedLines(o))}}return n})(),$N=class extends uo{constructor(){super({id:"editor.gotoParentFold",label:_("gotoParentFold.label","Go to Parent Fold"),alias:"Go to Parent Fold",precondition:wo,kbOpts:{kbExpr:M.editorTextFocus,weight:100}})}invoke(t,e,i){let o=this.getSelectedLines(i);if(o.length>0){let r=pK(o[0],e);r!==null&&i.setSelection({startLineNumber:r,startColumn:1,endLineNumber:r,endColumn:1})}}},KN=class extends uo{constructor(){super({id:"editor.gotoPreviousFold",label:_("gotoPreviousFold.label","Go to Previous Folding Range"),alias:"Go to Previous Folding Range",precondition:wo,kbOpts:{kbExpr:M.editorTextFocus,weight:100}})}invoke(t,e,i){let o=this.getSelectedLines(i);if(o.length>0){let r=fK(o[0],e);r!==null&&i.setSelection({startLineNumber:r,startColumn:1,endLineNumber:r,endColumn:1})}}},YN=class extends uo{constructor(){super({id:"editor.gotoNextFold",label:_("gotoNextFold.label","Go to Next Folding Range"),alias:"Go to Next Folding Range",precondition:wo,kbOpts:{kbExpr:M.editorTextFocus,weight:100}})}invoke(t,e,i){let o=this.getSelectedLines(i);if(o.length>0){let r=gK(o[0],e);r!==null&&i.setSelection({startLineNumber:r,startColumn:1,endLineNumber:r,endColumn:1})}}},XN=class extends uo{constructor(){super({id:"editor.createFoldingRangeFromSelection",label:_("createManualFoldRange.label","Create Folding Range from Selection"),alias:"Create Folding Range from Selection",precondition:wo,kbOpts:{kbExpr:M.editorTextFocus,primary:Pi(2089,2135),weight:100}})}invoke(t,e,i){let o=[],r=i.getSelections();if(r){for(let s of r){let a=s.endLineNumber;s.endColumn===1&&--a,a>s.startLineNumber&&(o.push({startLineNumber:s.startLineNumber,endLineNumber:a,type:void 0,isCollapsed:!0,source:1}),i.setSelection({startLineNumber:s.startLineNumber,startColumn:1,endLineNumber:s.startLineNumber,endColumn:1}))}if(o.length>0){o.sort((a,l)=>a.startLineNumber-l.startLineNumber);let s=Wo.sanitizeAndMerge(e.regions,o,i.getModel()?.getLineCount());e.updatePost(Wo.fromFoldRanges(s))}}}},ZN=class extends uo{constructor(){super({id:"editor.removeManualFoldingRanges",label:_("removeManualFoldingRanges.label","Remove Manual Folding Ranges"),alias:"Remove Manual Folding Ranges",precondition:wo,kbOpts:{kbExpr:M.editorTextFocus,primary:Pi(2089,2137),weight:100}})}invoke(t,e,i){let o=i.getSelections();if(o){let r=[];for(let s of o){let{startLineNumber:a,endLineNumber:l}=s;r.push(l>=a?{startLineNumber:a,endLineNumber:l}:{endLineNumber:l,startLineNumber:a})}e.removeManualRanges(r),t.triggerFoldingModelChanged()}}};Me(Pl.ID,Pl,0);V(PN);V(LN);V(NN);V(zN);V(BN);V(qN);V(GN);V(HN);V(VN);V(WN);V(jN);V(UN);V(FN);V($N);V(KN);V(YN);V(XN);V(ZN);for(let n=1;n<=7;n++)Zj(new yK({id:yK.ID(n),label:_("foldLevelAction.label","Fold Level {0}",n),alias:`Fold Level ${n}`,precondition:wo,kbOpts:{kbExpr:M.editorTextFocus,primary:Pi(2089,2048|21+n),weight:100}}));Pt.registerCommand("_executeFoldingRangeProvider",function(n,...t){return k(this,null,function*(){let[e]=t;if(!(e instanceof ht))throw ss();let i=n.get(ae),o=n.get(ji).getModel(e);if(!o)throw ss();let r=n.get(_t);if(!r.getValue("editor.folding",{resource:e}))return[];let s=n.get(_i),a=r.getValue("editor.foldingStrategy",{resource:e}),l={get limit(){return r.getValue("editor.foldingMaximumRegions",{resource:e})},update:(m,f)=>{}},c=new dm(o,s,l),d=c;if(a!=="indentation"){let m=Pl.getFoldingRangeProviders(i,o);m.length&&(d=new um(o,m,()=>{},l,c))}let u=yield d.compute(Je.None),h=[];try{if(u)for(let m=0;m<u.length;m++){let f=u.getType(m);h.push({start:u.getStartLineNumber(m),end:u.getEndLineNumber(m),kind:f?op.fromValue(f):void 0})}return h}finally{d.dispose()}})});tt();Ae();var QN=class extends Z{constructor(){super({id:"editor.action.fontZoomIn",label:_("EditorFontZoomIn.label","Increase Editor Font Size"),alias:"Increase Editor Font Size",precondition:void 0})}run(t,e){cp.setZoomLevel(cp.getZoomLevel()+1)}},JN=class extends Z{constructor(){super({id:"editor.action.fontZoomOut",label:_("EditorFontZoomOut.label","Decrease Editor Font Size"),alias:"Decrease Editor Font Size",precondition:void 0})}run(t,e){cp.setZoomLevel(cp.getZoomLevel()-1)}},eF=class extends Z{constructor(){super({id:"editor.action.fontZoomReset",label:_("EditorFontZoomReset.label","Reset Editor Font Size"),alias:"Reset Editor Font Size",precondition:void 0})}run(t,e){cp.setZoomLevel(0)}};V(QN);V(JN);V(eF);Oi();gi();Bt();oc();ce();tt();Fo();hA();qe();$t();fh();Lt();Ae();Ui();mt();Ot();var wK=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},Yb=function(n,t){return function(e,i){t(e,i,n)}},HD=class{static{this.ID="editor.contrib.autoFormat"}constructor(t,e,i,o){this._editor=t,this._languageFeaturesService=e,this._workerService=i,this._accessibilitySignalService=o,this._disposables=new G,this._sessionDisposables=new G,this._disposables.add(e.onTypeFormattingEditProvider.onDidChange(this._update,this)),this._disposables.add(t.onDidChangeModel(()=>this._update())),this._disposables.add(t.onDidChangeModelLanguage(()=>this._update())),this._disposables.add(t.onDidChangeConfiguration(r=>{r.hasChanged(56)&&this._update()})),this._update()}dispose(){this._disposables.dispose(),this._sessionDisposables.dispose()}_update(){if(this._sessionDisposables.clear(),!this._editor.getOption(56)||!this._editor.hasModel())return;let t=this._editor.getModel(),[e]=this._languageFeaturesService.onTypeFormattingEditProvider.ordered(t);if(!e||!e.autoFormatTriggerCharacters)return;let i=new ch;for(let o of e.autoFormatTriggerCharacters)i.add(o.charCodeAt(0));this._sessionDisposables.add(this._editor.onDidType(o=>{let r=o.charCodeAt(o.length-1);i.has(r)&&this._trigger(String.fromCharCode(r))}))}_trigger(t){if(!this._editor.hasModel()||this._editor.getSelections().length>1||!this._editor.getSelection().isEmpty())return;let e=this._editor.getModel(),i=this._editor.getPosition(),o=new fi,r=this._editor.onDidChangeModelContent(s=>{if(s.isFlush){o.cancel(),r.dispose();return}for(let a=0,l=s.changes.length;a<l;a++)if(s.changes[a].range.endLineNumber<=i.lineNumber){o.cancel(),r.dispose();return}});LU(this._workerService,this._languageFeaturesService,e,i,t,e.getFormattingOptions(),o.token).then(s=>{o.token.isCancellationRequested||Dn(s)&&(this._accessibilitySignalService.playSignal(Rw.format,{userGesture:!1}),OU.execute(this._editor,s,!0))}).finally(()=>{r.dispose()})}};HD=wK([Yb(1,ae),Yb(2,gr),Yb(3,Aw)],HD);var VD=class{static{this.ID="editor.contrib.formatOnPaste"}constructor(t,e,i){this.editor=t,this._languageFeaturesService=e,this._instantiationService=i,this._callOnDispose=new G,this._callOnModel=new G,this._callOnDispose.add(t.onDidChangeConfiguration(()=>this._update())),this._callOnDispose.add(t.onDidChangeModel(()=>this._update())),this._callOnDispose.add(t.onDidChangeModelLanguage(()=>this._update())),this._callOnDispose.add(e.documentRangeFormattingEditProvider.onDidChange(this._update,this))}dispose(){this._callOnDispose.dispose(),this._callOnModel.dispose()}_update(){this._callOnModel.clear(),this.editor.getOption(55)&&this.editor.hasModel()&&this._languageFeaturesService.documentRangeFormattingEditProvider.has(this.editor.getModel())&&this._callOnModel.add(this.editor.onDidPaste(({range:t})=>this._trigger(t)))}_trigger(t){this.editor.hasModel()&&(this.editor.getSelections().length>1||this._instantiationService.invokeFunction(GA,this.editor,t,2,hs.None,Je.None,!1).catch(ut))}};VD=wK([Yb(1,ae),Yb(2,De)],VD);var tF=class extends Z{constructor(){super({id:"editor.action.formatDocument",label:_("formatDocument.label","Format Document"),alias:"Format Document",precondition:K.and(M.notInCompositeEditor,M.writable,M.hasDocumentFormattingProvider),kbOpts:{kbExpr:M.editorTextFocus,primary:1572,linux:{primary:3111},weight:100},contextMenuOpts:{group:"1_modification",order:1.3}})}run(t,e){return k(this,null,function*(){if(e.hasModel()){let i=t.get(De);yield t.get(bc).showWhile(i.invokeFunction(PU,e,1,hs.None,Je.None,!0),250)}})}},iF=class extends Z{constructor(){super({id:"editor.action.formatSelection",label:_("formatSelection.label","Format Selection"),alias:"Format Selection",precondition:K.and(M.writable,M.hasDocumentSelectionFormattingProvider),kbOpts:{kbExpr:M.editorTextFocus,primary:Pi(2089,2084),weight:100},contextMenuOpts:{when:M.hasNonEmptySelection,group:"1_modification",order:1.31}})}run(t,e){return k(this,null,function*(){if(!e.hasModel())return;let i=t.get(De),o=e.getModel(),r=e.getSelections().map(a=>a.isEmpty()?new A(a.startLineNumber,1,a.startLineNumber,o.getLineMaxColumn(a.startLineNumber)):a);yield t.get(bc).showWhile(i.invokeFunction(GA,e,r,1,hs.None,Je.None,!0),250)})}};Me(HD.ID,HD,2);Me(VD.ID,VD,2);V(tF);V(iF);Pt.registerCommand("editor.action.format",n=>k(void 0,null,function*(){let t=n.get(Xt).getFocusedCodeEditor();if(!t||!t.hasModel())return;let e=n.get(ci);t.getSelection().isEmpty()?yield e.executeCommand("editor.action.formatDocument"):yield e.executeCommand("editor.action.formatSelection")}));gi();io();On();cl();rg();Ui();Pt.registerCommand("_executeDocumentSymbolProvider",function(n,...t){return k(this,null,function*(){let[e]=t;Tt(ht.isUri(e));let i=n.get(Hc),r=yield n.get(no).createModelReference(e);try{return(yield i.getOrCreate(r.object.textEditorModel,Je.None)).getTopLevelSymbols()}finally{r.dispose()}})});tt();so();R5();tt();$t();so();Fi();kce();mt();ce();Ae();var jo=class n extends U{static{this.inlineSuggestionVisible=new ot("inlineSuggestionVisible",!1,_("inlineSuggestionVisible","Whether an inline suggestion is visible"))}static{this.inlineSuggestionHasIndentation=new ot("inlineSuggestionHasIndentation",!1,_("inlineSuggestionHasIndentation","Whether the inline suggestion starts with whitespace"))}static{this.inlineSuggestionHasIndentationLessThanTabSize=new ot("inlineSuggestionHasIndentationLessThanTabSize",!0,_("inlineSuggestionHasIndentationLessThanTabSize","Whether the inline suggestion starts with whitespace that is less than what would be inserted by tab"))}static{this.suppressSuggestions=new ot("inlineSuggestionSuppressSuggestions",void 0,_("suppressSuggestions","Whether suggestions should be suppressed for the current suggestion"))}constructor(t,e){super(),this.contextKeyService=t,this.model=e,this.inlineCompletionVisible=n.inlineSuggestionVisible.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentation=n.inlineSuggestionHasIndentation.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentationLessThanTabSize=n.inlineSuggestionHasIndentationLessThanTabSize.bindTo(this.contextKeyService),this.suppressSuggestions=n.suppressSuggestions.bindTo(this.contextKeyService),this._register(ii(i=>{let r=this.model.read(i)?.state.read(i),s=!!r?.inlineCompletion&&r?.primaryGhostText!==void 0&&!r?.primaryGhostText.isEmpty();this.inlineCompletionVisible.set(s),r?.primaryGhostText&&r?.inlineCompletion&&this.suppressSuggestions.set(r.inlineCompletion.inlineCompletion.source.inlineCompletions.suppressSuggestions)})),this._register(ii(i=>{let o=this.model.read(i),r=!1,s=!0,a=o?.primaryGhostText.read(i);if(o?.selectedSuggestItem&&a&&a.parts.length>0){let{column:l,lines:c}=a.parts[0],d=c[0],u=o.textModel.getLineIndentColumn(a.lineNumber);if(l<=u){let m=F_(d);m===-1&&(m=d.length-1),r=m>0;let f=o.textModel.getOptions().tabSize;s=U5.visibleColumnFromColumn(d,m+1,f)<f}}this.inlineCompletionSuggestsIndentation.set(r),this.inlineCompletionSuggestsIndentationLessThanTabSize.set(s)}))}};gt();ce();so();function CK(n){let t=new G,e=t.add(Hx());return t.add(ii(i=>{e.setStyle(n.read(i))})),t}Ht();gi();ce();so();wd();Ece();io();sv();hi();Fs();Lt();oi();ce();so();Fi();hi();qe();e4();Da();ka();f5();Oi();Fi();hi();qe();var Ll=class{constructor(t,e){this.lineNumber=t,this.parts=e}equals(t){return this.lineNumber===t.lineNumber&&this.parts.length===t.parts.length&&this.parts.every((e,i)=>e.equals(t.parts[i]))}renderForScreenReader(t){if(this.parts.length===0)return"";let e=this.parts[this.parts.length-1],i=t.substr(0,e.column-1);return new $x([...this.parts.map(r=>new Tr(A.fromPositions(new he(1,r.column)),r.lines.join(`
`)))]).applyToString(i).substring(this.parts[0].column-1)}isEmpty(){return this.parts.every(t=>t.lines.length===0)}get lineCount(){return 1+this.parts.reduce((t,e)=>t+e.lines.length-1,0)}},cu=class{constructor(t,e,i){this.column=t,this.text=e,this.preview=i,this.lines=nh(this.text)}equals(t){return this.column===t.column&&this.lines.length===t.lines.length&&this.lines.every((e,i)=>e===t.lines[i])}},sg=class{constructor(t,e,i,o=0){this.lineNumber=t,this.columnRange=e,this.text=i,this.additionalReservedLineCount=o,this.parts=[new cu(this.columnRange.endColumnExclusive,this.text,!1)],this.newLines=nh(this.text)}renderForScreenReader(t){return this.newLines.join(`
`)}get lineCount(){return this.newLines.length}isEmpty(){return this.parts.every(t=>t.lines.length===0)}equals(t){return this.lineNumber===t.lineNumber&&this.columnRange.equals(t.columnRange)&&this.newLines.length===t.newLines.length&&this.newLines.every((e,i)=>e===t.newLines[i])&&this.additionalReservedLineCount===t.additionalReservedLineCount}};function rF(n,t){return $o(n,t,sF)}function sF(n,t){return n===t?!0:!n||!t?!1:n instanceof Ll&&t instanceof Ll||n instanceof sg&&t instanceof sg?n.equals(t):!1}Bt();ce();so();hi();qe();var Fbe=[];function SK(){return Fbe}var ag=class{constructor(t,e){if(this.startColumn=t,this.endColumnExclusive=e,t>e)throw new ol(`startColumn ${t} cannot be after endColumnExclusive ${e}`)}toRange(t){return new A(t,this.startColumn,t,this.endColumnExclusive)}equals(t){return this.startColumn===t.startColumn&&this.endColumnExclusive===t.endColumnExclusive}};function WD(n,t){let e=new G,i=n.createDecorationsCollection();return e.add(O5({debugName:()=>`Apply decorations from ${t.debugName}`},o=>{let r=t.read(o);i.set(r)})),e.add({dispose:()=>{i.clear()}}),e}function IK(n,t){return new he(n.lineNumber+t.lineNumber-1,t.lineNumber===1?n.column+t.column-1:t.column)}function aF(n,t){return new he(n.lineNumber-t.lineNumber+1,n.lineNumber-t.lineNumber===0?n.column-t.column+1:n.column)}var zbe=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},Bbe=function(n,t){return function(e,i){t(e,i,n)}},DK="ghost-text",jD=class extends U{constructor(t,e,i){super(),this.editor=t,this.model=e,this.languageService=i,this.isDisposed=Kn(this,!1),this.currentTextModel=ro(this,this.editor.onDidChangeModel,()=>this.editor.getModel()),this.uiState=qt(this,o=>{if(this.isDisposed.read(o))return;let r=this.currentTextModel.read(o);if(r!==this.model.targetTextModel.read(o))return;let s=this.model.ghostText.read(o);if(!s)return;let a=s instanceof sg?s.columnRange:void 0,l=[],c=[];function d(p,g){if(c.length>0){let v=c[c.length-1];g&&v.decorations.push(new Id(v.content.length+1,v.content.length+1+p[0].length,g,0)),v.content+=p[0],p=p.slice(1)}for(let v of p)c.push({content:v,decorations:g?[new Id(1,v.length+1,g,0)]:[]})}let u=r.getLineContent(s.lineNumber),h,m=0;for(let p of s.parts){let g=p.lines;h===void 0?(l.push({column:p.column,text:g[0],preview:p.preview}),g=g.slice(1)):d([u.substring(m,p.column-1)],void 0),g.length>0&&(d(g,DK),h===void 0&&p.column<=u.length&&(h=p.column)),m=p.column-1}h!==void 0&&d([u.substring(m)],void 0);let f=h!==void 0?new ag(h,u.length+1):void 0;return{replacedRange:a,inlineTexts:l,additionalLines:c,hiddenRange:f,lineNumber:s.lineNumber,additionalReservedLineCount:this.model.minReservedLineCount.read(o),targetTextModel:r}}),this.decorations=qt(this,o=>{let r=this.uiState.read(o);if(!r)return[];let s=[];r.replacedRange&&s.push({range:r.replacedRange.toRange(r.lineNumber),options:{inlineClassName:"inline-completion-text-to-replace",description:"GhostTextReplacement"}}),r.hiddenRange&&s.push({range:r.hiddenRange.toRange(r.lineNumber),options:{inlineClassName:"ghost-text-hidden",description:"ghost-text-hidden"}});for(let a of r.inlineTexts)s.push({range:A.fromPositions(new he(r.lineNumber,a.column)),options:{description:DK,after:{content:a.text,inlineClassName:a.preview?"ghost-text-decoration-preview":"ghost-text-decoration",cursorStops:hc.Left},showIfCollapsed:!0}});return s}),this.additionalLinesWidget=this._register(new lF(this.editor,this.languageService.languageIdCodec,qt(o=>{let r=this.uiState.read(o);return r?{lineNumber:r.lineNumber,additionalLines:r.additionalLines,minReservedLineCount:r.additionalReservedLineCount,targetTextModel:r.targetTextModel}:void 0}))),this._register(Mt(()=>{this.isDisposed.set(!0,void 0)})),this._register(WD(this.editor,this.decorations))}ownsViewZone(t){return this.additionalLinesWidget.viewZoneId===t}};jD=zbe([Bbe(2,Un)],jD);var lF=class extends U{get viewZoneId(){return this._viewZoneId}constructor(t,e,i){super(),this.editor=t,this.languageIdCodec=e,this.lines=i,this._viewZoneId=void 0,this.editorOptionsChanged=Aa("editorOptionChanged",bi.filter(this.editor.onDidChangeConfiguration,o=>o.hasChanged(33)||o.hasChanged(118)||o.hasChanged(100)||o.hasChanged(95)||o.hasChanged(51)||o.hasChanged(50)||o.hasChanged(67))),this._register(ii(o=>{let r=this.lines.read(o);this.editorOptionsChanged.read(o),r?this.updateLines(r.lineNumber,r.additionalLines,r.minReservedLineCount):this.clear()}))}dispose(){super.dispose(),this.clear()}clear(){this.editor.changeViewZones(t=>{this._viewZoneId&&(t.removeZone(this._viewZoneId),this._viewZoneId=void 0)})}updateLines(t,e,i){let o=this.editor.getModel();if(!o)return;let{tabSize:r}=o.getOptions();this.editor.changeViewZones(s=>{this._viewZoneId&&(s.removeZone(this._viewZoneId),this._viewZoneId=void 0);let a=Math.max(e.length,i);if(a>0){let l=document.createElement("div");Hbe(l,r,e,this.editor.getOptions(),this.languageIdCodec),this._viewZoneId=s.addZone({afterLineNumber:t,heightInLines:a,domNode:l,afterColumnAffinity:1})}})}};function Hbe(n,t,e,i,o){let r=i.get(33),s=i.get(118),a="none",l=i.get(95),c=i.get(51),d=i.get(50),u=i.get(67),h=new Ux(1e4);h.appendString('<div class="suggest-preview-text">');for(let p=0,g=e.length;p<g;p++){let v=e[p],b=v.content;h.appendString('<div class="view-line'),h.appendString('" style="top:'),h.appendString(String(p*u)),h.appendString('px;width:1000000px;">');let C=Lx(b),T=Sj(b),E=m5.createEmpty(b,o);Pw(new Ow(d.isMonospace&&!r,d.canUseHalfwidthRightwardsArrow,b,!1,C,T,0,E,v.decorations,t,0,d.spaceWidth,d.middotWidth,d.wsmiddotWidth,s,a,l,c!==oj.OFF,null),h),h.appendString("</div>")}h.appendString("</div>"),Vx(n,d);let m=h.build(),f=EK?EK.createHTML(m):m;n.innerHTML=f}var EK=jx("editorGhostText",{createHTML:n=>n});Oi();W_();pw();Bt();ce();so();Fi();io();hi();qe();Pn();pA();gn();Jo();gi();pw();_c();ce();so();qe();pA();gn();Jo();Lt();mce();Ht();gi();uc();Bt();hi();qe();Oce();Tce();Pce();Ace();Rce();function kK(n,t){let e=new $5,i=new Y5(e,c=>t.getLanguageConfiguration(c)),o=new K5(new cF([n]),i),r=X5(o,[],void 0,!0),s="",a=n.getLineContent();function l(c,d){if(c.kind===2)if(l(c.openingBracket,d),d=Sp(d,c.openingBracket.length),c.child&&(l(c.child,d),d=Sp(d,c.child.length)),c.closingBracket)l(c.closingBracket,d),d=Sp(d,c.closingBracket.length);else{let h=i.getSingleLanguageBracketTokens(c.openingBracket.languageId).findClosingTokenText(c.openingBracket.bracketIds);s+=h}else if(c.kind!==3){if(c.kind===0||c.kind===1)s+=a.substring(d,Sp(d,c.length));else if(c.kind===4)for(let u of c.children)l(u,d),d=Sp(d,u.length)}}return l(r,G5),s}var cF=class{constructor(t){this.lines=t,this.tokenization={getLineTokens:e=>this.lines[e-1]}}getLineCount(){return this.lines.length}getLineLength(t){return this.lines[t-1].getLineContent().length}};function UD(s,a,l,c){return k(this,arguments,function*(n,t,e,i,o=Je.None,r){let d=t instanceof he?Vbe(t,e):t,u=n.all(e),h=new i4;for(let E of u)E.groupId&&h.add(E.groupId,E);function m(E){if(!E.yieldsToGroupIds)return[];let F=[];for(let L of E.yieldsToGroupIds||[]){let H=h.get(L);for(let re of H)F.push(re)}return F}let f=new Map,p=new Set;function g(E,F){if(F=[...F,E],p.has(E))return F;p.add(E);try{let L=m(E);for(let H of L){let re=g(H,F);if(re)return re}}finally{p.delete(E)}}function v(E){let F=f.get(E);if(F)return F;let L=g(E,[]);L&&zt(new Error(`Inline completions: cyclic yield-to dependency detected. Path: ${L.map(re=>re.toString?re.toString():""+re).join(" -> ")}`));let H=new md;return f.set(E,H.p),k(this,null,function*(){if(!L){let re=m(E);for(let R of re){let W=yield v(R);if(W&&W.items.length>0)return}}try{return t instanceof he?yield E.provideInlineCompletions(e,t,i,o):yield E.provideInlineEdits?.(e,t,i,o)}catch(re){zt(re);return}}).then(re=>H.complete(re),re=>H.error(re)),H.p}let b=yield Promise.all(u.map(E=>k(this,null,function*(){return{provider:E,completions:yield v(E)}}))),C=new Map,T=[];for(let E of b){let F=E.completions;if(!F)continue;let L=new uF(F,E.provider);T.push(L);for(let H of F.items){let re=hF.from(H,L,d,e,r);C.set(re.hash(),re)}}return new dF(Array.from(C.values()),new Set(C.keys()),T)})}var dF=class{constructor(t,e,i){this.completions=t,this.hashs=e,this.providerResults=i}has(t){return this.hashs.has(t.hash())}dispose(){for(let t of this.providerResults)t.removeRef()}},uF=class{constructor(t,e){this.inlineCompletions=t,this.provider=e,this.refCount=1}addRef(){this.refCount++}removeRef(){this.refCount--,this.refCount===0&&this.provider.freeInlineCompletions(this.inlineCompletions)}},hF=class n{static from(t,e,i,o,r){let s,a,l=t.range?A.lift(t.range):i;if(typeof t.insertText=="string"){if(s=t.insertText,r&&t.completeBracketPairs){s=MK(s,l.getStartPosition(),o,r);let c=s.length-t.insertText.length;c!==0&&(l=new A(l.startLineNumber,l.startColumn,l.endLineNumber,l.endColumn+c))}a=void 0}else if("snippet"in t.insertText){let c=t.insertText.snippet.length;if(r&&t.completeBracketPairs){t.insertText.snippet=MK(t.insertText.snippet,l.getStartPosition(),o,r);let u=t.insertText.snippet.length-c;u!==0&&(l=new A(l.startLineNumber,l.startColumn,l.endLineNumber,l.endColumn+u))}let d=new Lr().parse(t.insertText.snippet);d.children.length===1&&d.children[0]instanceof vo?(s=d.children[0].value,a=void 0):(s=d.toString(),a={snippet:t.insertText.snippet,range:l})}else Kj(t.insertText);return new n(s,t.command,l,s,a,t.additionalTextEdits||SK(),t,e)}constructor(t,e,i,o,r,s,a,l){this.filterText=t,this.command=e,this.range=i,this.insertText=o,this.snippetInfo=r,this.additionalTextEdits=s,this.sourceInlineCompletion=a,this.source=l,t=t.replace(/\r\n|\r/g,`
`),o=t.replace(/\r\n|\r/g,`
`)}withRange(t){return new n(this.filterText,this.command,t,this.insertText,this.snippetInfo,this.additionalTextEdits,this.sourceInlineCompletion,this.source)}hash(){return JSON.stringify({insertText:this.insertText,range:this.range.toString()})}toSingleTextEdit(){return new Tr(this.range,this.insertText)}};function Vbe(n,t){let e=t.getWordAtPosition(n),i=t.getLineMaxColumn(n.lineNumber);return e?new A(n.lineNumber,e.startColumn,n.lineNumber,i):A.fromPositions(n,n.with(void 0,i))}function MK(n,t,e,i){let r=e.getLineContent(t.lineNumber).substring(0,t.column-1)+n,a=e.tokenization.tokenizeLineWithEdit(t,r.length-(t.column-1),n)?.sliceAndInflate(t.column-1,r.length,0);return a?kK(a,i):n}Fi();qe();pA();function Nl(n,t,e){let i=e?n.range.intersectRanges(e):n.range;if(!i)return n;let o=t.getValueInRange(i,1),r=rl(o,n.text),s=dh.ofText(o.substring(0,r)).addToPosition(n.range.getStartPosition()),a=n.text.substring(r),l=A.fromPositions(s,n.range.getEndPosition());return new Tr(l,a)}function GD(n,t){return n.text.startsWith(t.text)&&Wbe(n.range,t.range)}function mF(n,t,e,i,o=0){let r=Nl(n,t);if(r.range.endLineNumber!==r.range.startLineNumber)return;let s=t.getLineContent(r.range.startLineNumber),a=un(s).length;if(r.range.startColumn-1<=a){let f=un(r.text).length,p=s.substring(r.range.startColumn-1,a),[g,v]=[r.range.getStartPosition(),r.range.getEndPosition()],b=g.column+p.length<=v.column?g.delta(0,p.length):v,C=A.fromPositions(b,v),T=r.text.startsWith(p)?r.text.substring(p.length):r.text.substring(f);r=new Tr(C,T)}let c=t.getValueInRange(r.range),d=jbe(c,r.text);if(!d)return;let u=r.range.startLineNumber,h=new Array;if(e==="prefix"){let f=d.filter(p=>p.originalLength===0);if(f.length>1||f.length===1&&f[0].originalStart!==c.length)return}let m=r.text.length-o;for(let f of d){let p=r.range.startColumn+f.originalStart+f.originalLength;if(e==="subwordSmart"&&i&&i.lineNumber===r.range.startLineNumber&&p<i.column||f.originalLength>0)return;if(f.modifiedLength===0)continue;let g=f.modifiedStart+f.modifiedLength,v=Math.max(f.modifiedStart,Math.min(g,m)),b=r.text.substring(f.modifiedStart,v),C=r.text.substring(v,Math.max(f.modifiedStart,g));b.length>0&&h.push(new cu(p,b,!1)),C.length>0&&h.push(new cu(p,C,!0))}return new Ll(u,h)}function Wbe(n,t){return t.getStartPosition().equals(n.getStartPosition())&&t.getEndPosition().isBeforeOrEqual(n.getEndPosition())}var qD;function jbe(n,t){if(qD?.originalValue===n&&qD?.newValue===t)return qD?.changes;{let e=AK(n,t,!0);if(e){let i=TK(e);if(i>0){let o=AK(n,t,!1);o&&TK(o)<i&&(e=o)}}return qD={originalValue:n,newValue:t,changes:e},e}}function TK(n){let t=0;for(let e of n)t+=e.originalLength;return t}function AK(n,t,e){if(n.length>5e3||t.length>5e3)return;function i(c){let d=0;for(let u=0,h=c.length;u<h;u++){let m=c.charCodeAt(u);m>d&&(d=m)}return d}let o=Math.max(i(n),i(t));function r(c){if(c<0)throw new Error("unexpected");return o+c+1}function s(c){let d=0,u=0,h=new Int32Array(c.length);for(let m=0,f=c.length;m<f;m++)if(e&&c[m]==="("){let p=u*100+d;h[m]=r(2*p),d++}else if(e&&c[m]===")"){d=Math.max(d-1,0);let p=u*100+d;h[m]=r(2*p+1),d===0&&u++}else h[m]=c.charCodeAt(m);return h}let a=s(n),l=s(t);return new t4({getElements:()=>a},{getElements:()=>l}).ComputeDiff(!1).changes}var Ube=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},RK=function(n,t){return function(e,i){t(e,i,n)}},$D=class extends U{constructor(t,e,i,o,r){super(),this.textModel=t,this.versionId=e,this._debounceValue=i,this.languageFeaturesService=o,this.languageConfigurationService=r,this._updateOperation=this._register(new dn),this.inlineCompletions=Z_("inlineCompletions",void 0),this.suggestWidgetInlineCompletions=Z_("suggestWidgetInlineCompletions",void 0),this._register(this.textModel.onDidChangeContent(()=>{this._updateOperation.clear()}))}fetch(t,e,i){let o=new fF(t,e,this.textModel.getVersionId()),r=e.selectedSuggestionInfo?this.suggestWidgetInlineCompletions:this.inlineCompletions;if(this._updateOperation.value?.request.satisfies(o))return this._updateOperation.value.promise;if(r.get()?.request.satisfies(o))return Promise.resolve(!0);let s=!!this._updateOperation.value;this._updateOperation.clear();let a=new fi,l=k(this,null,function*(){if((s||e.triggerKind===as.Automatic)&&(yield qbe(this._debounceValue.get(this.textModel),a.token)),a.token.isCancellationRequested||this._store.isDisposed||this.textModel.getVersionId()!==o.versionId)return!1;let u=new Date,h=yield UD(this.languageFeaturesService.inlineCompletionsProvider,t,this.textModel,e,a.token,this.languageConfigurationService);if(a.token.isCancellationRequested||this._store.isDisposed||this.textModel.getVersionId()!==o.versionId)return!1;let m=new Date;this._debounceValue.update(this.textModel,m.getTime()-u.getTime());let f=new _F(h,o,this.textModel,this.versionId);if(i){let p=i.toInlineCompletion(void 0);i.canBeReused(this.textModel,t)&&!h.has(p)&&f.prepend(i.inlineCompletion,p.range,!0)}return this._updateOperation.clear(),ms(p=>{r.set(f,p)}),!0}),c=new gF(o,a,l);return this._updateOperation.value=c,l}clear(t){this._updateOperation.clear(),this.inlineCompletions.set(void 0,t),this.suggestWidgetInlineCompletions.set(void 0,t)}clearSuggestWidgetInlineCompletions(t){this._updateOperation.value?.request.context.selectedSuggestionInfo&&this._updateOperation.clear(),this.suggestWidgetInlineCompletions.set(void 0,t)}cancelUpdate(){this._updateOperation.clear()}};$D=Ube([RK(3,ae),RK(4,_i)],$D);function qbe(n,t){return new Promise(e=>{let i,o=setTimeout(()=>{i&&i.dispose(),e()},n);t&&(i=t.onCancellationRequested(()=>{clearTimeout(o),i&&i.dispose(),e()}))})}var fF=class{constructor(t,e,i){this.position=t,this.context=e,this.versionId=i}satisfies(t){return this.position.equals(t.position)&&A5(this.context.selectedSuggestionInfo,t.context.selectedSuggestionInfo,T5())&&(t.context.triggerKind===as.Automatic||this.context.triggerKind===as.Explicit)&&this.versionId===t.versionId}},gF=class{constructor(t,e,i){this.request=t,this.cancellationTokenSource=e,this.promise=i}dispose(){this.cancellationTokenSource.cancel()}},_F=class{get inlineCompletions(){return this._inlineCompletions}constructor(t,e,i,o){this.inlineCompletionProviderResult=t,this.request=e,this._textModel=i,this._versionId=o,this._refCount=1,this._prependedInlineCompletionItems=[];let r=i.deltaDecorations([],t.completions.map(s=>({range:s.range,options:{description:"inline-completion-tracking-range"}})));this._inlineCompletions=t.completions.map((s,a)=>new KD(s,r[a],this._textModel,this._versionId))}clone(){return this._refCount++,this}dispose(){if(this._refCount--,this._refCount===0){setTimeout(()=>{this._textModel.isDisposed()||this._textModel.deltaDecorations(this._inlineCompletions.map(t=>t.decorationId),[])},0),this.inlineCompletionProviderResult.dispose();for(let t of this._prependedInlineCompletionItems)t.source.removeRef()}}prepend(t,e,i){i&&t.source.addRef();let o=this._textModel.deltaDecorations([],[{range:e,options:{description:"inline-completion-tracking-range"}}])[0];this._inlineCompletions.unshift(new KD(t,o,this._textModel,this._versionId)),this._prependedInlineCompletionItems.push(t)}},KD=class{get forwardStable(){return this.inlineCompletion.source.inlineCompletions.enableForwardStability??!1}constructor(t,e,i,o){this.inlineCompletion=t,this.decorationId=e,this._textModel=i,this._modelVersion=o,this.semanticId=JSON.stringify([this.inlineCompletion.filterText,this.inlineCompletion.insertText,this.inlineCompletion.range.getStartPosition().toString()]),this._updatedRange=ps({owner:this,equalsFn:A.equalsRange},r=>(this._modelVersion.read(r),this._textModel.getDecorationRange(this.decorationId)))}toInlineCompletion(t){return this.inlineCompletion.withRange(this._updatedRange.read(t)??pF)}toSingleTextEdit(t){return new Tr(this._updatedRange.read(t)??pF,this.inlineCompletion.insertText)}isVisible(t,e,i){let o=Nl(this._toFilterTextReplacement(i),t),r=this._updatedRange.read(i);if(!r||!this.inlineCompletion.range.getStartPosition().equals(r.getStartPosition())||e.lineNumber!==o.range.startLineNumber)return!1;let s=t.getValueInRange(o.range,1),a=o.text,l=Math.max(0,e.column-o.range.startColumn),c=a.substring(0,l),d=a.substring(l),u=s.substring(0,l),h=s.substring(l),m=t.getLineIndentColumn(o.range.startLineNumber);return o.range.startColumn<=m&&(u=u.trimStart(),u.length===0&&(h=h.trimStart()),c=c.trimStart(),c.length===0&&(d=d.trimStart())),c.startsWith(u)&&!!e5(h,d)}canBeReused(t,e){let i=this._updatedRange.read(void 0);return!!i&&i.containsPosition(e)&&this.isVisible(t,e,void 0)&&dh.ofRange(i).isGreaterThanOrEqualTo(dh.ofRange(this.inlineCompletion.range))}_toFilterTextReplacement(t){return new Tr(this._updatedRange.read(t)??pF,this.inlineCompletion.filterText)}},pF=new A(1,1,1,1);ce();io();tt();hi();$t();Jo();Lt();gi();Bt();_c();ce();Ls();io();On();hi();qe();cl();Ae();$i();Ui();mt();Lt();var lt={Visible:AD,HasFocusedSuggestion:new ot("suggestWidgetHasFocusedSuggestion",!1,_("suggestWidgetHasSelection","Whether any suggestion is focused")),DetailsVisible:new ot("suggestWidgetDetailsVisible",!1,_("suggestWidgetDetailsVisible","Whether suggestion details are visible")),MultipleSuggestions:new ot("suggestWidgetMultipleSuggestions",!1,_("suggestWidgetMultipleSuggestions","Whether there are multiple suggestions to pick from")),MakesTextEdit:new ot("suggestionMakesTextEdit",!0,_("suggestionMakesTextEdit","Whether inserting the current suggestion yields in a change or has everything already been typed")),AcceptSuggestionsOnEnter:new ot("acceptSuggestionOnEnter",!0,_("acceptSuggestionOnEnter","Whether suggestions are inserted when pressing Enter")),HasInsertAndReplaceRange:new ot("suggestionHasInsertAndReplaceRange",!1,_("suggestionHasInsertAndReplaceRange","Whether the current suggestion has insert and replace behaviour")),InsertMode:new ot("suggestionInsertMode",void 0,{type:"string",description:_("suggestionInsertMode","Whether the default behaviour is to insert or replace")}),CanResolve:new ot("suggestionCanResolve",!1,_("suggestionCanResolve","Whether the current suggestion supports to resolve further details"))},zl=new ve("suggestWidgetStatusBar"),vF=class{constructor(t,e,i,o){this.position=t,this.completion=e,this.container=i,this.provider=o,this.isInvalid=!1,this.score=gc.Default,this.distance=0,this.textLabel=typeof e.label=="string"?e.label:e.label?.label,this.labelLow=this.textLabel.toLowerCase(),this.isInvalid=!this.textLabel,this.sortTextLow=e.sortText&&e.sortText.toLowerCase(),this.filterTextLow=e.filterText&&e.filterText.toLowerCase(),this.extensionId=e.extensionId,A.isIRange(e.range)?(this.editStart=new he(e.range.startLineNumber,e.range.startColumn),this.editInsertEnd=new he(e.range.endLineNumber,e.range.endColumn),this.editReplaceEnd=new he(e.range.endLineNumber,e.range.endColumn),this.isInvalid=this.isInvalid||A.spansMultipleLines(e.range)||e.range.startLineNumber!==t.lineNumber):(this.editStart=new he(e.range.insert.startLineNumber,e.range.insert.startColumn),this.editInsertEnd=new he(e.range.insert.endLineNumber,e.range.insert.endColumn),this.editReplaceEnd=new he(e.range.replace.endLineNumber,e.range.replace.endColumn),this.isInvalid=this.isInvalid||A.spansMultipleLines(e.range.insert)||A.spansMultipleLines(e.range.replace)||e.range.insert.startLineNumber!==t.lineNumber||e.range.replace.startLineNumber!==t.lineNumber||e.range.insert.startColumn!==e.range.replace.startColumn),typeof o.resolveCompletionItem!="function"&&(this._resolveCache=Promise.resolve(),this._resolveDuration=0)}get isResolved(){return this._resolveDuration!==void 0}get resolveDuration(){return this._resolveDuration!==void 0?this._resolveDuration:-1}resolve(t){return k(this,null,function*(){if(!this._resolveCache){let e=t.onCancellationRequested(()=>{this._resolveCache=void 0,this._resolveDuration=void 0}),i=new Xi(!0);this._resolveCache=Promise.resolve(this.provider.resolveCompletionItem(this.completion,t)).then(o=>{Object.assign(this.completion,o),this._resolveDuration=i.elapsed()},o=>{ur(o)&&(this._resolveCache=void 0,this._resolveDuration=void 0)}).finally(()=>{e.dispose()})}return this._resolveCache})}},hm=class n{static{this.default=new n}constructor(t=2,e=new Set,i=new Set,o=new Map,r=!0){this.snippetSortOrder=t,this.kindFilter=e,this.providerFilter=i,this.providerItemsToReuse=o,this.showDeprecated=r}},lg;function OK(){return lg}var bF=class{constructor(t,e,i,o){this.items=t,this.needsClipboard=e,this.durations=i,this.disposable=o}};function Qb(s,a,l){return k(this,arguments,function*(n,t,e,i=hm.default,o={triggerKind:0},r=Je.None){let c=new Xi;e=e.clone();let d=t.getWordAtPosition(e),u=d?new A(e.lineNumber,d.startColumn,e.lineNumber,d.endColumn):A.fromPositions(e),h={replace:u,insert:u.setEndPosition(e.lineNumber,e.column)},m=[],f=new G,p=[],g=!1,v=(C,T,E)=>{let F=!1;if(!T)return F;for(let L of T.suggestions)if(!i.kindFilter.has(L.kind)){if(!i.showDeprecated&&L?.tags?.includes(1))continue;L.range||(L.range=h),L.sortText||(L.sortText=typeof L.label=="string"?L.label:L.label.label),!g&&L.insertTextRules&&L.insertTextRules&4&&(g=Lr.guessNeedsClipboard(L.insertText)),m.push(new vF(e,L,T,C)),F=!0}return Ox(T)&&f.add(T),p.push({providerName:C._debugDisplayName??"unknown_provider",elapsedProvider:T.duration??-1,elapsedOverall:E.elapsed()}),F},b=k(this,null,function*(){if(!lg||i.kindFilter.has(27))return;let C=i.providerItemsToReuse.get(lg);if(C){C.forEach(F=>m.push(F));return}if(i.providerFilter.size>0&&!i.providerFilter.has(lg))return;let T=new Xi,E=yield lg.provideCompletionItems(t,e,o,r);v(lg,E,T)});for(let C of n.orderedGroups(t)){let T=!1;if(yield Promise.all(C.map(E=>k(this,null,function*(){if(i.providerItemsToReuse.has(E)){let F=i.providerItemsToReuse.get(E);F.forEach(L=>m.push(L)),T=T||F.length>0;return}if(!(i.providerFilter.size>0&&!i.providerFilter.has(E)))try{let F=new Xi,L=yield E.provideCompletionItems(t,e,o,r);T=v(E,L,F)||T}catch(F){zt(F)}}))),T||r.isCancellationRequested)break}return yield b,r.isCancellationRequested?(f.dispose(),Promise.reject(new ud)):new bF(m.sort(Kbe(i.snippetSortOrder)),g,{entries:p,elapsed:c.elapsed()},f)})}function yF(n,t){if(n.sortTextLow&&t.sortTextLow){if(n.sortTextLow<t.sortTextLow)return-1;if(n.sortTextLow>t.sortTextLow)return 1}return n.textLabel<t.textLabel?-1:n.textLabel>t.textLabel?1:n.completion.kind-t.completion.kind}function Gbe(n,t){if(n.completion.kind!==t.completion.kind){if(n.completion.kind===27)return-1;if(t.completion.kind===27)return 1}return yF(n,t)}function $be(n,t){if(n.completion.kind!==t.completion.kind){if(n.completion.kind===27)return 1;if(t.completion.kind===27)return-1}return yF(n,t)}var YD=new Map;YD.set(0,Gbe);YD.set(2,$be);YD.set(1,yF);function Kbe(n){return YD.get(n)}Pt.registerCommand("_executeCompletionItemProvider",(n,...t)=>k(void 0,null,function*(){let[e,i,o,r]=t;Tt(ht.isUri(e)),Tt(he.isIPosition(i)),Tt(typeof o=="string"||!o),Tt(typeof r=="number"||!r);let{completionProvider:s}=n.get(ae),a=yield n.get(no).createModelReference(e);try{let l={incomplete:!1,suggestions:[]},c=[],d=a.object.textEditorModel.validatePosition(i),u=yield Qb(s,a.object.textEditorModel,d,void 0,{triggerCharacter:o??void 0,triggerKind:o?1:0});for(let h of u.items)c.length<(r??0)&&c.push(h.resolve(Je.None)),l.incomplete=l.incomplete||h.container.incomplete,l.suggestions.push(h.completion);try{return yield Promise.all(c),l}finally{setTimeout(()=>u.disposable.dispose(),100)}}finally{a.dispose()}}));function PK(n,t){n.getContribution("editor.contrib.suggestController")?.triggerSuggest(new Set().add(t),void 0,!0)}var Fl=class{static isAllOff(t){return t.other==="off"&&t.comments==="off"&&t.strings==="off"}static isAllOn(t){return t.other==="on"&&t.comments==="on"&&t.strings==="on"}static valueFor(t,e){switch(e){case 1:return t.comments;case 2:return t.strings;default:return t.other}}};Ae();mt();dp();Oi();ce();Fi();qe();Pn();Jo();bn();Cce();Yo();function xF(n,t=cd){return m4(n,t)?n.charAt(0).toUpperCase()+n.slice(1):n}lj();Ur();Fi();Jo();Ae();var Ybe=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},Xbe=function(n,t){return function(e,i){t(e,i,n)}},qCt=Object.freeze({CURRENT_YEAR:!0,CURRENT_YEAR_SHORT:!0,CURRENT_MONTH:!0,CURRENT_DATE:!0,CURRENT_HOUR:!0,CURRENT_MINUTE:!0,CURRENT_SECOND:!0,CURRENT_DAY_NAME:!0,CURRENT_DAY_NAME_SHORT:!0,CURRENT_MONTH_NAME:!0,CURRENT_MONTH_NAME_SHORT:!0,CURRENT_SECONDS_UNIX:!0,CURRENT_TIMEZONE_OFFSET:!0,SELECTION:!0,CLIPBOARD:!0,TM_SELECTED_TEXT:!0,TM_CURRENT_LINE:!0,TM_CURRENT_WORD:!0,TM_LINE_INDEX:!0,TM_LINE_NUMBER:!0,TM_FILENAME:!0,TM_FILENAME_BASE:!0,TM_DIRECTORY:!0,TM_FILEPATH:!0,CURSOR_INDEX:!0,CURSOR_NUMBER:!0,RELATIVE_FILEPATH:!0,BLOCK_COMMENT_START:!0,BLOCK_COMMENT_END:!0,LINE_COMMENT:!0,WORKSPACE_NAME:!0,WORKSPACE_FOLDER:!0,RANDOM:!0,RANDOM_HEX:!0,UUID:!0}),Jb=class{constructor(t){this._delegates=t}resolve(t){for(let e of this._delegates){let i=e.resolve(t);if(i!==void 0)return i}}},ey=class{constructor(t,e,i,o){this._model=t,this._selection=e,this._selectionIdx=i,this._overtypingCapturer=o}resolve(t){let{name:e}=t;if(e==="SELECTION"||e==="TM_SELECTED_TEXT"){let i=this._model.getValueInRange(this._selection)||void 0,o=this._selection.startLineNumber!==this._selection.endLineNumber;if(!i&&this._overtypingCapturer){let r=this._overtypingCapturer.getLastOvertypedInfo(this._selectionIdx);r&&(i=r.value,o=r.multiline)}if(i&&o&&t.snippet){let r=this._model.getLineContent(this._selection.startLineNumber),s=un(r,0,this._selection.startColumn-1),a=s;t.snippet.walk(c=>c===t?!1:(c instanceof vo&&(a=un(nh(c.value).pop())),!0));let l=rl(a,s);i=i.replace(/(\r\n|\r|\n)(.*)/g,(c,d,u)=>`${d}${a.substr(l)}${u}`)}return i}else{if(e==="TM_CURRENT_LINE")return this._model.getLineContent(this._selection.positionLineNumber);if(e==="TM_CURRENT_WORD"){let i=this._model.getWordAtPosition({lineNumber:this._selection.positionLineNumber,column:this._selection.positionColumn});return i&&i.word||void 0}else{if(e==="TM_LINE_INDEX")return String(this._selection.positionLineNumber-1);if(e==="TM_LINE_NUMBER")return String(this._selection.positionLineNumber);if(e==="CURSOR_INDEX")return String(this._selectionIdx);if(e==="CURSOR_NUMBER")return String(this._selectionIdx+1)}}}},ty=class{constructor(t,e){this._labelService=t,this._model=e}resolve(t){let{name:e}=t;if(e==="TM_FILENAME")return ip(this._model.uri.fsPath);if(e==="TM_FILENAME_BASE"){let i=ip(this._model.uri.fsPath),o=i.lastIndexOf(".");return o<=0?i:i.slice(0,o)}else{if(e==="TM_DIRECTORY")return aj(this._model.uri.fsPath)==="."?"":this._labelService.getUriLabel(gp(this._model.uri));if(e==="TM_FILEPATH")return this._labelService.getUriLabel(this._model.uri);if(e==="RELATIVE_FILEPATH")return this._labelService.getUriLabel(this._model.uri,{relative:!0,noPrefix:!0})}}},iy=class{constructor(t,e,i,o){this._readClipboardText=t,this._selectionIdx=e,this._selectionCount=i,this._spread=o}resolve(t){if(t.name!=="CLIPBOARD")return;let e=this._readClipboardText();if(e){if(this._spread){let i=e.split(/\r\n|\n|\r/).filter(o=>!gj(o));if(i.length===this._selectionCount)return i[this._selectionIdx]}return e}}},ny=class{constructor(t,e,i){this._model=t,this._selection=e,this._languageConfigurationService=i}resolve(t){let{name:e}=t,i=this._model.getLanguageIdAtPosition(this._selection.selectionStartLineNumber,this._selection.selectionStartColumn),o=this._languageConfigurationService.getLanguageConfiguration(i).comments;if(o){if(e==="LINE_COMMENT")return o.lineCommentToken||void 0;if(e==="BLOCK_COMMENT_START")return o.blockCommentStartToken||void 0;if(e==="BLOCK_COMMENT_END")return o.blockCommentEndToken||void 0}}};ny=Ybe([Xbe(2,_i)],ny);var oy=class n{constructor(){this._date=new Date}static{this.dayNames=[_("Sunday","Sunday"),_("Monday","Monday"),_("Tuesday","Tuesday"),_("Wednesday","Wednesday"),_("Thursday","Thursday"),_("Friday","Friday"),_("Saturday","Saturday")]}static{this.dayNamesShort=[_("SundayShort","Sun"),_("MondayShort","Mon"),_("TuesdayShort","Tue"),_("WednesdayShort","Wed"),_("ThursdayShort","Thu"),_("FridayShort","Fri"),_("SaturdayShort","Sat")]}static{this.monthNames=[_("January","January"),_("February","February"),_("March","March"),_("April","April"),_("May","May"),_("June","June"),_("July","July"),_("August","August"),_("September","September"),_("October","October"),_("November","November"),_("December","December")]}static{this.monthNamesShort=[_("JanuaryShort","Jan"),_("FebruaryShort","Feb"),_("MarchShort","Mar"),_("AprilShort","Apr"),_("MayShort","May"),_("JuneShort","Jun"),_("JulyShort","Jul"),_("AugustShort","Aug"),_("SeptemberShort","Sep"),_("OctoberShort","Oct"),_("NovemberShort","Nov"),_("DecemberShort","Dec")]}resolve(t){let{name:e}=t;if(e==="CURRENT_YEAR")return String(this._date.getFullYear());if(e==="CURRENT_YEAR_SHORT")return String(this._date.getFullYear()).slice(-2);if(e==="CURRENT_MONTH")return String(this._date.getMonth().valueOf()+1).padStart(2,"0");if(e==="CURRENT_DATE")return String(this._date.getDate().valueOf()).padStart(2,"0");if(e==="CURRENT_HOUR")return String(this._date.getHours().valueOf()).padStart(2,"0");if(e==="CURRENT_MINUTE")return String(this._date.getMinutes().valueOf()).padStart(2,"0");if(e==="CURRENT_SECOND")return String(this._date.getSeconds().valueOf()).padStart(2,"0");if(e==="CURRENT_DAY_NAME")return n.dayNames[this._date.getDay()];if(e==="CURRENT_DAY_NAME_SHORT")return n.dayNamesShort[this._date.getDay()];if(e==="CURRENT_MONTH_NAME")return n.monthNames[this._date.getMonth()];if(e==="CURRENT_MONTH_NAME_SHORT")return n.monthNamesShort[this._date.getMonth()];if(e==="CURRENT_SECONDS_UNIX")return String(Math.floor(this._date.getTime()/1e3));if(e==="CURRENT_TIMEZONE_OFFSET"){let i=this._date.getTimezoneOffset(),o=i>0?"-":"+",r=Math.trunc(Math.abs(i/60)),s=r<10?"0"+r:r,a=Math.abs(i)-r*60,l=a<10?"0"+a:a;return o+s+":"+l}}},ry=class{constructor(t){this._workspaceService=t}resolve(t){if(!this._workspaceService)return;let e=S5(this._workspaceService.getWorkspace());if(!C5(e)){if(t.name==="WORKSPACE_NAME")return this._resolveWorkspaceName(e);if(t.name==="WORKSPACE_FOLDER")return this._resoveWorkspacePath(e)}}_resolveWorkspaceName(t){if(CA(t))return ip(t.uri.path);let e=ip(t.configPath.path);return e.endsWith(SA)&&(e=e.substr(0,e.length-SA.length-1)),e}_resoveWorkspacePath(t){if(CA(t))return xF(t.uri.fsPath);let e=ip(t.configPath.path),i=t.configPath.fsPath;return i.endsWith(e)&&(i=i.substr(0,i.length-e.length-1)),i?xF(i):"/"}},sy=class{resolve(t){let{name:e}=t;if(e==="RANDOM")return Math.random().toString().slice(-6);if(e==="RANDOM_HEX")return Math.random().toString(16).slice(-6);if(e==="UUID")return Kd()}};var Zbe=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},Qbe=function(n,t){return function(e,i){t(e,i,n)}},ja,XD=class n{static{this._decor={active:at.register({description:"snippet-placeholder-1",stickiness:0,className:"snippet-placeholder"}),inactive:at.register({description:"snippet-placeholder-2",stickiness:1,className:"snippet-placeholder"}),activeFinal:at.register({description:"snippet-placeholder-3",stickiness:1,className:"finish-snippet-placeholder"}),inactiveFinal:at.register({description:"snippet-placeholder-4",stickiness:1,className:"finish-snippet-placeholder"})}}constructor(t,e,i){this._editor=t,this._snippet=e,this._snippetLineLeadingWhitespace=i,this._offset=-1,this._nestingLevel=1,this._placeholderGroups=UT(e.placeholders,Zr.compareByIndex),this._placeholderGroupsIdx=-1}initialize(t){this._offset=t.newPosition}dispose(){this._placeholderDecorations&&this._editor.removeDecorations([...this._placeholderDecorations.values()]),this._placeholderGroups.length=0}_initDecorations(){if(this._offset===-1)throw new Error("Snippet not initialized!");if(this._placeholderDecorations)return;this._placeholderDecorations=new Map;let t=this._editor.getModel();this._editor.changeDecorations(e=>{for(let i of this._snippet.placeholders){let o=this._snippet.offset(i),r=this._snippet.fullLen(i),s=A.fromPositions(t.getPositionAt(this._offset+o),t.getPositionAt(this._offset+o+r)),a=i.isFinalTabstop?n._decor.inactiveFinal:n._decor.inactive,l=e.addDecoration(s,a);this._placeholderDecorations.set(i,l)}})}move(t){if(!this._editor.hasModel())return[];if(this._initDecorations(),this._placeholderGroupsIdx>=0){let o=[];for(let r of this._placeholderGroups[this._placeholderGroupsIdx])if(r.transform){let s=this._placeholderDecorations.get(r),a=this._editor.getModel().getDecorationRange(s),l=this._editor.getModel().getValueInRange(a),c=r.transform.resolve(l).split(/\r\n|\r|\n/);for(let d=1;d<c.length;d++)c[d]=this._editor.getModel().normalizeIndentation(this._snippetLineLeadingWhitespace+c[d]);o.push(mi.replace(a,c.join(this._editor.getModel().getEOL())))}o.length>0&&this._editor.executeEdits("snippet.placeholderTransform",o)}let e=!1;t===!0&&this._placeholderGroupsIdx<this._placeholderGroups.length-1?(this._placeholderGroupsIdx+=1,e=!0):t===!1&&this._placeholderGroupsIdx>0&&(this._placeholderGroupsIdx-=1,e=!0);let i=this._editor.getModel().changeDecorations(o=>{let r=new Set,s=[];for(let a of this._placeholderGroups[this._placeholderGroupsIdx]){let l=this._placeholderDecorations.get(a),c=this._editor.getModel().getDecorationRange(l);s.push(new ze(c.startLineNumber,c.startColumn,c.endLineNumber,c.endColumn)),e=e&&this._hasPlaceholderBeenCollapsed(a),o.changeDecorationOptions(l,a.isFinalTabstop?n._decor.activeFinal:n._decor.active),r.add(a);for(let d of this._snippet.enclosingPlaceholders(a)){let u=this._placeholderDecorations.get(d);o.changeDecorationOptions(u,d.isFinalTabstop?n._decor.activeFinal:n._decor.active),r.add(d)}}for(let[a,l]of this._placeholderDecorations)r.has(a)||o.changeDecorationOptions(l,a.isFinalTabstop?n._decor.inactiveFinal:n._decor.inactive);return s});return e?this.move(t):i??[]}_hasPlaceholderBeenCollapsed(t){let e=t;for(;e;){if(e instanceof Zr){let i=this._placeholderDecorations.get(e);if(this._editor.getModel().getDecorationRange(i).isEmpty()&&e.toString().length>0)return!0}e=e.parent}return!1}get isAtFirstPlaceholder(){return this._placeholderGroupsIdx<=0||this._placeholderGroups.length===0}get isAtLastPlaceholder(){return this._placeholderGroupsIdx===this._placeholderGroups.length-1}get hasPlaceholder(){return this._snippet.placeholders.length>0}get isTrivialSnippet(){if(this._snippet.placeholders.length===0)return!0;if(this._snippet.placeholders.length===1){let[t]=this._snippet.placeholders;if(t.isFinalTabstop&&this._snippet.rightMostDescendant===t)return!0}return!1}computePossibleSelections(){let t=new Map;for(let e of this._placeholderGroups){let i;for(let o of e){if(o.isFinalTabstop)break;i||(i=[],t.set(o.index,i));let r=this._placeholderDecorations.get(o),s=this._editor.getModel().getDecorationRange(r);if(!s){t.delete(o.index);break}i.push(s)}}return t}get activeChoice(){if(!this._placeholderDecorations)return;let t=this._placeholderGroups[this._placeholderGroupsIdx][0];if(!t?.choice)return;let e=this._placeholderDecorations.get(t);if(!e)return;let i=this._editor.getModel().getDecorationRange(e);if(i)return{range:i,choice:t.choice}}get hasChoice(){let t=!1;return this._snippet.walk(e=>(t=e instanceof Vh,!t)),t}merge(t){let e=this._editor.getModel();this._nestingLevel*=10,this._editor.changeDecorations(i=>{for(let o of this._placeholderGroups[this._placeholderGroupsIdx]){let r=t.shift();console.assert(r._offset!==-1),console.assert(!r._placeholderDecorations);let s=r._snippet.placeholderInfo.last.index;for(let l of r._snippet.placeholderInfo.all)l.isFinalTabstop?l.index=o.index+(s+1)/this._nestingLevel:l.index=o.index+l.index/this._nestingLevel;this._snippet.replace(o,r._snippet.children);let a=this._placeholderDecorations.get(o);i.removeDecoration(a),this._placeholderDecorations.delete(o);for(let l of r._snippet.placeholders){let c=r._snippet.offset(l),d=r._snippet.fullLen(l),u=A.fromPositions(e.getPositionAt(r._offset+c),e.getPositionAt(r._offset+c+d)),h=i.addDecoration(u,n._decor.inactive);this._placeholderDecorations.set(l,h)}}this._placeholderGroups=UT(this._snippet.placeholders,Zr.compareByIndex)})}},LK={overwriteBefore:0,overwriteAfter:0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0},cg=ja=class{static adjustWhitespace(t,e,i,o,r){let s=t.getLineContent(e.lineNumber),a=un(s,0,e.column-1),l;return o.walk(c=>{if(!(c instanceof vo)||c.parent instanceof Vh||r&&!r.has(c))return!0;let d=c.value.split(/\r\n|\r|\n/);if(i){let h=o.offset(c);if(h===0)d[0]=t.normalizeIndentation(d[0]);else{l=l??o.toString();let m=l.charCodeAt(h-1);(m===10||m===13)&&(d[0]=t.normalizeIndentation(a+d[0]))}for(let m=1;m<d.length;m++)d[m]=t.normalizeIndentation(a+d[m])}let u=d.join(t.getEOL());return u!==c.value&&(c.parent.replace(c,[new vo(u)]),l=void 0),!0}),a}static adjustSelection(t,e,i,o){if(i!==0||o!==0){let{positionLineNumber:r,positionColumn:s}=e,a=s-i,l=s+o,c=t.validateRange({startLineNumber:r,startColumn:a,endLineNumber:r,endColumn:l});e=ze.createWithDirection(c.startLineNumber,c.startColumn,c.endLineNumber,c.endColumn,e.getDirection())}return e}static createEditsAndSnippetsFromSelections(t,e,i,o,r,s,a,l,c){let d=[],u=[];if(!t.hasModel())return{edits:d,snippets:u};let h=t.getModel(),m=t.invokeWithinContext(T=>T.get(yc)),f=t.invokeWithinContext(T=>new ty(T.get(vc),h)),p=()=>a,g=h.getValueInRange(ja.adjustSelection(h,t.getSelection(),i,0)),v=h.getValueInRange(ja.adjustSelection(h,t.getSelection(),0,o)),b=h.getLineFirstNonWhitespaceColumn(t.getSelection().positionLineNumber),C=t.getSelections().map((T,E)=>({selection:T,idx:E})).sort((T,E)=>A.compareRangesUsingStarts(T.selection,E.selection));for(let{selection:T,idx:E}of C){let F=ja.adjustSelection(h,T,i,0),L=ja.adjustSelection(h,T,0,o);g!==h.getValueInRange(F)&&(F=T),v!==h.getValueInRange(L)&&(L=T);let H=T.setStartPosition(F.startLineNumber,F.startColumn).setEndPosition(L.endLineNumber,L.endColumn),re=new Lr().parse(e,!0,r),R=H.getStartPosition(),W=ja.adjustWhitespace(h,R,s||E>0&&b!==h.getLineFirstNonWhitespaceColumn(T.positionLineNumber),re);re.resolveVariables(new Jb([f,new iy(p,E,C.length,t.getOption(79)==="spread"),new ey(h,T,E,l),new ny(h,T,c),new oy,new ry(m),new sy])),d[E]=mi.replace(H,re.toString()),d[E].identifier={major:E,minor:0},d[E]._isTracked=!0,u[E]=new XD(t,re,W)}return{edits:d,snippets:u}}static createEditsAndSnippetsFromEdits(t,e,i,o,r,s,a){if(!t.hasModel()||e.length===0)return{edits:[],snippets:[]};let l=[],c=t.getModel(),d=new Lr,u=new Df,h=new Jb([t.invokeWithinContext(f=>new ty(f.get(vc),c)),new iy(()=>r,0,t.getSelections().length,t.getOption(79)==="spread"),new ey(c,t.getSelection(),0,s),new ny(c,t.getSelection(),a),new oy,new ry(t.invokeWithinContext(f=>f.get(yc))),new sy]);e=e.sort((f,p)=>A.compareRangesUsingStarts(f.range,p.range));let m=0;for(let f=0;f<e.length;f++){let{range:p,template:g}=e[f];if(f>0){let E=e[f-1].range,F=A.fromPositions(E.getEndPosition(),p.getStartPosition()),L=new vo(c.getValueInRange(F));u.appendChild(L),m+=L.value.length}let v=d.parseFragment(g,u);ja.adjustWhitespace(c,p.getStartPosition(),!0,u,new Set(v)),u.resolveVariables(h);let b=u.toString(),C=b.slice(m);m=b.length;let T=mi.replace(p,C);T.identifier={major:f,minor:0},T._isTracked=!0,l.push(T)}return d.ensureFinalTabstop(u,i,!0),{edits:l,snippets:[new XD(t,u,"")]}}constructor(t,e,i=LK,o){this._editor=t,this._template=e,this._options=i,this._languageConfigurationService=o,this._templateMerges=[],this._snippets=[]}dispose(){cn(this._snippets)}_logInfo(){return`template="${this._template}", merged_templates="${this._templateMerges.join(" -> ")}"`}insert(){if(!this._editor.hasModel())return;let{edits:t,snippets:e}=typeof this._template=="string"?ja.createEditsAndSnippetsFromSelections(this._editor,this._template,this._options.overwriteBefore,this._options.overwriteAfter,!1,this._options.adjustWhitespace,this._options.clipboardText,this._options.overtypingCapturer,this._languageConfigurationService):ja.createEditsAndSnippetsFromEdits(this._editor,this._template,!1,this._options.adjustWhitespace,this._options.clipboardText,this._options.overtypingCapturer,this._languageConfigurationService);this._snippets=e,this._editor.executeEdits("snippet",t,i=>{let o=i.filter(r=>!!r.identifier);for(let r=0;r<e.length;r++)e[r].initialize(o[r].textChange);return this._snippets[0].hasPlaceholder?this._move(!0):o.map(r=>ze.fromPositions(r.range.getEndPosition()))}),this._editor.revealRange(this._editor.getSelections()[0])}merge(t,e=LK){if(!this._editor.hasModel())return;this._templateMerges.push([this._snippets[0]._nestingLevel,this._snippets[0]._placeholderGroupsIdx,t]);let{edits:i,snippets:o}=ja.createEditsAndSnippetsFromSelections(this._editor,t,e.overwriteBefore,e.overwriteAfter,!0,e.adjustWhitespace,e.clipboardText,e.overtypingCapturer,this._languageConfigurationService);this._editor.executeEdits("snippet",i,r=>{let s=r.filter(l=>!!l.identifier);for(let l=0;l<o.length;l++)o[l].initialize(s[l].textChange);let a=o[0].isTrivialSnippet;if(!a){for(let l of this._snippets)l.merge(o);console.assert(o.length===0)}return this._snippets[0].hasPlaceholder&&!a?this._move(void 0):s.map(l=>ze.fromPositions(l.range.getEndPosition()))})}next(){let t=this._move(!0);this._editor.setSelections(t),this._editor.revealPositionInCenterIfOutsideViewport(t[0].getPosition())}prev(){let t=this._move(!1);this._editor.setSelections(t),this._editor.revealPositionInCenterIfOutsideViewport(t[0].getPosition())}_move(t){let e=[];for(let i of this._snippets){let o=i.move(t);e.push(...o)}return e}get isAtFirstPlaceholder(){return this._snippets[0].isAtFirstPlaceholder}get isAtLastPlaceholder(){return this._snippets[0].isAtLastPlaceholder}get hasPlaceholder(){return this._snippets[0].hasPlaceholder}get hasChoice(){return this._snippets[0].hasChoice}get activeChoice(){return this._snippets[0].activeChoice}isSelectionWithinPlaceholders(){if(!this.hasPlaceholder)return!1;let t=this._editor.getSelections();if(t.length<this._snippets.length)return!1;let e=new Map;for(let i of this._snippets){let o=i.computePossibleSelections();if(e.size===0)for(let[r,s]of o){s.sort(A.compareRangesUsingStarts);for(let a of t)if(s[0].containsRange(a)){e.set(r,[]);break}}if(e.size===0)return!1;e.forEach((r,s)=>{r.push(...o.get(s))})}t.sort(A.compareRangesUsingStarts);for(let[i,o]of e){if(o.length!==t.length){e.delete(i);continue}o.sort(A.compareRangesUsingStarts);for(let r=0;r<o.length;r++)if(!o[r].containsRange(t[r])){e.delete(i);continue}}return e.size>0}};cg=ja=Zbe([Qbe(3,_i)],cg);var Jbe=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},ZD=function(n,t){return function(e,i){t(e,i,n)}},dg,NK={overwriteBefore:0,overwriteAfter:0,undoStopBefore:!0,undoStopAfter:!0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0},Co=class{static{dg=this}static{this.ID="snippetController2"}static get(t){return t.getContribution(dg.ID)}static{this.InSnippetMode=new ot("inSnippetMode",!1,_("inSnippetMode","Whether the editor in current in snippet mode"))}static{this.HasNextTabstop=new ot("hasNextTabstop",!1,_("hasNextTabstop","Whether there is a next tab stop when in snippet mode"))}static{this.HasPrevTabstop=new ot("hasPrevTabstop",!1,_("hasPrevTabstop","Whether there is a previous tab stop when in snippet mode"))}constructor(t,e,i,o,r){this._editor=t,this._logService=e,this._languageFeaturesService=i,this._languageConfigurationService=r,this._snippetListener=new G,this._modelVersionId=-1,this._inSnippet=dg.InSnippetMode.bindTo(o),this._hasNextTabstop=dg.HasNextTabstop.bindTo(o),this._hasPrevTabstop=dg.HasPrevTabstop.bindTo(o)}dispose(){this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),this._session?.dispose(),this._snippetListener.dispose()}insert(t,e){try{this._doInsert(t,typeof e>"u"?NK:j(j({},NK),e))}catch(i){this.cancel(),this._logService.error(i),this._logService.error("snippet_error"),this._logService.error("insert_template=",t),this._logService.error("existing_template=",this._session?this._session._logInfo():"<no_session>")}}_doInsert(t,e){if(this._editor.hasModel()){if(this._snippetListener.clear(),e.undoStopBefore&&this._editor.getModel().pushStackElement(),this._session&&typeof t!="string"&&this.cancel(),this._session?(Tt(typeof t=="string"),this._session.merge(t,e)):(this._modelVersionId=this._editor.getModel().getAlternativeVersionId(),this._session=new cg(this._editor,t,e,this._languageConfigurationService),this._session.insert()),e.undoStopAfter&&this._editor.getModel().pushStackElement(),this._session?.hasChoice){let i={_debugDisplayName:"snippetChoiceCompletions",provideCompletionItems:(c,d)=>{if(!this._session||c!==this._editor.getModel()||!he.equals(this._editor.getPosition(),d))return;let{activeChoice:u}=this._session;if(!u||u.choice.options.length===0)return;let h=c.getValueInRange(u.range),m=!!u.choice.options.find(p=>p.value===h),f=[];for(let p=0;p<u.choice.options.length;p++){let g=u.choice.options[p];f.push({kind:13,label:g.value,insertText:g.value,sortText:"a".repeat(p+1),range:u.range,filterText:m?`${h}_${g.value}`:void 0,command:{id:"jumpToNextSnippetPlaceholder",title:_("next","Go to next placeholder...")}})}return{suggestions:f}}},o=this._editor.getModel(),r,s=!1,a=()=>{r?.dispose(),s=!1},l=()=>{s||(r=this._languageFeaturesService.completionProvider.register({language:o.getLanguageId(),pattern:o.uri.fsPath,scheme:o.uri.scheme,exclusive:!0},i),this._snippetListener.add(r),s=!0)};this._choiceCompletions={provider:i,enable:l,disable:a}}this._updateState(),this._snippetListener.add(this._editor.onDidChangeModelContent(i=>i.isFlush&&this.cancel())),this._snippetListener.add(this._editor.onDidChangeModel(()=>this.cancel())),this._snippetListener.add(this._editor.onDidChangeCursorSelection(()=>this._updateState()))}}_updateState(){if(!(!this._session||!this._editor.hasModel())){if(this._modelVersionId===this._editor.getModel().getAlternativeVersionId())return this.cancel();if(!this._session.hasPlaceholder)return this.cancel();if(this._session.isAtLastPlaceholder||!this._session.isSelectionWithinPlaceholders())return this._editor.getModel().pushStackElement(),this.cancel();this._inSnippet.set(!0),this._hasPrevTabstop.set(!this._session.isAtFirstPlaceholder),this._hasNextTabstop.set(!this._session.isAtLastPlaceholder),this._handleChoice()}}_handleChoice(){if(!this._session||!this._editor.hasModel()){this._currentChoice=void 0;return}let{activeChoice:t}=this._session;if(!t||!this._choiceCompletions){this._choiceCompletions?.disable(),this._currentChoice=void 0;return}this._currentChoice!==t.choice&&(this._currentChoice=t.choice,this._choiceCompletions.enable(),queueMicrotask(()=>{PK(this._editor,this._choiceCompletions.provider)}))}finish(){for(;this._inSnippet.get();)this.next()}cancel(t=!1){this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),this._snippetListener.clear(),this._currentChoice=void 0,this._session?.dispose(),this._session=void 0,this._modelVersionId=-1,t&&this._editor.setSelections([this._editor.getSelection()])}prev(){this._session?.prev(),this._updateState()}next(){this._session?.next(),this._updateState()}isInSnippet(){return!!this._inSnippet.get()}};Co=dg=Jbe([ZD(1,ds),ZD(2,ae),ZD(3,Xe),ZD(4,_i)],Co);Me(Co.ID,Co,4);var QD=Ki.bindToContribution(Co.get);Ne(new QD({id:"jumpToNextSnippetPlaceholder",precondition:K.and(Co.InSnippetMode,Co.HasNextTabstop),handler:n=>n.next(),kbOpts:{weight:130,kbExpr:M.textInputFocus,primary:2}}));Ne(new QD({id:"jumpToPrevSnippetPlaceholder",precondition:K.and(Co.InSnippetMode,Co.HasPrevTabstop),handler:n=>n.prev(),kbOpts:{weight:130,kbExpr:M.textInputFocus,primary:1026}}));Ne(new QD({id:"leaveSnippet",precondition:Co.InSnippetMode,handler:n=>n.cancel(!0),kbOpts:{weight:130,kbExpr:M.textInputFocus,primary:9,secondary:[1033]}}));Ne(new QD({id:"acceptSnippet",precondition:Co.InSnippetMode,handler:n=>n.finish()}));Ui();Ot();var eye=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},wF=function(n,t){return function(e,i){t(e,i,n)}},JD=class extends U{get isAcceptingPartially(){return this._isAcceptingPartially}constructor(t,e,i,o,r,s,a,l,c,d,u,h){super(),this.textModel=t,this.selectedSuggestItem=e,this._textModelVersionId=i,this._positions=o,this._debounceValue=r,this._suggestPreviewEnabled=s,this._suggestPreviewMode=a,this._inlineSuggestMode=l,this._enabled=c,this._instantiationService=d,this._commandService=u,this._languageConfigurationService=h,this._source=this._register(this._instantiationService.createInstance($D,this.textModel,this._textModelVersionId,this._debounceValue)),this._isActive=Kn(this,!1),this._forceUpdateExplicitlySignal=yp(this),this._selectedInlineCompletionId=Kn(this,void 0),this._primaryPosition=qt(this,f=>this._positions.read(f)[0]??new he(1,1)),this._isAcceptingPartially=!1,this._preserveCurrentCompletionReasons=new Set([du.Redo,du.Undo,du.AcceptWord]),this._fetchInlineCompletionsPromise=_w({owner:this,createEmptyChangeSummary:()=>({preserveCurrentCompletion:!1,inlineCompletionTriggerKind:as.Automatic}),handleChange:(f,p)=>(f.didChange(this._textModelVersionId)&&this._preserveCurrentCompletionReasons.has(this._getReason(f.change))?p.preserveCurrentCompletion=!0:f.didChange(this._forceUpdateExplicitlySignal)&&(p.inlineCompletionTriggerKind=as.Explicit),!0)},(f,p)=>{if(this._forceUpdateExplicitlySignal.read(f),!(this._enabled.read(f)&&this.selectedSuggestItem.read(f)||this._isActive.read(f))){this._source.cancelUpdate();return}this._textModelVersionId.read(f);let v=this._source.suggestWidgetInlineCompletions.get(),b=this.selectedSuggestItem.read(f);if(v&&!b){let L=this._source.inlineCompletions.get();ms(H=>{(!L||v.request.versionId>L.request.versionId)&&this._source.inlineCompletions.set(v.clone(),H),this._source.clearSuggestWidgetInlineCompletions(H)})}let C=this._primaryPosition.read(f),T={triggerKind:p.inlineCompletionTriggerKind,selectedSuggestionInfo:b?.toSelectedSuggestionInfo()},E=this.selectedInlineCompletion.get(),F=p.preserveCurrentCompletion||E?.forwardStable?E:void 0;return this._source.fetch(C,T,F)}),this._filteredInlineCompletionItems=ps({owner:this,equalsFn:X_()},f=>{let p=this._source.inlineCompletions.read(f);if(!p)return[];let g=this._primaryPosition.read(f);return p.inlineCompletions.filter(b=>b.isVisible(this.textModel,g,f))}),this.selectedInlineCompletionIndex=qt(this,f=>{let p=this._selectedInlineCompletionId.read(f),g=this._filteredInlineCompletionItems.read(f),v=this._selectedInlineCompletionId===void 0?-1:g.findIndex(b=>b.semanticId===p);return v===-1?(this._selectedInlineCompletionId.set(void 0,void 0),0):v}),this.selectedInlineCompletion=qt(this,f=>{let p=this._filteredInlineCompletionItems.read(f),g=this.selectedInlineCompletionIndex.read(f);return p[g]}),this.activeCommands=ps({owner:this,equalsFn:X_()},f=>this.selectedInlineCompletion.read(f)?.inlineCompletion.source.inlineCompletions.commands??[]),this.lastTriggerKind=this._source.inlineCompletions.map(this,f=>f?.request.context.triggerKind),this.inlineCompletionsCount=qt(this,f=>{if(this.lastTriggerKind.read(f)===as.Explicit)return this._filteredInlineCompletionItems.read(f).length}),this.state=ps({owner:this,equalsFn:(f,p)=>!f||!p?f===p:rF(f.ghostTexts,p.ghostTexts)&&f.inlineCompletion===p.inlineCompletion&&f.suggestItem===p.suggestItem},f=>{let p=this.textModel,g=this.selectedSuggestItem.read(f);if(g){let v=Nl(g.toSingleTextEdit(),p),b=this._computeAugmentation(v,f);if(!this._suggestPreviewEnabled.read(f)&&!b)return;let T=b?.edit??v,E=b?b.edit.text.length-v.text.length:0,F=this._suggestPreviewMode.read(f),L=this._positions.read(f),H=[T,...CF(this.textModel,L,T)],re=H.map((W,D)=>mF(W,p,F,L[D],E)).filter(Qm),R=re[0]??new Ll(T.range.endLineNumber,[]);return{edits:H,primaryGhostText:R,ghostTexts:re,inlineCompletion:b?.completion,suggestItem:g}}else{if(!this._isActive.read(f))return;let v=this.selectedInlineCompletion.read(f);if(!v)return;let b=v.toSingleTextEdit(f),C=this._inlineSuggestMode.read(f),T=this._positions.read(f),E=[b,...CF(this.textModel,T,b)],F=E.map((L,H)=>mF(L,p,C,T[H],0)).filter(Qm);return F[0]?{edits:E,primaryGhostText:F[0],ghostTexts:F,inlineCompletion:v,suggestItem:void 0}:void 0}}),this.ghostTexts=ps({owner:this,equalsFn:rF},f=>{let p=this.state.read(f);if(p)return p.ghostTexts}),this.primaryGhostText=ps({owner:this,equalsFn:sF},f=>{let p=this.state.read(f);if(p)return p?.primaryGhostText}),this._register(bw(this._fetchInlineCompletionsPromise));let m;this._register(ii(f=>{let g=this.state.read(f)?.inlineCompletion;if(g?.semanticId!==m?.semanticId&&(m=g,g)){let v=g.inlineCompletion,b=v.source;b.provider.handleItemDidShow?.(b.inlineCompletions,v.sourceInlineCompletion,v.insertText)}}))}_getReason(t){return t?.isUndoing?du.Undo:t?.isRedoing?du.Redo:this.isAcceptingPartially?du.AcceptWord:du.Other}trigger(t){return k(this,null,function*(){this._isActive.set(!0,t),yield this._fetchInlineCompletionsPromise.get()})}triggerExplicitly(t){return k(this,null,function*(){bp(t,e=>{this._isActive.set(!0,e),this._forceUpdateExplicitlySignal.trigger(e)}),yield this._fetchInlineCompletionsPromise.get()})}stop(t){bp(t,e=>{this._isActive.set(!1,e),this._source.clear(e)})}_computeAugmentation(t,e){let i=this.textModel,o=this._source.suggestWidgetInlineCompletions.read(e),r=o?o.inlineCompletions:[this.selectedInlineCompletion.read(e)].filter(Qm);return a4(r,a=>{let l=a.toSingleTextEdit(e);return l=Nl(l,i,A.fromPositions(l.range.getStartPosition(),t.range.getEndPosition())),GD(l,t)?{completion:a,edit:l}:void 0})}_deltaSelectedInlineCompletionIndex(t){return k(this,null,function*(){yield this.triggerExplicitly();let e=this._filteredInlineCompletionItems.get()||[];if(e.length>0){let i=(this.selectedInlineCompletionIndex.get()+t+e.length)%e.length;this._selectedInlineCompletionId.set(e[i].semanticId,void 0)}else this._selectedInlineCompletionId.set(void 0,void 0)})}next(){return k(this,null,function*(){yield this._deltaSelectedInlineCompletionIndex(1)})}previous(){return k(this,null,function*(){yield this._deltaSelectedInlineCompletionIndex(-1)})}accept(t){return k(this,null,function*(){if(t.getModel()!==this.textModel)throw new ol;let e=this.state.get();if(!e||e.primaryGhostText.isEmpty()||!e.inlineCompletion)return;let i=e.inlineCompletion.toInlineCompletion(void 0);if(i.command&&i.source.addRef(),t.pushUndoStop(),i.snippetInfo)t.executeEdits("inlineSuggestion.accept",[mi.replace(i.range,""),...i.additionalTextEdits]),t.setPosition(i.snippetInfo.range.getStartPosition(),"inlineCompletionAccept"),Co.get(t)?.insert(i.snippetInfo.snippet,{undoStopBefore:!1});else{let o=e.edits,r=FK(o).map(s=>ze.fromPositions(s));t.executeEdits("inlineSuggestion.accept",[...o.map(s=>mi.replace(s.range,s.text)),...i.additionalTextEdits]),t.setSelections(r,"inlineCompletionAccept")}this.stop(),i.command&&(yield this._commandService.executeCommand(i.command.id,...i.command.arguments||[]).then(void 0,zt),i.source.removeRef())})}acceptNextWord(t){return k(this,null,function*(){yield this._acceptNext(t,(e,i)=>{let o=this.textModel.getLanguageIdAtPosition(e.lineNumber,e.column),r=this._languageConfigurationService.getLanguageConfiguration(o),s=new RegExp(r.wordDefinition.source,r.wordDefinition.flags.replace("g","")),a=i.match(s),l=0;a&&a.index!==void 0?a.index===0?l=a[0].length:l=a.index:l=i.length;let d=/\s+/g.exec(i);return d&&d.index!==void 0&&d.index+d[0].length<l&&(l=d.index+d[0].length),l},0)})}acceptNextLine(t){return k(this,null,function*(){yield this._acceptNext(t,(e,i)=>{let o=i.match(/\n/);return o&&o.index!==void 0?o.index+1:i.length},1)})}_acceptNext(t,e,i){return k(this,null,function*(){if(t.getModel()!==this.textModel)throw new ol;let o=this.state.get();if(!o||o.primaryGhostText.isEmpty()||!o.inlineCompletion)return;let r=o.primaryGhostText,s=o.inlineCompletion.toInlineCompletion(void 0);if(s.snippetInfo||s.filterText!==s.insertText){yield this.accept(t);return}let a=r.parts[0],l=new he(r.lineNumber,a.column),c=a.text,d=e(l,c);if(d===c.length&&r.parts.length===1){this.accept(t);return}let u=c.substring(0,d),h=this._positions.get(),m=h[0];s.source.addRef();try{this._isAcceptingPartially=!0;try{t.pushUndoStop();let f=A.fromPositions(m,l),p=t.getModel().getValueInRange(f)+u,g=new Tr(f,p),v=[g,...CF(this.textModel,h,g)],b=FK(v).map(C=>ze.fromPositions(C));t.executeEdits("inlineSuggestion.accept",v.map(C=>mi.replace(C.range,C.text))),t.setSelections(b,"inlineCompletionPartialAccept"),t.revealPositionInCenterIfOutsideViewport(t.getPosition(),1)}finally{this._isAcceptingPartially=!1}if(s.source.provider.handlePartialAccept){let f=A.fromPositions(s.range.getStartPosition(),dh.ofText(u).addToPosition(l)),p=t.getModel().getValueInRange(f,1);s.source.provider.handlePartialAccept(s.source.inlineCompletions,s.sourceInlineCompletion,p.length,{kind:i})}}finally{s.source.removeRef()}})}handleSuggestAccepted(t){let e=Nl(t.toSingleTextEdit(),this.textModel),i=this._computeAugmentation(e,void 0);if(!i)return;let o=i.completion.inlineCompletion;o.source.provider.handlePartialAccept?.(o.source.inlineCompletions,o.sourceInlineCompletion,e.text.length,{kind:2})}};JD=eye([wF(9,De),wF(10,ci),wF(11,_i)],JD);var du=function(n){return n[n.Undo=0]="Undo",n[n.Redo=1]="Redo",n[n.AcceptWord=2]="AcceptWord",n[n.Other=3]="Other",n}(du||{});function CF(n,t,e){if(t.length===1)return[];let i=t[0],o=t.slice(1),r=e.range.getStartPosition(),s=e.range.getEndPosition(),a=n.getValueInRange(A.fromPositions(i,s)),l=aF(i,r);if(l.lineNumber<1)return ut(new ol(`positionWithinTextEdit line number should be bigger than 0.
			Invalid subtraction between ${i.toString()} and ${r.toString()}`)),[];let c=tye(e.text,l);return o.map(d=>{let u=IK(aF(d,r),s),h=n.getValueInRange(A.fromPositions(d,u)),m=rl(a,h),f=A.fromPositions(d,d.delta(0,m));return new Tr(f,c)})}function tye(n,t){let e="",i=bj(n);for(let o=t.lineNumber-1;o<i.length;o++)e+=i[o].substring(o===t.lineNumber-1?t.column-1:0);return e}function FK(n){let t=XW.createSortPermutation(n,nc(r=>r.range,A.compareRangesUsingStarts)),i=new $x(t.apply(n)).getNewRanges();return t.inverse().apply(i).map(r=>r.getEndPosition())}Oi();W_();oi();ce();hi();qe();gn();Oi();gi();Bt();oi();uce();ce();Yo();Ls();io();tt();hi();qe();$t();Ht();ce();uc();gn();_n();cc();Ot();var iye=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},zK=function(n,t){return function(e,i){t(e,i,n)}},ay,ly=class{constructor(t){this.name=t}select(t,e,i){if(i.length===0)return 0;let o=i[0].score[0];for(let r=0;r<i.length;r++){let{score:s,completion:a}=i[r];if(s[0]!==o)break;if(a.preselect)return r}return 0}},eE=class extends ly{constructor(){super("first")}memorize(t,e,i){}toJSON(){}fromJSON(){}},SF=class extends ly{constructor(){super("recentlyUsed"),this._cache=new hl(300,.66),this._seq=0}memorize(t,e,i){let o=`${t.getLanguageId()}/${i.textLabel}`;this._cache.set(o,{touch:this._seq++,type:i.completion.kind,insertText:i.completion.insertText})}select(t,e,i){if(i.length===0)return 0;let o=t.getLineContent(e.lineNumber).substr(e.column-10,e.column-1);if(/\s$/.test(o))return super.select(t,e,i);let r=i[0].score[0],s=-1,a=-1,l=-1;for(let c=0;c<i.length&&i[c].score[0]===r;c++){let d=`${t.getLanguageId()}/${i[c].textLabel}`,u=this._cache.peek(d);if(u&&u.touch>l&&u.type===i[c].completion.kind&&u.insertText===i[c].completion.insertText&&(l=u.touch,a=c),i[c].completion.preselect&&s===-1)return s=c}return a!==-1?a:s!==-1?s:0}toJSON(){return this._cache.toJSON()}fromJSON(t){this._cache.clear();let e=0;for(let[i,o]of t)o.touch=e,o.type=typeof o.type=="number"?o.type:P_.fromString(o.type),this._cache.set(i,o);this._seq=this._cache.size}},IF=class extends ly{constructor(){super("recentlyUsedByPrefix"),this._trie=w5.forStrings(),this._seq=0}memorize(t,e,i){let{word:o}=t.getWordUntilPosition(e),r=`${t.getLanguageId()}/${o}`;this._trie.set(r,{type:i.completion.kind,insertText:i.completion.insertText,touch:this._seq++})}select(t,e,i){let{word:o}=t.getWordUntilPosition(e);if(!o)return super.select(t,e,i);let r=`${t.getLanguageId()}/${o}`,s=this._trie.get(r);if(s||(s=this._trie.findSubstr(r)),s)for(let a=0;a<i.length;a++){let{kind:l,insertText:c}=i[a].completion;if(l===s.type&&c===s.insertText)return a}return super.select(t,e,i)}toJSON(){let t=[];return this._trie.forEach((e,i)=>t.push([i,e])),t.sort((e,i)=>-(e[1].touch-i[1].touch)).forEach((e,i)=>e[1].touch=i),t.slice(0,200)}fromJSON(t){if(this._trie.clear(),t.length>0){this._seq=t[0][1].touch+1;for(let[e,i]of t)i.type=typeof i.type=="number"?i.type:P_.fromString(i.type),this._trie.set(e,i)}}},DF=class{static{ay=this}static{this._strategyCtors=new Map([["recentlyUsedByPrefix",IF],["recentlyUsed",SF],["first",eE]])}static{this._storagePrefix="suggest/memories"}constructor(t,e){this._storageService=t,this._configService=e,this._disposables=new G,this._persistSoon=new si(()=>this._saveState(),500),this._disposables.add(t.onWillSaveState(i=>{i.reason===wp.SHUTDOWN&&this._saveState()}))}dispose(){this._disposables.dispose(),this._persistSoon.dispose()}memorize(t,e,i){this._withStrategy(t,e).memorize(t,e,i),this._persistSoon.schedule()}select(t,e,i){return this._withStrategy(t,e).select(t,e,i)}_withStrategy(t,e){let i=this._configService.getValue("editor.suggestSelection",{overrideIdentifier:t.getLanguageIdAtPosition(e.lineNumber,e.column),resource:t.uri});if(this._strategy?.name!==i){this._saveState();let o=ay._strategyCtors.get(i)||eE;this._strategy=new o;try{let s=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,a=this._storageService.get(`${ay._storagePrefix}/${i}`,s);a&&this._strategy.fromJSON(JSON.parse(a))}catch{}}return this._strategy}_saveState(){if(this._strategy){let e=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,i=JSON.stringify(this._strategy);this._storageService.store(`${ay._storagePrefix}/${this._strategy.name}`,i,e,1)}}};DF=ay=iye([zK(0,Ar),zK(1,_t)],DF);var ug=No("ISuggestMemories");zo(ug,DF,1);mt();var nye=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},oye=function(n,t){return function(e,i){t(e,i,n)}},EF,cy=class{static{EF=this}static{this.AtEnd=new ot("atEndOfWord",!1)}constructor(t,e){this._editor=t,this._enabled=!1,this._ckAtEnd=EF.AtEnd.bindTo(e),this._configListener=this._editor.onDidChangeConfiguration(i=>i.hasChanged(124)&&this._update()),this._update()}dispose(){this._configListener.dispose(),this._selectionListener?.dispose(),this._ckAtEnd.reset()}_update(){let t=this._editor.getOption(124)==="on";if(this._enabled!==t)if(this._enabled=t,this._enabled){let e=()=>{if(!this._editor.hasModel()){this._ckAtEnd.set(!1);return}let i=this._editor.getModel(),o=this._editor.getSelection(),r=i.getWordAtPosition(o.getStartPosition());if(!r){this._ckAtEnd.set(!1);return}this._ckAtEnd.set(r.endColumn===o.getStartPosition().column)};this._selectionListener=this._editor.onDidChangeCursorSelection(e),e()}else this._selectionListener&&(this._ckAtEnd.reset(),this._selectionListener.dispose(),this._selectionListener=void 0)}};cy=EF=nye([oye(1,Xe)],cy);Ae();Ui();mt();Ot();dp();mt();var rye=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},sye=function(n,t){return function(e,i){t(e,i,n)}},dy,mm=class{static{dy=this}static{this.OtherSuggestions=new ot("hasOtherSuggestions",!1)}constructor(t,e){this._editor=t,this._index=0,this._ckOtherSuggestions=dy.OtherSuggestions.bindTo(e)}dispose(){this.reset()}reset(){this._ckOtherSuggestions.reset(),this._listener?.dispose(),this._model=void 0,this._acceptNext=void 0,this._ignore=!1}set({model:t,index:e},i){if(t.items.length===0){this.reset();return}if(dy._moveIndex(!0,t,e)===e){this.reset();return}this._acceptNext=i,this._model=t,this._index=e,this._listener=this._editor.onDidChangeCursorPosition(()=>{this._ignore||this.reset()}),this._ckOtherSuggestions.set(!0)}static _moveIndex(t,e,i){let o=i;for(let r=e.items.length;r>0&&(o=(o+e.items.length+(t?1:-1))%e.items.length,!(o===i||!e.items[o].completion.additionalTextEdits));r--);return o}next(){this._move(!0)}prev(){this._move(!1)}_move(t){if(this._model)try{this._ignore=!0,this._index=dy._moveIndex(t,this._model,this._index),this._acceptNext({index:this._index,item:this._model.items[this._index],model:this._model})}finally{this._ignore=!1}}};mm=dy=rye([sye(1,Xe)],mm);Oi();ce();hA();var tE=class{constructor(t,e,i,o){this._disposables=new G,this._disposables.add(i.onDidSuggest(r=>{r.completionModel.items.length===0&&this.reset()})),this._disposables.add(i.onDidCancel(r=>{this.reset()})),this._disposables.add(e.onDidShow(()=>this._onItem(e.getFocusedItem()))),this._disposables.add(e.onDidFocus(this._onItem,this)),this._disposables.add(e.onDidHide(this.reset,this)),this._disposables.add(t.onWillType(r=>{if(this._active&&!e.isFrozen()&&i.state!==0){let s=r.charCodeAt(r.length-1);this._active.acceptCharacters.has(s)&&t.getOption(0)&&o(this._active.item)}}))}_onItem(t){if(!t||!Dn(t.item.completion.commitCharacters)){this.reset();return}if(this._active&&this._active.item.item===t.item)return;let e=new ch;for(let i of t.item.completion.commitCharacters)i.length>0&&e.add(i.charCodeAt(0));this._active={acceptCharacters:e,item:t}}reset(){this._active=void 0}dispose(){this._disposables.dispose()}};Ht();gi();Bt();oi();ce();Fi();Pn();fh();Oi();qe();nj();hi();qe();var iE=(()=>{class n{provideSelectionRanges(e,i){return k(this,null,function*(){let o=[];for(let r of i){let s=[];o.push(s);let a=new Map;yield new Promise(l=>n._bracketsRightYield(l,0,e,r,a)),yield new Promise(l=>n._bracketsLeftYield(l,0,e,r,a,s))}return o})}static{this._maxDuration=30}static{this._maxRounds=2}static _bracketsRightYield(e,i,o,r,s){let a=new Map,l=Date.now();for(;;){if(i>=n._maxRounds){e();break}if(!r){e();break}let c=o.bracketPairs.findNextBracket(r);if(!c){e();break}if(Date.now()-l>n._maxDuration){setTimeout(()=>n._bracketsRightYield(e,i+1,o,r,s));break}if(c.bracketInfo.isOpeningBracket){let u=c.bracketInfo.bracketText,h=a.has(u)?a.get(u):0;a.set(u,h+1)}else{let u=c.bracketInfo.getOpeningBrackets()[0].bracketText,h=a.has(u)?a.get(u):0;if(h-=1,a.set(u,Math.max(0,h)),h<0){let m=s.get(u);m||(m=new Mx,s.set(u,m)),m.push(c.range)}}r=c.range.getEndPosition()}}static _bracketsLeftYield(e,i,o,r,s,a){let l=new Map,c=Date.now();for(;;){if(i>=n._maxRounds&&s.size===0){e();break}if(!r){e();break}let d=o.bracketPairs.findPrevBracket(r);if(!d){e();break}if(Date.now()-c>n._maxDuration){setTimeout(()=>n._bracketsLeftYield(e,i+1,o,r,s,a));break}if(d.bracketInfo.isOpeningBracket){let h=d.bracketInfo.bracketText,m=l.has(h)?l.get(h):0;if(m-=1,l.set(h,Math.max(0,m)),m<0){let f=s.get(h);if(f){let p=f.shift();f.size===0&&s.delete(h);let g=A.fromPositions(d.range.getEndPosition(),p.getStartPosition()),v=A.fromPositions(d.range.getStartPosition(),p.getEndPosition());a.push({range:g}),a.push({range:v}),n._addBracketLeading(o,v,a)}}}else{let h=d.bracketInfo.getOpeningBrackets()[0].bracketText,m=l.has(h)?l.get(h):0;l.set(h,m+1)}r=d.range.getStartPosition()}}static _addBracketLeading(e,i,o){if(i.startLineNumber===i.endLineNumber)return;let r=i.startLineNumber,s=e.getLineFirstNonWhitespaceColumn(r);s!==0&&s!==i.startColumn&&(o.push({range:A.fromPositions(new he(r,s),i.getEndPosition())}),o.push({range:A.fromPositions(new he(r,1),i.getEndPosition())}));let a=r-1;if(a>0){let l=e.getLineFirstNonWhitespaceColumn(a);l===i.startColumn&&l!==e.getLineLastNonWhitespaceColumn(a)&&(o.push({range:A.fromPositions(new he(a,l),i.getEndPosition())}),o.push({range:A.fromPositions(new he(a,1),i.getEndPosition())}))}}}return n})();var hg=class n{static{this.None=new class extends n{distance(){return 0}}}static create(t,e){return k(this,null,function*(){if(!e.getOption(119).localityBonus||!e.hasModel())return n.None;let i=e.getModel(),o=e.getPosition();if(!t.canComputeWordRanges(i.uri))return n.None;let[r]=yield new iE().provideSelectionRanges(i,[o]);if(r.length===0)return n.None;let s=yield t.computeWordRanges(i.uri,r[0].range);if(!s)return n.None;let a=i.getWordUntilPosition(o);return delete s[a.word],new class extends n{distance(l,c){if(!o.equals(e.getPosition()))return 0;if(c.kind===17)return 2<<20;let d=typeof c.label=="string"?c.label:c.label.label,u=s[d];if(KW(u))return 2<<20;let h=eh(u,A.fromPositions(l),A.compareRangesUsingStarts),m=h>=0?u[h]:u[Math.max(0,~h-1)],f=r.length;for(let p of r){if(!A.containsRange(p.range,m))break;f-=1}return f}}})}};_n();mt();dp();Ia();Oi();_c();Fi();var uy=class{constructor(t,e){this.leadingLineContent=t,this.characterCountDelta=e}},mg=class n{constructor(t,e,i,o,r,s,a=dw.default,l=void 0){this.clipboardText=l,this._snippetCompareFn=n._compareCompletionItems,this._items=t,this._column=e,this._wordDistance=o,this._options=r,this._refilterKind=1,this._lineContext=i,this._fuzzyScoreOptions=a,s==="top"?this._snippetCompareFn=n._compareCompletionItemsSnippetsUp:s==="bottom"&&(this._snippetCompareFn=n._compareCompletionItemsSnippetsDown)}get lineContext(){return this._lineContext}set lineContext(t){(this._lineContext.leadingLineContent!==t.leadingLineContent||this._lineContext.characterCountDelta!==t.characterCountDelta)&&(this._refilterKind=this._lineContext.characterCountDelta<t.characterCountDelta&&this._filteredItems?2:1,this._lineContext=t)}get items(){return this._ensureCachedState(),this._filteredItems}getItemsByProvider(){return this._ensureCachedState(),this._itemsByProvider}getIncompleteProvider(){this._ensureCachedState();let t=new Set;for(let[e,i]of this.getItemsByProvider())i.length>0&&i[0].container.incomplete&&t.add(e);return t}get stats(){return this._ensureCachedState(),this._stats}_ensureCachedState(){this._refilterKind!==0&&this._createCachedState()}_createCachedState(){this._itemsByProvider=new Map;let t=[],{leadingLineContent:e,characterCountDelta:i}=this._lineContext,o="",r="",s=this._refilterKind===1?this._items:this._filteredItems,a=[],l=!this._options.filterGraceful||s.length>2e3?uw:n5;for(let c=0;c<s.length;c++){let d=s[c];if(d.isInvalid)continue;let u=this._itemsByProvider.get(d.provider);u?u.push(d):this._itemsByProvider.set(d.provider,[d]);let h=d.position.column-d.editStart.column,m=h+i-(d.position.column-this._column);if(o.length!==m&&(o=m===0?"":e.slice(-m),r=o.toLowerCase()),d.word=o,m===0)d.score=gc.Default;else{let f=0;for(;f<h;){let p=o.charCodeAt(f);if(p===32||p===9)f+=1;else break}if(f>=m)d.score=gc.Default;else if(typeof d.completion.filterText=="string"){let p=l(o,r,f,d.completion.filterText,d.filterTextLow,0,this._fuzzyScoreOptions);if(!p)continue;yj(d.completion.filterText,d.textLabel)===0?d.score=p:(d.score=i5(o,r,f,d.textLabel,d.labelLow,0),d.score[0]=p[0])}else{let p=l(o,r,f,d.textLabel,d.labelLow,0,this._fuzzyScoreOptions);if(!p)continue;d.score=p}}d.idx=c,d.distance=this._wordDistance.distance(d.position,d.completion),a.push(d),t.push(d.textLabel.length)}this._filteredItems=a.sort(this._snippetCompareFn),this._refilterKind=0,this._stats={pLabelLen:t.length?$W(t.length-.85,t,(c,d)=>c-d):0}}static _compareCompletionItems(t,e){return t.score[0]>e.score[0]?-1:t.score[0]<e.score[0]?1:t.distance<e.distance?-1:t.distance>e.distance?1:t.idx<e.idx?-1:t.idx>e.idx?1:0}static _compareCompletionItemsSnippetsDown(t,e){if(t.completion.kind!==e.completion.kind){if(t.completion.kind===27)return 1;if(e.completion.kind===27)return-1}return n._compareCompletionItems(t,e)}static _compareCompletionItemsSnippetsUp(t,e){if(t.completion.kind!==e.completion.kind){if(t.completion.kind===27)return-1;if(e.completion.kind===27)return 1}return n._compareCompletionItems(t,e)}};Lt();_c();io();yce();var aye=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},uu=function(n,t){return function(e,i){t(e,i,n)}},kF,Vc=class{static shouldAutoTrigger(t){if(!t.hasModel())return!1;let e=t.getModel(),i=t.getPosition();e.tokenization.tokenizeIfCheap(i.lineNumber);let o=e.getWordAtPosition(i);return!(!o||o.endColumn!==i.column&&o.startColumn+1!==i.column||!isNaN(Number(o.word)))}constructor(t,e,i){this.leadingLineContent=t.getLineContent(e.lineNumber).substr(0,e.column-1),this.leadingWord=t.getWordUntilPosition(e),this.lineNumber=e.lineNumber,this.column=e.column,this.triggerOptions=i}};function lye(n,t,e){if(!t.getContextKeyValue(jo.inlineSuggestionVisible.key))return!0;let i=t.getContextKeyValue(jo.suppressSuggestions.key);return i!==void 0?!i:!n.getOption(62).suppressSuggestions}function cye(n,t,e){if(!t.getContextKeyValue("inlineSuggestionVisible"))return!0;let i=t.getContextKeyValue(jo.suppressSuggestions.key);return i!==void 0?!i:!n.getOption(62).suppressSuggestions}var pg=kF=class{constructor(t,e,i,o,r,s,a,l,c){this._editor=t,this._editorWorkerService=e,this._clipboardService=i,this._telemetryService=o,this._logService=r,this._contextKeyService=s,this._configurationService=a,this._languageFeaturesService=l,this._envService=c,this._toDispose=new G,this._triggerCharacterListener=new G,this._triggerQuickSuggest=new al,this._triggerState=void 0,this._completionDisposables=new G,this._onDidCancel=new je,this._onDidTrigger=new je,this._onDidSuggest=new je,this.onDidCancel=this._onDidCancel.event,this.onDidTrigger=this._onDidTrigger.event,this.onDidSuggest=this._onDidSuggest.event,this._telemetryGate=0,this._currentSelection=this._editor.getSelection()||new ze(1,1,1,1),this._toDispose.add(this._editor.onDidChangeModel(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeModelLanguage(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeConfiguration(()=>{this._updateTriggerCharacters()})),this._toDispose.add(this._languageFeaturesService.completionProvider.onDidChange(()=>{this._updateTriggerCharacters(),this._updateActiveSuggestSession()}));let d=!1;this._toDispose.add(this._editor.onDidCompositionStart(()=>{d=!0})),this._toDispose.add(this._editor.onDidCompositionEnd(()=>{d=!1,this._onCompositionEnd()})),this._toDispose.add(this._editor.onDidChangeCursorSelection(u=>{d||this._onCursorChange(u)})),this._toDispose.add(this._editor.onDidChangeModelContent(()=>{!d&&this._triggerState!==void 0&&this._refilterCompletionItems()})),this._updateTriggerCharacters()}dispose(){cn(this._triggerCharacterListener),cn([this._onDidCancel,this._onDidSuggest,this._onDidTrigger,this._triggerQuickSuggest]),this._toDispose.dispose(),this._completionDisposables.dispose(),this.cancel()}_updateTriggerCharacters(){if(this._triggerCharacterListener.clear(),this._editor.getOption(92)||!this._editor.hasModel()||!this._editor.getOption(122))return;let t=new Map;for(let i of this._languageFeaturesService.completionProvider.all(this._editor.getModel()))for(let o of i.triggerCharacters||[]){let r=t.get(o);if(!r){r=new Set;let s=OK();s&&r.add(s),t.set(o,r)}r.add(i)}let e=i=>{if(!cye(this._editor,this._contextKeyService,this._configurationService)||Vc.shouldAutoTrigger(this._editor))return;if(!i){let s=this._editor.getPosition();i=this._editor.getModel().getLineContent(s.lineNumber).substr(0,s.column-1)}let o="";Cj(i.charCodeAt(i.length-1))?wj(i.charCodeAt(i.length-2))&&(o=i.substr(i.length-2)):o=i.charAt(i.length-1);let r=t.get(o);if(r){let s=new Map;if(this._completionModel)for(let[a,l]of this._completionModel.getItemsByProvider())r.has(a)||s.set(a,l);this.trigger({auto:!0,triggerKind:1,triggerCharacter:o,retrigger:!!this._completionModel,clipboardText:this._completionModel?.clipboardText,completionOptions:{providerFilter:r,providerItemsToReuse:s}})}};this._triggerCharacterListener.add(this._editor.onDidType(e)),this._triggerCharacterListener.add(this._editor.onDidCompositionEnd(()=>e()))}get state(){return this._triggerState?this._triggerState.auto?2:1:0}cancel(t=!1){this._triggerState!==void 0&&(this._triggerQuickSuggest.cancel(),this._requestToken?.cancel(),this._requestToken=void 0,this._triggerState=void 0,this._completionModel=void 0,this._context=void 0,this._onDidCancel.fire({retrigger:t}))}clear(){this._completionDisposables.clear()}_updateActiveSuggestSession(){this._triggerState!==void 0&&(!this._editor.hasModel()||!this._languageFeaturesService.completionProvider.has(this._editor.getModel())?this.cancel():this.trigger({auto:this._triggerState.auto,retrigger:!0}))}_onCursorChange(t){if(!this._editor.hasModel())return;let e=this._currentSelection;if(this._currentSelection=this._editor.getSelection(),!t.selection.isEmpty()||t.reason!==0&&t.reason!==3||t.source!=="keyboard"&&t.source!=="deleteLeft"){this.cancel();return}this._triggerState===void 0&&t.reason===0?(e.containsRange(this._currentSelection)||e.getEndPosition().isBeforeOrEqual(this._currentSelection.getPosition()))&&this._doTriggerQuickSuggest():this._triggerState!==void 0&&t.reason===3&&this._refilterCompletionItems()}_onCompositionEnd(){this._triggerState===void 0?this._doTriggerQuickSuggest():this._refilterCompletionItems()}_doTriggerQuickSuggest(){Fl.isAllOff(this._editor.getOption(90))||this._editor.getOption(119).snippetsPreventQuickSuggestions&&Co.get(this._editor)?.isInSnippet()||(this.cancel(),this._triggerQuickSuggest.cancelAndSet(()=>{if(this._triggerState!==void 0||!Vc.shouldAutoTrigger(this._editor)||!this._editor.hasModel()||!this._editor.hasWidgetFocus())return;let t=this._editor.getModel(),e=this._editor.getPosition(),i=this._editor.getOption(90);if(!Fl.isAllOff(i)){if(!Fl.isAllOn(i)){t.tokenization.tokenizeIfCheap(e.lineNumber);let o=t.tokenization.getLineTokens(e.lineNumber),r=o.getStandardTokenType(o.findTokenIndexAtOffset(Math.max(e.column-1-1,0)));if(Fl.valueFor(i,r)!=="on")return}lye(this._editor,this._contextKeyService,this._configurationService)&&this._languageFeaturesService.completionProvider.has(t)&&this.trigger({auto:!0})}},this._editor.getOption(91)))}_refilterCompletionItems(){Tt(this._editor.hasModel()),Tt(this._triggerState!==void 0);let t=this._editor.getModel(),e=this._editor.getPosition(),i=new Vc(t,e,Te(j({},this._triggerState),{refilter:!0}));this._onNewContext(i)}trigger(t){if(!this._editor.hasModel())return;let e=this._editor.getModel(),i=new Vc(e,this._editor.getPosition(),t);this.cancel(t.retrigger),this._triggerState=t,this._onDidTrigger.fire({auto:t.auto,shy:t.shy??!1,position:this._editor.getPosition()}),this._context=i;let o={triggerKind:t.triggerKind??0};t.triggerCharacter&&(o={triggerKind:1,triggerCharacter:t.triggerCharacter}),this._requestToken=new fi;let r=this._editor.getOption(113),s=1;switch(r){case"top":s=0;break;case"bottom":s=2;break}let{itemKind:a,showDeprecated:l}=kF.createSuggestFilter(this._editor),c=new hm(s,t.completionOptions?.kindFilter??a,t.completionOptions?.providerFilter,t.completionOptions?.providerItemsToReuse,l),d=hg.create(this._editorWorkerService,this._editor),u=Qb(this._languageFeaturesService.completionProvider,e,this._editor.getPosition(),c,o,this._requestToken.token);Promise.all([u,d]).then(f=>k(this,[f],function*([h,m]){if(this._requestToken?.dispose(),!this._editor.hasModel())return;let p=t?.clipboardText;if(!p&&h.needsClipboard&&(p=yield this._clipboardService.readText()),this._triggerState===void 0)return;let g=this._editor.getModel(),v=new Vc(g,this._editor.getPosition(),t),b=Te(j({},dw.default),{firstMatchCanBeWeak:!this._editor.getOption(119).matchOnWordStartOnly});if(this._completionModel=new mg(h.items,this._context.column,{leadingLineContent:v.leadingLineContent,characterCountDelta:v.column-this._context.column},m,this._editor.getOption(119),this._editor.getOption(113),b,p),this._completionDisposables.add(h.disposable),this._onNewContext(v),this._reportDurationsTelemetry(h.durations),!this._envService.isBuilt||this._envService.isExtensionDevelopment)for(let C of h.items)C.isInvalid&&this._logService.warn(`[suggest] did IGNORE invalid completion item from ${C.provider._debugDisplayName}`,C.completion)})).catch(ut)}_reportDurationsTelemetry(t){this._telemetryGate++%230===0&&setTimeout(()=>{this._telemetryService.publicLog2("suggest.durations.json",{data:JSON.stringify(t)}),this._logService.debug("suggest.durations.json",t)})}static createSuggestFilter(t){let e=new Set;t.getOption(113)==="none"&&e.add(27);let o=t.getOption(119);return o.showMethods||e.add(0),o.showFunctions||e.add(1),o.showConstructors||e.add(2),o.showFields||e.add(3),o.showVariables||e.add(4),o.showClasses||e.add(5),o.showStructs||e.add(6),o.showInterfaces||e.add(7),o.showModules||e.add(8),o.showProperties||e.add(9),o.showEvents||e.add(10),o.showOperators||e.add(11),o.showUnits||e.add(12),o.showValues||e.add(13),o.showConstants||e.add(14),o.showEnums||e.add(15),o.showEnumMembers||e.add(16),o.showKeywords||e.add(17),o.showWords||e.add(18),o.showColors||e.add(19),o.showFiles||e.add(20),o.showReferences||e.add(21),o.showColors||e.add(22),o.showFolders||e.add(23),o.showTypeParameters||e.add(24),o.showSnippets||e.add(27),o.showUsers||e.add(25),o.showIssues||e.add(26),{itemKind:e,showDeprecated:o.showDeprecated}}_onNewContext(t){if(this._context){if(t.lineNumber!==this._context.lineNumber){this.cancel();return}if(un(t.leadingLineContent)!==un(this._context.leadingLineContent)){this.cancel();return}if(t.column<this._context.column){t.leadingWord.word?this.trigger({auto:this._context.triggerOptions.auto,retrigger:!0}):this.cancel();return}if(this._completionModel){if(t.leadingWord.word.length!==0&&t.leadingWord.startColumn>this._context.leadingWord.startColumn){if(Vc.shouldAutoTrigger(this._editor)&&this._context){let i=this._completionModel.getItemsByProvider();this.trigger({auto:this._context.triggerOptions.auto,retrigger:!0,clipboardText:this._completionModel.clipboardText,completionOptions:{providerItemsToReuse:i}})}return}if(t.column>this._context.column&&this._completionModel.getIncompleteProvider().size>0&&t.leadingWord.word.length!==0){let e=new Map,i=new Set;for(let[o,r]of this._completionModel.getItemsByProvider())r.length>0&&r[0].container.incomplete?i.add(o):e.set(o,r);this.trigger({auto:this._context.triggerOptions.auto,triggerKind:2,retrigger:!0,clipboardText:this._completionModel.clipboardText,completionOptions:{providerFilter:i,providerItemsToReuse:e}})}else{let e=this._completionModel.lineContext,i=!1;if(this._completionModel.lineContext={leadingLineContent:t.leadingLineContent,characterCountDelta:t.column-this._context.column},this._completionModel.items.length===0){let o=Vc.shouldAutoTrigger(this._editor);if(!this._context){this.cancel();return}if(o&&this._context.leadingWord.endColumn<t.leadingWord.startColumn){this.trigger({auto:this._context.triggerOptions.auto,retrigger:!0});return}if(this._context.triggerOptions.auto){this.cancel();return}else if(this._completionModel.lineContext=e,i=this._completionModel.items.length>0,i&&t.leadingWord.word.length===0){this.cancel();return}}this._onDidSuggest.fire({completionModel:this._completionModel,triggerOptions:t.triggerOptions,isFrozen:i})}}}}};pg=kF=aye([uu(1,gr),uu(2,Oa),uu(3,jn),uu(4,ds),uu(5,Xe),uu(6,_t),uu(7,ae),uu(8,u4)],pg);ce();var BK=(()=>{class n{static{this._maxSelectionLength=51200}constructor(e,i){this._disposables=new G,this._lastOvertyped=[],this._locked=!1,this._disposables.add(e.onWillType(()=>{if(this._locked||!e.hasModel())return;let o=e.getSelections(),r=o.length,s=!1;for(let l=0;l<r;l++)if(!o[l].isEmpty()){s=!0;break}if(!s){this._lastOvertyped.length!==0&&(this._lastOvertyped.length=0);return}this._lastOvertyped=[];let a=e.getModel();for(let l=0;l<r;l++){let c=o[l];if(a.getValueLengthInRange(c)>n._maxSelectionLength)return;this._lastOvertyped[l]={value:a.getValueInRange(c),multiline:c.startLineNumber!==c.endLineNumber}}})),this._disposables.add(i.onDidTrigger(o=>{this._locked=!0})),this._disposables.add(i.onDidCancel(o=>{this._locked=!1}))}getLastOvertypedInfo(e){if(e>=0&&e<this._lastOvertyped.length)return this._lastOvertyped[e]}dispose(){this._disposables.dispose()}}return n})();gt();Ht();Bt();oi();ce();bce();Fi();gt();ce();$i();mt();Ot();var dye=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},MF=function(n,t){return function(e,i){t(e,i,n)}},nE=class{constructor(t,e,i,o,r){this._menuId=e,this._menuService=o,this._contextKeyService=r,this._menuDisposables=new G,this.element=we(t,ye(".suggest-status-bar"));let s=a=>a instanceof ul?i.createInstance(H5,a,{useComma:!0}):void 0;this._leftActions=new xc(this.element,{actionViewItemProvider:s}),this._rightActions=new xc(this.element,{actionViewItemProvider:s}),this._leftActions.domNode.classList.add("left"),this._rightActions.domNode.classList.add("right")}dispose(){this._menuDisposables.dispose(),this._leftActions.dispose(),this._rightActions.dispose(),this.element.remove()}show(){let t=this._menuService.createMenu(this._menuId,this._contextKeyService),e=()=>{let i=[],o=[];for(let[r,s]of t.getActions())r==="left"?i.push(...s):o.push(...s);this._leftActions.clear(),this._leftActions.push(i),this._rightActions.clear(),this._rightActions.push(o)};this._menuDisposables.add(t.onDidChange(()=>e())),this._menuDisposables.add(t)}hide(){this._menuDisposables.clear()}};nE=dye([MF(2,De),MF(3,Ns),MF(4,Xe)],nE);Ae();mt();Ot();Eo();Kx();Do();gt();Vn();Zo();oi();Hs();ce();Ae();Ot();var uye=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},hye=function(n,t){return function(e,i){t(e,i,n)}};function hy(n){return!!n&&!!(n.completion.documentation||n.completion.detail&&n.completion.detail!==n.completion.label)}var oE=class{constructor(t,e){this._editor=t,this._onDidClose=new je,this.onDidClose=this._onDidClose.event,this._onDidChangeContents=new je,this.onDidChangeContents=this._onDidChangeContents.event,this._disposables=new G,this._renderDisposeable=new G,this._borderWidth=1,this._size=new ai(330,0),this.domNode=ye(".suggest-details"),this.domNode.classList.add("no-docs"),this._markdownRenderer=e.createInstance(Vs,{editor:t}),this._body=ye(".body"),this._scrollbar=new sw(this._body,{alwaysConsumeMouseWheel:!0}),we(this.domNode,this._scrollbar.getDomNode()),this._disposables.add(this._scrollbar),this._header=we(this._body,ye(".header")),this._close=we(this._header,ye("span"+St.asCSSSelector(Ge.close))),this._close.title=_("details.close","Close"),this._type=we(this._header,ye("p.type")),this._docs=we(this._body,ye("p.docs")),this._configureFont(),this._disposables.add(this._editor.onDidChangeConfiguration(i=>{i.hasChanged(50)&&this._configureFont()}))}dispose(){this._disposables.dispose(),this._renderDisposeable.dispose()}_configureFont(){let t=this._editor.getOptions(),e=t.get(50),i=e.getMassagedFontFamily(),o=t.get(120)||e.fontSize,r=t.get(121)||e.lineHeight,s=e.fontWeight,a=`${o}px`,l=`${r}px`;this.domNode.style.fontSize=a,this.domNode.style.lineHeight=`${r/o}`,this.domNode.style.fontWeight=s,this.domNode.style.fontFeatureSettings=e.fontFeatureSettings,this._type.style.fontFamily=i,this._close.style.height=l,this._close.style.width=l}getLayoutInfo(){let t=this._editor.getOption(121)||this._editor.getOption(50).lineHeight,e=this._borderWidth,i=e*2;return{lineHeight:t,borderWidth:e,borderHeight:i,verticalPadding:22,horizontalPadding:14}}renderLoading(){this._type.textContent=_("loading","Loading..."),this._docs.textContent="",this.domNode.classList.remove("no-docs","no-type"),this.layout(this.size.width,this.getLayoutInfo().lineHeight*2),this._onDidChangeContents.fire(this)}renderItem(t,e){this._renderDisposeable.clear();let{detail:i,documentation:o}=t.completion;if(e){let r="";r+=`score: ${t.score[0]}
`,r+=`prefix: ${t.word??"(no prefix)"}
`,r+=`word: ${t.completion.filterText?t.completion.filterText+" (filterText)":t.textLabel}
`,r+=`distance: ${t.distance} (localityBonus-setting)
`,r+=`index: ${t.idx}, based on ${t.completion.sortText&&`sortText: "${t.completion.sortText}"`||"label"}
`,r+=`commit_chars: ${t.completion.commitCharacters?.join("")}
`,o=new hn().appendCodeblock("empty",r),i=`Provider: ${t.provider._debugDisplayName}`}if(!e&&!hy(t)){this.clearContents();return}if(this.domNode.classList.remove("no-docs","no-type"),i){let r=i.length>1e5?`${i.substr(0,1e5)}\u2026`:i;this._type.textContent=r,this._type.title=r,Xo(this._type),this._type.classList.toggle("auto-wrap",!/\r?\n^\s+/gmi.test(r))}else Dr(this._type),this._type.title="",Io(this._type),this.domNode.classList.add("no-type");if(Dr(this._docs),typeof o=="string")this._docs.classList.remove("markdown-docs"),this._docs.textContent=o;else if(o){this._docs.classList.add("markdown-docs"),Dr(this._docs);let r=this._markdownRenderer.render(o);this._docs.appendChild(r.element),this._renderDisposeable.add(r),this._renderDisposeable.add(this._markdownRenderer.onDidRenderAsync(()=>{this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}))}this.domNode.style.userSelect="text",this.domNode.tabIndex=-1,this._close.onmousedown=r=>{r.preventDefault(),r.stopPropagation()},this._close.onclick=r=>{r.preventDefault(),r.stopPropagation(),this._onDidClose.fire()},this._body.scrollTop=0,this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}clearContents(){this.domNode.classList.add("no-docs"),this._type.textContent="",this._docs.textContent=""}get isEmpty(){return this.domNode.classList.contains("no-docs")}get size(){return this._size}layout(t,e){let i=new ai(t,e);ai.equals(i,this._size)||(this._size=i,Fj(this.domNode,t,e)),this._scrollbar.scanDomNode()}scrollDown(t=8){this._body.scrollTop+=t}scrollUp(t=8){this._body.scrollTop-=t}scrollTop(){this._body.scrollTop=0}scrollBottom(){this._body.scrollTop=this._body.scrollHeight}pageDown(){this.scrollDown(80)}pageUp(){this.scrollUp(80)}set borderWidth(t){this._borderWidth=t}get borderWidth(){return this._borderWidth}};oE=uye([hye(1,De)],oE);var rE=class{constructor(t,e){this.widget=t,this._editor=e,this.allowEditorOverflow=!0,this._disposables=new G,this._added=!1,this._preferAlignAtTop=!0,this._resizable=new iu,this._resizable.domNode.classList.add("suggest-details-container"),this._resizable.domNode.appendChild(t.domNode),this._resizable.enableSashes(!1,!0,!0,!1);let i,o,r=0,s=0;this._disposables.add(this._resizable.onDidWillResize(()=>{i=this._topLeft,o=this._resizable.size})),this._disposables.add(this._resizable.onDidResize(a=>{if(i&&o){this.widget.layout(a.dimension.width,a.dimension.height);let l=!1;a.west&&(s=o.width-a.dimension.width,l=!0),a.north&&(r=o.height-a.dimension.height,l=!0),l&&this._applyTopLeft({top:i.top+r,left:i.left+s})}a.done&&(i=void 0,o=void 0,r=0,s=0,this._userSize=a.dimension)})),this._disposables.add(this.widget.onDidChangeContents(()=>{this._anchorBox&&this._placeAtAnchor(this._anchorBox,this._userSize??this.widget.size,this._preferAlignAtTop)}))}dispose(){this._resizable.dispose(),this._disposables.dispose(),this.hide()}getId(){return"suggest.details"}getDomNode(){return this._resizable.domNode}getPosition(){return this._topLeft?{preference:this._topLeft}:null}show(){this._added||(this._editor.addOverlayWidget(this),this._added=!0)}hide(t=!1){this._resizable.clearSashHoverState(),this._added&&(this._editor.removeOverlayWidget(this),this._added=!1,this._anchorBox=void 0,this._topLeft=void 0),t&&(this._userSize=void 0,this.widget.clearContents())}placeAtAnchor(t,e){let i=t.getBoundingClientRect();this._anchorBox=i,this._preferAlignAtTop=e,this._placeAtAnchor(this._anchorBox,this._userSize??this.widget.size,e)}_placeAtAnchor(t,e,i){let o=ll(this.getDomNode().ownerDocument.body),r=this.widget.getLayoutInfo(),s=new ai(220,2*r.lineHeight),a=t.top,l=function(){let E=o.width-(t.left+t.width+r.borderWidth+r.horizontalPadding),F=-r.borderWidth+t.left+t.width,L=new ai(E,o.height-t.top-r.borderHeight-r.verticalPadding),H=L.with(void 0,t.top+t.height-r.borderHeight-r.verticalPadding);return{top:a,left:F,fit:E-e.width,maxSizeTop:L,maxSizeBottom:H,minSize:s.with(Math.min(E,s.width))}}(),c=function(){let E=t.left-r.borderWidth-r.horizontalPadding,F=Math.max(r.horizontalPadding,t.left-e.width-r.borderWidth),L=new ai(E,o.height-t.top-r.borderHeight-r.verticalPadding),H=L.with(void 0,t.top+t.height-r.borderHeight-r.verticalPadding);return{top:a,left:F,fit:E-e.width,maxSizeTop:L,maxSizeBottom:H,minSize:s.with(Math.min(E,s.width))}}(),d=function(){let E=t.left,F=-r.borderWidth+t.top+t.height,L=new ai(t.width-r.borderHeight,o.height-t.top-t.height-r.verticalPadding);return{top:F,left:E,fit:L.height-e.height,maxSizeBottom:L,maxSizeTop:L,minSize:s.with(L.width)}}(),u=[l,c,d],h=u.find(E=>E.fit>=0)??u.sort((E,F)=>F.fit-E.fit)[0],m=t.top+t.height-r.borderHeight,f,p=e.height,g=Math.max(h.maxSizeTop.height,h.maxSizeBottom.height);p>g&&(p=g);let v;i?p<=h.maxSizeTop.height?(f=!0,v=h.maxSizeTop):(f=!1,v=h.maxSizeBottom):p<=h.maxSizeBottom.height?(f=!1,v=h.maxSizeBottom):(f=!0,v=h.maxSizeTop);let{top:b,left:C}=h;!f&&p>t.height&&(b=m-p);let T=this._editor.getDomNode();if(T){let E=T.getBoundingClientRect();b-=E.top,C-=E.left}this._applyTopLeft({left:C,top:b}),this._resizable.enableSashes(!f,h===l,f,h!==l),this._resizable.minSize=h.minSize,this._resizable.maxSize=v,this._resizable.layout(p,Math.min(v.width,e.width)),this.widget.layout(this._resizable.size.width,this._resizable.size.height)}_applyTopLeft(t){this._topLeft=t,this._editor.layoutOverlayWidget(this)}};gt();Vn();Zo();oi();_c();ce();On();gn();oh();Ur();On();qx();var Ua=function(n){return n[n.FILE=0]="FILE",n[n.FOLDER=1]="FOLDER",n[n.ROOT_FOLDER=2]="ROOT_FOLDER",n}(Ua||{});Zo();var mye=/(?:\/|^)(?:([^\/]+)\/)?([^\/]+)$/;function my(n,t,e,i,o){if(St.isThemeIcon(o))return[`codicon-${o.id}`,"predefined-file-icon"];if(ht.isUri(o))return[];let r=i===Ua.ROOT_FOLDER?["rootfolder-icon"]:i===Ua.FOLDER?["folder-icon"]:["file-icon"];if(e){let s;if(e.scheme===Ln.data)s=K_.parseMetaData(e).get(K_.META_DATA_LABEL);else{let a=e.path.match(mye);a?(s=sE(a[2].toLowerCase()),a[1]&&r.push(`${sE(a[1].toLowerCase())}-name-dir-icon`)):s=sE(e.authority.toLowerCase())}if(i===Ua.ROOT_FOLDER)r.push(`${s}-root-name-folder-icon`);else if(i===Ua.FOLDER)r.push(`${s}-name-folder-icon`);else{if(s){if(r.push(`${s}-name-file-icon`),r.push("name-file-icon"),s.length<=255){let l=s.split(".");for(let c=1;c<l.length;c++)r.push(`${l.slice(c).join(".")}-ext-file-icon`)}r.push("ext-file-icon")}let a=pye(n,t,e);a&&r.push(`${sE(a)}-lang-file-icon`)}}return r}function pye(n,t,e){if(!e)return null;let i=null;if(e.scheme===Ln.data){let r=K_.parseMetaData(e).get(K_.META_DATA_MIME);r&&(i=t.getLanguageIdByMimeType(r))}else{let o=n.getModel(e);o&&(i=o.getLanguageId())}return i&&i!==dc?i:t.guessLanguageIdByFilepathOrFirstLine(e)}function sE(n){return n.replace(/[\s]/g,"/")}ls();Da();Ae();Do();var fye=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},TF=function(n,t){return function(e,i){t(e,i,n)}};function RF(n){return`suggest-aria-id:${n}`}var gye=Ii("suggest-more-info",Ge.chevronRight,_("suggestMoreInfoIcon","Icon for more information in the suggest widget.")),_ye=new class py{static{this._regexRelaxed=/(#([\da-fA-F]{3}){1,2}|(rgb|hsl)a\(\s*(\d{1,3}%?\s*,\s*){3}(1|0?\.\d+)\)|(rgb|hsl)\(\s*\d{1,3}%?(\s*,\s*\d{1,3}%?){2}\s*\))/}static{this._regexStrict=new RegExp(`^${py._regexRelaxed.source}$`,"i")}extract(t,e){if(t.textLabel.match(py._regexStrict))return e[0]=t.textLabel,!0;if(t.completion.detail&&t.completion.detail.match(py._regexStrict))return e[0]=t.completion.detail,!0;if(t.completion.documentation){let i=typeof t.completion.documentation=="string"?t.completion.documentation:t.completion.documentation.value,o=py._regexRelaxed.exec(i);if(o&&(o.index===0||o.index+o[0].length===i.length))return e[0]=o[0],!0}return!1}},aE=class{constructor(t,e,i,o){this._editor=t,this._modelService=e,this._languageService=i,this._themeService=o,this._onDidToggleDetails=new je,this.onDidToggleDetails=this._onDidToggleDetails.event,this.templateId="suggestion"}dispose(){this._onDidToggleDetails.dispose()}renderTemplate(t){let e=new G,i=t;i.classList.add("show-file-icons");let o=we(t,ye(".icon")),r=we(o,ye("span.colorspan")),s=we(t,ye(".contents")),a=we(s,ye(".main")),l=we(a,ye(".icon-label.codicon")),c=we(a,ye("span.left")),d=we(a,ye("span.right")),u=new Ew(c,{supportHighlights:!0,supportIcons:!0});e.add(u);let h=we(c,ye("span.signature-label")),m=we(c,ye("span.qualifier-label")),f=we(d,ye("span.details-label")),p=we(d,ye("span.readMore"+St.asCSSSelector(gye)));return p.title=_("readMore","Read More"),{root:i,left:c,right:d,icon:o,colorspan:r,iconLabel:u,iconContainer:l,parametersLabel:h,qualifierLabel:m,detailsLabel:f,readMore:p,disposables:e,configureFont:()=>{let v=this._editor.getOptions(),b=v.get(50),C=b.getMassagedFontFamily(),T=b.fontFeatureSettings,E=v.get(120)||b.fontSize,F=v.get(121)||b.lineHeight,L=b.fontWeight,H=b.letterSpacing,re=`${E}px`,R=`${F}px`,W=`${H}px`;i.style.fontSize=re,i.style.fontWeight=L,i.style.letterSpacing=W,a.style.fontFamily=C,a.style.fontFeatureSettings=T,a.style.lineHeight=R,o.style.height=R,o.style.width=R,p.style.height=R,p.style.width=R}}}renderElement(t,e,i){i.configureFont();let{completion:o}=t;i.root.id=RF(e),i.colorspan.style.backgroundColor="";let r={labelEscapeNewLines:!0,matches:hh(t.score)},s=[];if(o.kind===19&&_ye.extract(t,s))i.icon.className="icon customcolor",i.iconContainer.className="icon hide",i.colorspan.style.backgroundColor=s[0];else if(o.kind===20&&this._themeService.getFileIconTheme().hasFileIcons){i.icon.className="icon hide",i.iconContainer.className="icon hide";let a=my(this._modelService,this._languageService,ht.from({scheme:"fake",path:t.textLabel}),Ua.FILE),l=my(this._modelService,this._languageService,ht.from({scheme:"fake",path:o.detail}),Ua.FILE);r.extraClasses=a.length>l.length?a:l}else o.kind===23&&this._themeService.getFileIconTheme().hasFolderIcons?(i.icon.className="icon hide",i.iconContainer.className="icon hide",r.extraClasses=[my(this._modelService,this._languageService,ht.from({scheme:"fake",path:t.textLabel}),Ua.FOLDER),my(this._modelService,this._languageService,ht.from({scheme:"fake",path:o.detail}),Ua.FOLDER)].flat()):(i.icon.className="icon hide",i.iconContainer.className="",i.iconContainer.classList.add("suggest-icon",...St.asClassNameArray(P_.toIcon(o.kind))));o.tags&&o.tags.indexOf(1)>=0&&(r.extraClasses=(r.extraClasses||[]).concat(["deprecated"]),r.matches=[]),i.iconLabel.setLabel(t.textLabel,void 0,r),typeof o.label=="string"?(i.parametersLabel.textContent="",i.detailsLabel.textContent=AF(o.detail||""),i.root.classList.add("string-label")):(i.parametersLabel.textContent=AF(o.label.detail||""),i.detailsLabel.textContent=AF(o.label.description||""),i.root.classList.remove("string-label")),this._editor.getOption(119).showInlineDetails?Xo(i.detailsLabel):Io(i.detailsLabel),hy(t)?(i.right.classList.add("can-expand-details"),Xo(i.readMore),i.readMore.onmousedown=a=>{a.stopPropagation(),a.preventDefault()},i.readMore.onclick=a=>{a.stopPropagation(),a.preventDefault(),this._onDidToggleDetails.fire()}):(i.right.classList.remove("can-expand-details"),Io(i.readMore),i.readMore.onmousedown=null,i.readMore.onclick=null)}disposeTemplate(t){t.disposables.dispose()}};aE=fye([TF(1,ji),TF(2,Un),TF(3,qn)],aE);function AF(n){return n.replace(/\r\n|\r|\n/g,"")}var vye=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},lE=function(n,t){return function(e,i){t(e,i,n)}},fg;Oe("editorSuggestWidget.background",Zx,_("editorSuggestWidgetBackground","Background color of the suggest widget."));Oe("editorSuggestWidget.border",_4,_("editorSuggestWidgetBorder","Border color of the suggest widget."));var bye=Oe("editorSuggestWidget.foreground",uh,_("editorSuggestWidgetForeground","Foreground color of the suggest widget."));Oe("editorSuggestWidget.selectedForeground",nw,_("editorSuggestWidgetSelectedForeground","Foreground color of the selected entry in the suggest widget."));Oe("editorSuggestWidget.selectedIconForeground",V4,_("editorSuggestWidgetSelectedIconForeground","Icon foreground color of the selected entry in the suggest widget."));var yye=Oe("editorSuggestWidget.selectedBackground",ow,_("editorSuggestWidgetSelectedBackground","Background color of the selected entry in the suggest widget."));Oe("editorSuggestWidget.highlightForeground",iw,_("editorSuggestWidgetHighlightForeground","Color of the match highlights in the suggest widget."));Oe("editorSuggestWidget.focusHighlightForeground",H4,_("editorSuggestWidgetFocusHighlightForeground","Color of the match highlights in the suggest widget when an item is focused."));Oe("editorSuggestWidgetStatus.foreground",us(bye,.5),_("editorSuggestWidgetStatusForeground","Foreground color of the suggest widget status."));var OF=class{constructor(t,e){this._service=t,this._key=`suggestWidget.size/${e.getEditorType()}/${e instanceof yo}`}restore(){let t=this._service.get(this._key,0)??"";try{let e=JSON.parse(t);if(ai.is(e))return ai.lift(e)}catch{}}store(t){this._service.store(this._key,JSON.stringify(t),0,1)}reset(){this._service.remove(this._key,0)}},cE=class{static{fg=this}static{this.LOADING_MESSAGE=_("suggestWidget.loading","Loading...")}static{this.NO_SUGGESTIONS_MESSAGE=_("suggestWidget.noSuggestions","No suggestions.")}constructor(t,e,i,o,r){this.editor=t,this._storageService=e,this._state=0,this._isAuto=!1,this._pendingLayout=new dn,this._pendingShowDetails=new dn,this._ignoreFocusEvents=!1,this._forceRenderingAbove=!1,this._explainMode=!1,this._showTimeout=new al,this._disposables=new G,this._onDidSelect=new YT,this._onDidFocus=new YT,this._onDidHide=new je,this._onDidShow=new je,this.onDidSelect=this._onDidSelect.event,this.onDidFocus=this._onDidFocus.event,this.onDidHide=this._onDidHide.event,this.onDidShow=this._onDidShow.event,this._onDetailsKeydown=new je,this.onDetailsKeyDown=this._onDetailsKeydown.event,this.element=new iu,this.element.domNode.classList.add("editor-widget","suggest-widget"),this._contentWidget=new PF(this,t),this._persistedSize=new OF(e,t);class s{constructor(m,f,p=!1,g=!1){this.persistedSize=m,this.currentSize=f,this.persistHeight=p,this.persistWidth=g}}let a;this._disposables.add(this.element.onDidWillResize(()=>{this._contentWidget.lockPreference(),a=new s(this._persistedSize.restore(),this.element.size)})),this._disposables.add(this.element.onDidResize(h=>{if(this._resize(h.dimension.width,h.dimension.height),a&&(a.persistHeight=a.persistHeight||!!h.north||!!h.south,a.persistWidth=a.persistWidth||!!h.east||!!h.west),!!h.done){if(a){let{itemHeight:m,defaultSize:f}=this.getLayoutInfo(),p=Math.round(m/2),{width:g,height:v}=this.element.size;(!a.persistHeight||Math.abs(a.currentSize.height-v)<=p)&&(v=a.persistedSize?.height??f.height),(!a.persistWidth||Math.abs(a.currentSize.width-g)<=p)&&(g=a.persistedSize?.width??f.width),this._persistedSize.store(new ai(g,v))}this._contentWidget.unlockPreference(),a=void 0}})),this._messageElement=we(this.element.domNode,ye(".message")),this._listElement=we(this.element.domNode,ye(".tree"));let l=this._disposables.add(r.createInstance(oE,this.editor));l.onDidClose(this.toggleDetails,this,this._disposables),this._details=new rE(l,this.editor);let c=()=>this.element.domNode.classList.toggle("no-icons",!this.editor.getOption(119).showIcons);c();let d=r.createInstance(aE,this.editor);this._disposables.add(d),this._disposables.add(d.onDidToggleDetails(()=>this.toggleDetails())),this._list=new xp("SuggestWidget",this._listElement,{getHeight:h=>this.getLayoutInfo().itemHeight,getTemplateId:h=>"suggestion"},[d],{alwaysConsumeMouseWheel:!0,useShadows:!1,mouseSupport:!1,multipleSelectionSupport:!1,accessibilityProvider:{getRole:()=>"option",getWidgetAriaLabel:()=>_("suggest","Suggest"),getWidgetRole:()=>"listbox",getAriaLabel:h=>{let m=h.textLabel;if(typeof h.completion.label!="string"){let{detail:v,description:b}=h.completion.label;v&&b?m=_("label.full","{0} {1}, {2}",m,v,b):v?m=_("label.detail","{0} {1}",m,v):b&&(m=_("label.desc","{0}, {1}",m,b))}if(!h.isResolved||!this._isDetailsVisible())return m;let{documentation:f,detail:p}=h.completion,g=ap("{0}{1}",p||"",f?typeof f=="string"?f:f.value:"");return _("ariaCurrenttSuggestionReadDetails","{0}, docs: {1}",m,g)}}}),this._list.style(ww({listInactiveFocusBackground:yye,listInactiveFocusOutline:fl})),this._status=r.createInstance(nE,this.element.domNode,zl);let u=()=>this.element.domNode.classList.toggle("with-status-bar",this.editor.getOption(119).showStatusBar);u(),this._disposables.add(o.onDidColorThemeChange(h=>this._onThemeChange(h))),this._onThemeChange(o.getColorTheme()),this._disposables.add(this._list.onMouseDown(h=>this._onListMouseDownOrTap(h))),this._disposables.add(this._list.onTap(h=>this._onListMouseDownOrTap(h))),this._disposables.add(this._list.onDidChangeSelection(h=>this._onListSelection(h))),this._disposables.add(this._list.onDidChangeFocus(h=>this._onListFocus(h))),this._disposables.add(this.editor.onDidChangeCursorSelection(()=>this._onCursorSelectionChanged())),this._disposables.add(this.editor.onDidChangeConfiguration(h=>{h.hasChanged(119)&&(u(),c()),this._completionModel&&(h.hasChanged(50)||h.hasChanged(120)||h.hasChanged(121))&&this._list.splice(0,this._list.length,this._completionModel.items)})),this._ctxSuggestWidgetVisible=lt.Visible.bindTo(i),this._ctxSuggestWidgetDetailsVisible=lt.DetailsVisible.bindTo(i),this._ctxSuggestWidgetMultipleSuggestions=lt.MultipleSuggestions.bindTo(i),this._ctxSuggestWidgetHasFocusedSuggestion=lt.HasFocusedSuggestion.bindTo(i),this._disposables.add(mr(this._details.widget.domNode,"keydown",h=>{this._onDetailsKeydown.fire(h)})),this._disposables.add(this.editor.onMouseDown(h=>this._onEditorMouseDown(h)))}dispose(){this._details.widget.dispose(),this._details.dispose(),this._list.dispose(),this._status.dispose(),this._disposables.dispose(),this._loadingTimeout?.dispose(),this._pendingLayout.dispose(),this._pendingShowDetails.dispose(),this._showTimeout.dispose(),this._contentWidget.dispose(),this.element.dispose()}_onEditorMouseDown(t){this._details.widget.domNode.contains(t.target.element)?this._details.widget.domNode.focus():this.element.domNode.contains(t.target.element)&&this.editor.focus()}_onCursorSelectionChanged(){this._state!==0&&this._contentWidget.layout()}_onListMouseDownOrTap(t){typeof t.element>"u"||typeof t.index>"u"||(t.browserEvent.preventDefault(),t.browserEvent.stopPropagation(),this._select(t.element,t.index))}_onListSelection(t){t.elements.length&&this._select(t.elements[0],t.indexes[0])}_select(t,e){let i=this._completionModel;i&&(this._onDidSelect.fire({item:t,index:e,model:i}),this.editor.focus())}_onThemeChange(t){this._details.widget.borderWidth=mc(t.type)?2:1}_onListFocus(t){if(this._ignoreFocusEvents)return;if(!t.elements.length){this._currentSuggestionDetails&&(this._currentSuggestionDetails.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=void 0),this.editor.setAriaOptions({activeDescendant:void 0}),this._ctxSuggestWidgetHasFocusedSuggestion.set(!1);return}if(!this._completionModel)return;this._ctxSuggestWidgetHasFocusedSuggestion.set(!0);let e=t.elements[0],i=t.indexes[0];e!==this._focusedItem&&(this._currentSuggestionDetails?.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=e,this._list.reveal(i),this._currentSuggestionDetails=yi(o=>k(this,null,function*(){let r=sc(()=>{this._isDetailsVisible()&&this.showDetails(!0)},250),s=o.onCancellationRequested(()=>r.dispose());try{return yield e.resolve(o)}finally{r.dispose(),s.dispose()}})),this._currentSuggestionDetails.then(()=>{i>=this._list.length||e!==this._list.element(i)||(this._ignoreFocusEvents=!0,this._list.splice(i,1,[e]),this._list.setFocus([i]),this._ignoreFocusEvents=!1,this._isDetailsVisible()?this.showDetails(!1):this.element.domNode.classList.remove("docs-side"),this.editor.setAriaOptions({activeDescendant:RF(i)}))}).catch(ut)),this._onDidFocus.fire({item:e,index:i,model:this._completionModel})}_setState(t){if(this._state!==t)switch(this._state=t,this.element.domNode.classList.toggle("frozen",t===4),this.element.domNode.classList.remove("message"),t){case 0:Io(this._messageElement,this._listElement,this._status.element),this._details.hide(!0),this._status.hide(),this._contentWidget.hide(),this._ctxSuggestWidgetVisible.reset(),this._ctxSuggestWidgetMultipleSuggestions.reset(),this._ctxSuggestWidgetHasFocusedSuggestion.reset(),this._showTimeout.cancel(),this.element.domNode.classList.remove("visible"),this._list.splice(0,this._list.length),this._focusedItem=void 0,this._cappedHeight=void 0,this._explainMode=!1;break;case 1:this.element.domNode.classList.add("message"),this._messageElement.textContent=fg.LOADING_MESSAGE,Io(this._listElement,this._status.element),Xo(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0,Ta(fg.LOADING_MESSAGE);break;case 2:this.element.domNode.classList.add("message"),this._messageElement.textContent=fg.NO_SUGGESTIONS_MESSAGE,Io(this._listElement,this._status.element),Xo(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0,Ta(fg.NO_SUGGESTIONS_MESSAGE);break;case 3:Io(this._messageElement),Xo(this._listElement,this._status.element),this._show();break;case 4:Io(this._messageElement),Xo(this._listElement,this._status.element),this._show();break;case 5:Io(this._messageElement),Xo(this._listElement,this._status.element),this._details.show(),this._show();break}}_show(){this._status.show(),this._contentWidget.show(),this._layout(this._persistedSize.restore()),this._ctxSuggestWidgetVisible.set(!0),this._showTimeout.cancelAndSet(()=>{this.element.domNode.classList.add("visible"),this._onDidShow.fire(this)},100)}showTriggered(t,e){this._state===0&&(this._contentWidget.setPosition(this.editor.getPosition()),this._isAuto=!!t,this._isAuto||(this._loadingTimeout=sc(()=>this._setState(1),e)))}showSuggestions(t,e,i,o,r){if(this._contentWidget.setPosition(this.editor.getPosition()),this._loadingTimeout?.dispose(),this._currentSuggestionDetails?.cancel(),this._currentSuggestionDetails=void 0,this._completionModel!==t&&(this._completionModel=t),i&&this._state!==2&&this._state!==0){this._setState(4);return}let s=this._completionModel.items.length,a=s===0;if(this._ctxSuggestWidgetMultipleSuggestions.set(s>1),a){this._setState(o?0:2),this._completionModel=void 0;return}this._focusedItem=void 0,this._onDidFocus.pause(),this._onDidSelect.pause();try{this._list.splice(0,this._list.length,this._completionModel.items),this._setState(i?4:3),this._list.reveal(e,0),this._list.setFocus(r?[]:[e])}finally{this._onDidFocus.resume(),this._onDidSelect.resume()}this._pendingLayout.value=oA(Ca(this.element.domNode),()=>{this._pendingLayout.clear(),this._layout(this.element.size),this._details.widget.domNode.classList.remove("focused")})}focusSelected(){this._list.length>0&&this._list.setFocus([0])}selectNextPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageDown(),!0;case 1:return!this._isAuto;default:return this._list.focusNextPage(),!0}}selectNext(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusNext(1,!0),!0}}selectLast(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollBottom(),!0;case 1:return!this._isAuto;default:return this._list.focusLast(),!0}}selectPreviousPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageUp(),!0;case 1:return!this._isAuto;default:return this._list.focusPreviousPage(),!0}}selectPrevious(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusPrevious(1,!0),!1}}selectFirst(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollTop(),!0;case 1:return!this._isAuto;default:return this._list.focusFirst(),!0}}getFocusedItem(){if(this._state!==0&&this._state!==2&&this._state!==1&&this._completionModel&&this._list.getFocus().length>0)return{item:this._list.getFocusedElements()[0],index:this._list.getFocus()[0],model:this._completionModel}}toggleDetailsFocus(){this._state===5?(this._setState(3),this._details.widget.domNode.classList.remove("focused")):this._state===3&&this._isDetailsVisible()&&(this._setState(5),this._details.widget.domNode.classList.add("focused"))}toggleDetails(){this._isDetailsVisible()?(this._pendingShowDetails.clear(),this._ctxSuggestWidgetDetailsVisible.set(!1),this._setDetailsVisible(!1),this._details.hide(),this.element.domNode.classList.remove("shows-details")):(hy(this._list.getFocusedElements()[0])||this._explainMode)&&(this._state===3||this._state===5||this._state===4)&&(this._ctxSuggestWidgetDetailsVisible.set(!0),this._setDetailsVisible(!0),this.showDetails(!1))}showDetails(t){this._pendingShowDetails.value=oA(Ca(this.element.domNode),()=>{this._pendingShowDetails.clear(),this._details.show(),t?this._details.widget.renderLoading():this._details.widget.renderItem(this._list.getFocusedElements()[0],this._explainMode),this._details.widget.isEmpty?this._details.hide():(this._positionDetails(),this.element.domNode.classList.add("shows-details")),this.editor.focus()})}toggleExplainMode(){this._list.getFocusedElements()[0]&&(this._explainMode=!this._explainMode,this._isDetailsVisible()?this.showDetails(!1):this.toggleDetails())}resetPersistedSize(){this._persistedSize.reset()}hideWidget(){this._pendingLayout.clear(),this._pendingShowDetails.clear(),this._loadingTimeout?.dispose(),this._setState(0),this._onDidHide.fire(this),this.element.clearSashHoverState();let t=this._persistedSize.restore(),e=Math.ceil(this.getLayoutInfo().itemHeight*4.3);t&&t.height<e&&this._persistedSize.store(t.with(void 0,e))}isFrozen(){return this._state===4}_afterRender(t){if(t===null){this._isDetailsVisible()&&this._details.hide();return}this._state===2||this._state===1||(this._isDetailsVisible()&&!this._details.widget.isEmpty&&this._details.show(),this._positionDetails())}_layout(t){if(!this.editor.hasModel()||!this.editor.getDomNode())return;let e=ll(this.element.domNode.ownerDocument.body),i=this.getLayoutInfo();t||(t=i.defaultSize);let o=t.height,r=t.width;if(this._status.element.style.height=`${i.itemHeight}px`,this._state===2||this._state===1)o=i.itemHeight+i.borderHeight,r=i.defaultSize.width/2,this.element.enableSashes(!1,!1,!1,!1),this.element.minSize=this.element.maxSize=new ai(r,o),this._contentWidget.setPreference(2);else{let s=e.width-i.borderHeight-2*i.horizontalPadding;r>s&&(r=s);let a=this._completionModel?this._completionModel.stats.pLabelLen*i.typicalHalfwidthCharacterWidth:r,l=i.statusBarHeight+this._list.contentHeight+i.borderHeight,c=i.itemHeight+i.statusBarHeight,d=Gi(this.editor.getDomNode()),u=this.editor.getScrolledVisiblePosition(this.editor.getPosition()),h=d.top+u.top+u.height,m=Math.min(e.height-h-i.verticalPadding,l),f=d.top+u.top-i.verticalPadding,p=Math.min(f,l),g=Math.min(Math.max(p,m)+i.borderHeight,l);o===this._cappedHeight?.capped&&(o=this._cappedHeight.wanted),o<c&&(o=c),o>g&&(o=g),o>m||this._forceRenderingAbove&&f>150?(this._contentWidget.setPreference(1),this.element.enableSashes(!0,!0,!1,!1),g=p):(this._contentWidget.setPreference(2),this.element.enableSashes(!1,!0,!0,!1),g=m),this.element.preferredSize=new ai(a,i.defaultSize.height),this.element.maxSize=new ai(s,g),this.element.minSize=new ai(220,c),this._cappedHeight=o===l?{wanted:this._cappedHeight?.wanted??t.height,capped:o}:void 0}this._resize(r,o)}_resize(t,e){let{width:i,height:o}=this.element.maxSize;t=Math.min(i,t),e=Math.min(o,e);let{statusBarHeight:r}=this.getLayoutInfo();this._list.layout(e-r,t),this._listElement.style.height=`${e-r}px`,this.element.layout(e,t),this._contentWidget.layout(),this._positionDetails()}_positionDetails(){this._isDetailsVisible()&&this._details.placeAtAnchor(this.element.domNode,this._contentWidget.getPosition()?.preference[0]===2)}getLayoutInfo(){let t=this.editor.getOption(50),e=d4(this.editor.getOption(121)||t.lineHeight,8,1e3),i=!this.editor.getOption(119).showStatusBar||this._state===2||this._state===1?0:e,o=this._details.widget.borderWidth,r=2*o;return{itemHeight:e,statusBarHeight:i,borderWidth:o,borderHeight:r,typicalHalfwidthCharacterWidth:t.typicalHalfwidthCharacterWidth,verticalPadding:22,horizontalPadding:14,defaultSize:new ai(430,i+12*e+r)}}_isDetailsVisible(){return this._storageService.getBoolean("expandSuggestionDocs",0,!1)}_setDetailsVisible(t){this._storageService.store("expandSuggestionDocs",t,0,0)}forceRenderingAbove(){this._forceRenderingAbove||(this._forceRenderingAbove=!0,this._layout(this._persistedSize.restore()))}stopForceRenderingAbove(){this._forceRenderingAbove=!1}};cE=fg=vye([lE(1,Ar),lE(2,Xe),lE(3,qn),lE(4,De)],cE);var PF=class{constructor(t,e){this._widget=t,this._editor=e,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._preferenceLocked=!1,this._added=!1,this._hidden=!1}dispose(){this._added&&(this._added=!1,this._editor.removeContentWidget(this))}getId(){return"editor.widget.suggestWidget"}getDomNode(){return this._widget.element.domNode}show(){this._hidden=!1,this._added||(this._added=!0,this._editor.addContentWidget(this))}hide(){this._hidden||(this._hidden=!0,this.layout())}layout(){this._editor.layoutContentWidget(this)}getPosition(){return this._hidden||!this._position||!this._preference?null:{position:this._position,preference:[this._preference]}}beforeRender(){let{height:t,width:e}=this._widget.element.size,{borderWidth:i,horizontalPadding:o}=this._widget.getLayoutInfo();return new ai(e+2*i+o,t+2*i)}afterRender(t){this._widget._afterRender(t)}setPreference(t){this._preferenceLocked||(this._preference=t)}lockPreference(){this._preferenceLocked=!0}unlockPreference(){this._preferenceLocked=!1}setPosition(t){this._position=t}};Ia();Ur();Rj();gt();bn();var xye=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},gg=function(n,t){return function(e,i){t(e,i,n)}},LF,wye=!1,NF=class{constructor(t,e){if(this._model=t,this._position=e,this._decorationOptions=at.register({description:"suggest-line-suffix",stickiness:1}),t.getLineMaxColumn(e.lineNumber)!==e.column){let o=t.getOffsetAt(e),r=t.getPositionAt(o+1);t.changeDecorations(s=>{this._marker&&s.removeDecoration(this._marker),this._marker=s.addDecoration(A.fromPositions(e,r),this._decorationOptions)})}}dispose(){this._marker&&!this._model.isDisposed()&&this._model.changeDecorations(t=>{t.removeDecoration(this._marker),this._marker=void 0})}delta(t){if(this._model.isDisposed()||this._position.lineNumber!==t.lineNumber)return 0;if(this._marker){let e=this._model.getDecorationRange(this._marker);return this._model.getOffsetAt(e.getStartPosition())-this._model.getOffsetAt(t)}else return this._model.getLineMaxColumn(t.lineNumber)-t.column}},es=class{static{LF=this}static{this.ID="editor.contrib.suggestController"}static get(e){return e.getContribution(LF.ID)}constructor(e,i,o,r,s,a,l){this._memoryService=i,this._commandService=o,this._contextKeyService=r,this._instantiationService=s,this._logService=a,this._telemetryService=l,this._lineSuffix=new dn,this._toDispose=new G,this._selectors=new FF(h=>h.priority),this._onWillInsertSuggestItem=new je,this.onWillInsertSuggestItem=this._onWillInsertSuggestItem.event,this.editor=e,this.model=s.createInstance(pg,this.editor),this._selectors.register({priority:0,select:(h,m,f)=>this._memoryService.select(h,m,f)});let c=lt.InsertMode.bindTo(r);c.set(e.getOption(119).insertMode),this._toDispose.add(this.model.onDidTrigger(()=>c.set(e.getOption(119).insertMode))),this.widget=this._toDispose.add(new zx(Ca(e.getDomNode()),()=>{let h=this._instantiationService.createInstance(cE,this.editor);this._toDispose.add(h),this._toDispose.add(h.onDidSelect(v=>this._insertSuggestion(v,0),this));let m=new tE(this.editor,h,this.model,v=>this._insertSuggestion(v,2));this._toDispose.add(m);let f=lt.MakesTextEdit.bindTo(this._contextKeyService),p=lt.HasInsertAndReplaceRange.bindTo(this._contextKeyService),g=lt.CanResolve.bindTo(this._contextKeyService);return this._toDispose.add(Mt(()=>{f.reset(),p.reset(),g.reset()})),this._toDispose.add(h.onDidFocus(({item:v})=>{let b=this.editor.getPosition(),C=v.editStart.column,T=b.column,E=!0;this.editor.getOption(1)==="smart"&&this.model.state===2&&!v.completion.additionalTextEdits&&!(v.completion.insertTextRules&4)&&T-C===v.completion.insertText.length&&(E=this.editor.getModel().getValueInRange({startLineNumber:b.lineNumber,startColumn:C,endLineNumber:b.lineNumber,endColumn:T})!==v.completion.insertText),f.set(E),p.set(!he.equals(v.editInsertEnd,v.editReplaceEnd)),g.set(!!v.provider.resolveCompletionItem||!!v.completion.documentation||v.completion.detail!==v.completion.label)})),this._toDispose.add(h.onDetailsKeyDown(v=>{if(v.toKeyCodeChord().equals(new nA(!0,!1,!1,!1,33))||dr&&v.toKeyCodeChord().equals(new nA(!1,!1,!1,!0,33))){v.stopPropagation();return}v.toKeyCodeChord().isModifierKey()||this.editor.focus()})),h})),this._overtypingCapturer=this._toDispose.add(new zx(Ca(e.getDomNode()),()=>this._toDispose.add(new BK(this.editor,this.model)))),this._alternatives=this._toDispose.add(new zx(Ca(e.getDomNode()),()=>this._toDispose.add(new mm(this.editor,this._contextKeyService)))),this._toDispose.add(s.createInstance(cy,e)),this._toDispose.add(this.model.onDidTrigger(h=>{this.widget.value.showTriggered(h.auto,h.shy?250:50),this._lineSuffix.value=new NF(this.editor.getModel(),h.position)})),this._toDispose.add(this.model.onDidSuggest(h=>{if(h.triggerOptions.shy)return;let m=-1;for(let p of this._selectors.itemsOrderedByPriorityDesc)if(m=p.select(this.editor.getModel(),this.editor.getPosition(),h.completionModel.items),m!==-1)break;if(m===-1&&(m=0),this.model.state===0)return;let f=!1;if(h.triggerOptions.auto){let p=this.editor.getOption(119);p.selectionMode==="never"||p.selectionMode==="always"?f=p.selectionMode==="never":p.selectionMode==="whenTriggerCharacter"?f=h.triggerOptions.triggerKind!==1:p.selectionMode==="whenQuickSuggestion"&&(f=h.triggerOptions.triggerKind===1&&!h.triggerOptions.refilter)}this.widget.value.showSuggestions(h.completionModel,m,h.isFrozen,h.triggerOptions.auto,f)})),this._toDispose.add(this.model.onDidCancel(h=>{h.retrigger||this.widget.value.hideWidget()})),this._toDispose.add(this.editor.onDidBlurEditorWidget(()=>{wye||(this.model.cancel(),this.model.clear())}));let d=lt.AcceptSuggestionsOnEnter.bindTo(r),u=()=>{let h=this.editor.getOption(1);d.set(h==="on"||h==="smart")};this._toDispose.add(this.editor.onDidChangeConfiguration(()=>u())),u()}dispose(){this._alternatives.dispose(),this._toDispose.dispose(),this.widget.dispose(),this.model.dispose(),this._lineSuffix.dispose(),this._onWillInsertSuggestItem.dispose()}_insertSuggestion(e,i){if(!e||!e.item){this._alternatives.value.reset(),this.model.cancel(),this.model.clear();return}if(!this.editor.hasModel())return;let o=Co.get(this.editor);if(!o)return;this._onWillInsertSuggestItem.fire({item:e.item});let r=this.editor.getModel(),s=r.getAlternativeVersionId(),{item:a}=e,l=[],c=new fi;i&1||this.editor.pushUndoStop();let d=this.getOverwriteInfo(a,!!(i&8));this._memoryService.memorize(r,this.editor.getPosition(),a);let u=a.isResolved,h=-1,m=-1;if(Array.isArray(a.completion.additionalTextEdits)){this.model.cancel();let p=vl.capture(this.editor);this.editor.executeEdits("suggestController.additionalTextEdits.sync",a.completion.additionalTextEdits.map(g=>{let v=A.lift(g.range);if(v.startLineNumber===a.position.lineNumber&&v.startColumn>a.position.column){let b=this.editor.getPosition().column-a.position.column,C=b,T=A.spansMultipleLines(v)?0:b;v=new A(v.startLineNumber,v.startColumn+C,v.endLineNumber,v.endColumn+T)}return mi.replaceMove(v,g.text)})),p.restoreRelativeVerticalPositionOfCursor(this.editor)}else if(!u){let p=new Xi,g,v=r.onDidChangeContent(E=>{if(E.isFlush){c.cancel(),v.dispose();return}for(let F of E.changes){let L=A.getEndPosition(F.range);(!g||he.isBefore(L,g))&&(g=L)}}),b=i;i|=2;let C=!1,T=this.editor.onWillType(()=>{T.dispose(),C=!0,b&2||this.editor.pushUndoStop()});l.push(a.resolve(c.token).then(()=>{if(!a.completion.additionalTextEdits||c.token.isCancellationRequested)return;if(g&&a.completion.additionalTextEdits.some(F=>he.isBefore(g,A.getStartPosition(F.range))))return!1;C&&this.editor.pushUndoStop();let E=vl.capture(this.editor);return this.editor.executeEdits("suggestController.additionalTextEdits.async",a.completion.additionalTextEdits.map(F=>mi.replaceMove(A.lift(F.range),F.text))),E.restoreRelativeVerticalPositionOfCursor(this.editor),(C||!(b&2))&&this.editor.pushUndoStop(),!0}).then(E=>{this._logService.trace("[suggest] async resolving of edits DONE (ms, applied?)",p.elapsed(),E),m=E===!0?1:E===!1?0:-2}).finally(()=>{v.dispose(),T.dispose()}))}let{insertText:f}=a.completion;if(a.completion.insertTextRules&4||(f=Lr.escape(f)),this.model.cancel(),o.insert(f,{overwriteBefore:d.overwriteBefore,overwriteAfter:d.overwriteAfter,undoStopBefore:!1,undoStopAfter:!1,adjustWhitespace:!(a.completion.insertTextRules&1),clipboardText:e.model.clipboardText,overtypingCapturer:this._overtypingCapturer.value}),i&2||this.editor.pushUndoStop(),a.completion.command)if(a.completion.command.id===HK.id)this.model.trigger({auto:!0,retrigger:!0});else{let p=new Xi;l.push(this._commandService.executeCommand(a.completion.command.id,...a.completion.command.arguments?[...a.completion.command.arguments]:[]).catch(g=>{a.completion.extensionId?zt(g):ut(g)}).finally(()=>{h=p.elapsed()}))}i&4&&this._alternatives.value.set(e,p=>{for(c.cancel();r.canUndo();){s!==r.getAlternativeVersionId()&&r.undo(),this._insertSuggestion(p,3|(i&8?8:0));break}}),this._alertCompletionItem(a),Promise.all(l).finally(()=>{this._reportSuggestionAcceptedTelemetry(a,r,u,h,m,e.index,e.model.items),this.model.clear(),c.dispose()})}_reportSuggestionAcceptedTelemetry(e,i,o,r,s,a,l){if(Math.floor(Math.random()*100)===0)return;let c=new Map;for(let m=0;m<Math.min(30,l.length);m++){let f=l[m].textLabel;c.has(f)?c.get(f).push(m):c.set(f,[m])}let d=c.get(e.textLabel),h=d&&d.length>1?d[0]:-1;this._telemetryService.publicLog2("suggest.acceptedSuggestion",{extensionId:e.extensionId?.value??"unknown",providerId:e.provider._debugDisplayName??"unknown",kind:e.completion.kind,basenameHash:Fx(fr(i.uri)).toString(16),languageId:i.getLanguageId(),fileExtension:a5(i.uri),resolveInfo:e.provider.resolveCompletionItem?o?1:0:-1,resolveDuration:e.resolveDuration,commandDuration:r,additionalEditsAsync:s,index:a,firstIndex:h})}getOverwriteInfo(e,i){Tt(this.editor.hasModel());let o=this.editor.getOption(119).insertMode==="replace";i&&(o=!o);let r=e.position.column-e.editStart.column,s=(o?e.editReplaceEnd.column:e.editInsertEnd.column)-e.position.column,a=this.editor.getPosition().column-e.position.column,l=this._lineSuffix.value?this._lineSuffix.value.delta(this.editor.getPosition()):0;return{overwriteBefore:r+a,overwriteAfter:s+l}}_alertCompletionItem(e){if(Dn(e.completion.additionalTextEdits)){let i=_("aria.alert.snippet","Accepting '{0}' made {1} additional edits",e.textLabel,e.completion.additionalTextEdits.length);$n(i)}}triggerSuggest(e,i,o){this.editor.hasModel()&&(this.model.trigger({auto:i??!1,completionOptions:{providerFilter:e,kindFilter:o?new Set:void 0}}),this.editor.revealPosition(this.editor.getPosition(),0),this.editor.focus())}triggerSuggestAndAcceptBest(e){if(!this.editor.hasModel())return;let i=this.editor.getPosition(),o=()=>{i.equals(this.editor.getPosition())&&this._commandService.executeCommand(e.fallback)},r=s=>{if(s.completion.insertTextRules&4||s.completion.additionalTextEdits)return!0;let a=this.editor.getPosition(),l=s.editStart.column,c=a.column;return c-l!==s.completion.insertText.length?!0:this.editor.getModel().getValueInRange({startLineNumber:a.lineNumber,startColumn:l,endLineNumber:a.lineNumber,endColumn:c})!==s.completion.insertText};bi.once(this.model.onDidTrigger)(s=>{let a=[];bi.any(this.model.onDidTrigger,this.model.onDidCancel)(()=>{cn(a),o()},void 0,a),this.model.onDidSuggest(({completionModel:l})=>{if(cn(a),l.items.length===0){o();return}let c=this._memoryService.select(this.editor.getModel(),this.editor.getPosition(),l.items),d=l.items[c];if(!r(d)){o();return}this.editor.pushUndoStop(),this._insertSuggestion({index:c,item:d,model:l},7)},void 0,a)}),this.model.trigger({auto:!1,shy:!0}),this.editor.revealPosition(i,0),this.editor.focus()}acceptSelectedSuggestion(e,i){let o=this.widget.value.getFocusedItem(),r=0;e&&(r|=4),i&&(r|=8),this._insertSuggestion(o,r)}acceptNextSuggestion(){this._alternatives.value.next()}acceptPrevSuggestion(){this._alternatives.value.prev()}cancelSuggestWidget(){this.model.cancel(),this.model.clear(),this.widget.value.hideWidget()}focusSuggestion(){this.widget.value.focusSelected()}selectNextSuggestion(){this.widget.value.selectNext()}selectNextPageSuggestion(){this.widget.value.selectNextPage()}selectLastSuggestion(){this.widget.value.selectLast()}selectPrevSuggestion(){this.widget.value.selectPrevious()}selectPrevPageSuggestion(){this.widget.value.selectPreviousPage()}selectFirstSuggestion(){this.widget.value.selectFirst()}toggleSuggestionDetails(){this.widget.value.toggleDetails()}toggleExplainMode(){this.widget.value.toggleExplainMode()}toggleSuggestionFocus(){this.widget.value.toggleDetailsFocus()}resetWidgetSize(){this.widget.value.resetPersistedSize()}forceRenderingAbove(){this.widget.value.forceRenderingAbove()}stopForceRenderingAbove(){this.widget.isInitialized&&this.widget.value.stopForceRenderingAbove()}registerSelector(e){return this._selectors.register(e)}};es=LF=xye([gg(1,ug),gg(2,ci),gg(3,Xe),gg(4,De),gg(5,ds),gg(6,jn)],es);var FF=class{constructor(t){this.prioritySelector=t,this._items=new Array}register(t){if(this._items.indexOf(t)!==-1)throw new Error("Value is already registered");return this._items.push(t),this._items.sort((e,i)=>this.prioritySelector(i)-this.prioritySelector(e)),{dispose:()=>{let e=this._items.indexOf(t);e>=0&&this._items.splice(e,1)}}}get itemsOrderedByPriorityDesc(){return this._items}},HK=(()=>{class n extends Z{static{this.id="editor.action.triggerSuggest"}constructor(){super({id:n.id,label:_("suggest.trigger.label","Trigger Suggest"),alias:"Trigger Suggest",precondition:K.and(M.writable,M.hasCompletionItemProvider,lt.Visible.toNegated()),kbOpts:{kbExpr:M.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[521,2087]},weight:100}})}run(e,i,o){let r=es.get(i);if(!r)return;let s;o&&typeof o=="object"&&o.auto===!0&&(s=!0),r.triggerSuggest(void 0,s,void 0)}}return n})();Me(es.ID,es,2);V(HK);var ts=190,nr=Ki.bindToContribution(es.get);Ne(new nr({id:"acceptSelectedSuggestion",precondition:K.and(lt.Visible,lt.HasFocusedSuggestion),handler(n){n.acceptSelectedSuggestion(!0,!1)},kbOpts:[{primary:2,kbExpr:K.and(lt.Visible,M.textInputFocus),weight:ts},{primary:3,kbExpr:K.and(lt.Visible,M.textInputFocus,lt.AcceptSuggestionsOnEnter,lt.MakesTextEdit),weight:ts}],menuOpts:[{menuId:zl,title:_("accept.insert","Insert"),group:"left",order:1,when:lt.HasInsertAndReplaceRange.toNegated()},{menuId:zl,title:_("accept.insert","Insert"),group:"left",order:1,when:K.and(lt.HasInsertAndReplaceRange,lt.InsertMode.isEqualTo("insert"))},{menuId:zl,title:_("accept.replace","Replace"),group:"left",order:1,when:K.and(lt.HasInsertAndReplaceRange,lt.InsertMode.isEqualTo("replace"))}]}));Ne(new nr({id:"acceptAlternativeSelectedSuggestion",precondition:K.and(lt.Visible,M.textInputFocus,lt.HasFocusedSuggestion),kbOpts:{weight:ts,kbExpr:M.textInputFocus,primary:1027,secondary:[1026]},handler(n){n.acceptSelectedSuggestion(!1,!0)},menuOpts:[{menuId:zl,group:"left",order:2,when:K.and(lt.HasInsertAndReplaceRange,lt.InsertMode.isEqualTo("insert")),title:_("accept.replace","Replace")},{menuId:zl,group:"left",order:2,when:K.and(lt.HasInsertAndReplaceRange,lt.InsertMode.isEqualTo("replace")),title:_("accept.insert","Insert")}]}));Pt.registerCommandAlias("acceptSelectedSuggestionOnEnter","acceptSelectedSuggestion");Ne(new nr({id:"hideSuggestWidget",precondition:lt.Visible,handler:n=>n.cancelSuggestWidget(),kbOpts:{weight:ts,kbExpr:M.textInputFocus,primary:9,secondary:[1033]}}));Ne(new nr({id:"selectNextSuggestion",precondition:K.and(lt.Visible,K.or(lt.MultipleSuggestions,lt.HasFocusedSuggestion.negate())),handler:n=>n.selectNextSuggestion(),kbOpts:{weight:ts,kbExpr:M.textInputFocus,primary:18,secondary:[2066],mac:{primary:18,secondary:[2066,300]}}}));Ne(new nr({id:"selectNextPageSuggestion",precondition:K.and(lt.Visible,K.or(lt.MultipleSuggestions,lt.HasFocusedSuggestion.negate())),handler:n=>n.selectNextPageSuggestion(),kbOpts:{weight:ts,kbExpr:M.textInputFocus,primary:12,secondary:[2060]}}));Ne(new nr({id:"selectLastSuggestion",precondition:K.and(lt.Visible,K.or(lt.MultipleSuggestions,lt.HasFocusedSuggestion.negate())),handler:n=>n.selectLastSuggestion()}));Ne(new nr({id:"selectPrevSuggestion",precondition:K.and(lt.Visible,K.or(lt.MultipleSuggestions,lt.HasFocusedSuggestion.negate())),handler:n=>n.selectPrevSuggestion(),kbOpts:{weight:ts,kbExpr:M.textInputFocus,primary:16,secondary:[2064],mac:{primary:16,secondary:[2064,302]}}}));Ne(new nr({id:"selectPrevPageSuggestion",precondition:K.and(lt.Visible,K.or(lt.MultipleSuggestions,lt.HasFocusedSuggestion.negate())),handler:n=>n.selectPrevPageSuggestion(),kbOpts:{weight:ts,kbExpr:M.textInputFocus,primary:11,secondary:[2059]}}));Ne(new nr({id:"selectFirstSuggestion",precondition:K.and(lt.Visible,K.or(lt.MultipleSuggestions,lt.HasFocusedSuggestion.negate())),handler:n=>n.selectFirstSuggestion()}));Ne(new nr({id:"focusSuggestion",precondition:K.and(lt.Visible,lt.HasFocusedSuggestion.negate()),handler:n=>n.focusSuggestion(),kbOpts:{weight:ts,kbExpr:M.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[2087]}}}));Ne(new nr({id:"focusAndAcceptSuggestion",precondition:K.and(lt.Visible,lt.HasFocusedSuggestion.negate()),handler:n=>{n.focusSuggestion(),n.acceptSelectedSuggestion(!0,!1)}}));Ne(new nr({id:"toggleSuggestionDetails",precondition:K.and(lt.Visible,lt.HasFocusedSuggestion),handler:n=>n.toggleSuggestionDetails(),kbOpts:{weight:ts,kbExpr:M.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[2087]}},menuOpts:[{menuId:zl,group:"right",order:1,when:K.and(lt.DetailsVisible,lt.CanResolve),title:_("detail.more","Show Less")},{menuId:zl,group:"right",order:1,when:K.and(lt.DetailsVisible.toNegated(),lt.CanResolve),title:_("detail.less","Show More")}]}));Ne(new nr({id:"toggleExplainMode",precondition:lt.Visible,handler:n=>n.toggleExplainMode(),kbOpts:{weight:100,primary:2138}}));Ne(new nr({id:"toggleSuggestionFocus",precondition:lt.Visible,handler:n=>n.toggleSuggestionFocus(),kbOpts:{weight:ts,kbExpr:M.textInputFocus,primary:2570,mac:{primary:778}}}));Ne(new nr({id:"insertBestCompletion",precondition:K.and(M.textInputFocus,K.equals("config.editor.tabCompletion","on"),cy.AtEnd,lt.Visible.toNegated(),mm.OtherSuggestions.toNegated(),Co.InSnippetMode.toNegated()),handler:(n,t)=>{n.triggerSuggestAndAcceptBest(kx(t)?j({fallback:"tab"},t):{fallback:"tab"})},kbOpts:{weight:ts,primary:2}}));Ne(new nr({id:"insertNextSuggestion",precondition:K.and(M.textInputFocus,K.equals("config.editor.tabCompletion","on"),mm.OtherSuggestions,lt.Visible.toNegated(),Co.InSnippetMode.toNegated()),handler:n=>n.acceptNextSuggestion(),kbOpts:{weight:ts,kbExpr:M.textInputFocus,primary:2}}));Ne(new nr({id:"insertPrevSuggestion",precondition:K.and(M.textInputFocus,K.equals("config.editor.tabCompletion","on"),mm.OtherSuggestions,lt.Visible.toNegated(),Co.InSnippetMode.toNegated()),handler:n=>n.acceptPrevSuggestion(),kbOpts:{weight:ts,kbExpr:M.textInputFocus,primary:1026}}));V(class extends Z{constructor(){super({id:"editor.action.resetSuggestSize",label:_("suggest.reset.label","Reset Suggest Widget Size"),alias:"Reset Suggest Widget Size",precondition:void 0})}run(n,t){es.get(t)?.resetWidgetSize()}});var dE=class extends U{get selectedItem(){return this._currentSuggestItemInfo}constructor(t,e,i){super(),this.editor=t,this.suggestControllerPreselector=e,this.onWillAccept=i,this.isSuggestWidgetVisible=!1,this.isShiftKeyPressed=!1,this._isActive=!1,this._currentSuggestItemInfo=void 0,this._onDidSelectedItemChange=this._register(new je),this.onDidSelectedItemChange=this._onDidSelectedItemChange.event,this._register(t.onKeyDown(r=>{r.shiftKey&&!this.isShiftKeyPressed&&(this.isShiftKeyPressed=!0,this.update(this._isActive))})),this._register(t.onKeyUp(r=>{r.shiftKey&&this.isShiftKeyPressed&&(this.isShiftKeyPressed=!1,this.update(this._isActive))}));let o=es.get(this.editor);if(o){this._register(o.registerSelector({priority:100,select:(a,l,c)=>{let d=this.editor.getModel();if(!d)return-1;let u=this.suggestControllerPreselector(),h=u?Nl(u,d):void 0;if(!h)return-1;let m=he.lift(l),f=c.map((g,v)=>{let b=fy.fromSuggestion(o,d,m,g,this.isShiftKeyPressed),C=Nl(b.toSingleTextEdit(),d),T=GD(h,C);return{index:v,valid:T,prefixLength:C.text.length,suggestItem:g}}).filter(g=>g&&g.valid&&g.prefixLength>0),p=s4(f,nc(g=>g.prefixLength,th));return p?p.index:-1}}));let r=!1,s=()=>{r||(r=!0,this._register(o.widget.value.onDidShow(()=>{this.isSuggestWidgetVisible=!0,this.update(!0)})),this._register(o.widget.value.onDidHide(()=>{this.isSuggestWidgetVisible=!1,this.update(!1)})),this._register(o.widget.value.onDidFocus(()=>{this.isSuggestWidgetVisible=!0,this.update(!0)})))};this._register(bi.once(o.model.onDidTrigger)(a=>{s()})),this._register(o.onWillInsertSuggestItem(a=>{let l=this.editor.getPosition(),c=this.editor.getModel();if(!l||!c)return;let d=fy.fromSuggestion(o,c,l,a.item,this.isShiftKeyPressed);this.onWillAccept(d)}))}this.update(this._isActive)}update(t){let e=this.getSuggestItemInfo();(this._isActive!==t||!Cye(this._currentSuggestItemInfo,e))&&(this._isActive=t,this._currentSuggestItemInfo=e,this._onDidSelectedItemChange.fire())}getSuggestItemInfo(){let t=es.get(this.editor);if(!t||!this.isSuggestWidgetVisible)return;let e=t.widget.value.getFocusedItem(),i=this.editor.getPosition(),o=this.editor.getModel();if(!(!e||!i||!o))return fy.fromSuggestion(t,o,i,e.item,this.isShiftKeyPressed)}stopForceRenderingAbove(){es.get(this.editor)?.stopForceRenderingAbove()}forceRenderingAbove(){es.get(this.editor)?.forceRenderingAbove()}},fy=class n{static fromSuggestion(t,e,i,o,r){let{insertText:s}=o.completion,a=!1;if(o.completion.insertTextRules&4){let c=new Lr().parse(s);c.children.length<100&&cg.adjustWhitespace(e,i,!0,c),s=c.toString(),a=!0}let l=t.getOverwriteInfo(o,r);return new n(A.fromPositions(i.delta(0,-l.overwriteBefore),i.delta(0,Math.max(l.overwriteAfter,0))),s,o.completion.kind,a)}constructor(t,e,i,o){this.range=t,this.insertText=e,this.completionItemKind=i,this.isSnippetText=o}equals(t){return this.range.equalsRange(t.range)&&this.insertText===t.insertText&&this.completionItemKind===t.completionItemKind&&this.isSnippetText===t.isSnippetText}toSelectedSuggestionInfo(){return new cj(this.range,this.insertText,this.completionItemKind,this.isSnippetText)}toSingleTextEdit(){return new Tr(this.range,this.insertText)}};function Cye(n,t){return n===t?!0:!n||!t?!1:n.equals(t)}Ae();Ui();_n();mt();Ot();var Sye=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},Wc=function(n,t){return function(e,i){t(e,i,n)}},zF,xr=class extends U{static{zF=this}static{this.ID="editor.contrib.inlineCompletionsController"}static get(e){return e.getContribution(zF.ID)}constructor(e,i,o,r,s,a,l,c,d,u){super(),this.editor=e,this._instantiationService=i,this._contextKeyService=o,this._configurationService=r,this._commandService=s,this._debounceService=a,this._languageFeaturesService=l,this._accessibilitySignalService=c,this._keybindingService=d,this._accessibilityService=u,this._editorObs=Rr(this.editor),this._positions=qt(this,m=>this._editorObs.selections.read(m)?.map(f=>f.getEndPosition())??[new he(1,1)]),this._suggestWidgetAdaptor=this._register(new dE(this.editor,()=>(this._editorObs.forceUpdate(),this.model.get()?.selectedInlineCompletion.get()?.toSingleTextEdit(void 0)),m=>this._editorObs.forceUpdate(f=>{this.model.get()?.handleSuggestAccepted(m)}))),this._suggestWidgetSelectedItem=ro(this,m=>this._suggestWidgetAdaptor.onDidSelectedItemChange(()=>{this._editorObs.forceUpdate(f=>m(void 0))}),()=>this._suggestWidgetAdaptor.selectedItem),this._enabledInConfig=ro(this,this.editor.onDidChangeConfiguration,()=>this.editor.getOption(62).enabled),this._isScreenReaderEnabled=ro(this,this._accessibilityService.onDidChangeScreenReaderOptimized,()=>this._accessibilityService.isScreenReaderOptimized()),this._editorDictationInProgress=ro(this,this._contextKeyService.onDidChangeContext,()=>this._contextKeyService.getContext(this.editor.getDomNode()).getValue("editorDictation.inProgress")===!0),this._enabled=qt(this,m=>this._enabledInConfig.read(m)&&(!this._isScreenReaderEnabled.read(m)||!this._editorDictationInProgress.read(m))),this._debounceValue=this._debounceService.for(this._languageFeaturesService.inlineCompletionsProvider,"InlineCompletionsDebounce",{min:50,max:50}),this.model=fs(this,m=>{if(this._editorObs.isReadonly.read(m))return;let f=this._editorObs.model.read(m);return f?this._instantiationService.createInstance(JD,f,this._suggestWidgetSelectedItem,this._editorObs.versionId,this._positions,this._debounceValue,ro(this.editor.onDidChangeConfiguration,()=>this.editor.getOption(119).preview),ro(this.editor.onDidChangeConfiguration,()=>this.editor.getOption(119).previewMode),ro(this.editor.onDidChangeConfiguration,()=>this.editor.getOption(62).mode),this._enabled):void 0}).recomputeInitiallyAndOnChange(this._store),this._ghostTexts=qt(this,m=>this.model.read(m)?.ghostTexts.read(m)??[]),this._stablizedGhostTexts=Iye(this._ghostTexts,this._store),this._ghostTextWidgets=P5(this,this._stablizedGhostTexts,(m,f)=>f.add(this._instantiationService.createInstance(jD,this.editor,{ghostText:m,minReservedLineCount:qr(0),targetTextModel:this.model.map(p=>p?.textModel)}))).recomputeInitiallyAndOnChange(this._store),this._playAccessibilitySignal=yp(this),this._fontFamily=ro(this,this.editor.onDidChangeConfiguration,()=>this.editor.getOption(62).fontFamily),this._register(new jo(this._contextKeyService,this.model)),this._register(jA(this._editorObs.onDidType,(m,f)=>{this._enabled.get()&&this.model.get()?.trigger()})),this._register(this._commandService.onDidExecuteCommand(m=>{new Set([kp.Tab.id,kp.DeleteLeft.id,kp.DeleteRight.id,AI,"acceptSelectedSuggestion"]).has(m.commandId)&&e.hasTextFocus()&&this._enabled.get()&&this._editorObs.forceUpdate(p=>{this.model.get()?.trigger(p)})})),this._register(jA(this._editorObs.selections,(m,f)=>{f.some(p=>p.reason===3||p.source==="api")&&this.model.get()?.stop()})),this._register(this.editor.onDidBlurEditorWidget(()=>{this._contextKeyService.getContextKeyValue("accessibleViewIsShown")||this._configurationService.getValue("editor.inlineSuggest.keepOnBlur")||e.getOption(62).keepOnBlur||Pc.dropDownVisible||ms(m=>{this.model.get()?.stop(m)})})),this._register(ii(m=>{let f=this.model.read(m)?.state.read(m);f?.suggestItem?f.primaryGhostText.lineCount>=2&&this._suggestWidgetAdaptor.forceRenderingAbove():this._suggestWidgetAdaptor.stopForceRenderingAbove()})),this._register(Mt(()=>{this._suggestWidgetAdaptor.stopForceRenderingAbove()}));let h=Cd(this,(m,f)=>{let g=this.model.read(m)?.state.read(m);return this._suggestWidgetSelectedItem.get()?f:g?.inlineCompletion?.semanticId});this._register(MU(qt(m=>(this._playAccessibilitySignal.read(m),h.read(m),{})),(m,f,p)=>k(this,null,function*(){let g=this.model.get(),v=g?.state.get();if(!v||!g)return;let b=g.textModel.getLineContent(v.primaryGhostText.lineNumber);yield hd(50,O_(p)),yield L5(this._suggestWidgetSelectedItem,ih,()=>!1,O_(p)),yield this._accessibilitySignalService.playSignal(Rw.inlineSuggestion),this.editor.getOption(8)&&this._provideScreenReaderUpdate(v.primaryGhostText.renderForScreenReader(b))}))),this._register(new LI(this.editor,this.model,this._instantiationService)),this._register(CK(qt(m=>{let f=this._fontFamily.read(m);return f===""||f==="default"?"":`
.monaco-editor .ghost-text-decoration,
.monaco-editor .ghost-text-decoration-preview,
.monaco-editor .ghost-text {
	font-family: ${f};
}`}))),this._register(this._configurationService.onDidChangeConfiguration(m=>{m.affectsConfiguration("accessibility.verbosity.inlineCompletions")&&this.editor.updateOptions({inlineCompletionsAccessibilityVerbose:this._configurationService.getValue("accessibility.verbosity.inlineCompletions")})})),this.editor.updateOptions({inlineCompletionsAccessibilityVerbose:this._configurationService.getValue("accessibility.verbosity.inlineCompletions")})}playAccessibilitySignal(e){this._playAccessibilitySignal.trigger(e)}_provideScreenReaderUpdate(e){let i=this._contextKeyService.getContextKeyValue("accessibleViewIsShown"),o=this._keybindingService.lookupKeybinding("editor.action.accessibleView"),r;!i&&o&&this.editor.getOption(150)&&(r=_("showAccessibleViewHint","Inspect this in the accessible view ({0})",o.getAriaLabel())),$n(r?e+", "+r:e)}shouldShowHoverAt(e){let i=this.model.get()?.primaryGhostText.get();return i?i.parts.some(o=>e.containsPosition(new he(i.lineNumber,o.column))):!1}shouldShowHoverAtViewZone(e){return this._ghostTextWidgets.get()[0]?.ownsViewZone(e)??!1}};xr=zF=Sye([Wc(1,De),Wc(2,Xe),Wc(3,_t),Wc(4,ci),Wc(5,vn),Wc(6,ae),Wc(7,Aw),Wc(8,Vt),Wc(9,yd)],xr);function Iye(n,t){let e=Kn("result",[]),i=[];return t.add(ii(o=>{let r=n.read(o);ms(s=>{if(r.length!==i.length){i.length=r.length;for(let a=0;a<i.length;a++)i[a]||(i[a]=Kn("item",r[a]));e.set([...i],s)}i.forEach((a,l)=>a.set(r[l],s))})})),e}Ae();$i();_n();mt();var VK=(()=>{class n extends Z{static{this.ID=OI}constructor(){super({id:n.ID,label:_("action.inlineSuggest.showNext","Show Next Inline Suggestion"),alias:"Show Next Inline Suggestion",precondition:K.and(M.writable,jo.inlineSuggestionVisible),kbOpts:{weight:100,primary:606}})}run(e,i){return k(this,null,function*(){xr.get(i)?.model.get()?.next()})}}return n})(),WK=(()=>{class n extends Z{static{this.ID=RI}constructor(){super({id:n.ID,label:_("action.inlineSuggest.showPrevious","Show Previous Inline Suggestion"),alias:"Show Previous Inline Suggestion",precondition:K.and(M.writable,jo.inlineSuggestionVisible),kbOpts:{weight:100,primary:604}})}run(e,i){return k(this,null,function*(){xr.get(i)?.model.get()?.previous()})}}return n})(),uE=class extends Z{constructor(){super({id:"editor.action.inlineSuggest.trigger",label:_("action.inlineSuggest.trigger","Trigger Inline Suggestion"),alias:"Trigger Inline Suggestion",precondition:M.writable})}run(t,e){return k(this,null,function*(){let i=xr.get(e);yield fw(o=>k(this,null,function*(){yield i?.model.get()?.triggerExplicitly(o),i?.playAccessibilitySignal(o)}))})}},hE=class extends Z{constructor(){super({id:"editor.action.inlineSuggest.acceptNextWord",label:_("action.inlineSuggest.acceptNextWord","Accept Next Word Of Inline Suggestion"),alias:"Accept Next Word Of Inline Suggestion",precondition:K.and(M.writable,jo.inlineSuggestionVisible),kbOpts:{weight:101,primary:2065,kbExpr:K.and(M.writable,jo.inlineSuggestionVisible)},menuOpts:[{menuId:ve.InlineSuggestionToolbar,title:_("acceptWord","Accept Word"),group:"primary",order:2}]})}run(t,e){return k(this,null,function*(){let i=xr.get(e);yield i?.model.get()?.acceptNextWord(i.editor)})}},mE=class extends Z{constructor(){super({id:"editor.action.inlineSuggest.acceptNextLine",label:_("action.inlineSuggest.acceptNextLine","Accept Next Line Of Inline Suggestion"),alias:"Accept Next Line Of Inline Suggestion",precondition:K.and(M.writable,jo.inlineSuggestionVisible),kbOpts:{weight:101},menuOpts:[{menuId:ve.InlineSuggestionToolbar,title:_("acceptLine","Accept Line"),group:"secondary",order:2}]})}run(t,e){return k(this,null,function*(){let i=xr.get(e);yield i?.model.get()?.acceptNextLine(i.editor)})}},pE=class extends Z{constructor(){super({id:AI,label:_("action.inlineSuggest.accept","Accept Inline Suggestion"),alias:"Accept Inline Suggestion",precondition:jo.inlineSuggestionVisible,menuOpts:[{menuId:ve.InlineSuggestionToolbar,title:_("accept","Accept"),group:"primary",order:1}],kbOpts:{primary:2,weight:200,kbExpr:K.and(jo.inlineSuggestionVisible,M.tabMovesFocus.toNegated(),jo.inlineSuggestionHasIndentationLessThanTabSize,lt.Visible.toNegated(),M.hoverFocused.toNegated())}})}run(t,e){return k(this,null,function*(){let i=xr.get(e);i&&(i.model.get()?.accept(i.editor),i.editor.focus())})}},jK=(()=>{class n extends Z{static{this.ID="editor.action.inlineSuggest.hide"}constructor(){super({id:n.ID,label:_("action.inlineSuggest.hide","Hide Inline Suggestion"),alias:"Hide Inline Suggestion",precondition:jo.inlineSuggestionVisible,kbOpts:{weight:100,primary:9}})}run(e,i){return k(this,null,function*(){let o=xr.get(i);ms(r=>{o?.model.get()?.stop(r)})})}}return n})(),UK=(()=>{class n extends Wn{static{this.ID="editor.action.inlineSuggest.toggleAlwaysShowToolbar"}constructor(){super({id:n.ID,title:_("action.inlineSuggest.alwaysShowToolbar","Always Show Toolbar"),f1:!1,precondition:void 0,menu:[{id:ve.InlineSuggestionToolbar,group:"secondary",order:10}],toggled:K.equals("config.editor.inlineSuggest.showToolbar","always")})}run(e,i){return k(this,null,function*(){let o=e.get(_t),s=o.getValue("editor.inlineSuggest.showToolbar")==="always"?"onHover":"always";o.updateValue("editor.inlineSuggest.showToolbar",s)})}}return n})();gt();Hs();ce();so();qe();Da();Ae();Ot();Ia();var Dye=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},gy=function(n,t){return function(e,i){t(e,i,n)}},BF=class{constructor(t,e,i){this.owner=t,this.range=e,this.controller=i}isValidForHoverAnchor(t){return t.type===1&&this.range.startColumn<=t.range.startColumn&&this.range.endColumn>=t.range.endColumn}},fE=class{constructor(t,e,i,o,r,s){this._editor=t,this._languageService=e,this._openerService=i,this.accessibilityService=o,this._instantiationService=r,this._telemetryService=s,this.hoverOrdinal=4}suggestHoverAnchor(t){let e=xr.get(this._editor);if(!e)return null;let i=t.target;if(i.type===8){let o=i.detail;if(e.shouldShowHoverAtViewZone(o.viewZoneId))return new eu(1e3,this,A.fromPositions(this._editor.getModel().validatePosition(o.positionBefore||o.position)),t.event.posx,t.event.posy,!1)}return i.type===7&&e.shouldShowHoverAt(i.range)?new eu(1e3,this,i.range,t.event.posx,t.event.posy,!1):i.type===6&&i.detail.mightBeForeignElement&&e.shouldShowHoverAt(i.range)?new eu(1e3,this,i.range,t.event.posx,t.event.posy,!1):null}computeSync(t,e){if(this._editor.getOption(62).showToolbar!=="onHover")return[];let i=xr.get(this._editor);return i&&i.shouldShowHoverAt(t.range)?[new BF(this,t.range,i)]:[]}renderHoverParts(t,e){let i=new G,o=e[0];this._telemetryService.publicLog2("inlineCompletionHover.shown"),this.accessibilityService.isScreenReaderOptimized()&&!this._editor.getOption(8)&&i.add(this.renderScreenReaderText(t,o));let r=o.controller.model.get(),s=this._instantiationService.createInstance(Pc,this._editor,!1,qr(null),r.selectedInlineCompletionIndex,r.inlineCompletionsCount,r.activeCommands),a=s.getDomNode();t.fragment.appendChild(a),r.triggerExplicitly(),i.add(s);let l={hoverPart:o,hoverElement:a,dispose(){i.dispose()}};return new Jr([l])}renderScreenReaderText(t,e){let i=new G,o=ye,r=o("div.hover-row.markdown-hover"),s=we(r,o("div.hover-contents",{"aria-live":"assertive"})),a=i.add(new Vs({editor:this._editor},this._languageService,this._openerService)),l=c=>{i.add(a.onDidRenderAsync(()=>{s.className="hover-contents code-hover-contents",t.onContentsChanged()}));let d=_("inlineSuggestionFollows","Suggestion:"),u=i.add(a.render(new hn().appendText(d).appendCodeblock("text",c)));s.replaceChildren(u.element)};return i.add(ii(c=>{let d=e.controller.model.read(c)?.primaryGhostText.read(c);if(d){let u=this._editor.getModel().getLineContent(d.lineNumber);l(d.renderForScreenReader(u))}else sh(s)})),t.fragment.appendChild(r),i}};fE=Dye([gy(1,Un),gy(2,Gn),gy(3,yd),gy(4,De),gy(5,jn)],fE);var gE=class{};var _g=new class{constructor(){this._implementations=[]}register(t){return this._implementations.push(t),{dispose:()=>{let e=this._implementations.indexOf(t);e!==-1&&this._implementations.splice(e,1)}}}getImplementations(){return this._implementations}};$i();Me(xr.ID,xr,3);V(uE);V(VK);V(WK);V(hE);V(mE);V(pE);V(jK);Gt(UK);ys.register(fE);_g.register(new gE);Ht();Bt();Hs();ce();_h();tt();qe();Da();cl();Ae();mt();Lt();bn();var Eye=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},HF=function(n,t){return function(e,i){t(e,i,n)}},_y,vg=class{static{_y=this}static{this.ID="editor.contrib.gotodefinitionatposition"}static{this.MAX_SOURCE_PREVIEW_LINES=8}constructor(e,i,o,r){this.textModelResolverService=i,this.languageService=o,this.languageFeaturesService=r,this.toUnhook=new G,this.toUnhookForKeyboard=new G,this.currentWordAtPosition=null,this.previousPromise=null,this.editor=e,this.linkDecorations=this.editor.createDecorationsCollection();let s=new kl(e);this.toUnhook.add(s),this.toUnhook.add(s.onMouseMoveOrRelevantKeyDown(([a,l])=>{this.startFindDefinitionFromMouse(a,l??void 0)})),this.toUnhook.add(s.onExecute(a=>{this.isEnabled(a)&&this.gotoDefinition(a.target.position,a.hasSideBySideModifier).catch(l=>{ut(l)}).finally(()=>{this.removeLinkDecorations()})})),this.toUnhook.add(s.onCancel(()=>{this.removeLinkDecorations(),this.currentWordAtPosition=null}))}static get(e){return e.getContribution(_y.ID)}startFindDefinitionFromCursor(e){return k(this,null,function*(){yield this.startFindDefinition(e),this.toUnhookForKeyboard.add(this.editor.onDidChangeCursorPosition(()=>{this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear()})),this.toUnhookForKeyboard.add(this.editor.onKeyDown(i=>{i&&(this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear())}))})}startFindDefinitionFromMouse(e,i){if(e.target.type===9&&this.linkDecorations.length>0)return;if(!this.editor.hasModel()||!this.isEnabled(e,i)){this.currentWordAtPosition=null,this.removeLinkDecorations();return}let o=e.target.position;this.startFindDefinition(o)}startFindDefinition(e){return k(this,null,function*(){this.toUnhookForKeyboard.clear();let i=e?this.editor.getModel()?.getWordAtPosition(e):null;if(!i){this.currentWordAtPosition=null,this.removeLinkDecorations();return}if(this.currentWordAtPosition&&this.currentWordAtPosition.startColumn===i.startColumn&&this.currentWordAtPosition.endColumn===i.endColumn&&this.currentWordAtPosition.word===i.word)return;this.currentWordAtPosition=i;let o=new $w(this.editor,15);this.previousPromise&&(this.previousPromise.cancel(),this.previousPromise=null),this.previousPromise=yi(a=>this.findDefinition(e,a));let r;try{r=yield this.previousPromise}catch(a){ut(a);return}if(!r||!r.length||!o.validate(this.editor)){this.removeLinkDecorations();return}let s=r[0].originSelectionRange?A.lift(r[0].originSelectionRange):new A(e.lineNumber,i.startColumn,e.lineNumber,i.endColumn);if(r.length>1){let a=s;for(let{originSelectionRange:l}of r)l&&(a=A.plusRange(a,l));this.addDecoration(a,new hn().appendText(_("multipleResults","Click to show {0} definitions.",r.length)))}else{let a=r[0];if(!a.uri)return;this.textModelResolverService.createModelReference(a.uri).then(l=>{if(!l.object||!l.object.textEditorModel){l.dispose();return}let{object:{textEditorModel:c}}=l,{startLineNumber:d}=a.range;if(d<1||d>c.getLineCount()){l.dispose();return}let u=this.getPreviewValue(c,d,a),h=this.languageService.guessLanguageIdByFilepathOrFirstLine(c.uri);this.addDecoration(s,u?new hn().appendCodeblock(h||"",u):void 0),l.dispose()})}})}getPreviewValue(e,i,o){let r=o.range;return r.endLineNumber-r.startLineNumber>=_y.MAX_SOURCE_PREVIEW_LINES&&(r=this.getPreviewRangeBasedOnIndentation(e,i)),this.stripIndentationFromPreviewRange(e,i,r)}stripIndentationFromPreviewRange(e,i,o){let s=e.getLineFirstNonWhitespaceColumn(i);for(let l=i+1;l<o.endLineNumber;l++){let c=e.getLineFirstNonWhitespaceColumn(l);s=Math.min(s,c)}return e.getValueInRange(o).replace(new RegExp(`^\\s{${s-1}}`,"gm"),"").trim()}getPreviewRangeBasedOnIndentation(e,i){let o=e.getLineFirstNonWhitespaceColumn(i),r=Math.min(e.getLineCount(),i+_y.MAX_SOURCE_PREVIEW_LINES),s=i+1;for(;s<r;s++){let a=e.getLineFirstNonWhitespaceColumn(s);if(o===a)break}return new A(i,1,s+1,1)}addDecoration(e,i){let o={range:e,options:{description:"goto-definition-link",inlineClassName:"goto-definition-link",hoverMessage:i}};this.linkDecorations.set([o])}removeLinkDecorations(){this.linkDecorations.clear()}isEnabled(e,i){return this.editor.hasModel()&&e.isLeftClick&&e.isNoneOrSingleMouseDown&&e.target.type===6&&!(e.target.detail.injectedText?.options instanceof Ip)&&(e.hasTriggerModifier||(i?i.keyCodeIsTriggerKey:!1))&&this.languageFeaturesService.definitionProvider.has(this.editor.getModel())}findDefinition(e,i){let o=this.editor.getModel();return o?ou(this.languageFeaturesService.definitionProvider,o,e,!1,i):Promise.resolve(null)}gotoDefinition(e,i){return this.editor.setPosition(e),this.editor.invokeWithinContext(o=>{let r=!i&&this.editor.getOption(89)&&!this.isInPeekEditor(o);return new zc({openToSide:i,openInPeek:r,muteMessage:!0},{title:{value:"",original:""},id:"",precondition:void 0}).run(o)})}isInPeekEditor(e){let i=e.get(Xe);return xo.inPeekEditor.getValue(i)}dispose(){this.toUnhook.dispose(),this.toUnhookForKeyboard.dispose()}};vg=_y=Eye([HF(1,no),HF(2,Un),HF(3,ae)],vg);Me(vg.ID,vg,2);Vn();ce();tt();Fo();hi();qe();$t();Oi();oi();ce();nj();Fi();On();qe();cc();Ot();_n();var qK=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},_E=function(n,t){return function(e,i){t(e,i,n)}},vE=class{constructor(t,e,i){this.marker=t,this.index=e,this.total=i}},VF=class{constructor(t,e,i){this._markerService=e,this._configService=i,this._onDidChange=new je,this.onDidChange=this._onDidChange.event,this._dispoables=new G,this._markers=[],this._nextIdx=-1,ht.isUri(t)?this._resourceFilter=a=>a.toString()===t.toString():t&&(this._resourceFilter=t);let o=this._configService.getValue("problems.sortOrder"),r=(a,l)=>{let c=JT(a.resource.toString(),l.resource.toString());return c===0&&(o==="position"?c=A.compareRangesUsingStarts(a,l)||_o.compare(a.severity,l.severity):c=_o.compare(a.severity,l.severity)||A.compareRangesUsingStarts(a,l)),c},s=()=>{this._markers=this._markerService.read({resource:ht.isUri(t)?t:void 0,severities:_o.Error|_o.Warning|_o.Info}),typeof t=="function"&&(this._markers=this._markers.filter(a=>this._resourceFilter(a.resource))),this._markers.sort(r)};s(),this._dispoables.add(e.onMarkerChanged(a=>{(!this._resourceFilter||a.some(l=>this._resourceFilter(l)))&&(s(),this._nextIdx=-1,this._onDidChange.fire())}))}dispose(){this._dispoables.dispose(),this._onDidChange.dispose()}matches(t){return!this._resourceFilter&&!t?!0:!this._resourceFilter||!t?!1:this._resourceFilter(t)}get selected(){let t=this._markers[this._nextIdx];return t&&new vE(t,this._nextIdx+1,this._markers.length)}_initIdx(t,e,i){let o=!1,r=this._markers.findIndex(s=>s.resource.toString()===t.uri.toString());r<0&&(r=eh(this._markers,{resource:t.uri},(s,a)=>JT(s.resource.toString(),a.resource.toString())),r<0&&(r=~r));for(let s=r;s<this._markers.length;s++){let a=A.lift(this._markers[s]);if(a.isEmpty()){let l=t.getWordAtPosition(a.getStartPosition());l&&(a=new A(a.startLineNumber,l.startColumn,a.startLineNumber,l.endColumn))}if(e&&(a.containsPosition(e)||e.isBeforeOrEqual(a.getStartPosition()))){this._nextIdx=s,o=!0;break}if(this._markers[s].resource.toString()!==t.uri.toString())break}o||(this._nextIdx=i?0:this._markers.length-1),this._nextIdx<0&&(this._nextIdx=this._markers.length-1)}resetIndex(){this._nextIdx=-1}move(t,e,i){if(this._markers.length===0)return!1;let o=this._nextIdx;return this._nextIdx===-1?this._initIdx(e,i,t):t?this._nextIdx=(this._nextIdx+1)%this._markers.length:t||(this._nextIdx=(this._nextIdx-1+this._markers.length)%this._markers.length),o!==this._nextIdx}find(t,e){let i=this._markers.findIndex(o=>o.resource.toString()===t.toString());if(!(i<0)){for(;i<this._markers.length;i++)if(A.containsPosition(this._markers[i],e))return new vE(this._markers[i],i+1,this._markers.length)}}};VF=qK([_E(1,ev),_E(2,_t)],VF);var jF=No("IMarkerNavigationService"),WF=class{constructor(t,e){this._markerService=t,this._configService=e,this._provider=new Mx}getMarkerList(t){for(let e of this._provider){let i=e.getMarkerList(t);if(i)return i}return new VF(t,this._markerService,this._configService)}};WF=qK([_E(0,ev),_E(1,_t)],WF);zo(jF,WF,1);Ae();$i();mt();Ot();gt();Oi();ml();oi();ce();Ur();Fi();qe();Ae();$i();mt();Ot();Vn();Zo();var bE;(function(n){function t(e){switch(e){case U_.Ignore:return"severity-ignore "+St.asClassName(Ge.info);case U_.Info:return St.asClassName(Ge.info);case U_.Warning:return St.asClassName(Ge.warning);case U_.Error:return St.asClassName(Ge.error);default:return""}}n.className=t})(bE||(bE={}));Eo();Do();var kye=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},bg=function(n,t){return function(e,i){t(e,i,n)}},UF,qF=class{constructor(t,e,i,o,r){this._openerService=o,this._labelService=r,this._lines=0,this._longestLineLength=0,this._relatedDiagnostics=new WeakMap,this._disposables=new G,this._editor=e;let s=document.createElement("div");s.className="descriptioncontainer",this._messageBlock=document.createElement("div"),this._messageBlock.classList.add("message"),this._messageBlock.setAttribute("aria-live","assertive"),this._messageBlock.setAttribute("role","alert"),s.appendChild(this._messageBlock),this._relatedBlock=document.createElement("div"),s.appendChild(this._relatedBlock),this._disposables.add(mr(this._relatedBlock,"click",a=>{a.preventDefault();let l=this._relatedDiagnostics.get(a.target);l&&i(l)})),this._scrollable=new U4(s,{horizontal:1,vertical:1,useShadows:!1,horizontalScrollbarSize:6,verticalScrollbarSize:6}),t.appendChild(this._scrollable.getDomNode()),this._disposables.add(this._scrollable.onScroll(a=>{s.style.left=`-${a.scrollLeft}px`,s.style.top=`-${a.scrollTop}px`})),this._disposables.add(this._scrollable)}dispose(){cn(this._disposables)}update(t){let{source:e,message:i,relatedInformation:o,code:r}=t,s=(e?.length||0)+2;r&&(typeof r=="string"?s+=r.length:s+=r.value.length);let a=nh(i);this._lines=a.length,this._longestLineLength=0;for(let h of a)this._longestLineLength=Math.max(h.length+s,this._longestLineLength);Dr(this._messageBlock),this._messageBlock.setAttribute("aria-label",this.getAriaLabel(t)),this._editor.applyFontInfo(this._messageBlock);let l=this._messageBlock;for(let h of a)l=document.createElement("div"),l.innerText=h,h===""&&(l.style.height=this._messageBlock.style.lineHeight),this._messageBlock.appendChild(l);if(e||r){let h=document.createElement("span");if(h.classList.add("details"),l.appendChild(h),e){let m=document.createElement("span");m.innerText=e,m.classList.add("source"),h.appendChild(m)}if(r)if(typeof r=="string"){let m=document.createElement("span");m.innerText=`(${r})`,m.classList.add("code"),h.appendChild(m)}else{this._codeLink=ye("a.code-link"),this._codeLink.setAttribute("href",`${r.target.toString()}`),this._codeLink.onclick=f=>{this._openerService.open(r.target,{allowCommands:!0}),f.preventDefault(),f.stopPropagation()};let m=we(this._codeLink,ye("span"));m.innerText=r.value,h.appendChild(this._codeLink)}}if(Dr(this._relatedBlock),this._editor.applyFontInfo(this._relatedBlock),Dn(o)){let h=this._relatedBlock.appendChild(document.createElement("div"));h.style.paddingTop=`${Math.floor(this._editor.getOption(67)*.66)}px`,this._lines+=1;for(let m of o){let f=document.createElement("div"),p=document.createElement("a");p.classList.add("filename"),p.innerText=`${this._labelService.getUriBasenameLabel(m.resource)}(${m.startLineNumber}, ${m.startColumn}): `,p.title=this._labelService.getUriLabel(m.resource),this._relatedDiagnostics.set(p,m);let g=document.createElement("span");g.innerText=m.message,f.appendChild(p),f.appendChild(g),this._lines+=1,h.appendChild(f)}}let c=this._editor.getOption(50),d=Math.ceil(c.typicalFullwidthCharacterWidth*this._longestLineLength*.75),u=c.lineHeight*this._lines;this._scrollable.setScrollDimensions({scrollWidth:d,scrollHeight:u})}layout(t,e){this._scrollable.getDomNode().style.height=`${t}px`,this._scrollable.getDomNode().style.width=`${e}px`,this._scrollable.setScrollDimensions({width:e,height:t})}getHeightInLines(){return Math.min(17,this._lines)}getAriaLabel(t){let e="";switch(t.severity){case _o.Error:e=_("Error","Error");break;case _o.Warning:e=_("Warning","Warning");break;case _o.Info:e=_("Info","Info");break;case _o.Hint:e=_("Hint","Hint");break}let i=_("marker aria","{0} at {1}. ",e,t.startLineNumber+":"+t.startColumn),o=this._editor.getModel();return o&&t.startLineNumber<=o.getLineCount()&&t.startLineNumber>=1&&(i=`${o.getLineContent(t.startLineNumber)}, ${i}`),i}},yg=class extends Uf{static{UF=this}static{this.TitleMenu=new ve("gotoErrorTitleMenu")}constructor(t,e,i,o,r,s,a){super(t,{showArrow:!0,showFrame:!0,isAccessible:!0,frameWidth:1},r),this._themeService=e,this._openerService=i,this._menuService=o,this._contextKeyService=s,this._labelService=a,this._callOnDispose=new G,this._onDidSelectRelatedInformation=new je,this.onDidSelectRelatedInformation=this._onDidSelectRelatedInformation.event,this._severity=_o.Warning,this._backgroundColor=It.white,this._applyTheme(e.getColorTheme()),this._callOnDispose.add(e.onDidColorThemeChange(this._applyTheme.bind(this))),this.create()}_applyTheme(t){this._backgroundColor=t.getColor(Rye);let e=GF,i=Mye;this._severity===_o.Warning?(e=yE,i=Tye):this._severity===_o.Info&&(e=$F,i=Aye);let o=t.getColor(e),r=t.getColor(i);this.style({arrowColor:o,frameColor:o,headerBackgroundColor:r,primaryHeadingColor:t.getColor(UI),secondaryHeadingColor:t.getColor(qI)})}_applyStyles(){this._parentContainer&&(this._parentContainer.style.backgroundColor=this._backgroundColor?this._backgroundColor.toString():""),super._applyStyles()}dispose(){this._callOnDispose.dispose(),super.dispose()}_fillHead(t){super._fillHead(t),this._disposables.add(this._actionbarWidget.actionRunner.onWillRun(o=>this.editor.focus()));let e=[],i=this._menuService.getMenuActions(UF.TitleMenu,this._contextKeyService);Cp(i,e),this._actionbarWidget.push(e,{label:!1,icon:!0,index:0})}_fillTitleIcon(t){this._icon=we(t,ye(""))}_fillBody(t){this._parentContainer=t,t.classList.add("marker-widget"),this._parentContainer.tabIndex=0,this._parentContainer.setAttribute("role","tooltip"),this._container=document.createElement("div"),t.appendChild(this._container),this._message=new qF(this._container,this.editor,e=>this._onDidSelectRelatedInformation.fire(e),this._openerService,this._labelService),this._disposables.add(this._message)}show(){throw new Error("call showAtMarker")}showAtMarker(t,e,i){this._container.classList.remove("stale"),this._message.update(t),this._severity=t.severity,this._applyTheme(this._themeService.getColorTheme());let o=A.lift(t),r=this.editor.getPosition(),s=r&&o.containsPosition(r)?r:o.getStartPosition();super.show(s,this.computeRequiredHeight());let a=this.editor.getModel();if(a){let l=i>1?_("problems","{0} of {1} problems",e,i):_("change","{0} of {1} problem",e,i);this.setTitle(fr(a.uri),l)}this._icon.className=`codicon ${bE.className(_o.toSeverity(this._severity))}`,this.editor.revealPositionNearTop(s,0),this.editor.focus()}updateMarker(t){this._container.classList.remove("stale"),this._message.update(t)}showStale(){this._container.classList.add("stale"),this._relayout()}_doLayoutBody(t,e){super._doLayoutBody(t,e),this._heightInPixel=t,this._message.layout(t,e),this._container.style.height=`${t}px`}_onWidth(t){this._message.layout(this._heightInPixel,t)}_relayout(){super._relayout(this.computeRequiredHeight())}computeRequiredHeight(){return 3+this._message.getHeightInLines()}};yg=UF=kye([bg(1,qn),bg(2,Gn),bg(3,Ns),bg(4,De),bg(5,Xe),bg(6,vc)],yg);var GK=Xx(v4,b4),$K=Xx(y4,x4),KK=Xx(G_,w4),GF=Oe("editorMarkerNavigationError.background",{dark:GK,light:GK,hcDark:zs,hcLight:zs},_("editorMarkerNavigationError","Editor marker navigation widget error color.")),Mye=Oe("editorMarkerNavigationError.headerBackground",{dark:us(GF,.1),light:us(GF,.1),hcDark:null,hcLight:null},_("editorMarkerNavigationErrorHeaderBackground","Editor marker navigation widget error heading background.")),yE=Oe("editorMarkerNavigationWarning.background",{dark:$K,light:$K,hcDark:zs,hcLight:zs},_("editorMarkerNavigationWarning","Editor marker navigation widget warning color.")),Tye=Oe("editorMarkerNavigationWarning.headerBackground",{dark:us(yE,.1),light:us(yE,.1),hcDark:"#0C141F",hcLight:us(yE,.2)},_("editorMarkerNavigationWarningBackground","Editor marker navigation widget warning heading background.")),$F=Oe("editorMarkerNavigationInfo.background",{dark:KK,light:KK,hcDark:zs,hcLight:zs},_("editorMarkerNavigationInfo","Editor marker navigation widget info color.")),Aye=Oe("editorMarkerNavigationInfo.headerBackground",{dark:us($F,.1),light:us($F,.1),hcDark:null,hcLight:null},_("editorMarkerNavigationInfoHeaderBackground","Editor marker navigation widget info heading background.")),Rye=Oe("editorMarkerNavigation.background",g4,_("editorMarkerNavigationBackground","Editor marker navigation widget background."));var Oye=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},xE=function(n,t){return function(e,i){t(e,i,n)}},vy,hu=class{static{vy=this}static{this.ID="editor.contrib.markerController"}static get(e){return e.getContribution(vy.ID)}constructor(e,i,o,r,s){this._markerNavigationService=i,this._contextKeyService=o,this._editorService=r,this._instantiationService=s,this._sessionDispoables=new G,this._editor=e,this._widgetVisible=YK.bindTo(this._contextKeyService)}dispose(){this._cleanUp(),this._sessionDispoables.dispose()}_cleanUp(){this._widgetVisible.reset(),this._sessionDispoables.clear(),this._widget=void 0,this._model=void 0}_getOrCreateModel(e){if(this._model&&this._model.matches(e))return this._model;let i=!1;return this._model&&(i=!0,this._cleanUp()),this._model=this._markerNavigationService.getMarkerList(e),i&&this._model.move(!0,this._editor.getModel(),this._editor.getPosition()),this._widget=this._instantiationService.createInstance(yg,this._editor),this._widget.onDidClose(()=>this.close(),this,this._sessionDispoables),this._widgetVisible.set(!0),this._sessionDispoables.add(this._model),this._sessionDispoables.add(this._widget),this._sessionDispoables.add(this._editor.onDidChangeCursorPosition(o=>{(!this._model?.selected||!A.containsPosition(this._model?.selected.marker,o.position))&&this._model?.resetIndex()})),this._sessionDispoables.add(this._model.onDidChange(()=>{if(!this._widget||!this._widget.position||!this._model)return;let o=this._model.find(this._editor.getModel().uri,this._widget.position);o?this._widget.updateMarker(o.marker):this._widget.showStale()})),this._sessionDispoables.add(this._widget.onDidSelectRelatedInformation(o=>{this._editorService.openCodeEditor({resource:o.resource,options:{pinned:!0,revealIfOpened:!0,selection:A.lift(o).collapseToStart()}},this._editor),this.close(!1)})),this._sessionDispoables.add(this._editor.onDidChangeModel(()=>this._cleanUp())),this._model}close(e=!0){this._cleanUp(),e&&this._editor.focus()}showAtMarker(e){if(this._editor.hasModel()){let i=this._getOrCreateModel(this._editor.getModel().uri);i.resetIndex(),i.move(!0,this._editor.getModel(),new he(e.startLineNumber,e.startColumn)),i.selected&&this._widget.showAtMarker(i.selected.marker,i.selected.index,i.selected.total)}}nagivate(e,i){return k(this,null,function*(){if(this._editor.hasModel()){let o=this._getOrCreateModel(i?void 0:this._editor.getModel().uri);if(o.move(e,this._editor.getModel(),this._editor.getPosition()),!o.selected)return;if(o.selected.marker.resource.toString()!==this._editor.getModel().uri.toString()){this._cleanUp();let r=yield this._editorService.openCodeEditor({resource:o.selected.marker.resource,options:{pinned:!1,revealIfOpened:!0,selectionRevealType:2,selection:o.selected.marker}},this._editor);r&&(vy.get(r)?.close(),vy.get(r)?.nagivate(e,i))}else this._widget.showAtMarker(o.selected.marker,o.selected.index,o.selected.total)}})}};hu=vy=Oye([xE(1,jF),xE(2,Xe),xE(3,Xt),xE(4,De)],hu);var xg=class extends Z{constructor(t,e,i){super(i),this._next=t,this._multiFile=e}run(t,e){return k(this,null,function*(){e.hasModel()&&hu.get(e)?.nagivate(this._next,this._multiFile)})}},by=class n extends xg{static{this.ID="editor.action.marker.next"}static{this.LABEL=_("markerAction.next.label","Go to Next Problem (Error, Warning, Info)")}constructor(){super(!0,!1,{id:n.ID,label:n.LABEL,alias:"Go to Next Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:M.focus,primary:578,weight:100},menuOpts:{menuId:yg.TitleMenu,title:n.LABEL,icon:Ii("marker-navigation-next",Ge.arrowDown,_("nextMarkerIcon","Icon for goto next marker.")),group:"navigation",order:1}})}},KF=class n extends xg{static{this.ID="editor.action.marker.prev"}static{this.LABEL=_("markerAction.previous.label","Go to Previous Problem (Error, Warning, Info)")}constructor(){super(!1,!1,{id:n.ID,label:n.LABEL,alias:"Go to Previous Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:M.focus,primary:1602,weight:100},menuOpts:{menuId:yg.TitleMenu,title:n.LABEL,icon:Ii("marker-navigation-previous",Ge.arrowUp,_("previousMarkerIcon","Icon for goto previous marker.")),group:"navigation",order:2}})}},YF=class extends xg{constructor(){super(!0,!0,{id:"editor.action.marker.nextInFiles",label:_("markerAction.nextInFiles.label","Go to Next Problem in Files (Error, Warning, Info)"),alias:"Go to Next Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:M.focus,primary:66,weight:100},menuOpts:{menuId:ve.MenubarGoMenu,title:_({key:"miGotoNextProblem",comment:["&& denotes a mnemonic"]},"Next &&Problem"),group:"6_problem_nav",order:1}})}},XF=class extends xg{constructor(){super(!1,!0,{id:"editor.action.marker.prevInFiles",label:_("markerAction.previousInFiles.label","Go to Previous Problem in Files (Error, Warning, Info)"),alias:"Go to Previous Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:M.focus,primary:1090,weight:100},menuOpts:{menuId:ve.MenubarGoMenu,title:_({key:"miGotoPreviousProblem",comment:["&& denotes a mnemonic"]},"Previous &&Problem"),group:"6_problem_nav",order:2}})}};Me(hu.ID,hu,4);V(by);V(KF);V(YF);V(XF);var YK=new ot("markersNavigationVisible",!1),Pye=Ki.bindToContribution(hu.get);Ne(new Pye({id:"closeMarkersNavigation",precondition:YK,handler:n=>n.close(),kbOpts:{weight:150,kbExpr:M.focus,primary:9,secondary:[1033]}}));oc();tt();qe();$t();gn();Ae();var Bl=function(n){return n.NoAutoFocus="noAutoFocus",n.FocusIfVisible="focusIfVisible",n.AutoFocusImmediately="autoFocusImmediately",n}(Bl||{}),wE=class extends Z{constructor(){super({id:TI,label:_({key:"showOrFocusHover",comment:["Label for action that will trigger the showing/focusing of a hover in the editor.","If the hover is not visible, it will show the hover.","This allows for users to show the hover without using the mouse."]},"Show or Focus Hover"),metadata:{description:Pe("showOrFocusHoverDescription","Show or focus the editor hover which shows documentation, references, and other content for a symbol at the current cursor position."),args:[{name:"args",schema:{type:"object",properties:{focus:{description:"Controls if and when the hover should take focus upon being triggered by this action.",enum:[Bl.NoAutoFocus,Bl.FocusIfVisible,Bl.AutoFocusImmediately],enumDescriptions:[_("showOrFocusHover.focus.noAutoFocus","The hover will not automatically take focus."),_("showOrFocusHover.focus.focusIfVisible","The hover will take focus only if it is already visible."),_("showOrFocusHover.focus.autoFocusImmediately","The hover will automatically take focus when it appears.")],default:Bl.FocusIfVisible}}}}]},alias:"Show or Focus Hover",precondition:void 0,kbOpts:{kbExpr:M.editorTextFocus,primary:Pi(2089,2087),weight:100}})}run(t,e,i){if(!e.hasModel())return;let o=co.get(e);if(!o)return;let r=i?.focus,s=Bl.FocusIfVisible;Object.values(Bl).includes(r)?s=r:typeof r=="boolean"&&r&&(s=Bl.AutoFocusImmediately);let a=c=>{let d=e.getPosition(),u=new A(d.lineNumber,d.column,d.lineNumber,d.column);o.showContentHover(u,1,1,c)},l=e.getOption(2)===2;o.isHoverVisible?s!==Bl.NoAutoFocus?o.focus():a(l):a(l||s===Bl.AutoFocusImmediately)}},CE=class extends Z{constructor(){super({id:n$,label:_({key:"showDefinitionPreviewHover",comment:["Label for action that will trigger the showing of definition preview hover in the editor.","This allows for users to show the definition preview hover without using the mouse."]},"Show Definition Preview Hover"),alias:"Show Definition Preview Hover",precondition:void 0,metadata:{description:Pe("showDefinitionPreviewHoverDescription","Show the definition preview hover in the editor.")}})}run(t,e){let i=co.get(e);if(!i)return;let o=e.getPosition();if(!o)return;let r=new A(o.lineNumber,o.column,o.lineNumber,o.column),s=vg.get(e);if(!s)return;s.startFindDefinitionFromCursor(o).then(()=>{i.showContentHover(r,1,1,!0)})}},SE=class extends Z{constructor(){super({id:o$,label:_({key:"scrollUpHover",comment:["Action that allows to scroll up in the hover widget with the up arrow when the hover widget is focused."]},"Scroll Up Hover"),alias:"Scroll Up Hover",precondition:M.hoverFocused,kbOpts:{kbExpr:M.hoverFocused,primary:16,weight:100},metadata:{description:Pe("scrollUpHoverDescription","Scroll up the editor hover.")}})}run(t,e){let i=co.get(e);i&&i.scrollUp()}},IE=class extends Z{constructor(){super({id:r$,label:_({key:"scrollDownHover",comment:["Action that allows to scroll down in the hover widget with the up arrow when the hover widget is focused."]},"Scroll Down Hover"),alias:"Scroll Down Hover",precondition:M.hoverFocused,kbOpts:{kbExpr:M.hoverFocused,primary:18,weight:100},metadata:{description:Pe("scrollDownHoverDescription","Scroll down the editor hover.")}})}run(t,e){let i=co.get(e);i&&i.scrollDown()}},DE=class extends Z{constructor(){super({id:s$,label:_({key:"scrollLeftHover",comment:["Action that allows to scroll left in the hover widget with the left arrow when the hover widget is focused."]},"Scroll Left Hover"),alias:"Scroll Left Hover",precondition:M.hoverFocused,kbOpts:{kbExpr:M.hoverFocused,primary:15,weight:100},metadata:{description:Pe("scrollLeftHoverDescription","Scroll left the editor hover.")}})}run(t,e){let i=co.get(e);i&&i.scrollLeft()}},EE=class extends Z{constructor(){super({id:a$,label:_({key:"scrollRightHover",comment:["Action that allows to scroll right in the hover widget with the right arrow when the hover widget is focused."]},"Scroll Right Hover"),alias:"Scroll Right Hover",precondition:M.hoverFocused,kbOpts:{kbExpr:M.hoverFocused,primary:17,weight:100},metadata:{description:Pe("scrollRightHoverDescription","Scroll right the editor hover.")}})}run(t,e){let i=co.get(e);i&&i.scrollRight()}},kE=class extends Z{constructor(){super({id:l$,label:_({key:"pageUpHover",comment:["Action that allows to page up in the hover widget with the page up command when the hover widget is focused."]},"Page Up Hover"),alias:"Page Up Hover",precondition:M.hoverFocused,kbOpts:{kbExpr:M.hoverFocused,primary:11,secondary:[528],weight:100},metadata:{description:Pe("pageUpHoverDescription","Page up the editor hover.")}})}run(t,e){let i=co.get(e);i&&i.pageUp()}},ME=class extends Z{constructor(){super({id:c$,label:_({key:"pageDownHover",comment:["Action that allows to page down in the hover widget with the page down command when the hover widget is focused."]},"Page Down Hover"),alias:"Page Down Hover",precondition:M.hoverFocused,kbOpts:{kbExpr:M.hoverFocused,primary:12,secondary:[530],weight:100},metadata:{description:Pe("pageDownHoverDescription","Page down the editor hover.")}})}run(t,e){let i=co.get(e);i&&i.pageDown()}},TE=class extends Z{constructor(){super({id:d$,label:_({key:"goToTopHover",comment:["Action that allows to go to the top of the hover widget with the home command when the hover widget is focused."]},"Go To Top Hover"),alias:"Go To Bottom Hover",precondition:M.hoverFocused,kbOpts:{kbExpr:M.hoverFocused,primary:14,secondary:[2064],weight:100},metadata:{description:Pe("goToTopHoverDescription","Go to the top of the editor hover.")}})}run(t,e){let i=co.get(e);i&&i.goToTop()}},AE=class extends Z{constructor(){super({id:u$,label:_({key:"goToBottomHover",comment:["Action that allows to go to the bottom in the hover widget with the end command when the hover widget is focused."]},"Go To Bottom Hover"),alias:"Go To Bottom Hover",precondition:M.hoverFocused,kbOpts:{kbExpr:M.hoverFocused,primary:13,secondary:[2066],weight:100},metadata:{description:Pe("goToBottomHoverDescription","Go to the bottom of the editor hover.")}})}run(t,e){let i=co.get(e);i&&i.goToBottom()}},RE=class extends Z{constructor(){super({id:Jh,label:h$,alias:"Increase Hover Verbosity Level",precondition:M.hoverVisible})}run(t,e,i){let o=co.get(e);if(!o)return;let r=i?.index!==void 0?i.index:o.focusedHoverPartIndex();o.updateHoverVerbosityLevel(Sr.Increase,r,i?.focus)}},OE=class extends Z{constructor(){super({id:em,label:m$,alias:"Decrease Hover Verbosity Level",precondition:M.hoverVisible})}run(t,e,i){let o=co.get(e);if(!o)return;let r=i?.index!==void 0?i.index:o.focusedHoverPartIndex();co.get(e)?.updateHoverVerbosityLevel(Sr.Decrease,r,i?.focus)}};tt();Eo();Do();gt();Oi();Ht();Bt();ce();Ur();qe();Lt();Ae();var Lye=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},ZF=function(n,t){return function(e,i){t(e,i,n)}},Qs=ye,QF=class{constructor(t,e,i){this.owner=t,this.range=e,this.marker=i}isValidForHoverAnchor(t){return t.type===1&&this.range.startColumn<=t.range.startColumn&&this.range.endColumn>=t.range.endColumn}},XK={type:1,filter:{include:ui.QuickFix},triggerAction:Ao.QuickFixHover},PE=class{constructor(t,e,i,o){this._editor=t,this._markerDecorationsService=e,this._openerService=i,this._languageFeaturesService=o,this.hoverOrdinal=1,this.recentMarkerCodeActionsInfo=void 0}computeSync(t,e){if(!this._editor.hasModel()||t.type!==1&&!t.supportsMarkerHover)return[];let i=this._editor.getModel(),o=t.range.startLineNumber,r=i.getLineMaxColumn(o),s=[];for(let a of e){let l=a.range.startLineNumber===o?a.range.startColumn:1,c=a.range.endLineNumber===o?a.range.endColumn:r,d=this._markerDecorationsService.getMarker(i.uri,a);if(!d)continue;let u=new A(t.range.startLineNumber,l,t.range.startLineNumber,c);s.push(new QF(this,u,d))}return s}renderHoverParts(t,e){if(!e.length)return new Jr([]);let i=new G,o=[];e.forEach(s=>{let a=this._renderMarkerHover(s);t.fragment.appendChild(a.hoverElement),o.push(a)});let r=e.length===1?e[0]:e.sort((s,a)=>_o.compare(s.marker.severity,a.marker.severity))[0];return this.renderMarkerStatusbar(t,r,i),new Jr(o)}_renderMarkerHover(t){let e=new G,i=Qs("div.hover-row"),o=we(i,Qs("div.marker.hover-contents")),{source:r,message:s,code:a,relatedInformation:l}=t.marker;this._editor.applyFontInfo(o);let c=we(o,Qs("span"));if(c.style.whiteSpace="pre-wrap",c.innerText=s,r||a)if(a&&typeof a!="string"){let u=Qs("span");if(r){let p=we(u,Qs("span"));p.innerText=r}let h=we(u,Qs("a.code-link"));h.setAttribute("href",a.target.toString()),e.add(Ct(h,"click",p=>{this._openerService.open(a.target,{allowCommands:!0}),p.preventDefault(),p.stopPropagation()}));let m=we(h,Qs("span"));m.innerText=a.value;let f=we(o,u);f.style.opacity="0.6",f.style.paddingLeft="6px"}else{let u=we(o,Qs("span"));u.style.opacity="0.6",u.style.paddingLeft="6px",u.innerText=r&&a?`${r}(${a})`:r||`(${a})`}if(Dn(l))for(let{message:u,resource:h,startLineNumber:m,startColumn:f}of l){let p=we(o,Qs("div"));p.style.marginTop="8px";let g=we(p,Qs("a"));g.innerText=`${fr(h)}(${m}, ${f}): `,g.style.cursor="pointer",e.add(Ct(g,"click",b=>{if(b.stopPropagation(),b.preventDefault(),this._openerService){let C={selection:{startLineNumber:m,startColumn:f}};this._openerService.open(h,{fromUserGesture:!0,editorOptions:C}).catch(ut)}}));let v=we(p,Qs("span"));v.innerText=u,this._editor.applyFontInfo(v)}return{hoverPart:t,hoverElement:i,dispose:()=>e.dispose()}}renderMarkerStatusbar(t,e,i){if(e.marker.severity===_o.Error||e.marker.severity===_o.Warning||e.marker.severity===_o.Info){let o=hu.get(this._editor);o&&t.statusBar.addAction({label:_("view problem","View Problem"),commandId:by.ID,run:()=>{t.hide(),o.showAtMarker(e.marker),this._editor.focus()}})}if(!this._editor.getOption(92)){let o=t.statusBar.append(Qs("div"));this.recentMarkerCodeActionsInfo&&(MA.makeKey(this.recentMarkerCodeActionsInfo.marker)===MA.makeKey(e.marker)?this.recentMarkerCodeActionsInfo.hasCodeActions||(o.textContent=_("noQuickFixes","No quick fixes available")):this.recentMarkerCodeActionsInfo=void 0);let r=this.recentMarkerCodeActionsInfo&&!this.recentMarkerCodeActionsInfo.hasCodeActions?U.None:sc(()=>o.textContent=_("checkingForQuickFixes","Checking for quick fixes..."),200,i);o.textContent||(o.textContent="\xA0");let s=this.getCodeActions(e.marker);i.add(Mt(()=>s.cancel())),s.then(a=>{if(r.dispose(),this.recentMarkerCodeActionsInfo={marker:e.marker,hasCodeActions:a.validActions.length>0},!this.recentMarkerCodeActionsInfo.hasCodeActions){a.dispose(),o.textContent=_("noQuickFixes","No quick fixes available");return}o.style.display="none";let l=!1;i.add(Mt(()=>{l||a.dispose()})),t.statusBar.addAction({label:_("quick fixes","Quick Fix..."),commandId:Rf,run:c=>{l=!0;let d=Oc.get(this._editor),u=Gi(c);t.hide(),d?.showCodeActions(XK,a,{x:u.left,y:u.top,width:u.width,height:u.height})}})},ut)}}getCodeActions(t){return yi(e=>Qd(this._languageFeaturesService.codeActionProvider,this._editor.getModel(),new A(t.startLineNumber,t.startColumn,t.endLineNumber,t.endColumn),XK,hs.None,e))}};PE=Lye([ZF(1,j5),ZF(2,Gn),ZF(3,ae)],PE);ce();Ot();Ht();gt();ce();Da();Oi();Hs();ka();var LE=class{get lineNumber(){return this._lineNumber}set lineNumber(t){this._lineNumber=t}get lane(){return this._laneOrLine}set lane(t){this._laneOrLine=t}constructor(t){this._editor=t,this._lineNumber=-1,this._laneOrLine=up.Center}computeSync(){let t=r=>({value:r}),e=this._editor.getLineDecorations(this._lineNumber),i=[],o=this._laneOrLine==="lineNo";if(!e)return i;for(let r of e){let s=r.options.glyphMargin?.position??up.Center;if(!o&&s!==this._laneOrLine)continue;let a=o?r.options.lineNumberHoverMessage:r.options.glyphMarginHoverMessage;!a||bd(a)||i.push(...Dx(a).map(t))}return i}};var Nye=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},ZK=function(n,t){return function(e,i){t(e,i,n)}},JF,QK=ye,NE=class extends U{static{JF=this}static{this.ID="editor.contrib.modesGlyphHoverWidget"}constructor(e,i,o){super(),this._renderDisposeables=this._register(new G),this._editor=e,this._isVisible=!1,this._messages=[],this._hover=this._register(new aw),this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible),this._markdownRenderer=this._register(new Vs({editor:this._editor},i,o)),this._computer=new LE(this._editor),this._hoverOperation=this._register(new Bf(this._editor,this._computer)),this._register(this._hoverOperation.onResult(r=>{this._withResult(r.value)})),this._register(this._editor.onDidChangeModelDecorations(()=>this._onModelDecorationsChanged())),this._register(this._editor.onDidChangeConfiguration(r=>{r.hasChanged(50)&&this._updateFont()})),this._register(mr(this._hover.containerDomNode,"mouseleave",r=>{this._onMouseLeave(r)})),this._editor.addOverlayWidget(this)}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return JF.ID}getDomNode(){return this._hover.containerDomNode}getPosition(){return null}_updateFont(){Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach(i=>this._editor.applyFontInfo(i))}_onModelDecorationsChanged(){this._isVisible&&(this._hoverOperation.cancel(),this._hoverOperation.start(0))}showsOrWillShow(e){let i=e.target;return i.type===2&&i.detail.glyphMarginLane?(this._startShowingAt(i.position.lineNumber,i.detail.glyphMarginLane),!0):i.type===3?(this._startShowingAt(i.position.lineNumber,"lineNo"),!0):!1}_startShowingAt(e,i){this._computer.lineNumber===e&&this._computer.lane===i||(this._hoverOperation.cancel(),this.hide(),this._computer.lineNumber=e,this._computer.lane=i,this._hoverOperation.start(0))}hide(){this._computer.lineNumber=-1,this._hoverOperation.cancel(),this._isVisible&&(this._isVisible=!1,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible))}_withResult(e){this._messages=e,this._messages.length>0?this._renderMessages(this._computer.lineNumber,this._messages):this.hide()}_renderMessages(e,i){this._renderDisposeables.clear();let o=document.createDocumentFragment();for(let r of i){let s=QK("div.hover-row.markdown-hover"),a=we(s,QK("div.hover-contents")),l=this._renderDisposeables.add(this._markdownRenderer.render(r.value));a.appendChild(l.element),o.appendChild(s)}this._updateContents(o),this._showAt(e)}_updateContents(e){this._hover.contentsDomNode.textContent="",this._hover.contentsDomNode.appendChild(e),this._updateFont()}_showAt(e){this._isVisible||(this._isVisible=!0,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible));let i=this._editor.getLayoutInfo(),o=this._editor.getTopForLineNumber(e),r=this._editor.getScrollTop(),s=this._editor.getOption(67),a=this._hover.containerDomNode.clientHeight,l=o-r-(a-s)/2,c=i.glyphMarginLeft+i.glyphMarginWidth+(this._computer.lane==="lineNo"?i.lineNumbersWidth:0);this._hover.containerDomNode.style.left=`${c}px`,this._hover.containerDomNode.style.top=`${Math.max(Math.round(l),0)}px`}_onMouseLeave(e){let i=this._editor.getDomNode();(!i||!tu(i,e.x,e.y))&&this.hide()}};NE=JF=Nye([ZK(1,Un),ZK(2,Gn)],NE);var Fye=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},zye=function(n,t){return function(e,i){t(e,i,n)}},e2=!1,yy=class extends U{static{this.ID="editor.contrib.marginHover"}constructor(t,e){super(),this._editor=t,this._instantiationService=e,this.shouldKeepOpenOnEditorMouseMoveOrLeave=!1,this._listenersStore=new G,this._hoverState={mouseDown:!1},this._reactToEditorMouseMoveRunner=this._register(new si(()=>this._reactToEditorMouseMove(this._mouseMoveEvent),0)),this._hookListeners(),this._register(this._editor.onDidChangeConfiguration(i=>{i.hasChanged(60)&&(this._unhookListeners(),this._hookListeners())}))}_hookListeners(){let t=this._editor.getOption(60);this._hoverSettings={enabled:t.enabled,sticky:t.sticky,hidingDelay:t.hidingDelay},t.enabled?(this._listenersStore.add(this._editor.onMouseDown(e=>this._onEditorMouseDown(e))),this._listenersStore.add(this._editor.onMouseUp(()=>this._onEditorMouseUp())),this._listenersStore.add(this._editor.onMouseMove(e=>this._onEditorMouseMove(e))),this._listenersStore.add(this._editor.onKeyDown(e=>this._onKeyDown(e)))):(this._listenersStore.add(this._editor.onMouseMove(e=>this._onEditorMouseMove(e))),this._listenersStore.add(this._editor.onKeyDown(e=>this._onKeyDown(e)))),this._listenersStore.add(this._editor.onMouseLeave(e=>this._onEditorMouseLeave(e))),this._listenersStore.add(this._editor.onDidChangeModel(()=>{this._cancelScheduler(),this._hideWidgets()})),this._listenersStore.add(this._editor.onDidChangeModelContent(()=>this._cancelScheduler())),this._listenersStore.add(this._editor.onDidScrollChange(e=>this._onEditorScrollChanged(e)))}_unhookListeners(){this._listenersStore.clear()}_cancelScheduler(){this._mouseMoveEvent=void 0,this._reactToEditorMouseMoveRunner.cancel()}_onEditorScrollChanged(t){(t.scrollTopChanged||t.scrollLeftChanged)&&this._hideWidgets()}_onEditorMouseDown(t){this._hoverState.mouseDown=!0,!this._isMouseOnMarginHoverWidget(t)&&this._hideWidgets()}_isMouseOnMarginHoverWidget(t){let e=this._glyphWidget?.getDomNode();return e?tu(e,t.event.posx,t.event.posy):!1}_onEditorMouseUp(){this._hoverState.mouseDown=!1}_onEditorMouseLeave(t){this.shouldKeepOpenOnEditorMouseMoveOrLeave||(this._cancelScheduler(),this._isMouseOnMarginHoverWidget(t))||e2||this._hideWidgets()}_shouldNotRecomputeCurrentHoverWidget(t){let e=this._hoverSettings.sticky,i=this._isMouseOnMarginHoverWidget(t);return e&&i}_onEditorMouseMove(t){if(this.shouldKeepOpenOnEditorMouseMoveOrLeave)return;if(this._mouseMoveEvent=t,this._shouldNotRecomputeCurrentHoverWidget(t)){this._reactToEditorMouseMoveRunner.cancel();return}this._reactToEditorMouseMove(t)}_reactToEditorMouseMove(t){!t||this._tryShowHoverWidget(t)||e2||this._hideWidgets()}_tryShowHoverWidget(t){return this._getOrCreateGlyphWidget().showsOrWillShow(t)}_onKeyDown(t){this._editor.hasModel()&&(t.keyCode===5||t.keyCode===6||t.keyCode===57||t.keyCode===4||this._hideWidgets())}_hideWidgets(){e2||this._glyphWidget?.hide()}_getOrCreateGlyphWidget(){return this._glyphWidget||(this._glyphWidget=this._instantiationService.createInstance(NE,this._editor)),this._glyphWidget}dispose(){super.dispose(),this._unhookListeners(),this._listenersStore.dispose(),this._glyphWidget?.dispose()}};yy=Fye([zye(1,De)],yy);var FE=class{},zE=class{},BE=class{};Me(co.ID,co,2);Me(yy.ID,yy,2);V(wE);V(CE);V(SE);V(IE);V(DE);V(EE);V(kE);V(ME);V(TE);V(AE);V(RE);V(OE);ys.register(nu);ys.register(PE);_d((n,t)=>{let e=n.getColor(M4);e&&(t.addRule(`.monaco-editor .monaco-hover .hover-row:not(:first-child):not(:empty) { border-top: 1px solid ${e.transparent(.5)}; }`),t.addRule(`.monaco-editor .monaco-hover hr { border-top: 1px solid ${e.transparent(.5)}; }`),t.addRule(`.monaco-editor .monaco-hover hr { border-bottom: 0px solid ${e.transparent(.5)}; }`))});_g.register(new FE);_g.register(new zE);_g.register(new BE);ce();Fi();tt();qe();$t();Jo();ls();function or(n,t){let e=0;for(let i=0;i<n.length;i++)n.charAt(i)==="	"?e+=t:e++;return e}function pm(n,t,e){n=n<0?0:n;let i="";if(!e){let o=Math.floor(n/t);n=n%t;for(let r=0;r<o;r++)i+="	"}for(let o=0;o<n;o++)i+=" ";return i}Ae();Fi();Mce();Pn();function t2(n,t,e,i){if(n.getLineCount()===1&&n.getLineMaxColumn(1)===1)return[];let o=t.getLanguageConfiguration(n.getLanguageId()).indentRulesSupport;if(!o)return[];let r=new yU(n,o,t);for(i=Math.min(i,n.getLineCount());e<=i&&r.shouldIgnore(e);)e++;if(e>i-1)return[];let{tabSize:s,indentSize:a,insertSpaces:l}=n.getOptions(),c=(p,g)=>(g=g||1,Sc.shiftIndent(p,p.length+g,s,a,l)),d=(p,g)=>(g=g||1,Sc.unshiftIndent(p,p.length+g,s,a,l)),u=[],h=n.getLineContent(e),m=un(h),f=m;r.shouldIncrease(e)?(f=c(f),m=c(m)):r.shouldIndentNextLine(e)&&(f=c(f)),e++;for(let p=e;p<=i;p++){if(Bye(n,p))continue;let g=n.getLineContent(p),v=un(g),b=f;r.shouldDecrease(p,b)&&(f=d(f),m=d(m)),v!==f&&u.push(mi.replaceMove(new ze(p,1,p,v.length+1),q5(f,a,l))),!r.shouldIgnore(p)&&(r.shouldIncrease(p,b)?(m=c(m),f=m):r.shouldIndentNextLine(p,b)?f=c(f):f=m)}return u}function Bye(n,t){return n.tokenization.isCheapToTokenize(t)?n.tokenization.getLineTokens(t).getStandardTokenType(0)===2:!1}f5();var Hye=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},Vye=function(n,t){return function(e,i){t(e,i,n)}},Wye=(()=>{class n extends Z{static{this.ID="editor.action.indentationToSpaces"}constructor(){super({id:n.ID,label:_("indentationToSpaces","Convert Indentation to Spaces"),alias:"Convert Indentation to Spaces",precondition:M.writable,metadata:{description:Pe("indentationToSpacesDescription","Convert the tab indentation to spaces.")}})}run(e,i){let o=i.getModel();if(!o)return;let r=o.getOptions(),s=i.getSelection();if(!s)return;let a=new r2(s,r.tabSize);i.pushUndoStop(),i.executeCommands(this.id,[a]),i.pushUndoStop(),o.updateOptions({insertSpaces:!0})}}return n})(),jye=(()=>{class n extends Z{static{this.ID="editor.action.indentationToTabs"}constructor(){super({id:n.ID,label:_("indentationToTabs","Convert Indentation to Tabs"),alias:"Convert Indentation to Tabs",precondition:M.writable,metadata:{description:Pe("indentationToTabsDescription","Convert the spaces indentation to tabs.")}})}run(e,i){let o=i.getModel();if(!o)return;let r=o.getOptions(),s=i.getSelection();if(!s)return;let a=new s2(s,r.tabSize);i.pushUndoStop(),i.executeCommands(this.id,[a]),i.pushUndoStop(),o.updateOptions({insertSpaces:!1})}}return n})(),xy=class extends Z{constructor(t,e,i){super(i),this.insertSpaces=t,this.displaySizeOnly=e}run(t,e){let i=t.get(Bo),o=t.get(ji),r=e.getModel();if(!r)return;let s=o.getCreationOptions(r.getLanguageId(),r.uri,r.isForSimpleWidget),a=r.getOptions(),l=[1,2,3,4,5,6,7,8].map(d=>({id:d.toString(),label:d.toString(),description:d===s.tabSize&&d===a.tabSize?_("configuredTabSize","Configured Tab Size"):d===s.tabSize?_("defaultTabSize","Default Tab Size"):d===a.tabSize?_("currentTabSize","Current Tab Size"):void 0})),c=Math.min(r.getOptions().tabSize-1,7);setTimeout(()=>{i.pick(l,{placeHolder:_({key:"selectTabWidth",comment:["Tab corresponds to the tab key"]},"Select Tab Size for Current File"),activeItem:l[c]}).then(d=>{if(d&&r&&!r.isDisposed()){let u=parseInt(d.label,10);this.displaySizeOnly?r.updateOptions({tabSize:u}):r.updateOptions({tabSize:u,indentSize:u,insertSpaces:this.insertSpaces})}})},50)}},Uye=(()=>{class n extends xy{static{this.ID="editor.action.indentUsingTabs"}constructor(){super(!1,!1,{id:n.ID,label:_("indentUsingTabs","Indent Using Tabs"),alias:"Indent Using Tabs",precondition:void 0,metadata:{description:Pe("indentUsingTabsDescription","Use indentation with tabs.")}})}}return n})(),qye=(()=>{class n extends xy{static{this.ID="editor.action.indentUsingSpaces"}constructor(){super(!0,!1,{id:n.ID,label:_("indentUsingSpaces","Indent Using Spaces"),alias:"Indent Using Spaces",precondition:void 0,metadata:{description:Pe("indentUsingSpacesDescription","Use indentation with spaces.")}})}}return n})(),Gye=(()=>{class n extends xy{static{this.ID="editor.action.changeTabDisplaySize"}constructor(){super(!0,!0,{id:n.ID,label:_("changeTabDisplaySize","Change Tab Display Size"),alias:"Change Tab Display Size",precondition:void 0,metadata:{description:Pe("changeTabDisplaySizeDescription","Change the space size equivalent of the tab.")}})}}return n})(),$ye=(()=>{class n extends Z{static{this.ID="editor.action.detectIndentation"}constructor(){super({id:n.ID,label:_("detectIndentation","Detect Indentation from Content"),alias:"Detect Indentation from Content",precondition:void 0,metadata:{description:Pe("detectIndentationDescription","Detect the indentation from content.")}})}run(e,i){let o=e.get(ji),r=i.getModel();if(!r)return;let s=o.getCreationOptions(r.getLanguageId(),r.uri,r.isForSimpleWidget);r.detectIndentation(s.insertSpaces,s.tabSize)}}return n})(),i2=class extends Z{constructor(){super({id:"editor.action.reindentlines",label:_("editor.reindentlines","Reindent Lines"),alias:"Reindent Lines",precondition:M.writable,metadata:{description:Pe("editor.reindentlinesDescription","Reindent the lines of the editor.")}})}run(t,e){let i=t.get(_i),o=e.getModel();if(!o)return;let r=t2(o,i,1,o.getLineCount());r.length>0&&(e.pushUndoStop(),e.executeEdits(this.id,r),e.pushUndoStop())}},n2=class extends Z{constructor(){super({id:"editor.action.reindentselectedlines",label:_("editor.reindentselectedlines","Reindent Selected Lines"),alias:"Reindent Selected Lines",precondition:M.writable,metadata:{description:Pe("editor.reindentselectedlinesDescription","Reindent the selected lines of the editor.")}})}run(t,e){let i=t.get(_i),o=e.getModel();if(!o)return;let r=e.getSelections();if(r===null)return;let s=[];for(let a of r){let l=a.startLineNumber,c=a.endLineNumber;if(l!==c&&a.endColumn===1&&c--,l===1){if(l===c)continue}else l--;let d=t2(o,i,l,c);s.push(...d)}s.length>0&&(e.pushUndoStop(),e.executeEdits(this.id,s),e.pushUndoStop())}},o2=class{constructor(t,e){this._initialSelection=e,this._edits=[],this._selectionId=null;for(let i of t)i.range&&typeof i.text=="string"&&this._edits.push(i)}getEditOperations(t,e){for(let o of this._edits)e.addEditOperation(A.lift(o.range),o.text);let i=!1;Array.isArray(this._edits)&&this._edits.length===1&&this._initialSelection.isEmpty()&&(this._edits[0].range.startColumn===this._initialSelection.endColumn&&this._edits[0].range.startLineNumber===this._initialSelection.endLineNumber?(i=!0,this._selectionId=e.trackSelection(this._initialSelection,!0)):this._edits[0].range.endColumn===this._initialSelection.startColumn&&this._edits[0].range.endLineNumber===this._initialSelection.startLineNumber&&(i=!0,this._selectionId=e.trackSelection(this._initialSelection,!1))),i||(this._selectionId=e.trackSelection(this._initialSelection))}computeCursorState(t,e){return e.getTrackedSelection(this._selectionId)}},HE=class{static{this.ID="editor.contrib.autoIndentOnPaste"}constructor(t,e){this.editor=t,this._languageConfigurationService=e,this.callOnDispose=new G,this.callOnModel=new G,this.callOnDispose.add(t.onDidChangeConfiguration(()=>this.update())),this.callOnDispose.add(t.onDidChangeModel(()=>this.update())),this.callOnDispose.add(t.onDidChangeModelLanguage(()=>this.update()))}update(){this.callOnModel.clear(),!(this.editor.getOption(12)<4||this.editor.getOption(55))&&this.editor.hasModel()&&this.callOnModel.add(this.editor.onDidPaste(({range:t})=>{this.trigger(t)}))}trigger(t){let e=this.editor.getSelections();if(e===null||e.length>1)return;let i=this.editor.getModel();if(!i||this.rangeContainsOnlyWhitespaceCharacters(i,t)||Kye(i,t)||!i.tokenization.isCheapToTokenize(t.getStartPosition().lineNumber))return;let r=this.editor.getOption(12),{tabSize:s,indentSize:a,insertSpaces:l}=i.getOptions(),c=[],d={shiftIndent:f=>Sc.shiftIndent(f,f.length+1,s,a,l),unshiftIndent:f=>Sc.unshiftIndent(f,f.length+1,s,a,l)},u=t.startLineNumber;for(;u<=t.endLineNumber;){if(this.shouldIgnoreLine(i,u)){u++;continue}break}if(u>t.endLineNumber)return;let h=i.getLineContent(u);if(!/\S/.test(h.substring(0,t.startColumn-1))){let f=gh(r,i,i.getLanguageId(),u,d,this._languageConfigurationService);if(f!==null){let p=un(h),g=or(f,s),v=or(p,s);if(g!==v){let b=pm(g,s,l);c.push({range:new A(u,1,u,p.length+1),text:b}),h=b+h.substring(p.length)}else{let b=Bw(i,u,this._languageConfigurationService);if(b===0||b===8)return}}}let m=u;for(;u<t.endLineNumber;){if(!/\S/.test(i.getLineContent(u+1))){u++;continue}break}if(u!==t.endLineNumber){let p=gh(r,{tokenization:{getLineTokens:g=>i.tokenization.getLineTokens(g),getLanguageId:()=>i.getLanguageId(),getLanguageIdAtPosition:(g,v)=>i.getLanguageIdAtPosition(g,v)},getLineContent:g=>g===m?h:i.getLineContent(g)},i.getLanguageId(),u+1,d,this._languageConfigurationService);if(p!==null){let g=or(p,s),v=or(un(i.getLineContent(u+1)),s);if(g!==v){let b=g-v;for(let C=u+1;C<=t.endLineNumber;C++){let T=i.getLineContent(C),E=un(T),L=or(E,s)+b,H=pm(L,s,l);H!==E&&c.push({range:new A(C,1,C,E.length+1),text:H})}}}}if(c.length>0){this.editor.pushUndoStop();let f=new o2(c,this.editor.getSelection());this.editor.executeCommand("autoIndentOnPaste",f),this.editor.pushUndoStop()}}rangeContainsOnlyWhitespaceCharacters(t,e){let i=r=>r.trim().length===0,o=!0;if(e.startLineNumber===e.endLineNumber){let s=t.getLineContent(e.startLineNumber).substring(e.startColumn-1,e.endColumn-1);o=i(s)}else for(let r=e.startLineNumber;r<=e.endLineNumber;r++){let s=t.getLineContent(r);if(r===e.startLineNumber){let a=s.substring(e.startColumn-1);o=i(a)}else if(r===e.endLineNumber){let a=s.substring(0,e.endColumn-1);o=i(a)}else o=t.getLineFirstNonWhitespaceColumn(r)===0;if(!o)break}return o}shouldIgnoreLine(t,e){t.tokenization.forceTokenization(e);let i=t.getLineFirstNonWhitespaceColumn(e);if(i===0)return!0;let o=t.tokenization.getLineTokens(e);if(o.getCount()>0){let r=o.findTokenIndexAtOffset(i);if(r>=0&&o.getStandardTokenType(r)===1)return!0}return!1}dispose(){this.callOnDispose.dispose(),this.callOnModel.dispose()}};HE=Hye([Vye(1,_i)],HE);function Kye(n,t){let e=i=>p5(n,i)===2;return e(t.getStartPosition())||e(t.getEndPosition())}function e9(n,t,e,i){if(n.getLineCount()===1&&n.getLineMaxColumn(1)===1)return;let o="";for(let s=0;s<e;s++)o+=" ";let r=new RegExp(o,"gi");for(let s=1,a=n.getLineCount();s<=a;s++){let l=n.getLineFirstNonWhitespaceColumn(s);if(l===0&&(l=n.getLineMaxColumn(s)),l===1)continue;let c=new A(s,1,s,l),d=n.getValueInRange(c),u=i?d.replace(/\t/ig,o):d.replace(r,"	");t.addEditOperation(c,u)}}var r2=class{constructor(t,e){this.selection=t,this.tabSize=e,this.selectionId=null}getEditOperations(t,e){this.selectionId=e.trackSelection(this.selection),e9(t,e,this.tabSize,!0)}computeCursorState(t,e){return e.getTrackedSelection(this.selectionId)}},s2=class{constructor(t,e){this.selection=t,this.tabSize=e,this.selectionId=null}getEditOperations(t,e){this.selectionId=e.trackSelection(this.selection),e9(t,e,this.tabSize,!1)}computeCursorState(t,e){return e.getTrackedSelection(this.selectionId)}};Me(HE.ID,HE,2);V(Wye);V(jye);V(Uye);V(qye);V(Gye);V($ye);V(i2);V(n2);tt();Me(rm.ID,rm,1);ys.register(Zf);var $4t=jm(n9());tt();$t();Ae();var c2=class extends Z{constructor(){super({id:"expandLineSelection",label:_("expandLineSelection","Expand Line Selection"),alias:"Expand Line Selection",precondition:void 0,kbOpts:{weight:0,kbExpr:M.textInputFocus,primary:2090}})}run(t,e,i){if(i=i||{},!e.hasModel())return;let o=e._getViewModel();o.model.pushStackElement(),o.setCursorStates(i.source,3,ov.expandLineSelection(o,o.getCursorStates())),o.revealAllCursors(i.source,!0)}};V(c2);oc();tt();Fi();qe();var jE=class{constructor(t,e,i){this._selection=t,this._cursors=e,this._selectionId=null,this._trimInRegexesAndStrings=i}getEditOperations(t,e){let i=Zye(t,this._cursors,this._trimInRegexesAndStrings);for(let o=0,r=i.length;o<r;o++){let s=i[o];e.addEditOperation(s.range,s.text)}this._selectionId=e.trackSelection(this._selection)}computeCursorState(t,e){return e.getTrackedSelection(this._selectionId)}};function Zye(n,t,e){t.sort((a,l)=>a.lineNumber===l.lineNumber?a.column-l.column:a.lineNumber-l.lineNumber);for(let a=t.length-2;a>=0;a--)t[a].lineNumber===t[a+1].lineNumber&&t.splice(a,1);let i=[],o=0,r=0,s=t.length;for(let a=1,l=n.getLineCount();a<=l;a++){let c=n.getLineContent(a),d=c.length+1,u=0;if(r<s&&t[r].lineNumber===a&&(u=t[r].column,r++,u===d)||c.length===0)continue;let h=lp(c),m=0;if(h===-1)m=1;else if(h!==c.length-1)m=h+2;else continue;if(!e){if(!n.tokenization.hasAccurateTokensForLine(a))continue;let f=n.tokenization.getLineTokens(a),p=f.getStandardTokenType(f.findTokenIndexAtOffset(m));if(p===2||p===3)continue}m=Math.max(u,m),i[o++]=mi.delete(new A(a,m,a,d))}return i}hi();qe();Pn();$t();qe();Pn();var Cy=class{constructor(t,e,i){this._selection=t,this._isCopyingDown=e,this._noop=i||!1,this._selectionDirection=0,this._selectionId=null,this._startLineNumberDelta=0,this._endLineNumberDelta=0}getEditOperations(t,e){let i=this._selection;this._startLineNumberDelta=0,this._endLineNumberDelta=0,i.startLineNumber<i.endLineNumber&&i.endColumn===1&&(this._endLineNumberDelta=1,i=i.setEndPosition(i.endLineNumber-1,t.getLineMaxColumn(i.endLineNumber-1)));let o=[];for(let s=i.startLineNumber;s<=i.endLineNumber;s++)o.push(t.getLineContent(s));let r=o.join(`
`);r===""&&this._isCopyingDown&&(this._startLineNumberDelta++,this._endLineNumberDelta++),this._noop?e.addEditOperation(new A(i.endLineNumber,t.getLineMaxColumn(i.endLineNumber),i.endLineNumber+1,1),i.endLineNumber===t.getLineCount()?"":`
`):this._isCopyingDown?e.addEditOperation(new A(i.startLineNumber,1,i.startLineNumber,1),r+`
`):e.addEditOperation(new A(i.endLineNumber,t.getLineMaxColumn(i.endLineNumber),i.endLineNumber,t.getLineMaxColumn(i.endLineNumber)),`
`+r),this._selectionId=e.trackSelection(i),this._selectionDirection=this._selection.getDirection()}computeCursorState(t,e){let i=e.getTrackedSelection(this._selectionId);if(this._startLineNumberDelta!==0||this._endLineNumberDelta!==0){let o=i.startLineNumber,r=i.startColumn,s=i.endLineNumber,a=i.endColumn;this._startLineNumberDelta!==0&&(o=o+this._startLineNumberDelta,r=1),this._endLineNumberDelta!==0&&(s=s+this._endLineNumberDelta,a=1),i=ze.createWithDirection(o,r,s,a,this._selectionDirection)}return i}};Fi();qe();Pn();pce();Jo();var Qye=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},Jye=function(n,t){return function(e,i){t(e,i,n)}},UE=class{constructor(t,e,i,o){this._languageConfigurationService=o,this._selection=t,this._isMovingDown=e,this._autoIndent=i,this._selectionId=null,this._moveEndLineSelectionShrink=!1}getEditOperations(t,e){let i=()=>t.getLanguageId(),o=(u,h)=>t.getLanguageIdAtPosition(u,h),r=t.getLineCount();if(this._isMovingDown&&this._selection.endLineNumber===r){this._selectionId=e.trackSelection(this._selection);return}if(!this._isMovingDown&&this._selection.startLineNumber===1){this._selectionId=e.trackSelection(this._selection);return}this._moveEndPositionDown=!1;let s=this._selection;s.startLineNumber<s.endLineNumber&&s.endColumn===1&&(this._moveEndPositionDown=!0,s=s.setEndPosition(s.endLineNumber-1,t.getLineMaxColumn(s.endLineNumber-1)));let{tabSize:a,indentSize:l,insertSpaces:c}=t.getOptions(),d=this.buildIndentConverter(a,l,c);if(s.startLineNumber===s.endLineNumber&&t.getLineMaxColumn(s.startLineNumber)===1){let u=s.startLineNumber,h=this._isMovingDown?u+1:u-1;t.getLineMaxColumn(h)===1?e.addEditOperation(new A(1,1,1,1),null):(e.addEditOperation(new A(u,1,u,1),t.getLineContent(h)),e.addEditOperation(new A(h,1,h,t.getLineMaxColumn(h)),null)),s=new ze(h,1,h,1)}else{let u,h;if(this._isMovingDown){u=s.endLineNumber+1,h=t.getLineContent(u),e.addEditOperation(new A(u-1,t.getLineMaxColumn(u-1),u,t.getLineMaxColumn(u)),null);let m=h;if(this.shouldAutoIndent(t,s)){let f=this.matchEnterRule(t,d,a,u,s.startLineNumber-1);if(f!==null){let g=un(t.getLineContent(u)),v=f+or(g,a);m=pm(v,a,c)+this.trimStart(h)}else{let g={tokenization:{getLineTokens:b=>b===s.startLineNumber?t.tokenization.getLineTokens(u):t.tokenization.getLineTokens(b),getLanguageId:i,getLanguageIdAtPosition:o},getLineContent:b=>b===s.startLineNumber?t.getLineContent(u):t.getLineContent(b)},v=gh(this._autoIndent,g,t.getLanguageIdAtPosition(u,1),s.startLineNumber,d,this._languageConfigurationService);if(v!==null){let b=un(t.getLineContent(u)),C=or(v,a),T=or(b,a);C!==T&&(m=pm(C,a,c)+this.trimStart(h))}}e.addEditOperation(new A(s.startLineNumber,1,s.startLineNumber,1),m+`
`);let p=this.matchEnterRuleMovingDown(t,d,a,s.startLineNumber,u,m);if(p!==null)p!==0&&this.getIndentEditsOfMovingBlock(t,e,s,a,c,p);else{let g={tokenization:{getLineTokens:b=>b===s.startLineNumber?t.tokenization.getLineTokens(u):b>=s.startLineNumber+1&&b<=s.endLineNumber+1?t.tokenization.getLineTokens(b-1):t.tokenization.getLineTokens(b),getLanguageId:i,getLanguageIdAtPosition:o},getLineContent:b=>b===s.startLineNumber?m:b>=s.startLineNumber+1&&b<=s.endLineNumber+1?t.getLineContent(b-1):t.getLineContent(b)},v=gh(this._autoIndent,g,t.getLanguageIdAtPosition(u,1),s.startLineNumber+1,d,this._languageConfigurationService);if(v!==null){let b=un(t.getLineContent(s.startLineNumber)),C=or(v,a),T=or(b,a);if(C!==T){let E=C-T;this.getIndentEditsOfMovingBlock(t,e,s,a,c,E)}}}}else e.addEditOperation(new A(s.startLineNumber,1,s.startLineNumber,1),m+`
`)}else if(u=s.startLineNumber-1,h=t.getLineContent(u),e.addEditOperation(new A(u,1,u+1,1),null),e.addEditOperation(new A(s.endLineNumber,t.getLineMaxColumn(s.endLineNumber),s.endLineNumber,t.getLineMaxColumn(s.endLineNumber)),`
`+h),this.shouldAutoIndent(t,s)){let m={tokenization:{getLineTokens:p=>p===u?t.tokenization.getLineTokens(s.startLineNumber):t.tokenization.getLineTokens(p),getLanguageId:i,getLanguageIdAtPosition:o},getLineContent:p=>p===u?t.getLineContent(s.startLineNumber):t.getLineContent(p)},f=this.matchEnterRule(t,d,a,s.startLineNumber,s.startLineNumber-2);if(f!==null)f!==0&&this.getIndentEditsOfMovingBlock(t,e,s,a,c,f);else{let p=gh(this._autoIndent,m,t.getLanguageIdAtPosition(s.startLineNumber,1),u,d,this._languageConfigurationService);if(p!==null){let g=un(t.getLineContent(s.startLineNumber)),v=or(p,a),b=or(g,a);if(v!==b){let C=v-b;this.getIndentEditsOfMovingBlock(t,e,s,a,c,C)}}}}}this._selectionId=e.trackSelection(s)}buildIndentConverter(t,e,i){return{shiftIndent:o=>Sc.shiftIndent(o,o.length+1,t,e,i),unshiftIndent:o=>Sc.unshiftIndent(o,o.length+1,t,e,i)}}parseEnterResult(t,e,i,o,r){if(r){let s=r.indentation;r.indentAction===V_.None||r.indentAction===V_.Indent?s=r.indentation+r.appendText:r.indentAction===V_.IndentOutdent?s=r.indentation:r.indentAction===V_.Outdent&&(s=e.unshiftIndent(r.indentation)+r.appendText);let a=t.getLineContent(o);if(this.trimStart(a).indexOf(this.trimStart(s))>=0){let l=un(t.getLineContent(o)),c=un(s),d=Bw(t,o,this._languageConfigurationService);d!==null&&d&2&&(c=e.unshiftIndent(c));let u=or(c,i),h=or(l,i);return u-h}}return null}matchEnterRuleMovingDown(t,e,i,o,r,s){if(lp(s)>=0){let a=t.getLineMaxColumn(r),l=zw(this._autoIndent,t,new A(r,a,r,a),this._languageConfigurationService);return this.parseEnterResult(t,e,i,o,l)}else{let a=o-1;for(;a>=1;){let d=t.getLineContent(a);if(lp(d)>=0)break;a--}if(a<1||o>t.getLineCount())return null;let l=t.getLineMaxColumn(a),c=zw(this._autoIndent,t,new A(a,l,a,l),this._languageConfigurationService);return this.parseEnterResult(t,e,i,o,c)}}matchEnterRule(t,e,i,o,r,s){let a=r;for(;a>=1;){let d;if(a===r&&s!==void 0?d=s:d=t.getLineContent(a),lp(d)>=0)break;a--}if(a<1||o>t.getLineCount())return null;let l=t.getLineMaxColumn(a),c=zw(this._autoIndent,t,new A(a,l,a,l),this._languageConfigurationService);return this.parseEnterResult(t,e,i,o,c)}trimStart(t){return t.replace(/^\s+/,"")}shouldAutoIndent(t,e){if(this._autoIndent<4||!t.tokenization.isCheapToTokenize(e.startLineNumber))return!1;let i=t.getLanguageIdAtPosition(e.startLineNumber,1),o=t.getLanguageIdAtPosition(e.endLineNumber,1);return!(i!==o||this._languageConfigurationService.getLanguageConfiguration(i).indentRulesSupport===null)}getIndentEditsOfMovingBlock(t,e,i,o,r,s){for(let a=i.startLineNumber;a<=i.endLineNumber;a++){let l=t.getLineContent(a),c=un(l),u=or(c,o)+s,h=pm(u,o,r);h!==c&&(e.addEditOperation(new A(a,1,a,c.length+1),h),a===i.endLineNumber&&i.endColumn<=c.length+1&&h===""&&(this._moveEndLineSelectionShrink=!0))}}computeCursorState(t,e){let i=e.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(i=i.setEndPosition(i.endLineNumber+1,1)),this._moveEndLineSelectionShrink&&i.startLineNumber<i.endLineNumber&&(i=i.setEndPosition(i.endLineNumber,2)),i}};UE=Qye([Jye(3,_i)],UE);qe();var qE=(()=>{class n{static{this._COLLATOR=null}static getCollator(){return n._COLLATOR||(n._COLLATOR=new Intl.Collator),n._COLLATOR}constructor(e,i){this.selection=e,this.descending=i,this.selectionId=null}getEditOperations(e,i){let o=e0e(e,this.selection,this.descending);o&&i.addEditOperation(o.range,o.text),this.selectionId=i.trackSelection(this.selection)}computeCursorState(e,i){return i.getTrackedSelection(this.selectionId)}static canRun(e,i,o){if(e===null)return!1;let r=o9(e,i,o);if(!r)return!1;for(let s=0,a=r.before.length;s<a;s++)if(r.before[s]!==r.after[s])return!0;return!1}}return n})();function o9(n,t,e){let i=t.startLineNumber,o=t.endLineNumber;if(t.endColumn===1&&o--,i>=o)return null;let r=[];for(let a=i;a<=o;a++)r.push(n.getLineContent(a));let s=r.slice(0);return s.sort(qE.getCollator().compare),e===!0&&(s=s.reverse()),{startLineNumber:i,endLineNumber:o,before:r,after:s}}function e0e(n,t,e){let i=o9(n,t,e);return i?mi.replace(new A(i.startLineNumber,1,i.endLineNumber,n.getLineMaxColumn(i.endLineNumber)),i.after.join(`
`)):null}Ae();$i();Jo();_n();var GE=class extends Z{constructor(t,e){super(e),this.down=t}run(t,e){if(!e.hasModel())return;let i=e.getSelections().map((s,a)=>({selection:s,index:a,ignore:!1}));i.sort((s,a)=>A.compareRangesUsingStarts(s.selection,a.selection));let o=i[0];for(let s=1;s<i.length;s++){let a=i[s];o.selection.endLineNumber===a.selection.startLineNumber&&(o.index<a.index?a.ignore=!0:(o.ignore=!0,o=a))}let r=[];for(let s of i)r.push(new Cy(s.selection,this.down,s.ignore));e.pushUndoStop(),e.executeCommands(this.id,r),e.pushUndoStop()}},d2=class extends GE{constructor(){super(!1,{id:"editor.action.copyLinesUpAction",label:_("lines.copyUp","Copy Line Up"),alias:"Copy Line Up",precondition:M.writable,kbOpts:{kbExpr:M.editorTextFocus,primary:1552,linux:{primary:3600},weight:100},menuOpts:{menuId:ve.MenubarSelectionMenu,group:"2_line",title:_({key:"miCopyLinesUp",comment:["&& denotes a mnemonic"]},"&&Copy Line Up"),order:1}})}},u2=class extends GE{constructor(){super(!0,{id:"editor.action.copyLinesDownAction",label:_("lines.copyDown","Copy Line Down"),alias:"Copy Line Down",precondition:M.writable,kbOpts:{kbExpr:M.editorTextFocus,primary:1554,linux:{primary:3602},weight:100},menuOpts:{menuId:ve.MenubarSelectionMenu,group:"2_line",title:_({key:"miCopyLinesDown",comment:["&& denotes a mnemonic"]},"Co&&py Line Down"),order:2}})}},h2=class extends Z{constructor(){super({id:"editor.action.duplicateSelection",label:_("duplicateSelection","Duplicate Selection"),alias:"Duplicate Selection",precondition:M.writable,menuOpts:{menuId:ve.MenubarSelectionMenu,group:"2_line",title:_({key:"miDuplicateSelection",comment:["&& denotes a mnemonic"]},"&&Duplicate Selection"),order:5}})}run(t,e,i){if(!e.hasModel())return;let o=[],r=e.getSelections(),s=e.getModel();for(let a of r)if(a.isEmpty())o.push(new Cy(a,!0));else{let l=new ze(a.endLineNumber,a.endColumn,a.endLineNumber,a.endColumn);o.push(new bU(l,s.getValueInRange(a)))}e.pushUndoStop(),e.executeCommands(this.id,o),e.pushUndoStop()}},$E=class extends Z{constructor(t,e){super(e),this.down=t}run(t,e){let i=t.get(_i),o=[],r=e.getSelections()||[],s=e.getOption(12);for(let a of r)o.push(new UE(a,this.down,s,i));e.pushUndoStop(),e.executeCommands(this.id,o),e.pushUndoStop()}},m2=class extends $E{constructor(){super(!1,{id:"editor.action.moveLinesUpAction",label:_("lines.moveUp","Move Line Up"),alias:"Move Line Up",precondition:M.writable,kbOpts:{kbExpr:M.editorTextFocus,primary:528,linux:{primary:528},weight:100},menuOpts:{menuId:ve.MenubarSelectionMenu,group:"2_line",title:_({key:"miMoveLinesUp",comment:["&& denotes a mnemonic"]},"Mo&&ve Line Up"),order:3}})}},p2=class extends $E{constructor(){super(!0,{id:"editor.action.moveLinesDownAction",label:_("lines.moveDown","Move Line Down"),alias:"Move Line Down",precondition:M.writable,kbOpts:{kbExpr:M.editorTextFocus,primary:530,linux:{primary:530},weight:100},menuOpts:{menuId:ve.MenubarSelectionMenu,group:"2_line",title:_({key:"miMoveLinesDown",comment:["&& denotes a mnemonic"]},"Move &&Line Down"),order:4}})}},KE=class extends Z{constructor(t,e){super(e),this.descending=t}run(t,e){if(!e.hasModel())return;let i=e.getModel(),o=e.getSelections();o.length===1&&o[0].isEmpty()&&(o=[new ze(1,1,i.getLineCount(),i.getLineMaxColumn(i.getLineCount()))]);for(let s of o)if(!qE.canRun(e.getModel(),s,this.descending))return;let r=[];for(let s=0,a=o.length;s<a;s++)r[s]=new qE(o[s],this.descending);e.pushUndoStop(),e.executeCommands(this.id,r),e.pushUndoStop()}},f2=class extends KE{constructor(){super(!1,{id:"editor.action.sortLinesAscending",label:_("lines.sortAscending","Sort Lines Ascending"),alias:"Sort Lines Ascending",precondition:M.writable})}},g2=class extends KE{constructor(){super(!0,{id:"editor.action.sortLinesDescending",label:_("lines.sortDescending","Sort Lines Descending"),alias:"Sort Lines Descending",precondition:M.writable})}},_2=class extends Z{constructor(){super({id:"editor.action.removeDuplicateLines",label:_("lines.deleteDuplicates","Delete Duplicate Lines"),alias:"Delete Duplicate Lines",precondition:M.writable})}run(t,e){if(!e.hasModel())return;let i=e.getModel();if(i.getLineCount()===1&&i.getLineMaxColumn(1)===1)return;let o=[],r=[],s=0,a=!0,l=e.getSelections();l.length===1&&l[0].isEmpty()&&(l=[new ze(1,1,i.getLineCount(),i.getLineMaxColumn(i.getLineCount()))],a=!1);for(let c of l){let d=new Set,u=[];for(let p=c.startLineNumber;p<=c.endLineNumber;p++){let g=i.getLineContent(p);d.has(g)||(u.push(g),d.add(g))}let h=new ze(c.startLineNumber,1,c.endLineNumber,i.getLineMaxColumn(c.endLineNumber)),m=c.startLineNumber-s,f=new ze(m,1,m+u.length-1,u[u.length-1].length);o.push(mi.replace(h,u.join(`
`))),r.push(f),s+=c.endLineNumber-c.startLineNumber+1-u.length}e.pushUndoStop(),e.executeEdits(this.id,o,a?r:void 0),e.pushUndoStop()}},t0e=(()=>{class n extends Z{static{this.ID="editor.action.trimTrailingWhitespace"}constructor(){super({id:n.ID,label:_("lines.trimTrailingWhitespace","Trim Trailing Whitespace"),alias:"Trim Trailing Whitespace",precondition:M.writable,kbOpts:{kbExpr:M.editorTextFocus,primary:Pi(2089,2102),weight:100}})}run(e,i,o){let r=[];o.reason==="auto-save"&&(r=(i.getSelections()||[]).map(u=>new he(u.positionLineNumber,u.positionColumn)));let s=i.getSelection();if(s===null)return;let a=e.get(_t),l=i.getModel(),c=a.getValue("files.trimTrailingWhitespaceInRegexAndStrings",{overrideIdentifier:l?.getLanguageId(),resource:l?.uri}),d=new jE(s,r,c);i.pushUndoStop(),i.executeCommands(this.id,[d]),i.pushUndoStop()}}return n})(),v2=class extends Z{constructor(){super({id:"editor.action.deleteLines",label:_("lines.delete","Delete Line"),alias:"Delete Line",precondition:M.writable,kbOpts:{kbExpr:M.textInputFocus,primary:3113,weight:100}})}run(t,e){if(!e.hasModel())return;let i=this._getLinesToRemove(e),o=e.getModel();if(o.getLineCount()===1&&o.getLineMaxColumn(1)===1)return;let r=0,s=[],a=[];for(let l=0,c=i.length;l<c;l++){let d=i[l],u=d.startLineNumber,h=d.endLineNumber,m=1,f=o.getLineMaxColumn(h);h<o.getLineCount()?(h+=1,f=1):u>1&&(u-=1,m=o.getLineMaxColumn(u)),s.push(mi.replace(new ze(u,m,h,f),"")),a.push(new ze(u-r,d.positionColumn,u-r,d.positionColumn)),r+=d.endLineNumber-d.startLineNumber+1}e.pushUndoStop(),e.executeEdits(this.id,s,a),e.pushUndoStop()}_getLinesToRemove(t){let e=t.getSelections().map(r=>{let s=r.endLineNumber;return r.startLineNumber<r.endLineNumber&&r.endColumn===1&&(s-=1),{startLineNumber:r.startLineNumber,selectionStartColumn:r.selectionStartColumn,endLineNumber:s,positionColumn:r.positionColumn}});e.sort((r,s)=>r.startLineNumber===s.startLineNumber?r.endLineNumber-s.endLineNumber:r.startLineNumber-s.startLineNumber);let i=[],o=e[0];for(let r=1;r<e.length;r++)o.endLineNumber+1>=e[r].startLineNumber?o.endLineNumber=e[r].endLineNumber:(i.push(o),o=e[r]);return i.push(o),i}},b2=class extends Z{constructor(){super({id:"editor.action.indentLines",label:_("lines.indent","Indent Line"),alias:"Indent Line",precondition:M.writable,kbOpts:{kbExpr:M.editorTextFocus,primary:2142,weight:100}})}run(t,e){let i=e._getViewModel();i&&(e.pushUndoStop(),e.executeCommands(this.id,xU.indent(i.cursorConfig,e.getModel(),e.getSelections())),e.pushUndoStop())}},y2=class extends Z{constructor(){super({id:"editor.action.outdentLines",label:_("lines.outdent","Outdent Line"),alias:"Outdent Line",precondition:M.writable,kbOpts:{kbExpr:M.editorTextFocus,primary:2140,weight:100}})}run(t,e){kp.Outdent.runEditorCommand(t,e,null)}},x2=class extends Z{constructor(){super({id:"editor.action.insertLineBefore",label:_("lines.insertBefore","Insert Line Above"),alias:"Insert Line Above",precondition:M.writable,kbOpts:{kbExpr:M.editorTextFocus,primary:3075,weight:100}})}run(t,e){let i=e._getViewModel();i&&(e.pushUndoStop(),e.executeCommands(this.id,BA.lineInsertBefore(i.cursorConfig,e.getModel(),e.getSelections())))}},w2=class extends Z{constructor(){super({id:"editor.action.insertLineAfter",label:_("lines.insertAfter","Insert Line Below"),alias:"Insert Line Below",precondition:M.writable,kbOpts:{kbExpr:M.editorTextFocus,primary:2051,weight:100}})}run(t,e){let i=e._getViewModel();i&&(e.pushUndoStop(),e.executeCommands(this.id,BA.lineInsertAfter(i.cursorConfig,e.getModel(),e.getSelections())))}},YE=class extends Z{run(t,e){if(!e.hasModel())return;let i=e.getSelection(),o=this._getRangesToDelete(e),r=[];for(let l=0,c=o.length-1;l<c;l++){let d=o[l],u=o[l+1];A.intersectRanges(d,u)===null?r.push(d):o[l+1]=A.plusRange(d,u)}r.push(o[o.length-1]);let s=this._getEndCursorState(i,r),a=r.map(l=>mi.replace(l,""));e.pushUndoStop(),e.executeEdits(this.id,a,s),e.pushUndoStop()}},C2=class extends YE{constructor(){super({id:"deleteAllLeft",label:_("lines.deleteAllLeft","Delete All Left"),alias:"Delete All Left",precondition:M.writable,kbOpts:{kbExpr:M.textInputFocus,primary:0,mac:{primary:2049},weight:100}})}_getEndCursorState(t,e){let i=null,o=[],r=0;return e.forEach(s=>{let a;if(s.endColumn===1&&r>0){let l=s.startLineNumber-r;a=new ze(l,s.startColumn,l,s.startColumn)}else a=new ze(s.startLineNumber,s.startColumn,s.startLineNumber,s.startColumn);r+=s.endLineNumber-s.startLineNumber,s.intersectRanges(t)?i=a:o.push(a)}),i&&o.unshift(i),o}_getRangesToDelete(t){let e=t.getSelections();if(e===null)return[];let i=e,o=t.getModel();return o===null?[]:(i.sort(A.compareRangesUsingStarts),i=i.map(r=>{if(r.isEmpty())if(r.startColumn===1){let s=Math.max(1,r.startLineNumber-1),a=r.startLineNumber===1?1:o.getLineLength(s)+1;return new A(s,a,r.startLineNumber,1)}else return new A(r.startLineNumber,1,r.startLineNumber,r.startColumn);else return new A(r.startLineNumber,1,r.endLineNumber,r.endColumn)}),i)}},S2=class extends YE{constructor(){super({id:"deleteAllRight",label:_("lines.deleteAllRight","Delete All Right"),alias:"Delete All Right",precondition:M.writable,kbOpts:{kbExpr:M.textInputFocus,primary:0,mac:{primary:297,secondary:[2068]},weight:100}})}_getEndCursorState(t,e){let i=null,o=[];for(let r=0,s=e.length,a=0;r<s;r++){let l=e[r],c=new ze(l.startLineNumber-a,l.startColumn,l.startLineNumber-a,l.startColumn);l.intersectRanges(t)?i=c:o.push(c)}return i&&o.unshift(i),o}_getRangesToDelete(t){let e=t.getModel();if(e===null)return[];let i=t.getSelections();if(i===null)return[];let o=i.map(r=>{if(r.isEmpty()){let s=e.getLineMaxColumn(r.startLineNumber);return r.startColumn===s?new A(r.startLineNumber,r.startColumn,r.startLineNumber+1,1):new A(r.startLineNumber,r.startColumn,r.startLineNumber,s)}return r});return o.sort(A.compareRangesUsingStarts),o}},I2=class extends Z{constructor(){super({id:"editor.action.joinLines",label:_("lines.joinLines","Join Lines"),alias:"Join Lines",precondition:M.writable,kbOpts:{kbExpr:M.editorTextFocus,primary:0,mac:{primary:296},weight:100}})}run(t,e){let i=e.getSelections();if(i===null)return;let o=e.getSelection();if(o===null)return;i.sort(A.compareRangesUsingStarts);let r=[],s=i.reduce((h,m)=>h.isEmpty()?h.endLineNumber===m.startLineNumber?(o.equalsSelection(h)&&(o=m),m):m.startLineNumber>h.endLineNumber+1?(r.push(h),m):new ze(h.startLineNumber,h.startColumn,m.endLineNumber,m.endColumn):m.startLineNumber>h.endLineNumber?(r.push(h),m):new ze(h.startLineNumber,h.startColumn,m.endLineNumber,m.endColumn));r.push(s);let a=e.getModel();if(a===null)return;let l=[],c=[],d=o,u=0;for(let h=0,m=r.length;h<m;h++){let f=r[h],p=f.startLineNumber,g=1,v=0,b,C,T=a.getLineLength(f.endLineNumber)-f.endColumn;if(f.isEmpty()||f.startLineNumber===f.endLineNumber){let L=f.getStartPosition();L.lineNumber<a.getLineCount()?(b=p+1,C=a.getLineMaxColumn(b)):(b=L.lineNumber,C=a.getLineMaxColumn(L.lineNumber))}else b=f.endLineNumber,C=a.getLineMaxColumn(b);let E=a.getLineContent(p);for(let L=p+1;L<=b;L++){let H=a.getLineContent(L),re=a.getLineFirstNonWhitespaceColumn(L);if(re>=1){let R=!0;E===""&&(R=!1),R&&(E.charAt(E.length-1)===" "||E.charAt(E.length-1)==="	")&&(R=!1,E=E.replace(/[\s\uFEFF\xA0]+$/g," "));let W=H.substr(re-1);E+=(R?" ":"")+W,R?v=W.length+1:v=W.length}else v=0}let F=new A(p,g,b,C);if(!F.isEmpty()){let L;f.isEmpty()?(l.push(mi.replace(F,E)),L=new ze(F.startLineNumber-u,E.length-v+1,p-u,E.length-v+1)):f.startLineNumber===f.endLineNumber?(l.push(mi.replace(F,E)),L=new ze(f.startLineNumber-u,f.startColumn,f.endLineNumber-u,f.endColumn)):(l.push(mi.replace(F,E)),L=new ze(f.startLineNumber-u,f.startColumn,f.startLineNumber-u,E.length-T)),A.intersectRanges(F,o)!==null?d=L:c.push(L)}u+=F.endLineNumber-F.startLineNumber}c.unshift(d),e.pushUndoStop(),e.executeEdits(this.id,l,c),e.pushUndoStop()}},D2=class extends Z{constructor(){super({id:"editor.action.transpose",label:_("editor.transpose","Transpose Characters around the Cursor"),alias:"Transpose Characters around the Cursor",precondition:M.writable})}run(t,e){let i=e.getSelections();if(i===null)return;let o=e.getModel();if(o===null)return;let r=[];for(let s=0,a=i.length;s<a;s++){let l=i[s];if(!l.isEmpty())continue;let c=l.getStartPosition(),d=o.getLineMaxColumn(c.lineNumber);if(c.column>=d){if(c.lineNumber===o.getLineCount())continue;let u=new A(c.lineNumber,Math.max(1,c.column-1),c.lineNumber+1,1),h=o.getValueInRange(u).split("").reverse().join("");r.push(new Cc(new ze(c.lineNumber,Math.max(1,c.column-1),c.lineNumber+1,1),h))}else{let u=new A(c.lineNumber,Math.max(1,c.column-1),c.lineNumber,c.column+1),h=o.getValueInRange(u).split("").reverse().join("");r.push(new Nw(u,h,new ze(c.lineNumber,c.column+1,c.lineNumber,c.column+1)))}}e.pushUndoStop(),e.executeCommands(this.id,r),e.pushUndoStop()}},jc=class extends Z{run(t,e){let i=e.getSelections();if(i===null)return;let o=e.getModel();if(o===null)return;let r=e.getOption(132),s=[];for(let a of i)if(a.isEmpty()){let l=a.getStartPosition(),c=e.getConfiguredWordAtPosition(l);if(!c)continue;let d=new A(l.lineNumber,c.startColumn,l.lineNumber,c.endColumn),u=o.getValueInRange(d);s.push(mi.replace(d,this._modifyText(u,r)))}else{let l=o.getValueInRange(a);s.push(mi.replace(a,this._modifyText(l,r)))}e.pushUndoStop(),e.executeEdits(this.id,s),e.pushUndoStop()}},E2=class extends jc{constructor(){super({id:"editor.action.transformToUppercase",label:_("editor.transformToUppercase","Transform to Uppercase"),alias:"Transform to Uppercase",precondition:M.writable})}_modifyText(t,e){return t.toLocaleUpperCase()}},k2=class extends jc{constructor(){super({id:"editor.action.transformToLowercase",label:_("editor.transformToLowercase","Transform to Lowercase"),alias:"Transform to Lowercase",precondition:M.writable})}_modifyText(t,e){return t.toLocaleLowerCase()}},qa=class{constructor(t,e){this._pattern=t,this._flags=e,this._actual=null,this._evaluated=!1}get(){if(!this._evaluated){this._evaluated=!0;try{this._actual=new RegExp(this._pattern,this._flags)}catch{}}return this._actual}isSupported(){return this.get()!==null}},XE=class n extends jc{static{this.titleBoundary=new qa("(^|[^\\p{L}\\p{N}']|((^|\\P{L})'))\\p{L}","gmu")}constructor(){super({id:"editor.action.transformToTitlecase",label:_("editor.transformToTitlecase","Transform to Title Case"),alias:"Transform to Title Case",precondition:M.writable})}_modifyText(t,e){let i=n.titleBoundary.get();return i?t.toLocaleLowerCase().replace(i,o=>o.toLocaleUpperCase()):t}},Sy=class n extends jc{static{this.caseBoundary=new qa("(\\p{Ll})(\\p{Lu})","gmu")}static{this.singleLetters=new qa("(\\p{Lu}|\\p{N})(\\p{Lu})(\\p{Ll})","gmu")}constructor(){super({id:"editor.action.transformToSnakecase",label:_("editor.transformToSnakecase","Transform to Snake Case"),alias:"Transform to Snake Case",precondition:M.writable})}_modifyText(t,e){let i=n.caseBoundary.get(),o=n.singleLetters.get();return!i||!o?t:t.replace(i,"$1_$2").replace(o,"$1_$2$3").toLocaleLowerCase()}},ZE=class n extends jc{static{this.wordBoundary=new qa("[_\\s-]","gm")}constructor(){super({id:"editor.action.transformToCamelcase",label:_("editor.transformToCamelcase","Transform to Camel Case"),alias:"Transform to Camel Case",precondition:M.writable})}_modifyText(t,e){let i=n.wordBoundary.get();if(!i)return t;let o=t.split(i);return o.shift()+o.map(s=>s.substring(0,1).toLocaleUpperCase()+s.substring(1)).join("")}},QE=class n extends jc{static{this.wordBoundary=new qa("[_\\s-]","gm")}static{this.wordBoundaryToMaintain=new qa("(?<=\\.)","gm")}constructor(){super({id:"editor.action.transformToPascalcase",label:_("editor.transformToPascalcase","Transform to Pascal Case"),alias:"Transform to Pascal Case",precondition:M.writable})}_modifyText(t,e){let i=n.wordBoundary.get(),o=n.wordBoundaryToMaintain.get();return!i||!o?t:t.split(o).map(a=>a.split(i)).flat().map(a=>a.substring(0,1).toLocaleUpperCase()+a.substring(1)).join("")}},JE=class n extends jc{static isSupported(){return[this.caseBoundary,this.singleLetters,this.underscoreBoundary].every(e=>e.isSupported())}static{this.caseBoundary=new qa("(\\p{Ll})(\\p{Lu})","gmu")}static{this.singleLetters=new qa("(\\p{Lu}|\\p{N})(\\p{Lu}\\p{Ll})","gmu")}static{this.underscoreBoundary=new qa("(\\S)(_)(\\S)","gm")}constructor(){super({id:"editor.action.transformToKebabcase",label:_("editor.transformToKebabcase","Transform to Kebab Case"),alias:"Transform to Kebab Case",precondition:M.writable})}_modifyText(t,e){let i=n.caseBoundary.get(),o=n.singleLetters.get(),r=n.underscoreBoundary.get();return!i||!o||!r?t:t.replace(r,"$1-$3").replace(i,"$1-$2").replace(o,"$1-$2").toLocaleLowerCase()}};V(d2);V(u2);V(h2);V(m2);V(p2);V(f2);V(g2);V(_2);V(t0e);V(v2);V(b2);V(y2);V(x2);V(w2);V(C2);V(S2);V(I2);V(D2);V(E2);V(k2);Sy.caseBoundary.isSupported()&&Sy.singleLetters.isSupported()&&V(Sy);ZE.wordBoundary.isSupported()&&V(ZE);QE.wordBoundary.isSupported()&&V(QE);XE.titleBoundary.isSupported()&&V(XE);JE.isSupported()&&V(JE);Oi();Ht();gi();ml();Bt();oi();ce();Fi();On();tt();Fo();hi();qe();$t();bn();Jo();Ae();mt();Lt();Eo();Fs();Ls();var i0e=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},e1=function(n,t){return function(e,i){t(e,i,n)}},t1,r9=new ot("LinkedEditingInputVisible",!1),n0e="linked-editing-decoration",Cg=class extends U{static{t1=this}static{this.ID="editor.contrib.linkedEditing"}static{this.DECORATION=at.register({description:"linked-editing",stickiness:0,className:n0e})}static get(t){return t.getContribution(t1.ID)}constructor(t,e,i,o,r){super(),this.languageConfigurationService=o,this._syncRangesToken=0,this._localToDispose=this._register(new G),this._editor=t,this._providers=i.linkedEditingRangeProvider,this._enabled=!1,this._visibleContextKey=r9.bindTo(e),this._debounceInformation=r.for(this._providers,"Linked Editing",{max:200}),this._currentDecorations=this._editor.createDecorationsCollection(),this._languageWordPattern=null,this._currentWordPattern=null,this._ignoreChangeEvent=!1,this._localToDispose=this._register(new G),this._rangeUpdateTriggerPromise=null,this._rangeSyncTriggerPromise=null,this._currentRequestCts=null,this._currentRequestPosition=null,this._currentRequestModelVersion=null,this._register(this._editor.onDidChangeModel(()=>this.reinitialize(!0))),this._register(this._editor.onDidChangeConfiguration(s=>{(s.hasChanged(70)||s.hasChanged(94))&&this.reinitialize(!1)})),this._register(this._providers.onDidChange(()=>this.reinitialize(!1))),this._register(this._editor.onDidChangeModelLanguage(()=>this.reinitialize(!0))),this.reinitialize(!0)}reinitialize(t){let e=this._editor.getModel(),i=e!==null&&(this._editor.getOption(70)||this._editor.getOption(94))&&this._providers.has(e);if(i===this._enabled&&!t||(this._enabled=i,this.clearRanges(),this._localToDispose.clear(),!i||e===null))return;this._localToDispose.add(bi.runAndSubscribe(e.onDidChangeLanguageConfiguration,()=>{this._languageWordPattern=this.languageConfigurationService.getLanguageConfiguration(e.getLanguageId()).getWordDefinition()}));let o=new Ir(this._debounceInformation.get(e)),r=()=>{this._rangeUpdateTriggerPromise=o.trigger(()=>this.updateRanges(),this._debounceDuration??this._debounceInformation.get(e))},s=new Ir(0),a=l=>{this._rangeSyncTriggerPromise=s.trigger(()=>this._syncRanges(l))};this._localToDispose.add(this._editor.onDidChangeCursorPosition(()=>{r()})),this._localToDispose.add(this._editor.onDidChangeModelContent(l=>{if(!this._ignoreChangeEvent&&this._currentDecorations.length>0){let c=this._currentDecorations.getRange(0);if(c&&l.changes.every(d=>c.intersectRanges(d.range))){a(this._syncRangesToken);return}}r()})),this._localToDispose.add({dispose:()=>{o.dispose(),s.dispose()}}),this.updateRanges()}_syncRanges(t){if(!this._editor.hasModel()||t!==this._syncRangesToken||this._currentDecorations.length===0)return;let e=this._editor.getModel(),i=this._currentDecorations.getRange(0);if(!i||i.startLineNumber!==i.endLineNumber)return this.clearRanges();let o=e.getValueInRange(i);if(this._currentWordPattern){let s=o.match(this._currentWordPattern);if((s?s[0].length:0)!==o.length)return this.clearRanges()}let r=[];for(let s=1,a=this._currentDecorations.length;s<a;s++){let l=this._currentDecorations.getRange(s);if(l)if(l.startLineNumber!==l.endLineNumber)r.push({range:l,text:o});else{let c=e.getValueInRange(l),d=o,u=l.startColumn,h=l.endColumn,m=rl(c,d);u+=m,c=c.substr(m),d=d.substr(m);let f=xj(c,d);h-=f,c=c.substr(0,c.length-f),d=d.substr(0,d.length-f),(u!==h||d.length!==0)&&r.push({range:new A(l.startLineNumber,u,l.endLineNumber,h),text:d})}}if(r.length!==0)try{this._editor.popUndoStop(),this._ignoreChangeEvent=!0;let s=this._editor._getViewModel().getPrevEditOperationType();this._editor.executeEdits("linkedEditing",r),this._editor._getViewModel().setPrevEditOperationType(s)}finally{this._ignoreChangeEvent=!1}}dispose(){this.clearRanges(),super.dispose()}clearRanges(){this._visibleContextKey.set(!1),this._currentDecorations.clear(),this._currentRequestCts&&(this._currentRequestCts.cancel(),this._currentRequestCts=null,this._currentRequestPosition=null)}updateRanges(t=!1){return k(this,null,function*(){if(!this._editor.hasModel()){this.clearRanges();return}let e=this._editor.getPosition();if(!this._enabled&&!t||this._editor.getSelections().length>1){this.clearRanges();return}let i=this._editor.getModel(),o=i.getVersionId();if(this._currentRequestPosition&&this._currentRequestModelVersion===o){if(e.equals(this._currentRequestPosition))return;if(this._currentDecorations.length>0){let s=this._currentDecorations.getRange(0);if(s&&s.containsPosition(e))return}}this.clearRanges(),this._currentRequestPosition=e,this._currentRequestModelVersion=o;let r=this._currentRequestCts=new fi;try{let s=new Xi(!1),a=yield s9(this._providers,i,e,r.token);if(this._debounceInformation.update(i,s.elapsed()),r!==this._currentRequestCts||(this._currentRequestCts=null,o!==i.getVersionId()))return;let l=[];a?.ranges&&(l=a.ranges),this._currentWordPattern=a?.wordPattern||this._languageWordPattern;let c=!1;for(let u=0,h=l.length;u<h;u++)if(A.containsPosition(l[u],e)){if(c=!0,u!==0){let m=l[u];l.splice(u,1),l.unshift(m)}break}if(!c){this.clearRanges();return}let d=l.map(u=>({range:u,options:t1.DECORATION}));this._visibleContextKey.set(!0),this._currentDecorations.set(d),this._syncRangesToken++}catch(s){ur(s)||ut(s),(this._currentRequestCts===r||!this._currentRequestCts)&&this.clearRanges()}})}};Cg=t1=i0e([e1(1,Xe),e1(2,ae),e1(3,_i),e1(4,vn)],Cg);var M2=class extends Z{constructor(){super({id:"editor.action.linkedEditing",label:_("linkedEditing.label","Start Linked Editing"),alias:"Start Linked Editing",precondition:K.and(M.writable,M.hasRenameProvider),kbOpts:{kbExpr:M.editorTextFocus,primary:3132,weight:100}})}runCommand(t,e){let i=t.get(Xt),[o,r]=Array.isArray(e)&&e||[void 0,void 0];return ht.isUri(o)&&he.isIPosition(r)?i.openCodeEditor({resource:o},i.getActiveCodeEditor()).then(s=>{s&&(s.setPosition(r),s.invokeWithinContext(a=>(this.reportTelemetry(a,s),this.run(a,s))))},ut):super.runCommand(t,e)}run(t,e){let i=Cg.get(e);return i?Promise.resolve(i.updateRanges(!0)):Promise.resolve()}},o0e=Ki.bindToContribution(Cg.get);Ne(new o0e({id:"cancelLinkedEditingInput",precondition:r9,handler:n=>n.clearRanges(),kbOpts:{kbExpr:M.editorTextFocus,weight:199,primary:9,secondary:[1033]}}));function s9(n,t,e,i){let o=n.ordered(t);return B_(o.map(r=>()=>k(this,null,function*(){try{return yield r.provideLinkedEditingRanges(t,e,i)}catch(s){zt(s);return}})),r=>!!r&&Dn(r?.ranges))}var vOt=Oe("editor.linkedEditingBackground",{dark:It.fromHex("#f00").transparent(.3),light:It.fromHex("#f00").transparent(.3),hcDark:It.fromHex("#f00").transparent(.3),hcLight:It.white},_("editorLinkedEditingBackground","Background color when the editor auto renames on type."));oo("_executeLinkedEditingProvider",(n,t,e)=>{let{linkedEditingRangeProvider:i}=n.get(ae);return s9(i,t,e,Je.None)});Me(Cg.ID,Cg,1);V(M2);Ht();gi();Bt();Hs();ce();oh();Yo();Ur();Ls();On();tt();bn();Fs();Lt();Oi();gi();Bt();ce();io();On();qe();ls();Ui();Lt();var T2=class{constructor(t,e){this._link=t,this._provider=e}toJSON(){return{range:this.range,url:this.url,tooltip:this.tooltip}}get range(){return this._link.range}get url(){return this._link.url}get tooltip(){return this._link.tooltip}resolve(t){return k(this,null,function*(){return this._link.url?this._link.url:typeof this._provider.resolveLink=="function"?Promise.resolve(this._provider.resolveLink(this._link,t)).then(e=>(this._link=e||this._link,this._link.url?this.resolve(t):Promise.reject(new Error("missing")))):Promise.reject(new Error("missing"))})}},i1=class n{constructor(t){this._disposables=new G;let e=[];for(let[i,o]of t){let r=i.links.map(s=>new T2(s,o));e=n._union(e,r),Ox(i)&&this._disposables.add(i)}this.links=e}dispose(){this._disposables.dispose(),this.links.length=0}static _union(t,e){let i=[],o,r,s,a;for(o=0,s=0,r=t.length,a=e.length;o<r&&s<a;){let l=t[o],c=e[s];if(A.areIntersectingOrTouching(l.range,c.range)){o++;continue}A.compareRangesUsingStarts(l.range,c.range)<0?(i.push(l),o++):(i.push(c),s++)}for(;o<r;o++)i.push(t[o]);for(;s<a;s++)i.push(e[s]);return i}};function A2(n,t,e){let i=[],o=n.ordered(t).reverse().map((r,s)=>Promise.resolve(r.provideLinks(t,e)).then(a=>{a&&(i[s]=[a,r])},zt));return Promise.all(o).then(()=>{let r=new i1(Ko(i));return e.isCancellationRequested?(r.dispose(),new i1([])):r})}Pt.registerCommand("_executeLinkProvider",(n,...t)=>k(void 0,null,function*(){let[e,i]=t;Tt(e instanceof ht),typeof i!="number"&&(i=0);let{linkProvider:o}=n.get(ae),r=n.get(ji).getModel(e);if(!r)return[];let s=yield A2(o,r,Je.None);if(!s)return[];for(let l=0;l<Math.min(i,s.links.length);l++)yield s.links[l].resolve(Je.None);let a=s.links.slice(0);return s.dispose(),a}));Ae();var r0e=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},n1=function(n,t){return function(e,i){t(e,i,n)}},R2,Iy=class extends U{static{R2=this}static{this.ID="editor.linkDetector"}static get(e){return e.getContribution(R2.ID)}constructor(e,i,o,r,s){super(),this.editor=e,this.openerService=i,this.notificationService=o,this.languageFeaturesService=r,this.providers=this.languageFeaturesService.linkProvider,this.debounceInformation=s.for(this.providers,"Links",{min:1e3,max:4e3}),this.computeLinks=this._register(new si(()=>this.computeLinksNow(),1e3)),this.computePromise=null,this.activeLinksList=null,this.currentOccurrences={},this.activeLinkDecorationId=null;let a=this._register(new kl(e));this._register(a.onMouseMoveOrRelevantKeyDown(([l,c])=>{this._onEditorMouseMove(l,c)})),this._register(a.onExecute(l=>{this.onEditorMouseUp(l)})),this._register(a.onCancel(l=>{this.cleanUpActiveLinkDecoration()})),this._register(e.onDidChangeConfiguration(l=>{l.hasChanged(71)&&(this.updateDecorations([]),this.stop(),this.computeLinks.schedule(0))})),this._register(e.onDidChangeModelContent(l=>{this.editor.hasModel()&&this.computeLinks.schedule(this.debounceInformation.get(this.editor.getModel()))})),this._register(e.onDidChangeModel(l=>{this.currentOccurrences={},this.activeLinkDecorationId=null,this.stop(),this.computeLinks.schedule(0)})),this._register(e.onDidChangeModelLanguage(l=>{this.stop(),this.computeLinks.schedule(0)})),this._register(this.providers.onDidChange(l=>{this.stop(),this.computeLinks.schedule(0)})),this.computeLinks.schedule(0)}computeLinksNow(){return k(this,null,function*(){if(!this.editor.hasModel()||!this.editor.getOption(71))return;let e=this.editor.getModel();if(!e.isTooLargeForSyncing()&&this.providers.has(e)){this.activeLinksList&&(this.activeLinksList.dispose(),this.activeLinksList=null),this.computePromise=yi(i=>A2(this.providers,e,i));try{let i=new Xi(!1);if(this.activeLinksList=yield this.computePromise,this.debounceInformation.update(e,i.elapsed()),e.isDisposed())return;this.updateDecorations(this.activeLinksList.links)}catch(i){ut(i)}finally{this.computePromise=null}}})}updateDecorations(e){let i=this.editor.getOption(78)==="altKey",o=[],r=Object.keys(this.currentOccurrences);for(let a of r){let l=this.currentOccurrences[a];o.push(l.decorationId)}let s=[];if(e)for(let a of e)s.push(o1.decoration(a,i));this.editor.changeDecorations(a=>{let l=a.deltaDecorations(o,s);this.currentOccurrences={},this.activeLinkDecorationId=null;for(let c=0,d=l.length;c<d;c++){let u=new o1(e[c],l[c]);this.currentOccurrences[u.decorationId]=u}})}_onEditorMouseMove(e,i){let o=this.editor.getOption(78)==="altKey";if(this.isEnabled(e,i)){this.cleanUpActiveLinkDecoration();let r=this.getLinkOccurrence(e.target.position);r&&this.editor.changeDecorations(s=>{r.activate(s,o),this.activeLinkDecorationId=r.decorationId})}else this.cleanUpActiveLinkDecoration()}cleanUpActiveLinkDecoration(){let e=this.editor.getOption(78)==="altKey";if(this.activeLinkDecorationId){let i=this.currentOccurrences[this.activeLinkDecorationId];i&&this.editor.changeDecorations(o=>{i.deactivate(o,e)}),this.activeLinkDecorationId=null}}onEditorMouseUp(e){if(!this.isEnabled(e))return;let i=this.getLinkOccurrence(e.target.position);i&&this.openLinkOccurrence(i,e.hasSideBySideModifier,!0)}openLinkOccurrence(e,i,o=!1){if(!this.openerService)return;let{link:r}=e;r.resolve(Je.None).then(s=>{if(typeof s=="string"&&this.editor.hasModel()){let a=this.editor.getModel().uri;if(a.scheme===Ln.file&&s.startsWith(`${Ln.file}:`)){let l=ht.parse(s);if(l.scheme===Ln.file){let c=r5(l),d=null;c.startsWith("/./")||c.startsWith("\\.\\")?d=`.${c.substr(1)}`:(c.startsWith("//./")||c.startsWith("\\\\.\\"))&&(d=`.${c.substr(2)}`),d&&(s=l5(a,d))}}}return this.openerService.open(s,{openToSide:i,fromUserGesture:o,allowContributedOpeners:!0,allowCommands:!0,fromWorkspace:!0})},s=>{let a=s instanceof Error?s.message:s;a==="invalid"?this.notificationService.warn(_("invalid.url","Failed to open this link because it is not well-formed: {0}",r.url.toString())):a==="missing"?this.notificationService.warn(_("missing.url","Failed to open this link because its target is missing.")):ut(s)})}getLinkOccurrence(e){if(!this.editor.hasModel()||!e)return null;let i=this.editor.getModel().getDecorationsInRange({startLineNumber:e.lineNumber,startColumn:e.column,endLineNumber:e.lineNumber,endColumn:e.column},0,!0);for(let o of i){let r=this.currentOccurrences[o.id];if(r)return r}return null}isEnabled(e,i){return!!(e.target.type===6&&(e.hasTriggerModifier||i&&i.keyCodeIsTriggerKey))}stop(){this.computeLinks.cancel(),this.activeLinksList&&(this.activeLinksList?.dispose(),this.activeLinksList=null),this.computePromise&&(this.computePromise.cancel(),this.computePromise=null)}dispose(){super.dispose(),this.stop()}};Iy=R2=r0e([n1(1,Gn),n1(2,Bi),n1(3,ae),n1(4,vn)],Iy);var a9={general:at.register({description:"detected-link",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link"}),active:at.register({description:"detected-link-active",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link-active"})},o1=class n{static decoration(t,e){return{range:t.range,options:n._getOptions(t,e,!1)}}static _getOptions(t,e,i){let o=j({},i?a9.active:a9.general);return o.hoverMessage=s0e(t,e),o}constructor(t,e){this.link=t,this.decorationId=e}activate(t,e){t.changeDecorationOptions(this.decorationId,n._getOptions(this.link,e,!0))}deactivate(t,e){t.changeDecorationOptions(this.decorationId,n._getOptions(this.link,e,!1))}};function s0e(n,t){let e=n.url&&/^command:/i.test(n.url.toString()),i=n.tooltip?n.tooltip:e?_("links.navigate.executeCmd","Execute command"):_("links.navigate.follow","Follow link"),o=t?dr?_("links.navigate.kb.meta.mac","cmd + click"):_("links.navigate.kb.meta","ctrl + click"):dr?_("links.navigate.kb.alt.mac","option + click"):_("links.navigate.kb.alt","alt + click");if(n.url){let r="";if(/^command:/i.test(n.url.toString())){let a=n.url.toString().match(/^command:([^?#]+)/);if(a){let l=a[1];r=_("tooltip.explanation","Execute command {0}",l)}}return new hn("",!0).appendLink(n.url.toString(!0).replace(/ /g,"%20"),i,r).appendMarkdown(` (${o})`)}else return new hn().appendText(`${i} (${o})`)}var O2=class extends Z{constructor(){super({id:"editor.action.openLink",label:_("label","Open Link"),alias:"Open Link",precondition:void 0})}run(t,e){let i=Iy.get(e);if(!i||!e.hasModel())return;let o=e.getSelections();for(let r of o){let s=i.getLinkOccurrence(r.getEndPosition());s&&i.openLinkOccurrence(s,!1)}}};Me(Iy.ID,Iy,1);V(O2);ce();tt();var l9=(()=>{class n extends U{static{this.ID="editor.contrib.longLinesHelper"}constructor(e){super(),this._editor=e,this._register(this._editor.onMouseDown(i=>{let o=this._editor.getOption(118);o>=0&&i.target.type===6&&i.target.position.column>=o&&this._editor.updateOptions({stopRenderingLineAfter:-1})}))}}return n})();Me(l9.ID,l9,2);Ht();oc();ce();tt();qe();Pn();$t();Ae();$i();mt();Lt();ka();bn();gn();Ae();Eo();Do();var a0e=Oe("editor.wordHighlightBackground",{dark:"#575757B8",light:"#57575740",hcDark:null,hcLight:null},_("wordHighlight","Background color of a symbol during read-access, like reading a variable. The color must not be opaque so as not to hide underlying decorations."),!0);Oe("editor.wordHighlightStrongBackground",{dark:"#004972B8",light:"#0e639c40",hcDark:null,hcLight:null},_("wordHighlightStrong","Background color of a symbol during write-access, like writing to a variable. The color must not be opaque so as not to hide underlying decorations."),!0);Oe("editor.wordHighlightTextBackground",a0e,_("wordHighlightText","Background color of a textual occurrence for a symbol. The color must not be opaque so as not to hide underlying decorations."),!0);var l0e=Oe("editor.wordHighlightBorder",{light:null,dark:null,hcDark:fl,hcLight:fl},_("wordHighlightBorder","Border color of a symbol during read-access, like reading a variable."));Oe("editor.wordHighlightStrongBorder",{light:null,dark:null,hcDark:fl,hcLight:fl},_("wordHighlightStrongBorder","Border color of a symbol during write-access, like writing to a variable."));Oe("editor.wordHighlightTextBorder",l0e,_("wordHighlightTextBorder","Border color of a textual occurrence for a symbol."));var c0e=Oe("editorOverviewRuler.wordHighlightForeground","#A0A0A0CC",_("overviewRulerWordHighlightForeground","Overview ruler marker color for symbol highlights. The color must not be opaque so as not to hide underlying decorations."),!0),d0e=Oe("editorOverviewRuler.wordHighlightStrongForeground","#C0A0C0CC",_("overviewRulerWordHighlightStrongForeground","Overview ruler marker color for write-access symbol highlights. The color must not be opaque so as not to hide underlying decorations."),!0),u0e=Oe("editorOverviewRuler.wordHighlightTextForeground",vA,_("overviewRulerWordHighlightTextForeground","Overview ruler marker color of a textual occurrence for a symbol. The color must not be opaque so as not to hide underlying decorations."),!0),h0e=at.register({description:"word-highlight-strong",stickiness:1,className:"wordHighlightStrong",overviewRuler:{color:zi(d0e),position:Mr.Center},minimap:{color:zi($_),position:1}}),m0e=at.register({description:"word-highlight-text",stickiness:1,className:"wordHighlightText",overviewRuler:{color:zi(u0e),position:Mr.Center},minimap:{color:zi($_),position:1}}),p0e=at.register({description:"selection-highlight-overview",stickiness:1,className:"selectionHighlight",overviewRuler:{color:zi(vA),position:Mr.Center},minimap:{color:zi($_),position:1}}),f0e=at.register({description:"selection-highlight",stickiness:1,className:"selectionHighlight"}),g0e=at.register({description:"word-highlight",stickiness:1,className:"wordHighlight",overviewRuler:{color:zi(c0e),position:Mr.Center},minimap:{color:zi($_),position:1}});function c9(n){return n===np.Write?h0e:n===np.Text?m0e:g0e}function d9(n){return n?f0e:p0e}_d((n,t)=>{let e=n.getColor(S4);e&&t.addRule(`.monaco-editor .selectionHighlight { background-color: ${e.transparent(.5)}; }`)});Ot();var _0e=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},v0e=function(n,t){return function(e,i){t(e,i,n)}},P2;function pu(n,t){let e=t.filter(i=>!n.find(o=>o.equals(i)));if(e.length>=1){let i=e.map(r=>`line ${r.viewState.position.lineNumber} column ${r.viewState.position.column}`).join(", "),o=e.length===1?_("cursorAdded","Cursor added: {0}",i):_("cursorsAdded","Cursors added: {0}",i);Ta(o)}}var L2=class extends Z{constructor(){super({id:"editor.action.insertCursorAbove",label:_("mutlicursor.insertAbove","Add Cursor Above"),alias:"Add Cursor Above",precondition:void 0,kbOpts:{kbExpr:M.editorTextFocus,primary:2576,linux:{primary:1552,secondary:[3088]},weight:100},menuOpts:{menuId:ve.MenubarSelectionMenu,group:"3_multi",title:_({key:"miInsertCursorAbove",comment:["&& denotes a mnemonic"]},"&&Add Cursor Above"),order:2}})}run(t,e,i){if(!e.hasModel())return;let o=!0;i&&i.logicalLine===!1&&(o=!1);let r=e._getViewModel();if(r.cursorConfig.readOnly)return;r.model.pushStackElement();let s=r.getCursorStates();r.setCursorStates(i.source,3,ov.addCursorUp(r,s,o)),r.revealTopMostCursor(i.source),pu(s,r.getCursorStates())}},N2=class extends Z{constructor(){super({id:"editor.action.insertCursorBelow",label:_("mutlicursor.insertBelow","Add Cursor Below"),alias:"Add Cursor Below",precondition:void 0,kbOpts:{kbExpr:M.editorTextFocus,primary:2578,linux:{primary:1554,secondary:[3090]},weight:100},menuOpts:{menuId:ve.MenubarSelectionMenu,group:"3_multi",title:_({key:"miInsertCursorBelow",comment:["&& denotes a mnemonic"]},"A&&dd Cursor Below"),order:3}})}run(t,e,i){if(!e.hasModel())return;let o=!0;i&&i.logicalLine===!1&&(o=!1);let r=e._getViewModel();if(r.cursorConfig.readOnly)return;r.model.pushStackElement();let s=r.getCursorStates();r.setCursorStates(i.source,3,ov.addCursorDown(r,s,o)),r.revealBottomMostCursor(i.source),pu(s,r.getCursorStates())}},F2=class extends Z{constructor(){super({id:"editor.action.insertCursorAtEndOfEachLineSelected",label:_("mutlicursor.insertAtEndOfEachLineSelected","Add Cursors to Line Ends"),alias:"Add Cursors to Line Ends",precondition:void 0,kbOpts:{kbExpr:M.editorTextFocus,primary:1575,weight:100},menuOpts:{menuId:ve.MenubarSelectionMenu,group:"3_multi",title:_({key:"miInsertCursorAtEndOfEachLineSelected",comment:["&& denotes a mnemonic"]},"Add C&&ursors to Line Ends"),order:4}})}getCursorsForSelection(t,e,i){if(!t.isEmpty()){for(let o=t.startLineNumber;o<t.endLineNumber;o++){let r=e.getLineMaxColumn(o);i.push(new ze(o,r,o,r))}t.endColumn>1&&i.push(new ze(t.endLineNumber,t.endColumn,t.endLineNumber,t.endColumn))}}run(t,e){if(!e.hasModel())return;let i=e.getModel(),o=e.getSelections(),r=e._getViewModel(),s=r.getCursorStates(),a=[];o.forEach(l=>this.getCursorsForSelection(l,i,a)),a.length>0&&e.setSelections(a),pu(s,r.getCursorStates())}},z2=class extends Z{constructor(){super({id:"editor.action.addCursorsToBottom",label:_("mutlicursor.addCursorsToBottom","Add Cursors To Bottom"),alias:"Add Cursors To Bottom",precondition:void 0})}run(t,e){if(!e.hasModel())return;let i=e.getSelections(),o=e.getModel().getLineCount(),r=[];for(let l=i[0].startLineNumber;l<=o;l++)r.push(new ze(l,i[0].startColumn,l,i[0].endColumn));let s=e._getViewModel(),a=s.getCursorStates();r.length>0&&e.setSelections(r),pu(a,s.getCursorStates())}},B2=class extends Z{constructor(){super({id:"editor.action.addCursorsToTop",label:_("mutlicursor.addCursorsToTop","Add Cursors To Top"),alias:"Add Cursors To Top",precondition:void 0})}run(t,e){if(!e.hasModel())return;let i=e.getSelections(),o=[];for(let a=i[0].startLineNumber;a>=1;a--)o.push(new ze(a,i[0].startColumn,a,i[0].endColumn));let r=e._getViewModel(),s=r.getCursorStates();o.length>0&&e.setSelections(o),pu(s,r.getCursorStates())}},Sg=class{constructor(t,e,i){this.selections=t,this.revealRange=e,this.revealScrollType=i}},r1=class n{static create(t,e){if(!t.hasModel())return null;let i=e.getState();if(!t.hasTextFocus()&&i.isRevealed&&i.searchString.length>0)return new n(t,e,!1,i.searchString,i.wholeWord,i.matchCase,null);let o=!1,r,s,a=t.getSelections();a.length===1&&a[0].isEmpty()?(o=!0,r=!0,s=!0):(r=i.wholeWord,s=i.matchCase);let l=t.getSelection(),c,d=null;if(l.isEmpty()){let u=t.getConfiguredWordAtPosition(l.getStartPosition());if(!u)return null;c=u.word,d=new ze(l.startLineNumber,u.startColumn,l.startLineNumber,u.endColumn)}else c=t.getModel().getValueInRange(l).replace(/\r\n/g,`
`);return new n(t,e,o,c,r,s,d)}constructor(t,e,i,o,r,s,a){this._editor=t,this.findController=e,this.isDisconnectedFromFindController=i,this.searchText=o,this.wholeWord=r,this.matchCase=s,this.currentMatch=a}addSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;let t=this._getNextMatch();if(!t)return null;let e=this._editor.getSelections();return new Sg(e.concat(t),t,0)}moveSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;let t=this._getNextMatch();if(!t)return null;let e=this._editor.getSelections();return new Sg(e.slice(0,e.length-1).concat(t),t,0)}_getNextMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){let o=this.currentMatch;return this.currentMatch=null,o}this.findController.highlightFindOptions();let t=this._editor.getSelections(),e=t[t.length-1],i=this._editor.getModel().findNextMatch(this.searchText,e.getEndPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(132):null,!1);return i?new ze(i.range.startLineNumber,i.range.startColumn,i.range.endLineNumber,i.range.endColumn):null}addSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;let t=this._getPreviousMatch();if(!t)return null;let e=this._editor.getSelections();return new Sg(e.concat(t),t,0)}moveSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;let t=this._getPreviousMatch();if(!t)return null;let e=this._editor.getSelections();return new Sg(e.slice(0,e.length-1).concat(t),t,0)}_getPreviousMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){let o=this.currentMatch;return this.currentMatch=null,o}this.findController.highlightFindOptions();let t=this._editor.getSelections(),e=t[t.length-1],i=this._editor.getModel().findPreviousMatch(this.searchText,e.getStartPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(132):null,!1);return i?new ze(i.range.startLineNumber,i.range.startColumn,i.range.endLineNumber,i.range.endColumn):null}selectAll(t){if(!this._editor.hasModel())return[];this.findController.highlightFindOptions();let e=this._editor.getModel();return t?e.findMatches(this.searchText,t,!1,this.matchCase,this.wholeWord?this._editor.getOption(132):null,!1,1073741824):e.findMatches(this.searchText,!0,!1,this.matchCase,this.wholeWord?this._editor.getOption(132):null,!1,1073741824)}},s1=(()=>{class n extends U{static{this.ID="editor.contrib.multiCursorController"}static get(e){return e.getContribution(n.ID)}constructor(e){super(),this._sessionDispose=this._register(new G),this._editor=e,this._ignoreSelectionChange=!1,this._session=null}dispose(){this._endSession(),super.dispose()}_beginSessionIfNeeded(e){if(!this._session){let i=r1.create(this._editor,e);if(!i)return;this._session=i;let o={searchString:this._session.searchText};this._session.isDisconnectedFromFindController&&(o.wholeWordOverride=1,o.matchCaseOverride=1,o.isRegexOverride=2),e.getState().change(o,!1),this._sessionDispose.add(this._editor.onDidChangeCursorSelection(r=>{this._ignoreSelectionChange||this._endSession()})),this._sessionDispose.add(this._editor.onDidBlurEditorText(()=>{this._endSession()})),this._sessionDispose.add(e.getState().onFindReplaceStateChange(r=>{(r.matchCase||r.wholeWord)&&this._endSession()}))}}_endSession(){if(this._sessionDispose.clear(),this._session&&this._session.isDisconnectedFromFindController){let e={wholeWordOverride:0,matchCaseOverride:0,isRegexOverride:0};this._session.findController.getState().change(e,!1)}this._session=null}_setSelections(e){this._ignoreSelectionChange=!0,this._editor.setSelections(e),this._ignoreSelectionChange=!1}_expandEmptyToWord(e,i){if(!i.isEmpty())return i;let o=this._editor.getConfiguredWordAtPosition(i.getStartPosition());return o?new ze(i.startLineNumber,o.startColumn,i.startLineNumber,o.endColumn):i}_applySessionResult(e){e&&(this._setSelections(e.selections),e.revealRange&&this._editor.revealRangeInCenterIfOutsideViewport(e.revealRange,e.revealScrollType))}getSession(e){return this._session}addSelectionToNextFindMatch(e){if(this._editor.hasModel()){if(!this._session){let i=this._editor.getSelections();if(i.length>1){let r=e.getState().matchCase;if(!h9(this._editor.getModel(),i,r)){let a=this._editor.getModel(),l=[];for(let c=0,d=i.length;c<d;c++)l[c]=this._expandEmptyToWord(a,i[c]);this._editor.setSelections(l);return}}}this._beginSessionIfNeeded(e),this._session&&this._applySessionResult(this._session.addSelectionToNextFindMatch())}}addSelectionToPreviousFindMatch(e){this._beginSessionIfNeeded(e),this._session&&this._applySessionResult(this._session.addSelectionToPreviousFindMatch())}moveSelectionToNextFindMatch(e){this._beginSessionIfNeeded(e),this._session&&this._applySessionResult(this._session.moveSelectionToNextFindMatch())}moveSelectionToPreviousFindMatch(e){this._beginSessionIfNeeded(e),this._session&&this._applySessionResult(this._session.moveSelectionToPreviousFindMatch())}selectAll(e){if(!this._editor.hasModel())return;let i=null,o=e.getState();if(o.isRevealed&&o.searchString.length>0&&o.isRegex){let r=this._editor.getModel();o.searchScope?i=r.findMatches(o.searchString,o.searchScope,o.isRegex,o.matchCase,o.wholeWord?this._editor.getOption(132):null,!1,1073741824):i=r.findMatches(o.searchString,!0,o.isRegex,o.matchCase,o.wholeWord?this._editor.getOption(132):null,!1,1073741824)}else{if(this._beginSessionIfNeeded(e),!this._session)return;i=this._session.selectAll(o.searchScope)}if(i.length>0){let r=this._editor.getSelection();for(let s=0,a=i.length;s<a;s++){let l=i[s];if(l.range.intersectRanges(r)){i[s]=i[0],i[0]=l;break}}this._setSelections(i.map(s=>new ze(s.range.startLineNumber,s.range.startColumn,s.range.endLineNumber,s.range.endColumn)))}}}return n})(),mu=class extends Z{run(t,e){let i=s1.get(e);if(!i)return;let o=e._getViewModel();if(o){let r=o.getCursorStates(),s=ir.get(e);if(s)this._run(i,s);else{let a=t.get(De).createInstance(ir,e);this._run(i,a),a.dispose()}pu(r,o.getCursorStates())}}},H2=class extends mu{constructor(){super({id:"editor.action.addSelectionToNextFindMatch",label:_("addSelectionToNextFindMatch","Add Selection To Next Find Match"),alias:"Add Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:M.focus,primary:2082,weight:100},menuOpts:{menuId:ve.MenubarSelectionMenu,group:"3_multi",title:_({key:"miAddSelectionToNextFindMatch",comment:["&& denotes a mnemonic"]},"Add &&Next Occurrence"),order:5}})}_run(t,e){t.addSelectionToNextFindMatch(e)}},V2=class extends mu{constructor(){super({id:"editor.action.addSelectionToPreviousFindMatch",label:_("addSelectionToPreviousFindMatch","Add Selection To Previous Find Match"),alias:"Add Selection To Previous Find Match",precondition:void 0,menuOpts:{menuId:ve.MenubarSelectionMenu,group:"3_multi",title:_({key:"miAddSelectionToPreviousFindMatch",comment:["&& denotes a mnemonic"]},"Add P&&revious Occurrence"),order:6}})}_run(t,e){t.addSelectionToPreviousFindMatch(e)}},W2=class extends mu{constructor(){super({id:"editor.action.moveSelectionToNextFindMatch",label:_("moveSelectionToNextFindMatch","Move Last Selection To Next Find Match"),alias:"Move Last Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:M.focus,primary:Pi(2089,2082),weight:100}})}_run(t,e){t.moveSelectionToNextFindMatch(e)}},j2=class extends mu{constructor(){super({id:"editor.action.moveSelectionToPreviousFindMatch",label:_("moveSelectionToPreviousFindMatch","Move Last Selection To Previous Find Match"),alias:"Move Last Selection To Previous Find Match",precondition:void 0})}_run(t,e){t.moveSelectionToPreviousFindMatch(e)}},U2=class extends mu{constructor(){super({id:"editor.action.selectHighlights",label:_("selectAllOccurrencesOfFindMatch","Select All Occurrences of Find Match"),alias:"Select All Occurrences of Find Match",precondition:void 0,kbOpts:{kbExpr:M.focus,primary:3114,weight:100},menuOpts:{menuId:ve.MenubarSelectionMenu,group:"3_multi",title:_({key:"miSelectHighlights",comment:["&& denotes a mnemonic"]},"Select All &&Occurrences"),order:7}})}_run(t,e){t.selectAll(e)}},q2=class extends mu{constructor(){super({id:"editor.action.changeAll",label:_("changeAll.label","Change All Occurrences"),alias:"Change All Occurrences",precondition:K.and(M.writable,M.editorTextFocus),kbOpts:{kbExpr:M.editorTextFocus,primary:2108,weight:100},contextMenuOpts:{group:"1_modification",order:1.2}})}_run(t,e){t.selectAll(e)}},G2=class{constructor(t,e,i,o,r){this._model=t,this._searchText=e,this._matchCase=i,this._wordSeparators=o,this._modelVersionId=this._model.getVersionId(),this._cachedFindMatches=null,r&&this._model===r._model&&this._searchText===r._searchText&&this._matchCase===r._matchCase&&this._wordSeparators===r._wordSeparators&&this._modelVersionId===r._modelVersionId&&(this._cachedFindMatches=r._cachedFindMatches)}findMatches(){return this._cachedFindMatches===null&&(this._cachedFindMatches=this._model.findMatches(this._searchText,!0,!1,this._matchCase,this._wordSeparators,!1).map(t=>t.range),this._cachedFindMatches.sort(A.compareRangesUsingStarts)),this._cachedFindMatches}},a1=class extends U{static{P2=this}static{this.ID="editor.contrib.selectionHighlighter"}constructor(e,i){super(),this._languageFeaturesService=i,this.editor=e,this._isEnabled=e.getOption(109),this._decorations=e.createDecorationsCollection(),this.updateSoon=this._register(new si(()=>this._update(),300)),this.state=null,this._register(e.onDidChangeConfiguration(r=>{this._isEnabled=e.getOption(109)})),this._register(e.onDidChangeCursorSelection(r=>{this._isEnabled&&(r.selection.isEmpty()?r.reason===3?(this.state&&this._setState(null),this.updateSoon.schedule()):this._setState(null):this._update())})),this._register(e.onDidChangeModel(r=>{this._setState(null)})),this._register(e.onDidChangeModelContent(r=>{this._isEnabled&&this.updateSoon.schedule()}));let o=ir.get(e);o&&this._register(o.getState().onFindReplaceStateChange(r=>{this._update()})),this.updateSoon.schedule()}_update(){this._setState(P2._createState(this.state,this._isEnabled,this.editor))}static _createState(e,i,o){if(!i||!o.hasModel())return null;let r=o.getSelection();if(r.startLineNumber!==r.endLineNumber)return null;let s=s1.get(o);if(!s)return null;let a=ir.get(o);if(!a)return null;let l=s.getSession(a);if(!l){let u=o.getSelections();if(u.length>1){let m=a.getState().matchCase;if(!h9(o.getModel(),u,m))return null}l=r1.create(o,a)}if(!l||l.currentMatch||/^[ \t]+$/.test(l.searchText)||l.searchText.length>200)return null;let c=a.getState(),d=c.matchCase;if(c.isRevealed){let u=c.searchString;d||(u=u.toLowerCase());let h=l.searchText;if(d||(h=h.toLowerCase()),u===h&&l.matchCase===c.matchCase&&l.wholeWord===c.wholeWord&&!c.isRegex)return null}return new G2(o.getModel(),l.searchText,l.matchCase,l.wholeWord?o.getOption(132):null,e)}_setState(e){if(this.state=e,!this.state){this._decorations.clear();return}if(!this.editor.hasModel())return;let i=this.editor.getModel();if(i.isTooLargeForTokenization())return;let o=this.state.findMatches(),r=this.editor.getSelections();r.sort(A.compareRangesUsingStarts);let s=[];for(let d=0,u=0,h=o.length,m=r.length;d<h;){let f=o[d];if(u>=m)s.push(f),d++;else{let p=A.compareRangesUsingStarts(f,r[u]);p<0?((r[u].isEmpty()||!A.areIntersecting(f,r[u]))&&s.push(f),d++):(p>0||d++,u++)}}let a=this.editor.getOption(81)!=="off",l=this._languageFeaturesService.documentHighlightProvider.has(i)&&a,c=s.map(d=>({range:d,options:d9(l)}));this._decorations.set(c)}dispose(){this._setState(null),super.dispose()}};a1=P2=_0e([v0e(1,ae)],a1);function h9(n,t,e){let i=u9(n,t[0],!e);for(let o=1,r=t.length;o<r;o++){let s=t[o];if(s.isEmpty())return!1;let a=u9(n,s,!e);if(i!==a)return!1}return!0}function u9(n,t,e){let i=n.getValueInRange(t);return e?i.toLowerCase():i}var $2=class extends Z{constructor(){super({id:"editor.action.focusNextCursor",label:_("mutlicursor.focusNextCursor","Focus Next Cursor"),metadata:{description:_("mutlicursor.focusNextCursor.description","Focuses the next cursor"),args:[]},alias:"Focus Next Cursor",precondition:void 0})}run(t,e,i){if(!e.hasModel())return;let o=e._getViewModel();if(o.cursorConfig.readOnly)return;o.model.pushStackElement();let r=Array.from(o.getCursorStates()),s=r.shift();s&&(r.push(s),o.setCursorStates(i.source,3,r),o.revealPrimaryCursor(i.source,!0),pu(r,o.getCursorStates()))}},K2=class extends Z{constructor(){super({id:"editor.action.focusPreviousCursor",label:_("mutlicursor.focusPreviousCursor","Focus Previous Cursor"),metadata:{description:_("mutlicursor.focusPreviousCursor.description","Focuses the previous cursor"),args:[]},alias:"Focus Previous Cursor",precondition:void 0})}run(t,e,i){if(!e.hasModel())return;let o=e._getViewModel();if(o.cursorConfig.readOnly)return;o.model.pushStackElement();let r=Array.from(o.getCursorStates()),s=r.pop();s&&(r.unshift(s),o.setCursorStates(i.source,3,r),o.revealPrimaryCursor(i.source,!0),pu(r,o.getCursorStates()))}};Me(s1.ID,s1,4);Me(a1.ID,a1,1);V(L2);V(N2);V(F2);V(H2);V(V2);V(W2);V(j2);V(U2);V(q2);V(z2);V(B2);V($2);V(K2);tt();tt();$t();var m9="editor.action.inlineEdit.accept",p9="editor.action.inlineEdit.reject",f9="editor.action.inlineEdit.jumpTo",g9="editor.action.inlineEdit.jumpBack";ce();so();hi();qe();ce();so();hi();qe();Da();ka();var b0e=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},y0e=function(n,t){return function(e,i){t(e,i,n)}},Y2="inline-edit",l1=class extends U{constructor(t,e,i){super(),this.editor=t,this.model=e,this.languageService=i,this.isDisposed=Kn(this,!1),this.currentTextModel=ro(this,this.editor.onDidChangeModel,()=>this.editor.getModel()),this.uiState=qt(this,o=>{if(this.isDisposed.read(o))return;let r=this.currentTextModel.read(o);if(r!==this.model.targetTextModel.read(o))return;let s=this.model.ghostText.read(o);if(!s)return;let a=this.model.range?.read(o);a&&a.startLineNumber===a.endLineNumber&&a.startColumn===a.endColumn&&(a=void 0);let l=(a?a.startLineNumber===a.endLineNumber:!0)&&s.parts.length===1&&s.parts[0].lines.length===1,c=s.parts.length===1&&s.parts[0].lines.every(b=>b.length===0),d=[],u=[];function h(b,C){if(u.length>0){let T=u[u.length-1];C&&T.decorations.push(new Id(T.content.length+1,T.content.length+1+b[0].length,C,0)),T.content+=b[0],b=b.slice(1)}for(let T of b)u.push({content:T,decorations:C?[new Id(1,T.length+1,C,0)]:[]})}let m=r.getLineContent(s.lineNumber),f,p=0;if(!c&&(l||!a)){for(let b of s.parts){let C=b.lines;a&&!l&&(h(C,Y2),C=[]),f===void 0?(d.push({column:b.column,text:C[0],preview:b.preview}),C=C.slice(1)):h([m.substring(p,b.column-1)],void 0),C.length>0&&(h(C,Y2),f===void 0&&b.column<=m.length&&(f=b.column)),p=b.column-1}f!==void 0&&h([m.substring(p)],void 0)}let g=f!==void 0?new ag(f,m.length+1):void 0,v=l||!a?s.lineNumber:a.endLineNumber-1;return{inlineTexts:d,additionalLines:u,hiddenRange:g,lineNumber:v,additionalReservedLineCount:this.model.minReservedLineCount.read(o),targetTextModel:r,range:a,isSingleLine:l,isPureRemove:c}}),this.decorations=qt(this,o=>{let r=this.uiState.read(o);if(!r)return[];let s=[];if(r.hiddenRange&&s.push({range:r.hiddenRange.toRange(r.lineNumber),options:{inlineClassName:"inline-edit-hidden",description:"inline-edit-hidden"}}),r.range){let a=[];if(r.isSingleLine)a.push(r.range);else if(!r.isPureRemove){let l=r.range.endLineNumber-r.range.startLineNumber;for(let c=0;c<l;c++){let d=r.range.startLineNumber+c,u=r.targetTextModel.getLineFirstNonWhitespaceColumn(d),h=r.targetTextModel.getLineLastNonWhitespaceColumn(d),m=new A(d,u,d,h);a.push(m)}}for(let l of a)s.push({range:l,options:Tp})}if(r.range&&!r.isSingleLine&&r.isPureRemove){let a=new A(r.range.startLineNumber,1,r.range.endLineNumber-1,1);s.push({range:a,options:Mp})}for(let a of r.inlineTexts)s.push({range:A.fromPositions(new he(r.lineNumber,a.column)),options:{description:Y2,after:{content:a.text,inlineClassName:a.preview?"inline-edit-decoration-preview":"inline-edit-decoration",cursorStops:hc.Left},showIfCollapsed:!0}});return s}),this._register(Mt(()=>{this.isDisposed.set(!0,void 0)})),this._register(WD(this.editor,this.decorations))}};l1=b0e([y0e(2,Un)],l1);mt();Ot();gn();Lt();gi();Ui();gt();lh();Oi();ce();so();Yo();hi();$i();Ui();mt();Ot();Ia();var J2=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},Hl=function(n,t){return function(e,i){t(e,i,n)}},c1,d1=class extends U{constructor(t,e,i){super(),this.editor=t,this.model=e,this.instantiationService=i,this.alwaysShowToolbar=ro(this,this.editor.onDidChangeConfiguration,()=>this.editor.getOption(63).showToolbar==="always"),this.sessionPosition=void 0,this.position=qt(this,o=>{let r=this.model.read(o)?.model.ghostText.read(o);if(!this.alwaysShowToolbar.read(o)||!r||r.parts.length===0)return this.sessionPosition=void 0,null;let s=r.parts[0].column;this.sessionPosition&&this.sessionPosition.lineNumber!==r.lineNumber&&(this.sessionPosition=void 0);let a=new he(r.lineNumber,Math.min(s,this.sessionPosition?.column??Number.MAX_SAFE_INTEGER));return this.sessionPosition=a,a}),this._register(gl((o,r)=>{if(!this.model.read(o)||!this.alwaysShowToolbar.read(o))return;let a=r.add(this.instantiationService.createInstance(X2,this.editor,!0,this.position));t.addContentWidget(a),r.add(Mt(()=>t.removeContentWidget(a)))}))}};d1=J2([Hl(2,De)],d1);var X2=class extends U{static{c1=this}static{this._dropDownVisible=!1}static{this.id=0}constructor(e,i,o,r,s,a){super(),this.editor=e,this.withBorder=i,this._position=o,this._contextKeyService=s,this._menuService=a,this.id=`InlineEditHintsContentWidget${c1.id++}`,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this.nodes=pr("div.inlineEditHints",{className:this.withBorder?".withBorder":""},[pr("div@toolBar")]),this.inlineCompletionsActionsMenus=this._register(this._menuService.createMenu(ve.InlineEditActions,this._contextKeyService)),this.toolBar=this._register(r.createInstance(Q2,this.nodes.toolBar,this.editor,ve.InlineEditToolbar,{menuOptions:{renderShortTitle:!0},toolbarOptions:{primaryGroup:l=>l.startsWith("primary")},actionViewItemProvider:(l,c)=>{if(l instanceof ul)return r.createInstance(Z2,l,void 0)},telemetrySource:"InlineEditToolbar"})),this._register(this.toolBar.onDidChangeDropdownVisibility(l=>{c1._dropDownVisible=l})),this._register(ii(l=>{this._position.read(l),this.editor.layoutContentWidget(this)})),this._register(ii(l=>{let c=[];for(let[d,u]of this.inlineCompletionsActionsMenus.getActions())for(let h of u)h instanceof ul&&c.push(h);c.length>0&&c.unshift(new ac),this.toolBar.setAdditionalSecondaryActions(c)}))}getId(){return this.id}getDomNode(){return this.nodes.root}getPosition(){return{position:this._position.get(),preference:[1,2],positionAffinity:3}}};X2=c1=J2([Hl(3,De),Hl(4,Xe),Hl(5,Ns)],X2);var Z2=class extends Cw{updateLabel(){let t=this._keybindingService.lookupKeybinding(this._action.id,this._contextKeyService);if(!t)return super.updateLabel();if(this.label){let e=pr("div.keybinding").root;this._register(new Dp(e,ep,j({disableTitle:!0},kw))).set(t),this.label.textContent=this._action.label,this.label.appendChild(e),this.label.classList.add("inlineEditStatusBarItemLabel")}}updateTooltip(){}},Q2=class extends Gw{constructor(t,e,i,o,r,s,a,l,c,d){super(t,j({resetMenu:i},o),r,s,a,l,c,d),this.editor=e,this.menuId=i,this.options2=o,this.menuService=r,this.contextKeyService=s,this.menu=this._store.add(this.menuService.createMenu(this.menuId,this.contextKeyService,{emitEventsForSubmenuChanges:!0})),this.additionalActions=[],this.prependedPrimaryActions=[],this._store.add(this.menu.onDidChange(()=>this.updateToolbar())),this._store.add(this.editor.onDidChangeCursorPosition(()=>this.updateToolbar())),this.updateToolbar()}updateToolbar(){let t=[],e=[];Cp(this.menu,this.options2?.menuOptions,{primary:t,secondary:e},this.options2?.toolbarOptions?.primaryGroup,this.options2?.toolbarOptions?.shouldInlineSubmenu,this.options2?.toolbarOptions?.useSeparatorsInPrimaryActions),e.push(...this.additionalActions),t.unshift(...this.prependedPrimaryActions),this.setActions(t,e)}setAdditionalSecondaryActions(t){$o(this.additionalActions,t,(e,i)=>e===i)||(this.additionalActions=t,this.updateToolbar())}};Q2=J2([Hl(4,Ns),Hl(5,Xe),Hl(6,Bs),Hl(7,Vt),Hl(8,ci),Hl(9,jn)],Q2);gt();_n();Bt();wd();gt();gi();ce();so();wd();On();sv();hi();qe();qx();bn();ls();Ot();var _9=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},u1=function(n,t){return function(e,i){t(e,i,n)}},Dy,tz;function*x0e(n,t,e=1){t===void 0&&([t,n]=[n,0]);for(let i=n;i<t;i+=e)yield i}function ez(n){let t=n[0].match(/^\s*/)?.[0]??"",e=t.length;return{text:n.map(i=>i.replace(new RegExp("^"+t),"")),shift:e}}var h1=class extends U{static{Dy=this}static{this._modelId=0}static _createUniqueUri(){return ht.from({scheme:"inline-edit-widget",path:new Date().toString()+String(Dy._modelId++)})}constructor(e,i,o,r,s){super(),this._editor=e,this._model=i,this._instantiationService=o,this._diffProviderFactoryService=r,this._modelService=s,this._position=qt(this,a=>{let l=this._model.read(a);if(!l||l.text.length===0||l.range.startLineNumber===l.range.endLineNumber&&!(l.range.startColumn===l.range.endColumn&&l.range.startColumn===1))return null;let c=this._editor.getModel();if(!c)return null;let d=Array.from(x0e(l.range.startLineNumber,l.range.endLineNumber+1)),u=d.map(g=>c.getLineLastNonWhitespaceColumn(g)),h=Math.max(...u),m=d[u.indexOf(h)],f=new he(m,h);return{top:l.range.startLineNumber,left:f}}),this._text=qt(this,a=>{let l=this._model.read(a);if(!l)return{text:"",shift:0};let c=ez(l.text.split(`
`));return{text:c.text.join(`
`),shift:c.shift}}),this._originalModel=fs(()=>this._modelService.createModel("",null,Dy._createUniqueUri())).keepObserved(this._store),this._modifiedModel=fs(()=>this._modelService.createModel("",null,Dy._createUniqueUri())).keepObserved(this._store),this._diff=qt(this,a=>this._diffPromise.read(a)?.promiseResult.read(a)?.data),this._diffPromise=qt(this,a=>{let l=this._model.read(a);if(!l)return;let c=this._editor.getModel();if(!c)return;let d=ez(c.getValueInRange(l.range).split(`
`)).text.join(`
`),u=ez(l.text.split(`
`)).text.join(`
`);this._originalModel.get().setValue(d),this._modifiedModel.get().setValue(u);let h=this._diffProviderFactoryService.createDiffProvider({diffAlgorithm:"advanced"});return yw.fromFn(()=>k(this,null,function*(){let m=yield h.computeDiff(this._originalModel.get(),this._modifiedModel.get(),{computeMoves:!1,ignoreTrimWhitespace:!1,maxComputationTimeMs:1e3},Je.None);if(!m.identical)return m.changes}))}),this._register(gl((a,l)=>{if(!this._model.read(a)||this._position.get()===null)return;let d=l.add(this._instantiationService.createInstance(iz,this._editor,this._position,this._text.map(u=>u.text),this._text.map(u=>u.shift),this._diff));e.addOverlayWidget(d),l.add(Mt(()=>e.removeOverlayWidget(d)))}))}};h1=Dy=_9([u1(2,De),u1(3,Ap),u1(4,ji)],h1);var iz=class extends U{static{tz=this}static{this.id=0}constructor(e,i,o,r,s,a){super(),this._editor=e,this._position=i,this._text=o,this._shift=r,this._diff=s,this._instantiationService=a,this.id=`InlineEditSideBySideContentWidget${tz.id++}`,this.allowEditorOverflow=!1,this._nodes=ye("div.inlineEditSideBySide",void 0),this._scrollChanged=Aa("editor.onDidScrollChange",this._editor.onDidScrollChange),this._previewEditor=this._register(this._instantiationService.createInstance(yo,this._nodes,{glyphMargin:!1,lineNumbers:"off",minimap:{enabled:!1},guides:{indentation:!1,bracketPairs:!1,bracketPairsHorizontal:!1,highlightActiveIndentation:!1},folding:!1,selectOnLineNumbers:!1,selectionHighlight:!1,columnSelection:!1,overviewRulerBorder:!1,overviewRulerLanes:0,lineDecorationsWidth:0,lineNumbersMinChars:0,scrollbar:{vertical:"hidden",horizontal:"hidden",alwaysConsumeMouseWheel:!1,handleMouseWheel:!1},readOnly:!0,wordWrap:"off",wordWrapOverride1:"off",wordWrapOverride2:"off",wrappingIndent:"none",wrappingStrategy:void 0},{contributions:[],isSimpleWidget:!0},this._editor)),this._previewEditorObs=Rr(this._previewEditor),this._editorObs=Rr(this._editor),this._previewTextModel=this._register(this._instantiationService.createInstance(Ra,"",this._editor.getModel()?.getLanguageId()??dc,Ra.DEFAULT_CREATION_OPTIONS,null)),this._setText=qt(l=>{let c=this._text.read(l);c&&this._previewTextModel.setValue(c)}).recomputeInitiallyAndOnChange(this._store),this._decorations=qt(this,l=>{this._setText.read(l);let c=this._position.read(l);if(!c)return{org:[],mod:[]};let d=this._diff.read(l);if(!d)return{org:[],mod:[]};let u=[],h=[];if(d.length===1&&d[0].innerChanges[0].modifiedRange.equalsRange(this._previewTextModel.getFullModelRange()))return{org:[],mod:[]};let m=this._shift.get(),f=p=>new A(p.startLineNumber+c.top-1,p.startColumn+m,p.endLineNumber+c.top-1,p.endColumn+m);for(let p of d)if(p.original.isEmpty||u.push({range:f(p.original.toInclusiveRange()),options:Mp}),p.modified.isEmpty||h.push({range:p.modified.toInclusiveRange(),options:Hw}),p.modified.isEmpty||p.original.isEmpty)p.original.isEmpty||u.push({range:f(p.original.toInclusiveRange()),options:Uw}),p.modified.isEmpty||h.push({range:p.modified.toInclusiveRange(),options:Ww});else for(let g of p.innerChanges||[])p.original.contains(g.originalRange.startLineNumber)&&u.push({range:f(g.originalRange),options:g.originalRange.isEmpty()?qw:Tp}),p.modified.contains(g.modifiedRange.startLineNumber)&&h.push({range:g.modifiedRange,options:g.modifiedRange.isEmpty()?jw:Vw});return{org:u,mod:h}}),this._originalDecorations=qt(this,l=>this._decorations.read(l).org),this._modifiedDecorations=qt(this,l=>this._decorations.read(l).mod),this._previewEditor.setModel(this._previewTextModel),this._register(this._editorObs.setDecorations(this._originalDecorations)),this._register(this._previewEditorObs.setDecorations(this._modifiedDecorations)),this._register(ii(l=>{let c=this._previewEditorObs.contentWidth.read(l),d=this._text.read(l).split(`
`).length-1,u=this._editor.getOption(67)*d;c<=0||this._previewEditor.layout({height:u,width:c})})),this._register(ii(l=>{this._position.read(l),this._editor.layoutOverlayWidget(this)})),this._register(ii(l=>{this._scrollChanged.read(l),this._position.read(l)&&this._editor.layoutOverlayWidget(this)}))}getId(){return this.id}getDomNode(){return this._nodes}getPosition(){let e=this._position.get();if(!e)return null;let i=this._editor.getLayoutInfo(),o=this._editor.getScrolledVisiblePosition(new he(e.top,1));if(!o)return null;let r=o.top-1,s=this._editor.getOffsetForColumn(e.left.lineNumber,e.left.column);return{preference:{left:i.contentLeft+s+10,top:r}}}};iz=tz=_9([u1(5,De)],iz);ls();var w0e=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},fm=function(n,t){return function(e,i){t(e,i,n)}},Ey,Ro=class extends U{static{Ey=this}static{this.ID="editor.contrib.inlineEditController"}static{this.inlineEditVisibleKey="inlineEditVisible"}static{this.inlineEditVisibleContext=new ot(this.inlineEditVisibleKey,!1)}static{this.cursorAtInlineEditKey="cursorAtInlineEdit"}static{this.cursorAtInlineEditContext=new ot(this.cursorAtInlineEditKey,!1)}static get(t){return t.getContribution(Ey.ID)}constructor(t,e,i,o,r,s,a,l){super(),this.editor=t,this.instantiationService=e,this.contextKeyService=i,this.languageFeaturesService=o,this._commandService=r,this._configurationService=s,this._diffProviderFactoryService=a,this._modelService=l,this._isVisibleContext=Ey.inlineEditVisibleContext.bindTo(this.contextKeyService),this._isCursorAtInlineEditContext=Ey.cursorAtInlineEditContext.bindTo(this.contextKeyService),this._currentEdit=Kn(this,void 0),this._currentWidget=fs(this._currentEdit,f=>{let p=this._currentEdit.read(f);if(!p)return;let g=p.range.endLineNumber,v=p.range.endColumn,b=p.text.endsWith(`
`)&&!(p.range.startLineNumber===p.range.endLineNumber&&p.range.startColumn===p.range.endColumn)?p.text.slice(0,-1):p.text,C=new Ll(g,[new cu(v,b,!1)]),T=p.range.startLineNumber===p.range.endLineNumber&&C.parts.length===1&&C.parts[0].lines.length===1,E=p.text==="";return!T&&!E?void 0:this.instantiationService.createInstance(l1,this.editor,{ghostText:qr(C),minReservedLineCount:qr(0),targetTextModel:qr(this.editor.getModel()??void 0),range:qr(p.range)})}),this._isAccepting=Kn(this,!1),this._enabled=ro(this,this.editor.onDidChangeConfiguration,()=>this.editor.getOption(63).enabled),this._fontFamily=ro(this,this.editor.onDidChangeConfiguration,()=>this.editor.getOption(63).fontFamily);let c=Aa("InlineEditController.modelContentChangedSignal",t.onDidChangeModelContent);this._register(ii(f=>{this._enabled.read(f)&&(c.read(f),!this._isAccepting.read(f)&&this.getInlineEdit(t,!0))}));let d=ro(this,t.onDidChangeCursorPosition,()=>t.getPosition());this._register(ii(f=>{if(!this._enabled.read(f))return;let p=d.read(f);p&&this.checkCursorPosition(p)})),this._register(ii(f=>{let p=this._currentEdit.read(f);if(this._isCursorAtInlineEditContext.set(!1),!p){this._isVisibleContext.set(!1);return}this._isVisibleContext.set(!0);let g=t.getPosition();g&&this.checkCursorPosition(g)}));let u=Aa("InlineEditController.editorBlurSignal",t.onDidBlurEditorWidget);this._register(ii(f=>k(this,null,function*(){this._enabled.read(f)&&(u.read(f),!(this._configurationService.getValue("editor.experimentalInlineEdit.keepOnBlur")||t.getOption(63).keepOnBlur)&&(this._currentRequestCts?.dispose(!0),this._currentRequestCts=void 0,yield this.clear(!1)))})));let h=Aa("InlineEditController.editorFocusSignal",t.onDidFocusEditorText);this._register(ii(f=>{this._enabled.read(f)&&(h.read(f),this.getInlineEdit(t,!0))}));let m=this._register(Hx());this._register(ii(f=>{let p=this._fontFamily.read(f);m.setStyle(p===""||p==="default"?"":`
.monaco-editor .inline-edit-decoration,
.monaco-editor .inline-edit-decoration-preview,
.monaco-editor .inline-edit {
	font-family: ${p};
}`)})),this._register(new d1(this.editor,this._currentWidget,this.instantiationService)),this._register(new h1(this.editor,this._currentEdit,this.instantiationService,this._diffProviderFactoryService,this._modelService))}checkCursorPosition(t){if(!this._currentEdit){this._isCursorAtInlineEditContext.set(!1);return}let e=this._currentEdit.get();if(!e){this._isCursorAtInlineEditContext.set(!1);return}this._isCursorAtInlineEditContext.set(A.containsPosition(e.range,t))}validateInlineEdit(t,e){if(e.text.includes(`
`)&&e.range.startLineNumber!==e.range.endLineNumber&&e.range.startColumn!==e.range.endColumn){if(e.range.startColumn!==1)return!1;let o=e.range.endLineNumber,r=e.range.endColumn,s=t.getModel()?.getLineLength(o)??0;if(r!==s+1)return!1}return!0}fetchInlineEdit(t,e){return k(this,null,function*(){this._currentRequestCts&&this._currentRequestCts.dispose(!0);let i=t.getModel();if(!i)return;let o=i.getVersionId(),r=this.languageFeaturesService.inlineEditProvider.all(i);if(r.length===0)return;let s=r[0];this._currentRequestCts=new fi;let a=this._currentRequestCts.token,l=e?ZT.Automatic:ZT.Invoke;if(e&&(yield C0e(50,a)),a.isCancellationRequested||i.isDisposed()||i.getVersionId()!==o)return;let d=yield s.provideInlineEdit(i,{triggerKind:l},a);if(d&&!(a.isCancellationRequested||i.isDisposed()||i.getVersionId()!==o)&&this.validateInlineEdit(t,d))return d})}getInlineEdit(t,e){return k(this,null,function*(){this._isCursorAtInlineEditContext.set(!1),yield this.clear();let i=yield this.fetchInlineEdit(t,e);i&&this._currentEdit.set(i,void 0)})}trigger(){return k(this,null,function*(){yield this.getInlineEdit(this.editor,!1)})}jumpBack(){return k(this,null,function*(){this._jumpBackPosition&&(this.editor.setPosition(this._jumpBackPosition),this.editor.revealPositionInCenterIfOutsideViewport(this._jumpBackPosition))})}accept(){return k(this,null,function*(){this._isAccepting.set(!0,void 0);let t=this._currentEdit.get();if(!t)return;let e=t.text;t.text.startsWith(`
`)&&(e=t.text.substring(1)),this.editor.pushUndoStop(),this.editor.executeEdits("acceptCurrent",[mi.replace(A.lift(t.range),e)]),t.accepted&&(yield this._commandService.executeCommand(t.accepted.id,...t.accepted.arguments||[]).then(void 0,zt)),this.freeEdit(t),ms(i=>{this._currentEdit.set(void 0,i),this._isAccepting.set(!1,i)})})}jumpToCurrent(){this._jumpBackPosition=this.editor.getSelection()?.getStartPosition();let t=this._currentEdit.get();if(!t)return;let e=he.lift({lineNumber:t.range.startLineNumber,column:t.range.startColumn});this.editor.setPosition(e),this.editor.revealPositionInCenterIfOutsideViewport(e)}clear(t=!0){return k(this,null,function*(){let e=this._currentEdit.get();e&&e?.rejected&&t&&(yield this._commandService.executeCommand(e.rejected.id,...e.rejected.arguments||[]).then(void 0,zt)),e&&this.freeEdit(e),this._currentEdit.set(void 0,void 0)})}freeEdit(t){let e=this.editor.getModel();if(!e)return;let i=this.languageFeaturesService.inlineEditProvider.all(e);i.length!==0&&i[0].freeInlineEdit(t)}};Ro=Ey=w0e([fm(1,De),fm(2,Xe),fm(3,ae),fm(4,ci),fm(5,_t),fm(6,Ap),fm(7,ji)],Ro);function C0e(n,t){return new Promise(e=>{let i,o=setTimeout(()=>{i&&i.dispose(),e()},n);t&&(i=t.onCancellationRequested(()=>{clearTimeout(o),i&&i.dispose(),e()}))})}$i();mt();var m1=class extends Z{constructor(){super({id:m9,label:"Accept Inline Edit",alias:"Accept Inline Edit",precondition:K.and(M.writable,Ro.inlineEditVisibleContext),kbOpts:[{weight:101,primary:2,kbExpr:K.and(M.writable,Ro.inlineEditVisibleContext,Ro.cursorAtInlineEditContext)}],menuOpts:[{menuId:ve.InlineEditToolbar,title:"Accept",group:"primary",order:1}]})}run(t,e){return k(this,null,function*(){yield Ro.get(e)?.accept()})}},p1=class extends Z{constructor(){let t=K.and(M.writable,K.not(Ro.inlineEditVisibleKey));super({id:"editor.action.inlineEdit.trigger",label:"Trigger Inline Edit",alias:"Trigger Inline Edit",precondition:t,kbOpts:{weight:101,primary:2646,kbExpr:t}})}run(t,e){return k(this,null,function*(){Ro.get(e)?.trigger()})}},f1=class extends Z{constructor(){let t=K.and(M.writable,Ro.inlineEditVisibleContext,K.not(Ro.cursorAtInlineEditKey));super({id:f9,label:"Jump to Inline Edit",alias:"Jump to Inline Edit",precondition:t,kbOpts:{weight:101,primary:2646,kbExpr:t},menuOpts:[{menuId:ve.InlineEditToolbar,title:"Jump To Edit",group:"primary",order:3,when:t}]})}run(t,e){return k(this,null,function*(){Ro.get(e)?.jumpToCurrent()})}},g1=class extends Z{constructor(){let t=K.and(M.writable,Ro.cursorAtInlineEditContext);super({id:g9,label:"Jump Back from Inline Edit",alias:"Jump Back from Inline Edit",precondition:t,kbOpts:{weight:110,primary:2646,kbExpr:t},menuOpts:[{menuId:ve.InlineEditToolbar,title:"Jump Back",group:"primary",order:3,when:t}]})}run(t,e){return k(this,null,function*(){Ro.get(e)?.jumpBack()})}},_1=class extends Z{constructor(){let t=K.and(M.writable,Ro.inlineEditVisibleContext);super({id:p9,label:"Reject Inline Edit",alias:"Reject Inline Edit",precondition:t,kbOpts:{weight:100,primary:9,kbExpr:t},menuOpts:[{menuId:ve.InlineEditToolbar,title:"Reject",group:"secondary",order:2}]})}run(t,e){return k(this,null,function*(){yield Ro.get(e)?.clear()})}};V(m1);V(_1);V(f1);V(g1);V(p1);Me(Ro.ID,Ro,3);tt();Vn();so();R5();tt();$t();Ae();mt();var v9="editor.action.inlineEdits.accept",b9="editor.action.inlineEdits.showPrevious",y9="editor.action.inlineEdits.showNext",fu=new ot("inlineEditsVisible",!1,_("inlineEditsVisible","Whether an inline edit is visible")),x9=new ot("inlineEditsIsPinned",!1,_("isPinned","Whether an inline edit is visible"));ce();so();wd();sv();Pn();Fs();Lt();Ht();gi();pw();Bt();ce();so();wd();On();vce();gn();Lt();ls();gt();ce();so();wd();tt();sv();EU();qx();bn();gt();pw();ce();so();wd();sv();var ky=(()=>{class n extends U{static{this.ID="editor.contrib.placeholderText"}constructor(e){super(),this._editor=e,this._editorObs=Rr(this._editor),this._placeholderText=this._editorObs.getOption(88),this._state=ps({owner:this,equalsFn:mw},i=>{let o=this._placeholderText.read(i);if(o&&this._editorObs.valueIsEmpty.read(i))return{placeholder:o}}),this._shouldViewBeAlive=S0e(this,i=>this._state.read(i)?.placeholder!==void 0),this._view=vw((i,o)=>{if(!this._shouldViewBeAlive.read(i))return;let r=pr("div.editorPlaceholder");o.add(ii(s=>{let a=this._state.read(s),l=a?.placeholder!==void 0;r.root.style.display=l?"block":"none",r.root.innerText=a?.placeholder??""})),o.add(ii(s=>{let a=this._editorObs.layoutInfo.read(s);r.root.style.left=`${a.contentLeft}px`,r.root.style.width=a.contentWidth-a.verticalScrollbarWidth+"px",r.root.style.top=`${this._editor.getTopForLineNumber(0)}px`})),o.add(ii(s=>{r.root.style.fontFamily=this._editorObs.getOption(49).read(s),r.root.style.fontSize=this._editorObs.getOption(52).read(s)+"px",r.root.style.lineHeight=this._editorObs.getOption(67).read(s)+"px"})),o.add(this._editorObs.createOverlayWidget({allowEditorOverflow:!1,minContentWidthInPx:qr(0),position:qr(null),domNode:r.root}))}),this._view.recomputeInitiallyAndOnChange(this._store)}}return n})();function S0e(n,t){return Cd(n,(e,i)=>i===!0?!0:t(e))}Ot();var I0e=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},D0e=function(n,t){return function(e,i){t(e,i,n)}},v1=class{constructor(t,e,i){this.range=t,this.newLines=e,this.changes=i}},b1=class extends U{constructor(t,e,i,o){super(),this._editor=t,this._edit=e,this._userPrompt=i,this._instantiationService=o,this._editorObs=Rr(this._editor),this._elements=pr("div.inline-edits-widget",{style:{position:"absolute",overflow:"visible",top:"0px",left:"0px"}},[pr("div@editorContainer",{style:{position:"absolute",top:"0px",left:"0px",width:"500px",height:"500px"}},[pr("div.toolbar@toolbar",{style:{position:"absolute",top:"-25px",left:"0px"}}),pr("div.promptEditor@promptEditor",{style:{position:"absolute",top:"-25px",left:"80px",width:"300px",height:"22px"}}),pr("div.preview@editor",{style:{position:"absolute",top:"0px",left:"0px"}})]),ah("svg",{style:{overflow:"visible",pointerEvents:"none"}},[ah("defs",[ah("linearGradient",{id:"Gradient2",x1:"0",y1:"0",x2:"1",y2:"0"},[ah("stop",{offset:"0%",class:"gradient-stop"}),ah("stop",{offset:"100%",class:"gradient-stop"})])]),ah("path@path",{d:"",fill:"url(#Gradient2)"})])]),this._previewTextModel=this._register(this._instantiationService.createInstance(Ra,"",dc,Ra.DEFAULT_CREATION_OPTIONS,null)),this._setText=qt(s=>{let a=this._edit.read(s);a&&this._previewTextModel.setValue(a.newLines.join(`
`))}).recomputeInitiallyAndOnChange(this._store),this._promptTextModel=this._register(this._instantiationService.createInstance(Ra,"",dc,Ra.DEFAULT_CREATION_OPTIONS,null)),this._promptEditor=this._register(this._instantiationService.createInstance(yo,this._elements.promptEditor,{glyphMargin:!1,lineNumbers:"off",minimap:{enabled:!1},guides:{indentation:!1,bracketPairs:!1,bracketPairsHorizontal:!1,highlightActiveIndentation:!1},folding:!1,selectOnLineNumbers:!1,selectionHighlight:!1,columnSelection:!1,overviewRulerBorder:!1,overviewRulerLanes:0,lineDecorationsWidth:0,lineNumbersMinChars:0,placeholder:"Describe the change you want...",fontFamily:wU},{contributions:Qj.getSomeEditorContributions([es.ID,ky.ID,am.ID]),isSimpleWidget:!0},this._editor)),this._previewEditor=this._register(this._instantiationService.createInstance(yo,this._elements.editor,{glyphMargin:!1,lineNumbers:"off",minimap:{enabled:!1},guides:{indentation:!1,bracketPairs:!1,bracketPairsHorizontal:!1,highlightActiveIndentation:!1},folding:!1,selectOnLineNumbers:!1,selectionHighlight:!1,columnSelection:!1,overviewRulerBorder:!1,overviewRulerLanes:0,lineDecorationsWidth:0,lineNumbersMinChars:0},{contributions:[]},this._editor)),this._previewEditorObs=Rr(this._previewEditor),this._decorations=qt(this,s=>{this._setText.read(s);let a=this._edit.read(s)?.changes;if(!a)return[];let l=[],c=[];if(a.length===1&&a[0].innerChanges[0].modifiedRange.equalsRange(this._previewTextModel.getFullModelRange()))return[];for(let d of a)if(d.original.isEmpty||l.push({range:d.original.toInclusiveRange(),options:Mp}),d.modified.isEmpty||c.push({range:d.modified.toInclusiveRange(),options:Hw}),d.modified.isEmpty||d.original.isEmpty)d.original.isEmpty||l.push({range:d.original.toInclusiveRange(),options:Uw}),d.modified.isEmpty||c.push({range:d.modified.toInclusiveRange(),options:Ww});else for(let u of d.innerChanges||[])d.original.contains(u.originalRange.startLineNumber)&&l.push({range:u.originalRange,options:u.originalRange.isEmpty()?qw:Tp}),d.modified.contains(u.modifiedRange.startLineNumber)&&c.push({range:u.modifiedRange,options:u.modifiedRange.isEmpty()?jw:Vw});return c}),this._layout1=qt(this,s=>{let a=this._editor.getModel(),l=this._edit.read(s);if(!l)return null;let c=l.range,d=0;for(let m=c.startLineNumber;m<c.endLineNumberExclusive;m++){let f=a.getLineMaxColumn(m),p=this._editor.getOffsetForColumn(m,f);d=Math.max(d,p)}return{left:this._editor.getLayoutInfo().contentLeft+d}}),this._layout=qt(this,s=>{let a=this._edit.read(s);if(!a)return null;let l=a.range,c=this._editorObs.scrollLeft.read(s),d=this._layout1.read(s).left+20-c,u=this._editor.getTopForLineNumber(l.startLineNumber)-this._editorObs.scrollTop.read(s),h=this._editor.getTopForLineNumber(l.endLineNumberExclusive)-this._editorObs.scrollTop.read(s),m=new Ig(d,u),f=new Ig(d,h),p=h-u,g=50,v=this._editor.getOption(67)*a.newLines.length,b=p-v,C=new Ig(d+g,u+b/2),T=new Ig(d+g,h-b/2);return{topCode:m,bottomCode:f,codeHeight:p,topEdit:C,bottomEdit:T,editHeight:v}});let r=qt(this,s=>this._edit.read(s)!==void 0||this._userPrompt.read(s)!==void 0);this._register(IU(this._elements.root,{display:qt(this,s=>r.read(s)?"block":"none")})),this._register(SU(this._editor.getDomNode(),this._elements.root)),this._register(Rr(t).createOverlayWidget({domNode:this._elements.root,position:qr(null),allowEditorOverflow:!1,minContentWidthInPx:qt(s=>{let a=this._layout1.read(s)?.left;if(a===void 0)return 0;let l=this._previewEditorObs.contentWidth.read(s);return a+l})})),this._previewEditor.setModel(this._previewTextModel),this._register(this._previewEditorObs.setDecorations(this._decorations)),this._register(ii(s=>{let a=this._layout.read(s);if(!a)return;let{topCode:l,bottomCode:c,topEdit:d,bottomEdit:u,editHeight:h}=a,m=10,f=0,p=40,g=new nz().moveTo(l).lineTo(l.deltaX(m)).curveTo(l.deltaX(m+p),d.deltaX(-p-f),d.deltaX(-f)).lineTo(d).lineTo(u).lineTo(u.deltaX(-f)).curveTo(u.deltaX(-p-f),c.deltaX(m+p),c.deltaX(m)).lineTo(c).build();this._elements.path.setAttribute("d",g),this._elements.editorContainer.style.top=`${d.y}px`,this._elements.editorContainer.style.left=`${d.x}px`,this._elements.editorContainer.style.height=`${h}px`;let v=this._previewEditorObs.contentWidth.read(s);this._previewEditor.layout({height:h,width:v})})),this._promptEditor.setModel(this._promptTextModel),this._promptEditor.layout(),this._register(k0e(E0e(this._userPrompt,s=>s??"",s=>s),Rr(this._promptEditor).value)),this._register(ii(s=>{let a=Rr(this._promptEditor).isFocused.read(s);this._elements.root.classList.toggle("focused",a)}))}};b1=I0e([D0e(3,De)],b1);function E0e(n,t,e){return gw(void 0,i=>t(n.read(i)),(i,o)=>n.set(e(i),o))}var Ig=class n{constructor(t,e){this.x=t,this.y=e}deltaX(t){return new n(this.x+t,this.y)}},nz=class{constructor(){this._data=""}moveTo(t){return this._data+=`M ${t.x} ${t.y} `,this}lineTo(t){return this._data+=`L ${t.x} ${t.y} `,this}curveTo(t,e,i){return this._data+=`C ${t.x} ${t.y} ${e.x} ${e.y} ${i.x} ${i.y} `,this}build(){return this._data}};function k0e(n,t){let e=new G;return e.add(ii(i=>{let o=n.read(i);t.set(o,void 0)})),e.add(ii(i=>{let o=t.read(i);n.set(o,void 0)})),e}var M0e=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},oz=function(n,t){return function(e,i){t(e,i,n)}},My,y1=class extends U{static{My=this}static{this._modelId=0}static _createUniqueUri(){return ht.from({scheme:"inline-edits",path:new Date().toString()+String(My._modelId++)})}constructor(e,i,o,r,s,a,l){super(),this.textModel=e,this._textModelVersionId=i,this._selection=o,this._debounceValue=r,this.languageFeaturesService=s,this._diffProviderFactoryService=a,this._modelService=l,this._forceUpdateExplicitlySignal=yp(this),this._selectedInlineCompletionId=Kn(this,void 0),this._isActive=Kn(this,!1),this._originalModel=fs(()=>this._modelService.createModel("",null,My._createUniqueUri())).keepObserved(this._store),this._modifiedModel=fs(()=>this._modelService.createModel("",null,My._createUniqueUri())).keepObserved(this._store),this._pinnedRange=new sz(this.textModel,this._textModelVersionId),this.isPinned=this._pinnedRange.range.map(c=>!!c),this.userPrompt=Kn(this,void 0),this.inlineEdit=qt(this,c=>this._inlineEdit.read(c)?.promiseResult.read(c)?.data),this._inlineEdit=qt(this,c=>{let d=this.selectedInlineEdit.read(c);if(!d)return;let u=d.inlineCompletion.range;if(d.inlineCompletion.insertText.trim()==="")return;let h=d.inlineCompletion.insertText.split(/\r\n|\r|\n/);function m(v){let b=v[0].match(/^\s*/)?.[0]??"";return v.map(C=>C.replace(new RegExp("^"+b),""))}h=m(h);let p=this.textModel.getValueInRange(u).split(/\r\n|\r|\n/);p=m(p),this._originalModel.get().setValue(p.join(`
`)),this._modifiedModel.get().setValue(h.join(`
`));let g=this._diffProviderFactoryService.createDiffProvider({diffAlgorithm:"advanced"});return yw.fromFn(()=>k(this,null,function*(){let v=yield g.computeDiff(this._originalModel.get(),this._modifiedModel.get(),{computeMoves:!1,ignoreTrimWhitespace:!1,maxComputationTimeMs:1e3},Je.None);if(!v.identical)return new v1(l4.fromRangeInclusive(u),m(h),v.changes)}))}),this._fetchStore=this._register(new G),this._inlineEditsFetchResult=Z_(this,void 0),this._inlineEdits=ps({owner:this,equalsFn:mw},c=>this._inlineEditsFetchResult.read(c)?.completions.map(d=>new rz(d))??[]),this._fetchInlineEditsPromise=_w({owner:this,createEmptyChangeSummary:()=>({inlineCompletionTriggerKind:as.Automatic}),handleChange:(c,d)=>(c.didChange(this._forceUpdateExplicitlySignal)&&(d.inlineCompletionTriggerKind=as.Explicit),!0)},(c,d)=>k(this,null,function*(){this._fetchStore.clear(),this._forceUpdateExplicitlySignal.read(c),this._textModelVersionId.read(c);function u(g,v){return v(g)}let h=this._pinnedRange.range.read(c)??u(this._selection.read(c),g=>g.isEmpty()?void 0:g);if(!h){this._inlineEditsFetchResult.set(void 0,void 0),this.userPrompt.set(void 0,void 0);return}let m={triggerKind:d.inlineCompletionTriggerKind,selectedSuggestionInfo:void 0,userPrompt:this.userPrompt.read(c)},f=O_(this._fetchStore);yield hd(200,f);let p=yield UD(this.languageFeaturesService.inlineCompletionsProvider,h,this.textModel,m,f);f.isCancellationRequested||this._inlineEditsFetchResult.set(p,void 0)})),this._filteredInlineEditItems=ps({owner:this,equalsFn:X_()},c=>this._inlineEdits.read(c)),this.selectedInlineCompletionIndex=qt(this,c=>{let d=this._selectedInlineCompletionId.read(c),u=this._filteredInlineEditItems.read(c),h=this._selectedInlineCompletionId===void 0?-1:u.findIndex(m=>m.semanticId===d);return h===-1?(this._selectedInlineCompletionId.set(void 0,void 0),0):h}),this.selectedInlineEdit=qt(this,c=>{let d=this._filteredInlineEditItems.read(c),u=this.selectedInlineCompletionIndex.read(c);return d[u]}),this._register(bw(this._fetchInlineEditsPromise))}triggerExplicitly(e){return k(this,null,function*(){bp(e,i=>{this._isActive.set(!0,i),this._forceUpdateExplicitlySignal.trigger(i)}),yield this._fetchInlineEditsPromise.get()})}stop(e){bp(e,i=>{this.userPrompt.set(void 0,i),this._isActive.set(!1,i),this._inlineEditsFetchResult.set(void 0,i),this._pinnedRange.setRange(void 0,i)})}_deltaSelectedInlineCompletionIndex(e){return k(this,null,function*(){yield this.triggerExplicitly();let i=this._filteredInlineEditItems.get()||[];if(i.length>0){let o=(this.selectedInlineCompletionIndex.get()+e+i.length)%i.length;this._selectedInlineCompletionId.set(i[o].semanticId,void 0)}else this._selectedInlineCompletionId.set(void 0,void 0)})}next(){return k(this,null,function*(){yield this._deltaSelectedInlineCompletionIndex(1)})}previous(){return k(this,null,function*(){yield this._deltaSelectedInlineCompletionIndex(-1)})}accept(e){return k(this,null,function*(){if(e.getModel()!==this.textModel)throw new ol;let i=this.selectedInlineEdit.get();i&&(e.pushUndoStop(),e.executeEdits("inlineSuggestion.accept",[i.inlineCompletion.toSingleTextEdit().toSingleEditOperation()]),this.stop())})}};y1=My=M0e([oz(4,ae),oz(5,Ap),oz(6,ji)],y1);var rz=class{constructor(t){this.inlineCompletion=t,this.semanticId=this.inlineCompletion.hash()}},sz=class extends U{constructor(t,e){super(),this._textModel=t,this._versionId=e,this._decorations=Kn(this,[]),this.range=qt(this,i=>{this._versionId.read(i);let o=this._decorations.read(i)[0];return o?this._textModel.getDecorationRange(o)??null:null}),this._register(Mt(()=>{this._textModel.deltaDecorations(this._decorations.get(),[])}))}setRange(t,e){this._decorations.set(this._textModel.deltaDecorations(this._decorations.get(),t?[{range:t,options:{description:"trackedRange"}}]:[]),e)}};_n();mt();Ot();var T0e=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},Ty=function(n,t){return function(e,i){t(e,i,n)}},az,Ga=class extends U{static{az=this}static{this.ID="editor.contrib.inlineEditsController"}static get(e){return e.getContribution(az.ID)}constructor(e,i,o,r,s,a){super(),this.editor=e,this._instantiationService=i,this._contextKeyService=o,this._debounceService=r,this._languageFeaturesService=s,this._configurationService=a,this._enabled=AU("editor.inlineEdits.enabled",!1,this._configurationService),this._editorObs=Rr(this.editor),this._selection=qt(this,l=>this._editorObs.cursorSelection.read(l)??new ze(1,1,1,1)),this._debounceValue=this._debounceService.for(this._languageFeaturesService.inlineCompletionsProvider,"InlineEditsDebounce",{min:50,max:50}),this.model=fs(this,l=>{if(!this._enabled.read(l)||this._editorObs.isReadonly.read(l))return;let c=this._editorObs.model.read(l);return c?this._instantiationService.createInstance(rv(y1,l),c,this._editorObs.versionId,this._selection,this._debounceValue):void 0}),this._hadInlineEdit=Cd(this,(l,c)=>c||this.model.read(l)?.inlineEdit.read(l)!==void 0),this._widget=fs(this,l=>{if(this._hadInlineEdit.read(l))return this._instantiationService.createInstance(rv(b1,l),this.editor,this.model.map((c,d)=>c?.inlineEdit.read(d)),A0e(c=>this.model.read(c)?.userPrompt??Kn("empty","")))}),this._register(UA(fu,this._contextKeyService,l=>!!this.model.read(l)?.inlineEdit.read(l))),this._register(UA(x9,this._contextKeyService,l=>!!this.model.read(l)?.isPinned.read(l))),this.model.recomputeInitiallyAndOnChange(this._store),this._widget.recomputeInitiallyAndOnChange(this._store)}};Ga=az=T0e([Ty(1,De),Ty(2,Xe),Ty(3,vn),Ty(4,ae),Ty(5,_t)],Ga);function A0e(n){return gw(void 0,t=>n(t).read(t),(t,e)=>{n(void 0).set(t,e)})}Ae();$i();mt();function Ay(n){return{label:n.value,alias:n.original}}var w9=(()=>{class n extends Z{static{this.ID=y9}constructor(){super(Te(j({id:n.ID},Ay(Pe("action.inlineEdits.showNext","Show Next Inline Edit"))),{precondition:K.and(M.writable,fu),kbOpts:{weight:100,primary:606}}))}run(e,i){return k(this,null,function*(){Ga.get(i)?.model.get()?.next()})}}return n})(),C9=(()=>{class n extends Z{static{this.ID=b9}constructor(){super(Te(j({id:n.ID},Ay(Pe("action.inlineEdits.showPrevious","Show Previous Inline Edit"))),{precondition:K.and(M.writable,fu),kbOpts:{weight:100,primary:604}}))}run(e,i){return k(this,null,function*(){Ga.get(i)?.model.get()?.previous()})}}return n})(),x1=class extends Z{constructor(){super(Te(j({id:"editor.action.inlineEdits.trigger"},Ay(Pe("action.inlineEdits.trigger","Trigger Inline Edit"))),{precondition:M.writable}))}run(t,e){return k(this,null,function*(){let i=Ga.get(e);yield fw(o=>k(this,null,function*(){yield i?.model.get()?.triggerExplicitly(o)}))})}},w1=class extends Z{constructor(){super(Te(j({id:v9},Ay(Pe("action.inlineEdits.accept","Accept Inline Edit"))),{precondition:fu,menuOpts:{menuId:ve.InlineEditsActions,title:_("inlineEditsActions","Accept Inline Edit"),group:"primary",order:1,icon:Ge.check},kbOpts:{primary:2058,weight:2e4,kbExpr:fu}}))}run(t,e){return k(this,null,function*(){e instanceof yo&&(e=e.getParentEditor());let i=Ga.get(e);i&&(i.model.get()?.accept(i.editor),i.editor.focus())})}},S9=(()=>{class n extends Z{static{this.ID="editor.action.inlineEdits.hide"}constructor(){super(Te(j({id:n.ID},Ay(Pe("action.inlineEdits.hide","Hide Inline Edit"))),{precondition:fu,kbOpts:{weight:100,primary:9}}))}run(e,i){return k(this,null,function*(){let o=Ga.get(i);ms(r=>{o?.model.get()?.stop(r)})})}}return n})();Me(Ga.ID,Ga,3);V(x1);V(w9);V(C9);V(w1);V(S9);QT();ce();tt();$t();gn();Lt();Ht();Bt();oi();ce();hA();gn();gi();Bt();io();On();hi();gn();Lt();cl();Ui();mt();var Uc={Visible:new ot("parameterHintsVisible",!1),MultipleSignatures:new ot("parameterHintsMultipleSignatures",!1)};function lz(n,t,e,i,o){return k(this,null,function*(){let r=n.ordered(t);for(let s of r)try{let a=yield s.provideSignatureHelp(t,e,o,i);if(a)return a}catch(a){zt(a)}})}Pt.registerCommand("_executeSignatureHelpProvider",(n,...t)=>k(void 0,null,function*(){let[e,i,o]=t;Tt(ht.isUri(e)),Tt(he.isIPosition(i)),Tt(typeof o=="string"||!o);let r=n.get(ae),s=yield n.get(no).createModelReference(e);try{let a=yield lz(r.signatureHelpProvider,s.object.textEditorModel,he.lift(i),{triggerKind:wa.Invoke,isRetrigger:!1,triggerCharacter:o},Je.None);return a?(setTimeout(()=>a.dispose(),0),a.value):void 0}finally{s.dispose()}}));var gu;(function(n){n.Default={type:0};class t{constructor(o,r){this.request=o,this.previouslyActiveHints=r,this.type=2}}n.Pending=t;class e{constructor(o){this.hints=o,this.type=1}}n.Active=e})(gu||(gu={}));var I9=(()=>{class n extends U{static{this.DEFAULT_DELAY=120}constructor(e,i,o=n.DEFAULT_DELAY){super(),this._onChangedHints=this._register(new je),this.onChangedHints=this._onChangedHints.event,this.triggerOnType=!1,this._state=gu.Default,this._pendingTriggers=[],this._lastSignatureHelpResult=this._register(new dn),this.triggerChars=new ch,this.retriggerChars=new ch,this.triggerId=0,this.editor=e,this.providers=i,this.throttledDelayer=new Ir(o),this._register(this.editor.onDidBlurEditorWidget(()=>this.cancel())),this._register(this.editor.onDidChangeConfiguration(()=>this.onEditorConfigurationChange())),this._register(this.editor.onDidChangeModel(r=>this.onModelChanged())),this._register(this.editor.onDidChangeModelLanguage(r=>this.onModelChanged())),this._register(this.editor.onDidChangeCursorSelection(r=>this.onCursorChange(r))),this._register(this.editor.onDidChangeModelContent(r=>this.onModelContentChange())),this._register(this.providers.onDidChange(this.onModelChanged,this)),this._register(this.editor.onDidType(r=>this.onDidType(r))),this.onEditorConfigurationChange(),this.onModelChanged()}get state(){return this._state}set state(e){this._state.type===2&&this._state.request.cancel(),this._state=e}cancel(e=!1){this.state=gu.Default,this.throttledDelayer.cancel(),e||this._onChangedHints.fire(void 0)}trigger(e,i){let o=this.editor.getModel();if(!o||!this.providers.has(o))return;let r=++this.triggerId;this._pendingTriggers.push(e),this.throttledDelayer.trigger(()=>this.doTrigger(r),i).catch(ut)}next(){if(this.state.type!==1)return;let e=this.state.hints.signatures.length,i=this.state.hints.activeSignature,o=i%e===e-1,r=this.editor.getOption(86).cycle;if((e<2||o)&&!r){this.cancel();return}this.updateActiveSignature(o&&r?0:i+1)}previous(){if(this.state.type!==1)return;let e=this.state.hints.signatures.length,i=this.state.hints.activeSignature,o=i===0,r=this.editor.getOption(86).cycle;if((e<2||o)&&!r){this.cancel();return}this.updateActiveSignature(o&&r?e-1:i-1)}updateActiveSignature(e){this.state.type===1&&(this.state=new gu.Active(Te(j({},this.state.hints),{activeSignature:e})),this._onChangedHints.fire(this.state.hints))}doTrigger(e){return k(this,null,function*(){let i=this.state.type===1||this.state.type===2,o=this.getLastActiveHints();if(this.cancel(!0),this._pendingTriggers.length===0)return!1;let r=this._pendingTriggers.reduce(R0e);this._pendingTriggers=[];let s={triggerKind:r.triggerKind,triggerCharacter:r.triggerCharacter,isRetrigger:i,activeSignatureHelp:o};if(!this.editor.hasModel())return!1;let a=this.editor.getModel(),l=this.editor.getPosition();this.state=new gu.Pending(yi(c=>lz(this.providers,a,l,s,c)),o);try{let c=yield this.state.request;return e!==this.triggerId?(c?.dispose(),!1):!c||!c.value.signatures||c.value.signatures.length===0?(c?.dispose(),this._lastSignatureHelpResult.clear(),this.cancel(),!1):(this.state=new gu.Active(c.value),this._lastSignatureHelpResult.value=c,this._onChangedHints.fire(this.state.hints),!0)}catch(c){return e===this.triggerId&&(this.state=gu.Default),ut(c),!1}})}getLastActiveHints(){switch(this.state.type){case 1:return this.state.hints;case 2:return this.state.previouslyActiveHints;default:return}}get isTriggered(){return this.state.type===1||this.state.type===2||this.throttledDelayer.isTriggered()}onModelChanged(){this.cancel(),this.triggerChars.clear(),this.retriggerChars.clear();let e=this.editor.getModel();if(e)for(let i of this.providers.ordered(e)){for(let o of i.signatureHelpTriggerCharacters||[])if(o.length){let r=o.charCodeAt(0);this.triggerChars.add(r),this.retriggerChars.add(r)}for(let o of i.signatureHelpRetriggerCharacters||[])o.length&&this.retriggerChars.add(o.charCodeAt(0))}}onDidType(e){if(!this.triggerOnType)return;let i=e.length-1,o=e.charCodeAt(i);(this.triggerChars.has(o)||this.isTriggered&&this.retriggerChars.has(o))&&this.trigger({triggerKind:wa.TriggerCharacter,triggerCharacter:e.charAt(i)})}onCursorChange(e){e.source==="mouse"?this.cancel():this.isTriggered&&this.trigger({triggerKind:wa.ContentChange})}onModelContentChange(){this.isTriggered&&this.trigger({triggerKind:wa.ContentChange})}onEditorConfigurationChange(){this.triggerOnType=this.editor.getOption(86).enabled,this.triggerOnType||this.cancel()}dispose(){this.cancel(!0),super.dispose()}}return n})();function R0e(n,t){switch(t.triggerKind){case wa.Invoke:return t;case wa.ContentChange:return n;case wa.TriggerCharacter:default:return t}}Ae();mt();Ot();gt();Vn();oi();ce();Fi();io();Da();Ae();mt();Eo();Zo();Ls();Ia();var O0e=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},C1=function(n,t){return function(e,i){t(e,i,n)}},cz,is=ye,P0e=Ii("parameter-hints-next",Ge.chevronDown,_("parameterHintsNextIcon","Icon for show next parameter hint.")),L0e=Ii("parameter-hints-previous",Ge.chevronUp,_("parameterHintsPreviousIcon","Icon for show previous parameter hint.")),S1=class extends U{static{cz=this}static{this.ID="editor.widget.parameterHintsWidget"}constructor(e,i,o,r,s,a){super(),this.editor=e,this.model=i,this.telemetryService=a,this.renderDisposeables=this._register(new G),this.visible=!1,this.announcedLabel=null,this.allowEditorOverflow=!0,this.markdownRenderer=this._register(new Vs({editor:e},s,r)),this.keyVisible=Uc.Visible.bindTo(o),this.keyMultipleSignatures=Uc.MultipleSignatures.bindTo(o)}createParameterHintDOMNodes(){let e=is(".editor-widget.parameter-hints-widget"),i=we(e,is(".phwrapper"));i.tabIndex=-1;let o=we(i,is(".controls")),r=we(o,is(".button"+St.asCSSSelector(L0e))),s=we(o,is(".overloads")),a=we(o,is(".button"+St.asCSSSelector(P0e)));this._register(Ct(r,"click",m=>{rh.stop(m),this.previous()})),this._register(Ct(a,"click",m=>{rh.stop(m),this.next()}));let l=is(".body"),c=new sw(l,{alwaysConsumeMouseWheel:!0});this._register(c),i.appendChild(c.getDomNode());let d=we(l,is(".signature")),u=we(l,is(".docs"));e.style.userSelect="text",this.domNodes={element:e,signature:d,overloads:s,docs:u,scrollbar:c},this.editor.addContentWidget(this),this.hide(),this._register(this.editor.onDidChangeCursorSelection(m=>{this.visible&&this.editor.layoutContentWidget(this)}));let h=()=>{if(!this.domNodes)return;let m=this.editor.getOption(50),f=this.domNodes.element;f.style.fontSize=`${m.fontSize}px`,f.style.lineHeight=`${m.lineHeight/m.fontSize}`,f.style.setProperty("--vscode-parameterHintsWidget-editorFontFamily",m.fontFamily),f.style.setProperty("--vscode-parameterHintsWidget-editorFontFamilyDefault",tp.fontFamily)};h(),this._register(bi.chain(this.editor.onDidChangeConfiguration.bind(this.editor),m=>m.filter(f=>f.hasChanged(50)))(h)),this._register(this.editor.onDidLayoutChange(m=>this.updateMaxHeight())),this.updateMaxHeight()}show(){this.visible||(this.domNodes||this.createParameterHintDOMNodes(),this.keyVisible.set(!0),this.visible=!0,setTimeout(()=>{this.domNodes?.element.classList.add("visible")},100),this.editor.layoutContentWidget(this))}hide(){this.renderDisposeables.clear(),this.visible&&(this.keyVisible.reset(),this.visible=!1,this.announcedLabel=null,this.domNodes?.element.classList.remove("visible"),this.editor.layoutContentWidget(this))}getPosition(){return this.visible?{position:this.editor.getPosition(),preference:[1,2]}:null}render(e){if(this.renderDisposeables.clear(),!this.domNodes)return;let i=e.signatures.length>1;this.domNodes.element.classList.toggle("multiple",i),this.keyMultipleSignatures.set(i),this.domNodes.signature.innerText="",this.domNodes.docs.innerText="";let o=e.signatures[e.activeSignature];if(!o)return;let r=we(this.domNodes.signature,is(".code")),s=o.parameters.length>0,a=o.activeParameter??e.activeParameter;if(s)this.renderParameters(r,o,a);else{let d=we(r,is("span"));d.textContent=o.label}let l=o.parameters[a];if(l?.documentation){let d=is("span.documentation");if(typeof l.documentation=="string")d.textContent=l.documentation;else{let u=this.renderMarkdownDocs(l.documentation);d.appendChild(u.element)}we(this.domNodes.docs,is("p",{},d))}if(o.documentation!==void 0)if(typeof o.documentation=="string")we(this.domNodes.docs,is("p",{},o.documentation));else{let d=this.renderMarkdownDocs(o.documentation);we(this.domNodes.docs,d.element)}let c=this.hasDocs(o,l);if(this.domNodes.signature.classList.toggle("has-docs",c),this.domNodes.docs.classList.toggle("empty",!c),this.domNodes.overloads.textContent=String(e.activeSignature+1).padStart(e.signatures.length.toString().length,"0")+"/"+e.signatures.length,l){let d="",u=o.parameters[a];Array.isArray(u.label)?d=o.label.substring(u.label[0],u.label[1]):d=u.label,u.documentation&&(d+=typeof u.documentation=="string"?`, ${u.documentation}`:`, ${u.documentation.value}`),o.documentation&&(d+=typeof o.documentation=="string"?`, ${o.documentation}`:`, ${o.documentation.value}`),this.announcedLabel!==d&&($n(_("hint","{0}, hint",d)),this.announcedLabel=d)}this.editor.layoutContentWidget(this),this.domNodes.scrollbar.scanDomNode()}renderMarkdownDocs(e){let i=new Xi,o=this.renderDisposeables.add(this.markdownRenderer.render(e,{asyncRenderCallback:()=>{this.domNodes?.scrollbar.scanDomNode()}}));o.element.classList.add("markdown-docs");let r=i.elapsed();return r>300&&this.telemetryService.publicLog2("parameterHints.parseMarkdown",{renderDuration:r}),o}hasDocs(e,i){return!!(i&&typeof i.documentation=="string"&&ld(i.documentation).length>0||i&&typeof i.documentation=="object"&&ld(i.documentation).value.length>0||e.documentation&&typeof e.documentation=="string"&&ld(e.documentation).length>0||e.documentation&&typeof e.documentation=="object"&&ld(e.documentation.value).length>0)}renderParameters(e,i,o){let[r,s]=this.getParameterLabelOffsets(i,o),a=document.createElement("span");a.textContent=i.label.substring(0,r);let l=document.createElement("span");l.textContent=i.label.substring(r,s),l.className="parameter active";let c=document.createElement("span");c.textContent=i.label.substring(s),we(e,a,l,c)}getParameterLabelOffsets(e,i){let o=e.parameters[i];if(o){if(Array.isArray(o.label))return o.label;if(o.label.length){let r=new RegExp(`(\\W|^)${rc(o.label)}(?=\\W|$)`,"g");r.test(e.label);let s=r.lastIndex-o.label.length;return s>=0?[s,r.lastIndex]:[0,0]}else return[0,0]}else return[0,0]}next(){this.editor.focus(),this.model.next()}previous(){this.editor.focus(),this.model.previous()}getDomNode(){return this.domNodes||this.createParameterHintDOMNodes(),this.domNodes.element}getId(){return cz.ID}updateMaxHeight(){if(!this.domNodes)return;let i=`${Math.max(this.editor.getLayoutInfo().height/4,250)}px`;this.domNodes.element.style.maxHeight=i;let o=this.domNodes.element.getElementsByClassName("phwrapper");o.length&&(o[0].style.maxHeight=i)}};S1=cz=O0e([C1(2,Xe),C1(3,Gn),C1(4,Un),C1(5,jn)],S1);Oe("editorHoverWidget.highlightForeground",iw,_("editorHoverWidgetHighlightForeground","Foreground color of the active item in the parameter hint."));var N0e=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},D9=function(n,t){return function(e,i){t(e,i,n)}},dz,Dg=class extends U{static{dz=this}static{this.ID="editor.controller.parameterHints"}static get(e){return e.getContribution(dz.ID)}constructor(e,i,o){super(),this.editor=e,this.model=this._register(new I9(e,o.signatureHelpProvider)),this._register(this.model.onChangedHints(r=>{r?(this.widget.value.show(),this.widget.value.render(r)):this.widget.rawValue?.hide()})),this.widget=new sp(()=>this._register(i.createInstance(S1,this.editor,this.model)))}cancel(){this.model.cancel()}previous(){this.widget.rawValue?.previous()}next(){this.widget.rawValue?.next()}trigger(e){this.model.trigger(e,0)}};Dg=dz=N0e([D9(1,De),D9(2,ae)],Dg);var uz=class extends Z{constructor(){super({id:"editor.action.triggerParameterHints",label:_("parameterHints.trigger.label","Trigger Parameter Hints"),alias:"Trigger Parameter Hints",precondition:M.hasSignatureHelpProvider,kbOpts:{kbExpr:M.editorTextFocus,primary:3082,weight:100}})}run(t,e){Dg.get(e)?.trigger({triggerKind:wa.Invoke})}};Me(Dg.ID,Dg,2);V(uz);var hz=175,mz=Ki.bindToContribution(Dg.get);Ne(new mz({id:"closeParameterHints",precondition:Uc.Visible,handler:n=>n.cancel(),kbOpts:{weight:hz,kbExpr:M.focus,primary:9,secondary:[1033]}}));Ne(new mz({id:"showPrevParameterHint",precondition:K.and(Uc.Visible,Uc.MultipleSignatures),handler:n=>n.previous(),kbOpts:{weight:hz,kbExpr:M.focus,primary:16,secondary:[528],mac:{primary:16,secondary:[528,302]}}}));Ne(new mz({id:"showNextParameterHint",precondition:K.and(Uc.Visible,Uc.MultipleSignatures),handler:n=>n.next(),kbOpts:{weight:hz,kbExpr:M.focus,primary:18,secondary:[530],mac:{primary:18,secondary:[530,300]}}}));tt();TA();Ae();Sce();so();Ot();var F0e=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},z0e=function(n,t){return function(e,i){t(e,i,n)}},pz=class{constructor(t){this.instantiationService=t}init(...t){}};function B0e(n,t){return class extends t{constructor(){super(...arguments),this._autorun=void 0}init(...i){this._autorun=gl((o,r)=>{let s=rv(n(),o);r.add(this.instantiationService.createInstance(s,...i))})}dispose(){this._autorun?.dispose()}}}function E9(n){return kU()?B0e(n,fz):n()}var fz=class extends pz{constructor(t,e){super(e),this.init(t)}};fz=F0e([z0e(1,De)],fz);Me(ky.ID,E9(()=>ky),0);Oe("editor.placeholder.foreground",W5,_("placeholderForeground","Foreground color of the placeholder text in the editor."));Ht();gi();Bt();Hs();ce();io();On();tt();Fo();hi();qe();$t();gn();Lt();_h();Ae();$i();uA();mt();Ot();dp();lc();Ia();gt();Ej();X4();Oi();Ht();gi();Vn();oi();ce();Ls();io();hi();qe();gn();Ae();mt();dp();Eo();Do();var H0e=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},I1=function(n,t){return function(e,i){t(e,i,n)}},V0e=!1,gm=new ot("renameInputVisible",!1,_("renameInputVisible","Whether the rename input widget is visible")),Ozt=new ot("renameInputFocused",!1,_("renameInputFocused","Whether the rename input widget is focused")),D1=class{constructor(t,e,i,o,r,s){this._editor=t,this._acceptKeybindings=e,this._themeService=i,this._keybindingService=o,this._logService=s,this.allowEditorOverflow=!0,this._disposables=new G,this._visibleContextKey=gm.bindTo(r),this._isEditingRenameCandidate=!1,this._nRenameSuggestionsInvocations=0,this._hadAutomaticRenameSuggestionsInvocation=!1,this._candidates=new Set,this._beforeFirstInputFieldEditSW=new Xi,this._inputWithButton=new _z,this._disposables.add(this._inputWithButton),this._editor.addContentWidget(this),this._disposables.add(this._editor.onDidChangeConfiguration(a=>{a.hasChanged(50)&&this._updateFont()})),this._disposables.add(i.onDidColorThemeChange(this._updateStyles,this))}dispose(){this._disposables.dispose(),this._editor.removeContentWidget(this)}getId(){return"__renameInputWidget"}getDomNode(){return this._domNode||(this._domNode=document.createElement("div"),this._domNode.className="monaco-editor rename-box",this._domNode.appendChild(this._inputWithButton.domNode),this._renameCandidateListView=this._disposables.add(new gz(this._domNode,{fontInfo:this._editor.getOption(50),onFocusChange:t=>{this._inputWithButton.input.value=t,this._isEditingRenameCandidate=!1},onSelectionChange:()=>{this._isEditingRenameCandidate=!1,this.acceptInput(!1)}})),this._disposables.add(this._inputWithButton.onDidInputChange(()=>{this._renameCandidateListView?.focusedCandidate!==void 0&&(this._isEditingRenameCandidate=!0),this._timeBeforeFirstInputFieldEdit??=this._beforeFirstInputFieldEditSW.elapsed(),this._renameCandidateProvidersCts?.token.isCancellationRequested===!1&&this._renameCandidateProvidersCts.cancel(),this._renameCandidateListView?.clearFocus()})),this._label=document.createElement("div"),this._label.className="rename-label",this._domNode.appendChild(this._label),this._updateFont(),this._updateStyles(this._themeService.getColorTheme())),this._domNode}_updateStyles(t){if(!this._domNode)return;let e=t.getColor(N4),i=t.getColor(F4);this._domNode.style.backgroundColor=String(t.getColor(Zx)??""),this._domNode.style.boxShadow=e?` 0 0 8px 2px ${e}`:"",this._domNode.style.border=i?`1px solid ${i}`:"",this._domNode.style.color=String(t.getColor(z4)??"");let o=t.getColor(B4);this._inputWithButton.domNode.style.backgroundColor=String(t.getColor(yA)??""),this._inputWithButton.input.style.backgroundColor=String(t.getColor(yA)??""),this._inputWithButton.domNode.style.borderWidth=o?"1px":"0px",this._inputWithButton.domNode.style.borderStyle=o?"solid":"none",this._inputWithButton.domNode.style.borderColor=o?.toString()??"none"}_updateFont(){if(this._domNode===void 0)return;Tt(this._label!==void 0,"RenameWidget#_updateFont: _label must not be undefined given _domNode is defined"),this._editor.applyFontInfo(this._inputWithButton.input);let t=this._editor.getOption(50);this._label.style.fontSize=`${this._computeLabelFontSize(t.fontSize)}px`}_computeLabelFontSize(t){return t*.8}getPosition(){if(!this._visible||!this._editor.hasModel()||!this._editor.getDomNode())return null;let t=ll(this.getDomNode().ownerDocument.body),e=Gi(this._editor.getDomNode()),i=this._getTopForPosition();this._nPxAvailableAbove=i+e.top,this._nPxAvailableBelow=t.height-this._nPxAvailableAbove;let o=this._editor.getOption(67),{totalHeight:r}=vz.getLayoutInfo({lineHeight:o}),s=this._nPxAvailableBelow>r*6?[2,1]:[1,2];return{position:this._position,preference:s}}beforeRender(){let[t,e]=this._acceptKeybindings;return this._label.innerText=_({key:"label",comment:['placeholders are keybindings, e.g "F2 to Rename, Shift+F2 to Preview"']},"{0} to Rename, {1} to Preview",this._keybindingService.lookupKeybinding(t)?.getLabel(),this._keybindingService.lookupKeybinding(e)?.getLabel()),this._domNode.style.minWidth="200px",null}afterRender(t){if(t===null){this.cancelInput(!0,"afterRender (because position is null)");return}if(!this._editor.hasModel()||!this._editor.getDomNode())return;Tt(this._renameCandidateListView),Tt(this._nPxAvailableAbove!==void 0),Tt(this._nPxAvailableBelow!==void 0);let e=pd(this._inputWithButton.domNode),i=pd(this._label),o;t===2?o=this._nPxAvailableBelow:o=this._nPxAvailableAbove,this._renameCandidateListView.layout({height:o-i-e,width:Er(this._inputWithButton.domNode)})}acceptInput(t){this._trace("invoking acceptInput"),this._currentAcceptInput?.(t)}cancelInput(t,e){this._currentCancelInput?.(t)}focusNextRenameSuggestion(){this._renameCandidateListView?.focusNext()||(this._inputWithButton.input.value=this._currentName)}focusPreviousRenameSuggestion(){this._renameCandidateListView?.focusPrevious()||(this._inputWithButton.input.value=this._currentName)}getInput(t,e,i,o,r){let{start:s,end:a}=this._getSelection(t,e);this._renameCts=r;let l=new G;this._nRenameSuggestionsInvocations=0,this._hadAutomaticRenameSuggestionsInvocation=!1,o===void 0?this._inputWithButton.button.style.display="none":(this._inputWithButton.button.style.display="flex",this._requestRenameCandidatesOnce=o,this._requestRenameCandidates(e,!1),l.add(Ct(this._inputWithButton.button,"click",()=>this._requestRenameCandidates(e,!0))),l.add(Ct(this._inputWithButton.button,li.KEY_DOWN,d=>{let u=new z_(d);(u.equals(3)||u.equals(10))&&(u.stopPropagation(),u.preventDefault(),this._requestRenameCandidates(e,!0))}))),this._isEditingRenameCandidate=!1,this._domNode.classList.toggle("preview",i),this._position=new he(t.startLineNumber,t.startColumn),this._currentName=e,this._inputWithButton.input.value=e,this._inputWithButton.input.setAttribute("selectionStart",s.toString()),this._inputWithButton.input.setAttribute("selectionEnd",a.toString()),this._inputWithButton.input.size=Math.max((t.endColumn-t.startColumn)*1.1,20),this._beforeFirstInputFieldEditSW.reset(),l.add(Mt(()=>{this._renameCts=void 0,r.dispose(!0)})),l.add(Mt(()=>{this._renameCandidateProvidersCts!==void 0&&(this._renameCandidateProvidersCts.dispose(!0),this._renameCandidateProvidersCts=void 0)})),l.add(Mt(()=>this._candidates.clear()));let c=new md;return c.p.finally(()=>{l.dispose(),this._hide()}),this._currentCancelInput=d=>(this._trace("invoking _currentCancelInput"),this._currentAcceptInput=void 0,this._currentCancelInput=void 0,this._renameCandidateListView?.clearCandidates(),c.complete(d),!0),this._currentAcceptInput=d=>{this._trace("invoking _currentAcceptInput"),Tt(this._renameCandidateListView!==void 0);let u=this._renameCandidateListView.nCandidates,h,m,f=this._renameCandidateListView.focusedCandidate;if(f!==void 0?(this._trace("using new name from renameSuggestion"),h=f,m={k:"renameSuggestion"}):(this._trace("using new name from inputField"),h=this._inputWithButton.input.value,m=this._isEditingRenameCandidate?{k:"userEditedRenameSuggestion"}:{k:"inputField"}),h===e||h.trim().length===0){this.cancelInput(!0,"_currentAcceptInput (because newName === value || newName.trim().length === 0)");return}this._currentAcceptInput=void 0,this._currentCancelInput=void 0,this._renameCandidateListView.clearCandidates(),c.complete({newName:h,wantsPreview:i&&d,stats:{source:m,nRenameSuggestions:u,timeBeforeFirstInputFieldEdit:this._timeBeforeFirstInputFieldEdit,nRenameSuggestionsInvocations:this._nRenameSuggestionsInvocations,hadAutomaticRenameSuggestionsInvocation:this._hadAutomaticRenameSuggestionsInvocation}})},l.add(r.token.onCancellationRequested(()=>this.cancelInput(!0,"cts.token.onCancellationRequested"))),V0e||l.add(this._editor.onDidBlurEditorWidget(()=>this.cancelInput(!this._domNode?.ownerDocument.hasFocus(),"editor.onDidBlurEditorWidget"))),this._show(),c.p}_requestRenameCandidates(t,e){if(this._requestRenameCandidatesOnce!==void 0&&(this._renameCandidateProvidersCts!==void 0&&this._renameCandidateProvidersCts.dispose(!0),Tt(this._renameCts),this._inputWithButton.buttonState!=="stop")){this._renameCandidateProvidersCts=new fi;let i=e?N_.Invoke:N_.Automatic,o=this._requestRenameCandidatesOnce(i,this._renameCandidateProvidersCts.token);if(o.length===0){this._inputWithButton.setSparkleButton();return}e||(this._hadAutomaticRenameSuggestionsInvocation=!0),this._nRenameSuggestionsInvocations+=1,this._inputWithButton.setStopButton(),this._updateRenameCandidates(o,t,this._renameCts.token)}}_getSelection(t,e){Tt(this._editor.hasModel());let i=this._editor.getSelection(),o=0,r=e.length;return!A.isEmpty(i)&&!A.spansMultipleLines(i)&&A.containsRange(t,i)&&(o=Math.max(0,i.startColumn-t.startColumn),r=Math.min(t.endColumn,i.endColumn)-t.startColumn),{start:o,end:r}}_show(){this._trace("invoking _show"),this._editor.revealLineInCenterIfOutsideViewport(this._position.lineNumber,0),this._visible=!0,this._visibleContextKey.set(!0),this._editor.layoutContentWidget(this),setTimeout(()=>{this._inputWithButton.input.focus(),this._inputWithButton.input.setSelectionRange(parseInt(this._inputWithButton.input.getAttribute("selectionStart")),parseInt(this._inputWithButton.input.getAttribute("selectionEnd")))},100)}_updateRenameCandidates(t,e,i){return k(this,null,function*(){let o=(...c)=>this._trace("_updateRenameCandidates",...c);o("start");let r=yield sl(Promise.allSettled(t),i);if(this._inputWithButton.setSparkleButton(),r===void 0){o("returning early - received updateRenameCandidates results - undefined");return}let s=r.flatMap(c=>c.status==="fulfilled"&&Qm(c.value)?c.value:[]);o(`received updateRenameCandidates results - total (unfiltered) ${s.length} candidates.`);let a=Ix(s,c=>c.newSymbolName);o(`distinct candidates - ${a.length} candidates.`);let l=a.filter(({newSymbolName:c})=>c.trim().length>0&&c!==this._inputWithButton.input.value&&c!==e&&!this._candidates.has(c));if(o(`valid distinct candidates - ${s.length} candidates.`),l.forEach(c=>this._candidates.add(c.newSymbolName)),l.length<1){o("returning early - no valid distinct candidates");return}o("setting candidates"),this._renameCandidateListView.setCandidates(l),o("asking editor to re-layout"),this._editor.layoutContentWidget(this)})}_hide(){this._trace("invoked _hide"),this._visible=!1,this._visibleContextKey.reset(),this._editor.layoutContentWidget(this)}_getTopForPosition(){let t=this._editor.getVisibleRanges(),e;return t.length>0?e=t[0].startLineNumber:(this._logService.warn("RenameWidget#_getTopForPosition: this should not happen - visibleRanges is empty"),e=Math.max(1,this._position.lineNumber-5)),this._editor.getTopForLineNumber(this._position.lineNumber)-this._editor.getTopForLineNumber(e)}_trace(...t){this._logService.trace("RenameWidget",...t)}};D1=H0e([I1(2,qn),I1(3,Vt),I1(4,Xe),I1(5,ds)],D1);var gz=class n{constructor(t,e){this._disposables=new G,this._availableHeight=0,this._minimumWidth=0,this._lineHeight=e.fontInfo.lineHeight,this._typicalHalfwidthCharacterWidth=e.fontInfo.typicalHalfwidthCharacterWidth,this._listContainer=document.createElement("div"),this._listContainer.className="rename-box rename-candidate-list-container",t.appendChild(this._listContainer),this._listWidget=n._createListWidget(this._listContainer,this._candidateViewHeight,e.fontInfo),this._listWidget.onDidChangeFocus(i=>{i.elements.length===1&&e.onFocusChange(i.elements[0].newSymbolName)},this._disposables),this._listWidget.onDidChangeSelection(i=>{i.elements.length===1&&e.onSelectionChange()},this._disposables),this._disposables.add(this._listWidget.onDidBlur(i=>{this._listWidget.setFocus([])})),this._listWidget.style(ww({listInactiveFocusForeground:nw,listInactiveFocusBackground:ow}))}dispose(){this._listWidget.dispose(),this._disposables.dispose()}layout({height:t,width:e}){this._availableHeight=t,this._minimumWidth=e}setCandidates(t){this._listWidget.splice(0,0,t);let e=this._pickListHeight(this._listWidget.length),i=this._pickListWidth(t);this._listWidget.layout(e,i),this._listContainer.style.height=`${e}px`,this._listContainer.style.width=`${i}px`,Ta(_("renameSuggestionsReceivedAria","Received {0} rename suggestions",t.length))}clearCandidates(){this._listContainer.style.height="0px",this._listContainer.style.width="0px",this._listWidget.splice(0,this._listWidget.length,[])}get nCandidates(){return this._listWidget.length}get focusedCandidate(){if(this._listWidget.length===0)return;let t=this._listWidget.getSelectedElements()[0];if(t!==void 0)return t.newSymbolName;let e=this._listWidget.getFocusedElements()[0];if(e!==void 0)return e.newSymbolName}focusNext(){if(this._listWidget.length===0)return!1;let t=this._listWidget.getFocus();if(t.length===0)return this._listWidget.focusFirst(),this._listWidget.reveal(0),!0;if(t[0]===this._listWidget.length-1)return this._listWidget.setFocus([]),this._listWidget.reveal(0),!1;{this._listWidget.focusNext();let e=this._listWidget.getFocus()[0];return this._listWidget.reveal(e),!0}}focusPrevious(){if(this._listWidget.length===0)return!1;let t=this._listWidget.getFocus();if(t.length===0){this._listWidget.focusLast();let e=this._listWidget.getFocus()[0];return this._listWidget.reveal(e),!0}else{if(t[0]===0)return this._listWidget.setFocus([]),!1;{this._listWidget.focusPrevious();let e=this._listWidget.getFocus()[0];return this._listWidget.reveal(e),!0}}}clearFocus(){this._listWidget.setFocus([])}get _candidateViewHeight(){let{totalHeight:t}=vz.getLayoutInfo({lineHeight:this._lineHeight});return t}_pickListHeight(t){let e=this._candidateViewHeight*t;return Math.min(e,this._availableHeight,this._candidateViewHeight*7)}_pickListWidth(t){let e=Math.ceil(Math.max(...t.map(o=>o.newSymbolName.length))*this._typicalHalfwidthCharacterWidth);return Math.max(this._minimumWidth,25+e+10)}static _createListWidget(t,e,i){let o=new class{getTemplateId(s){return"candidate"}getHeight(s){return e}},r=new class{constructor(){this.templateId="candidate"}renderTemplate(s){return new vz(s,i)}renderElement(s,a,l){l.populate(s)}disposeTemplate(s){s.dispose()}};return new xp("NewSymbolNameCandidates",t,o,[r],{keyboardSupport:!1,mouseSupport:!0,multipleSelectionSupport:!1})}},_z=class{constructor(){this._onDidInputChange=new je,this.onDidInputChange=this._onDidInputChange.event,this._disposables=new G}get domNode(){return this._domNode||(this._domNode=document.createElement("div"),this._domNode.className="rename-input-with-button",this._domNode.style.display="flex",this._domNode.style.flexDirection="row",this._domNode.style.alignItems="center",this._inputNode=document.createElement("input"),this._inputNode.className="rename-input",this._inputNode.type="text",this._inputNode.style.border="none",this._inputNode.setAttribute("aria-label",_("renameAriaLabel","Rename input. Type new name and press Enter to commit.")),this._domNode.appendChild(this._inputNode),this._buttonNode=document.createElement("div"),this._buttonNode.className="rename-suggestions-button",this._buttonNode.setAttribute("tabindex","0"),this._buttonGenHoverText=_("generateRenameSuggestionsButton","Generate new name suggestions"),this._buttonCancelHoverText=_("cancelRenameSuggestionsButton","Cancel"),this._buttonHover=N5().setupManagedHover(Sd("element"),this._buttonNode,this._buttonGenHoverText),this._disposables.add(this._buttonHover),this._domNode.appendChild(this._buttonNode),this._disposables.add(Ct(this.input,li.INPUT,()=>this._onDidInputChange.fire())),this._disposables.add(Ct(this.input,li.KEY_DOWN,t=>{let e=new z_(t);(e.keyCode===15||e.keyCode===17)&&this._onDidInputChange.fire()})),this._disposables.add(Ct(this.input,li.CLICK,()=>this._onDidInputChange.fire())),this._disposables.add(Ct(this.input,li.FOCUS,()=>{this.domNode.style.outlineWidth="1px",this.domNode.style.outlineStyle="solid",this.domNode.style.outlineOffset="-1px",this.domNode.style.outlineColor="var(--vscode-focusBorder)"})),this._disposables.add(Ct(this.input,li.BLUR,()=>{this.domNode.style.outline="none"}))),this._domNode}get input(){return Tt(this._inputNode),this._inputNode}get button(){return Tt(this._buttonNode),this._buttonNode}get buttonState(){return this._buttonState}setSparkleButton(){this._buttonState="sparkle",this._sparkleIcon??=cw(Ge.sparkle),Dr(this.button),this.button.appendChild(this._sparkleIcon),this.button.setAttribute("aria-label","Generating new name suggestions"),this._buttonHover?.update(this._buttonGenHoverText),this.input.focus()}setStopButton(){this._buttonState="stop",this._stopIcon??=cw(Ge.primitiveSquare),Dr(this.button),this.button.appendChild(this._stopIcon),this.button.setAttribute("aria-label","Cancel generating new name suggestions"),this._buttonHover?.update(this._buttonCancelHoverText),this.input.focus()}dispose(){this._disposables.dispose()}},vz=(()=>{class n{static{this._PADDING=2}constructor(e,i){this._domNode=document.createElement("div"),this._domNode.className="rename-box rename-candidate",this._domNode.style.display="flex",this._domNode.style.columnGap="5px",this._domNode.style.alignItems="center",this._domNode.style.height=`${i.lineHeight}px`,this._domNode.style.padding=`${n._PADDING}px`;let o=document.createElement("div");o.style.display="flex",o.style.alignItems="center",o.style.width=o.style.height=`${i.lineHeight*.8}px`,this._domNode.appendChild(o),this._icon=cw(Ge.sparkle),this._icon.style.display="none",o.appendChild(this._icon),this._label=document.createElement("div"),Vx(this._label,i),this._domNode.appendChild(this._label),e.appendChild(this._domNode)}populate(e){this._updateIcon(e),this._updateLabel(e)}_updateIcon(e){let i=!!e.tags?.includes(mj.AIGenerated);this._icon.style.display=i?"inherit":"none"}_updateLabel(e){this._label.innerText=e.newSymbolName}static getLayoutInfo({lineHeight:e}){return{totalHeight:e+n._PADDING*2}}dispose(){}}return n})();var W0e=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},_u=function(n,t){return function(e,i){t(e,i,n)}},bz,Ry=class{constructor(t,e,i){this.model=t,this.position=e,this._providerRenameIdx=0,this._providers=i.ordered(t)}hasProvider(){return this._providers.length>0}resolveRenameLocation(t){return k(this,null,function*(){let e=[];for(this._providerRenameIdx=0;this._providerRenameIdx<this._providers.length;this._providerRenameIdx++){let o=this._providers[this._providerRenameIdx];if(!o.resolveRenameLocation)break;let r=yield o.resolveRenameLocation(this.model,this.position,t);if(r){if(r.rejectReason){e.push(r.rejectReason);continue}return r}}this._providerRenameIdx=0;let i=this.model.getWordAtPosition(this.position);return i?{range:new A(this.position.lineNumber,i.startColumn,this.position.lineNumber,i.endColumn),text:i.word,rejectReason:e.length>0?e.join(`
`):void 0}:{range:A.fromPositions(this.position),text:"",rejectReason:e.length>0?e.join(`
`):void 0}})}provideRenameEdits(t,e){return k(this,null,function*(){return this._provideRenameEdits(t,this._providerRenameIdx,[],e)})}_provideRenameEdits(t,e,i,o){return k(this,null,function*(){let r=this._providers[e];if(!r)return{edits:[],rejectReason:i.join(`
`)};let s=yield r.provideRenameEdits(this.model,this.position,t,o);if(s){if(s.rejectReason)return this._provideRenameEdits(t,e+1,i.concat(s.rejectReason),o)}else return this._provideRenameEdits(t,e+1,i.concat(_("no result","No result.")),o);return s})}};function j0e(n,t,e,i){return k(this,null,function*(){let o=new Ry(t,e,n),r=yield o.resolveRenameLocation(Je.None);return r?.rejectReason?{edits:[],rejectReason:r.rejectReason}:o.provideRenameEdits(i,Je.None)})}var vu=class{static{bz=this}static{this.ID="editor.contrib.renameController"}static get(e){return e.getContribution(bz.ID)}constructor(e,i,o,r,s,a,l,c,d){this.editor=e,this._instaService=i,this._notificationService=o,this._bulkEditService=r,this._progressService=s,this._logService=a,this._configService=l,this._languageFeaturesService=c,this._telemetryService=d,this._disposableStore=new G,this._cts=new fi,this._renameWidget=this._disposableStore.add(this._instaService.createInstance(D1,this.editor,["acceptRenameInput","acceptRenameInputWithPreview"]))}dispose(){this._disposableStore.dispose(),this._cts.dispose(!0)}run(){return k(this,null,function*(){let e=this._logService.trace.bind(this._logService,"[rename]");if(this._cts.dispose(!0),this._cts=new fi,!this.editor.hasModel()){e("editor has no model");return}let i=this.editor.getPosition(),o=new Ry(this.editor.getModel(),i,this._languageFeaturesService.renameProvider);if(!o.hasProvider()){e("skeleton has no provider");return}let r=new bl(this.editor,5,void 0,this._cts.token),s;try{e("resolving rename location");let p=o.resolveRenameLocation(r.token);this._progressService.showWhile(p,250),s=yield p,e("resolved rename location")}catch(p){p instanceof ud?e("resolve rename location cancelled",JSON.stringify(p,null,"	")):(e("resolve rename location failed",p instanceof Error?p:JSON.stringify(p,null,"	")),(typeof p=="string"||_p(p))&&bo.get(this.editor)?.showMessage(p||_("resolveRenameLocationFailed","An unknown error occurred while resolving rename location"),i));return}finally{r.dispose()}if(!s){e("returning early - no loc");return}if(s.rejectReason){e(`returning early - rejected with reason: ${s.rejectReason}`,s.rejectReason),bo.get(this.editor)?.showMessage(s.rejectReason,i);return}if(r.token.isCancellationRequested){e("returning early - cts1 cancelled");return}let a=new bl(this.editor,5,s.range,this._cts.token),l=this.editor.getModel(),c=this._languageFeaturesService.newSymbolNamesProvider.all(l),d=yield Promise.all(c.map(p=>k(this,null,function*(){return[p,(yield p.supportsAutomaticNewSymbolNamesTriggerKind)??!1]}))),u=(p,g)=>{let v=d.slice();return p===N_.Automatic&&(v=v.filter(([b,C])=>C)),v.map(([b])=>b.provideNewSymbolNames(l,s.range,p,g))};e("creating rename input field and awaiting its result");let h=this._bulkEditService.hasPreviewHandler()&&this._configService.getValue(this.editor.getModel().uri,"editor.rename.enablePreview"),m=yield this._renameWidget.getInput(s.range,s.text,h,c.length>0?u:void 0,a);if(e("received response from rename input field"),c.length>0&&this._reportTelemetry(c.length,l.getLanguageId(),m),typeof m=="boolean"){e(`returning early - rename input field response - ${m}`),m&&this.editor.focus(),a.dispose();return}this.editor.focus(),e("requesting rename edits");let f=sl(o.provideRenameEdits(m.newName,a.token),a.token).then(p=>k(this,null,function*(){if(!p){e("returning early - no rename edits result");return}if(!this.editor.hasModel()){e("returning early - no model after rename edits are provided");return}if(p.rejectReason){e(`returning early - rejected with reason: ${p.rejectReason}`),this._notificationService.info(p.rejectReason);return}this.editor.setSelection(A.fromPositions(this.editor.getSelection().getPosition())),e("applying edits"),this._bulkEditService.apply(p,{editor:this.editor,showPreview:m.wantsPreview,label:_("label","Renaming '{0}' to '{1}'",s?.text,m.newName),code:"undoredo.rename",quotableLabel:_("quotableLabel","Renaming {0} to {1}",s?.text,m.newName),respectAutoSaveConfig:!0}).then(g=>{e("edits applied"),g.ariaSummary&&$n(_("aria","Successfully renamed '{0}' to '{1}'. Summary: {2}",s.text,m.newName,g.ariaSummary))}).catch(g=>{e(`error when applying edits ${JSON.stringify(g,null,"	")}`),this._notificationService.error(_("rename.failedApply","Rename failed to apply edits")),this._logService.error(g)})}),p=>{e("error when providing rename edits",JSON.stringify(p,null,"	")),this._notificationService.error(_("rename.failed","Rename failed to compute edits")),this._logService.error(p)}).finally(()=>{a.dispose()});return e("returning rename operation"),this._progressService.showWhile(f,250),f})}acceptRenameInput(e){this._renameWidget.acceptInput(e)}cancelRenameInput(){this._renameWidget.cancelInput(!0,"cancelRenameInput command")}focusNextRenameSuggestion(){this._renameWidget.focusNextRenameSuggestion()}focusPreviousRenameSuggestion(){this._renameWidget.focusPreviousRenameSuggestion()}_reportTelemetry(e,i,o){let r=typeof o=="boolean"?{kind:"cancelled",languageId:i,nRenameSuggestionProviders:e}:{kind:"accepted",languageId:i,nRenameSuggestionProviders:e,source:o.stats.source.k,nRenameSuggestions:o.stats.nRenameSuggestions,timeBeforeFirstInputFieldEdit:o.stats.timeBeforeFirstInputFieldEdit,wantsPreview:o.wantsPreview,nRenameSuggestionsInvocations:o.stats.nRenameSuggestionsInvocations,hadAutomaticRenameSuggestionsInvocation:o.stats.hadAutomaticRenameSuggestionsInvocation};this._telemetryService.publicLog2("renameInvokedEvent",r)}};vu=bz=W0e([_u(1,De),_u(2,Bi),_u(3,xd),_u(4,bc),_u(5,ds),_u(6,c4),_u(7,ae),_u(8,jn)],vu);var yz=class extends Z{constructor(){super({id:"editor.action.rename",label:_("rename.label","Rename Symbol"),alias:"Rename Symbol",precondition:K.and(M.writable,M.hasRenameProvider),kbOpts:{kbExpr:M.editorTextFocus,primary:60,weight:100},contextMenuOpts:{group:"1_modification",order:1.1}})}runCommand(t,e){let i=t.get(Xt),[o,r]=Array.isArray(e)&&e||[void 0,void 0];return ht.isUri(o)&&he.isIPosition(r)?i.openCodeEditor({resource:o},i.getActiveCodeEditor()).then(s=>{s&&(s.setPosition(r),s.invokeWithinContext(a=>(this.reportTelemetry(a,s),this.run(a,s))))},ut):super.runCommand(t,e)}run(t,e){let i=t.get(ds),o=vu.get(e);return o?(i.trace("[RenameAction] got controller, running..."),o.run()):(i.trace("[RenameAction] returning early - controller missing"),Promise.resolve())}};Me(vu.ID,vu,4);V(yz);var xz=Ki.bindToContribution(vu.get);Ne(new xz({id:"acceptRenameInput",precondition:gm,handler:n=>n.acceptRenameInput(!1),kbOpts:{weight:199,kbExpr:K.and(M.focus,K.not("isComposing")),primary:3}}));Ne(new xz({id:"acceptRenameInputWithPreview",precondition:K.and(gm,K.has("config.editor.rename.enablePreview")),handler:n=>n.acceptRenameInput(!0),kbOpts:{weight:199,kbExpr:K.and(M.focus,K.not("isComposing")),primary:2051}}));Ne(new xz({id:"cancelRenameInput",precondition:gm,handler:n=>n.cancelRenameInput(),kbOpts:{weight:199,kbExpr:M.focus,primary:9,secondary:[1033]}}));Gt(class extends Wn{constructor(){super({id:"focusNextRenameSuggestion",title:j({},Pe("focusNextRenameSuggestion","Focus Next Rename Suggestion")),precondition:gm,keybinding:[{primary:18,weight:199}]})}run(t){let e=t.get(Xt).getFocusedCodeEditor();if(!e)return;let i=vu.get(e);i&&i.focusNextRenameSuggestion()}});Gt(class extends Wn{constructor(){super({id:"focusPreviousRenameSuggestion",title:j({},Pe("focusPreviousRenameSuggestion","Focus Previous Rename Suggestion")),precondition:gm,keybinding:[{primary:16,weight:199}]})}run(t){let e=t.get(Xt).getFocusedCodeEditor();if(!e)return;let i=vu.get(e);i&&i.focusPreviousRenameSuggestion()}});oo("_executeDocumentRenameProvider",function(n,t,e,...i){let[o]=i;Tt(typeof o=="string");let{renameProvider:r}=n.get(ae);return j0e(r,t,e,o)});oo("_executePrepareRename",function(n,t,e){return k(this,null,function*(){let{renameProvider:i}=n.get(ae),r=yield new Ry(t,e,i).resolveRenameLocation(Je.None);if(r?.rejectReason)throw new Error(r.rejectReason);return r})});go.as(fd.Configuration).registerConfiguration({id:"editor",properties:{"editor.rename.enablePreview":{scope:5,description:_("enablePreview","Enable/disable the ability to preview changes before renaming"),default:!0,type:"boolean"}}});Ht();ce();tt();Jo();bn();fh();var U0e=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},k9=function(n,t){return function(e,i){t(e,i,n)}},E1=class extends U{static{this.ID="editor.sectionHeaderDetector"}constructor(t,e,i){super(),this.editor=t,this.languageConfigurationService=e,this.editorWorkerService=i,this.decorations=this.editor.createDecorationsCollection(),this.options=this.createOptions(t.getOption(73)),this.computePromise=null,this.currentOccurrences={},this._register(t.onDidChangeModel(o=>{this.currentOccurrences={},this.options=this.createOptions(t.getOption(73)),this.stop(),this.computeSectionHeaders.schedule(0)})),this._register(t.onDidChangeModelLanguage(o=>{this.currentOccurrences={},this.options=this.createOptions(t.getOption(73)),this.stop(),this.computeSectionHeaders.schedule(0)})),this._register(e.onDidChange(o=>{let r=this.editor.getModel()?.getLanguageId();r&&o.affects(r)&&(this.currentOccurrences={},this.options=this.createOptions(t.getOption(73)),this.stop(),this.computeSectionHeaders.schedule(0))})),this._register(t.onDidChangeConfiguration(o=>{this.options&&!o.hasChanged(73)||(this.options=this.createOptions(t.getOption(73)),this.updateDecorations([]),this.stop(),this.computeSectionHeaders.schedule(0))})),this._register(this.editor.onDidChangeModelContent(o=>{this.computeSectionHeaders.schedule()})),this._register(t.onDidChangeModelTokens(o=>{this.computeSectionHeaders.isScheduled()||this.computeSectionHeaders.schedule(1e3)})),this.computeSectionHeaders=this._register(new si(()=>{this.findSectionHeaders()},250)),this.computeSectionHeaders.schedule(0)}createOptions(t){if(!t||!this.editor.hasModel())return;let e=this.editor.getModel().getLanguageId();if(!e)return;let i=this.languageConfigurationService.getLanguageConfiguration(e).comments,o=this.languageConfigurationService.getLanguageConfiguration(e).foldingRules;if(!(!i&&!o?.markers))return{foldingRules:o,findMarkSectionHeaders:t.showMarkSectionHeaders,findRegionSectionHeaders:t.showRegionSectionHeaders}}findSectionHeaders(){if(!this.editor.hasModel()||!this.options?.findMarkSectionHeaders&&!this.options?.findRegionSectionHeaders)return;let t=this.editor.getModel();if(t.isDisposed()||t.isTooLargeForSyncing())return;let e=t.getVersionId();this.editorWorkerService.findSectionHeaders(t.uri,this.options).then(i=>{t.isDisposed()||t.getVersionId()!==e||this.updateDecorations(i)})}updateDecorations(t){let e=this.editor.getModel();e&&(t=t.filter(r=>{if(!r.shouldBeInComments)return!0;let s=e.validateRange(r.range),a=e.tokenization.getLineTokens(s.startLineNumber),l=a.findTokenIndexAtOffset(s.startColumn-1),c=a.getStandardTokenType(l);return a.getLanguageId(l)===e.getLanguageId()&&c===1}));let i=Object.values(this.currentOccurrences).map(r=>r.decorationId),o=t.map(r=>q0e(r));this.editor.changeDecorations(r=>{let s=r.deltaDecorations(i,o);this.currentOccurrences={};for(let a=0,l=s.length;a<l;a++){let c={sectionHeader:t[a],decorationId:s[a]};this.currentOccurrences[c.decorationId]=c}})}stop(){this.computeSectionHeaders.cancel(),this.computePromise&&(this.computePromise.cancel(),this.computePromise=null)}dispose(){super.dispose(),this.stop(),this.decorations.clear()}};E1=U0e([k9(1,_i),k9(2,gr)],E1);function q0e(n){return{range:n.range,options:at.createDynamic({description:"section-header",stickiness:3,collapseOnReplaceEdit:!0,minimap:{color:void 0,position:1,sectionHeaderStyle:n.hasSeparatorLine?2:1,sectionHeaderText:n.text}})}}Me(E1.ID,E1,1);ce();Bt();ls();_n();Ht();gi();Do();gi();Bt();On();ls();Ui();io();fce();Yo();function G0e(n){for(let t=0,e=n.length;t<e;t+=4){let i=n[t+0],o=n[t+1],r=n[t+2],s=n[t+3];n[t+0]=s,n[t+1]=r,n[t+2]=o,n[t+3]=i}}function $0e(n){let t=new Uint8Array(n.buffer,n.byteOffset,n.length*4);return ij()||G0e(t),Jj.wrap(t)}function wz(n){let t=new Uint32Array(K0e(n)),e=0;if(t[e++]=n.id,n.type==="full")t[e++]=1,t[e++]=n.data.length,t.set(n.data,e),e+=n.data.length;else{t[e++]=2,t[e++]=n.deltas.length;for(let i of n.deltas)t[e++]=i.start,t[e++]=i.deleteCount,i.data?(t[e++]=i.data.length,t.set(i.data,e),e+=i.data.length):t[e++]=0}return $0e(t)}function K0e(n){let t=0;if(t+=2,n.type==="full")t+=1+n.data.length;else{t+=1,t+=3*n.deltas.length;for(let e of n.deltas)e.data&&(t+=e.data.length)}return t}qe();Lt();function Oy(n){return n&&!!n.data}function Iz(n){return n&&Array.isArray(n.edits)}var Cz=class{constructor(t,e,i){this.provider=t,this.tokens=e,this.error=i}};function Dz(n,t){return n.has(t)}function Y0e(n,t){let e=n.orderedGroups(t);return e.length>0?e[0]:[]}function Ez(n,t,e,i,o){return k(this,null,function*(){let r=Y0e(n,t),s=yield Promise.all(r.map(a=>k(this,null,function*(){let l,c=null;try{l=yield a.provideDocumentSemanticTokens(t,a===e?i:null,o)}catch(d){c=d,l=null}return(!l||!Oy(l)&&!Iz(l))&&(l=null),new Cz(a,l,c)})));for(let a of s){if(a.error)throw a.error;if(a.tokens)return a}return s.length>0?s[0]:null})}function X0e(n,t){let e=n.orderedGroups(t);return e.length>0?e[0]:null}var Sz=class{constructor(t,e){this.provider=t,this.tokens=e}};function M9(n,t){return n.has(t)}function T9(n,t){let e=n.orderedGroups(t);return e.length>0?e[0]:[]}function k1(n,t,e,i){return k(this,null,function*(){let o=T9(n,t),r=yield Promise.all(o.map(s=>k(this,null,function*(){let a;try{a=yield s.provideDocumentRangeSemanticTokens(t,e,i)}catch(l){zt(l),a=null}return(!a||!Oy(a))&&(a=null),new Sz(s,a)})));for(let s of r)if(s.tokens)return s;return r.length>0?r[0]:null})}Pt.registerCommand("_provideDocumentSemanticTokensLegend",(n,...t)=>k(void 0,null,function*(){let[e]=t;Tt(e instanceof ht);let i=n.get(ji).getModel(e);if(!i)return;let{documentSemanticTokensProvider:o}=n.get(ae),r=X0e(o,i);return r?r[0].getLegend():n.get(ci).executeCommand("_provideDocumentRangeSemanticTokensLegend",e)}));Pt.registerCommand("_provideDocumentSemanticTokens",(n,...t)=>k(void 0,null,function*(){let[e]=t;Tt(e instanceof ht);let i=n.get(ji).getModel(e);if(!i)return;let{documentSemanticTokensProvider:o}=n.get(ae);if(!Dz(o,i))return n.get(ci).executeCommand("_provideDocumentRangeSemanticTokens",e,i.getFullModelRange());let r=yield Ez(o,i,null,null,Je.None);if(!r)return;let{provider:s,tokens:a}=r;if(!a||!Oy(a))return;let l=wz({id:0,type:"full",data:a.data});return a.resultId&&s.releaseDocumentSemanticTokens(a.resultId),l}));Pt.registerCommand("_provideDocumentRangeSemanticTokensLegend",(n,...t)=>k(void 0,null,function*(){let[e,i]=t;Tt(e instanceof ht);let o=n.get(ji).getModel(e);if(!o)return;let{documentRangeSemanticTokensProvider:r}=n.get(ae),s=T9(r,o);if(s.length===0)return;if(s.length===1)return s[0].getLegend();if(!i||!A.isIRange(i))return console.warn("provideDocumentRangeSemanticTokensLegend might be out-of-sync with provideDocumentRangeSemanticTokens unless a range argument is passed in"),s[0].getLegend();let a=yield k1(r,o,A.lift(i),Je.None);if(a)return a.provider.getLegend()}));Pt.registerCommand("_provideDocumentRangeSemanticTokens",(n,...t)=>k(void 0,null,function*(){let[e,i]=t;Tt(e instanceof ht),Tt(A.isIRange(i));let o=n.get(ji).getModel(e);if(!o)return;let{documentRangeSemanticTokensProvider:r}=n.get(ae),s=yield k1(r,o,A.lift(i),Je.None);if(!(!s||!s.tokens))return wz({id:0,type:"full",data:s.tokens.data})}));Fs();Ls();Lt();var Py="editor.semanticHighlighting";function Eg(n,t,e){let i=e.getValue(Py,{overrideIdentifier:n.getLanguageId(),resource:n.uri})?.enabled;return typeof i=="boolean"?i:t.getColorTheme().semanticHighlighting}var A9=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},Vl=function(n,t){return function(e,i){t(e,i,n)}},bu,kz=class extends U{constructor(t,e,i,o,r,s){super(),this._watchers=Object.create(null);let a=d=>{this._watchers[d.uri.toString()]=new Mz(d,t,i,r,s)},l=(d,u)=>{u.dispose(),delete this._watchers[d.uri.toString()]},c=()=>{for(let d of e.getModels()){let u=this._watchers[d.uri.toString()];Eg(d,i,o)?u||a(d):u&&l(d,u)}};e.getModels().forEach(d=>{Eg(d,i,o)&&a(d)}),this._register(e.onModelAdded(d=>{Eg(d,i,o)&&a(d)})),this._register(e.onModelRemoved(d=>{let u=this._watchers[d.uri.toString()];u&&l(d,u)})),this._register(o.onDidChangeConfiguration(d=>{d.affectsConfiguration(Py)&&c()})),this._register(i.onDidColorThemeChange(c))}dispose(){for(let t of Object.values(this._watchers))t.dispose();super.dispose()}};kz=A9([Vl(0,q_),Vl(1,ji),Vl(2,qn),Vl(3,_t),Vl(4,vn),Vl(5,ae)],kz);var Mz=class extends U{static{bu=this}static{this.REQUEST_MIN_DELAY=300}static{this.REQUEST_MAX_DELAY=2e3}constructor(e,i,o,r,s){super(),this._semanticTokensStylingService=i,this._isDisposed=!1,this._model=e,this._provider=s.documentSemanticTokensProvider,this._debounceInformation=r.for(this._provider,"DocumentSemanticTokens",{min:bu.REQUEST_MIN_DELAY,max:bu.REQUEST_MAX_DELAY}),this._fetchDocumentSemanticTokens=this._register(new si(()=>this._fetchDocumentSemanticTokensNow(),bu.REQUEST_MIN_DELAY)),this._currentDocumentResponse=null,this._currentDocumentRequestCancellationTokenSource=null,this._documentProvidersChangeListeners=[],this._providersChangedDuringRequest=!1,this._register(this._model.onDidChangeContent(()=>{this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._register(this._model.onDidChangeAttached(()=>{this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._register(this._model.onDidChangeLanguage(()=>{this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule(0)}));let a=()=>{cn(this._documentProvidersChangeListeners),this._documentProvidersChangeListeners=[];for(let l of this._provider.all(e))typeof l.onDidChange=="function"&&this._documentProvidersChangeListeners.push(l.onDidChange(()=>{if(this._currentDocumentRequestCancellationTokenSource){this._providersChangedDuringRequest=!0;return}this._fetchDocumentSemanticTokens.schedule(0)}))};a(),this._register(this._provider.onDidChange(()=>{a(),this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._register(o.onDidColorThemeChange(l=>{this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._fetchDocumentSemanticTokens.schedule(0)}dispose(){this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),cn(this._documentProvidersChangeListeners),this._documentProvidersChangeListeners=[],this._setDocumentSemanticTokens(null,null,null,[]),this._isDisposed=!0,super.dispose()}_fetchDocumentSemanticTokensNow(){if(this._currentDocumentRequestCancellationTokenSource)return;if(!Dz(this._provider,this._model)){this._currentDocumentResponse&&this._model.tokenization.setSemanticTokens(null,!1);return}if(!this._model.isAttachedToEditor())return;let e=new fi,i=this._currentDocumentResponse?this._currentDocumentResponse.provider:null,o=this._currentDocumentResponse&&this._currentDocumentResponse.resultId||null,r=Ez(this._provider,this._model,i,o,e.token);this._currentDocumentRequestCancellationTokenSource=e,this._providersChangedDuringRequest=!1;let s=[],a=this._model.onDidChangeContent(c=>{s.push(c)}),l=new Xi(!1);r.then(c=>{if(this._debounceInformation.update(this._model,l.elapsed()),this._currentDocumentRequestCancellationTokenSource=null,a.dispose(),!c)this._setDocumentSemanticTokens(null,null,null,s);else{let{provider:d,tokens:u}=c,h=this._semanticTokensStylingService.getStyling(d);this._setDocumentSemanticTokens(d,u||null,h,s)}},c=>{c&&(ur(c)||typeof c.message=="string"&&c.message.indexOf("busy")!==-1)||ut(c),this._currentDocumentRequestCancellationTokenSource=null,a.dispose(),(s.length>0||this._providersChangedDuringRequest)&&(this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model)))})}static _copy(e,i,o,r,s){s=Math.min(s,o.length-r,e.length-i);for(let a=0;a<s;a++)o[r+a]=e[i+a]}_setDocumentSemanticTokens(e,i,o,r){let s=this._currentDocumentResponse,a=()=>{(r.length>0||this._providersChangedDuringRequest)&&!this._fetchDocumentSemanticTokens.isScheduled()&&this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))};if(this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._isDisposed){e&&i&&e.releaseDocumentSemanticTokens(i.resultId);return}if(!e||!o){this._model.tokenization.setSemanticTokens(null,!1);return}if(!i){this._model.tokenization.setSemanticTokens(null,!0),a();return}if(Iz(i)){if(!s){this._model.tokenization.setSemanticTokens(null,!0);return}if(i.edits.length===0)i={resultId:i.resultId,data:s.data};else{let l=0;for(let m of i.edits)l+=(m.data?m.data.length:0)-m.deleteCount;let c=s.data,d=new Uint32Array(c.length+l),u=c.length,h=d.length;for(let m=i.edits.length-1;m>=0;m--){let f=i.edits[m];if(f.start>c.length){o.warnInvalidEditStart(s.resultId,i.resultId,m,f.start,c.length),this._model.tokenization.setSemanticTokens(null,!0);return}let p=u-(f.start+f.deleteCount);p>0&&(bu._copy(c,u-p,d,h-p,p),h-=p),f.data&&(bu._copy(f.data,0,d,h-f.data.length,f.data.length),h-=f.data.length),u=f.start}u>0&&bu._copy(c,0,d,0,u),i={resultId:i.resultId,data:d}}}if(Oy(i)){this._currentDocumentResponse=new Tz(e,i.resultId,i.data);let l=Yx(i,o,this._model.getLanguageId());if(r.length>0)for(let c of r)for(let d of l)for(let u of c.changes)d.applyEdit(u.range,u.text);this._model.tokenization.setSemanticTokens(l,!0)}else this._model.tokenization.setSemanticTokens(null,!0);a()}};Mz=bu=A9([Vl(1,q_),Vl(2,qn),Vl(3,vn),Vl(4,ae)],Mz);var Tz=class{constructor(t,e,i){this.provider=t,this.resultId=e,this.data=i}dispose(){this.provider.releaseDocumentSemanticTokens(this.resultId)}};Ws(kz);Ht();ce();tt();_n();Do();Fs();Ls();Lt();var Z0e=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},Ly=function(n,t){return function(e,i){t(e,i,n)}},M1=class extends U{static{this.ID="editor.contrib.viewportSemanticTokens"}constructor(t,e,i,o,r,s){super(),this._semanticTokensStylingService=e,this._themeService=i,this._configurationService=o,this._editor=t,this._provider=s.documentRangeSemanticTokensProvider,this._debounceInformation=r.for(this._provider,"DocumentRangeSemanticTokens",{min:100,max:500}),this._tokenizeViewport=this._register(new si(()=>this._tokenizeViewportNow(),100)),this._outstandingRequests=[];let a=()=>{this._editor.hasModel()&&this._tokenizeViewport.schedule(this._debounceInformation.get(this._editor.getModel()))};this._register(this._editor.onDidScrollChange(()=>{a()})),this._register(this._editor.onDidChangeModel(()=>{this._cancelAll(),a()})),this._register(this._editor.onDidChangeModelContent(l=>{this._cancelAll(),a()})),this._register(this._provider.onDidChange(()=>{this._cancelAll(),a()})),this._register(this._configurationService.onDidChangeConfiguration(l=>{l.affectsConfiguration(Py)&&(this._cancelAll(),a())})),this._register(this._themeService.onDidColorThemeChange(()=>{this._cancelAll(),a()})),a()}_cancelAll(){for(let t of this._outstandingRequests)t.cancel();this._outstandingRequests=[]}_removeOutstandingRequest(t){for(let e=0,i=this._outstandingRequests.length;e<i;e++)if(this._outstandingRequests[e]===t){this._outstandingRequests.splice(e,1);return}}_tokenizeViewportNow(){if(!this._editor.hasModel())return;let t=this._editor.getModel();if(t.tokenization.hasCompleteSemanticTokens())return;if(!Eg(t,this._themeService,this._configurationService)){t.tokenization.hasSomeSemanticTokens()&&t.tokenization.setSemanticTokens(null,!1);return}if(!M9(this._provider,t)){t.tokenization.hasSomeSemanticTokens()&&t.tokenization.setSemanticTokens(null,!1);return}let e=this._editor.getVisibleRangesPlusViewportAboveBelow();this._outstandingRequests=this._outstandingRequests.concat(e.map(i=>this._requestRange(t,i)))}_requestRange(t,e){let i=t.getVersionId(),o=yi(s=>Promise.resolve(k1(this._provider,t,e,s))),r=new Xi(!1);return o.then(s=>{if(this._debounceInformation.update(t,r.elapsed()),!s||!s.tokens||t.isDisposed()||t.getVersionId()!==i)return;let{provider:a,tokens:l}=s,c=this._semanticTokensStylingService.getStyling(a);t.tokenization.setPartialSemanticTokens(e,Yx(l,c,t.getLanguageId()))}).then(()=>this._removeOutstandingRequest(o),()=>this._removeOutstandingRequest(o)),o}};M1=Z0e([Ly(1,q_),Ly(2,qn),Ly(3,_t),Ly(4,vn),Ly(5,ae)],M1);Me(M1.ID,M1,1);Oi();gi();Bt();tt();hi();qe();Pn();$t();Fi();qe();var T1=class{constructor(t=!0){this.selectSubwords=t}provideSelectionRanges(t,e){let i=[];for(let o of e){let r=[];i.push(r),this.selectSubwords&&this._addInWordRanges(r,t,o),this._addWordRanges(r,t,o),this._addWhitespaceLine(r,t,o),r.push({range:t.getFullModelRange()})}return i}_addInWordRanges(t,e,i){let o=e.getWordAtPosition(i);if(!o)return;let{word:r,startColumn:s}=o,a=i.column-s,l=a,c=a,d=0;for(;l>=0;l--){let u=r.charCodeAt(l);if(l!==a&&(u===95||u===45))break;if(eA(u)&&tA(d))break;d=u}for(l+=1;c<r.length;c++){let u=r.charCodeAt(c);if(tA(u)&&eA(d))break;if(u===95||u===45)break;d=u}l<c&&t.push({range:new A(i.lineNumber,s+l,i.lineNumber,s+c)})}_addWordRanges(t,e,i){let o=e.getWordAtPosition(i);o&&t.push({range:new A(i.lineNumber,o.startColumn,i.lineNumber,o.endColumn)})}_addWhitespaceLine(t,e,i){e.getLineLength(i.lineNumber)>0&&e.getLineFirstNonWhitespaceColumn(i.lineNumber)===0&&e.getLineLastNonWhitespaceColumn(i.lineNumber)===0&&t.push({range:new A(i.lineNumber,1,i.lineNumber,e.getLineMaxColumn(i.lineNumber))})}};Ae();$i();Ui();Lt();cl();io();On();var Q0e=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},J0e=function(n,t){return function(e,i){t(e,i,n)}},Az,Rz=class n{constructor(t,e){this.index=t,this.ranges=e}mov(t){let e=this.index+(t?1:-1);if(e<0||e>=this.ranges.length)return this;let i=new n(e,this.ranges);return i.ranges[e].equalsRange(this.ranges[this.index])?i.mov(t):i}},Ny=class{static{Az=this}static{this.ID="editor.contrib.smartSelectController"}static get(e){return e.getContribution(Az.ID)}constructor(e,i){this._editor=e,this._languageFeaturesService=i,this._ignoreSelection=!1}dispose(){this._selectionListener?.dispose()}run(e){return k(this,null,function*(){if(!this._editor.hasModel())return;let i=this._editor.getSelections(),o=this._editor.getModel();if(this._state||(yield R9(this._languageFeaturesService.selectionRangeProvider,o,i.map(s=>s.getPosition()),this._editor.getOption(114),Je.None).then(s=>{if(!(!Dn(s)||s.length!==i.length)&&!(!this._editor.hasModel()||!$o(this._editor.getSelections(),i,(a,l)=>a.equalsSelection(l)))){for(let a=0;a<s.length;a++)s[a]=s[a].filter(l=>l.containsPosition(i[a].getStartPosition())&&l.containsPosition(i[a].getEndPosition())),s[a].unshift(i[a]);this._state=s.map(a=>new Rz(0,a)),this._selectionListener?.dispose(),this._selectionListener=this._editor.onDidChangeCursorPosition(()=>{this._ignoreSelection||(this._selectionListener?.dispose(),this._state=void 0)})}})),!this._state)return;this._state=this._state.map(s=>s.mov(e));let r=this._state.map(s=>ze.fromPositions(s.ranges[s.index].getStartPosition(),s.ranges[s.index].getEndPosition()));this._ignoreSelection=!0;try{this._editor.setSelections(r)}finally{this._ignoreSelection=!1}})}};Ny=Az=Q0e([J0e(1,ae)],Ny);var A1=class extends Z{constructor(t,e){super(e),this._forward=t}run(t,e){return k(this,null,function*(){let i=Ny.get(e);i&&(yield i.run(this._forward))})}},Oz=class extends A1{constructor(){super(!0,{id:"editor.action.smartSelect.expand",label:_("smartSelect.expand","Expand Selection"),alias:"Expand Selection",precondition:void 0,kbOpts:{kbExpr:M.editorTextFocus,primary:1553,mac:{primary:3345,secondary:[1297]},weight:100},menuOpts:{menuId:ve.MenubarSelectionMenu,group:"1_basic",title:_({key:"miSmartSelectGrow",comment:["&& denotes a mnemonic"]},"&&Expand Selection"),order:2}})}};Pt.registerCommandAlias("editor.action.smartSelect.grow","editor.action.smartSelect.expand");var Pz=class extends A1{constructor(){super(!1,{id:"editor.action.smartSelect.shrink",label:_("smartSelect.shrink","Shrink Selection"),alias:"Shrink Selection",precondition:void 0,kbOpts:{kbExpr:M.editorTextFocus,primary:1551,mac:{primary:3343,secondary:[1295]},weight:100},menuOpts:{menuId:ve.MenubarSelectionMenu,group:"1_basic",title:_({key:"miSmartSelectShrink",comment:["&& denotes a mnemonic"]},"&&Shrink Selection"),order:3}})}};Me(Ny.ID,Ny,4);V(Oz);V(Pz);function R9(n,t,e,i,o){return k(this,null,function*(){let r=n.all(t).concat(new T1(i.selectSubwords));r.length===1&&r.unshift(new iE);let s=[],a=[];for(let l of r)s.push(Promise.resolve(l.provideSelectionRanges(t,e,o)).then(c=>{if(Dn(c)&&c.length===e.length)for(let d=0;d<e.length;d++){a[d]||(a[d]=[]);for(let u of c[d])A.isIRange(u.range)&&A.containsPosition(u.range,e[d])&&a[d].push(A.lift(u.range))}},zt));return yield Promise.all(s),a.map(l=>{if(l.length===0)return[];l.sort((h,m)=>he.isBefore(h.getStartPosition(),m.getStartPosition())?1:he.isBefore(m.getStartPosition(),h.getStartPosition())||he.isBefore(h.getEndPosition(),m.getEndPosition())?-1:he.isBefore(m.getEndPosition(),h.getEndPosition())?1:0);let c=[],d;for(let h of l)(!d||A.containsRange(h,d)&&!A.equalsRange(h,d))&&(c.push(h),d=h);if(!i.selectLeadingAndTrailingWhitespace)return c;let u=[c[0]];for(let h=1;h<c.length;h++){let m=c[h-1],f=c[h];if(f.startLineNumber!==m.startLineNumber||f.endLineNumber!==m.endLineNumber){let p=new A(m.startLineNumber,t.getLineFirstNonWhitespaceColumn(m.startLineNumber),m.endLineNumber,t.getLineLastNonWhitespaceColumn(m.endLineNumber));p.containsRange(m)&&!p.equalsRange(m)&&f.containsRange(p)&&!f.equalsRange(p)&&u.push(p);let g=new A(m.startLineNumber,1,m.endLineNumber,t.getLineMaxColumn(m.endLineNumber));g.containsRange(m)&&!g.equalsRange(p)&&f.containsRange(g)&&!f.equalsRange(g)&&u.push(g)}u.push(f)}return u})})}Pt.registerCommand("_executeSelectionRangeProvider",function(n,...t){return k(this,null,function*(){let[e,i]=t;Tt(ht.isUri(e));let o=n.get(ae).selectionRangeProvider,r=yield n.get(no).createModelReference(e);try{return R9(o,r.object.textEditorModel,i,{selectLeadingAndTrailingWhitespace:!0,selectSubwords:!0},Je.None)}finally{r.dispose()}})});tt();tt();Ae();Ae();var O9=Object.freeze({View:Pe("view","View"),Help:Pe("help","Help"),Test:Pe("test","Test"),File:Pe("file","File"),Preferences:Pe("preferences","Preferences"),Developer:Pe({key:"developer",comment:["A developer on Code itself or someone diagnosing issues in Code"]},"Developer")});$i();_n();mt();$t();ce();Lt();gt();Oi();ce();Zo();hi();e4();var kg=class n{constructor(t,e,i,o=null){this.startLineNumbers=t,this.endLineNumbers=e,this.lastLineRelativePosition=i,this.showEndForLine=o}equals(t){return!!t&&this.lastLineRelativePosition===t.lastLineRelativePosition&&this.showEndForLine===t.showEndForLine&&$o(this.startLineNumbers,t.startLineNumbers)&&$o(this.endLineNumbers,t.endLineNumbers)}static get Empty(){return new n([],[],0)}},P9=jx("stickyScrollViewLayer",{createHTML:n=>n}),Lz="data-sticky-line-index",L9="data-sticky-is-line",exe="data-sticky-is-line-number",N9="data-sticky-is-folding-icon",R1=class extends U{constructor(t){super(),this._editor=t,this._foldingIconStore=new G,this._rootDomNode=document.createElement("div"),this._lineNumbersDomNode=document.createElement("div"),this._linesDomNodeScrollable=document.createElement("div"),this._linesDomNode=document.createElement("div"),this._lineHeight=this._editor.getOption(67),this._renderedStickyLines=[],this._lineNumbers=[],this._lastLineRelativePosition=0,this._minContentWidthInPx=0,this._isOnGlyphMargin=!1,this._lineNumbersDomNode.className="sticky-widget-line-numbers",this._lineNumbersDomNode.setAttribute("role","none"),this._linesDomNode.className="sticky-widget-lines",this._linesDomNode.setAttribute("role","list"),this._linesDomNodeScrollable.className="sticky-widget-lines-scrollable",this._linesDomNodeScrollable.appendChild(this._linesDomNode),this._rootDomNode.className="sticky-widget",this._rootDomNode.classList.toggle("peek",t instanceof yo),this._rootDomNode.appendChild(this._lineNumbersDomNode),this._rootDomNode.appendChild(this._linesDomNodeScrollable);let e=()=>{this._linesDomNode.style.left=this._editor.getOption(116).scrollWithEditor?`-${this._editor.getScrollLeft()}px`:"0px"};this._register(this._editor.onDidChangeConfiguration(i=>{i.hasChanged(116)&&e(),i.hasChanged(67)&&(this._lineHeight=this._editor.getOption(67))})),this._register(this._editor.onDidScrollChange(i=>{i.scrollLeftChanged&&e(),i.scrollWidthChanged&&this._updateWidgetWidth()})),this._register(this._editor.onDidChangeModel(()=>{e(),this._updateWidgetWidth()})),this._register(this._foldingIconStore),e(),this._register(this._editor.onDidLayoutChange(i=>{this._updateWidgetWidth()})),this._updateWidgetWidth()}get lineNumbers(){return this._lineNumbers}get lineNumberCount(){return this._lineNumbers.length}getRenderedStickyLine(t){return this._renderedStickyLines.find(e=>e.lineNumber===t)}getCurrentLines(){return this._lineNumbers}setState(t,e,i){if(i===void 0&&(!this._previousState&&!t||this._previousState&&this._previousState.equals(t)))return;let o=this._isWidgetHeightZero(t),r=o?void 0:t,s=o?0:this._findLineToRebuildWidgetFrom(t,i);this._renderRootNode(r,e,s),this._previousState=t}_isWidgetHeightZero(t){if(!t)return!0;let e=t.startLineNumbers.length*this._lineHeight+t.lastLineRelativePosition;if(e>0){this._lastLineRelativePosition=t.lastLineRelativePosition;let i=[...t.startLineNumbers];t.showEndForLine!==null&&(i[t.showEndForLine]=t.endLineNumbers[t.showEndForLine]),this._lineNumbers=i}else this._lastLineRelativePosition=0,this._lineNumbers=[];return e===0}_findLineToRebuildWidgetFrom(t,e){if(!t||!this._previousState)return 0;if(e!==void 0)return e;let i=this._previousState,o=t.startLineNumbers.findIndex(r=>!i.startLineNumbers.includes(r));return o===-1?0:o}_updateWidgetWidth(){let t=this._editor.getLayoutInfo(),e=t.contentLeft;this._lineNumbersDomNode.style.width=`${e}px`,this._linesDomNodeScrollable.style.setProperty("--vscode-editorStickyScroll-scrollableWidth",`${this._editor.getScrollWidth()-t.verticalScrollbarWidth}px`),this._rootDomNode.style.width=`${t.width-t.verticalScrollbarWidth}px`}_clearStickyLinesFromLine(t){this._foldingIconStore.clear();for(let e=t;e<this._renderedStickyLines.length;e++){let i=this._renderedStickyLines[e];i.lineNumberDomNode.remove(),i.lineDomNode.remove()}this._renderedStickyLines=this._renderedStickyLines.slice(0,t),this._rootDomNode.style.display="none"}_useFoldingOpacityTransition(t){this._lineNumbersDomNode.style.setProperty("--vscode-editorStickyScroll-foldingOpacityTransition",`opacity ${t?.5:0}s`)}_setFoldingIconsVisibility(t){for(let e of this._renderedStickyLines){let i=e.foldingIcon;i&&i.setVisible(t?!0:i.isCollapsed)}}_renderRootNode(t,e,i){return k(this,null,function*(){if(this._clearStickyLinesFromLine(i),!t)return;for(let a of this._renderedStickyLines)this._updateTopAndZIndexOfStickyLine(a);let o=this._editor.getLayoutInfo(),r=this._lineNumbers.slice(i);for(let[a,l]of r.entries()){let c=this._renderChildNode(a+i,l,e,o);c&&(this._linesDomNode.appendChild(c.lineDomNode),this._lineNumbersDomNode.appendChild(c.lineNumberDomNode),this._renderedStickyLines.push(c))}e&&(this._setFoldingHoverListeners(),this._useFoldingOpacityTransition(!this._isOnGlyphMargin));let s=this._lineNumbers.length*this._lineHeight+this._lastLineRelativePosition;this._rootDomNode.style.display="block",this._lineNumbersDomNode.style.height=`${s}px`,this._linesDomNodeScrollable.style.height=`${s}px`,this._rootDomNode.style.height=`${s}px`,this._rootDomNode.style.marginLeft="0px",this._minContentWidthInPx=Math.max(...this._renderedStickyLines.map(a=>a.scrollWidth))+o.verticalScrollbarWidth,this._editor.layoutOverlayWidget(this)})}_setFoldingHoverListeners(){this._editor.getOption(111)==="mouseover"&&(this._foldingIconStore.add(Ct(this._lineNumbersDomNode,li.MOUSE_ENTER,()=>{this._isOnGlyphMargin=!0,this._setFoldingIconsVisibility(!0)})),this._foldingIconStore.add(Ct(this._lineNumbersDomNode,li.MOUSE_LEAVE,()=>{this._isOnGlyphMargin=!1,this._useFoldingOpacityTransition(!0),this._setFoldingIconsVisibility(!1)})))}_renderChildNode(t,e,i,o){let r=this._editor._getViewModel();if(!r)return;let s=r.coordinatesConverter.convertModelPositionToViewPosition(new he(e,1)).lineNumber,a=r.getViewLineRenderingData(s),l=this._editor.getOption(68),c;try{c=Id.filter(a.inlineDecorations,s,a.minColumn,a.maxColumn)}catch{c=[]}let d=new Ow(!0,!0,a.content,a.continuesWithWrappedLine,a.isBasicASCII,a.containsRTL,0,a.tokens,c,a.tabSize,a.startVisibleColumn,1,1,1,500,"none",!0,!0,null),u=new Ux(2e3),h=Pw(d,u),m;P9?m=P9.createHTML(u.build()):m=u.build();let f=document.createElement("span");f.setAttribute(Lz,String(t)),f.setAttribute(L9,""),f.setAttribute("role","listitem"),f.tabIndex=0,f.className="sticky-line-content",f.classList.add(`stickyLine${e}`),f.style.lineHeight=`${this._lineHeight}px`,f.innerHTML=m;let p=document.createElement("span");p.setAttribute(Lz,String(t)),p.setAttribute(exe,""),p.className="sticky-line-number",p.style.lineHeight=`${this._lineHeight}px`;let g=o.contentLeft;p.style.width=`${g}px`;let v=document.createElement("span");l.renderType===1||l.renderType===3&&e%10===0?v.innerText=e.toString():l.renderType===2&&(v.innerText=Math.abs(e-this._editor.getPosition().lineNumber).toString()),v.className="sticky-line-number-inner",v.style.lineHeight=`${this._lineHeight}px`,v.style.width=`${o.lineNumbersWidth}px`,v.style.paddingLeft=`${o.lineNumbersLeft}px`,p.appendChild(v);let b=this._renderFoldingIconForLine(i,e);b&&p.appendChild(b.domNode),this._editor.applyFontInfo(f),this._editor.applyFontInfo(v),p.style.lineHeight=`${this._lineHeight}px`,f.style.lineHeight=`${this._lineHeight}px`,p.style.height=`${this._lineHeight}px`,f.style.height=`${this._lineHeight}px`;let C=new Nz(t,e,f,p,b,h.characterMapping,f.scrollWidth);return this._updateTopAndZIndexOfStickyLine(C)}_updateTopAndZIndexOfStickyLine(t){let e=t.index,i=t.lineDomNode,o=t.lineNumberDomNode,r=e===this._lineNumbers.length-1,s="0",a="1";i.style.zIndex=r?s:a,o.style.zIndex=r?s:a;let l=`${e*this._lineHeight+this._lastLineRelativePosition+(t.foldingIcon?.isCollapsed?1:0)}px`,c=`${e*this._lineHeight}px`;return i.style.top=r?l:c,o.style.top=r?l:c,t}_renderFoldingIconForLine(t,e){let i=this._editor.getOption(111);if(!t||i==="never")return;let o=t.regions,r=o.findRange(e),s=o.getStartLineNumber(r);if(!(e===s))return;let l=o.isCollapsed(r),c=new Fz(l,s,o.getEndLineNumber(r),this._lineHeight);return c.setVisible(this._isOnGlyphMargin?!0:l||i==="always"),c.domNode.setAttribute(N9,""),c}getId(){return"editor.contrib.stickyScrollWidget"}getDomNode(){return this._rootDomNode}getPosition(){return{preference:2,stackOridinal:10}}getMinContentWidthInPx(){return this._minContentWidthInPx}focusLineWithIndex(t){0<=t&&t<this._renderedStickyLines.length&&this._renderedStickyLines[t].lineDomNode.focus()}getEditorPositionFromNode(t){if(!t||t.children.length>0)return null;let e=this._getRenderedStickyLineFromChildDomNode(t);if(!e)return null;let i=fU(e.characterMapping,t,0);return new he(e.lineNumber,i)}getLineNumberFromChildDomNode(t){return this._getRenderedStickyLineFromChildDomNode(t)?.lineNumber??null}_getRenderedStickyLineFromChildDomNode(t){let e=this.getLineIndexFromChildDomNode(t);return e===null||e<0||e>=this._renderedStickyLines.length?null:this._renderedStickyLines[e]}getLineIndexFromChildDomNode(t){let e=this._getAttributeValue(t,Lz);return e?parseInt(e,10):null}isInStickyLine(t){return this._getAttributeValue(t,L9)!==void 0}isInFoldingIconDomNode(t){return this._getAttributeValue(t,N9)!==void 0}_getAttributeValue(t,e){for(;t&&t!==this._rootDomNode;){let i=t.getAttribute(e);if(i!==null)return i;t=t.parentElement}}},Nz=class{constructor(t,e,i,o,r,s,a){this.index=t,this.lineNumber=e,this.lineDomNode=i,this.lineNumberDomNode=o,this.foldingIcon=r,this.characterMapping=s,this.scrollWidth=a}},Fz=class{constructor(t,e,i,o){this.isCollapsed=t,this.foldingStartLine=e,this.foldingEndLine=i,this.dimension=o,this.domNode=document.createElement("div"),this.domNode.style.width=`${o}px`,this.domNode.style.height=`${o}px`,this.domNode.className=St.asClassName(t?qb:Ub)}setVisible(t){this.domNode.style.cursor=t?"pointer":"default",this.domNode.style.opacity=t?"1":"0"}};ce();Lt();gi();Ht();Oi();oi();Jo();ce();Lt();rg();Ht();Jo();Bt();var qc=class{constructor(t,e){this.startLineNumber=t,this.endLineNumber=e}},_m=class{constructor(t,e,i){this.range=t,this.children=e,this.parent=i}},Fy=class{constructor(t,e,i,o){this.uri=t,this.version=e,this.element=i,this.outlineProviderId=o}};A_();Ot();var F1=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},zy=function(n,t){return function(e,i){t(e,i,n)}},O1=function(n){return n.OUTLINE_MODEL="outlineModel",n.FOLDING_PROVIDER_MODEL="foldingProviderModel",n.INDENTATION_MODEL="indentationModel",n}(O1||{}),vm=function(n){return n[n.VALID=0]="VALID",n[n.INVALID=1]="INVALID",n[n.CANCELED=2]="CANCELED",n}(vm||{}),P1=class extends U{constructor(t,e,i,o){switch(super(),this._editor=t,this._modelProviders=[],this._modelPromise=null,this._updateScheduler=this._register(new Ir(300)),this._updateOperation=this._register(new G),this._editor.getOption(116).defaultModel){case O1.OUTLINE_MODEL:this._modelProviders.push(new zz(this._editor,o));case O1.FOLDING_PROVIDER_MODEL:this._modelProviders.push(new Hz(this._editor,e,o));case O1.INDENTATION_MODEL:this._modelProviders.push(new Bz(this._editor,i));break}}dispose(){this._modelProviders.forEach(t=>t.dispose()),this._updateOperation.clear(),this._cancelModelPromise(),super.dispose()}_cancelModelPromise(){this._modelPromise&&(this._modelPromise.cancel(),this._modelPromise=null)}update(t){return k(this,null,function*(){return this._updateOperation.clear(),this._updateOperation.add({dispose:()=>{this._cancelModelPromise(),this._updateScheduler.cancel()}}),this._cancelModelPromise(),yield this._updateScheduler.trigger(()=>k(this,null,function*(){for(let e of this._modelProviders){let{statusPromise:i,modelPromise:o}=e.computeStickyModel(t);this._modelPromise=o;let r=yield i;if(this._modelPromise!==o)return null;switch(r){case vm.CANCELED:return this._updateOperation.clear(),null;case vm.VALID:return e.stickyModel}}return null})).catch(e=>(ut(e),null))})}};P1=F1([zy(2,De),zy(3,ae)],P1);var L1=class extends U{constructor(t){super(),this._editor=t,this._stickyModel=null}get stickyModel(){return this._stickyModel}_invalid(){return this._stickyModel=null,vm.INVALID}computeStickyModel(t){if(t.isCancellationRequested||!this.isProviderValid())return{statusPromise:this._invalid(),modelPromise:null};let e=yi(i=>this.createModelFromProvider(i));return{statusPromise:e.then(i=>this.isModelValid(i)?t.isCancellationRequested?vm.CANCELED:(this._stickyModel=this.createStickyModel(t,i),vm.VALID):this._invalid()).then(void 0,i=>(ut(i),vm.CANCELED)),modelPromise:e}}isModelValid(t){return!0}isProviderValid(){return!0}},zz=class extends L1{constructor(t,e){super(t),this._languageFeaturesService=e}createModelFromProvider(t){return Zb.create(this._languageFeaturesService.documentSymbolProvider,this._editor.getModel(),t)}createStickyModel(t,e){let{stickyOutlineElement:i,providerID:o}=this._stickyModelFromOutlineModel(e,this._stickyModel?.outlineProviderId),r=this._editor.getModel();return new Fy(r.uri,r.getVersionId(),i,o)}isModelValid(t){return t&&t.children.size>0}_stickyModelFromOutlineModel(t,e){let i;if(jr.first(t.children.values())instanceof Xb){let a=jr.find(t.children.values(),l=>l.id===e);if(a)i=a.children;else{let l="",c=-1,d;for(let[u,h]of t.children.entries()){let m=this._findSumOfRangesOfGroup(h);m>c&&(d=h,c=m,l=h.id)}e=l,i=d.children}}else i=t.children;let o=[],r=Array.from(i.values()).sort((a,l)=>{let c=new qc(a.symbol.range.startLineNumber,a.symbol.range.endLineNumber),d=new qc(l.symbol.range.startLineNumber,l.symbol.range.endLineNumber);return this._comparator(c,d)});for(let a of r)o.push(this._stickyModelFromOutlineElement(a,a.symbol.selectionRange.startLineNumber));return{stickyOutlineElement:new _m(void 0,o,void 0),providerID:e}}_stickyModelFromOutlineElement(t,e){let i=[];for(let r of t.children.values())if(r.symbol.selectionRange.startLineNumber!==r.symbol.range.endLineNumber)if(r.symbol.selectionRange.startLineNumber!==e)i.push(this._stickyModelFromOutlineElement(r,r.symbol.selectionRange.startLineNumber));else for(let s of r.children.values())i.push(this._stickyModelFromOutlineElement(s,r.symbol.selectionRange.startLineNumber));i.sort((r,s)=>this._comparator(r.range,s.range));let o=new qc(t.symbol.selectionRange.startLineNumber,t.symbol.range.endLineNumber);return new _m(o,i,void 0)}_comparator(t,e){return t.startLineNumber!==e.startLineNumber?t.startLineNumber-e.startLineNumber:e.endLineNumber-t.endLineNumber}_findSumOfRangesOfGroup(t){let e=0;for(let i of t.children.values())e+=this._findSumOfRangesOfGroup(i);return t instanceof og?e+t.symbol.range.endLineNumber-t.symbol.selectionRange.startLineNumber:e}};zz=F1([zy(1,ae)],zz);var N1=class extends L1{constructor(t){super(t),this._foldingLimitReporter=new Kb(t)}createStickyModel(t,e){let i=this._fromFoldingRegions(e),o=this._editor.getModel();return new Fy(o.uri,o.getVersionId(),i,void 0)}isModelValid(t){return t!==null}_fromFoldingRegions(t){let e=t.length,i=[],o=new _m(void 0,[],void 0);for(let r=0;r<e;r++){let s=t.getParentIndex(r),a;s!==-1?a=i[s]:a=o;let l=new _m(new qc(t.getStartLineNumber(r),t.getEndLineNumber(r)+1),[],a);a.children.push(l),i.push(l)}return o}},Bz=class extends N1{constructor(t,e){super(t),this._languageConfigurationService=e,this.provider=this._register(new dm(t.getModel(),this._languageConfigurationService,this._foldingLimitReporter))}createModelFromProvider(t){return k(this,null,function*(){return this.provider.compute(t)})}};Bz=F1([zy(1,_i)],Bz);var Hz=class extends N1{constructor(t,e,i){super(t),this._languageFeaturesService=i;let o=Pl.getFoldingRangeProviders(this._languageFeaturesService,t.getModel());o.length>0&&(this.provider=this._register(new um(t.getModel(),o,e,this._foldingLimitReporter,void 0)))}isProviderValid(){return this.provider!==void 0}createModelFromProvider(t){return k(this,null,function*(){return this.provider?.compute(t)??null})}};Hz=F1([zy(2,ae)],Hz);var txe=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},F9=function(n,t){return function(e,i){t(e,i,n)}},Vz=class{constructor(t,e,i){this.startLineNumber=t,this.endLineNumber=e,this.nestingDepth=i}},z1=class extends U{constructor(t,e,i){super(),this._languageFeaturesService=e,this._languageConfigurationService=i,this._onDidChangeStickyScroll=this._register(new je),this.onDidChangeStickyScroll=this._onDidChangeStickyScroll.event,this._model=null,this._cts=null,this._stickyModelProvider=null,this._editor=t,this._sessionStore=this._register(new G),this._updateSoon=this._register(new si(()=>this.update(),50)),this._register(this._editor.onDidChangeConfiguration(o=>{o.hasChanged(116)&&this.readConfiguration()})),this.readConfiguration()}readConfiguration(){this._sessionStore.clear(),this._editor.getOption(116).enabled&&(this._sessionStore.add(this._editor.onDidChangeModel(()=>{this._model=null,this.updateStickyModelProvider(),this._onDidChangeStickyScroll.fire(),this.update()})),this._sessionStore.add(this._editor.onDidChangeHiddenAreas(()=>this.update())),this._sessionStore.add(this._editor.onDidChangeModelContent(()=>this._updateSoon.schedule())),this._sessionStore.add(this._languageFeaturesService.documentSymbolProvider.onDidChange(()=>this.update())),this._sessionStore.add(Mt(()=>{this._stickyModelProvider?.dispose(),this._stickyModelProvider=null})),this.updateStickyModelProvider(),this.update())}getVersionId(){return this._model?.version}updateStickyModelProvider(){this._stickyModelProvider?.dispose(),this._stickyModelProvider=null;let t=this._editor;t.hasModel()&&(this._stickyModelProvider=new P1(t,()=>this._updateSoon.schedule(),this._languageConfigurationService,this._languageFeaturesService))}update(){return k(this,null,function*(){this._cts?.dispose(!0),this._cts=new fi,yield this.updateStickyModel(this._cts.token),this._onDidChangeStickyScroll.fire()})}updateStickyModel(t){return k(this,null,function*(){if(!this._editor.hasModel()||!this._stickyModelProvider||this._editor.getModel().isTooLargeForTokenization()){this._model=null;return}let e=yield this._stickyModelProvider.update(t);t.isCancellationRequested||(this._model=e)})}updateIndex(t){return t===-1?t=0:t<0&&(t=-t-2),t}getCandidateStickyLinesIntersectingFromStickyModel(t,e,i,o,r){if(e.children.length===0)return;let s=r,a=[];for(let d=0;d<e.children.length;d++){let u=e.children[d];u.range&&a.push(u.range.startLineNumber)}let l=this.updateIndex(eh(a,t.startLineNumber,(d,u)=>d-u)),c=this.updateIndex(eh(a,t.startLineNumber+o,(d,u)=>d-u));for(let d=l;d<=c;d++){let u=e.children[d];if(!u)return;if(u.range){let h=u.range.startLineNumber,m=u.range.endLineNumber;t.startLineNumber<=m+1&&h-1<=t.endLineNumber&&h!==s&&(s=h,i.push(new Vz(h,m-1,o+1)),this.getCandidateStickyLinesIntersectingFromStickyModel(t,u,i,o+1,h))}else this.getCandidateStickyLinesIntersectingFromStickyModel(t,u,i,o,r)}}getCandidateStickyLinesIntersecting(t){if(!this._model?.element)return[];let e=[];this.getCandidateStickyLinesIntersectingFromStickyModel(t,this._model.element,e,0,-1);let i=this._editor._getViewModel()?.getHiddenAreas();if(i)for(let o of i)e=e.filter(r=>!(r.startLineNumber>=o.startLineNumber&&r.endLineNumber<=o.endLineNumber+1));return e}};z1=txe([F9(1,ae),F9(2,_i)],z1);Ot();$i();mt();$t();qe();hi();gi();Jo();Fs();gt();hce();var ixe=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},Mg=function(n,t){return function(e,i){t(e,i,n)}},Wz,$a=class extends U{static{Wz=this}static{this.ID="store.contrib.stickyScrollController"}constructor(e,i,o,r,s,a,l){super(),this._editor=e,this._contextMenuService=i,this._languageFeaturesService=o,this._instaService=r,this._contextKeyService=l,this._sessionStore=new G,this._maxStickyLines=Number.MAX_SAFE_INTEGER,this._candidateDefinitionsLength=-1,this._focusedStickyElementIndex=-1,this._enabled=!1,this._focused=!1,this._positionRevealed=!1,this._onMouseDown=!1,this._endLineNumbers=[],this._stickyScrollWidget=new R1(this._editor),this._stickyLineCandidateProvider=new z1(this._editor,o,s),this._register(this._stickyScrollWidget),this._register(this._stickyLineCandidateProvider),this._widgetState=kg.Empty,this._onDidResize(),this._readConfiguration();let c=this._stickyScrollWidget.getDomNode();this._register(this._editor.onDidChangeConfiguration(u=>{this._readConfigurationChange(u)})),this._register(Ct(c,li.CONTEXT_MENU,u=>k(this,null,function*(){this._onContextMenu(Ca(c),u)}))),this._stickyScrollFocusedContextKey=M.stickyScrollFocused.bindTo(this._contextKeyService),this._stickyScrollVisibleContextKey=M.stickyScrollVisible.bindTo(this._contextKeyService);let d=this._register(Sa(c));this._register(d.onDidBlur(u=>{this._positionRevealed===!1&&c.clientHeight===0?(this._focusedStickyElementIndex=-1,this.focus()):this._disposeFocusStickyScrollStore()})),this._register(d.onDidFocus(u=>{this.focus()})),this._registerMouseListeners(),this._register(Ct(c,li.MOUSE_DOWN,u=>{this._onMouseDown=!0}))}static get(e){return e.getContribution(Wz.ID)}_disposeFocusStickyScrollStore(){this._stickyScrollFocusedContextKey.set(!1),this._focusDisposableStore?.dispose(),this._focused=!1,this._positionRevealed=!1,this._onMouseDown=!1}focus(){if(this._onMouseDown){this._onMouseDown=!1,this._editor.focus();return}this._stickyScrollFocusedContextKey.get()!==!0&&(this._focused=!0,this._focusDisposableStore=new G,this._stickyScrollFocusedContextKey.set(!0),this._focusedStickyElementIndex=this._stickyScrollWidget.lineNumbers.length-1,this._stickyScrollWidget.focusLineWithIndex(this._focusedStickyElementIndex))}focusNext(){this._focusedStickyElementIndex<this._stickyScrollWidget.lineNumberCount-1&&this._focusNav(!0)}focusPrevious(){this._focusedStickyElementIndex>0&&this._focusNav(!1)}selectEditor(){this._editor.focus()}_focusNav(e){this._focusedStickyElementIndex=e?this._focusedStickyElementIndex+1:this._focusedStickyElementIndex-1,this._stickyScrollWidget.focusLineWithIndex(this._focusedStickyElementIndex)}goToFocused(){let e=this._stickyScrollWidget.lineNumbers;this._disposeFocusStickyScrollStore(),this._revealPosition({lineNumber:e[this._focusedStickyElementIndex],column:1})}_revealPosition(e){this._reveaInEditor(e,()=>this._editor.revealPosition(e))}_revealLineInCenterIfOutsideViewport(e){this._reveaInEditor(e,()=>this._editor.revealLineInCenterIfOutsideViewport(e.lineNumber,0))}_reveaInEditor(e,i){this._focused&&this._disposeFocusStickyScrollStore(),this._positionRevealed=!0,i(),this._editor.setSelection(A.fromPositions(e)),this._editor.focus()}_registerMouseListeners(){let e=this._register(new G),i=this._register(new kl(this._editor,{extractLineNumberFromMouseEvent:s=>{let a=this._stickyScrollWidget.getEditorPositionFromNode(s.target.element);return a?a.lineNumber:0}})),o=s=>{if(!this._editor.hasModel()||s.target.type!==12||s.target.detail!==this._stickyScrollWidget.getId())return null;let a=s.target.element;if(!a||a.innerText!==a.innerHTML)return null;let l=this._stickyScrollWidget.getEditorPositionFromNode(a);return l?{range:new A(l.lineNumber,l.column,l.lineNumber,l.column+a.innerText.length),textElement:a}:null},r=this._stickyScrollWidget.getDomNode();this._register(mr(r,li.CLICK,s=>{if(s.ctrlKey||s.altKey||s.metaKey||!s.leftButton)return;if(s.shiftKey){let d=this._stickyScrollWidget.getLineIndexFromChildDomNode(s.target);if(d===null)return;let u=new he(this._endLineNumbers[d],1);this._revealLineInCenterIfOutsideViewport(u);return}if(this._stickyScrollWidget.isInFoldingIconDomNode(s.target)){let d=this._stickyScrollWidget.getLineNumberFromChildDomNode(s.target);this._toggleFoldingRegionForLine(d);return}if(!this._stickyScrollWidget.isInStickyLine(s.target))return;let c=this._stickyScrollWidget.getEditorPositionFromNode(s.target);if(!c){let d=this._stickyScrollWidget.getLineNumberFromChildDomNode(s.target);if(d===null)return;c=new he(d,1)}this._revealPosition(c)})),this._register(mr(r,li.MOUSE_MOVE,s=>{if(s.shiftKey){let a=this._stickyScrollWidget.getLineIndexFromChildDomNode(s.target);if(a===null||this._showEndForLine!==null&&this._showEndForLine===a)return;this._showEndForLine=a,this._renderStickyScroll();return}this._showEndForLine!==void 0&&(this._showEndForLine=void 0,this._renderStickyScroll())})),this._register(Ct(r,li.MOUSE_LEAVE,s=>{this._showEndForLine!==void 0&&(this._showEndForLine=void 0,this._renderStickyScroll())})),this._register(i.onMouseMoveOrRelevantKeyDown(([s,a])=>{let l=o(s);if(!l||!s.hasTriggerModifier||!this._editor.hasModel()){e.clear();return}let{range:c,textElement:d}=l;if(!c.equalsRange(this._stickyRangeProjectedOnEditor))this._stickyRangeProjectedOnEditor=c,e.clear();else if(d.style.textDecoration==="underline")return;let u=new fi;e.add(Mt(()=>u.dispose(!0)));let h;ou(this._languageFeaturesService.definitionProvider,this._editor.getModel(),new he(c.startLineNumber,c.startColumn+1),!1,u.token).then(m=>{if(!u.token.isCancellationRequested)if(m.length!==0){this._candidateDefinitionsLength=m.length;let f=d;h!==f?(e.clear(),h=f,h.style.textDecoration="underline",e.add(Mt(()=>{h.style.textDecoration="none"}))):h||(h=f,h.style.textDecoration="underline",e.add(Mt(()=>{h.style.textDecoration="none"})))}else e.clear()})})),this._register(i.onCancel(()=>{e.clear()})),this._register(i.onExecute(s=>k(this,null,function*(){if(s.target.type!==12||s.target.detail!==this._stickyScrollWidget.getId())return;let a=this._stickyScrollWidget.getEditorPositionFromNode(s.target.element);a&&(!this._editor.hasModel()||!this._stickyRangeProjectedOnEditor||(this._candidateDefinitionsLength>1&&(this._focused&&this._disposeFocusStickyScrollStore(),this._revealPosition({lineNumber:a.lineNumber,column:1})),this._instaService.invokeFunction(cD,s,this._editor,{uri:this._editor.getModel().uri,range:this._stickyRangeProjectedOnEditor})))})))}_onContextMenu(e,i){let o=new kj(e,i);this._contextMenuService.showContextMenu({menuId:ve.StickyScrollContext,getAnchor:()=>o})}_toggleFoldingRegionForLine(e){if(!this._foldingModel||e===null)return;let i=this._stickyScrollWidget.getRenderedStickyLine(e),o=i?.foldingIcon;if(!o)return;jb(this._foldingModel,Number.MAX_VALUE,[e]),o.isCollapsed=!o.isCollapsed;let r=(o.isCollapsed?this._editor.getTopForLineNumber(o.foldingEndLine):this._editor.getTopForLineNumber(o.foldingStartLine))-this._editor.getOption(67)*i.index+1;this._editor.setScrollTop(r),this._renderStickyScroll(e)}_readConfiguration(){let e=this._editor.getOption(116);if(e.enabled===!1){this._editor.removeOverlayWidget(this._stickyScrollWidget),this._sessionStore.clear(),this._enabled=!1;return}else e.enabled&&!this._enabled&&(this._editor.addOverlayWidget(this._stickyScrollWidget),this._sessionStore.add(this._editor.onDidScrollChange(o=>{o.scrollTopChanged&&(this._showEndForLine=void 0,this._renderStickyScroll())})),this._sessionStore.add(this._editor.onDidLayoutChange(()=>this._onDidResize())),this._sessionStore.add(this._editor.onDidChangeModelTokens(o=>this._onTokensChange(o))),this._sessionStore.add(this._stickyLineCandidateProvider.onDidChangeStickyScroll(()=>{this._showEndForLine=void 0,this._renderStickyScroll()})),this._enabled=!0);this._editor.getOption(68).renderType===2&&this._sessionStore.add(this._editor.onDidChangeCursorPosition(()=>{this._showEndForLine=void 0,this._renderStickyScroll(0)}))}_readConfigurationChange(e){(e.hasChanged(116)||e.hasChanged(73)||e.hasChanged(67)||e.hasChanged(111)||e.hasChanged(68))&&this._readConfiguration(),e.hasChanged(68)&&this._renderStickyScroll(0)}_needsUpdate(e){let i=this._stickyScrollWidget.getCurrentLines();for(let o of i)for(let r of e.ranges)if(o>=r.fromLineNumber&&o<=r.toLineNumber)return!0;return!1}_onTokensChange(e){this._needsUpdate(e)&&this._renderStickyScroll(0)}_onDidResize(){let i=this._editor.getLayoutInfo().height/this._editor.getOption(67);this._maxStickyLines=Math.round(i*.25)}_renderStickyScroll(e){return k(this,null,function*(){let i=this._editor.getModel();if(!i||i.isTooLargeForTokenization()){this._resetState();return}let o=this._updateAndGetMinRebuildFromLine(e),r=this._stickyLineCandidateProvider.getVersionId();if(r===void 0||r===i.getVersionId())if(!this._focused)yield this._updateState(o);else if(this._focusedStickyElementIndex===-1)yield this._updateState(o),this._focusedStickyElementIndex=this._stickyScrollWidget.lineNumberCount-1,this._focusedStickyElementIndex!==-1&&this._stickyScrollWidget.focusLineWithIndex(this._focusedStickyElementIndex);else{let a=this._stickyScrollWidget.lineNumbers[this._focusedStickyElementIndex];yield this._updateState(o),this._stickyScrollWidget.lineNumberCount===0?this._focusedStickyElementIndex=-1:(this._stickyScrollWidget.lineNumbers.includes(a)||(this._focusedStickyElementIndex=this._stickyScrollWidget.lineNumberCount-1),this._stickyScrollWidget.focusLineWithIndex(this._focusedStickyElementIndex))}})}_updateAndGetMinRebuildFromLine(e){if(e!==void 0){let i=this._minRebuildFromLine!==void 0?this._minRebuildFromLine:1/0;this._minRebuildFromLine=Math.min(e,i)}return this._minRebuildFromLine}_updateState(e){return k(this,null,function*(){this._minRebuildFromLine=void 0,this._foldingModel=(yield Pl.get(this._editor)?.getFoldingModel())??void 0,this._widgetState=this.findScrollWidgetState();let i=this._widgetState.startLineNumbers.length>0;this._stickyScrollVisibleContextKey.set(i),this._stickyScrollWidget.setState(this._widgetState,this._foldingModel,e)})}_resetState(){return k(this,null,function*(){this._minRebuildFromLine=void 0,this._foldingModel=void 0,this._widgetState=kg.Empty,this._stickyScrollVisibleContextKey.set(!1),this._stickyScrollWidget.setState(void 0,void 0)})}findScrollWidgetState(){let e=this._editor.getOption(67),i=Math.min(this._maxStickyLines,this._editor.getOption(116).maxLineCount),o=this._editor.getScrollTop(),r=0,s=[],a=[],l=this._editor.getVisibleRanges();if(l.length!==0){let c=new qc(l[0].startLineNumber,l[l.length-1].endLineNumber),d=this._stickyLineCandidateProvider.getCandidateStickyLinesIntersecting(c);for(let u of d){let h=u.startLineNumber,m=u.endLineNumber,f=u.nestingDepth;if(m-h>0){let p=(f-1)*e,g=f*e,v=this._editor.getBottomForLineNumber(h)-o,b=this._editor.getTopForLineNumber(m)-o,C=this._editor.getBottomForLineNumber(m)-o;if(p>b&&p<=C){s.push(h),a.push(m+1),r=C-g;break}else g>v&&g<=C&&(s.push(h),a.push(m+1));if(s.length===i)break}}}return this._endLineNumbers=a,new kg(s,a,r,this._showEndForLine)}dispose(){super.dispose(),this._sessionStore.dispose()}};$a=Wz=ixe([Mg(1,Bs),Mg(2,ae),Mg(3,De),Mg(4,_i),Mg(5,vn),Mg(6,Xe)],$a);var B1=class extends Wn{constructor(){super({id:"editor.action.toggleStickyScroll",title:Te(j({},Pe("toggleEditorStickyScroll","Toggle Editor Sticky Scroll")),{mnemonicTitle:_({key:"mitoggleStickyScroll",comment:["&& denotes a mnemonic"]},"&&Toggle Editor Sticky Scroll")}),metadata:{description:Pe("toggleEditorStickyScroll.description","Toggle/enable the editor sticky scroll which shows the nested scopes at the top of the viewport")},category:O9.View,toggled:{condition:K.equals("config.editor.stickyScroll.enabled",!0),title:_("stickyScroll","Sticky Scroll"),mnemonicTitle:_({key:"miStickyScroll",comment:["&& denotes a mnemonic"]},"&&Sticky Scroll")},menu:[{id:ve.CommandPalette},{id:ve.MenubarAppearanceMenu,group:"4_editor",order:3},{id:ve.StickyScrollContext}]})}run(t){return k(this,null,function*(){let e=t.get(_t),i=!e.getValue("editor.stickyScroll.enabled");return e.updateValue("editor.stickyScroll.enabled",i)})}},q1=100,H1=class extends kr{constructor(){super({id:"editor.action.focusStickyScroll",title:Te(j({},Pe("focusStickyScroll","Focus on the editor sticky scroll")),{mnemonicTitle:_({key:"mifocusStickyScroll",comment:["&& denotes a mnemonic"]},"&&Focus Sticky Scroll")}),precondition:K.and(K.has("config.editor.stickyScroll.enabled"),M.stickyScrollVisible),menu:[{id:ve.CommandPalette}]})}runEditorCommand(t,e){$a.get(e)?.focus()}},V1=class extends kr{constructor(){super({id:"editor.action.selectNextStickyScrollLine",title:Pe("selectNextStickyScrollLine.title","Select the next editor sticky scroll line"),precondition:M.stickyScrollFocused.isEqualTo(!0),keybinding:{weight:q1,primary:18}})}runEditorCommand(t,e){$a.get(e)?.focusNext()}},W1=class extends kr{constructor(){super({id:"editor.action.selectPreviousStickyScrollLine",title:Pe("selectPreviousStickyScrollLine.title","Select the previous sticky scroll line"),precondition:M.stickyScrollFocused.isEqualTo(!0),keybinding:{weight:q1,primary:16}})}runEditorCommand(t,e){$a.get(e)?.focusPrevious()}},j1=class extends kr{constructor(){super({id:"editor.action.goToFocusedStickyScrollLine",title:Pe("goToFocusedStickyScrollLine.title","Go to the focused sticky scroll line"),precondition:M.stickyScrollFocused.isEqualTo(!0),keybinding:{weight:q1,primary:3}})}runEditorCommand(t,e){$a.get(e)?.goToFocused()}},U1=class extends kr{constructor(){super({id:"editor.action.selectEditor",title:Pe("selectEditor.title","Select Editor"),precondition:M.stickyScrollFocused.isEqualTo(!0),keybinding:{weight:q1,primary:9}})}runEditorCommand(t,e){$a.get(e)?.selectEditor()}};$i();Me($a.ID,$a,1);Gt(B1);Gt(H1);Gt(W1);Gt(V1);Gt(j1);Gt(U1);gi();_c();A_();ce();Fo();qe();Lt();var z9=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},By=function(n,t){return function(e,i){t(e,i,n)}},jz=class{constructor(t,e,i,o,r,s){this.range=t,this.insertText=e,this.filterText=i,this.additionalTextEdits=o,this.command=r,this.completion=s}},Uz=class extends sj{constructor(t,e,i,o,r,s){super(r.disposable),this.model=t,this.line=e,this.word=i,this.completionModel=o,this._suggestMemoryService=s}canBeReused(t,e,i){return this.model===t&&this.line===e&&this.word.word.length>0&&this.word.startColumn===i.startColumn&&this.word.endColumn<i.endColumn&&this.completionModel.getIncompleteProvider().size===0}get items(){let t=[],{items:e}=this.completionModel,i=this._suggestMemoryService.select(this.model,{lineNumber:this.line,column:this.word.endColumn+this.completionModel.lineContext.characterCountDelta},e),o=jr.slice(e,i),r=jr.slice(e,0,i),s=5;for(let a of jr.concat(o,r)){if(a.score===gc.Default)continue;let l=new A(a.editStart.lineNumber,a.editStart.column,a.editInsertEnd.lineNumber,a.editInsertEnd.column+this.completionModel.lineContext.characterCountDelta),c=a.completion.insertTextRules&&a.completion.insertTextRules&4?{snippet:a.completion.insertText}:a.completion.insertText;t.push(new jz(l,c,a.filterTextLow??a.labelLow,a.completion.additionalTextEdits,a.completion.command,a)),s-->=0&&a.resolve(Je.None)}return t}};Uz=z9([By(5,ug)],Uz);var qz=class extends U{constructor(t,e,i,o){super(),this._languageFeatureService=t,this._clipboardService=e,this._suggestMemoryService=i,this._editorService=o,this._store.add(t.inlineCompletionsProvider.register("*",this))}provideInlineCompletions(t,e,i,o){return k(this,null,function*(){if(i.selectedSuggestionInfo)return;let r;for(let m of this._editorService.listCodeEditors())if(m.getModel()===t){r=m;break}if(!r)return;let s=r.getOption(90);if(Fl.isAllOff(s))return;t.tokenization.tokenizeIfCheap(e.lineNumber);let a=t.tokenization.getLineTokens(e.lineNumber),l=a.getStandardTokenType(a.findTokenIndexAtOffset(Math.max(e.column-1-1,0)));if(Fl.valueFor(s,l)!=="inline")return;let c=t.getWordAtPosition(e),d;if(c?.word||(d=this._getTriggerCharacterInfo(t,e)),!c?.word&&!d||(c||(c=t.getWordUntilPosition(e)),c.endColumn!==e.column))return;let u,h=t.getValueInRange(new A(e.lineNumber,1,e.lineNumber,e.column));if(!d&&this._lastResult?.canBeReused(t,e.lineNumber,c)){let m=new uy(h,e.column-this._lastResult.word.endColumn);this._lastResult.completionModel.lineContext=m,this._lastResult.acquire(),u=this._lastResult}else{let m=yield Qb(this._languageFeatureService.completionProvider,t,e,new hm(void 0,pg.createSuggestFilter(r).itemKind,d?.providers),d&&{triggerKind:1,triggerCharacter:d.ch},o),f;m.needsClipboard&&(f=yield this._clipboardService.readText());let p=new mg(m.items,e.column,new uy(h,0),hg.None,r.getOption(119),r.getOption(113),{boostFullMatch:!1,firstMatchCanBeWeak:!1},f);u=new Uz(t,e.lineNumber,c,p,m,this._suggestMemoryService)}return this._lastResult=u,u})}handleItemDidShow(t,e){e.completion.resolve(Je.None)}freeInlineCompletions(t){t.release()}_getTriggerCharacterInfo(t,e){let i=t.getValueInRange(A.fromPositions({lineNumber:e.lineNumber,column:e.column-1},e)),o=new Set;for(let r of this._languageFeatureService.completionProvider.all(t))r.triggerCharacters?.includes(i)&&o.add(r);if(o.size!==0)return{providers:o,ch:i}}};qz=z9([By(0,ae),By(1,Oa),By(2,ug),By(3,Xt)],qz);Ws(qz);Ls();tt();Ae();var Gz=class extends Z{constructor(){super({id:"editor.action.forceRetokenize",label:_("forceRetokenize","Developer: Force Retokenize"),alias:"Developer: Force Retokenize",precondition:void 0})}run(t,e){if(!e.hasModel())return;let i=e.getModel();i.tokenization.resetTokenization();let o=new Xi;i.tokenization.forceTokenization(i.getLineCount()),o.stop(),console.log(`tokenization took ${o.elapsed()}`)}};V(Gz);Ae();$i();var nxe=(()=>{class n extends Wn{static{this.ID="editor.action.toggleTabFocusMode"}constructor(){super({id:n.ID,title:Pe({key:"toggle.tabMovesFocus",comment:["Turn on/off use of tab key for moving focus around VS Code"]},"Toggle Tab Key Moves Focus"),precondition:void 0,keybinding:{primary:2091,mac:{primary:1323},weight:100},metadata:{description:Pe("tabMovesFocusDescriptions","Determines whether the tab key moves focus around the workbench or inserts the tab character in the current editor. This is also called tab trapping, tab navigation, or tab focus mode.")},f1:!0})}run(){let i=!FA.getTabFocusMode();FA.setTabFocusMode(i),i?$n(_("toggle.tabMovesFocus.on","Pressing Tab will now move focus to the next focusable element")):$n(_("toggle.tabMovesFocus.off","Pressing Tab will now insert the tab character"))}}return n})();Gt(nxe);Ht();Vn();Hs();ce();Yo();Fi();tt();bn();fh();Da();gt();lh();ce();Ot();gt();Ej();oi();ce();var oxe=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},B9=function(n,t){return function(e,i){t(e,i,n)}},G1=class extends U{get enabled(){return this._enabled}set enabled(t){t?(this.el.setAttribute("aria-disabled","false"),this.el.tabIndex=0,this.el.style.pointerEvents="auto",this.el.style.opacity="1",this.el.style.cursor="pointer",this._enabled=!1):(this.el.setAttribute("aria-disabled","true"),this.el.tabIndex=-1,this.el.style.pointerEvents="none",this.el.style.opacity="0.4",this.el.style.cursor="default",this._enabled=!0),this._enabled=t}constructor(t,e,i={},o,r){super(),this._link=e,this._hoverService=o,this._enabled=!0,this.el=we(t,ye("a.monaco-link",{tabIndex:e.tabIndex??0,href:e.href},e.label)),this.hoverDelegate=i.hoverDelegate??Sd("mouse"),this.setTooltip(e.title),this.el.setAttribute("role","button");let s=this._register(new lw(this.el,"click")),a=this._register(new lw(this.el,"keypress")),l=bi.chain(a.event,u=>u.map(h=>new z_(h)).filter(h=>h.keyCode===3)),c=this._register(new lw(this.el,j4.Tap)).event;this._register(rw.addTarget(this.el));let d=bi.any(s.event,l,c);this._register(d(u=>{this.enabled&&(rh.stop(u,!0),i?.opener?i.opener(this._link.href):r.open(this._link.href,{allowCommands:!0}))})),this.enabled=!0}setTooltip(t){this.hoverDelegate.showNativeHover?this.el.title=t??"":!this.hover&&t?this.hover=this._register(this._hoverService.setupManagedHover(this.hoverDelegate,this.el,t)):this.hover&&this.hover.update(t)}};G1=oxe([B9(3,pc),B9(4,Gn)],G1);Zo();var H9=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},V9=function(n,t){return function(e,i){t(e,i,n)}},rxe=26,$1=class extends U{constructor(t,e){super(),this._editor=t,this.instantiationService=e,this.banner=this._register(this.instantiationService.createInstance($z))}hide(){this._editor.setBanner(null,0),this.banner.clear()}show(t){this.banner.show(Te(j({},t),{onClose:()=>{this.hide(),t.onClose?.()}})),this._editor.setBanner(this.banner.element,rxe)}};$1=H9([V9(1,De)],$1);var $z=class extends U{constructor(t){super(),this.instantiationService=t,this.markdownRenderer=this.instantiationService.createInstance(Vs,{}),this.element=ye("div.editor-banner"),this.element.tabIndex=0}getAriaLabel(t){if(t.ariaLabel)return t.ariaLabel;if(typeof t.message=="string")return t.message}getBannerMessage(t){if(typeof t=="string"){let e=ye("span");return e.innerText=t,e}return this.markdownRenderer.render(t).element}clear(){Dr(this.element)}show(t){Dr(this.element);let e=this.getAriaLabel(t);e&&this.element.setAttribute("aria-label",e);let i=we(this.element,ye("div.icon-container"));i.setAttribute("aria-hidden","true"),t.icon&&i.appendChild(ye(`div${St.asCSSSelector(t.icon)}`));let o=we(this.element,ye("div.message-container"));if(o.setAttribute("aria-hidden","true"),o.appendChild(this.getBannerMessage(t.message)),this.messageActionsContainer=we(this.element,ye("div.message-actions-container")),t.actions)for(let s of t.actions)this._register(this.instantiationService.createInstance(G1,this.messageActionsContainer,Te(j({},s),{tabIndex:-1}),{}));let r=we(this.element,ye("div.action-container"));this.actionBar=this._register(new xc(r)),this.actionBar.push(this._register(new dl("banner.close","Close Banner",St.asClassName(Mw),!0,()=>{typeof t.onClose=="function"&&t.onClose()})),{icon:!0,label:!1}),this.actionBar.setFocusable(!1)}};$z=H9([V9(0,De)],$z);Ae();_n();Ot();var tB=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},Tg=function(n,t){return function(e,i){t(e,i,n)}},sxe=Ii("extensions-warning-message",Ge.warning,_("warningIcon","Icon shown with a warning message in the extensions editor.")),Hy=class extends U{static{this.ID="editor.contrib.unicodeHighlighter"}constructor(t,e,i,o){super(),this._editor=t,this._editorWorkerService=e,this._workspaceTrustService=i,this._highlighter=null,this._bannerClosed=!1,this._updateState=r=>{if(r&&r.hasMore){if(this._bannerClosed)return;let s=Math.max(r.ambiguousCharacterCount,r.nonBasicAsciiCharacterCount,r.invisibleCharacterCount),a;if(r.nonBasicAsciiCharacterCount>=s)a={message:_("unicodeHighlighting.thisDocumentHasManyNonBasicAsciiUnicodeCharacters","This document contains many non-basic ASCII unicode characters"),command:new nB};else if(r.ambiguousCharacterCount>=s)a={message:_("unicodeHighlighting.thisDocumentHasManyAmbiguousUnicodeCharacters","This document contains many ambiguous unicode characters"),command:new Vy};else if(r.invisibleCharacterCount>=s)a={message:_("unicodeHighlighting.thisDocumentHasManyInvisibleUnicodeCharacters","This document contains many invisible unicode characters"),command:new iB};else throw new Error("Unreachable");this._bannerController.show({id:"unicodeHighlightBanner",message:a.message,icon:sxe,actions:[{label:a.command.shortLabel,href:`command:${a.command.id}`}],onClose:()=>{this._bannerClosed=!0}})}else this._bannerController.hide()},this._bannerController=this._register(o.createInstance($1,t)),this._register(this._editor.onDidChangeModel(()=>{this._bannerClosed=!1,this._updateHighlighter()})),this._options=t.getOption(126),this._register(i.onDidChangeTrust(r=>{this._updateHighlighter()})),this._register(t.onDidChangeConfiguration(r=>{r.hasChanged(126)&&(this._options=t.getOption(126),this._updateHighlighter())})),this._updateHighlighter()}dispose(){this._highlighter&&(this._highlighter.dispose(),this._highlighter=null),super.dispose()}_updateHighlighter(){if(this._updateState(null),this._highlighter&&(this._highlighter.dispose(),this._highlighter=null),!this._editor.hasModel())return;let t=axe(this._workspaceTrustService.isWorkspaceTrusted(),this._options);if([t.nonBasicASCII,t.ambiguousCharacters,t.invisibleCharacters].every(i=>i===!1))return;let e={nonBasicASCII:t.nonBasicASCII,ambiguousCharacters:t.ambiguousCharacters,invisibleCharacters:t.invisibleCharacters,includeComments:t.includeComments,includeStrings:t.includeStrings,allowedCodePoints:Object.keys(t.allowedCharacters).map(i=>i.codePointAt(0)),allowedLocales:Object.keys(t.allowedLocales).map(i=>i==="_os"?new Intl.NumberFormat().resolvedOptions().locale:i==="_vscode"?tj:i)};this._editorWorkerService.canComputeUnicodeHighlights(this._editor.getModel().uri)?this._highlighter=new Yz(this._editor,e,this._updateState,this._editorWorkerService):this._highlighter=new Xz(this._editor,e,this._updateState)}getDecorationInfo(t){return this._highlighter?this._highlighter.getDecorationInfo(t):null}};Hy=tB([Tg(1,gr),Tg(2,M5),Tg(3,De)],Hy);function axe(n,t){return{nonBasicASCII:t.nonBasicASCII===Ax?!n:t.nonBasicASCII,ambiguousCharacters:t.ambiguousCharacters,invisibleCharacters:t.invisibleCharacters,includeComments:t.includeComments===Ax?!n:t.includeComments,includeStrings:t.includeStrings===Ax?!n:t.includeStrings,allowedCharacters:t.allowedCharacters,allowedLocales:t.allowedLocales}}var Yz=class extends U{constructor(t,e,i,o){super(),this._editor=t,this._options=e,this._updateState=i,this._editorWorkerService=o,this._model=this._editor.getModel(),this._decorations=this._editor.createDecorationsCollection(),this._updateSoon=this._register(new si(()=>this._update(),250)),this._register(this._editor.onDidChangeModelContent(()=>{this._updateSoon.schedule()})),this._updateSoon.schedule()}dispose(){this._decorations.clear(),super.dispose()}_update(){if(this._model.isDisposed())return;if(!this._model.mightContainNonBasicASCII()){this._decorations.clear();return}let t=this._model.getVersionId();this._editorWorkerService.computedUnicodeHighlights(this._model.uri,this._options).then(e=>{if(this._model.isDisposed()||this._model.getVersionId()!==t)return;this._updateState(e);let i=[];if(!e.hasMore)for(let o of e.ranges)i.push({range:o,options:K1.instance.getDecorationFromOptions(this._options)});this._decorations.set(i)})}getDecorationInfo(t){if(!this._decorations.has(t))return null;let e=this._editor.getModel();if(!HA(e,t))return null;let i=e.getValueInRange(t.range);return{reason:j9(i,this._options),inComment:VA(e,t),inString:WA(e,t)}}};Yz=tB([Tg(3,gr)],Yz);var Xz=class extends U{constructor(t,e,i){super(),this._editor=t,this._options=e,this._updateState=i,this._model=this._editor.getModel(),this._decorations=this._editor.createDecorationsCollection(),this._updateSoon=this._register(new si(()=>this._update(),250)),this._register(this._editor.onDidLayoutChange(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidScrollChange(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidChangeHiddenAreas(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidChangeModelContent(()=>{this._updateSoon.schedule()})),this._updateSoon.schedule()}dispose(){this._decorations.clear(),super.dispose()}_update(){if(this._model.isDisposed())return;if(!this._model.mightContainNonBasicASCII()){this._decorations.clear();return}let t=this._editor.getVisibleRanges(),e=[],i={ranges:[],ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0,hasMore:!1};for(let o of t){let r=mA.computeUnicodeHighlights(this._model,this._options,o);for(let s of r.ranges)i.ranges.push(s);i.ambiguousCharacterCount+=i.ambiguousCharacterCount,i.invisibleCharacterCount+=i.invisibleCharacterCount,i.nonBasicAsciiCharacterCount+=i.nonBasicAsciiCharacterCount,i.hasMore=i.hasMore||r.hasMore}if(!i.hasMore)for(let o of i.ranges)e.push({range:o,options:K1.instance.getDecorationFromOptions(this._options)});this._updateState(i),this._decorations.set(e)}getDecorationInfo(t){if(!this._decorations.has(t))return null;let e=this._editor.getModel(),i=e.getValueInRange(t.range);return HA(e,t)?{reason:j9(i,this._options),inComment:VA(e,t),inString:WA(e,t)}:null}},W9=_("unicodeHighlight.configureUnicodeHighlightOptions","Configure Unicode Highlight Options"),Zz=class{constructor(t,e,i){this._editor=t,this._languageService=e,this._openerService=i,this.hoverOrdinal=5}computeSync(t,e){if(!this._editor.hasModel()||t.type!==1)return[];let i=this._editor.getModel(),o=this._editor.getContribution(Hy.ID);if(!o)return[];let r=[],s=new Set,a=300;for(let l of e){let c=o.getDecorationInfo(l);if(!c)continue;let u=i.getValueInRange(l.range).codePointAt(0),h=Kz(u),m;switch(c.reason.kind){case 0:{Lx(c.reason.confusableWith)?m=_("unicodeHighlight.characterIsAmbiguousASCII","The character {0} could be confused with the ASCII character {1}, which is more common in source code.",h,Kz(c.reason.confusableWith.codePointAt(0))):m=_("unicodeHighlight.characterIsAmbiguous","The character {0} could be confused with the character {1}, which is more common in source code.",h,Kz(c.reason.confusableWith.codePointAt(0)));break}case 1:m=_("unicodeHighlight.characterIsInvisible","The character {0} is invisible.",h);break;case 2:m=_("unicodeHighlight.characterIsNonBasicAscii","The character {0} is not a basic ASCII character.",h);break}if(s.has(m))continue;s.add(m);let f={codePoint:u,reason:c.reason,inComment:c.inComment,inString:c.inString},p=_("unicodeHighlight.adjustSettings","Adjust settings"),g=`command:${U9.ID}?${encodeURIComponent(JSON.stringify(f))}`,v=new hn("",!0).appendMarkdown(m).appendText(" ").appendLink(g,p,W9);r.push(new br(this,l.range,[v],!1,a++))}return r}renderHoverParts(t,e){return v$(t,e,this._editor,this._languageService,this._openerService)}};Zz=tB([Tg(1,Un),Tg(2,Gn)],Zz);function Qz(n){return`U+${n.toString(16).padStart(4,"0")}`}function Kz(n){let t=`\`${Qz(n)}\``;return iA.isInvisibleCharacter(n)||(t+=` "${`${lxe(n)}`}"`),t}function lxe(n){return n===96?"`` ` ``":"`"+String.fromCodePoint(n)+"`"}function j9(n,t){return mA.computeUnicodeHighlightReason(n,t)}var K1=class n{constructor(){this.map=new Map}static{this.instance=new n}getDecorationFromOptions(t){return this.getDecoration(!t.includeComments,!t.includeStrings)}getDecoration(t,e){let i=`${t}${e}`,o=this.map.get(i);return o||(o=at.createDynamic({description:"unicode-highlight",stickiness:1,className:"unicode-highlight",showIfCollapsed:!0,overviewRuler:null,minimap:null,hideInCommentTokens:t,hideInStringTokens:e}),this.map.set(i,o)),o}},Jz=class extends Z{constructor(){super({id:Vy.ID,label:_("action.unicodeHighlight.disableHighlightingInComments","Disable highlighting of characters in comments"),alias:"Disable highlighting of characters in comments",precondition:void 0}),this.shortLabel=_("unicodeHighlight.disableHighlightingInComments.shortLabel","Disable Highlight In Comments")}run(t,e,i){return k(this,null,function*(){let o=t?.get(_t);o&&this.runAction(o)})}runAction(t){return k(this,null,function*(){yield t.updateValue(nl.includeComments,!1,2)})}},eB=class extends Z{constructor(){super({id:Vy.ID,label:_("action.unicodeHighlight.disableHighlightingInStrings","Disable highlighting of characters in strings"),alias:"Disable highlighting of characters in strings",precondition:void 0}),this.shortLabel=_("unicodeHighlight.disableHighlightingInStrings.shortLabel","Disable Highlight In Strings")}run(t,e,i){return k(this,null,function*(){let o=t?.get(_t);o&&this.runAction(o)})}runAction(t){return k(this,null,function*(){yield t.updateValue(nl.includeStrings,!1,2)})}},Vy=(()=>{class n extends Z{static{this.ID="editor.action.unicodeHighlight.disableHighlightingOfAmbiguousCharacters"}constructor(){super({id:n.ID,label:_("action.unicodeHighlight.disableHighlightingOfAmbiguousCharacters","Disable highlighting of ambiguous characters"),alias:"Disable highlighting of ambiguous characters",precondition:void 0}),this.shortLabel=_("unicodeHighlight.disableHighlightingOfAmbiguousCharacters.shortLabel","Disable Ambiguous Highlight")}run(e,i,o){return k(this,null,function*(){let r=e?.get(_t);r&&this.runAction(r)})}runAction(e){return k(this,null,function*(){yield e.updateValue(nl.ambiguousCharacters,!1,2)})}}return n})(),iB=(()=>{class n extends Z{static{this.ID="editor.action.unicodeHighlight.disableHighlightingOfInvisibleCharacters"}constructor(){super({id:n.ID,label:_("action.unicodeHighlight.disableHighlightingOfInvisibleCharacters","Disable highlighting of invisible characters"),alias:"Disable highlighting of invisible characters",precondition:void 0}),this.shortLabel=_("unicodeHighlight.disableHighlightingOfInvisibleCharacters.shortLabel","Disable Invisible Highlight")}run(e,i,o){return k(this,null,function*(){let r=e?.get(_t);r&&this.runAction(r)})}runAction(e){return k(this,null,function*(){yield e.updateValue(nl.invisibleCharacters,!1,2)})}}return n})(),nB=(()=>{class n extends Z{static{this.ID="editor.action.unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters"}constructor(){super({id:n.ID,label:_("action.unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters","Disable highlighting of non basic ASCII characters"),alias:"Disable highlighting of non basic ASCII characters",precondition:void 0}),this.shortLabel=_("unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters.shortLabel","Disable Non ASCII Highlight")}run(e,i,o){return k(this,null,function*(){let r=e?.get(_t);r&&this.runAction(r)})}runAction(e){return k(this,null,function*(){yield e.updateValue(nl.nonBasicASCII,!1,2)})}}return n})(),U9=(()=>{class n extends Z{static{this.ID="editor.action.unicodeHighlight.showExcludeOptions"}constructor(){super({id:n.ID,label:_("action.unicodeHighlight.showExcludeOptions","Show Exclude Options"),alias:"Show Exclude Options",precondition:void 0})}run(e,i,o){return k(this,null,function*(){let{codePoint:r,reason:s,inString:a,inComment:l}=o,c=String.fromCodePoint(r),d=e.get(Bo),u=e.get(_t);function h(p){return iA.isInvisibleCharacter(p)?_("unicodeHighlight.excludeInvisibleCharFromBeingHighlighted","Exclude {0} (invisible character) from being highlighted",Qz(p)):_("unicodeHighlight.excludeCharFromBeingHighlighted","Exclude {0} from being highlighted",`${Qz(p)} "${c}"`)}let m=[];if(s.kind===0)for(let p of s.notAmbiguousInLocales)m.push({label:_("unicodeHighlight.allowCommonCharactersInLanguage",'Allow unicode characters that are more common in the language "{0}".',p),run:()=>k(this,null,function*(){dxe(u,[p])})});if(m.push({label:h(r),run:()=>cxe(u,[r])}),l){let p=new Jz;m.push({label:p.label,run:()=>k(this,null,function*(){return p.runAction(u)})})}else if(a){let p=new eB;m.push({label:p.label,run:()=>k(this,null,function*(){return p.runAction(u)})})}if(s.kind===0){let p=new Vy;m.push({label:p.label,run:()=>k(this,null,function*(){return p.runAction(u)})})}else if(s.kind===1){let p=new iB;m.push({label:p.label,run:()=>k(this,null,function*(){return p.runAction(u)})})}else if(s.kind===2){let p=new nB;m.push({label:p.label,run:()=>k(this,null,function*(){return p.runAction(u)})})}else uxe(s);let f=yield d.pick(m,{title:W9});f&&(yield f.run())})}}return n})();function cxe(n,t){return k(this,null,function*(){let e=n.getValue(nl.allowedCharacters),i;typeof e=="object"&&e?i=e:i={};for(let o of t)i[String.fromCodePoint(o)]=!0;yield n.updateValue(nl.allowedCharacters,i,2)})}function dxe(n,t){return k(this,null,function*(){let e=n.inspect(nl.allowedLocales).user?.value,i;typeof e=="object"&&e?i=Object.assign({},e):i={};for(let o of t)i[o]=!0;yield n.updateValue(nl.allowedLocales,i,2)})}function uxe(n){throw new Error(`Unexpected value: ${n}`)}V(Vy);V(iB);V(nB);V(U9);Me(Hy.ID,Hy,1);ys.register(Zz);ce();Ur();tt();Fo();Ae();var hxe=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},q9=function(n,t){return function(e,i){t(e,i,n)}},G9="ignoreUnusualLineTerminators";function mxe(n,t,e){n.setModelProperty(t.uri,G9,e)}function pxe(n,t){return n.getModelProperty(t.uri,G9)}var Y1=class extends U{static{this.ID="editor.contrib.unusualLineTerminatorsDetector"}constructor(t,e,i){super(),this._editor=t,this._dialogService=e,this._codeEditorService=i,this._isPresentingDialog=!1,this._config=this._editor.getOption(127),this._register(this._editor.onDidChangeConfiguration(o=>{o.hasChanged(127)&&(this._config=this._editor.getOption(127),this._checkForUnusualLineTerminators())})),this._register(this._editor.onDidChangeModel(()=>{this._checkForUnusualLineTerminators()})),this._register(this._editor.onDidChangeModelContent(o=>{o.isUndoing||this._checkForUnusualLineTerminators()})),this._checkForUnusualLineTerminators()}_checkForUnusualLineTerminators(){return k(this,null,function*(){if(this._config==="off"||!this._editor.hasModel())return;let t=this._editor.getModel();if(!t.mightContainUnusualLineTerminators()||pxe(this._codeEditorService,t)===!0||this._editor.getOption(92))return;if(this._config==="auto"){t.removeUnusualLineTerminators(this._editor.getSelections());return}if(this._isPresentingDialog)return;let i;try{this._isPresentingDialog=!0,i=yield this._dialogService.confirm({title:_("unusualLineTerminators.title","Unusual Line Terminators"),message:_("unusualLineTerminators.message","Detected unusual line terminators"),detail:_("unusualLineTerminators.detail","The file '{0}' contains one or more unusual line terminator characters, like Line Separator (LS) or Paragraph Separator (PS).\n\nIt is recommended to remove them from the file. This can be configured via `editor.unusualLineTerminators`.",fr(t.uri)),primaryButton:_({key:"unusualLineTerminators.fix",comment:["&& denotes a mnemonic"]},"&&Remove Unusual Line Terminators"),cancelButton:_("unusualLineTerminators.ignore","Ignore")})}finally{this._isPresentingDialog=!1}if(!i.confirmed){mxe(this._codeEditorService,t,!0);return}t.removeUnusualLineTerminators(this._editor.getSelections())})}};Y1=hxe([q9(1,hp),q9(2,Xt)],Y1);Me(Y1.ID,Y1,1);Ae();Ht();gi();Bt();ce();tt();Fo();qe();$t();ka();Lt();mt();oh();uc();Ur();lce();Lt();gn();ce();uc();var fxe=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},gxe=function(n,t){return function(e,i){t(e,i,n)}},X1=class{constructor(){this.selector={language:"*"}}provideDocumentHighlights(t,e,i){let o=[],r=t.getWordAtPosition({lineNumber:e.lineNumber,column:e.column});return r?t.isDisposed()?void 0:t.findMatches(r.word,!0,!1,!0,$T,!1).map(a=>({range:a.range,kind:np.Text})):Promise.resolve(o)}provideMultiDocumentHighlights(t,e,i,o){let r=new Ea,s=t.getWordAtPosition({lineNumber:e.lineNumber,column:e.column});if(!s)return Promise.resolve(r);for(let a of[t,...i]){if(a.isDisposed())continue;let c=a.findMatches(s.word,!0,!1,!0,$T,!1).map(d=>({range:d.range,kind:np.Text}));c&&r.set(a.uri,c)}return r}},Z1=class extends U{constructor(t){super(),this._register(t.documentHighlightProvider.register("*",new X1)),this._register(t.multiDocumentHighlightProvider.register("*",new X1))}};Z1=fxe([gxe(0,ae)],Z1);var $9=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},Q1=function(n,t){return function(e,i){t(e,i,n)}},Zi,oB,uB=new ot("hasWordHighlights",!1);function K9(n,t,e,i){let o=n.ordered(t);return B_(o.map(r=>()=>Promise.resolve(r.provideDocumentHighlights(t,e,i)).then(void 0,zt)),r=>r!=null).then(r=>{if(r){let s=new Ea;return s.set(t.uri,r),s}return new Ea})}function _xe(n,t,e,i,o,r){let s=n.ordered(t);return B_(s.map(a=>()=>{let l=r.filter(c=>n4(c)).filter(c=>p4(a.selector,c.uri,c.getLanguageId(),!0,void 0,void 0)>0);return Promise.resolve(a.provideMultiDocumentHighlights(t,e,l,o)).then(void 0,zt)}),a=>a!=null)}var J1=class{constructor(t,e,i){this._model=t,this._selection=e,this._wordSeparators=i,this._wordRange=this._getCurrentWordRange(t,e),this._result=null}get result(){return this._result||(this._result=yi(t=>this._compute(this._model,this._selection,this._wordSeparators,t))),this._result}_getCurrentWordRange(t,e){let i=t.getWordAtPosition(e.getPosition());return i?new A(e.startLineNumber,i.startColumn,e.startLineNumber,i.endColumn):null}isValid(t,e,i){let o=e.startLineNumber,r=e.startColumn,s=e.endColumn,a=this._getCurrentWordRange(t,e),l=!!(this._wordRange&&this._wordRange.equalsRange(a));for(let c=0,d=i.length;!l&&c<d;c++){let u=i.getRange(c);u&&u.startLineNumber===o&&u.startColumn<=r&&u.endColumn>=s&&(l=!0)}return l}cancel(){this.result.cancel()}},rB=class extends J1{constructor(t,e,i,o){super(t,e,i),this._providers=o}_compute(t,e,i,o){return K9(this._providers,t,e.getPosition(),o).then(r=>r||new Ea)}},sB=class extends J1{constructor(t,e,i,o,r){super(t,e,i),this._providers=o,this._otherModels=r}_compute(t,e,i,o){return _xe(this._providers,t,e.getPosition(),i,o,this._otherModels).then(r=>r||new Ea)}};function vxe(n,t,e,i,o){return new rB(t,e,o,n)}function bxe(n,t,e,i,o,r){return new sB(t,e,o,n,r)}oo("_executeDocumentHighlights",(n,t,e)=>k(void 0,null,function*(){let i=n.get(ae);return(yield K9(i.documentHighlightProvider,t,e,Je.None))?.get(t.uri)}));var aB=class{static{Zi=this}static{this.storedDecorationIDs=new Ea}static{this.query=null}constructor(t,e,i,o,r){this.toUnhook=new G,this.workerRequestTokenId=0,this.workerRequestCompleted=!1,this.workerRequestValue=new Ea,this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1,this.runDelayer=this.toUnhook.add(new Ir(50)),this.editor=t,this.providers=e,this.multiDocumentProviders=i,this.codeEditorService=r,this._hasWordHighlights=uB.bindTo(o),this._ignorePositionChangeEvent=!1,this.occurrencesHighlight=this.editor.getOption(81),this.model=this.editor.getModel(),this.toUnhook.add(t.onDidChangeCursorPosition(s=>{this._ignorePositionChangeEvent||this.occurrencesHighlight!=="off"&&this.runDelayer.trigger(()=>{this._onPositionChanged(s)})})),this.toUnhook.add(t.onDidFocusEditorText(s=>{this.occurrencesHighlight!=="off"&&(this.workerRequest||this.runDelayer.trigger(()=>{this._run()}))})),this.toUnhook.add(t.onDidChangeModelContent(s=>{Tj(this.model.uri,"output")||this._stopAll()})),this.toUnhook.add(t.onDidChangeModel(s=>{!s.newModelUrl&&s.oldModelUrl?this._stopSingular():Zi.query&&this._run()})),this.toUnhook.add(t.onDidChangeConfiguration(s=>{let a=this.editor.getOption(81);if(this.occurrencesHighlight!==a)switch(this.occurrencesHighlight=a,a){case"off":this._stopAll();break;case"singleFile":this._stopAll(Zi.query?.modelInfo?.model);break;case"multiFile":Zi.query&&this._run(!0);break;default:console.warn("Unknown occurrencesHighlight setting value:",a);break}})),this.decorations=this.editor.createDecorationsCollection(),this.workerRequestTokenId=0,this.workerRequest=null,this.workerRequestCompleted=!1,this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1,Zi.query&&this._run()}hasDecorations(){return this.decorations.length>0}restore(){this.occurrencesHighlight!=="off"&&(this.runDelayer.cancel(),this._run())}_getSortedHighlights(){return this.decorations.getRanges().sort(A.compareRangesUsingStarts)}moveNext(){let t=this._getSortedHighlights(),i=(t.findIndex(r=>r.containsPosition(this.editor.getPosition()))+1)%t.length,o=t[i];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(o.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(o);let r=this._getWord();if(r){let s=this.editor.getModel().getLineContent(o.startLineNumber);$n(`${s}, ${i+1} of ${t.length} for '${r.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}moveBack(){let t=this._getSortedHighlights(),i=(t.findIndex(r=>r.containsPosition(this.editor.getPosition()))-1+t.length)%t.length,o=t[i];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(o.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(o);let r=this._getWord();if(r){let s=this.editor.getModel().getLineContent(o.startLineNumber);$n(`${s}, ${i+1} of ${t.length} for '${r.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}_removeSingleDecorations(){if(!this.editor.hasModel())return;let t=Zi.storedDecorationIDs.get(this.editor.getModel().uri);t&&(this.editor.removeDecorations(t),Zi.storedDecorationIDs.delete(this.editor.getModel().uri),this.decorations.length>0&&(this.decorations.clear(),this._hasWordHighlights.set(!1)))}_removeAllDecorations(t){let e=this.codeEditorService.listCodeEditors(),i=[];for(let o of e){if(!o.hasModel()||mh(o.getModel().uri,t?.uri))continue;let r=Zi.storedDecorationIDs.get(o.getModel().uri);if(!r)continue;o.removeDecorations(r),i.push(o.getModel().uri);let s=yu.get(o);s?.wordHighlighter&&s.wordHighlighter.decorations.length>0&&(s.wordHighlighter.decorations.clear(),s.wordHighlighter.workerRequest=null,s.wordHighlighter._hasWordHighlights.set(!1))}for(let o of i)Zi.storedDecorationIDs.delete(o)}_stopSingular(){this._removeSingleDecorations(),this.editor.hasTextFocus()&&(this.editor.getModel()?.uri.scheme!==Ln.vscodeNotebookCell&&Zi.query?.modelInfo?.model.uri.scheme!==Ln.vscodeNotebookCell?(Zi.query=null,this._run()):Zi.query?.modelInfo&&(Zi.query.modelInfo=null)),this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1),this.workerRequest!==null&&(this.workerRequest.cancel(),this.workerRequest=null),this.workerRequestCompleted||(this.workerRequestTokenId++,this.workerRequestCompleted=!0)}_stopAll(t){this._removeAllDecorations(t),this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1),this.workerRequest!==null&&(this.workerRequest.cancel(),this.workerRequest=null),this.workerRequestCompleted||(this.workerRequestTokenId++,this.workerRequestCompleted=!0)}_onPositionChanged(t){if(this.occurrencesHighlight==="off"){this._stopAll();return}if(t.reason!==3&&this.editor.getModel()?.uri.scheme!==Ln.vscodeNotebookCell){this._stopAll();return}this._run()}_getWord(){let t=this.editor.getSelection(),e=t.startLineNumber,i=t.startColumn;return this.model.isDisposed()?null:this.model.getWordAtPosition({lineNumber:e,column:i})}getOtherModelsToHighlight(t){if(!t)return[];if(t.uri.scheme===Ln.vscodeNotebookCell){let r=[],s=this.codeEditorService.listCodeEditors();for(let a of s){let l=a.getModel();l&&l!==t&&l.uri.scheme===Ln.vscodeNotebookCell&&r.push(l)}return r}let i=[],o=this.codeEditorService.listCodeEditors();for(let r of o){if(!Kw(r))continue;let s=r.getModel();s&&t===s.modified&&i.push(s.modified)}if(i.length)return i;if(this.occurrencesHighlight==="singleFile")return[];for(let r of o){let s=r.getModel();s&&s!==t&&i.push(s)}return i}_run(t){let e;if(this.editor.hasTextFocus()){let o=this.editor.getSelection();if(!o||o.startLineNumber!==o.endLineNumber){Zi.query=null,this._stopAll();return}let r=o.startColumn,s=o.endColumn,a=this._getWord();if(!a||a.startColumn>r||a.endColumn<s){Zi.query=null,this._stopAll();return}e=this.workerRequest&&this.workerRequest.isValid(this.model,o,this.decorations),Zi.query={modelInfo:{model:this.model,selection:o},word:a}}else if(!Zi.query){this._stopAll();return}if(this.lastCursorPositionChangeTime=new Date().getTime(),e)this.workerRequestCompleted&&this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1,this._beginRenderDecorations());else if(mh(this.editor.getModel().uri,Zi.query.modelInfo?.model.uri)){if(!t){let s=this.decorations.getRanges();for(let a of s)if(a.containsPosition(this.editor.getPosition()))return}this._stopAll(t?this.model:void 0);let o=++this.workerRequestTokenId;this.workerRequestCompleted=!1;let r=this.getOtherModelsToHighlight(this.editor.getModel());if(!Zi.query||!Zi.query.modelInfo||Zi.query.modelInfo.model.isDisposed())return;this.workerRequest=this.computeWithModel(Zi.query.modelInfo.model,Zi.query.modelInfo.selection,Zi.query.word,r),this.workerRequest?.result.then(s=>{o===this.workerRequestTokenId&&(this.workerRequestCompleted=!0,this.workerRequestValue=s||[],this._beginRenderDecorations())},ut)}}computeWithModel(t,e,i,o){return o.length?bxe(this.multiDocumentProviders,t,e,i,this.editor.getOption(132),o):vxe(this.providers,t,e,i,this.editor.getOption(132))}_beginRenderDecorations(){let t=new Date().getTime(),e=this.lastCursorPositionChangeTime+250;t>=e?(this.renderDecorationsTimer=-1,this.renderDecorations()):this.renderDecorationsTimer=setTimeout(()=>{this.renderDecorations()},e-t)}renderDecorations(){this.renderDecorationsTimer=-1;let t=this.codeEditorService.listCodeEditors();for(let e of t){let i=yu.get(e);if(!i)continue;let o=[],r=e.getModel()?.uri;if(r&&this.workerRequestValue.has(r)){let s=Zi.storedDecorationIDs.get(r),a=this.workerRequestValue.get(r);if(a)for(let c of a)c.range&&o.push({range:c.range,options:c9(c.kind)});let l=[];e.changeDecorations(c=>{l=c.deltaDecorations(s??[],o)}),Zi.storedDecorationIDs=Zi.storedDecorationIDs.set(r,l),o.length>0&&(i.wordHighlighter?.decorations.set(o),i.wordHighlighter?._hasWordHighlights.set(!0))}}}dispose(){this._stopSingular(),this.toUnhook.dispose()}};aB=Zi=$9([Q1(4,Xt)],aB);var yu=class extends U{static{oB=this}static{this.ID="editor.contrib.wordHighlighter"}static get(e){return e.getContribution(oB.ID)}constructor(e,i,o,r){super(),this._wordHighlighter=null;let s=()=>{e.hasModel()&&!e.getModel().isTooLargeForTokenization()&&(this._wordHighlighter=new aB(e,o.documentHighlightProvider,o.multiDocumentHighlightProvider,i,r))};this._register(e.onDidChangeModel(a=>{this._wordHighlighter&&(this._wordHighlighter.dispose(),this._wordHighlighter=null),s()})),s()}get wordHighlighter(){return this._wordHighlighter}saveViewState(){return!!(this._wordHighlighter&&this._wordHighlighter.hasDecorations())}moveNext(){this._wordHighlighter?.moveNext()}moveBack(){this._wordHighlighter?.moveBack()}restoreViewState(e){this._wordHighlighter&&e&&this._wordHighlighter.restore()}dispose(){this._wordHighlighter&&(this._wordHighlighter.dispose(),this._wordHighlighter=null),super.dispose()}};yu=oB=$9([Q1(1,Xe),Q1(2,ae),Q1(3,Xt)],yu);var ek=class extends Z{constructor(t,e){super(e),this._isNext=t}run(t,e){let i=yu.get(e);i&&(this._isNext?i.moveNext():i.moveBack())}},lB=class extends ek{constructor(){super(!0,{id:"editor.action.wordHighlight.next",label:_("wordHighlight.next.label","Go to Next Symbol Highlight"),alias:"Go to Next Symbol Highlight",precondition:uB,kbOpts:{kbExpr:M.editorTextFocus,primary:65,weight:100}})}},cB=class extends ek{constructor(){super(!1,{id:"editor.action.wordHighlight.prev",label:_("wordHighlight.previous.label","Go to Previous Symbol Highlight"),alias:"Go to Previous Symbol Highlight",precondition:uB,kbOpts:{kbExpr:M.editorTextFocus,primary:1089,weight:100}})}},dB=class extends Z{constructor(){super({id:"editor.action.wordHighlight.trigger",label:_("wordHighlight.trigger.label","Trigger Symbol Highlight"),alias:"Trigger Symbol Highlight",precondition:void 0,kbOpts:{kbExpr:M.editorTextFocus,primary:0,weight:100}})}run(t,e,i){let o=yu.get(e);o&&o.restoreViewState(!0)}};Me(yu.ID,yu,0);V(lB);V(cB);V(dB);Ws(Z1);tt();gce();hi();qe();Pn();$t();Jo();Ae();mt();var bm=class extends Ki{constructor(t){super(t),this._inSelectionMode=t.inSelectionMode,this._wordNavigationType=t.wordNavigationType}runEditorCommand(t,e,i){if(!e.hasModel())return;let o=gd(e.getOption(132),e.getOption(131)),r=e.getModel(),s=e.getSelections(),a=s.length>1,l=s.map(c=>{let d=new he(c.positionLineNumber,c.positionColumn),u=this._move(o,r,d,this._wordNavigationType,a);return this._moveTo(c,u,this._inSelectionMode)});if(r.pushStackElement(),e._getViewModel().setCursorStates("moveWordCommand",3,l.map(c=>vU.fromModelSelection(c))),l.length===1){let c=new he(l[0].positionLineNumber,l[0].positionColumn);e.revealPosition(c,0)}}_moveTo(t,e,i){return i?new ze(t.selectionStartLineNumber,t.selectionStartColumn,e.lineNumber,e.column):new ze(e.lineNumber,e.column,e.lineNumber,e.column)}},Wl=class extends bm{_move(t,e,i,o,r){return Ep.moveWordLeft(t,e,i,o,r)}},jl=class extends bm{_move(t,e,i,o,r){return Ep.moveWordRight(t,e,i,o)}},hB=class extends Wl{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartLeft",precondition:void 0})}},mB=class extends Wl{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndLeft",precondition:void 0})}},pB=class extends Wl{constructor(){super({inSelectionMode:!1,wordNavigationType:1,id:"cursorWordLeft",precondition:void 0,kbOpts:{kbExpr:K.and(M.textInputFocus,K.and(Y_,iv)?.negate()),primary:2063,mac:{primary:527},weight:100}})}},fB=class extends Wl{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartLeftSelect",precondition:void 0})}},gB=class extends Wl{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndLeftSelect",precondition:void 0})}},_B=class extends Wl{constructor(){super({inSelectionMode:!0,wordNavigationType:1,id:"cursorWordLeftSelect",precondition:void 0,kbOpts:{kbExpr:K.and(M.textInputFocus,K.and(Y_,iv)?.negate()),primary:3087,mac:{primary:1551},weight:100}})}},vB=class extends Wl{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityLeft",precondition:void 0})}_move(t,e,i,o,r){return super._move(gd(R_.wordSeparators.defaultValue,t.intlSegmenterLocales),e,i,o,r)}},bB=class extends Wl{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityLeftSelect",precondition:void 0})}_move(t,e,i,o,r){return super._move(gd(R_.wordSeparators.defaultValue,t.intlSegmenterLocales),e,i,o,r)}},yB=class extends jl{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartRight",precondition:void 0})}},xB=class extends jl{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndRight",precondition:void 0,kbOpts:{kbExpr:K.and(M.textInputFocus,K.and(Y_,iv)?.negate()),primary:2065,mac:{primary:529},weight:100}})}},wB=class extends jl{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordRight",precondition:void 0})}},CB=class extends jl{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartRightSelect",precondition:void 0})}},SB=class extends jl{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndRightSelect",precondition:void 0,kbOpts:{kbExpr:K.and(M.textInputFocus,K.and(Y_,iv)?.negate()),primary:3089,mac:{primary:1553},weight:100}})}},IB=class extends jl{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordRightSelect",precondition:void 0})}},DB=class extends jl{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityRight",precondition:void 0})}_move(t,e,i,o,r){return super._move(gd(R_.wordSeparators.defaultValue,t.intlSegmenterLocales),e,i,o,r)}},EB=class extends jl{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityRightSelect",precondition:void 0})}_move(t,e,i,o,r){return super._move(gd(R_.wordSeparators.defaultValue,t.intlSegmenterLocales),e,i,o,r)}},ym=class extends Ki{constructor(t){super(t),this._whitespaceHeuristics=t.whitespaceHeuristics,this._wordNavigationType=t.wordNavigationType}runEditorCommand(t,e,i){let o=t.get(_i);if(!e.hasModel())return;let r=gd(e.getOption(132),e.getOption(131)),s=e.getModel(),a=e.getSelections(),l=e.getOption(6),c=e.getOption(11),d=o.getLanguageConfiguration(s.getLanguageId()).getAutoClosingPairs(),u=e._getViewModel(),h=a.map(m=>{let f=this._delete({wordSeparators:r,model:s,selection:m,whitespaceHeuristics:this._whitespaceHeuristics,autoClosingDelete:e.getOption(9),autoClosingBrackets:l,autoClosingQuotes:c,autoClosingPairs:d,autoClosedCharacters:u.getCursorAutoClosedCharacters()},this._wordNavigationType);return new Cc(f,"")});e.pushUndoStop(),e.executeCommands(this.id,h),e.pushUndoStop()}},Wy=class extends ym{_delete(t,e){let i=Ep.deleteWordLeft(t,e);return i||new A(1,1,1,1)}},jy=class extends ym{_delete(t,e){let i=Ep.deleteWordRight(t,e);if(i)return i;let o=t.model.getLineCount(),r=t.model.getLineMaxColumn(o);return new A(o,r,o,r)}},kB=class extends Wy{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartLeft",precondition:M.writable})}},MB=class extends Wy{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndLeft",precondition:M.writable})}},TB=class extends Wy{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordLeft",precondition:M.writable,kbOpts:{kbExpr:M.textInputFocus,primary:2049,mac:{primary:513},weight:100}})}},AB=class extends jy{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartRight",precondition:M.writable})}},RB=class extends jy{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndRight",precondition:M.writable})}},OB=class extends jy{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordRight",precondition:M.writable,kbOpts:{kbExpr:M.textInputFocus,primary:2068,mac:{primary:532},weight:100}})}},PB=class extends Z{constructor(){super({id:"deleteInsideWord",precondition:M.writable,label:_("deleteInsideWord","Delete Word"),alias:"Delete Word"})}run(t,e,i){if(!e.hasModel())return;let o=gd(e.getOption(132),e.getOption(131)),r=e.getModel(),a=e.getSelections().map(l=>{let c=Ep.deleteInsideWord(o,r,l);return new Cc(c,"")});e.pushUndoStop(),e.executeCommands(this.id,a),e.pushUndoStop()}};Ne(new hB);Ne(new mB);Ne(new pB);Ne(new fB);Ne(new gB);Ne(new _B);Ne(new yB);Ne(new xB);Ne(new wB);Ne(new CB);Ne(new SB);Ne(new IB);Ne(new vB);Ne(new bB);Ne(new DB);Ne(new EB);Ne(new kB);Ne(new MB);Ne(new TB);Ne(new AB);Ne(new RB);Ne(new OB);V(PB);tt();qe();$t();Ui();var LB=class extends ym{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordPartLeft",precondition:M.writable,kbOpts:{kbExpr:M.textInputFocus,primary:0,mac:{primary:769},weight:100}})}_delete(t,e){let i=nv.deleteWordPartLeft(t);return i||new A(1,1,1,1)}},NB=class extends ym{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordPartRight",precondition:M.writable,kbOpts:{kbExpr:M.textInputFocus,primary:0,mac:{primary:788},weight:100}})}_delete(t,e){let i=nv.deleteWordPartRight(t);if(i)return i;let o=t.model.getLineCount(),r=t.model.getLineMaxColumn(o);return new A(o,r,o,r)}},tk=class extends bm{_move(t,e,i,o,r){return nv.moveWordPartLeft(t,e,i,r)}},FB=class extends tk{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordPartLeft",precondition:void 0,kbOpts:{kbExpr:M.textInputFocus,primary:0,mac:{primary:783},weight:100}})}};Pt.registerCommandAlias("cursorWordPartStartLeft","cursorWordPartLeft");var zB=class extends tk{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordPartLeftSelect",precondition:void 0,kbOpts:{kbExpr:M.textInputFocus,primary:0,mac:{primary:1807},weight:100}})}};Pt.registerCommandAlias("cursorWordPartStartLeftSelect","cursorWordPartLeftSelect");var ik=class extends bm{_move(t,e,i,o,r){return nv.moveWordPartRight(t,e,i)}},BB=class extends ik{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordPartRight",precondition:void 0,kbOpts:{kbExpr:M.textInputFocus,primary:0,mac:{primary:785},weight:100}})}},HB=class extends ik{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordPartRightSelect",precondition:void 0,kbOpts:{kbExpr:M.textInputFocus,primary:0,mac:{primary:1809},weight:100}})}};Ne(new LB);Ne(new NB);Ne(new FB);Ne(new zB);Ne(new BB);Ne(new HB);Hs();ce();tt();Ae();var Y9=(()=>{class n extends U{static{this.ID="editor.contrib.readOnlyMessageController"}constructor(e){super(),this.editor=e,this._register(this.editor.onDidAttemptReadOnlyEdit(()=>this._onDidAttemptReadOnlyEdit()))}_onDidAttemptReadOnlyEdit(){let e=bo.get(this.editor);if(e&&this.editor.hasModel()){let i=this.editor.getOptions().get(93);i||(this.editor.isSimpleWidget?i=new hn(_("editor.simple.readonly","Cannot edit in read-only input")):i=new hn(_("editor.readonly","Cannot edit in read-only editor"))),e.showMessage(i,this.editor.getPosition())}}}return n})();Me(Y9.ID,Y9,2);var x5t=jm(Z9());ph();gt();ce();tt();Yo();var Q9=(()=>{class n extends U{static{this.ID="editor.contrib.iPadShowKeyboard"}constructor(e){super(),this.editor=e,this.widget=null,T_&&(this._register(e.onDidChangeConfiguration(()=>this.update())),this.update())}update(){let e=!this.editor.getOption(92);!this.widget&&e?this.widget=new xxe(this.editor):this.widget&&!e&&(this.widget.dispose(),this.widget=null)}dispose(){super.dispose(),this.widget&&(this.widget.dispose(),this.widget=null)}}return n})(),xxe=(()=>{class n extends U{static{this.ID="editor.contrib.ShowKeyboardWidget"}constructor(e){super(),this.editor=e,this._domNode=document.createElement("textarea"),this._domNode.className="iPadShowKeyboard",this._register(Ct(this._domNode,"touchstart",i=>{this.editor.focus()})),this._register(Ct(this._domNode,"focus",i=>{this.editor.focus()})),this.editor.addOverlayWidget(this)}dispose(){this.editor.removeOverlayWidget(this),super.dispose()}getId(){return n.ID}getDomNode(){return this._domNode}getPosition(){return{preference:1}}}return n})();Me(Q9.ID,Q9,3);var C8t=jm(t7());lc();ph();Ae();lc();ce();var Dxe=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},i7=function(n,t){return function(e,i){t(e,i,n)}},$y,nk=class{static{$y=this}static{this.PREFIX="?"}constructor(e,i){this.quickInputService=e,this.keybindingService=i,this.registry=go.as(_l.Quickaccess)}provide(e){let i=new G;return i.add(e.onDidAccept(()=>{let[o]=e.selectedItems;o&&this.quickInputService.quickAccess.show(o.prefix,{preserveValue:!0})})),i.add(e.onDidChangeValue(o=>{let r=this.registry.getQuickAccessProvider(o.substr($y.PREFIX.length));r&&r.prefix&&r.prefix!==$y.PREFIX&&this.quickInputService.quickAccess.show(r.prefix,{preserveValue:!0})})),e.items=this.getQuickAccessProviders().filter(o=>o.prefix!==$y.PREFIX),i}getQuickAccessProviders(){return this.registry.getQuickAccessProviders().sort((i,o)=>i.prefix.localeCompare(o.prefix)).flatMap(i=>this.createPicks(i))}createPicks(e){return e.helpEntries.map(i=>{let o=i.prefix||e.prefix,r=o||"\u2026";return{prefix:o,label:r,keybinding:i.commandId?this.keybindingService.lookupKeybinding(i.commandId):void 0,ariaLabel:_("helpPickAriaLabel","{0}, {1}",r,i.description),description:i.description}})}};nk=$y=Dxe([i7(0,Bo),i7(1,Vt)],nk);go.as(_l.Quickaccess).registerQuickAccessProvider({ctor:nk,prefix:"",helpEntries:[{description:E5.helpQuickAccessActionLabel}]});ce();rj();ce();ka();TA();Do();var Ag=class{constructor(t){this.options=t,this.rangeHighlightDecorationId=void 0}provide(t,e,i){let o=new G;t.canAcceptInBackground=!!this.options?.canAcceptInBackground,t.matchOnLabel=t.matchOnDescription=t.matchOnDetail=t.sortByLabel=!1;let r=o.add(new dn);return r.value=this.doProvide(t,e,i),o.add(this.onDidActiveTextEditorControlChange(()=>{r.value=void 0,r.value=this.doProvide(t,e)})),o}doProvide(t,e,i){let o=new G,r=this.activeTextEditorControl;if(r&&this.canProvideWithTextEditor(r)){let s={editor:r},a=Yw(r);if(a){let l=r.saveViewState()??void 0;o.add(a.onDidChangeCursorPosition(()=>{l=r.saveViewState()??void 0})),s.restoreViewState=()=>{l&&r===this.activeTextEditorControl&&r.restoreViewState(l)},o.add(Rx(e.onCancellationRequested)(()=>s.restoreViewState?.()))}o.add(Mt(()=>this.clearDecorations(r))),o.add(this.provideWithTextEditor(s,t,e,i))}else o.add(this.provideWithoutTextEditor(t,e));return o}canProvideWithTextEditor(t){return!0}gotoLocation({editor:t},e){t.setSelection(e.range,"code.jump"),t.revealRangeInCenter(e.range,0),e.preserveFocus||t.focus();let i=t.getModel();i&&"getLineContent"in i&&Ta(`${i.getLineContent(e.range.startLineNumber)}`)}getModel(t){return Kw(t)?t.getModel()?.modified:t.getModel()}addDecorations(t,e){t.changeDecorations(i=>{let o=[];this.rangeHighlightDecorationId&&(o.push(this.rangeHighlightDecorationId.overviewRulerDecorationId),o.push(this.rangeHighlightDecorationId.rangeHighlightId),this.rangeHighlightDecorationId=void 0);let r=[{range:e,options:{description:"quick-access-range-highlight",className:"rangeHighlight",isWholeLine:!0}},{range:e,options:{description:"quick-access-range-highlight-overview",overviewRuler:{color:zi(Sw),position:Mr.Full}}}],[s,a]=i.deltaDecorations(o,r);this.rangeHighlightDecorationId={rangeHighlightId:s,overviewRulerDecorationId:a}})}clearDecorations(t){let e=this.rangeHighlightDecorationId;e&&(t.changeDecorations(i=>{i.deltaDecorations([e.overviewRulerDecorationId,e.rangeHighlightId],[])}),this.rangeHighlightDecorationId=void 0)}};Ae();var n7=(()=>{class n extends Ag{static{this.PREFIX=":"}constructor(){super({canAcceptInBackground:!0})}provideWithoutTextEditor(e){let i=_("cannotRunGotoLine","Open a text editor first to go to a line.");return e.items=[{label:i}],e.ariaLabel=i,U.None}provideWithTextEditor(e,i,o){let r=e.editor,s=new G;s.add(i.onDidAccept(c=>{let[d]=i.selectedItems;if(d){if(!this.isValidLineNumber(r,d.lineNumber))return;this.gotoLocation(e,{range:this.toRange(d.lineNumber,d.column),keyMods:i.keyMods,preserveFocus:c.inBackground}),c.inBackground||i.hide()}}));let a=()=>{let c=this.parsePosition(r,i.value.trim().substr(n.PREFIX.length)),d=this.getPickLabel(r,c.lineNumber,c.column);if(i.items=[{lineNumber:c.lineNumber,column:c.column,label:d}],i.ariaLabel=d,!this.isValidLineNumber(r,c.lineNumber)){this.clearDecorations(r);return}let u=this.toRange(c.lineNumber,c.column);r.revealRangeInCenter(u,0),this.addDecorations(r,u)};a(),s.add(i.onDidChangeValue(()=>a()));let l=Yw(r);return l&&l.getOptions().get(68).renderType===2&&(l.updateOptions({lineNumbers:"on"}),s.add(Mt(()=>l.updateOptions({lineNumbers:"relative"})))),s}toRange(e=1,i=1){return{startLineNumber:e,startColumn:i,endLineNumber:e,endColumn:i}}parsePosition(e,i){let o=i.split(/,|:|#/).map(s=>parseInt(s,10)).filter(s=>!isNaN(s)),r=this.lineCount(e)+1;return{lineNumber:o[0]>0?o[0]:r+o[0],column:o[1]}}getPickLabel(e,i,o){if(this.isValidLineNumber(e,i))return this.isValidColumn(e,i,o)?_("gotoLineColumnLabel","Go to line {0} and character {1}.",i,o):_("gotoLineLabel","Go to line {0}.",i);let r=e.getPosition()||{lineNumber:1,column:1},s=this.lineCount(e);return s>1?_("gotoLineLabelEmptyWithLimit","Current Line: {0}, Character: {1}. Type a line number between 1 and {2} to navigate to.",r.lineNumber,r.column,s):_("gotoLineLabelEmpty","Current Line: {0}, Character: {1}. Type a line number to navigate to.",r.lineNumber,r.column)}isValidLineNumber(e,i){return!i||typeof i!="number"?!1:i>0&&i<=this.lineCount(e)}isValidColumn(e,i,o){if(!o||typeof o!="number")return!1;let r=this.getModel(e);if(!r)return!1;let s={lineNumber:i,column:o};return r.validatePosition(s).equals(s)}lineCount(e){return this.getModel(e)?.getLineCount()??0}}return n})();lc();Fo();ph();oi();tt();$t();var Exe=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},kxe=function(n,t){return function(e,i){t(e,i,n)}},Ky=class extends n7{constructor(t){super(),this.editorService=t,this.onDidActiveTextEditorControlChange=bi.None}get activeTextEditorControl(){return this.editorService.getFocusedCodeEditor()??void 0}};Ky=Exe([kxe(0,Xt)],Ky);var o7=(()=>{class n extends Z{static{this.ID="editor.action.gotoLine"}constructor(){super({id:n.ID,label:IA.gotoLineActionLabel,alias:"Go to Line/Column...",precondition:void 0,kbOpts:{kbExpr:M.focus,primary:2085,mac:{primary:293},weight:100}})}run(e){e.get(Bo).quickAccess.show(Ky.PREFIX)}}return n})();V(o7);go.as(_l.Quickaccess).registerQuickAccessProvider({ctor:Ky,prefix:Ky.PREFIX,helpEntries:[{description:IA.gotoLineActionLabel,commandId:o7.ID}]});Ht();gi();Vn();Zo();_c();lj();Yo();Fi();var a7=[void 0,[]];function rk(n,t,e=0,i=0){let o=t;return o.values&&o.values.length>1?Mxe(n,o.values,e,i):l7(n,t,e,i)}function Mxe(n,t,e,i){let o=0,r=[];for(let s of t){let[a,l]=l7(n,s,e,i);if(typeof a!="number")return a7;o+=a,r.push(...l)}return[o,Txe(r)]}function l7(n,t,e,i){let o=uw(t.original,t.originalLowercase,e,n,n.toLowerCase(),i,{firstMatchCanBeWeak:!0,boostFullMatch:!0});return o?[o[0],hh(o)]:a7}var RUt=Object.freeze({score:0});function Txe(n){let t=n.sort((o,r)=>o.start-r.start),e=[],i;for(let o of t)!i||!Axe(i,o)?(i=o,e.push(o)):(i.start=Math.min(i.start,o.start),i.end=Math.max(i.end,o.end));return e}function Axe(n,t){return!(n.end<t.start||t.end<n.start)}function r7(n){return n.startsWith('"')&&n.endsWith('"')}var c7=" ";function ok(n){typeof n!="string"&&(n="");let t=n.toLowerCase(),{pathNormalized:e,normalized:i,normalizedLowercase:o}=s7(n),r=e.indexOf(Px)>=0,s=r7(n),a,l=n.split(c7);if(l.length>1)for(let c of l){let d=r7(c),{pathNormalized:u,normalized:h,normalizedLowercase:m}=s7(c);h&&(a||(a=[]),a.push({original:c,originalLowercase:c.toLowerCase(),pathNormalized:u,normalized:h,normalizedLowercase:m,expectContiguousMatch:d}))}return{original:n,originalLowercase:t,pathNormalized:e,normalized:i,normalizedLowercase:o,values:a,containsPathSeparator:r,expectContiguousMatch:s}}function s7(n){let t;cd?t=n.replace(/\//g,Px):t=n.replace(/\\/g,Px);let e=vj(t).replace(/\s|"/g,"");return{pathNormalized:t,normalized:e,normalizedLowercase:e.toLowerCase()}}function UB(n){return Array.isArray(n)?ok(n.map(t=>t.original).join(c7)):ok(n.original)}ce();Fi();qe();gn();rg();Ae();Lt();W_();var Rxe=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},d7=function(n,t){return function(e,i){t(e,i,n)}},sk,xu=class extends Ag{static{sk=this}static{this.PREFIX="@"}static{this.SCOPE_PREFIX=":"}static{this.PREFIX_BY_CATEGORY=`${this.PREFIX}${this.SCOPE_PREFIX}`}constructor(t,e,i=Object.create(null)){super(i),this._languageFeaturesService=t,this._outlineModelService=e,this.options=i,this.options.canAcceptInBackground=!0}provideWithoutTextEditor(t){return this.provideLabelPick(t,_("cannotRunGotoSymbolWithoutEditor","To go to a symbol, first open a text editor with symbol information.")),U.None}provideWithTextEditor(t,e,i,o){let r=t.editor,s=this.getModel(r);return s?this._languageFeaturesService.documentSymbolProvider.has(s)?this.doProvideWithEditorSymbols(t,s,e,i,o):this.doProvideWithoutEditorSymbols(t,s,e,i):U.None}doProvideWithoutEditorSymbols(t,e,i,o){let r=new G;return this.provideLabelPick(i,_("cannotRunGotoSymbolWithoutSymbolProvider","The active text editor does not provide symbol information.")),k(this,null,function*(){!(yield this.waitForLanguageSymbolRegistry(e,r))||o.isCancellationRequested||r.add(this.doProvideWithEditorSymbols(t,e,i,o))}),r}provideLabelPick(t,e){t.items=[{label:e,index:0,kind:14}],t.ariaLabel=e}waitForLanguageSymbolRegistry(t,e){return k(this,null,function*(){if(this._languageFeaturesService.documentSymbolProvider.has(t))return!0;let i=new md,o=e.add(this._languageFeaturesService.documentSymbolProvider.onDidChange(()=>{this._languageFeaturesService.documentSymbolProvider.has(t)&&(o.dispose(),i.complete(!0))}));return e.add(Mt(()=>i.complete(!1))),i.p})}doProvideWithEditorSymbols(t,e,i,o,r){let s=t.editor,a=new G;a.add(i.onDidAccept(u=>{let[h]=i.selectedItems;h&&h.range&&(this.gotoLocation(t,{range:h.range.selection,keyMods:i.keyMods,preserveFocus:u.inBackground}),r?.handleAccept?.(h),u.inBackground||i.hide())})),a.add(i.onDidTriggerItemButton(({item:u})=>{u&&u.range&&(this.gotoLocation(t,{range:u.range.selection,keyMods:i.keyMods,forceSideBySide:!0}),i.hide())}));let l=this.getDocumentSymbols(e,o),c,d=u=>k(this,null,function*(){c?.dispose(!0),i.busy=!1,c=new fi(o),i.busy=!0;try{let h=ok(i.value.substr(sk.PREFIX.length).trim()),m=yield this.doGetSymbolPicks(l,h,void 0,c.token,e);if(o.isCancellationRequested)return;if(m.length>0){if(i.items=m,u&&h.original.length===0){let f=r4(m,p=>!!(p.type!=="separator"&&p.range&&A.containsPosition(p.range.decoration,u)));f&&(i.activeItems=[f])}}else h.original.length>0?this.provideLabelPick(i,_("noMatchingSymbolResults","No matching editor symbols")):this.provideLabelPick(i,_("noSymbolResults","No editor symbols"))}finally{o.isCancellationRequested||(i.busy=!1)}});return a.add(i.onDidChangeValue(()=>d(void 0))),d(s.getSelection()?.getPosition()),a.add(i.onDidChangeActive(()=>{let[u]=i.activeItems;u&&u.range&&(s.revealRangeInCenter(u.range.selection,0),this.addDecorations(s,u.range.decoration))})),a}doGetSymbolPicks(t,e,i,o,r){return k(this,null,function*(){let s=yield t;if(o.isCancellationRequested)return[];let a=e.original.indexOf(sk.SCOPE_PREFIX)===0,l=a?1:0,c,d;e.values&&e.values.length>1?(c=UB(e.values[0]),d=UB(e.values.slice(1))):c=e;let u,h=this.options?.openSideBySideDirection?.();h&&(u=[{iconClass:h==="right"?St.asClassName(Ge.splitHorizontal):St.asClassName(Ge.splitVertical),tooltip:h==="right"?_("openToSide","Open to the Side"):_("openToBottom","Open to the Bottom")}]);let m=[];for(let v=0;v<s.length;v++){let b=s[v],C=_j(b.name),T=`$(${hj.toIcon(b.kind).id}) ${C}`,E=T.length-C.length,F=b.containerName;i?.extraContainerLabel&&(F?F=`${i.extraContainerLabel} \u2022 ${F}`:F=i.extraContainerLabel);let L,H,re,R;if(e.original.length>l){let D=!1;if(c!==e&&([L,H]=rk(T,Te(j({},e),{values:void 0}),l,E),typeof L=="number"&&(D=!0)),typeof L!="number"&&([L,H]=rk(T,c,l,E),typeof L!="number"))continue;if(!D&&d){if(F&&d.original.length>0&&([re,R]=rk(F,d)),typeof re!="number")continue;typeof L=="number"&&(L+=re)}}let W=b.tags&&b.tags.indexOf(1)>=0;m.push({index:v,kind:b.kind,score:L,label:T,ariaLabel:uj(b.name,b.kind),description:F,highlights:W?void 0:{label:H,description:R},range:{selection:A.collapseToStart(b.selectionRange),decoration:b.range},uri:r.uri,symbolName:C,strikethrough:W,buttons:u})}let f=m.sort((v,b)=>a?this.compareByKindAndScore(v,b):this.compareByScore(v,b)),p=[];if(a){let T=function(){b&&typeof v=="number"&&C>0&&(b.label=ap(GB[v]||qB,C))};var g=T;let v,b,C=0;for(let E of f)v!==E.kind?(T(),v=E.kind,C=1,b={type:"separator"},p.push(b)):C++,p.push(E);T()}else f.length>0&&(p=[{label:_("symbols","symbols ({0})",m.length),type:"separator"},...f]);return p})}compareByScore(t,e){if(typeof t.score!="number"&&typeof e.score=="number")return 1;if(typeof t.score=="number"&&typeof e.score!="number")return-1;if(typeof t.score=="number"&&typeof e.score=="number"){if(t.score>e.score)return-1;if(t.score<e.score)return 1}return t.index<e.index?-1:t.index>e.index?1:0}compareByKindAndScore(t,e){let i=GB[t.kind]||qB,o=GB[e.kind]||qB,r=i.localeCompare(o);return r===0?this.compareByScore(t,e):r}getDocumentSymbols(t,e){return k(this,null,function*(){let i=yield this._outlineModelService.getOrCreate(t,e);return e.isCancellationRequested?[]:i.asListOfDocumentSymbols()})}};xu=sk=Rxe([d7(0,ae),d7(1,Hc)],xu);var qB=_("property","properties ({0})"),GB={5:_("method","methods ({0})"),11:_("function","functions ({0})"),8:_("_constructor","constructors ({0})"),12:_("variable","variables ({0})"),4:_("class","classes ({0})"),22:_("struct","structs ({0})"),23:_("event","events ({0})"),24:_("operator","operators ({0})"),10:_("interface","interfaces ({0})"),2:_("namespace","namespaces ({0})"),3:_("package","packages ({0})"),25:_("typeParameter","type parameters ({0})"),1:_("modules","modules ({0})"),6:_("property","properties ({0})"),9:_("enum","enumerations ({0})"),21:_("enumMember","enumeration members ({0})"),14:_("string","strings ({0})"),0:_("file","files ({0})"),17:_("array","arrays ({0})"),15:_("number","numbers ({0})"),16:_("boolean","booleans ({0})"),18:_("object","objects ({0})"),19:_("key","keys ({0})"),7:_("field","fields ({0})"),13:_("constant","constants ({0})")};lc();Fo();ph();oi();tt();$t();rg();Lt();var Oxe=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},$B=function(n,t){return function(e,i){t(e,i,n)}},KB=class extends xu{constructor(t,e,i){super(e,i),this.editorService=t,this.onDidActiveTextEditorControlChange=bi.None}get activeTextEditorControl(){return this.editorService.getFocusedCodeEditor()??void 0}};KB=Oxe([$B(0,Xt),$B(1,ae),$B(2,Hc)],KB);var u7=(()=>{class n extends Z{static{this.ID="editor.action.quickOutline"}constructor(){super({id:n.ID,label:hw.quickOutlineActionLabel,alias:"Go to Symbol...",precondition:M.hasDocumentSymbolProvider,kbOpts:{kbExpr:M.focus,primary:3117,weight:100},contextMenuOpts:{group:"navigation",order:3}})}run(e){e.get(Bo).quickAccess.show(xu.PREFIX,{itemActivation:Q5.NONE})}}return n})();V(u7);go.as(_l.Quickaccess).registerQuickAccessProvider({ctor:KB,prefix:xu.PREFIX,helpEntries:[{description:hw.quickOutlineActionLabel,prefix:xu.PREFIX,commandId:u7.ID},{description:hw.quickOutlineByCategoryActionLabel,prefix:xu.PREFIX_BY_CATEGORY}]});lc();ph();Fo();Ice();Bt();_c();rj();ce();uc();function Pxe(n){let t=new Map;for(let e of n)t.set(e,(t.get(e)??0)+1);return t}var ak=class n{constructor(){this.chunkCount=0,this.chunkOccurrences=new Map,this.documents=new Map}calculateScores(t,e){let i=this.computeEmbedding(t),o=new Map,r=[];for(let[s,a]of this.documents){if(e.isCancellationRequested)return[];for(let l of a.chunks){let c=this.computeSimilarityScore(l,i,o);c>0&&r.push({key:s,score:c})}}return r}static termFrequencies(t){return Pxe(n.splitTerms(t))}static*splitTerms(t){let e=i=>i.toLowerCase();for(let[i]of t.matchAll(new RegExp("\\b\\p{Letter}[\\p{Letter}\\d]{2,}\\b","gu"))){yield e(i);let o=i.replace(/([a-z])([A-Z])/g,"$1 $2").split(/\s+/g);if(o.length>1)for(let r of o)r.length>2&&new RegExp("\\p{Letter}{3,}","gu").test(r)&&(yield e(r))}}updateDocuments(t){for(let{key:e}of t)this.deleteDocument(e);for(let e of t){let i=[];for(let o of e.textChunks){let r=n.termFrequencies(o);for(let s of r.keys())this.chunkOccurrences.set(s,(this.chunkOccurrences.get(s)??0)+1);i.push({text:o,tf:r})}this.chunkCount+=i.length,this.documents.set(e.key,{chunks:i})}return this}deleteDocument(t){let e=this.documents.get(t);if(e){this.documents.delete(t),this.chunkCount-=e.chunks.length;for(let i of e.chunks)for(let o of i.tf.keys()){let r=this.chunkOccurrences.get(o);if(typeof r=="number"){let s=r-1;s<=0?this.chunkOccurrences.delete(o):this.chunkOccurrences.set(o,s)}}}}computeSimilarityScore(t,e,i){let o=0;for(let[r,s]of Object.entries(e)){let a=t.tf.get(r);if(!a)continue;let l=i.get(r);typeof l!="number"&&(l=this.computeIdf(r),i.set(r,l));let c=a*l;o+=c*s}return o}computeEmbedding(t){let e=n.termFrequencies(t);return this.computeTfidf(e)}computeIdf(t){let e=this.chunkOccurrences.get(t)??0;return e>0?Math.log((this.chunkCount+1)/e):0}computeTfidf(t){let e=Object.create(null);for(let[i,o]of t){let r=this.computeIdf(i);r>0&&(e[i]=o*r)}return e}};function h7(n){let t=n.slice(0);t.sort((i,o)=>o.score-i.score);let e=t[0]?.score??0;if(e>0)for(let i of t)i.score/=e;return t}Ae();Ui();_n();Ot();dp();Ht();gi();ce();io();var Yy=function(n){return n[n.NO_ACTION=0]="NO_ACTION",n[n.CLOSE_PICKER=1]="CLOSE_PICKER",n[n.REFRESH_PICKER=2]="REFRESH_PICKER",n[n.REMOVE_ITEM=3]="REMOVE_ITEM",n}(Yy||{});function YB(n){let t=n;return Array.isArray(t.items)}function m7(n){let t=n;return!!t.picks&&t.additionalPicks instanceof Promise}var lk=class extends U{constructor(t,e){super(),this.prefix=t,this.options=e}provide(t,e,i){let o=new G;t.canAcceptInBackground=!!this.options?.canAcceptInBackground,t.matchOnLabel=t.matchOnDescription=t.matchOnDetail=t.sortByLabel=!1;let r,s=o.add(new dn),a=()=>k(this,null,function*(){let c=s.value=new G;r?.dispose(!0),t.busy=!1,r=new fi(e);let d=r.token,u=t.value.substring(this.prefix.length);this.options?.shouldSkipTrimPickFilter||(u=u.trim());let h=this._getPicks(u,c,d,i),m=(p,g)=>{let v,b;if(YB(p)?(v=p.items,b=p.active):v=p,v.length===0){if(g)return!1;(u.length>0||t.hideInput)&&this.options?.noResultsPick&&(ZW(this.options.noResultsPick)?v=[this.options.noResultsPick(u)]:v=[this.options.noResultsPick])}return t.items=v,b&&(t.activeItems=[b]),!0},f=p=>k(this,null,function*(){let g=!1,v=!1;yield Promise.all([k(this,null,function*(){typeof p.mergeDelay=="number"&&(yield hd(p.mergeDelay),d.isCancellationRequested)||v||(g=m(p.picks,!0))}),k(this,null,function*(){t.busy=!0;try{let b=yield p.additionalPicks;if(d.isCancellationRequested)return;let C,T;YB(p.picks)?(C=p.picks.items,T=p.picks.active):C=p.picks;let E,F;if(YB(b)?(E=b.items,F=b.active):E=b,E.length>0||!g){let L;if(!T&&!F){let H=t.activeItems[0];H&&C.indexOf(H)!==-1&&(L=H)}m({items:[...C,...E],active:T||F||L})}}finally{d.isCancellationRequested||(t.busy=!1),v=!0}})])});if(h!==null)if(m7(h))yield f(h);else if(!(h instanceof Promise))m(h);else{t.busy=!0;try{let p=yield h;if(d.isCancellationRequested)return;m7(p)?yield f(p):m(p)}finally{d.isCancellationRequested||(t.busy=!1)}}});o.add(t.onDidChangeValue(()=>a())),a(),o.add(t.onDidAccept(c=>{if(i?.handleAccept){c.inBackground||t.hide(),i.handleAccept?.(t.activeItems[0]);return}let[d]=t.selectedItems;typeof d?.accept=="function"&&(c.inBackground||t.hide(),d.accept(t.keyMods,c))}));let l=(c,d)=>k(this,null,function*(){if(typeof d.trigger!="function")return;let u=d.buttons?.indexOf(c)??-1;if(u>=0){let h=d.trigger(u,t.keyMods),m=typeof h=="number"?h:yield h;if(e.isCancellationRequested)return;switch(m){case Yy.NO_ACTION:break;case Yy.CLOSE_PICKER:t.hide();break;case Yy.REFRESH_PICKER:a();break;case Yy.REMOVE_ITEM:{let f=t.items.indexOf(d);if(f!==-1){let p=t.items.slice(),g=p.splice(f,1),v=t.activeItems.filter(C=>C!==g[0]),b=t.keepScrollPosition;t.keepScrollPosition=!0,t.items=p,v&&(t.activeItems=v),t.keepScrollPosition=b}break}}}});return o.add(t.onDidTriggerItemButton(({button:c,item:d})=>l(c,d))),o.add(t.onDidTriggerSeparatorButton(({button:c,separator:d})=>l(c,d))),o}};Ia();var p7=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},wu=function(n,t){return function(e,i){t(e,i,n)}},xm,xn,ck=class extends lk{static{xm=this}static{this.PREFIX=">"}static{this.TFIDF_THRESHOLD=.5}static{this.TFIDF_MAX_RESULTS=5}static{this.WORD_FILTER=Z4(Q4,t5,J4)}constructor(t,e,i,o,r,s){super(xm.PREFIX,t),this.instantiationService=e,this.keybindingService=i,this.commandService=o,this.telemetryService=r,this.dialogService=s,this.commandsHistory=this._register(this.instantiationService.createInstance(XB)),this.options=t}_getPicks(t,e,i,o){return k(this,null,function*(){let r=yield this.getCommandPicks(i);if(i.isCancellationRequested)return[];let s=Rx(()=>{let m=new ak;m.updateDocuments(r.map(p=>({key:p.commandId,textChunks:[this.getTfIdfChunk(p)]})));let f=m.calculateScores(t,i);return h7(f).filter(p=>p.score>xm.TFIDF_THRESHOLD).slice(0,xm.TFIDF_MAX_RESULTS)}),a=[];for(let m of r){let f=xm.WORD_FILTER(t,m.label)??void 0,p=m.commandAlias?xm.WORD_FILTER(t,m.commandAlias)??void 0:void 0;if(f||p)m.highlights={label:f,detail:this.options.showAlias?p:void 0},a.push(m);else if(t===m.commandId)a.push(m);else if(t.length>=3){let g=s();if(i.isCancellationRequested)return[];let v=g.find(b=>b.key===m.commandId);v&&(m.tfIdfScore=v.score,a.push(m))}}let l=new Map;for(let m of a){let f=l.get(m.label);f?(m.description=m.commandId,f.description=f.commandId):l.set(m.label,m)}a.sort((m,f)=>{if(m.tfIdfScore&&f.tfIdfScore)return m.tfIdfScore===f.tfIdfScore?m.label.localeCompare(f.label):f.tfIdfScore-m.tfIdfScore;if(m.tfIdfScore)return 1;if(f.tfIdfScore)return-1;let p=this.commandsHistory.peek(m.commandId),g=this.commandsHistory.peek(f.commandId);if(p&&g)return p>g?-1:1;if(p)return-1;if(g)return 1;if(this.options.suggestedCommandIds){let v=this.options.suggestedCommandIds.has(m.commandId),b=this.options.suggestedCommandIds.has(f.commandId);if(v&&b)return 0;if(v)return-1;if(b)return 1}return m.label.localeCompare(f.label)});let c=[],d=!1,u=!0,h=!!this.options.suggestedCommandIds;for(let m=0;m<a.length;m++){let f=a[m];m===0&&this.commandsHistory.peek(f.commandId)&&(c.push({type:"separator",label:_("recentlyUsed","recently used")}),d=!0),u&&f.tfIdfScore!==void 0&&(c.push({type:"separator",label:_("suggested","similar commands")}),u=!1),h&&f.tfIdfScore===void 0&&!this.commandsHistory.peek(f.commandId)&&this.options.suggestedCommandIds?.has(f.commandId)&&(c.push({type:"separator",label:_("commonlyUsed","commonly used")}),d=!0,h=!1),d&&f.tfIdfScore===void 0&&!this.commandsHistory.peek(f.commandId)&&!this.options.suggestedCommandIds?.has(f.commandId)&&(c.push({type:"separator",label:_("morecCommands","other commands")}),d=!1),c.push(this.toCommandPick(f,o))}return this.hasAdditionalCommandPicks(t,i)?{picks:c,additionalPicks:k(this,null,function*(){let m=yield this.getAdditionalCommandPicks(r,a,t,i);if(i.isCancellationRequested)return[];let f=m.map(p=>this.toCommandPick(p,o));return u&&f[0]?.type!=="separator"&&f.unshift({type:"separator",label:_("suggested","similar commands")}),f})}:c})}toCommandPick(t,e){if(t.type==="separator")return t;let i=this.keybindingService.lookupKeybinding(t.commandId),o=i?_("commandPickAriaLabelWithKeybinding","{0}, {1}",t.label,i.getAriaLabel()):t.label;return Te(j({},t),{ariaLabel:o,detail:this.options.showAlias&&t.commandAlias!==t.label?t.commandAlias:void 0,keybinding:i,accept:()=>k(this,null,function*(){this.commandsHistory.push(t.commandId),this.telemetryService.publicLog2("workbenchActionExecuted",{id:t.commandId,from:e?.from??"quick open"});try{t.args?.length?yield this.commandService.executeCommand(t.commandId,...t.args):yield this.commandService.executeCommand(t.commandId)}catch(r){ur(r)||this.dialogService.error(_("canNotRun","Command '{0}' resulted in an error",t.label),kf(r))}})})}getTfIdfChunk({label:t,commandAlias:e,commandDescription:i}){let o=t;return e&&e!==t&&(o+=` - ${e}`),i&&i.value!==t&&(o+=` - ${i.value===i.original?i.value:`${i.value} (${i.original})`}`),o}};ck=xm=p7([wu(1,De),wu(2,Vt),wu(3,ci),wu(4,jn),wu(5,hp)],ck);var XB=class extends U{static{xn=this}static{this.DEFAULT_COMMANDS_HISTORY_LENGTH=50}static{this.PREF_KEY_CACHE="commandPalette.mru.cache"}static{this.PREF_KEY_COUNTER="commandPalette.mru.counter"}static{this.counter=1}static{this.hasChanges=!1}constructor(e,i,o){super(),this.storageService=e,this.configurationService=i,this.logService=o,this.configuredCommandsHistoryLength=0,this.updateConfiguration(),this.load(),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(e=>this.updateConfiguration(e))),this._register(this.storageService.onWillSaveState(e=>{e.reason===wp.SHUTDOWN&&this.saveState()}))}updateConfiguration(e){e&&!e.affectsConfiguration("workbench.commandPalette.history")||(this.configuredCommandsHistoryLength=xn.getConfiguredCommandHistoryLength(this.configurationService),xn.cache&&xn.cache.limit!==this.configuredCommandsHistoryLength&&(xn.cache.limit=this.configuredCommandsHistoryLength,xn.hasChanges=!0))}load(){let e=this.storageService.get(xn.PREF_KEY_CACHE,0),i;if(e)try{i=JSON.parse(e)}catch(r){this.logService.error(`[CommandsHistory] invalid data: ${r}`)}let o=xn.cache=new hl(this.configuredCommandsHistoryLength,1);if(i){let r;i.usesLRU?r=i.entries:r=i.entries.sort((s,a)=>s.value-a.value),r.forEach(s=>o.set(s.key,s.value))}xn.counter=this.storageService.getNumber(xn.PREF_KEY_COUNTER,0,xn.counter)}push(e){xn.cache&&(xn.cache.set(e,xn.counter++),xn.hasChanges=!0)}peek(e){return xn.cache?.peek(e)}saveState(){if(!xn.cache||!xn.hasChanges)return;let e={usesLRU:!0,entries:[]};xn.cache.forEach((i,o)=>e.entries.push({key:o,value:i})),this.storageService.store(xn.PREF_KEY_CACHE,JSON.stringify(e),0,0),this.storageService.store(xn.PREF_KEY_COUNTER,xn.counter,0,0),xn.hasChanges=!1}static getConfiguredCommandHistoryLength(e){let o=e.getValue().workbench?.commandPalette?.history;return typeof o=="number"?o:xn.DEFAULT_COMMANDS_HISTORY_LENGTH}};XB=xn=p7([wu(0,Ar),wu(1,_t),wu(2,ds)],XB);var dk=class extends ck{constructor(t,e,i,o,r,s){super(t,e,i,o,r,s)}getCodeEditorCommandPicks(){let t=this.activeTextEditorControl;if(!t)return[];let e=[];for(let i of t.getSupportedActions()){let o;i.metadata?.description&&(F5(i.metadata.description)?o=i.metadata.description:o={original:i.metadata.description,value:i.metadata.description}),e.push({commandId:i.id,commandAlias:i.alias,commandDescription:o,label:o5(i.label)||i.id})}return e}};Ot();Ui();Ia();tt();$t();var Lxe=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},Rg=function(n,t){return function(e,i){t(e,i,n)}},Xy=class extends dk{get activeTextEditorControl(){return this.codeEditorService.getFocusedCodeEditor()??void 0}constructor(t,e,i,o,r,s){super({showAlias:!1},t,i,o,r,s),this.codeEditorService=e}getCommandPicks(){return k(this,null,function*(){return this.getCodeEditorCommandPicks()})}hasAdditionalCommandPicks(){return!1}getAdditionalCommandPicks(){return k(this,null,function*(){return[]})}};Xy=Lxe([Rg(0,De),Rg(1,Xt),Rg(2,Vt),Rg(3,ci),Rg(4,jn),Rg(5,hp)],Xy);var f7=(()=>{class n extends Z{static{this.ID="editor.action.quickCommand"}constructor(){super({id:n.ID,label:DA.quickCommandActionLabel,alias:"Command Palette",precondition:void 0,kbOpts:{kbExpr:M.focus,primary:59,weight:100},contextMenuOpts:{group:"z_commands",order:1}})}run(e){e.get(Bo).quickAccess.show(Xy.PREFIX)}}return n})();V(f7);go.as(_l.Quickaccess).registerQuickAccessProvider({ctor:Xy,prefix:Xy.PREFIX,helpEntries:[{description:DA.quickCommandHelp,commandId:f7.ID}]});tt();Fo();_n();mt();Ot();var Nxe=function(n,t,e,i){var o=arguments.length,r=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(t,e,r):s(t,e))||r);return o>3&&r&&Object.defineProperty(t,e,r),r},Og=function(n,t){return function(e,i){t(e,i,n)}},ZB=class extends Fc{constructor(t,e,i,o,r,s,a){super(!0,t,e,i,o,r,s,a)}};ZB=Nxe([Og(1,Xe),Og(2,Xt),Og(3,Bi),Og(4,De),Og(5,Ar),Og(6,_t)],ZB);Me(Fc.ID,ZB,4);tt();pU();ph();Kx();var QB=class extends Z{constructor(){super({id:"editor.action.toggleHighContrast",label:k5.toggleHighContrast,alias:"Toggle High Contrast Theme",precondition:void 0}),this._originalThemeName=null}run(t,e){let i=t.get(Tw),o=i.getColorTheme();mc(o.type)?(i.setTheme(this._originalThemeName||(fA(o.type)?uU:dU)),this._originalThemeName=null):(i.setTheme(fA(o.type)?hU:mU),this._originalThemeName=o.themeName)}};V(QB);function Fxe(n,t){if(n&1){let e=Nt();x(0,"button",4),le("click",function(){let o=Ze(e).$implicit,r=Y();return Qe(r.onSubmit(o.value))}),P(1),w()}if(n&2){let e=t.$implicit;I(),ni(" ",e.label," ")}}var Pg=class n{dialogRef=y(Rh);data=y(jv);title=this.data.title;onSubmit(t){this.dialogRef.close(t)}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=Q({type:n,selectors:[["app-list-picker-modal"]],decls:8,vars:3,consts:[["mat-dialog-title",""],["mat-list-item","",3,"click",4,"ngFor","ngForOf"],["align","end"],["mat-button","",3,"mat-dialog-close"],["mat-list-item","",3,"click"]],template:function(e,i){e&1&&(x(0,"h2",0),P(1),w(),x(2,"mat-dialog-content")(3,"mat-action-list"),te(4,Fxe,2,1,"button",1),w()(),x(5,"mat-dialog-actions",2)(6,"button",3),P(7,"Zru\u0161i\u0165"),w()()),e&2&&(I(),be(i.title),I(3),z("ngForOf",i.data.options),I(2),z("mat-dialog-close",void 0))},dependencies:[iS,tS,Mn,eS,nS,Cl,yx,x6],encapsulation:2})};var uk=class n{markingTypeToDecorationOptions={PLAG:{inlineClassName:"highlight-plag",hoverMessage:{value:"Spolo\u010Dn\xFD fragment"},zIndex:1},CODE:{inlineClassName:"highlight-code",hoverMessage:{value:"Fragment k\xF3du"},zIndex:5},TEMPLATE:{inlineClassName:"highlight-template",hoverMessage:{value:"Text zadania"},zIndex:2},MISSPELLED:{inlineClassName:"highlight-misspelled",zIndex:3},SPOOF:{inlineClassName:"highlight-spoof",hoverMessage:{value:"Boli pou\u017Eit\xE9 in\xE9 ako latinsk\xE9 znaky (Unicode Look-Alike)"},zIndex:3}};createDecorationsFromMarking(t,e,i){let o=[];for(let r of e){let s=this.getMarkingOffset(r,i),a=this.getLineColumnFromOffset(t.getValue(),s.start),l=this.getLineColumnFromOffset(t.getValue(),s.end);o.push({range:new NU(a.line,a.column,l.line,l.column),options:this.getOptionsForSpecialMarking(r)})}return o}getOptionsForSpecialMarking(t){return t.type==="MISSPELLED"?Te(j({},this.markingTypeToDecorationOptions[t.type]),{hoverMessage:{value:`Pravdepodobn\xFD preklep [${t.comments||""}]`}}):t.type==="PLAG"?Te(j({},this.markingTypeToDecorationOptions[t.type]),{hoverMessage:{value:`Spolo\u010Dn\xFD fragment [${t.first.start}:${t.first.end}:${t.second.start}:${t.second.end}]`}}):this.markingTypeToDecorationOptions[t.type]}getMarkingOffset(t,e){return e==0?t.first:t.second}getLineColumnFromOffset(t,e){let i=t.split(`
`),o=e;for(let r=0;r<i.length;r++){if(o<=i[r].length)return{line:r+1,column:o+1};o-=i[r].length+1}return{line:i.length,column:i[i.length-1].length+1}}navigateToOffset(t,e,i){if(t==null)return;let o=this.getMarkingOffset(e,i),r=this.getLineColumnFromOffset(t.getModel().getValue(),o.start);console.log("navigation to line "+r.line),t.setScrollTop(r.line),t.revealLineInCenter(r.line),t.setPosition({lineNumber:r.line,column:r.column})}hashCode(t){let o=0;for(let r=0;r<t.length;r++)o=(o*22570092147931+t.charCodeAt(r))%728437125089;return o%728437125089}static \u0275fac=function(e){return new(e||n)};static \u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})};function Hxe(n,t){n&1&&X(0,"mat-icon",5)}var Lg=class n{constructor(t){this.monacoDecorationService=t;ln(()=>{if(!this.editor()||!this.submission)return;let e=this.createDecorations();oW(100).pipe(tl(),In(()=>We(e))).subscribe(i=>{let o=this.editor();if(!o)return;let r=o.getModel();if(!r)return;let s=r.deltaDecorations([],i);(this.plagCases||[]).concat(this.submission.markings).forEach((l,c)=>this.decorationIdToMarking.set(s[c],l))})})}editorOptions={theme:"vs-white",language:"plaintext",readOnly:!0,wordWrap:"on",wrappingIndent:"same",wordWrapBreakBeforeCharacters:"{([",wordWrapBreakAfterCharacters:" 	})"};editor=Ue(null);submission;markingSide;plagCases=null;scrollEventEmitter=new Le;navigatePlagCaseEventEmitter=new Le;forceUnsubscribeFromScrollEventEmitter=new Le;decorationIdToMarking=new Map;isScrollSyncEnabled=Ue(!0);isMarkingNavigationEnabled=Ue(!1);dialog=y(Ld);isModalOpened=!1;unsubscribeFromScrolling(){this.isScrollSyncEnabled.set(!1)}subscribeOnScrolling(t){this.isScrollSyncEnabled.set(!0),t.pipe(hx(()=>this.isScrollSyncEnabled())).subscribe(e=>{this.editor().setScrollTop(e.scrollEvent.scrollTop),this.editor().setScrollLeft(e.scrollEvent.scrollLeft)})}subscribeOnNavigationEvent(t){this.isMarkingNavigationEnabled.set(!0),t.subscribe(e=>{this.isMarkingNavigationEnabled()&&e&&e.type==="PLAG"&&(this.unsubscribeFromScrolling(),this.forceUnsubscribeFromScrollEventEmitter.emit(),this.monacoDecorationService.navigateToOffset(this.editor(),e,this.markingSide))})}toggleMarkingNavigation(t){this.isMarkingNavigationEnabled.set(t)}createDecorations(){let t=[];return this.plagCases&&t.push(...this.monacoDecorationService.createDecorationsFromMarking(this.editor(),this.plagCases,this.markingSide)),t.push(...this.monacoDecorationService.createDecorationsFromMarking(this.editor(),this.submission.markings,0)),t}initEditor(t){this.editor()||this.editor.set(t),t.onDidScrollChange(e=>this.scrollEventEmitter.emit({scrollEvent:e,editor:t})),t.onMouseUp(e=>{if(e.event.stopPropagation(),!!this.isMarkingNavigationEnabled()&&e.target.position){let i=t.getModel();if(!i)return;let o=e.target.position,r=i.getDecorationsInRange({startLineNumber:o.lineNumber,startColumn:o.column,endLineNumber:o.lineNumber,endColumn:o.column+1});if(r.length>0){let s=r.filter(a=>a.options.inlineClassName==="highlight-plag");!this.isModalOpened&&s&&s.length>0&&this.openNavigationDialog(s)}}})}openNavigationDialog(t){console.log(t),this.isModalOpened=!0,this.dialog.open(Pg,{data:{title:"Zvo\u013Ete mo\u017Enos\u0165 navigacie ",options:t.map(i=>({label:i.options.hoverMessage?.value.toString(),value:i.id}))}}).afterClosed().pipe(ma(i=>(console.log(i),i!==void 0?We(i):ua(()=>new Error("Cancel plag case navigation"))))).subscribe({next:i=>{this.unsubscribeFromScrolling(),this.forceUnsubscribeFromScrollEventEmitter.emit(),this.navigatePlagCaseEventEmitter.emit(this.decorationIdToMarking.get(i)),this.isModalOpened=!1},error:i=>{this.isModalOpened=!1,console.error(i)}})}ngOnDestroy(){let t=this.editor();t&&t.dispose()}static \u0275fac=function(e){return new(e||n)(ie(uk))};static \u0275cmp=Q({type:n,selectors:[["app-text-editor"]],inputs:{submission:"submission",markingSide:"markingSide",plagCases:"plagCases"},outputs:{scrollEventEmitter:"scrollEventEmitter",navigatePlagCaseEventEmitter:"navigatePlagCaseEventEmitter",forceUnsubscribeFromScrollEventEmitter:"forceUnsubscribeFromScrollEventEmitter"},decls:9,vars:5,consts:[[1,"editor-wrapper"],[1,"editor-header"],[1,"header-text-frame"],["svgIcon","file-document-check-outline","matTooltip","Tento dokument bol z\xEDskan\xFD z indexu dokumentov.",4,"ngIf"],[1,"editor",3,"onInit","options","ngModel"],["svgIcon","file-document-check-outline","matTooltip","Tento dokument bol z\xEDskan\xFD z indexu dokumentov."]],template:function(e,i){e&1&&(x(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3"),P(4),w(),x(5,"p"),P(6),w()(),te(7,Hxe,1,0,"mat-icon",3),w(),x(8,"ngx-monaco-editor",4),le("onInit",function(r){return i.initEditor(r)}),w()()),e&2&&(I(4),be(i.submission.fileData.submitter),I(2),be(i.submission.fileData.filename),I(),z("ngIf",i.submission.indexed),I(),z("options",i.editorOptions)("ngModel",i.submission.content))},dependencies:[iG,Xn,Kr,bs,Tn,fo,qd],styles:[".editor[_ngcontent-%COMP%]{min-height:50vh;height:100%;width:100%;min-width:50%}.editor-wrapper[_ngcontent-%COMP%]{display:flex;box-sizing:border-box;flex-direction:column;width:100%;height:100%;gap:.5rem;padding:.5rem;border-radius:var(--mat-sys-corner-small);background-color:var(--mat-sys-surface-container-high)}.editor-header[_ngcontent-%COMP%]{display:flex;box-sizing:border-box;flex-direction:row;justify-content:space-between;align-items:center;width:100%;max-height:fit-content;padding-right:8px}.header-text-frame[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;max-height:fit-content}.header-text-frame[_ngcontent-%COMP%] > h3[_ngcontent-%COMP%]{font:var(--mat-sys-title-small);color:var(--mat-sys-on-surface);margin:0}.header-text-frame[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{font:var(--mat-sys-body-medium);color:var(--mat-sys-on-surface-variant);margin:0}"]})};var Vxe=["*"];var Wxe=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],jxe=["[mat-card-avatar], [matCardAvatar]",`mat-card-title, mat-card-subtitle,
      [mat-card-title], [mat-card-subtitle],
      [matCardTitle], [matCardSubtitle]`,"*"],Uxe=new ue("MAT_CARD_CONFIG"),Js=(()=>{class n{appearance;constructor(){let e=y(Uxe,{optional:!0});this.appearance=e?.appearance||"raised"}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Q({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(i,o){i&2&&ke("mat-mdc-card-outlined",o.appearance==="outlined")("mdc-card--outlined",o.appearance==="outlined")},inputs:{appearance:"appearance"},exportAs:["matCard"],ngContentSelectors:Vxe,decls:1,vars:0,template:function(i,o){i&1&&(wt(),Fe(0))},styles:['.mat-mdc-card{display:flex;flex-direction:column;box-sizing:border-box;position:relative;border-style:solid;border-width:0;background-color:var(--mdc-elevated-card-container-color, var(--mat-sys-surface-container-low));border-color:var(--mdc-elevated-card-container-color, var(--mat-sys-surface-container-low));border-radius:var(--mdc-elevated-card-container-shape, var(--mat-sys-corner-medium));box-shadow:var(--mdc-elevated-card-container-elevation, var(--mat-sys-level1))}.mat-mdc-card::after{position:absolute;top:0;left:0;width:100%;height:100%;border:solid 1px rgba(0,0,0,0);content:"";display:block;pointer-events:none;box-sizing:border-box;border-radius:var(--mdc-elevated-card-container-shape, var(--mat-sys-corner-medium))}.mat-mdc-card-outlined{background-color:var(--mdc-outlined-card-container-color, var(--mat-sys-surface));border-radius:var(--mdc-outlined-card-container-shape, var(--mat-sys-corner-medium));border-width:var(--mdc-outlined-card-outline-width, 1px);border-color:var(--mdc-outlined-card-outline-color, var(--mat-sys-outline-variant));box-shadow:var(--mdc-outlined-card-container-elevation, var(--mat-sys-level0))}.mat-mdc-card-outlined::after{border:none}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mat-mdc-card-actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font, var(--mat-sys-title-large-font));line-height:var(--mat-card-title-text-line-height, var(--mat-sys-title-large-line-height));font-size:var(--mat-card-title-text-size, var(--mat-sys-title-large-size));letter-spacing:var(--mat-card-title-text-tracking, var(--mat-sys-title-large-tracking));font-weight:var(--mat-card-title-text-weight, var(--mat-sys-title-large-weight))}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color, var(--mat-sys-on-surface));font-family:var(--mat-card-subtitle-text-font, var(--mat-sys-title-medium-font));line-height:var(--mat-card-subtitle-text-line-height, var(--mat-sys-title-medium-line-height));font-size:var(--mat-card-subtitle-text-size, var(--mat-sys-title-medium-size));letter-spacing:var(--mat-card-subtitle-text-tracking, var(--mat-sys-title-medium-tracking));font-weight:var(--mat-card-subtitle-text-weight, var(--mat-sys-title-medium-weight))}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0})}return n})(),Cu=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275dir=ge({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"]})}return n})();var Ul=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275dir=ge({type:n,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"]})}return n})(),hk=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275dir=ge({type:n,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-mdc-card-subtitle"]})}return n})();var Su=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Q({type:n,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],ngContentSelectors:jxe,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function(i,o){i&1&&(wt(Wxe),Fe(0),x(1,"div",0),Fe(2,1),w(),Fe(3,2))},encapsulation:2,changeDetection:0})}return n})(),g7=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275dir=ge({type:n,selectors:[["mat-card-footer"]],hostAttrs:[1,"mat-mdc-card-footer"]})}return n})();var ql=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=xt({type:n});static \u0275inj=yt({imports:[To,To]})}return n})();var _7=["*"];var qxe=".mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-grid-tile-header,.mat-grid-tile .mat-grid-tile-footer{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-header>*,.mat-grid-tile .mat-grid-tile-footer>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-tile-header.mat-2-line,.mat-grid-tile .mat-grid-tile-footer.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}.mat-grid-tile-header{font-size:var(--mat-grid-list-tile-header-primary-text-size, var(--mat-sys-body-large))}.mat-grid-tile-header .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-grid-tile-header .mat-line:nth-child(n+2){font-size:var(--mat-grid-list-tile-header-secondary-text-size, var(--mat-sys-body-medium))}.mat-grid-tile-footer{font-size:var(--mat-grid-list-tile-footer-primary-text-size, var(--mat-sys-body-large))}.mat-grid-tile-footer .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-grid-tile-footer .mat-line:nth-child(n+2){font-size:var(--mat-grid-list-tile-footer-secondary-text-size, var(--mat-sys-body-medium))}.mat-grid-tile-content{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}",JB=class{tracker;columnIndex=0;rowIndex=0;get rowCount(){return this.rowIndex+1}get rowspan(){let t=Math.max(...this.tracker);return t>1?this.rowCount+t-1:this.rowCount}positions;update(t,e){this.columnIndex=0,this.rowIndex=0,this.tracker=new Array(t),this.tracker.fill(0,0,this.tracker.length),this.positions=e.map(i=>this._trackTile(i))}_trackTile(t){let e=this._findMatchingGap(t.colspan);return this._markTilePosition(e,t),this.columnIndex=e+t.colspan,new eH(this.rowIndex,e)}_findMatchingGap(t){t>this.tracker.length;let e=-1,i=-1;do{if(this.columnIndex+t>this.tracker.length){this._nextRow(),e=this.tracker.indexOf(0,this.columnIndex),i=this._findGapEndIndex(e);continue}if(e=this.tracker.indexOf(0,this.columnIndex),e==-1){this._nextRow(),e=this.tracker.indexOf(0,this.columnIndex),i=this._findGapEndIndex(e);continue}i=this._findGapEndIndex(e),this.columnIndex=e+1}while(i-e<t||i==0);return Math.max(e,0)}_nextRow(){this.columnIndex=0,this.rowIndex++;for(let t=0;t<this.tracker.length;t++)this.tracker[t]=Math.max(0,this.tracker[t]-1)}_findGapEndIndex(t){for(let e=t+1;e<this.tracker.length;e++)if(this.tracker[e]!=0)return e;return this.tracker.length}_markTilePosition(t,e){for(let i=0;i<e.colspan;i++)this.tracker[t+i]=e.rowspan}},eH=class{row;col;constructor(t,e){this.row=t,this.col=e}},v7=new ue("MAT_GRID_LIST"),oH=(()=>{class n{_element=y(He);_gridList=y(v7,{optional:!0});_rowspan=1;_colspan=1;constructor(){}get rowspan(){return this._rowspan}set rowspan(e){this._rowspan=Math.round(Mo(e))}get colspan(){return this._colspan}set colspan(e){this._colspan=Math.round(Mo(e))}_setStyle(e,i){this._element.nativeElement.style[e]=i}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Q({type:n,selectors:[["mat-grid-tile"]],hostAttrs:[1,"mat-grid-tile"],hostVars:2,hostBindings:function(i,o){i&2&&Re("rowspan",o.rowspan)("colspan",o.colspan)},inputs:{rowspan:"rowspan",colspan:"colspan"},exportAs:["matGridTile"],ngContentSelectors:_7,decls:2,vars:0,consts:[[1,"mat-grid-tile-content"]],template:function(i,o){i&1&&(wt(),x(0,"div",0),Fe(1),w())},styles:[".mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-grid-tile-header,.mat-grid-tile .mat-grid-tile-footer{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-header>*,.mat-grid-tile .mat-grid-tile-footer>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-tile-header.mat-2-line,.mat-grid-tile .mat-grid-tile-footer.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}.mat-grid-tile-header{font-size:var(--mat-grid-list-tile-header-primary-text-size, var(--mat-sys-body-large))}.mat-grid-tile-header .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-grid-tile-header .mat-line:nth-child(n+2){font-size:var(--mat-grid-list-tile-header-secondary-text-size, var(--mat-sys-body-medium))}.mat-grid-tile-footer{font-size:var(--mat-grid-list-tile-footer-primary-text-size, var(--mat-sys-body-large))}.mat-grid-tile-footer .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-grid-tile-footer .mat-line:nth-child(n+2){font-size:var(--mat-grid-list-tile-footer-secondary-text-size, var(--mat-sys-body-medium))}.mat-grid-tile-content{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}"],encapsulation:2,changeDetection:0})}return n})();var Gxe=/^-?\d+((\.\d+)?[A-Za-z%$]?)+$/,Zy=class{_gutterSize;_rows=0;_rowspan=0;_cols;_direction;init(t,e,i,o){this._gutterSize=b7(t),this._rows=e.rowCount,this._rowspan=e.rowspan,this._cols=i,this._direction=o}getBaseTileSize(t,e){return`(${t}% - (${this._gutterSize} * ${e}))`}getTilePosition(t,e){return e===0?"0":wm(`(${t} + ${this._gutterSize}) * ${e}`)}getTileSize(t,e){return`(${t} * ${e}) + (${e-1} * ${this._gutterSize})`}setStyle(t,e,i){let o=100/this._cols,r=(this._cols-1)/this._cols;this.setColStyles(t,i,o,r),this.setRowStyles(t,e,o,r)}setColStyles(t,e,i,o){let r=this.getBaseTileSize(i,o),s=this._direction==="rtl"?"right":"left";t._setStyle(s,this.getTilePosition(r,e)),t._setStyle("width",wm(this.getTileSize(r,t.colspan)))}getGutterSpan(){return`${this._gutterSize} * (${this._rowspan} - 1)`}getTileSpan(t){return`${this._rowspan} * ${this.getTileSize(t,1)}`}getComputedHeight(){return null}},tH=class extends Zy{fixedRowHeight;constructor(t){super(),this.fixedRowHeight=t}init(t,e,i,o){super.init(t,e,i,o),this.fixedRowHeight=b7(this.fixedRowHeight),Gxe.test(this.fixedRowHeight)}setRowStyles(t,e){t._setStyle("top",this.getTilePosition(this.fixedRowHeight,e)),t._setStyle("height",wm(this.getTileSize(this.fixedRowHeight,t.rowspan)))}getComputedHeight(){return["height",wm(`${this.getTileSpan(this.fixedRowHeight)} + ${this.getGutterSpan()}`)]}reset(t){t._setListStyle(["height",null]),t._tiles&&t._tiles.forEach(e=>{e._setStyle("top",null),e._setStyle("height",null)})}},iH=class extends Zy{rowHeightRatio;baseTileHeight;constructor(t){super(),this._parseRatio(t)}setRowStyles(t,e,i,o){let r=i/this.rowHeightRatio;this.baseTileHeight=this.getBaseTileSize(r,o),t._setStyle("marginTop",this.getTilePosition(this.baseTileHeight,e)),t._setStyle("paddingTop",wm(this.getTileSize(this.baseTileHeight,t.rowspan)))}getComputedHeight(){return["paddingBottom",wm(`${this.getTileSpan(this.baseTileHeight)} + ${this.getGutterSpan()}`)]}reset(t){t._setListStyle(["paddingBottom",null]),t._tiles.forEach(e=>{e._setStyle("marginTop",null),e._setStyle("paddingTop",null)})}_parseRatio(t){let e=t.split(":");e.length,this.rowHeightRatio=parseFloat(e[0])/parseFloat(e[1])}},nH=class extends Zy{setRowStyles(t,e){let i=100/this._rowspan,o=(this._rows-1)/this._rows,r=this.getBaseTileSize(i,o);t._setStyle("top",this.getTilePosition(r,e)),t._setStyle("height",wm(this.getTileSize(r,t.rowspan)))}reset(t){t._tiles&&t._tiles.forEach(e=>{e._setStyle("top",null),e._setStyle("height",null)})}};function wm(n){return`calc(${n})`}function b7(n){return n.match(/([A-Za-z%]+)$/)?n:`${n}px`}var $xe="fit",y7=(()=>{class n{_element=y(He);_dir=y(mn,{optional:!0});_cols;_tileCoordinator;_rowHeight;_gutter="1px";_tileStyler;_tiles;constructor(){}get cols(){return this._cols}set cols(e){this._cols=Math.max(1,Math.round(Mo(e)))}get gutterSize(){return this._gutter}set gutterSize(e){this._gutter=`${e??""}`}get rowHeight(){return this._rowHeight}set rowHeight(e){let i=`${e??""}`;i!==this._rowHeight&&(this._rowHeight=i,this._setTileStyler(this._rowHeight))}ngOnInit(){this._checkCols(),this._checkRowHeight()}ngAfterContentChecked(){this._layoutTiles()}_checkCols(){this.cols}_checkRowHeight(){this._rowHeight||this._setTileStyler("1:1")}_setTileStyler(e){this._tileStyler&&this._tileStyler.reset(this),e===$xe?this._tileStyler=new nH:e&&e.indexOf(":")>-1?this._tileStyler=new iH(e):this._tileStyler=new tH(e)}_layoutTiles(){this._tileCoordinator||(this._tileCoordinator=new JB);let e=this._tileCoordinator,i=this._tiles.filter(r=>!r._gridList||r._gridList===this),o=this._dir?this._dir.value:"ltr";this._tileCoordinator.update(this.cols,i),this._tileStyler.init(this.gutterSize,e,this.cols,o),i.forEach((r,s)=>{let a=e.positions[s];this._tileStyler.setStyle(r,a.row,a.col)}),this._setListStyle(this._tileStyler.getComputedHeight())}_setListStyle(e){e&&(this._element.nativeElement.style[e[0]]=e[1])}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Q({type:n,selectors:[["mat-grid-list"]],contentQueries:function(i,o,r){if(i&1&&bt(r,oH,5),i&2){let s;me(s=pe())&&(o._tiles=s)}},hostAttrs:[1,"mat-grid-list"],hostVars:1,hostBindings:function(i,o){i&2&&Re("cols",o.cols)},inputs:{cols:"cols",gutterSize:"gutterSize",rowHeight:"rowHeight"},exportAs:["matGridList"],features:[At([{provide:v7,useExisting:n}])],ngContentSelectors:_7,decls:2,vars:0,template:function(i,o){i&1&&(wt(),x(0,"div"),Fe(1),w())},styles:[qxe],encapsulation:2,changeDetection:0})}return n})(),x7=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=xt({type:n});static \u0275inj=yt({imports:[hO,To,hO,To]})}return n})();var Nr=class{static mapUnixTimeToDate(t){t.toString().length===10&&(t*=1e3);let e=new Date(t),i=e.getFullYear(),o=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0"),s=e.getHours(),a=String(e.getMinutes()).padStart(2,"0");return`${i}-${o}-${r} ${s}:${a}`}static mapToSecondsToHhMmSs(t){if(isNaN(t)||t==0)return"00:00:00";let e=Math.floor(t/60),i=t%60;return`${e.toString().padStart(2,"0")}:${i.toString().padStart(2,"0")}:00`}};var Gl=class n{transform(t){return Nr.mapToSecondsToHhMmSs(t)}static \u0275fac=function(e){return new(e||n)};static \u0275pipe=px({name:"minutesTime",type:n,pure:!0})};var Iu=class n{transform(t){if(!t)return"Invalid Date";let e=Number(t);return isNaN(e)?"Invalid date":Nr.mapUnixTimeToDate(e)}static \u0275fac=function(e){return new(e||n)};static \u0275pipe=px({name:"unixDate",type:n,pure:!0})};var pk=class n{constructor(t){this.analysisContextService=t}static DATE_DEVIATION_SECONDS=30*24*60*60*1e3;metadataStatistics=Ri(()=>{let t=this.analysisContextService.getReport()()?.submissions;return t!==void 0?this.calculateAverages([...t.values()].filter(e=>!e.indexed)):null});calculateAverages(t){let e=this.calculateAvg(t.map(a=>a.fileData.metadata.totalEditTime)),i=t.filter(a=>a.fileData.metadata.creationDate!==void 0).map(a=>a.fileData.metadata.creationDate),o=t.filter(a=>a.fileData.metadata.modificationDate!==void 0).map(a=>a.fileData.metadata.modificationDate),r=this.calculateAvgFromModeYearDate(i),s=this.calculateAvgFromModeYearDate(o);return{avgEditTime:e,avgCreationDate:r,avgModificationDate:s}}calculateAvg(t){return t.length>0?t.reduce((e,i)=>e+i)/t.length:0}calculateAvgFromModeYearDate(t){let e=this.findYearMode(t);return this.calculateAvg(t.filter(i=>new Date(i).getFullYear()==e))}findYearMode(t){let e={};t.forEach(r=>{let s=new Date(r).getFullYear();e[s]=(e[s]||0)+1});let i=null,o=0;for(let r in e)e[r]>o&&(i=parseInt(r),o=e[r]);return i}isBelowAvgEditTime(t){let e=this.metadataStatistics();return e===null?!1:t.fileData.metadata.totalEditTime<e.avgEditTime}isDateDeviating(t,e){let i=this.metadataStatistics();if(i===null)return!1;let o=t.fileData.metadata[e];if(!o)return!0;let r=e=="modificationDate"?i.avgModificationDate:i.avgCreationDate,s=n.DATE_DEVIATION_SECONDS;return Math.abs(o-r)>s}static \u0275fac=function(e){return new(e||n)(ct(Wt))};static \u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})};var Du=class n{constructor(t){this.metadataStatisticsService=t}submission;dateField=null;checkTimeDeviation=!1;metaWarning=!1;ngOnChanges(t){t.submission&&(this.checkTimeDeviation?this.metaWarning=this.metadataStatisticsService.isBelowAvgEditTime(this.submission):this.dateField!==null&&(this.metaWarning=this.metadataStatisticsService.isDateDeviating(this.submission,this.dateField)))}static \u0275fac=function(e){return new(e||n)(ie(pk))};static \u0275dir=ge({type:n,selectors:[["","appMetadataDeviationHighlight",""]],hostVars:2,hostBindings:function(e,i){e&2&&ke("meta-warning",i.metaWarning)},inputs:{submission:"submission",dateField:"dateField",checkTimeDeviation:"checkTimeDeviation"},features:[Di]})};var fk=class n{first;second;metadataField;metaEquality=!1;ngOnInit(){let t=this.getFieldValue(this.first.fileData.metadata,this.metadataField),e=this.getFieldValue(this.second.fileData.metadata,this.metadataField);if(t&&e){this.metaEquality=t===e;return}this.metaEquality=!1}getFieldValue(t,e){return t[e]}static \u0275fac=function(e){return new(e||n)};static \u0275dir=ge({type:n,selectors:[["","appMetadataEqualityHighlight",""]],hostVars:2,hostBindings:function(e,i){e&2&&ke("meta-equality",i.metaEquality)},inputs:{first:"first",second:"second",metadataField:"metadataField"}})};function Xxe(n,t){if(n&1&&(x(0,"p"),P(1),w()),n&2){let e=Y();I(),M_(" Zdrojom plagiatu v tejto dvojici ",e.isSourceIndexed()?"":"pravdepodobne"," bol ",e.getSource().fileData.submitter," ")}}function Zxe(n,t){n&1&&(x(0,"p"),P(1,"Neviem pos\xFAdi\u0165 o zdroji plagi\xE1tu"),w())}var gk=class n{first;second;submissionPair;isSourceIndexed(){return this.getSource().indexed}getSource(){return this.submissionPair.plagSource==="FIRST"?this.first:this.second}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=Q({type:n,selectors:[["app-metadata-diff-card"]],inputs:{first:"first",second:"second",submissionPair:"submissionPair"},decls:94,vars:53,consts:[[1,"grid-card"],["cols","3","rowHeight","32px","gutterSize","16px"],[1,"header"],[1,"label"],["appMetadataEqualityHighlight","","metadataField","submitter",3,"first","second"],["appTextOverflowScroll","",1,"scrollable-text"],["appMetadataEqualityHighlight","","metadataField","modifier",3,"first","second"],["appMetadataEqualityHighlight","","metadataField","creator",3,"first","second"],["appMetadataDeviationHighlight","","dateField","creationDate",3,"submission"],["appMetadataDeviationHighlight","","dateField","modificationDate",3,"submission"],["appMetadataDeviationHighlight","",3,"submission","checkTimeDeviation"]],template:function(e,i){e&1&&(x(0,"mat-card",0)(1,"mat-card-content")(2,"mat-grid-list",1),X(3,"mat-grid-tile"),x(4,"mat-grid-tile",2)(5,"h3"),P(6,"Dokument A"),w()(),x(7,"mat-grid-tile",2)(8,"h3"),P(9,"Dokument B"),w()(),x(10,"mat-grid-tile",3)(11,"h3"),P(12,"Odosielate\u013E"),w()(),x(13,"mat-grid-tile",4)(14,"p",5),P(15),w()(),x(16,"mat-grid-tile",4)(17,"p",5),P(18),w()(),x(19,"mat-grid-tile",3)(20,"h3"),P(21,"Naposledy upravil"),w()(),x(22,"mat-grid-tile",6)(23,"p",5),P(24),w()(),x(25,"mat-grid-tile",6)(26,"p",5),P(27),w()(),x(28,"mat-grid-tile",3)(29,"h3"),P(30,"Autor"),w()(),x(31,"mat-grid-tile",7)(32,"p",5),P(33),w()(),x(34,"mat-grid-tile",7)(35,"p",5),P(36),w()(),x(37,"mat-grid-tile",3)(38,"h3"),P(39,"D\xE1tum vytvorenia"),w()(),x(40,"mat-grid-tile",8)(41,"p"),P(42),Li(43,"unixDate"),w()(),x(44,"mat-grid-tile",8)(45,"p"),P(46),Li(47,"unixDate"),w()(),x(48,"mat-grid-tile",3)(49,"h3"),P(50,"D\xE1tum \xFApravy"),w()(),x(51,"mat-grid-tile",9)(52,"p"),P(53),Li(54,"unixDate"),w()(),x(55,"mat-grid-tile",9)(56,"p"),P(57),Li(58,"unixDate"),w()(),x(59,"mat-grid-tile",3)(60,"h3"),P(61,"Naposledy vytla\u010Den\xE9"),w()(),x(62,"mat-grid-tile")(63,"p"),P(64),Li(65,"unixDate"),w()(),x(66,"mat-grid-tile")(67,"p"),P(68),Li(69,"unixDate"),w()(),x(70,"mat-grid-tile",3)(71,"h3"),P(72,"Celkov\xFD \u010Das \xFAprav"),w()(),x(73,"mat-grid-tile",10)(74,"p"),P(75),Li(76,"minutesTime"),w()(),x(77,"mat-grid-tile",10)(78,"p"),P(79),Li(80,"minutesTime"),w()(),x(81,"mat-grid-tile",3)(82,"h3"),P(83,"Po\u010Det rev\xEDzi\xED"),w()(),x(84,"mat-grid-tile")(85,"p"),P(86),w()(),x(87,"mat-grid-tile")(88,"p"),P(89),w()()()(),X(90,"mat-divider"),x(91,"mat-card-footer"),te(92,Xxe,2,2,"p")(93,Zxe,2,0,"p"),w()()),e&2&&(I(13),z("first",i.first)("second",i.second),I(2),be(i.first.fileData.submitter||"Nezn\xE1my"),I(),z("first",i.first)("second",i.second),I(2),be(i.second.fileData.submitter||"Nezn\xE1my"),I(4),z("first",i.first)("second",i.second),I(2),be(i.first.fileData.metadata.modifier||"Nezn\xE1my"),I(),z("first",i.first)("second",i.second),I(2),be(i.second.fileData.metadata.modifier||"Nezn\xE1my"),I(4),z("first",i.first)("second",i.second),I(2),be(i.first.fileData.metadata.creator||"Nezn\xE1my"),I(),z("first",i.first)("second",i.second),I(2),be(i.second.fileData.metadata.creator||"Nezn\xE1my"),I(4),z("submission",i.first),I(2),be(i.first.fileData.metadata.creationDate?Ni(43,37,i.first.fileData.metadata.creationDate):"Nezn\xE1me"),I(2),z("submission",i.second),I(2),be(i.second.fileData.metadata.creationDate?Ni(47,39,i.second.fileData.metadata.creationDate):"Nezn\xE1me"),I(5),z("submission",i.first),I(2),be(i.first.fileData.metadata.modificationDate?Ni(54,41,i.first.fileData.metadata.modificationDate):"Nezn\xE1me"),I(2),z("submission",i.second),I(2),be(i.second.fileData.metadata.modificationDate?Ni(58,43,i.second.fileData.metadata.modificationDate):"Nezn\xE1me"),I(7),be(i.first.fileData.metadata.lastPrinted?Ni(65,45,i.first.fileData.metadata.lastPrinted):"Nezn\xE1me"),I(4),be(i.second.fileData.metadata.lastPrinted?Ni(69,47,i.second.fileData.metadata.lastPrinted):"Nezn\xE1me"),I(5),z("submission",i.first)("checkTimeDeviation",!0),I(2),be(Ni(76,49,i.first.fileData.metadata.totalEditTime)),I(2),z("submission",i.second)("checkTimeDeviation",!0),I(2),be(Ni(80,51,i.second.fileData.metadata.totalEditTime)),I(7),be(i.first.fileData.metadata.revisionsNumber||"Nezn\xE1me"),I(3),be(i.second.fileData.metadata.revisionsNumber||"Nezn\xE1me"),I(3),Ye(i.submissionPair.plagSource!=="UNCERTAIN"?92:93))},dependencies:[ql,Js,Ul,g7,x7,y7,oH,Iu,Gl,Du,fk,Nd,Xr],styles:[`.medium-card{max-width:350px;min-width:200px}.large-card{max-width:400px;min-width:200px}.extra-large-card{max-width:450px;min-width:200px}.base-card{margin:auto;padding:16px}p{font:var(--mat-sys-body-medium);color:var(--mat-sys-on-surface-variant);margin:0}h3{font:var(--mat-sys-title-small);color:var(--mat-sys-on-surface);margin:0}h1{font:var(--mat-sys-title-large);color:var(--mat-sys-on-surface);margin:0}.text-frame{width:100%;overflow-y:hidden;display:flex;flex-direction:column;justify-content:center;align-content:start}.text-center{align-items:center}.text-frame h1{font:var(--mat-sys-title-large);color:var(--mat-sys-on-surface);margin:0}.text-frame p{font:var(--mat-sys-body-medium);color:var(--mat-sys-on-surface-variant);margin:0}.header-with-actions{display:flex;width:100%;flex-direction:row;align-items:center;justify-content:space-between}.header-with-actions button{justify-self:end}.header-with-actions h1{flex-grow:1;text-align:center;margin:0}.header-with-actions button{margin-left:auto}.info-list{display:flex;flex-direction:column;gap:24px}.info-list>mat-list-item{padding-left:0;padding-right:0;gap:16px}.card-group{display:flex;max-width:700px;min-width:300px;flex-direction:column;padding:16px;gap:24px;border-radius:var(--mat-sys-corner-extra-large);background-color:var(--mat-sys-surface-container-high)}.card-flex-box{display:flex;max-width:700px;min-width:300px;flex-direction:row;justify-content:center;flex-wrap:wrap;gap:16px}.horizontal-card-group-wrapper{display:flex;flex-direction:column;width:fit-content;height:100%;padding:16px;gap:8px;border-radius:var(--mat-sys-corner-extra-large);background-color:var(--mat-sys-surface-container-high)}.horizontal-card-group{display:flex;flex-direction:row;gap:32px}@media (max-width: 1250px){.horizontal-card-group{flex-wrap:wrap}}
`,`.grid-card{width:750px;height:fit-content;padding:16px;gap:16px}mat-grid-tile{display:flex;align-items:center;justify-content:center}
`],encapsulation:2})};var _k=class n{value="";name="";static \u0275fac=function(e){return new(e||n)};static \u0275cmp=Q({type:n,selectors:[["app-stat-card"]],inputs:{value:"value",name:"name"},decls:9,vars:2,consts:[[1,"medium-card","base-card"]],template:function(e,i){e&1&&(x(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title")(3,"h1"),P(4),w()(),x(5,"mat-card-subtitle")(6,"p"),P(7),w()()(),X(8,"mat-card-content"),w()),e&2&&(I(4),be(i.value),I(3),be(i.name))},dependencies:[ql,Js,Ul,Su,hk,Cu],styles:[".medium-card[_ngcontent-%COMP%]{max-width:350px;min-width:200px}.large-card[_ngcontent-%COMP%]{max-width:400px;min-width:200px}.extra-large-card[_ngcontent-%COMP%]{max-width:450px;min-width:200px}.base-card[_ngcontent-%COMP%]{margin:auto;padding:16px}p[_ngcontent-%COMP%]{font:var(--mat-sys-body-medium);color:var(--mat-sys-on-surface-variant);margin:0}h3[_ngcontent-%COMP%]{font:var(--mat-sys-title-small);color:var(--mat-sys-on-surface);margin:0}h1[_ngcontent-%COMP%]{font:var(--mat-sys-title-large);color:var(--mat-sys-on-surface);margin:0}.text-frame[_ngcontent-%COMP%]{width:100%;overflow-y:hidden;display:flex;flex-direction:column;justify-content:center;align-content:start}.text-center[_ngcontent-%COMP%]{align-items:center}.text-frame[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font:var(--mat-sys-title-large);color:var(--mat-sys-on-surface);margin:0}.text-frame[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font:var(--mat-sys-body-medium);color:var(--mat-sys-on-surface-variant);margin:0}.header-with-actions[_ngcontent-%COMP%]{display:flex;width:100%;flex-direction:row;align-items:center;justify-content:space-between}.header-with-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{justify-self:end}.header-with-actions[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{flex-grow:1;text-align:center;margin:0}.header-with-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:auto}.info-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:24px}.info-list[_ngcontent-%COMP%] > mat-list-item[_ngcontent-%COMP%]{padding-left:0;padding-right:0;gap:16px}.card-group[_ngcontent-%COMP%]{display:flex;max-width:700px;min-width:300px;flex-direction:column;padding:16px;gap:24px;border-radius:var(--mat-sys-corner-extra-large);background-color:var(--mat-sys-surface-container-high)}.card-flex-box[_ngcontent-%COMP%]{display:flex;max-width:700px;min-width:300px;flex-direction:row;justify-content:center;flex-wrap:wrap;gap:16px}.horizontal-card-group-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:fit-content;height:100%;padding:16px;gap:8px;border-radius:var(--mat-sys-corner-extra-large);background-color:var(--mat-sys-surface-container-high)}.horizontal-card-group[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:32px}@media (max-width: 1250px){.horizontal-card-group[_ngcontent-%COMP%]{flex-wrap:wrap}}",".stat-card[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center;width:fit-content;padding:16px;gap:24px;background-color:var(--mat-sys-surface-container-highest);border-radius:var(--mat-sys-corner-large)}.content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}.stat-value[_ngcontent-%COMP%]{font:var(--mat-sys-title-medium);color:var(--mat-sys-on-surface);margin:0}.stat-name[_ngcontent-%COMP%]{font:var(--mat-sys-label-small);color:var(--mat-sys-on-surface-variant);margin:0}"]})};var I7=["*",[["mat-chip-avatar"],["","matChipAvatar",""]],[["mat-chip-trailing-icon"],["","matChipRemove",""],["","matChipTrailingIcon",""]]],D7=["*","mat-chip-avatar, [matChipAvatar]","mat-chip-trailing-icon,[matChipRemove],[matChipTrailingIcon]"];function Qxe(n,t){n&1&&(x(0,"span",3),Fe(1,1),w())}function Jxe(n,t){n&1&&(x(0,"span",6),Fe(1,2),w())}function ewe(n,t){n&1&&(x(0,"span",3),Fe(1,1),x(2,"span",8),pi(),x(3,"svg",9),X(4,"path",10),w()()())}function twe(n,t){n&1&&(x(0,"span",6),Fe(1,2),w())}var iwe='.mdc-evolution-chip,.mdc-evolution-chip__cell,.mdc-evolution-chip__action{display:inline-flex;align-items:center}.mdc-evolution-chip{position:relative;max-width:100%}.mdc-evolution-chip__cell,.mdc-evolution-chip__action{height:100%}.mdc-evolution-chip__cell--primary{flex-basis:100%;overflow-x:hidden}.mdc-evolution-chip__cell--trailing{flex:1 0 auto}.mdc-evolution-chip__action{align-items:center;background:none;border:none;box-sizing:content-box;cursor:pointer;display:inline-flex;justify-content:center;outline:none;padding:0;text-decoration:none;color:inherit}.mdc-evolution-chip__action--presentational{cursor:auto}.mdc-evolution-chip--disabled,.mdc-evolution-chip__action:disabled{pointer-events:none}.mdc-evolution-chip__action--primary{font:inherit;letter-spacing:inherit;white-space:inherit;overflow-x:hidden}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary::before{border-width:var(--mdc-chip-outline-width, 1px);border-radius:var(--mdc-chip-container-shape-radius, 8px);box-sizing:border-box;content:"";height:100%;left:0;position:absolute;pointer-events:none;top:0;width:100%;z-index:1;border-style:solid}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__action--primary::before{border-color:var(--mdc-chip-outline-color, var(--mat-sys-outline))}.mdc-evolution-chip__action--primary:not(.mdc-evolution-chip__action--presentational):not(.mdc-ripple-upgraded):focus::before{border-color:var(--mdc-chip-focus-outline-color, var(--mat-sys-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__action--primary::before{border-color:var(--mdc-chip-disabled-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__action--primary::before{border-width:var(--mdc-chip-flat-selected-outline-width, 0)}.mat-mdc-basic-chip .mdc-evolution-chip__action--primary{font:inherit}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}.mdc-evolution-chip__action--trailing{position:relative;overflow:visible}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__action--trailing{color:var(--mdc-chip-with-trailing-icon-trailing-icon-color, var(--mat-sys-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__action--trailing{color:var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-color, var(--mat-sys-on-surface))}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}.mdc-evolution-chip__text-label{-webkit-user-select:none;user-select:none;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.mat-mdc-standard-chip .mdc-evolution-chip__text-label{font-family:var(--mdc-chip-label-text-font, var(--mat-sys-label-large-font));line-height:var(--mdc-chip-label-text-line-height, var(--mat-sys-label-large-line-height));font-size:var(--mdc-chip-label-text-size, var(--mat-sys-label-large-size));font-weight:var(--mdc-chip-label-text-weight, var(--mat-sys-label-large-weight));letter-spacing:var(--mdc-chip-label-text-tracking, var(--mat-sys-label-large-tracking))}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mdc-chip-label-text-color, var(--mat-sys-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--selected:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mdc-chip-selected-label-text-color, var(--mat-sys-on-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label,.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label{color:var(--mdc-chip-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-evolution-chip__graphic{align-items:center;display:inline-flex;justify-content:center;overflow:hidden;pointer-events:none;position:relative;flex:1 0 auto}.mat-mdc-standard-chip .mdc-evolution-chip__graphic{width:var(--mdc-chip-with-avatar-avatar-size, 24px);height:var(--mdc-chip-with-avatar-avatar-size, 24px);font-size:var(--mdc-chip-with-avatar-avatar-size, 24px)}.mdc-evolution-chip--selecting .mdc-evolution-chip__graphic{transition:width 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selectable:not(.mdc-evolution-chip--selected):not(.mdc-evolution-chip--with-primary-icon) .mdc-evolution-chip__graphic{width:0}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:8px;padding-right:4px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:8px;padding-right:4px}.mdc-evolution-chip__checkmark{position:absolute;opacity:0;top:50%;left:50%;height:20px;width:20px}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-selected-icon-color, var(--mat-sys-on-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-disabled-icon-color, var(--mat-sys-on-surface))}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark{transition:transform 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-75%, -50%)}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{transform:translate(-50%, -50%);opacity:1}.mdc-evolution-chip__checkmark-svg{display:block}.mdc-evolution-chip__checkmark-path{stroke-width:2px;stroke-dasharray:29.7833385;stroke-dashoffset:29.7833385;stroke:currentColor}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark-path{transition:stroke-dashoffset 150ms 45ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}@media(forced-colors: active){.mdc-evolution-chip__checkmark-path{stroke:CanvasText !important}}.mat-mdc-standard-chip .mdc-evolution-chip__icon--trailing{height:18px;width:18px;font-size:18px}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing.mat-mdc-chip-remove{opacity:calc(var(--mat-chip-trailing-action-opacity, 1)*var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity, 0.38))}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing.mat-mdc-chip-remove:focus{opacity:calc(var(--mat-chip-trailing-action-focus-opacity, 1)*var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity, 0.38))}.mat-mdc-standard-chip{border-radius:var(--mdc-chip-container-shape-radius, 8px);height:var(--mdc-chip-container-height, 32px)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled){background-color:var(--mdc-chip-elevated-container-color, transparent)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-elevated-disabled-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected:not(.mdc-evolution-chip--disabled){background-color:var(--mdc-chip-elevated-selected-container-color, var(--mat-sys-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-flat-disabled-selected-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}@media(forced-colors: active){.mat-mdc-standard-chip{outline:solid 1px}}.mat-mdc-standard-chip .mdc-evolution-chip__icon--primary{border-radius:var(--mdc-chip-with-avatar-avatar-shape-radius, 24px);width:var(--mdc-chip-with-icon-icon-size, 18px);height:var(--mdc-chip-with-icon-icon-size, 18px);font-size:var(--mdc-chip-with-icon-icon-size, 18px)}.mdc-evolution-chip--selected .mdc-evolution-chip__icon--primary{opacity:0}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-icon-color, var(--mat-sys-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-disabled-icon-color, var(--mat-sys-on-surface))}.mat-mdc-chip-highlighted{--mdc-chip-with-icon-icon-color:var(--mdc-chip-with-icon-selected-icon-color, var(--mat-sys-on-secondary-container));--mdc-chip-elevated-container-color:var(--mdc-chip-elevated-selected-container-color, var(--mat-sys-secondary-container));--mdc-chip-label-text-color:var(--mdc-chip-selected-label-text-color, var(--mat-sys-on-secondary-container));--mdc-chip-outline-width:var(--mdc-chip-flat-selected-outline-width, 0)}.mat-mdc-chip-focus-overlay{background:var(--mdc-chip-focus-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-chip-selected .mat-mdc-chip-focus-overlay,.mat-mdc-chip-highlighted .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-selected-focus-state-layer-color, var(--mat-sys-on-secondary-container))}.mat-mdc-chip:hover .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-hover-state-layer-color, var(--mat-sys-on-surface-variant));opacity:var(--mdc-chip-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-chip-focus-overlay .mat-mdc-chip-selected:hover,.mat-mdc-chip-highlighted:hover .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-selected-hover-state-layer-color, var(--mat-sys-on-secondary-container));opacity:var(--mdc-chip-selected-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-chip.cdk-focused .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-focus-state-layer-color, var(--mat-sys-on-surface-variant));opacity:var(--mdc-chip-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-chip-selected.cdk-focused .mat-mdc-chip-focus-overlay,.mat-mdc-chip-highlighted.cdk-focused .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-selected-focus-state-layer-color, var(--mat-sys-on-secondary-container));opacity:var(--mdc-chip-selected-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mdc-evolution-chip--disabled:not(.mdc-evolution-chip--selected) .mat-mdc-chip-avatar{opacity:var(--mdc-chip-with-avatar-disabled-avatar-opacity, 0.38)}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{opacity:var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity, 0.38)}.mdc-evolution-chip--disabled.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{opacity:var(--mdc-chip-with-icon-disabled-icon-opacity, 0.38)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{opacity:var(--mat-chip-disabled-container-opacity, 1)}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__icon--trailing,.mat-mdc-standard-chip.mat-mdc-chip-highlighted .mdc-evolution-chip__icon--trailing{color:var(--mat-chip-selected-trailing-icon-color, var(--mat-sys-on-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing,.mat-mdc-standard-chip.mat-mdc-chip-highlighted.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{color:var(--mat-chip-selected-disabled-trailing-icon-color, var(--mat-sys-on-surface))}.mat-mdc-chip-remove{opacity:var(--mat-chip-trailing-action-opacity, 1)}.mat-mdc-chip-remove:focus{opacity:var(--mat-chip-trailing-action-focus-opacity, 1)}.mat-mdc-chip-remove::after{background-color:var(--mat-chip-trailing-action-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-chip-remove:hover::after{opacity:var(--mat-chip-trailing-action-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-chip-remove:focus::after{opacity:var(--mat-chip-trailing-action-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-chip-selected .mat-mdc-chip-remove::after,.mat-mdc-chip-highlighted .mat-mdc-chip-remove::after{background-color:var(--mat-chip-selected-trailing-action-state-layer-color, var(--mat-sys-on-secondary-container))}.mat-mdc-standard-chip{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-standard-chip .mdc-evolution-chip__cell--primary,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip .mat-mdc-chip-action-label{overflow:visible}.mat-mdc-standard-chip .mat-mdc-chip-graphic,.mat-mdc-standard-chip .mat-mdc-chip-trailing-icon{box-sizing:content-box}.mat-mdc-standard-chip._mat-animation-noopable,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__graphic,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark-path{transition-duration:1ms;animation-duration:1ms}.mat-mdc-chip-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;opacity:0;border-radius:inherit;transition:opacity 150ms linear}._mat-animation-noopable .mat-mdc-chip-focus-overlay{transition:none}.mat-mdc-basic-chip .mat-mdc-chip-focus-overlay{display:none}.mat-mdc-chip .mat-ripple.mat-mdc-chip-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-chip-avatar{text-align:center;line-height:1;color:var(--mdc-chip-with-icon-icon-color, currentColor)}.mat-mdc-chip{position:relative;z-index:0}.mat-mdc-chip-action-label{text-align:left;z-index:1}[dir=rtl] .mat-mdc-chip-action-label{text-align:right}.mat-mdc-chip.mdc-evolution-chip--with-trailing-action .mat-mdc-chip-action-label{position:relative}.mat-mdc-chip-action-label .mat-mdc-chip-primary-focus-indicator{position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:none}.mat-mdc-chip-action-label .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-chip-remove::before{margin:calc(var(--mat-focus-indicator-border-width, 3px)*-1);left:8px;right:8px}.mat-mdc-chip-remove::after{content:"";display:block;opacity:0;position:absolute;top:-3px;bottom:-3px;left:5px;right:5px;border-radius:50%;box-sizing:border-box;padding:12px;margin:-12px;background-clip:content-box}.mat-mdc-chip-remove .mat-icon{width:18px;height:18px;font-size:18px;box-sizing:content-box}.mat-chip-edit-input{cursor:text;display:inline-block;color:inherit;outline:0}@media(forced-colors: active){.mat-mdc-chip-selected:not(.mat-mdc-chip-multiple){outline-width:3px}}.mat-mdc-chip-action:focus .mat-focus-indicator::before{content:""}';var E7=["*"],nwe=".mat-mdc-chip-set{display:flex}.mat-mdc-chip-set:focus{outline:none}.mat-mdc-chip-set .mdc-evolution-chip-set__chips{min-width:100%;margin-left:-8px;margin-right:0}.mat-mdc-chip-set .mdc-evolution-chip{margin:4px 0 4px 8px}[dir=rtl] .mat-mdc-chip-set .mdc-evolution-chip-set__chips{margin-left:0;margin-right:-8px}[dir=rtl] .mat-mdc-chip-set .mdc-evolution-chip{margin-left:0;margin-right:8px}.mdc-evolution-chip-set__chips{display:flex;flex-flow:wrap;min-width:0}.mat-mdc-chip-set-stacked{flex-direction:column;align-items:flex-start}.mat-mdc-chip-set-stacked .mat-mdc-chip{width:100%}.mat-mdc-chip-set-stacked .mdc-evolution-chip__graphic{flex-grow:0}.mat-mdc-chip-set-stacked .mdc-evolution-chip__action--primary{flex-basis:100%;justify-content:start}input.mat-mdc-chip-input{flex:1 0 150px;margin-left:8px}[dir=rtl] input.mat-mdc-chip-input{margin-left:0;margin-right:8px}",k7=new ue("mat-chips-default-options",{providedIn:"root",factory:()=>({separatorKeyCodes:[13]})}),w7=new ue("MatChipAvatar"),C7=new ue("MatChipTrailingIcon"),S7=new ue("MatChipRemove"),aH=new ue("MatChip"),rH=(()=>{class n{_elementRef=y(He);_parentChip=y(aH);isInteractive=!0;_isPrimary=!0;get disabled(){return this._disabled||this._parentChip?.disabled||!1}set disabled(e){this._disabled=e}_disabled=!1;tabIndex=-1;_allowFocusWhenDisabled=!1;_getDisabledAttribute(){return this.disabled&&!this._allowFocusWhenDisabled?"":null}_getTabindex(){return this.disabled&&!this._allowFocusWhenDisabled||!this.isInteractive?null:this.tabIndex.toString()}constructor(){y(kn).load(qs),this._elementRef.nativeElement.nodeName==="BUTTON"&&this._elementRef.nativeElement.setAttribute("type","button")}focus(){this._elementRef.nativeElement.focus()}_handleClick(e){!this.disabled&&this.isInteractive&&this._isPrimary&&(e.preventDefault(),this._parentChip._handlePrimaryActionInteraction())}_handleKeydown(e){(e.keyCode===13||e.keyCode===32)&&!this.disabled&&this.isInteractive&&this._isPrimary&&!this._parentChip._isEditing&&(e.preventDefault(),this._parentChip._handlePrimaryActionInteraction())}static \u0275fac=function(i){return new(i||n)};static \u0275dir=ge({type:n,selectors:[["","matChipAction",""]],hostAttrs:[1,"mdc-evolution-chip__action","mat-mdc-chip-action"],hostVars:9,hostBindings:function(i,o){i&1&&le("click",function(s){return o._handleClick(s)})("keydown",function(s){return o._handleKeydown(s)}),i&2&&(Re("tabindex",o._getTabindex())("disabled",o._getDisabledAttribute())("aria-disabled",o.disabled),ke("mdc-evolution-chip__action--primary",o._isPrimary)("mdc-evolution-chip__action--presentational",!o.isInteractive)("mdc-evolution-chip__action--trailing",!o._isPrimary))},inputs:{isInteractive:"isInteractive",disabled:[2,"disabled","disabled",Ke],tabIndex:[2,"tabIndex","tabIndex",e=>e==null?-1:Yi(e)],_allowFocusWhenDisabled:"_allowFocusWhenDisabled"},features:[Ut]})}return n})();var Qy=(()=>{class n{_changeDetectorRef=y(Yt);_elementRef=y(He);_ngZone=y(et);_focusMonitor=y(Us);_globalRippleOptions=y(Td,{optional:!0});_document=y(kt);_onFocus=new Ee;_onBlur=new Ee;_isBasicChip;role=null;_hasFocusInternal=!1;_pendingFocus;_actionChanges;_animationsDisabled;_allLeadingIcons;_allTrailingIcons;_allRemoveIcons;_hasFocus(){return this._hasFocusInternal}id=y(Yn).getId("mat-mdc-chip-");ariaLabel=null;ariaDescription=null;_ariaDescriptionId=`${this.id}-aria-description`;_chipListDisabled=!1;_textElement;get value(){return this._value!==void 0?this._value:this._textElement.textContent.trim()}set value(e){this._value=e}_value;color;removable=!0;highlighted=!1;disableRipple=!1;get disabled(){return this._disabled||this._chipListDisabled}set disabled(e){this._disabled=e}_disabled=!1;removed=new Le;destroyed=new Le;basicChipAttrName="mat-basic-chip";leadingIcon;trailingIcon;removeIcon;primaryAction;_rippleLoader=y(VC);_injector=y(Si);constructor(){y(kn).load(qs),y(kn).load(Ih);let e=y(Wi,{optional:!0});this._animationsDisabled=e==="NoopAnimations",this._monitorFocus(),this._rippleLoader?.configureRipple(this._elementRef.nativeElement,{className:"mat-mdc-chip-ripple",disabled:this._isRippleDisabled()})}ngOnInit(){let e=this._elementRef.nativeElement;this._isBasicChip=e.hasAttribute(this.basicChipAttrName)||e.tagName.toLowerCase()===this.basicChipAttrName}ngAfterViewInit(){this._textElement=this._elementRef.nativeElement.querySelector(".mat-mdc-chip-action-label"),this._pendingFocus&&(this._pendingFocus=!1,this.focus())}ngAfterContentInit(){this._actionChanges=tn(this._allLeadingIcons.changes,this._allTrailingIcons.changes,this._allRemoveIcons.changes).subscribe(()=>this._changeDetectorRef.markForCheck())}ngDoCheck(){this._rippleLoader.setDisabled(this._elementRef.nativeElement,this._isRippleDisabled())}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement),this._actionChanges?.unsubscribe(),this.destroyed.emit({chip:this}),this.destroyed.complete()}remove(){this.removable&&this.removed.emit({chip:this})}_isRippleDisabled(){return this.disabled||this.disableRipple||this._animationsDisabled||this._isBasicChip||!!this._globalRippleOptions?.disabled}_hasTrailingIcon(){return!!(this.trailingIcon||this.removeIcon)}_handleKeydown(e){(e.keyCode===8&&!e.repeat||e.keyCode===46)&&(e.preventDefault(),this.remove())}focus(){this.disabled||(this.primaryAction?this.primaryAction.focus():this._pendingFocus=!0)}_getSourceAction(e){return this._getActions().find(i=>{let o=i._elementRef.nativeElement;return o===e||o.contains(e)})}_getActions(){let e=[];return this.primaryAction&&e.push(this.primaryAction),this.removeIcon&&e.push(this.removeIcon),this.trailingIcon&&e.push(this.trailingIcon),e}_handlePrimaryActionInteraction(){}_monitorFocus(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{let i=e!==null;i!==this._hasFocusInternal&&(this._hasFocusInternal=i,i?this._onFocus.next({chip:this}):(this._changeDetectorRef.markForCheck(),setTimeout(()=>this._ngZone.run(()=>this._onBlur.next({chip:this})))))})}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Q({type:n,selectors:[["mat-basic-chip"],["","mat-basic-chip",""],["mat-chip"],["","mat-chip",""]],contentQueries:function(i,o,r){if(i&1&&(bt(r,w7,5),bt(r,C7,5),bt(r,S7,5),bt(r,w7,5),bt(r,C7,5),bt(r,S7,5)),i&2){let s;me(s=pe())&&(o.leadingIcon=s.first),me(s=pe())&&(o.trailingIcon=s.first),me(s=pe())&&(o.removeIcon=s.first),me(s=pe())&&(o._allLeadingIcons=s),me(s=pe())&&(o._allTrailingIcons=s),me(s=pe())&&(o._allRemoveIcons=s)}},viewQuery:function(i,o){if(i&1&&rt(rH,5),i&2){let r;me(r=pe())&&(o.primaryAction=r.first)}},hostAttrs:[1,"mat-mdc-chip"],hostVars:31,hostBindings:function(i,o){i&1&&le("keydown",function(s){return o._handleKeydown(s)}),i&2&&(rs("id",o.id),Re("role",o.role)("aria-label",o.ariaLabel),Lo("mat-"+(o.color||"primary")),ke("mdc-evolution-chip",!o._isBasicChip)("mdc-evolution-chip--disabled",o.disabled)("mdc-evolution-chip--with-trailing-action",o._hasTrailingIcon())("mdc-evolution-chip--with-primary-graphic",o.leadingIcon)("mdc-evolution-chip--with-primary-icon",o.leadingIcon)("mdc-evolution-chip--with-avatar",o.leadingIcon)("mat-mdc-chip-with-avatar",o.leadingIcon)("mat-mdc-chip-highlighted",o.highlighted)("mat-mdc-chip-disabled",o.disabled)("mat-mdc-basic-chip",o._isBasicChip)("mat-mdc-standard-chip",!o._isBasicChip)("mat-mdc-chip-with-trailing-icon",o._hasTrailingIcon())("_mat-animation-noopable",o._animationsDisabled))},inputs:{role:"role",id:"id",ariaLabel:[0,"aria-label","ariaLabel"],ariaDescription:[0,"aria-description","ariaDescription"],value:"value",color:"color",removable:[2,"removable","removable",Ke],highlighted:[2,"highlighted","highlighted",Ke],disableRipple:[2,"disableRipple","disableRipple",Ke],disabled:[2,"disabled","disabled",Ke]},outputs:{removed:"removed",destroyed:"destroyed"},exportAs:["matChip"],features:[At([{provide:aH,useExisting:n}]),Ut],ngContentSelectors:D7,decls:8,vars:3,consts:[[1,"mat-mdc-chip-focus-overlay"],[1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--primary"],["matChipAction","",3,"isInteractive"],[1,"mdc-evolution-chip__graphic","mat-mdc-chip-graphic"],[1,"mdc-evolution-chip__text-label","mat-mdc-chip-action-label"],[1,"mat-mdc-chip-primary-focus-indicator","mat-focus-indicator"],[1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--trailing"]],template:function(i,o){i&1&&(wt(I7),X(0,"span",0),x(1,"span",1)(2,"span",2),te(3,Qxe,2,0,"span",3),x(4,"span",4),Fe(5),X(6,"span",5),w()()(),te(7,Jxe,2,0,"span",6)),i&2&&(I(2),z("isInteractive",!1),I(),Ye(o.leadingIcon?3:-1),I(4),Ye(o._hasTrailingIcon()?7:-1))},dependencies:[rH],styles:['.mdc-evolution-chip,.mdc-evolution-chip__cell,.mdc-evolution-chip__action{display:inline-flex;align-items:center}.mdc-evolution-chip{position:relative;max-width:100%}.mdc-evolution-chip__cell,.mdc-evolution-chip__action{height:100%}.mdc-evolution-chip__cell--primary{flex-basis:100%;overflow-x:hidden}.mdc-evolution-chip__cell--trailing{flex:1 0 auto}.mdc-evolution-chip__action{align-items:center;background:none;border:none;box-sizing:content-box;cursor:pointer;display:inline-flex;justify-content:center;outline:none;padding:0;text-decoration:none;color:inherit}.mdc-evolution-chip__action--presentational{cursor:auto}.mdc-evolution-chip--disabled,.mdc-evolution-chip__action:disabled{pointer-events:none}.mdc-evolution-chip__action--primary{font:inherit;letter-spacing:inherit;white-space:inherit;overflow-x:hidden}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary::before{border-width:var(--mdc-chip-outline-width, 1px);border-radius:var(--mdc-chip-container-shape-radius, 8px);box-sizing:border-box;content:"";height:100%;left:0;position:absolute;pointer-events:none;top:0;width:100%;z-index:1;border-style:solid}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__action--primary::before{border-color:var(--mdc-chip-outline-color, var(--mat-sys-outline))}.mdc-evolution-chip__action--primary:not(.mdc-evolution-chip__action--presentational):not(.mdc-ripple-upgraded):focus::before{border-color:var(--mdc-chip-focus-outline-color, var(--mat-sys-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__action--primary::before{border-color:var(--mdc-chip-disabled-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__action--primary::before{border-width:var(--mdc-chip-flat-selected-outline-width, 0)}.mat-mdc-basic-chip .mdc-evolution-chip__action--primary{font:inherit}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}.mdc-evolution-chip__action--trailing{position:relative;overflow:visible}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__action--trailing{color:var(--mdc-chip-with-trailing-icon-trailing-icon-color, var(--mat-sys-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__action--trailing{color:var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-color, var(--mat-sys-on-surface))}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}.mdc-evolution-chip__text-label{-webkit-user-select:none;user-select:none;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.mat-mdc-standard-chip .mdc-evolution-chip__text-label{font-family:var(--mdc-chip-label-text-font, var(--mat-sys-label-large-font));line-height:var(--mdc-chip-label-text-line-height, var(--mat-sys-label-large-line-height));font-size:var(--mdc-chip-label-text-size, var(--mat-sys-label-large-size));font-weight:var(--mdc-chip-label-text-weight, var(--mat-sys-label-large-weight));letter-spacing:var(--mdc-chip-label-text-tracking, var(--mat-sys-label-large-tracking))}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mdc-chip-label-text-color, var(--mat-sys-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--selected:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mdc-chip-selected-label-text-color, var(--mat-sys-on-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label,.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label{color:var(--mdc-chip-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-evolution-chip__graphic{align-items:center;display:inline-flex;justify-content:center;overflow:hidden;pointer-events:none;position:relative;flex:1 0 auto}.mat-mdc-standard-chip .mdc-evolution-chip__graphic{width:var(--mdc-chip-with-avatar-avatar-size, 24px);height:var(--mdc-chip-with-avatar-avatar-size, 24px);font-size:var(--mdc-chip-with-avatar-avatar-size, 24px)}.mdc-evolution-chip--selecting .mdc-evolution-chip__graphic{transition:width 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selectable:not(.mdc-evolution-chip--selected):not(.mdc-evolution-chip--with-primary-icon) .mdc-evolution-chip__graphic{width:0}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:8px;padding-right:4px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:8px;padding-right:4px}.mdc-evolution-chip__checkmark{position:absolute;opacity:0;top:50%;left:50%;height:20px;width:20px}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-selected-icon-color, var(--mat-sys-on-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-disabled-icon-color, var(--mat-sys-on-surface))}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark{transition:transform 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-75%, -50%)}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{transform:translate(-50%, -50%);opacity:1}.mdc-evolution-chip__checkmark-svg{display:block}.mdc-evolution-chip__checkmark-path{stroke-width:2px;stroke-dasharray:29.7833385;stroke-dashoffset:29.7833385;stroke:currentColor}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark-path{transition:stroke-dashoffset 150ms 45ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}@media(forced-colors: active){.mdc-evolution-chip__checkmark-path{stroke:CanvasText !important}}.mat-mdc-standard-chip .mdc-evolution-chip__icon--trailing{height:18px;width:18px;font-size:18px}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing.mat-mdc-chip-remove{opacity:calc(var(--mat-chip-trailing-action-opacity, 1)*var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity, 0.38))}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing.mat-mdc-chip-remove:focus{opacity:calc(var(--mat-chip-trailing-action-focus-opacity, 1)*var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity, 0.38))}.mat-mdc-standard-chip{border-radius:var(--mdc-chip-container-shape-radius, 8px);height:var(--mdc-chip-container-height, 32px)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled){background-color:var(--mdc-chip-elevated-container-color, transparent)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-elevated-disabled-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected:not(.mdc-evolution-chip--disabled){background-color:var(--mdc-chip-elevated-selected-container-color, var(--mat-sys-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-flat-disabled-selected-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}@media(forced-colors: active){.mat-mdc-standard-chip{outline:solid 1px}}.mat-mdc-standard-chip .mdc-evolution-chip__icon--primary{border-radius:var(--mdc-chip-with-avatar-avatar-shape-radius, 24px);width:var(--mdc-chip-with-icon-icon-size, 18px);height:var(--mdc-chip-with-icon-icon-size, 18px);font-size:var(--mdc-chip-with-icon-icon-size, 18px)}.mdc-evolution-chip--selected .mdc-evolution-chip__icon--primary{opacity:0}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-icon-color, var(--mat-sys-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-disabled-icon-color, var(--mat-sys-on-surface))}.mat-mdc-chip-highlighted{--mdc-chip-with-icon-icon-color:var(--mdc-chip-with-icon-selected-icon-color, var(--mat-sys-on-secondary-container));--mdc-chip-elevated-container-color:var(--mdc-chip-elevated-selected-container-color, var(--mat-sys-secondary-container));--mdc-chip-label-text-color:var(--mdc-chip-selected-label-text-color, var(--mat-sys-on-secondary-container));--mdc-chip-outline-width:var(--mdc-chip-flat-selected-outline-width, 0)}.mat-mdc-chip-focus-overlay{background:var(--mdc-chip-focus-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-chip-selected .mat-mdc-chip-focus-overlay,.mat-mdc-chip-highlighted .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-selected-focus-state-layer-color, var(--mat-sys-on-secondary-container))}.mat-mdc-chip:hover .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-hover-state-layer-color, var(--mat-sys-on-surface-variant));opacity:var(--mdc-chip-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-chip-focus-overlay .mat-mdc-chip-selected:hover,.mat-mdc-chip-highlighted:hover .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-selected-hover-state-layer-color, var(--mat-sys-on-secondary-container));opacity:var(--mdc-chip-selected-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-chip.cdk-focused .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-focus-state-layer-color, var(--mat-sys-on-surface-variant));opacity:var(--mdc-chip-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-chip-selected.cdk-focused .mat-mdc-chip-focus-overlay,.mat-mdc-chip-highlighted.cdk-focused .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-selected-focus-state-layer-color, var(--mat-sys-on-secondary-container));opacity:var(--mdc-chip-selected-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mdc-evolution-chip--disabled:not(.mdc-evolution-chip--selected) .mat-mdc-chip-avatar{opacity:var(--mdc-chip-with-avatar-disabled-avatar-opacity, 0.38)}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{opacity:var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity, 0.38)}.mdc-evolution-chip--disabled.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{opacity:var(--mdc-chip-with-icon-disabled-icon-opacity, 0.38)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{opacity:var(--mat-chip-disabled-container-opacity, 1)}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__icon--trailing,.mat-mdc-standard-chip.mat-mdc-chip-highlighted .mdc-evolution-chip__icon--trailing{color:var(--mat-chip-selected-trailing-icon-color, var(--mat-sys-on-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing,.mat-mdc-standard-chip.mat-mdc-chip-highlighted.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{color:var(--mat-chip-selected-disabled-trailing-icon-color, var(--mat-sys-on-surface))}.mat-mdc-chip-remove{opacity:var(--mat-chip-trailing-action-opacity, 1)}.mat-mdc-chip-remove:focus{opacity:var(--mat-chip-trailing-action-focus-opacity, 1)}.mat-mdc-chip-remove::after{background-color:var(--mat-chip-trailing-action-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-chip-remove:hover::after{opacity:var(--mat-chip-trailing-action-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-chip-remove:focus::after{opacity:var(--mat-chip-trailing-action-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-chip-selected .mat-mdc-chip-remove::after,.mat-mdc-chip-highlighted .mat-mdc-chip-remove::after{background-color:var(--mat-chip-selected-trailing-action-state-layer-color, var(--mat-sys-on-secondary-container))}.mat-mdc-standard-chip{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-standard-chip .mdc-evolution-chip__cell--primary,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip .mat-mdc-chip-action-label{overflow:visible}.mat-mdc-standard-chip .mat-mdc-chip-graphic,.mat-mdc-standard-chip .mat-mdc-chip-trailing-icon{box-sizing:content-box}.mat-mdc-standard-chip._mat-animation-noopable,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__graphic,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark-path{transition-duration:1ms;animation-duration:1ms}.mat-mdc-chip-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;opacity:0;border-radius:inherit;transition:opacity 150ms linear}._mat-animation-noopable .mat-mdc-chip-focus-overlay{transition:none}.mat-mdc-basic-chip .mat-mdc-chip-focus-overlay{display:none}.mat-mdc-chip .mat-ripple.mat-mdc-chip-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-chip-avatar{text-align:center;line-height:1;color:var(--mdc-chip-with-icon-icon-color, currentColor)}.mat-mdc-chip{position:relative;z-index:0}.mat-mdc-chip-action-label{text-align:left;z-index:1}[dir=rtl] .mat-mdc-chip-action-label{text-align:right}.mat-mdc-chip.mdc-evolution-chip--with-trailing-action .mat-mdc-chip-action-label{position:relative}.mat-mdc-chip-action-label .mat-mdc-chip-primary-focus-indicator{position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:none}.mat-mdc-chip-action-label .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-chip-remove::before{margin:calc(var(--mat-focus-indicator-border-width, 3px)*-1);left:8px;right:8px}.mat-mdc-chip-remove::after{content:"";display:block;opacity:0;position:absolute;top:-3px;bottom:-3px;left:5px;right:5px;border-radius:50%;box-sizing:border-box;padding:12px;margin:-12px;background-clip:content-box}.mat-mdc-chip-remove .mat-icon{width:18px;height:18px;font-size:18px;box-sizing:content-box}.mat-chip-edit-input{cursor:text;display:inline-block;color:inherit;outline:0}@media(forced-colors: active){.mat-mdc-chip-selected:not(.mat-mdc-chip-multiple){outline-width:3px}}.mat-mdc-chip-action:focus .mat-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return n})();var lH=(()=>{class n extends Qy{_defaultOptions=y(k7,{optional:!0});chipListSelectable=!0;_chipListMultiple=!1;_chipListHideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1;get selectable(){return this._selectable&&this.chipListSelectable}set selectable(e){this._selectable=e,this._changeDetectorRef.markForCheck()}_selectable=!0;get selected(){return this._selected}set selected(e){this._setSelectedState(e,!1,!0)}_selected=!1;get ariaSelected(){return this.selectable?this.selected.toString():null}basicChipAttrName="mat-basic-chip-option";selectionChange=new Le;ngOnInit(){super.ngOnInit(),this.role="presentation"}select(){this._setSelectedState(!0,!1,!0)}deselect(){this._setSelectedState(!1,!1,!0)}selectViaInteraction(){this._setSelectedState(!0,!0,!0)}toggleSelected(e=!1){return this._setSelectedState(!this.selected,e,!0),this.selected}_handlePrimaryActionInteraction(){this.disabled||(this.focus(),this.selectable&&this.toggleSelected(!0))}_hasLeadingGraphic(){return this.leadingIcon?!0:!this._chipListHideSingleSelectionIndicator||this._chipListMultiple}_setSelectedState(e,i,o){e!==this.selected&&(this._selected=e,o&&this.selectionChange.emit({source:this,isUserInput:i,selected:this.selected}),this._changeDetectorRef.markForCheck())}static \u0275fac=(()=>{let e;return function(o){return(e||(e=ti(n)))(o||n)}})();static \u0275cmp=Q({type:n,selectors:[["mat-basic-chip-option"],["","mat-basic-chip-option",""],["mat-chip-option"],["","mat-chip-option",""]],hostAttrs:[1,"mat-mdc-chip","mat-mdc-chip-option"],hostVars:37,hostBindings:function(i,o){i&2&&(rs("id",o.id),Re("tabindex",null)("aria-label",null)("aria-description",null)("role",o.role),ke("mdc-evolution-chip",!o._isBasicChip)("mdc-evolution-chip--filter",!o._isBasicChip)("mdc-evolution-chip--selectable",!o._isBasicChip)("mat-mdc-chip-selected",o.selected)("mat-mdc-chip-multiple",o._chipListMultiple)("mat-mdc-chip-disabled",o.disabled)("mat-mdc-chip-with-avatar",o.leadingIcon)("mdc-evolution-chip--disabled",o.disabled)("mdc-evolution-chip--selected",o.selected)("mdc-evolution-chip--selecting",!o._animationsDisabled)("mdc-evolution-chip--with-trailing-action",o._hasTrailingIcon())("mdc-evolution-chip--with-primary-icon",o.leadingIcon)("mdc-evolution-chip--with-primary-graphic",o._hasLeadingGraphic())("mdc-evolution-chip--with-avatar",o.leadingIcon)("mat-mdc-chip-highlighted",o.highlighted)("mat-mdc-chip-with-trailing-icon",o._hasTrailingIcon()))},inputs:{selectable:[2,"selectable","selectable",Ke],selected:[2,"selected","selected",Ke]},outputs:{selectionChange:"selectionChange"},features:[At([{provide:Qy,useExisting:n},{provide:aH,useExisting:n}]),Ut,dt],ngContentSelectors:D7,decls:10,vars:8,consts:[[1,"mat-mdc-chip-focus-overlay"],[1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--primary"],["matChipAction","","role","option",3,"_allowFocusWhenDisabled"],[1,"mdc-evolution-chip__graphic","mat-mdc-chip-graphic"],[1,"mdc-evolution-chip__text-label","mat-mdc-chip-action-label"],[1,"mat-mdc-chip-primary-focus-indicator","mat-focus-indicator"],[1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--trailing"],[1,"cdk-visually-hidden",3,"id"],[1,"mdc-evolution-chip__checkmark"],["viewBox","-2 -3 30 30","focusable","false","aria-hidden","true",1,"mdc-evolution-chip__checkmark-svg"],["fill","none","stroke","currentColor","d","M1.73,12.91 8.1,19.28 22.79,4.59",1,"mdc-evolution-chip__checkmark-path"]],template:function(i,o){i&1&&(wt(I7),X(0,"span",0),x(1,"span",1)(2,"button",2),te(3,ewe,5,0,"span",3),x(4,"span",4),Fe(5),X(6,"span",5),w()()(),te(7,twe,2,0,"span",6),x(8,"span",7),P(9),w()),i&2&&(I(2),z("_allowFocusWhenDisabled",!0),Re("aria-selected",o.ariaSelected)("aria-label",o.ariaLabel)("aria-describedby",o._ariaDescriptionId),I(),Ye(o._hasLeadingGraphic()?3:-1),I(4),Ye(o._hasTrailingIcon()?7:-1),I(),z("id",o._ariaDescriptionId),I(),be(o.ariaDescription))},dependencies:[rH],styles:[iwe],encapsulation:2,changeDetection:0})}return n})();var owe=(()=>{class n{_elementRef=y(He);_changeDetectorRef=y(Yt);_dir=y(mn,{optional:!0});_lastDestroyedFocusedChipIndex=null;_keyManager;_destroyed=new Ee;_defaultRole="presentation";get chipFocusChanges(){return this._getChipStream(e=>e._onFocus)}get chipDestroyedChanges(){return this._getChipStream(e=>e.destroyed)}get chipRemovedChanges(){return this._getChipStream(e=>e.removed)}get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._syncChipsState()}_disabled=!1;get empty(){return!this._chips||this._chips.length===0}get role(){return this._explicitRole?this._explicitRole:this.empty?null:this._defaultRole}tabIndex=0;set role(e){this._explicitRole=e}_explicitRole=null;get focused(){return this._hasFocusedChip()}_chips;_chipActions=new Xu;constructor(){}ngAfterViewInit(){this._setUpFocusManagement(),this._trackChipSetChanges(),this._trackDestroyedFocusedChip()}ngOnDestroy(){this._keyManager?.destroy(),this._chipActions.destroy(),this._destroyed.next(),this._destroyed.complete()}_hasFocusedChip(){return this._chips&&this._chips.some(e=>e._hasFocus())}_syncChipsState(){this._chips?.forEach(e=>{e._chipListDisabled=this._disabled,e._changeDetectorRef.markForCheck()})}focus(){}_handleKeydown(e){this._originatesFromChip(e)&&this._keyManager.onKeydown(e)}_isValidIndex(e){return e>=0&&e<this._chips.length}_allowFocusEscape(){let e=this._elementRef.nativeElement.tabIndex;e!==-1&&(this._elementRef.nativeElement.tabIndex=-1,setTimeout(()=>this._elementRef.nativeElement.tabIndex=e))}_getChipStream(e){return this._chips.changes.pipe(Qi(null),In(()=>tn(...this._chips.map(e))))}_originatesFromChip(e){let i=e.target;for(;i&&i!==this._elementRef.nativeElement;){if(i.classList.contains("mat-mdc-chip"))return!0;i=i.parentElement}return!1}_setUpFocusManagement(){this._chips.changes.pipe(Qi(this._chips)).subscribe(e=>{let i=[];e.forEach(o=>o._getActions().forEach(r=>i.push(r))),this._chipActions.reset(i),this._chipActions.notifyOnChanges()}),this._keyManager=new OC(this._chipActions).withVerticalOrientation().withHorizontalOrientation(this._dir?this._dir.value:"ltr").withHomeAndEnd().skipPredicate(e=>this._skipPredicate(e)),this.chipFocusChanges.pipe(vt(this._destroyed)).subscribe(({chip:e})=>{let i=e._getSourceAction(document.activeElement);i&&this._keyManager.updateActiveItem(i)}),this._dir?.change.pipe(vt(this._destroyed)).subscribe(e=>this._keyManager.withHorizontalOrientation(e))}_skipPredicate(e){return!e.isInteractive||e.disabled}_trackChipSetChanges(){this._chips.changes.pipe(Qi(null),vt(this._destroyed)).subscribe(()=>{this.disabled&&Promise.resolve().then(()=>this._syncChipsState()),this._redirectDestroyedChipFocus()})}_trackDestroyedFocusedChip(){this.chipDestroyedChanges.pipe(vt(this._destroyed)).subscribe(e=>{let o=this._chips.toArray().indexOf(e.chip);this._isValidIndex(o)&&e.chip._hasFocus()&&(this._lastDestroyedFocusedChipIndex=o)})}_redirectDestroyedChipFocus(){if(this._lastDestroyedFocusedChipIndex!=null){if(this._chips.length){let e=Math.min(this._lastDestroyedFocusedChipIndex,this._chips.length-1),i=this._chips.toArray()[e];i.disabled?this._chips.length===1?this.focus():this._keyManager.setPreviousItemActive():i.focus()}else this.focus();this._lastDestroyedFocusedChipIndex=null}}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Q({type:n,selectors:[["mat-chip-set"]],contentQueries:function(i,o,r){if(i&1&&bt(r,Qy,5),i&2){let s;me(s=pe())&&(o._chips=s)}},hostAttrs:[1,"mat-mdc-chip-set","mdc-evolution-chip-set"],hostVars:1,hostBindings:function(i,o){i&1&&le("keydown",function(s){return o._handleKeydown(s)}),i&2&&Re("role",o.role)},inputs:{disabled:[2,"disabled","disabled",Ke],role:"role",tabIndex:[2,"tabIndex","tabIndex",e=>e==null?0:Yi(e)]},features:[Ut],ngContentSelectors:E7,decls:2,vars:0,consts:[["role","presentation",1,"mdc-evolution-chip-set__chips"]],template:function(i,o){i&1&&(wt(),x(0,"div",0),Fe(1),w())},styles:[".mat-mdc-chip-set{display:flex}.mat-mdc-chip-set:focus{outline:none}.mat-mdc-chip-set .mdc-evolution-chip-set__chips{min-width:100%;margin-left:-8px;margin-right:0}.mat-mdc-chip-set .mdc-evolution-chip{margin:4px 0 4px 8px}[dir=rtl] .mat-mdc-chip-set .mdc-evolution-chip-set__chips{margin-left:0;margin-right:-8px}[dir=rtl] .mat-mdc-chip-set .mdc-evolution-chip{margin-left:0;margin-right:8px}.mdc-evolution-chip-set__chips{display:flex;flex-flow:wrap;min-width:0}.mat-mdc-chip-set-stacked{flex-direction:column;align-items:flex-start}.mat-mdc-chip-set-stacked .mat-mdc-chip{width:100%}.mat-mdc-chip-set-stacked .mdc-evolution-chip__graphic{flex-grow:0}.mat-mdc-chip-set-stacked .mdc-evolution-chip__action--primary{flex-basis:100%;justify-content:start}input.mat-mdc-chip-input{flex:1 0 150px;margin-left:8px}[dir=rtl] input.mat-mdc-chip-input{margin-left:0;margin-right:8px}"],encapsulation:2,changeDetection:0})}return n})(),sH=class{source;value;constructor(t,e){this.source=t,this.value=e}},rwe={provide:Na,useExisting:cr(()=>cH),multi:!0},cH=(()=>{class n extends owe{_onTouched=()=>{};_onChange=()=>{};_defaultRole="listbox";_pendingInitialValue;_defaultOptions=y(k7,{optional:!0});get multiple(){return this._multiple}set multiple(e){this._multiple=e,this._syncListboxProperties()}_multiple=!1;get selected(){let e=this._chips.toArray().filter(i=>i.selected);return this.multiple?e:e[0]}ariaOrientation="horizontal";get selectable(){return this._selectable}set selectable(e){this._selectable=e,this._syncListboxProperties()}_selectable=!0;compareWith=(e,i)=>e===i;required=!1;get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(e){this._hideSingleSelectionIndicator=e,this._syncListboxProperties()}_hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1;get chipSelectionChanges(){return this._getChipStream(e=>e.selectionChange)}get chipBlurChanges(){return this._getChipStream(e=>e._onBlur)}get value(){return this._value}set value(e){this.writeValue(e),this._value=e}_value;change=new Le;_chips=void 0;ngAfterContentInit(){this._pendingInitialValue!==void 0&&Promise.resolve().then(()=>{this._setSelectionByValue(this._pendingInitialValue,!1),this._pendingInitialValue=void 0}),this._chips.changes.pipe(Qi(null),vt(this._destroyed)).subscribe(()=>{this._syncListboxProperties()}),this.chipBlurChanges.pipe(vt(this._destroyed)).subscribe(()=>this._blur()),this.chipSelectionChanges.pipe(vt(this._destroyed)).subscribe(e=>{this.multiple||this._chips.forEach(i=>{i!==e.source&&i._setSelectedState(!1,!1,!1)}),e.isUserInput&&this._propagateChanges()})}focus(){if(this.disabled)return;let e=this._getFirstSelectedChip();e&&!e.disabled?e.focus():this._chips.length>0?this._keyManager.setFirstItemActive():this._elementRef.nativeElement.focus()}writeValue(e){this._chips?this._setSelectionByValue(e,!1):e!=null&&(this._pendingInitialValue=e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_setSelectionByValue(e,i=!0){this._clearSelection(),Array.isArray(e)?e.forEach(o=>this._selectValue(o,i)):this._selectValue(e,i)}_blur(){this.disabled||setTimeout(()=>{this.focused||this._markAsTouched()})}_keydown(e){e.keyCode===9&&super._allowFocusEscape()}_markAsTouched(){this._onTouched(),this._changeDetectorRef.markForCheck()}_propagateChanges(){let e=null;Array.isArray(this.selected)?e=this.selected.map(i=>i.value):e=this.selected?this.selected.value:void 0,this._value=e,this.change.emit(new sH(this,e)),this._onChange(e),this._changeDetectorRef.markForCheck()}_clearSelection(e){this._chips.forEach(i=>{i!==e&&i.deselect()})}_selectValue(e,i){let o=this._chips.find(r=>r.value!=null&&this.compareWith(r.value,e));return o&&(i?o.selectViaInteraction():o.select()),o}_syncListboxProperties(){this._chips&&Promise.resolve().then(()=>{this._chips.forEach(e=>{e._chipListMultiple=this.multiple,e.chipListSelectable=this._selectable,e._chipListHideSingleSelectionIndicator=this.hideSingleSelectionIndicator,e._changeDetectorRef.markForCheck()})})}_getFirstSelectedChip(){return Array.isArray(this.selected)?this.selected.length?this.selected[0]:void 0:this.selected}_skipPredicate(e){return!e.isInteractive}static \u0275fac=(()=>{let e;return function(o){return(e||(e=ti(n)))(o||n)}})();static \u0275cmp=Q({type:n,selectors:[["mat-chip-listbox"]],contentQueries:function(i,o,r){if(i&1&&bt(r,lH,5),i&2){let s;me(s=pe())&&(o._chips=s)}},hostAttrs:[1,"mdc-evolution-chip-set","mat-mdc-chip-listbox"],hostVars:11,hostBindings:function(i,o){i&1&&le("focus",function(){return o.focus()})("blur",function(){return o._blur()})("keydown",function(s){return o._keydown(s)}),i&2&&(rs("tabIndex",o.disabled||o.empty?-1:o.tabIndex),Re("role",o.role)("aria-describedby",o._ariaDescribedby||null)("aria-required",o.role?o.required:null)("aria-disabled",o.disabled.toString())("aria-multiselectable",o.multiple)("aria-orientation",o.ariaOrientation),ke("mat-mdc-chip-list-disabled",o.disabled)("mat-mdc-chip-list-required",o.required))},inputs:{multiple:[2,"multiple","multiple",Ke],ariaOrientation:[0,"aria-orientation","ariaOrientation"],selectable:[2,"selectable","selectable",Ke],compareWith:"compareWith",required:[2,"required","required",Ke],hideSingleSelectionIndicator:[2,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",Ke],value:"value"},outputs:{change:"change"},features:[At([rwe]),Ut,dt],ngContentSelectors:E7,decls:2,vars:0,consts:[["role","presentation",1,"mdc-evolution-chip-set__chips"]],template:function(i,o){i&1&&(wt(),x(0,"div",0),Fe(1),w())},styles:[nwe],encapsulation:2,changeDetection:0})}return n})();var swe=["*"];function awe(n,t){if(n&1&&(x(0,"div",4),Fe(1),w()),n&2){let e=Y();ke("toolbar-body-horizontal",e.isHorizontal)}}var ea=class n{isHorizontal=!1;isCollapsed=Ue(!1);toggleToolbar(){this.isCollapsed.update(t=>!t)}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=Q({type:n,selectors:[["app-floating-toolbar"]],inputs:{isHorizontal:"isHorizontal"},ngContentSelectors:swe,decls:6,vars:4,consts:[[1,"floating-toolbar"],[1,"toolbar-header"],["mat-icon-button","",3,"click"],["class","toolbar-body",3,"toolbar-body-horizontal",4,"ngIf"],[1,"toolbar-body"]],template:function(e,i){e&1&&(wt(),x(0,"div",0)(1,"div",1)(2,"button",2),le("click",function(){return i.toggleToolbar()}),x(3,"mat-icon"),P(4),w()()(),te(5,awe,2,2,"div",3),w()),e&2&&(ke("collapsed",i.isCollapsed()),I(4),ni(" ",i.isCollapsed()?"keyboard_arrow_up":"keyboard_arrow_down"," "),I(),z("ngIf",!i.isCollapsed()))},dependencies:[Gs,Tn,fo],styles:[".floating-toolbar[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:fixed;bottom:20px;left:50%;width:fit-content;padding:10px 20px;gap:4px;transform:translate(-50%);background:#fff;border-radius:var(--mat-sys-corner-small);z-index:100;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.toolbar-header[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center;width:100%}.toolbar-body[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:center;width:fit-content;gap:16px}.toolbar-body-horizontal[_ngcontent-%COMP%]{flex-direction:column!important;gap:32px}.floating-toolbar.collapsed[_ngcontent-%COMP%]{transform:translate(-50%) translateY(45%);opacity:.5}"]})};var ta=class n{constructor(t){this.analysisContextService=t}typeToHeader={submission:["Odosielate\u013E","N\xE1zov s\xFAboru","Cesta k s\xFAboru","Autor","D\xE1tum vytvorenia","Naposledy upravil","D\xE1tum \xFApravy","\u010Cas \xFApravy","Po\u010Det rev\xEDzi\xED","Naposledy vytla\u010Den\xE9"],plagSource:["Odosielate\u013E","N\xE1zov s\xFAboru","Cesta k s\xFAboru","Autor","D\xE1tum vytvorenia","Naposledy upravil","D\xE1tum \xFApravy","\u010Cas \xFApravy","Po\u010Det rev\xEDzi\xED","Naposledy vytla\u010Den\xE9","Zhoda meta\xFAdajov","Jaccardov koeficient (slovn\xE9 n-gramy)","Semantick\xE1 podobnos\u0165"]};exportHeatmapToCsv(t,e){let i=this.getSeriesRows(t),r=[["submitter",...t.map(s=>s.name)],...i].map(s=>s.join(", ")).join(`
`);this.createFile(r,e)}exportSubmissionToCsv(t,e){let i=this.getSubmissionRows(t),o=[this.typeToHeader.submission,...i].map(r=>r.join(", ")).join(`
`);this.createFile(o,e)}createFile(t,e){let i=new Blob([t],{type:"text/csv"}),o=document.createElement("a");o.href=URL.createObjectURL(i),o.download=e,o.click()}getSubmissionRows(t){return t.map(e=>[this.escapeString(e.fileData.submitter),this.escapeString(e.fileData.filename),this.escapeString(e.fileData.persistentPath),this.escapeString(e.fileData.metadata.creator),e.fileData.metadata.creationDate?Nr.mapUnixTimeToDate(e.fileData.metadata.creationDate):"",this.escapeString(e.fileData.metadata.modifier),e.fileData.metadata.modificationDate?Nr.mapUnixTimeToDate(e.fileData.metadata.modificationDate):"",Nr.mapToSecondsToHhMmSs(e.fileData.metadata.totalEditTime),e.fileData.metadata.revisionsNumber,e.fileData.metadata.lastPrinted?Nr.mapUnixTimeToDate(e.fileData.metadata.lastPrinted):""])}getPlagSourceRow(t,e){return[this.escapeString(t.fileData.submitter),this.escapeString(t.fileData.filename),this.escapeString(t.fileData.persistentPath),this.escapeString(t.fileData.metadata.creator),t.fileData.metadata.creationDate?Nr.mapUnixTimeToDate(t.fileData.metadata.creationDate):"",this.escapeString(t.fileData.metadata.modifier),t.fileData.metadata.modificationDate?Nr.mapUnixTimeToDate(t.fileData.metadata.modificationDate):"",Nr.mapToSecondsToHhMmSs(t.fileData.metadata.totalEditTime),t.fileData.metadata.revisionsNumber,t.fileData.metadata.lastPrinted?Nr.mapUnixTimeToDate(t.fileData.metadata.lastPrinted):"",e?jt.getFormattedScore(e,"META"):jt.formatScore(0),e?jt.getFormattedScore(e,"JACCARD"):jt.formatScore(0),e?jt.getFormattedScore(e,"SEMANTIC"):jt.formatScore(0)]}getSeriesRows(t){return t.map(e=>[e.name,...e.data.map(i=>i.y)])}escapeString(t){return t?t.includes(",")?`"${t}"`:t:""}exportPlagSources(t,e,i,o,r){let s=this.analysisContextService.getReport()();if(!s)return;let a=s.submissions,l=[];l.push(this.typeToHeader.plagSource),l.push([]),l.push(["Podozriv\xFD dokument"]),l.push(this.getSubmissionRows([t])[0]);let c=this.getSourceSubmission(t,o,a);this.pushSourceSubmission(l,c,o,"Zadanie s rovnak\xFDm autorstvom pod\u013Ea meta\xFAdajov");let d=this.getSourceSubmission(t,i,a);this.pushSourceSubmission(l,d,i,"Najvy\u0161\u0161ia podobnos\u0165 zisten\xE1 Jaccardov\xFDm koeficientom");let u=this.getSourceSubmission(t,e,a);this.pushSourceSubmission(l,u,e,"Najv\xE4\u010D\u0161ia podobnos\u0165 zisten\xE1 pomocou s\xE9mantick\xE9ho porovnania");let h=l.map(m=>m.join(", ")).join(`
`);this.createFile(h,r)}pushSourceSubmission(t,e,i,o,r="Nen\xE1jden\xFD"){t.push([]),t.push([o]),t.push(e?this.getPlagSourceRow(e,i):[r])}getSourceSubmission(t,e,i){if(!e)return null;let o=t.id===e.firstId?e.secondId:e.firstId;return i.get(o)||null}exportPair(t,e){let i=this.analysisContextService.getReport()();if(!i)return;let o=i.submissions,r=[];r.push(this.typeToHeader.plagSource);let s=o.get(t.firstId),a=o.get(t.secondId);r.push(s?this.getPlagSourceRow(s,t):["Nen\xE1jden\xFD"]),r.push(a?this.getPlagSourceRow(a,t):["Nen\xE1jden\xFD"]);let l=r.map(c=>c.join(", ")).join(`
`);this.createFile(l,e)}static \u0275fac=function(e){return new(e||n)(ct(Wt))};static \u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})};var lwe=["firstEditor"],cwe=["secondEditor"];function dwe(n,t){n&1&&(x(0,"app-content-container")(1,"app-surface",3),X(2,"mat-progress-bar",4),w()())}function uwe(n,t){if(n&1){let e=Nt();x(0,"app-content-container")(1,"app-surface",5)(2,"div",6)(3,"div",7)(4,"button",8),le("click",function(){Ze(e);let o=Y();return Qe(o.onExport())}),x(5,"mat-icon"),P(6,"download"),w()()(),x(7,"div",9),X(8,"app-metadata-diff-card",10),x(9,"div",11),X(10,"app-stat-card",12)(11,"app-stat-card",13)(12,"app-stat-card",14),w()()()(),x(13,"app-surface",15)(14,"div",16)(15,"app-text-editor",17,0),le("forceUnsubscribeFromScrollEventEmitter",function(){Ze(e);let o=Y();return Qe(o.isScrollSyncEnabled.set(!1))}),w(),x(17,"app-text-editor",17,1),le("forceUnsubscribeFromScrollEventEmitter",function(){Ze(e);let o=Y();return Qe(o.isScrollSyncEnabled.set(!1))}),w()()(),x(19,"app-floating-toolbar",18)(20,"mat-chip-listbox",19)(21,"div",20)(22,"mat-chip-option",21),le("click",function(){Ze(e);let o=Y();return Qe(o.toggleScrollSync())}),P(23," Pos\xFAva\u0165 s\xFA\u010Dasne "),w(),x(24,"mat-chip-option",21),le("click",function(){Ze(e);let o=Y();return Qe(o.toggleMarkingNavigation())}),P(25," Povoli\u0165 navig\xE1ciu "),w()()(),x(26,"button",22),le("click",function(){Ze(e);let o=Y();return Qe(o.loadDiffPage())}),P(27," Zobrazi\u0165 rozdiel "),w()()()}if(n&2){let e=Y();I(),z("isTitleCentered",!0)("wrapBreakpoint",1300)("isContentCentered",!1)("isHorizontal",!0),I(7),z("first",e.first())("second",e.second())("submissionPair",e.submissionPair()),I(2),z("value",e.getFormattedScore("JACCARD")),I(),z("value",e.getFormattedScore("META")),I(),z("value",e.getFormattedScore("SEMANTIC")),I(),z("isContentCentered",!1)("isTitleCentered",!0),I(2),z("submission",e.first())("plagCases",e.plagCases())("markingSide",0),I(2),z("submission",e.second())("plagCases",e.plagCases())("markingSide",1),I(2),z("isHorizontal",!0),I(3),z("selected",e.isScrollSyncEnabled()),I(2),z("selected",e.isMarkingNavigationEnabled())}}var vk=class n{constructor(t,e,i,o){this.analysisContext=t;this.exportService=e;this.router=i;this.route=o;ln(()=>{if(this.pairId()===null)return;let r=this.analysisContext.getReport()().pairs.get(this.pairId());if(r){this.submissionPair.set(r);let s=this.analysisContext.getReport()().submissions.get(r.firstId);this.first.set(s);let a=this.analysisContext.getReport()().submissions.get(r.secondId);this.second.set(a)}})}pairId=Ue(null);submissionPair=Ue(null);first=Ue(null);second=Ue(null);plagCases=Ri(()=>this.submissionPair()?.plagCases??[]);firstEditor;secondEditor;isScrollSyncEnabled=Ue(!0);isMarkingNavigationEnabled=Ue(!0);ngAfterViewInit(){this.firstEditor&&this.secondEditor&&(this.firstEditor.subscribeOnScrolling(this.secondEditor.scrollEventEmitter),this.secondEditor.subscribeOnScrolling(this.firstEditor.scrollEventEmitter),this.firstEditor.subscribeOnNavigationEvent(this.secondEditor.navigatePlagCaseEventEmitter),this.secondEditor.subscribeOnNavigationEvent(this.firstEditor.navigatePlagCaseEventEmitter))}ngOnDestroy(){this.pairId.set(null),this.submissionPair.set(null)}ngOnInit(){this.route.paramMap.subscribe(t=>{this.pairId.set(t.get("id"))})}toggleScrollSync(){this.isScrollSyncEnabled.update(t=>!t),this.isScrollSyncEnabled()?(this.firstEditor.subscribeOnScrolling(this.secondEditor.scrollEventEmitter),this.secondEditor.subscribeOnScrolling(this.firstEditor.scrollEventEmitter)):(this.firstEditor.unsubscribeFromScrolling(),this.secondEditor.unsubscribeFromScrolling())}getScoreByType(t){let e=this.submissionPair();if(e!==null){let i=e.plagScores.filter(o=>o.type===t).at(0);return i||null}return null}getFormattedScore(t){let e=this.getScoreByType(t);return e!==null?(e?.score*100).toFixed(2)+" %":"Nevypo\u010D\xEDtan\xE9"}loadDiffPage(){this.router.navigate(["/diff",this.first().id,this.second().id])}toggleMarkingNavigation(){this.isMarkingNavigationEnabled.update(t=>!t),this.firstEditor.toggleMarkingNavigation(this.isMarkingNavigationEnabled()),this.secondEditor.toggleMarkingNavigation(this.isMarkingNavigationEnabled())}onExport(){let t=this.submissionPair();t&&this.exportService.exportPair(t,Date.now().toFixed())}static \u0275fac=function(e){return new(e||n)(ie(Wt),ie(ta),ie(xi),ie(er))};static \u0275cmp=Q({type:n,selectors:[["app-submission-pair-view-page"]],viewQuery:function(e,i){if(e&1&&(rt(lwe,5),rt(cwe,5)),e&2){let o;me(o=pe())&&(i.firstEditor=o.first),me(o=pe())&&(i.secondEditor=o.first)}},decls:2,vars:2,consts:[["firstEditor",""],["secondEditor",""],[4,"ngIf"],["title","Na\u010Ditanie dvojice","subtitle",""],["mode","indeterminate"],["title","Vysledky","subtitle","",3,"isTitleCentered","wrapBreakpoint","isContentCentered","isHorizontal"],[1,"horizontal-card-group-wrapper"],[1,"header-with-actions"],["mat-icon-button","",3,"click"],[1,"horizontal-card-group"],[3,"first","second","submissionPair"],[1,"stat-flex-column"],["name","Jaccardov koeficient (bi-gramy)",3,"value"],["name","Podobnos\u0165 autorov (meta\xFAdaje)",3,"value"],["name","Semantick\xE1 podobnos\u0165",3,"value"],["title","Porovnanie obsahu","subtitle","",3,"isContentCentered","isTitleCentered"],[1,"editor-container"],[3,"forceUnsubscribeFromScrollEventEmitter","submission","plagCases","markingSide"],[3,"isHorizontal"],["multiple",""],[1,"options-menu"],[3,"click","selected"],["mat-raised-button","",3,"click"]],template:function(e,i){e&1&&te(0,dwe,3,0,"app-content-container",2)(1,uwe,28,21,"app-content-container",2),e&2&&(z("ngIf",i.submissionPair()===null),I(),z("ngIf",i.submissionPair()!==null))},dependencies:[Xn,An,Lg,Rn,fo,Vd,gk,_k,lH,cH,ea,Mn,Tn,Gs],styles:[".editor-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;height:90vh;gap:1rem}app-text-editor[_ngcontent-%COMP%]{width:100%;height:100%}.stat-flex-column[_ngcontent-%COMP%]{height:min-content;display:flex;flex-direction:row;flex-wrap:wrap;gap:16px}.options-menu[_ngcontent-%COMP%]{display:flex;flex-direction:row!important;gap:16px}"]})};var Ss=class n{constructor(t,e){this.analysisContext=t;this.router=e}canActivate(){return this.analysisContext.getReport()()!==null?!0:(this.analysisContext.clearContext(),this.router.navigate(["/import"]),!1)}static \u0275fac=function(e){return new(e||n)(ct(Wt),ct(xi))};static \u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})};var hwe=()=>[10,20,30,40];function mwe(n,t){n&1&&(x(0,"th",28),P(1," N\xE1zov s\xFAboru "),w())}function pwe(n,t){if(n&1&&(x(0,"td",29)(1,"div",30),P(2),w()()),n&2){let e=t.$implicit;I(2),ni(" ",e.fileData.filename," ")}}function fwe(n,t){n&1&&(x(0,"th",31),P(1," Odosielate\u013E "),w())}function gwe(n,t){if(n&1&&(x(0,"td",29)(1,"div",30),P(2),w()()),n&2){let e=t.$implicit;I(2),ni(" ",e.fileData.submitter," ")}}function _we(n,t){n&1&&(x(0,"th",32),P(1," Autor "),w())}function vwe(n,t){if(n&1&&(x(0,"td",29)(1,"div",30),P(2),w()()),n&2){let e=t.$implicit;I(2),ni(" ",e.fileData.metadata.creator?e.fileData.metadata.creator:"Nezn\xE1my"," ")}}function bwe(n,t){n&1&&(x(0,"th",33),P(1," Naposledy upravil "),w())}function ywe(n,t){if(n&1&&(x(0,"td",29)(1,"div",30),P(2),w()()),n&2){let e=t.$implicit;I(2),ni(" ",e.fileData.metadata.modifier?e.fileData.metadata.modifier:"Nezn\xE1my"," ")}}function xwe(n,t){n&1&&(x(0,"th",34),P(1," \u010Cas \xFApravy "),w())}function wwe(n,t){if(n&1&&(x(0,"td",35),P(1),Li(2,"minutesTime"),w()),n&2){let e=t.$implicit;z("submission",e)("checkTimeDeviation",!0),I(),ni(" ",Ni(2,3,e.fileData.metadata.totalEditTime)," ")}}function Cwe(n,t){n&1&&(x(0,"th",36),P(1," D\xE1tum vytvorenia "),w())}function Swe(n,t){if(n&1&&(x(0,"td",37),P(1),Li(2,"unixDate"),w()),n&2){let e=t.$implicit;z("submission",e),I(),ni(" ",e.fileData.metadata.creationDate?Ni(2,2,e.fileData.metadata.creationDate):"Nezn\xE1me"," ")}}function Iwe(n,t){n&1&&(x(0,"th",38),P(1," D\xE1tum \xFApravy "),w())}function Dwe(n,t){if(n&1&&(x(0,"td",39),P(1),Li(2,"unixDate"),w()),n&2){let e=t.$implicit;z("submission",e),I(),ni(" ",e.fileData.metadata.modificationDate?Ni(2,2,e.fileData.metadata.modificationDate):"Nezn\xE1me"," ")}}function Ewe(n,t){n&1&&X(0,"tr",40)}function kwe(n,t){n&1&&X(0,"tr",41)}var bk=class n{constructor(t,e){this.analysisContext=t;this.exportService=e;ln(()=>{this.submissionsDataSource.data=[...this.analysisContext.getReport()().submissions.values()].filter(i=>!i.indexed)})}pairsDisplayedColumns=["filename","submitter","creator","lastModifiedBy","totalEditTime","dateCreated","dateModified"];submissionsDataSource=new jd;sort;matPaginator;searchText=Ue("");ngAfterViewInit(){this.submissionsDataSource.sort=this.sort,this.submissionsDataSource.paginator=this.matPaginator,this.submissionsDataSource.filterPredicate=this.rowsFilter.bind(this)}rowsFilter(t,e){let i=t.fileData.submitter.toLowerCase()+" "+t.fileData.metadata.creator?.toLowerCase()+" "+t.fileData.metadata.modifier?.toLowerCase(),o=e.trim().split(/\s+/);for(let r of o)if(!i.includes(r))return!1;return!0}onSorting(t){let e=t.direction==="asc"?1:-1;t.active==="submitter"?this.submissionsDataSource.filteredData.sort((i,o)=>i.fileData.submitter.localeCompare(o.fileData.submitter)*e):t.active==="filename"?this.submissionsDataSource.filteredData.sort((i,o)=>i.fileData.filename.localeCompare(o.fileData.filename)*e):this.submissionsDataSource.filteredData.sort((i,o)=>this.compareSubmissions(i,o,t))}applyFilter(t){this.submissionsDataSource.filter=t?.trim().toLowerCase()}getSortValue(t,e){return t.fileData.metadata[e]}compareSubmissions(t,e,i){let o=this.getSortValue(t,i.active),r=this.getSortValue(e,i.active),s=i.direction==="asc"?1:-1;return o==null&&r==null?0:o==null?1:r==null?-1:typeof o=="string"&&typeof r=="string"?o.localeCompare(r)*s:(o-r)*s}downloadMetadataCsv(){this.exportService.exportSubmissionToCsv(this.submissionsDataSource.filteredData,Date.now().toFixed())}static \u0275fac=function(e){return new(e||n)(ie(Wt),ie(ta))};static \u0275cmp=Q({type:n,selectors:[["app-metadata-table"]],viewQuery:function(e,i){if(e&1&&(rt(Il,5),rt(Ac,5)),e&2){let o;me(o=pe())&&(i.sort=o.first),me(o=pe())&&(i.matPaginator=o.first)}},decls:37,vars:9,consts:[[1,"table-container"],[1,"table-search-row"],[1,"search-bar",2,"width","70%"],["matInput","",3,"ngModelChange","ngModel"],["mat-raised-button","",3,"click"],[1,"table-responsive","height-65"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"matSortChange","dataSource"],["matColumnDef","filename"],["mat-header-cell","","mat-sort-header","filename",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","submitter"],["mat-header-cell","","mat-sort-header","submitter",4,"matHeaderCellDef"],["matColumnDef","creator"],["mat-header-cell","","mat-sort-header","creator",4,"matHeaderCellDef"],["matColumnDef","lastModifiedBy"],["mat-header-cell","","mat-sort-header","modifier",4,"matHeaderCellDef"],["matColumnDef","totalEditTime"],["mat-header-cell","","mat-sort-header","totalEditTime",4,"matHeaderCellDef"],["mat-cell","","appMetadataDeviationHighlight","",3,"submission","checkTimeDeviation",4,"matCellDef"],["matColumnDef","dateCreated"],["mat-header-cell","","mat-sort-header","creationDate",4,"matHeaderCellDef"],["mat-cell","","appMetadataDeviationHighlight","","dateField","creationDate",3,"submission",4,"matCellDef"],["matColumnDef","dateModified"],["mat-header-cell","","mat-sort-header","modificationDate",4,"matHeaderCellDef"],["mat-cell","","appMetadataDeviationHighlight","","dateField","modificationDate",3,"submission",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"length","pageSize","pageSizeOptions"],["mat-header-cell","","mat-sort-header","filename"],["mat-cell",""],["appTextOverflowScroll","",1,"scrollable-text","cell-width-12"],["mat-header-cell","","mat-sort-header","submitter"],["mat-header-cell","","mat-sort-header","creator"],["mat-header-cell","","mat-sort-header","modifier"],["mat-header-cell","","mat-sort-header","totalEditTime"],["mat-cell","","appMetadataDeviationHighlight","",3,"submission","checkTimeDeviation"],["mat-header-cell","","mat-sort-header","creationDate"],["mat-cell","","appMetadataDeviationHighlight","","dateField","creationDate",3,"submission"],["mat-header-cell","","mat-sort-header","modificationDate"],["mat-cell","","appMetadataDeviationHighlight","","dateField","modificationDate",3,"submission"],["mat-header-row",""],["mat-row",""]],template:function(e,i){e&1&&(x(0,"div",0)(1,"div",1)(2,"mat-form-field",2)(3,"mat-label"),P(4,"H\u013Eada\u0165"),w(),x(5,"input",3),va("ngModelChange",function(r){return _a(i.searchText,r)||(i.searchText=r),r}),le("ngModelChange",function(r){return i.applyFilter(r)}),w()(),x(6,"button",4),le("click",function(){return i.downloadMetadataCsv()}),x(7,"mat-icon"),P(8,"download"),w(),x(9,"p"),P(10,"Stiahnu\u0165 ako csv"),w()()(),x(11,"div",5)(12,"table",6),le("matSortChange",function(r){return i.onSorting(r)}),rn(13,7),te(14,mwe,2,0,"th",8)(15,pwe,3,1,"td",9),sn(),rn(16,10),te(17,fwe,2,0,"th",11)(18,gwe,3,1,"td",9),sn(),rn(19,12),te(20,_we,2,0,"th",13)(21,vwe,3,1,"td",9),sn(),rn(22,14),te(23,bwe,2,0,"th",15)(24,ywe,3,1,"td",9),sn(),rn(25,16),te(26,xwe,2,0,"th",17)(27,wwe,3,5,"td",18),sn(),rn(28,19),te(29,Cwe,2,0,"th",20)(30,Swe,3,4,"td",21),sn(),rn(31,22),te(32,Iwe,2,0,"th",23)(33,Dwe,3,4,"td",24),sn(),te(34,Ewe,1,0,"tr",25)(35,kwe,1,0,"tr",26),w()(),X(36,"mat-paginator",27),w()),e&2&&(I(5),ga("ngModel",i.searchText),I(7),z("dataSource",i.submissionsDataSource),I(22),z("matHeaderRowDef",i.pairsDisplayedColumns)("matHeaderRowDefSticky",!0),I(),z("matRowDefColumns",i.pairsDisplayedColumns),I(),z("length",i.submissionsDataSource.data.length)("pageSize",20)("pageSizeOptions",Ps(8,hwe)))},dependencies:[Vo,Wd,Ho,Xn,$r,Kr,bs,uf,Il,pf,ff,mf,xf,gf,hf,Iu,bf,yf,vf,_f,Ac,Gl,Du,Tn,Mn,Xr],styles:[`.mat-column-filename{max-width:12rem}.mat-column-totalEditTime{max-width:7rem}
`,`:root{--mdc-filled-text-field-container-color: #faf9fd}:root{--mdc-filled-text-field-focus-active-indicator-color: transparent}:root{--mdc-filled-text-field-active-indicator-height: 0}.table-responsive{display:block;min-width:100%;box-sizing:border-box;overflow-x:scroll;overflow-y:scroll;border-bottom:1px solid var(--mat-sys-outline);background-color:#faf9fd}.table-responsive .mat-mdc-table{table-layout:auto;min-width:100%;max-width:100%;margin-bottom:1rem;display:table;border-collapse:collapse;margin:0;overflow-x:scroll}.table-responsive .mat-row,.table-responsive .mat-header-row{display:table-row}.table-responsive .mat-mdc-cell,.table-responsive .mat-mdc-header-cell{word-wrap:initial;display:table-cell;padding:0 8px;line-break:unset;flex-direction:column;white-space:nowrap;overflow:hidden;vertical-align:middle}.table-container{display:flex;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f;width:100%;flex-direction:column;box-sizing:border-box;overflow:hidden;border-radius:var(--mat-sys-corner-extra-large);background-color:var(--mat-sys-surface-container-high)}.table-container .table-search-row{display:flex;flex-direction:row;gap:8px;justify-content:space-between;align-items:center;padding:8px}.table-container .search-bar{width:100%;box-shadow:0 3px 1px -2px #0003,0 2px 2px #00000024,0 1px 5px #0000001f;overflow:hidden;border-radius:var(--mat-sys-corner-extra-large)}.table-container .search-bar .mat-mdc-form-field-subscript-wrapper{width:0;height:0}.table-container mat-paginator{border-radius:var(--mat-sys-corner-extra-small)}@media (max-width: 1350px){.table-container{width:900px}}@media (max-width: 1050px){.table-container{width:640px}}@media (max-width: 440px){.table-container{width:100%}}.cell-width-12{max-width:12rem}.cell-width-6{max-width:6rem}.height-65{height:65vh}.height-50{height:50vh}.width-50{width:50vw}.width-55{min-width:60vw}td.meta-warning{background-color:#ffb300}
`],encapsulation:2})};var yk=class n{static \u0275fac=function(e){return new(e||n)};static \u0275cmp=Q({type:n,selectors:[["app-metadata-page"]],decls:3,vars:3,consts:[["title","Meta\xFAdaje","subtitle","",3,"isTitleCentered","isHorizontal","isContentCentered"]],template:function(e,i){e&1&&(x(0,"app-content-container")(1,"app-surface",0),X(2,"app-metadata-table"),w()()),e&2&&(I(),z("isTitleCentered",!0)("isHorizontal",!1)("isContentCentered",!1))},dependencies:[Xn,An,bk,Rn],encapsulation:2})};function Mwe(n,t){if(n&1){let e=Nt();x(0,"div",21)(1,"mat-form-field",22)(2,"mat-label"),P(3,"H\u013Eada\u0165"),w(),x(4,"input",23),va("ngModelChange",function(o){Ze(e);let r=Y();return _a(r.searchText,o)||(r.searchText=o),Qe(o)}),le("ngModelChange",function(o){Ze(e);let r=Y();return Qe(r.applyFilter(o))}),w()()()}if(n&2){let e=Y();I(4),ga("ngModel",e.searchText)}}function Twe(n,t){n&1&&(x(0,"th",24),P(1," Odovzd\xE1vate\u013E "),w())}function Awe(n,t){if(n&1&&(x(0,"td",25)(1,"div",26),P(2),w()()),n&2){let e=t.$implicit;I(2),ni(" ",e.fileData.submitter," ")}}function Rwe(n,t){n&1&&(x(0,"th",27),P(1," N\xE1zov s\xFAboru "),w())}function Owe(n,t){if(n&1&&(x(0,"td",25)(1,"div",26),P(2),w()()),n&2){let e=t.$implicit;I(2),ni(" ",e.fileData.filename," ")}}function Pwe(n,t){n&1&&(x(0,"th",28),P(1," \u010Cas \xFApravy "),w())}function Lwe(n,t){if(n&1&&(x(0,"td",29),P(1),Li(2,"minutesTime"),w()),n&2){let e=t.$implicit;z("checkTimeDeviation",!0)("submission",e),I(),ni(" ",Ni(2,3,e.fileData.metadata.totalEditTime)," ")}}function Nwe(n,t){n&1&&(x(0,"th",30),P(1," Zhoda meta\xFAdajov "),w())}function Fwe(n,t){if(n&1&&(x(0,"td",25),P(1),w()),n&2){let e=t.$implicit,i=Y();I(),ni(" ",i.isMetadataMatched(e)?"Pr\xEDtomn\xE1":"Nen\xE1jden\xE1"," ")}}function zwe(n,t){n&1&&(x(0,"th",31),P(1," Maxim\xE1lna podobnos\u0165 % "),w())}function Bwe(n,t){if(n&1&&(x(0,"td",25),P(1),w()),n&2){let e=t.$implicit,i=Y();I(),ni(" ",i.getPlagScore(e.maxSimilarity)," ")}}function Hwe(n,t){n&1&&X(0,"th",32)}function Vwe(n,t){if(n&1){let e=Nt();x(0,"td",25)(1,"button",33),le("click",function(){let o=Ze(e).$implicit,r=Y();return Qe(r.loadSubmission(o))}),P(2,"Viac"),w()()}}function Wwe(n,t){n&1&&X(0,"tr",34)}function jwe(n,t){n&1&&X(0,"tr",35)}function Uwe(n,t){if(n&1&&X(0,"mat-paginator",36),n&2){let e=Y();z("length",e.submissionsDataSource.data.length)("pageSize",e.pageSize)("pageSizeOptions",e.pageSizeOptions)}}var Eu=class n{constructor(t,e,i){this.analysisContext=t;this.routeContextService=e;this.router=i;ln(()=>{let o=t.getReport()()?.submissions;if(o){let r=Array.from(o.values());this.showNotIndexedOnly&&(r=r.filter(s=>!s.indexed)),this.submissionsFilterSet!=null&&(r=r.filter(s=>this.submissionsFilterSet?.has(s.id))),this.submissionsDataSource.data=r.sort((s,a)=>a.maxSimilarity-s.maxSimilarity).slice(0,this.limit?this.limit:Number.MAX_VALUE)}})}static CONTEXT_KEY="submissions-table";displayedColumns=["submitter","filename","totalEditTime","meta-match","maxSimilarity","moreButton"];limit=10;submissionsFilterSet=null;enablePagination=!1;enableSearch=!1;showNotIndexedOnly=!0;pageSize=5;pageSizeOptions=[5,10,25,100];sort;matPaginator;contextPrefix="";submissionsDataSource=new jd([]);searchText=Ue("");ngAfterViewInit(){this.submissionsDataSource.sort=this.sort,this.submissionsDataSource.paginator=this.matPaginator,this.submissionsDataSource.filterPredicate=this.rowsFilter.bind(this),this.applyContext()}onSorting(t){let e=t.direction==="asc"?1:-1;t.active==="totalEditTime"?this.submissionsDataSource.filteredData.sort((i,o)=>e*(i.fileData.metadata.totalEditTime-o.fileData.metadata.totalEditTime)):t.active==="meta-match"?this.submissionsDataSource.filteredData.sort((i,o)=>this.isMetadataMatched(i)?1*e:-1*e):t.active==="submitter"?this.submissionsDataSource.filteredData.sort((i,o)=>i.fileData.submitter.localeCompare(o.fileData.submitter)*e):t.active==="filename"&&this.submissionsDataSource.filteredData.sort((i,o)=>i.fileData.filename.localeCompare(o.fileData.filename)*e)}getPlagScore(t){return jt.formatScore(t,1)}loadSubmission(t){this.router.navigate(["/submissions",t.id])}applyFilter(t){this.submissionsDataSource.filter=t?.toLowerCase()}ngOnDestroy(){this.routeContextService.putProperty(n.CONTEXT_KEY,JSON.stringify({filter:this.searchText()}),this.contextPrefix)}applyContext(){let t=this.routeContextService.popProperty(n.CONTEXT_KEY,this.contextPrefix);if(t){let e=JSON.parse(t);this.searchText.set(e.filter),this.applyFilter(this.searchText())}}isMetadataMatched(t){let e=this.analysisContext.getReport()();if(e){let i=e.pairs,o=t.pairIds.map(r=>i.get(r));for(let r of o)if(r){let s=jt.getScoreByType(r,"META");if(s&&s.score>0)return!0}}return!1}rowsFilter(t,e){let i=t.fileData.submitter.toLowerCase(),o=e.trim().split(/\s+/);for(let r of o)if(!i.includes(r))return!1;return!0}static \u0275fac=function(e){return new(e||n)(ie(Wt),ie(Sl),ie(xi))};static \u0275cmp=Q({type:n,selectors:[["app-submissions-table"]],viewQuery:function(e,i){if(e&1&&(rt(Il,5),rt(Ac,5)),e&2){let o;me(o=pe())&&(i.sort=o.first),me(o=pe())&&(i.matPaginator=o.first)}},inputs:{limit:"limit",submissionsFilterSet:"submissionsFilterSet",enablePagination:"enablePagination",enableSearch:"enableSearch",showNotIndexedOnly:"showNotIndexedOnly",pageSize:"pageSize",pageSizeOptions:"pageSizeOptions",contextPrefix:"contextPrefix"},decls:25,vars:6,consts:[[1,"table-container"],["class","table-search-row",4,"ngIf"],[1,"table-responsive","height-65"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"matSortChange","dataSource"],["matColumnDef","submitter"],["mat-header-cell","","mat-sort-header","submitter",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","filename"],["mat-header-cell","","mat-sort-header","filename",4,"matHeaderCellDef"],["matColumnDef","totalEditTime"],["mat-header-cell","","mat-sort-header","totalEditTime",4,"matHeaderCellDef"],["mat-cell","","appMetadataDeviationHighlight","",3,"checkTimeDeviation","submission",4,"matCellDef"],["matColumnDef","meta-match"],["mat-header-cell","","mat-sort-header","meta-match",4,"matHeaderCellDef"],["matColumnDef","maxSimilarity"],["mat-header-cell","","mat-sort-header","maxSimilarity",4,"matHeaderCellDef"],["matColumnDef","moreButton"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"length","pageSize","pageSizeOptions",4,"ngIf"],[1,"table-search-row"],[1,"search-bar"],["matInput","",3,"ngModelChange","ngModel"],["mat-header-cell","","mat-sort-header","submitter"],["mat-cell",""],["appTextOverflowScroll","",1,"scrollable-text"],["mat-header-cell","","mat-sort-header","filename"],["mat-header-cell","","mat-sort-header","totalEditTime"],["mat-cell","","appMetadataDeviationHighlight","",3,"checkTimeDeviation","submission"],["mat-header-cell","","mat-sort-header","meta-match"],["mat-header-cell","","mat-sort-header","maxSimilarity"],["mat-header-cell",""],["mat-button","",3,"click"],["mat-header-row",""],["mat-row",""],[3,"length","pageSize","pageSizeOptions"]],template:function(e,i){e&1&&(x(0,"div",0),te(1,Mwe,5,1,"div",1),x(2,"div",2)(3,"table",3),le("matSortChange",function(r){return i.onSorting(r)}),rn(4,4),te(5,Twe,2,0,"th",5)(6,Awe,3,1,"td",6),sn(),rn(7,7),te(8,Rwe,2,0,"th",8)(9,Owe,3,1,"td",6),sn(),rn(10,9),te(11,Pwe,2,0,"th",10)(12,Lwe,3,5,"td",11),sn(),rn(13,12),te(14,Nwe,2,0,"th",13)(15,Fwe,2,1,"td",6),sn(),rn(16,14),te(17,zwe,2,0,"th",15)(18,Bwe,2,1,"td",6),sn(),rn(19,16),te(20,Hwe,1,0,"th",17)(21,Vwe,3,0,"td",6),sn(),te(22,Wwe,1,0,"tr",18)(23,jwe,1,0,"tr",19),w()(),te(24,Uwe,1,3,"mat-paginator",20),w()),e&2&&(I(),z("ngIf",i.enableSearch),I(2),z("dataSource",i.submissionsDataSource),I(19),z("matHeaderRowDef",i.displayedColumns)("matHeaderRowDefSticky",!0),I(),z("matRowDefColumns",i.displayedColumns),I(),z("ngIf",i.enablePagination))},dependencies:[gf,pf,ff,bf,yf,uf,Ho,Mn,mf,hf,Il,xf,_f,vf,Ac,Wd,Vo,Xn,$r,Kr,bs,fo,Gl,Du,Xr],styles:[`:root{--mdc-filled-text-field-container-color: #faf9fd}:root{--mdc-filled-text-field-focus-active-indicator-color: transparent}:root{--mdc-filled-text-field-active-indicator-height: 0}.table-responsive{display:block;min-width:100%;box-sizing:border-box;overflow-x:scroll;overflow-y:scroll;border-bottom:1px solid var(--mat-sys-outline);background-color:#faf9fd}.table-responsive .mat-mdc-table{table-layout:auto;min-width:100%;max-width:100%;margin-bottom:1rem;display:table;border-collapse:collapse;margin:0;overflow-x:scroll}.table-responsive .mat-row,.table-responsive .mat-header-row{display:table-row}.table-responsive .mat-mdc-cell,.table-responsive .mat-mdc-header-cell{word-wrap:initial;display:table-cell;padding:0 8px;line-break:unset;flex-direction:column;white-space:nowrap;overflow:hidden;vertical-align:middle}.table-container{display:flex;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f;width:100%;flex-direction:column;box-sizing:border-box;overflow:hidden;border-radius:var(--mat-sys-corner-extra-large);background-color:var(--mat-sys-surface-container-high)}.table-container .table-search-row{display:flex;flex-direction:row;gap:8px;justify-content:space-between;align-items:center;padding:8px}.table-container .search-bar{width:100%;box-shadow:0 3px 1px -2px #0003,0 2px 2px #00000024,0 1px 5px #0000001f;overflow:hidden;border-radius:var(--mat-sys-corner-extra-large)}.table-container .search-bar .mat-mdc-form-field-subscript-wrapper{width:0;height:0}.table-container mat-paginator{border-radius:var(--mat-sys-corner-extra-small)}@media (max-width: 1350px){.table-container{width:900px}}@media (max-width: 1050px){.table-container{width:640px}}@media (max-width: 440px){.table-container{width:100%}}.cell-width-12{max-width:12rem}.cell-width-6{max-width:6rem}.height-65{height:65vh}.height-50{height:50vh}.width-50{width:50vw}.width-55{min-width:60vw}td.meta-warning{background-color:#ffb300}
`,`.mat-column-filename,.mat-column-submitter{box-sizing:content-box;min-width:25%}.mat-column-totalEditTime{min-width:10%}.mat-column-maxSimilarity{min-width:15%}.mat-column-moreButton,.mat-column-meta-match{min-width:10%}td.mat-column-maxSimilarity{text-align:end}td.mat-column-moreButton{text-align:center}th[mat-sort-header=maxSimilarity] .mat-sort-header-container{justify-content:flex-end}
`],encapsulation:2})};var qwe=()=>[10,20,30],xk=class n{constructor(t){this.route=t}filterSet=Ue(null);ngOnInit(){this.route.queryParamMap.subscribe(t=>{let e=t.get("filter-set");if(e){let i=e.split(",").map(o=>Number.parseInt(o));this.filterSet.set(new Set(i))}else this.filterSet.set(null)})}static \u0275fac=function(e){return new(e||n)(ie(er))};static \u0275cmp=Q({type:n,selectors:[["app-submissions-page"]],decls:3,vars:9,consts:[["title","Odovzdania","subtitle","",3,"isTitleCentered","isContentCentered"],[3,"limit","submissionsFilterSet","enablePagination","pageSize","pageSizeOptions","enableSearch"]],template:function(e,i){e&1&&(x(0,"app-content-container")(1,"app-surface",0),X(2,"app-submissions-table",1),w()()),e&2&&(I(),z("isTitleCentered",!0)("isContentCentered",!1),I(),z("limit",null)("submissionsFilterSet",i.filterSet())("enablePagination",!0)("pageSize",10)("pageSizeOptions",Ps(8,qwe))("enableSearch",!0))},dependencies:[An,Eu,Rn],styles:["table[_ngcontent-%COMP%]{border-bottom:1px solid var(--mat-sys-outline)}"]})};var wk=class n{constructor(t){this.exportService=t}submission;downloadMetadataCsv(){this.exportService.exportSubmissionToCsv([this.submission],this.submission.id.toFixed(0))}static \u0275fac=function(e){return new(e||n)(ie(ta))};static \u0275cmp=Q({type:n,selectors:[["app-submission-info-card"]],inputs:{submission:"submission"},decls:88,vars:16,consts:[[1,"card-group"],[1,"header-with-actions"],["mat-icon-button","",3,"click"],[1,"card-flex-box"],[1,"medium-card","base-card"],[1,"info-list"],["matListItemTitle",""],["matListItemLine",""],["matListItemMeta",""]],template:function(e,i){e&1&&(x(0,"div",0)(1,"div",1)(2,"h1"),P(3," Meta\xFAdaje "),w(),x(4,"button",2),le("click",function(){return i.downloadMetadataCsv()}),x(5,"mat-icon"),P(6,"download"),w()()(),x(7,"div",3)(8,"mat-card",4)(9,"mat-card-header")(10,"mat-card-title"),P(11,"Autori odovzdania"),w()(),x(12,"mat-card-content")(13,"mat-list",5)(14,"mat-list-item")(15,"h3",6),P(16),w(),x(17,"p",7),P(18,"Odosielate\u013E"),w(),x(19,"div",8)(20,"mat-icon"),P(21,"face"),w()()(),x(22,"mat-list-item")(23,"h3",6),P(24),w(),x(25,"p",7),P(26,"Naposledy upravil"),w(),x(27,"div",8)(28,"mat-icon"),P(29,"edit"),w()()(),x(30,"mat-list-item")(31,"h3",6),P(32),w(),x(33,"p",7),P(34,"Autor"),w(),x(35,"div",8)(36,"mat-icon"),P(37,"person"),w()()()()()(),x(38,"mat-card",4)(39,"mat-card-header")(40,"mat-card-title"),P(41,"Rozsah pr\xE1ce"),w()(),x(42,"mat-card-content")(43,"mat-list",5)(44,"mat-list-item")(45,"h3",6),P(46),Li(47,"unixDate"),w(),x(48,"p",7),P(49,"D\xE1tum vytvorenia"),w(),x(50,"div",8)(51,"mat-icon"),P(52,"calendar_today"),w()()(),x(53,"mat-list-item")(54,"h3",6),P(55),Li(56,"unixDate"),w(),x(57,"p",7),P(58,"D\xE1tum \xFApravy"),w(),x(59,"div",8)(60,"mat-icon"),P(61,"update"),w()()(),x(62,"mat-list-item")(63,"h3",6),P(64),Li(65,"unixDate"),w(),x(66,"p",7),P(67,"Naposledy vytla\u010Den\xE9"),w(),x(68,"div",8)(69,"mat-icon"),P(70,"print"),w()()(),x(71,"mat-list-item")(72,"h3",6),P(73),Li(74,"minutesTime"),w(),x(75,"p",7),P(76,"Celkov\xFD \u010Das \xFAprav"),w(),x(77,"div",8)(78,"mat-icon"),P(79,"timer"),w()()(),x(80,"mat-list-item")(81,"h3",6),P(82),w(),x(83,"p",7),P(84,"Po\u010Det rev\xEDzi\xED"),w(),x(85,"div",8)(86,"mat-icon"),P(87,"history"),w()()()()()()()()),e&2&&(I(16),be(i.submission.fileData.submitter),I(8),be(i.submission.fileData.metadata.modifier||"Nezn\xE1my"),I(8),be(i.submission.fileData.metadata.creator||"Nezn\xE1my"),I(14),be(i.submission.fileData.metadata.creationDate?Ni(47,8,i.submission.fileData.metadata.creationDate):"Nezn\xE1me"),I(9),be(i.submission.fileData.metadata.modificationDate?Ni(56,10,i.submission.fileData.metadata.modificationDate):"Nezn\xE1me"),I(9),be(i.submission.fileData.metadata.lastPrinted?Ni(65,12,i.submission.fileData.metadata.lastPrinted):"Nezn\xE1me"),I(9),be(Ni(74,14,i.submission.fileData.metadata.totalEditTime)),I(9),be(i.submission.fileData.metadata.revisionsNumber))},dependencies:[ql,Js,Ul,Su,Cu,Iu,Gl,Hd,Cl,Tn,Gs],styles:[".medium-card[_ngcontent-%COMP%]{max-width:350px;min-width:200px}.large-card[_ngcontent-%COMP%]{max-width:400px;min-width:200px}.extra-large-card[_ngcontent-%COMP%]{max-width:450px;min-width:200px}.base-card[_ngcontent-%COMP%]{margin:auto;padding:16px}p[_ngcontent-%COMP%]{font:var(--mat-sys-body-medium);color:var(--mat-sys-on-surface-variant);margin:0}h3[_ngcontent-%COMP%]{font:var(--mat-sys-title-small);color:var(--mat-sys-on-surface);margin:0}h1[_ngcontent-%COMP%]{font:var(--mat-sys-title-large);color:var(--mat-sys-on-surface);margin:0}.text-frame[_ngcontent-%COMP%]{width:100%;overflow-y:hidden;display:flex;flex-direction:column;justify-content:center;align-content:start}.text-center[_ngcontent-%COMP%]{align-items:center}.text-frame[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font:var(--mat-sys-title-large);color:var(--mat-sys-on-surface);margin:0}.text-frame[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font:var(--mat-sys-body-medium);color:var(--mat-sys-on-surface-variant);margin:0}.header-with-actions[_ngcontent-%COMP%]{display:flex;width:100%;flex-direction:row;align-items:center;justify-content:space-between}.header-with-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{justify-self:end}.header-with-actions[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{flex-grow:1;text-align:center;margin:0}.header-with-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:auto}.info-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:24px}.info-list[_ngcontent-%COMP%] > mat-list-item[_ngcontent-%COMP%]{padding-left:0;padding-right:0;gap:16px}.card-group[_ngcontent-%COMP%]{display:flex;max-width:700px;min-width:300px;flex-direction:column;padding:16px;gap:24px;border-radius:var(--mat-sys-corner-extra-large);background-color:var(--mat-sys-surface-container-high)}.card-flex-box[_ngcontent-%COMP%]{display:flex;max-width:700px;min-width:300px;flex-direction:row;justify-content:center;flex-wrap:wrap;gap:16px}.horizontal-card-group-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:fit-content;height:100%;padding:16px;gap:8px;border-radius:var(--mat-sys-corner-extra-large);background-color:var(--mat-sys-surface-container-high)}.horizontal-card-group[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:32px}@media (max-width: 1250px){.horizontal-card-group[_ngcontent-%COMP%]{flex-wrap:wrap}}","mat-card[_ngcontent-%COMP%]{gap:16px}"]})};function Gwe(n,t){n&1&&(x(0,"p"),P(1),w()),n&2&&(I(),be("Zadanie s rovnak\xFDm autorstvom pod\u013Ea meta\xFAdajov"))}function $we(n,t){n&1&&(x(0,"p"),P(1),w()),n&2&&(I(),be("Najv\xE4\u010D\u0161ia podobnos\u0165 zisten\xE1 pomocou s\xE9mantick\xE9ho porovnania"))}function Kwe(n,t){n&1&&(x(0,"p"),P(1),w()),n&2&&(I(),be("Najvy\u0161\u0161ia podobnos\u0165 zisten\xE1 Jaccardov\xFDm koeficientom"))}function Ywe(n,t){if(n&1&&(x(0,"h1"),P(1),w()),n&2){let e=Y();I(),be(e.hasMetaScore()?"Pr\xEDtomn\xE1":"Nen\xE1jden\xE1")}}function Xwe(n,t){if(n&1&&(x(0,"h1",2),P(1),w()),n&2){let e=Y();I(),be(e.getFormattedScore())}}var Ck=class n{constructor(t,e){this.analysisContextService=t;this.router=e;ln(()=>{let i=this.submissionPairSignal();if(i){let o=i.firstId;this.submission.id==i.firstId&&(o=i.secondId);let r=this.analysisContextService.getReport()();if(r){let s=r.submissions.get(o);s&&this.displayedSubmitter.set(s.fileData.submitter)}this.plagScore.set(jt.getScoreByType(i,this.similarityType))}})}submission;submissionPairSignal=Ue(null);similarityType;displayedSubmitter=Ue(null);plagScore=Ue(null);hasMetaScore(){let t=this.plagScore();return t?t.score>0:!1}getFormattedScore(){let t=this.plagScore();return t?jt.formatScore(t.score,0):"Nevypo\u010D\xEDtan\xE1"}onLoadPair(){this.router.navigate(["/pairs",this.submissionPairSignal().id])}static \u0275fac=function(e){return new(e||n)(ie(Wt),ie(xi))};static \u0275cmp=Q({type:n,selectors:[["app-comparison-fast-nav"]],inputs:{submission:"submission",submissionPairSignal:"submissionPairSignal",similarityType:"similarityType"},decls:11,vars:4,consts:[[1,"comparison-fast-nav","large-card-card","base-card"],[1,"text-frame"],[2,"text-wrap","nowrap"],["mat-button","",3,"click","disabled"]],template:function(e,i){if(e&1&&(x(0,"mat-card",0)(1,"div",1)(2,"h1"),P(3),w(),te(4,Gwe,2,1,"p")(5,$we,2,1,"p")(6,Kwe,2,1,"p"),w(),te(7,Ywe,2,1,"h1")(8,Xwe,2,1,"h1",2),x(9,"button",3),le("click",function(){return i.onLoadPair()}),P(10," Na\u010Dita\u0165 "),w()()),e&2){let o,r;I(3),be((o=i.displayedSubmitter())!==null&&o!==void 0?o:"Nen\xE1jden\xFD"),I(),Ye((r=i.similarityType)==="META"?4:r==="SEMANTIC"?5:r==="JACCARD"?6:-1),I(3),Ye(i.similarityType==="META"?7:8),I(2),z("disabled",i.submissionPairSignal()===null)}},dependencies:[Js,ql,Mn],styles:[".comparison-fast-nav[_ngcontent-%COMP%]{display:flex;width:100%;flex-direction:row;justify-content:space-between;align-items:center;flex-wrap:nowrap;gap:24px}",".medium-card[_ngcontent-%COMP%]{max-width:350px;min-width:200px}.large-card[_ngcontent-%COMP%]{max-width:400px;min-width:200px}.extra-large-card[_ngcontent-%COMP%]{max-width:450px;min-width:200px}.base-card[_ngcontent-%COMP%]{margin:auto;padding:16px}p[_ngcontent-%COMP%]{font:var(--mat-sys-body-medium);color:var(--mat-sys-on-surface-variant);margin:0}h3[_ngcontent-%COMP%]{font:var(--mat-sys-title-small);color:var(--mat-sys-on-surface);margin:0}h1[_ngcontent-%COMP%]{font:var(--mat-sys-title-large);color:var(--mat-sys-on-surface);margin:0}.text-frame[_ngcontent-%COMP%]{width:100%;overflow-y:hidden;display:flex;flex-direction:column;justify-content:center;align-content:start}.text-center[_ngcontent-%COMP%]{align-items:center}.text-frame[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font:var(--mat-sys-title-large);color:var(--mat-sys-on-surface);margin:0}.text-frame[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font:var(--mat-sys-body-medium);color:var(--mat-sys-on-surface-variant);margin:0}.header-with-actions[_ngcontent-%COMP%]{display:flex;width:100%;flex-direction:row;align-items:center;justify-content:space-between}.header-with-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{justify-self:end}.header-with-actions[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{flex-grow:1;text-align:center;margin:0}.header-with-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:auto}.info-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:24px}.info-list[_ngcontent-%COMP%] > mat-list-item[_ngcontent-%COMP%]{padding-left:0;padding-right:0;gap:16px}.card-group[_ngcontent-%COMP%]{display:flex;max-width:700px;min-width:300px;flex-direction:column;padding:16px;gap:24px;border-radius:var(--mat-sys-corner-extra-large);background-color:var(--mat-sys-surface-container-high)}.card-flex-box[_ngcontent-%COMP%]{display:flex;max-width:700px;min-width:300px;flex-direction:row;justify-content:center;flex-wrap:wrap;gap:16px}.horizontal-card-group-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:fit-content;height:100%;padding:16px;gap:8px;border-radius:var(--mat-sys-corner-extra-large);background-color:var(--mat-sys-surface-container-high)}.horizontal-card-group[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:32px}@media (max-width: 1250px){.horizontal-card-group[_ngcontent-%COMP%]{flex-wrap:wrap}}"]})};var Sk=class n{constructor(t,e){this.exportService=t;this.analysisContextService=e}submission;metaSubmissionPairSignal=Ue(null);semanticSubmissionPairSignal=Ue(null);jaccardSubmissionPairSignal=Ue(null);ngOnInit(){let t=this.analysisContextService.getReport()();if(t){let e={};this.submission.pairIds.map(i=>t.pairs.get(i)).filter(i=>i!==void 0).forEach(i=>{i?.plagScores.forEach(o=>{let r=e[o.type];r?r.push(i):e[o.type]=[i]})}),this.semanticSubmissionPairSignal.set(jt.findByPairWithMaxScore(e.SEMANTIC,"SEMANTIC")),this.jaccardSubmissionPairSignal.set(jt.findByPairWithMaxScore(e.JACCARD,"JACCARD")),this.metaSubmissionPairSignal.set(jt.findByPairWithMaxScore(e.META,"META"))}}onExport(){this.exportService.exportPlagSources(this.submission,this.semanticSubmissionPairSignal(),this.jaccardSubmissionPairSignal(),this.metaSubmissionPairSignal(),Date.now().toFixed(0))}static \u0275fac=function(e){return new(e||n)(ie(ta),ie(Wt))};static \u0275cmp=Q({type:n,selectors:[["app-plagiarism-sources"]],inputs:{submission:"submission"},decls:11,vars:6,consts:[[1,"card-group"],[1,"header-with-actions"],["mat-icon-button","",3,"click"],[1,"cards-stretch"],["similarityType","SEMANTIC",3,"submission","submissionPairSignal"],["similarityType","JACCARD",3,"submission","submissionPairSignal"],["similarityType","META",3,"submission","submissionPairSignal"]],template:function(e,i){e&1&&(x(0,"div",0)(1,"div",1)(2,"h1"),P(3," Najpravdepodobnej\u0161ie zdroje plagi\xE1torstva "),w(),x(4,"button",2),le("click",function(){return i.onExport()}),x(5,"mat-icon"),P(6,"download"),w()()(),x(7,"div",3),X(8,"app-comparison-fast-nav",4)(9,"app-comparison-fast-nav",5)(10,"app-comparison-fast-nav",6),w()()),e&2&&(I(8),z("submission",i.submission)("submissionPairSignal",i.semanticSubmissionPairSignal),I(),z("submission",i.submission)("submissionPairSignal",i.jaccardSubmissionPairSignal),I(),z("submission",i.submission)("submissionPairSignal",i.metaSubmissionPairSignal))},dependencies:[Ck,Gs,Tn],styles:[".cards-stretch[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:max-content;gap:16px}",".medium-card[_ngcontent-%COMP%]{max-width:350px;min-width:200px}.large-card[_ngcontent-%COMP%]{max-width:400px;min-width:200px}.extra-large-card[_ngcontent-%COMP%]{max-width:450px;min-width:200px}.base-card[_ngcontent-%COMP%]{margin:auto;padding:16px}p[_ngcontent-%COMP%]{font:var(--mat-sys-body-medium);color:var(--mat-sys-on-surface-variant);margin:0}h3[_ngcontent-%COMP%]{font:var(--mat-sys-title-small);color:var(--mat-sys-on-surface);margin:0}h1[_ngcontent-%COMP%]{font:var(--mat-sys-title-large);color:var(--mat-sys-on-surface);margin:0}.text-frame[_ngcontent-%COMP%]{width:100%;overflow-y:hidden;display:flex;flex-direction:column;justify-content:center;align-content:start}.text-center[_ngcontent-%COMP%]{align-items:center}.text-frame[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font:var(--mat-sys-title-large);color:var(--mat-sys-on-surface);margin:0}.text-frame[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font:var(--mat-sys-body-medium);color:var(--mat-sys-on-surface-variant);margin:0}.header-with-actions[_ngcontent-%COMP%]{display:flex;width:100%;flex-direction:row;align-items:center;justify-content:space-between}.header-with-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{justify-self:end}.header-with-actions[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{flex-grow:1;text-align:center;margin:0}.header-with-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:auto}.info-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:24px}.info-list[_ngcontent-%COMP%] > mat-list-item[_ngcontent-%COMP%]{padding-left:0;padding-right:0;gap:16px}.card-group[_ngcontent-%COMP%]{display:flex;max-width:700px;min-width:300px;flex-direction:column;padding:16px;gap:24px;border-radius:var(--mat-sys-corner-extra-large);background-color:var(--mat-sys-surface-container-high)}.card-flex-box[_ngcontent-%COMP%]{display:flex;max-width:700px;min-width:300px;flex-direction:row;justify-content:center;flex-wrap:wrap;gap:16px}.horizontal-card-group-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:fit-content;height:100%;padding:16px;gap:8px;border-radius:var(--mat-sys-corner-extra-large);background-color:var(--mat-sys-surface-container-high)}.horizontal-card-group[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:32px}@media (max-width: 1250px){.horizontal-card-group[_ngcontent-%COMP%]{flex-wrap:wrap}}"]})};function Zwe(n,t){if(n&1&&(x(0,"app-surface",1),X(1,"app-submission-info-card",2)(2,"app-plagiarism-sources",2),w(),x(3,"app-surface",3),X(4,"app-pairs-table",4),w(),x(5,"app-surface",5),X(6,"app-text-editor",6),w()),n&2){let e=Y();z("isTitleCentered",!0)("isContentCentered",!1)("isHorizontal",!0)("wrapBreakpoint",1200),I(),z("submission",e.submission()),I(),z("submission",e.submission()),I(),z("isTitleCentered",!0)("isContentCentered",!1),I(),z("pairsSource",e.pairsSource)("isHalfPage",!0)("contextPrefix","submission-view-page-"+e.submission().id),I(),z("isTitleCentered",!0)("isContentCentered",!1),I(),z("submission",e.submission())("markingSide",0)}}function Qwe(n,t){n&1&&(x(0,"app-surface",0),X(1,"mat-progress-bar",7),w())}var Ik=class n{constructor(t,e,i){this.analysisContext=t;this.router=e;this.route=i}submissionId=Ue(null);submission=Ri(()=>{let t=this.submissionId(),e=this.analysisContext.getReport()();if(t&&e){let i=e.submissions.get(t);return i||null}return this.router.navigate(["/submissions"]),null});pairsSource=Ri(()=>{let t=this.submissionId(),e=this.analysisContext.getReport()();if(t&&e){let i=e.submissions.get(t);return i?i.pairIds.map(o=>e.pairs.get(o)):[]}return this.router.navigate(["/submissions"]),[]});ngOnInit(){this.route.paramMap.subscribe(t=>{let e=t.get("id");e&&this.submissionId.set(parseInt(e))})}static \u0275fac=function(e){return new(e||n)(ie(Wt),ie(xi),ie(er))};static \u0275cmp=Q({type:n,selectors:[["app-submission-view-page"]],decls:3,vars:1,consts:[["title","Na\u010D\xEDtanie odovzdania","subtitle",""],["title","Informacie o odovzdan\xED","subtitle","",3,"isTitleCentered","isContentCentered","isHorizontal","wrapBreakpoint"],[3,"submission"],["title","Dvojice odovzdan\xED","subtitle","",3,"isTitleCentered","isContentCentered"],[3,"pairsSource","isHalfPage","contextPrefix"],["title","Obsah odovzdania","subtitle","",3,"isTitleCentered","isContentCentered"],[3,"submission","markingSide"],["mode","indeterminate"]],template:function(e,i){e&1&&(x(0,"app-content-container"),te(1,Zwe,7,15)(2,Qwe,2,0,"app-surface",0),w()),e&2&&(I(),Ye(i.submission()!==null?1:2))},dependencies:[Rn,wk,An,Vd,Gd,Xn,Lg,Sk],styles:["app-text-editor[_ngcontent-%COMP%]{height:60vh}"]})};var Jwe=["chart"],Ng=(()=>{class n{constructor(){this.chart=nn(),this.annotations=nn(),this.colors=nn(),this.dataLabels=nn(),this.series=nn(),this.stroke=nn(),this.labels=nn(),this.legend=nn(),this.markers=nn(),this.noData=nn(),this.fill=nn(),this.tooltip=nn(),this.plotOptions=nn(),this.responsive=nn(),this.xaxis=nn(),this.yaxis=nn(),this.forecastDataPoints=nn(),this.grid=nn(),this.states=nn(),this.title=nn(),this.subtitle=nn(),this.theme=nn(),this.autoUpdateSeries=nn(!0),this.chartReady=pW(),this.chartInstance=Ue(null),this.chartElement=EW.required("chart"),this.ngZone=y(et),this.isBrowser=Cx(y(fa))}ngOnChanges(e){this.isBrowser&&this.ngZone.runOutsideAngular(()=>{DT.schedule(()=>this.hydrate(e))})}ngOnDestroy(){this.destroy()}hydrate(e){if(this.autoUpdateSeries()&&Object.keys(e).filter(o=>o!=="series").length===0){this.updateSeries(this.series(),!0);return}this.createElement()}createElement(){return k(this,null,function*(){let{default:e}=yield import("./chunk-EFSHX2N5.js");window.ApexCharts||=e;let i={};["annotations","chart","colors","dataLabels","series","stroke","labels","legend","fill","tooltip","plotOptions","responsive","markers","noData","xaxis","yaxis","forecastDataPoints","grid","states","title","subtitle","theme"].forEach(s=>{let a=this[s]();a&&(i[s]=a)}),this.destroy();let r=this.ngZone.runOutsideAngular(()=>new e(this.chartElement().nativeElement,i));this.chartInstance.set(r),this.render(),this.chartReady.emit({chartObj:r})})}render(){return this.ngZone.runOutsideAngular(()=>this.chartInstance()?.render())}updateOptions(e,i,o,r){return this.ngZone.runOutsideAngular(()=>this.chartInstance()?.updateOptions(e,i,o,r))}updateSeries(e,i){return this.ngZone.runOutsideAngular(()=>this.chartInstance()?.updateSeries(e,i))}appendSeries(e,i){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.appendSeries(e,i))}appendData(e){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.appendData(e))}highlightSeries(e){return this.ngZone.runOutsideAngular(()=>this.chartInstance()?.highlightSeries(e))}toggleSeries(e){return this.ngZone.runOutsideAngular(()=>this.chartInstance()?.toggleSeries(e))}showSeries(e){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.showSeries(e))}hideSeries(e){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.hideSeries(e))}resetSeries(){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.resetSeries())}zoomX(e,i){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.zoomX(e,i))}toggleDataPointSelection(e,i){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.toggleDataPointSelection(e,i))}destroy(){this.chartInstance()?.destroy(),this.chartInstance.set(null)}setLocale(e){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.setLocale(e))}paper(){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.paper())}addXaxisAnnotation(e,i,o){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.addXaxisAnnotation(e,i,o))}addYaxisAnnotation(e,i,o){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.addYaxisAnnotation(e,i,o))}addPointAnnotation(e,i,o){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.addPointAnnotation(e,i,o))}removeAnnotation(e,i){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.removeAnnotation(e,i))}clearAnnotations(e){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.clearAnnotations(e))}dataURI(e){return this.chartInstance()?.dataURI(e)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=Q({type:n,selectors:[["apx-chart"]],viewQuery:function(i,o){i&1&&LW(o.chartElement,Jwe,5),i&2&&gx()},inputs:{chart:[1,"chart"],annotations:[1,"annotations"],colors:[1,"colors"],dataLabels:[1,"dataLabels"],series:[1,"series"],stroke:[1,"stroke"],labels:[1,"labels"],legend:[1,"legend"],markers:[1,"markers"],noData:[1,"noData"],fill:[1,"fill"],tooltip:[1,"tooltip"],plotOptions:[1,"plotOptions"],responsive:[1,"responsive"],xaxis:[1,"xaxis"],yaxis:[1,"yaxis"],forecastDataPoints:[1,"forecastDataPoints"],grid:[1,"grid"],states:[1,"states"],title:[1,"title"],subtitle:[1,"subtitle"],theme:[1,"theme"],autoUpdateSeries:[1,"autoUpdateSeries"]},outputs:{chartReady:"chartReady"},features:[Di],decls:2,vars:0,consts:[["chart",""]],template:function(i,o){i&1&&X(0,"div",null,0)},encapsulation:2,changeDetection:0})}}return n})();var Dk=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=xt({type:n})}static{this.\u0275inj=yt({})}}return n})();var eCe=["knob"],tCe=["valueIndicatorContainer"];function iCe(n,t){if(n&1&&(x(0,"div",2,1)(2,"div",5)(3,"span",6),P(4),w()()()),n&2){let e=Y();I(4),be(e.valueIndicatorText)}}var nCe=["trackActive"],oCe=["*"];function rCe(n,t){if(n&1&&X(0,"div"),n&2){let e=t.$implicit,i=t.$index,o=Y(3);Lo(e===0?"mdc-slider__tick-mark--active":"mdc-slider__tick-mark--inactive"),po("transform",o._calcTickMarkTransform(i))}}function sCe(n,t){if(n&1&&Vr(0,rCe,1,4,"div",8,OW),n&2){let e=Y(2);Wr(e._tickMarks)}}function aCe(n,t){if(n&1&&(x(0,"div",6,1),te(2,sCe,2,0),w()),n&2){let e=Y();I(2),Ye(e._cachedWidth?2:-1)}}function lCe(n,t){if(n&1&&X(0,"mat-slider-visual-thumb",7),n&2){let e=Y();z("discrete",e.discrete)("thumbPosition",1)("valueIndicatorText",e.startValueIndicatorText)}}var Kt=function(n){return n[n.START=1]="START",n[n.END=2]="END",n}(Kt||{}),Fg=function(n){return n[n.ACTIVE=0]="ACTIVE",n[n.INACTIVE=1]="INACTIVE",n}(Fg||{}),dH=new ue("_MatSlider"),M7=new ue("_MatSliderThumb"),cCe=new ue("_MatSliderRangeThumb"),T7=new ue("_MatSliderVisualThumb");var dCe=(()=>{class n{_cdr=y(Yt);_ngZone=y(et);_slider=y(dH);_renderer=y(on);_listenerCleanups;discrete;thumbPosition;valueIndicatorText;_ripple;_knob;_valueIndicatorContainer;_sliderInput;_sliderInputEl;_hoverRippleRef;_focusRippleRef;_activeRippleRef;_isHovered=!1;_isActive=!1;_isValueIndicatorVisible=!1;_hostElement=y(He).nativeElement;_platform=y(Zt);constructor(){}ngAfterViewInit(){let e=this._slider._getInput(this.thumbPosition);e&&(this._ripple.radius=24,this._sliderInput=e,this._sliderInputEl=this._sliderInput._hostElement,this._ngZone.runOutsideAngular(()=>{let i=this._sliderInputEl,o=this._renderer;this._listenerCleanups=[o.listen(i,"pointermove",this._onPointerMove),o.listen(i,"pointerdown",this._onDragStart),o.listen(i,"pointerup",this._onDragEnd),o.listen(i,"pointerleave",this._onMouseLeave),o.listen(i,"focus",this._onFocus),o.listen(i,"blur",this._onBlur)]}))}ngOnDestroy(){this._listenerCleanups?.forEach(e=>e())}_onPointerMove=e=>{if(this._sliderInput._isFocused)return;let i=this._hostElement.getBoundingClientRect(),o=this._slider._isCursorOnSliderThumb(e,i);this._isHovered=o,o?this._showHoverRipple():this._hideRipple(this._hoverRippleRef)};_onMouseLeave=()=>{this._isHovered=!1,this._hideRipple(this._hoverRippleRef)};_onFocus=()=>{this._hideRipple(this._hoverRippleRef),this._showFocusRipple(),this._hostElement.classList.add("mdc-slider__thumb--focused")};_onBlur=()=>{this._isActive||this._hideRipple(this._focusRippleRef),this._isHovered&&this._showHoverRipple(),this._hostElement.classList.remove("mdc-slider__thumb--focused")};_onDragStart=e=>{e.button===0&&(this._isActive=!0,this._showActiveRipple())};_onDragEnd=()=>{this._isActive=!1,this._hideRipple(this._activeRippleRef),this._sliderInput._isFocused||this._hideRipple(this._focusRippleRef),this._platform.SAFARI&&this._showHoverRipple()};_showHoverRipple(){this._isShowingRipple(this._hoverRippleRef)||(this._hoverRippleRef=this._showRipple({enterDuration:0,exitDuration:0}),this._hoverRippleRef?.element.classList.add("mat-mdc-slider-hover-ripple"))}_showFocusRipple(){this._isShowingRipple(this._focusRippleRef)||(this._focusRippleRef=this._showRipple({enterDuration:0,exitDuration:0},!0),this._focusRippleRef?.element.classList.add("mat-mdc-slider-focus-ripple"))}_showActiveRipple(){this._isShowingRipple(this._activeRippleRef)||(this._activeRippleRef=this._showRipple({enterDuration:225,exitDuration:400}),this._activeRippleRef?.element.classList.add("mat-mdc-slider-active-ripple"))}_isShowingRipple(e){return e?.state===Pr.FADING_IN||e?.state===Pr.VISIBLE}_showRipple(e,i){if(!this._slider.disabled&&(this._showValueIndicator(),this._slider._isRange&&this._slider._getThumb(this.thumbPosition===Kt.START?Kt.END:Kt.START)._showValueIndicator(),!(this._slider._globalRippleOptions?.disabled&&!i)))return this._ripple.launch({animation:this._slider._noopAnimations?{enterDuration:0,exitDuration:0}:e,centered:!0,persistent:!0})}_hideRipple(e){if(e?.fadeOut(),this._isShowingAnyRipple())return;this._slider._isRange||this._hideValueIndicator();let i=this._getSibling();i._isShowingAnyRipple()||(this._hideValueIndicator(),i._hideValueIndicator())}_showValueIndicator(){this._hostElement.classList.add("mdc-slider__thumb--with-indicator")}_hideValueIndicator(){this._hostElement.classList.remove("mdc-slider__thumb--with-indicator")}_getSibling(){return this._slider._getThumb(this.thumbPosition===Kt.START?Kt.END:Kt.START)}_getValueIndicatorContainer(){return this._valueIndicatorContainer?.nativeElement}_getKnob(){return this._knob.nativeElement}_isShowingAnyRipple(){return this._isShowingRipple(this._hoverRippleRef)||this._isShowingRipple(this._focusRippleRef)||this._isShowingRipple(this._activeRippleRef)}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Q({type:n,selectors:[["mat-slider-visual-thumb"]],viewQuery:function(i,o){if(i&1&&(rt(Jp,5),rt(eCe,5),rt(tCe,5)),i&2){let r;me(r=pe())&&(o._ripple=r.first),me(r=pe())&&(o._knob=r.first),me(r=pe())&&(o._valueIndicatorContainer=r.first)}},hostAttrs:[1,"mdc-slider__thumb","mat-mdc-slider-visual-thumb"],inputs:{discrete:"discrete",thumbPosition:"thumbPosition",valueIndicatorText:"valueIndicatorText"},features:[At([{provide:T7,useExisting:n}])],decls:4,vars:2,consts:[["knob",""],["valueIndicatorContainer",""],[1,"mdc-slider__value-indicator-container"],[1,"mdc-slider__thumb-knob"],["matRipple","",1,"mat-focus-indicator",3,"matRippleDisabled"],[1,"mdc-slider__value-indicator"],[1,"mdc-slider__value-indicator-text"]],template:function(i,o){i&1&&(te(0,iCe,5,1,"div",2),X(1,"div",3,0)(3,"div",4)),i&2&&(Ye(o.discrete?0:-1),I(3),z("matRippleDisabled",!0))},dependencies:[Jp],styles:[".mat-mdc-slider-visual-thumb .mat-ripple{height:100%;width:100%}.mat-mdc-slider .mdc-slider__tick-marks{justify-content:start}.mat-mdc-slider .mdc-slider__tick-marks .mdc-slider__tick-mark--active,.mat-mdc-slider .mdc-slider__tick-marks .mdc-slider__tick-mark--inactive{position:absolute;left:2px}"],encapsulation:2,changeDetection:0})}return n})(),Ek=(()=>{class n{_ngZone=y(et);_cdr=y(Yt);_elementRef=y(He);_dir=y(mn,{optional:!0});_globalRippleOptions=y(Td,{optional:!0});_trackActive;_thumbs;_input;_inputs;get disabled(){return this._disabled}set disabled(e){this._disabled=e;let i=this._getInput(Kt.END),o=this._getInput(Kt.START);i&&(i.disabled=this._disabled),o&&(o.disabled=this._disabled)}_disabled=!1;get discrete(){return this._discrete}set discrete(e){this._discrete=e,this._updateValueIndicatorUIs()}_discrete=!1;showTickMarks=!1;get min(){return this._min}set min(e){let i=isNaN(e)?this._min:e;this._min!==i&&this._updateMin(i)}_min=0;color;disableRipple=!1;_updateMin(e){let i=this._min;this._min=e,this._isRange?this._updateMinRange({old:i,new:e}):this._updateMinNonRange(e),this._onMinMaxOrStepChange()}_updateMinRange(e){let i=this._getInput(Kt.END),o=this._getInput(Kt.START),r=i.value,s=o.value;o.min=e.new,i.min=Math.max(e.new,o.value),o.max=Math.min(i.max,i.value),o._updateWidthInactive(),i._updateWidthInactive(),e.new<e.old?this._onTranslateXChangeBySideEffect(i,o):this._onTranslateXChangeBySideEffect(o,i),r!==i.value&&this._onValueChange(i),s!==o.value&&this._onValueChange(o)}_updateMinNonRange(e){let i=this._getInput(Kt.END);if(i){let o=i.value;i.min=e,i._updateThumbUIByValue(),this._updateTrackUI(i),o!==i.value&&this._onValueChange(i)}}get max(){return this._max}set max(e){let i=isNaN(e)?this._max:e;this._max!==i&&this._updateMax(i)}_max=100;_updateMax(e){let i=this._max;this._max=e,this._isRange?this._updateMaxRange({old:i,new:e}):this._updateMaxNonRange(e),this._onMinMaxOrStepChange()}_updateMaxRange(e){let i=this._getInput(Kt.END),o=this._getInput(Kt.START),r=i.value,s=o.value;i.max=e.new,o.max=Math.min(e.new,i.value),i.min=o.value,i._updateWidthInactive(),o._updateWidthInactive(),e.new>e.old?this._onTranslateXChangeBySideEffect(o,i):this._onTranslateXChangeBySideEffect(i,o),r!==i.value&&this._onValueChange(i),s!==o.value&&this._onValueChange(o)}_updateMaxNonRange(e){let i=this._getInput(Kt.END);if(i){let o=i.value;i.max=e,i._updateThumbUIByValue(),this._updateTrackUI(i),o!==i.value&&this._onValueChange(i)}}get step(){return this._step}set step(e){let i=isNaN(e)?this._step:e;this._step!==i&&this._updateStep(i)}_step=1;_updateStep(e){this._step=e,this._isRange?this._updateStepRange():this._updateStepNonRange(),this._onMinMaxOrStepChange()}_updateStepRange(){let e=this._getInput(Kt.END),i=this._getInput(Kt.START),o=e.value,r=i.value,s=i.value;e.min=this._min,i.max=this._max,e.step=this._step,i.step=this._step,this._platform.SAFARI&&(e.value=e.value,i.value=i.value),e.min=Math.max(this._min,i.value),i.max=Math.min(this._max,e.value),i._updateWidthInactive(),e._updateWidthInactive(),e.value<s?this._onTranslateXChangeBySideEffect(i,e):this._onTranslateXChangeBySideEffect(e,i),o!==e.value&&this._onValueChange(e),r!==i.value&&this._onValueChange(i)}_updateStepNonRange(){let e=this._getInput(Kt.END);if(e){let i=e.value;e.step=this._step,this._platform.SAFARI&&(e.value=e.value),e._updateThumbUIByValue(),i!==e.value&&this._onValueChange(e)}}displayWith=e=>`${e}`;_tickMarks;_noopAnimations;_dirChangeSubscription;_resizeObserver;_cachedWidth;_cachedLeft;_rippleRadius=24;startValueIndicatorText="";endValueIndicatorText="";_endThumbTransform;_startThumbTransform;_isRange=!1;_isRtl=!1;_hasViewInitialized=!1;_tickMarkTrackWidth=0;_hasAnimation=!1;_resizeTimer=null;_platform=y(Zt);constructor(){y(kn).load(qs);let e=y(Wi,{optional:!0});this._noopAnimations=e==="NoopAnimations",this._dir&&(this._dirChangeSubscription=this._dir.change.subscribe(()=>this._onDirChange()),this._isRtl=this._dir.value==="rtl")}_knobRadius=8;_inputPadding;ngAfterViewInit(){this._platform.isBrowser&&this._updateDimensions();let e=this._getInput(Kt.END),i=this._getInput(Kt.START);this._isRange=!!e&&!!i,this._cdr.detectChanges();let o=this._getThumb(Kt.END);this._rippleRadius=o._ripple.radius,this._inputPadding=this._rippleRadius-this._knobRadius,this._isRange?this._initUIRange(e,i):this._initUINonRange(e),this._updateTrackUI(e),this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._observeHostResize(),this._cdr.detectChanges()}_initUINonRange(e){e.initProps(),e.initUI(),this._updateValueIndicatorUI(e),this._hasViewInitialized=!0,e._updateThumbUIByValue()}_initUIRange(e,i){e.initProps(),e.initUI(),i.initProps(),i.initUI(),e._updateMinMax(),i._updateMinMax(),e._updateStaticStyles(),i._updateStaticStyles(),this._updateValueIndicatorUIs(),this._hasViewInitialized=!0,e._updateThumbUIByValue(),i._updateThumbUIByValue()}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._resizeObserver?.disconnect(),this._resizeObserver=null}_onDirChange(){this._isRtl=this._dir?.value==="rtl",this._isRange?this._onDirChangeRange():this._onDirChangeNonRange(),this._updateTickMarkUI()}_onDirChangeRange(){let e=this._getInput(Kt.END),i=this._getInput(Kt.START);e._setIsLeftThumb(),i._setIsLeftThumb(),e.translateX=e._calcTranslateXByValue(),i.translateX=i._calcTranslateXByValue(),e._updateStaticStyles(),i._updateStaticStyles(),e._updateWidthInactive(),i._updateWidthInactive(),e._updateThumbUIByValue(),i._updateThumbUIByValue()}_onDirChangeNonRange(){this._getInput(Kt.END)._updateThumbUIByValue()}_observeHostResize(){typeof ResizeObserver>"u"||!ResizeObserver||this._ngZone.runOutsideAngular(()=>{this._resizeObserver=new ResizeObserver(()=>{this._isActive()||(this._resizeTimer&&clearTimeout(this._resizeTimer),this._onResize())}),this._resizeObserver.observe(this._elementRef.nativeElement)})}_isActive(){return this._getThumb(Kt.START)._isActive||this._getThumb(Kt.END)._isActive}_getValue(e=Kt.END){let i=this._getInput(e);return i?i.value:this.min}_skipUpdate(){return!!(this._getInput(Kt.START)?._skipUIUpdate||this._getInput(Kt.END)?._skipUIUpdate)}_updateDimensions(){this._cachedWidth=this._elementRef.nativeElement.offsetWidth,this._cachedLeft=this._elementRef.nativeElement.getBoundingClientRect().left}_setTrackActiveStyles(e){let i=this._trackActive.nativeElement.style;i.left=e.left,i.right=e.right,i.transformOrigin=e.transformOrigin,i.transform=e.transform}_calcTickMarkTransform(e){let i=e*(this._tickMarkTrackWidth/(this._tickMarks.length-1));return`translateX(${this._isRtl?this._cachedWidth-6-i:i}px`}_onTranslateXChange(e){this._hasViewInitialized&&(this._updateThumbUI(e),this._updateTrackUI(e),this._updateOverlappingThumbUI(e))}_onTranslateXChangeBySideEffect(e,i){this._hasViewInitialized&&(e._updateThumbUIByValue(),i._updateThumbUIByValue())}_onValueChange(e){this._hasViewInitialized&&(this._updateValueIndicatorUI(e),this._updateTickMarkUI(),this._cdr.detectChanges())}_onMinMaxOrStepChange(){this._hasViewInitialized&&(this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._cdr.markForCheck())}_onResize(){if(this._hasViewInitialized){if(this._updateDimensions(),this._isRange){let e=this._getInput(Kt.END),i=this._getInput(Kt.START);e._updateThumbUIByValue(),i._updateThumbUIByValue(),e._updateStaticStyles(),i._updateStaticStyles(),e._updateMinMax(),i._updateMinMax(),e._updateWidthInactive(),i._updateWidthInactive()}else{let e=this._getInput(Kt.END);e&&e._updateThumbUIByValue()}this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._cdr.detectChanges()}}_thumbsOverlap=!1;_areThumbsOverlapping(){let e=this._getInput(Kt.START),i=this._getInput(Kt.END);return!e||!i?!1:i.translateX-e.translateX<20}_updateOverlappingThumbClassNames(e){let i=e.getSibling(),o=this._getThumb(e.thumbPosition);this._getThumb(i.thumbPosition)._hostElement.classList.remove("mdc-slider__thumb--top"),o._hostElement.classList.toggle("mdc-slider__thumb--top",this._thumbsOverlap)}_updateOverlappingThumbUI(e){!this._isRange||this._skipUpdate()||this._thumbsOverlap!==this._areThumbsOverlapping()&&(this._thumbsOverlap=!this._thumbsOverlap,this._updateOverlappingThumbClassNames(e))}_updateThumbUI(e){if(this._skipUpdate())return;let i=this._getThumb(e.thumbPosition===Kt.END?Kt.END:Kt.START);i._hostElement.style.transform=`translateX(${e.translateX}px)`}_updateValueIndicatorUI(e){if(this._skipUpdate())return;let i=this.displayWith(e.value);if(this._hasViewInitialized?e._valuetext.set(i):e._hostElement.setAttribute("aria-valuetext",i),this.discrete){e.thumbPosition===Kt.START?this.startValueIndicatorText=i:this.endValueIndicatorText=i;let o=this._getThumb(e.thumbPosition);i.length<3?o._hostElement.classList.add("mdc-slider__thumb--short-value"):o._hostElement.classList.remove("mdc-slider__thumb--short-value")}}_updateValueIndicatorUIs(){let e=this._getInput(Kt.END),i=this._getInput(Kt.START);e&&this._updateValueIndicatorUI(e),i&&this._updateValueIndicatorUI(i)}_updateTickMarkTrackUI(){if(!this.showTickMarks||this._skipUpdate())return;let e=this._step&&this._step>0?this._step:1,o=(Math.floor(this.max/e)*e-this.min)/(this.max-this.min);this._tickMarkTrackWidth=(this._cachedWidth-6)*o}_updateTrackUI(e){this._skipUpdate()||(this._isRange?this._updateTrackUIRange(e):this._updateTrackUINonRange(e))}_updateTrackUIRange(e){let i=e.getSibling();if(!i||!this._cachedWidth)return;let o=Math.abs(i.translateX-e.translateX)/this._cachedWidth;e._isLeftThumb&&this._cachedWidth?this._setTrackActiveStyles({left:"auto",right:`${this._cachedWidth-i.translateX}px`,transformOrigin:"right",transform:`scaleX(${o})`}):this._setTrackActiveStyles({left:`${i.translateX}px`,right:"auto",transformOrigin:"left",transform:`scaleX(${o})`})}_updateTrackUINonRange(e){this._isRtl?this._setTrackActiveStyles({left:"auto",right:"0px",transformOrigin:"right",transform:`scaleX(${1-e.fillPercentage})`}):this._setTrackActiveStyles({left:"0px",right:"auto",transformOrigin:"left",transform:`scaleX(${e.fillPercentage})`})}_updateTickMarkUI(){if(!this.showTickMarks||this.step===void 0||this.min===void 0||this.max===void 0)return;let e=this.step>0?this.step:1;this._isRange?this._updateTickMarkUIRange(e):this._updateTickMarkUINonRange(e)}_updateTickMarkUINonRange(e){let i=this._getValue(),o=Math.max(Math.round((i-this.min)/e),0)+1,r=Math.max(Math.round((this.max-i)/e),0)-1;this._isRtl?o++:r++,this._tickMarks=Array(o).fill(Fg.ACTIVE).concat(Array(r).fill(Fg.INACTIVE))}_updateTickMarkUIRange(e){let i=this._getValue(),o=this._getValue(Kt.START),r=Math.max(Math.round((o-this.min)/e),0),s=Math.max(Math.round((i-o)/e)+1,0),a=Math.max(Math.round((this.max-i)/e),0);this._tickMarks=Array(r).fill(Fg.INACTIVE).concat(Array(s).fill(Fg.ACTIVE),Array(a).fill(Fg.INACTIVE))}_getInput(e){if(e===Kt.END&&this._input)return this._input;if(this._inputs?.length)return e===Kt.START?this._inputs.first:this._inputs.last}_getThumb(e){return e===Kt.END?this._thumbs?.last:this._thumbs?.first}_setTransition(e){this._hasAnimation=!this._platform.IOS&&e&&!this._noopAnimations,this._elementRef.nativeElement.classList.toggle("mat-mdc-slider-with-animation",this._hasAnimation)}_isCursorOnSliderThumb(e,i){let o=i.width/2,r=i.x+o,s=i.y+o,a=e.clientX-r,l=e.clientY-s;return Math.pow(a,2)+Math.pow(l,2)<Math.pow(o,2)}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Q({type:n,selectors:[["mat-slider"]],contentQueries:function(i,o,r){if(i&1&&(bt(r,M7,5),bt(r,cCe,4)),i&2){let s;me(s=pe())&&(o._input=s.first),me(s=pe())&&(o._inputs=s)}},viewQuery:function(i,o){if(i&1&&(rt(nCe,5),rt(T7,5)),i&2){let r;me(r=pe())&&(o._trackActive=r.first),me(r=pe())&&(o._thumbs=r)}},hostAttrs:[1,"mat-mdc-slider","mdc-slider"],hostVars:12,hostBindings:function(i,o){i&2&&(Lo("mat-"+(o.color||"primary")),ke("mdc-slider--range",o._isRange)("mdc-slider--disabled",o.disabled)("mdc-slider--discrete",o.discrete)("mdc-slider--tick-marks",o.showTickMarks)("_mat-animation-noopable",o._noopAnimations))},inputs:{disabled:[2,"disabled","disabled",Ke],discrete:[2,"discrete","discrete",Ke],showTickMarks:[2,"showTickMarks","showTickMarks",Ke],min:[2,"min","min",Yi],color:"color",disableRipple:[2,"disableRipple","disableRipple",Ke],max:[2,"max","max",Yi],step:[2,"step","step",Yi],displayWith:"displayWith"},exportAs:["matSlider"],features:[At([{provide:dH,useExisting:n}]),Ut],ngContentSelectors:oCe,decls:9,vars:5,consts:[["trackActive",""],["tickMarkContainer",""],[1,"mdc-slider__track"],[1,"mdc-slider__track--inactive"],[1,"mdc-slider__track--active"],[1,"mdc-slider__track--active_fill"],[1,"mdc-slider__tick-marks"],[3,"discrete","thumbPosition","valueIndicatorText"],[3,"class","transform"]],template:function(i,o){i&1&&(wt(),Fe(0),x(1,"div",2),X(2,"div",3),x(3,"div",4),X(4,"div",5,0),w(),te(6,aCe,3,1,"div",6),w(),te(7,lCe,1,3,"mat-slider-visual-thumb",7),X(8,"mat-slider-visual-thumb",7)),i&2&&(I(6),Ye(o.showTickMarks?6:-1),I(),Ye(o._isRange?7:-1),I(),z("discrete",o.discrete)("thumbPosition",2)("valueIndicatorText",o.endValueIndicatorText))},dependencies:[dCe],styles:['.mdc-slider__track{position:absolute;top:50%;transform:translateY(-50%);width:100%;pointer-events:none;height:var(--mdc-slider-inactive-track-height, 4px)}.mdc-slider__track--active,.mdc-slider__track--inactive{display:flex;height:100%;position:absolute;width:100%}.mdc-slider__track--active{overflow:hidden;border-radius:var(--mdc-slider-active-track-shape, var(--mat-sys-corner-full));height:var(--mdc-slider-active-track-height, 4px);top:calc((var(--mdc-slider-inactive-track-height, 4px) - var(--mdc-slider-active-track-height, 4px))/2)}.mdc-slider__track--active_fill{border-top-style:solid;box-sizing:border-box;height:100%;width:100%;position:relative;transform-origin:left;transition:transform 80ms ease;border-color:var(--mdc-slider-active-track-color, var(--mat-sys-primary));border-top-width:var(--mdc-slider-active-track-height, 4px)}.mdc-slider--disabled .mdc-slider__track--active_fill{border-color:var(--mdc-slider-disabled-active-track-color, var(--mat-sys-on-surface))}[dir=rtl] .mdc-slider__track--active_fill{-webkit-transform-origin:right;transform-origin:right}.mdc-slider__track--inactive{left:0;top:0;opacity:.24;background-color:var(--mdc-slider-inactive-track-color, var(--mat-sys-surface-variant));height:var(--mdc-slider-inactive-track-height, 4px);border-radius:var(--mdc-slider-inactive-track-shape, var(--mat-sys-corner-full))}.mdc-slider--disabled .mdc-slider__track--inactive{background-color:var(--mdc-slider-disabled-inactive-track-color, var(--mat-sys-on-surface));opacity:.24}.mdc-slider__track--inactive::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media(forced-colors: active){.mdc-slider__track--inactive::before{border-color:CanvasText}}.mdc-slider__value-indicator-container{bottom:44px;left:50%;pointer-events:none;position:absolute;transform:translateX(-50%);transform:var(--mat-slider-value-indicator-container-transform, translateX(-50%) rotate(-45deg))}.mdc-slider__thumb--with-indicator .mdc-slider__value-indicator-container{pointer-events:auto}.mdc-slider__value-indicator{display:flex;align-items:center;border-radius:4px;height:32px;padding:0 12px;transform:scale(0);transform-origin:bottom;opacity:1;transition:transform 100ms cubic-bezier(0.4, 0, 1, 1);word-break:normal;background-color:var(--mdc-slider-label-container-color, var(--mat-sys-primary));color:var(--mdc-slider-label-label-text-color, var(--mat-sys-on-primary));width:var(--mat-slider-value-indicator-width, 28px);height:var(--mat-slider-value-indicator-height, 28px);padding:var(--mat-slider-value-indicator-padding, 0);opacity:var(--mat-slider-value-indicator-opacity, 1);border-radius:var(--mat-slider-value-indicator-border-radius, 50% 50% 50% 0)}.mdc-slider__thumb--with-indicator .mdc-slider__value-indicator{transition:transform 100ms cubic-bezier(0, 0, 0.2, 1);transform:scale(1)}.mdc-slider__value-indicator::before{border-left:6px solid rgba(0,0,0,0);border-right:6px solid rgba(0,0,0,0);border-top:6px solid;bottom:-5px;content:"";height:0;left:50%;position:absolute;transform:translateX(-50%);width:0;display:var(--mat-slider-value-indicator-caret-display, none);border-top-color:var(--mdc-slider-label-container-color, var(--mat-sys-primary))}.mdc-slider__value-indicator::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media(forced-colors: active){.mdc-slider__value-indicator::after{border-color:CanvasText}}.mdc-slider__value-indicator-text{text-align:center;width:var(--mat-slider-value-indicator-width, 28px);transform:var(--mat-slider-value-indicator-text-transform, rotate(45deg));font-family:var(--mdc-slider-label-label-text-font, var(--mat-sys-label-medium-font));font-size:var(--mdc-slider-label-label-text-size, var(--mat-sys-label-medium-size));font-weight:var(--mdc-slider-label-label-text-weight, var(--mat-sys-label-medium-weight));line-height:var(--mdc-slider-label-label-text-line-height, var(--mat-sys-label-medium-line-height));letter-spacing:var(--mdc-slider-label-label-text-tracking, var(--mat-sys-label-medium-tracking))}.mdc-slider__thumb{-webkit-user-select:none;user-select:none;display:flex;left:-24px;outline:none;position:absolute;height:48px;width:48px;pointer-events:none}.mdc-slider--discrete .mdc-slider__thumb{transition:transform 80ms ease}.mdc-slider--disabled .mdc-slider__thumb{pointer-events:none}.mdc-slider__thumb--top{z-index:1}.mdc-slider__thumb-knob{position:absolute;box-sizing:border-box;left:50%;top:50%;transform:translate(-50%, -50%);border-style:solid;width:var(--mdc-slider-handle-width, 20px);height:var(--mdc-slider-handle-height, 20px);border-width:calc(var(--mdc-slider-handle-height, 20px)/2) calc(var(--mdc-slider-handle-width, 20px)/2);box-shadow:var(--mdc-slider-handle-elevation, var(--mat-sys-level1));background-color:var(--mdc-slider-handle-color, var(--mat-sys-primary));border-color:var(--mdc-slider-handle-color, var(--mat-sys-primary));border-radius:var(--mdc-slider-handle-shape, var(--mat-sys-corner-full))}.mdc-slider__thumb:hover .mdc-slider__thumb-knob{background-color:var(--mdc-slider-hover-handle-color, var(--mat-sys-primary));border-color:var(--mdc-slider-hover-handle-color, var(--mat-sys-primary))}.mdc-slider__thumb--focused .mdc-slider__thumb-knob{background-color:var(--mdc-slider-focus-handle-color, var(--mat-sys-primary));border-color:var(--mdc-slider-focus-handle-color, var(--mat-sys-primary))}.mdc-slider--disabled .mdc-slider__thumb-knob{background-color:var(--mdc-slider-disabled-handle-color, var(--mat-sys-on-surface));border-color:var(--mdc-slider-disabled-handle-color, var(--mat-sys-on-surface))}.mdc-slider__thumb--top .mdc-slider__thumb-knob,.mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border:solid 1px #fff;box-sizing:content-box;border-color:var(--mdc-slider-with-overlap-handle-outline-color, var(--mat-sys-on-primary));border-width:var(--mdc-slider-with-overlap-handle-outline-width, 1px)}.mdc-slider__tick-marks{align-items:center;box-sizing:border-box;display:flex;height:100%;justify-content:space-between;padding:0 1px;position:absolute;width:100%}.mdc-slider__tick-mark--active,.mdc-slider__tick-mark--inactive{width:var(--mdc-slider-with-tick-marks-container-size, 2px);height:var(--mdc-slider-with-tick-marks-container-size, 2px);border-radius:var(--mdc-slider-with-tick-marks-container-shape, var(--mat-sys-corner-full))}.mdc-slider__tick-mark--inactive{opacity:var(--mdc-slider-with-tick-marks-inactive-container-opacity, 0.38);background-color:var(--mdc-slider-with-tick-marks-inactive-container-color, var(--mat-sys-on-surface-variant))}.mdc-slider--disabled .mdc-slider__tick-mark--inactive{opacity:var(--mdc-slider-with-tick-marks-inactive-container-opacity, 0.38);background-color:var(--mdc-slider-with-tick-marks-disabled-container-color, var(--mat-sys-on-surface))}.mdc-slider__tick-mark--active{opacity:var(--mdc-slider-with-tick-marks-active-container-opacity, 0.38);background-color:var(--mdc-slider-with-tick-marks-active-container-color, var(--mat-sys-on-primary))}.mdc-slider__input{cursor:pointer;left:2px;margin:0;height:44px;opacity:0;position:absolute;top:2px;width:44px;box-sizing:content-box}.mdc-slider__input.mat-mdc-slider-input-no-pointer-events{pointer-events:none}.mdc-slider__input.mat-slider__right-input{left:auto;right:0}.mat-mdc-slider{display:inline-block;box-sizing:border-box;outline:none;vertical-align:middle;cursor:pointer;height:48px;margin:0 8px;position:relative;touch-action:pan-y;width:auto;min-width:112px;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-slider.mdc-slider--disabled{cursor:auto;opacity:.38}.mat-mdc-slider .mdc-slider__thumb,.mat-mdc-slider .mdc-slider__track--active_fill{transition-duration:0ms}.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__thumb,.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__track--active_fill{transition-duration:80ms}.mat-mdc-slider.mdc-slider--discrete .mdc-slider__thumb,.mat-mdc-slider.mdc-slider--discrete .mdc-slider__track--active_fill{transition-duration:0ms}.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__thumb,.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__track--active_fill{transition-duration:80ms}.mat-mdc-slider .mat-ripple .mat-ripple-element{background-color:var(--mat-slider-ripple-color, var(--mat-sys-primary))}.mat-mdc-slider .mat-ripple .mat-mdc-slider-hover-ripple{background-color:var(--mat-slider-hover-state-layer-color, color-mix(in srgb, var(--mat-sys-primary) 5%, transparent))}.mat-mdc-slider .mat-ripple .mat-mdc-slider-focus-ripple,.mat-mdc-slider .mat-ripple .mat-mdc-slider-active-ripple{background-color:var(--mat-slider-focus-state-layer-color, color-mix(in srgb, var(--mat-sys-primary) 20%, transparent))}.mat-mdc-slider._mat-animation-noopable.mdc-slider--discrete .mdc-slider__thumb,.mat-mdc-slider._mat-animation-noopable.mdc-slider--discrete .mdc-slider__track--active_fill,.mat-mdc-slider._mat-animation-noopable .mdc-slider__value-indicator{transition:none}.mat-mdc-slider .mat-focus-indicator::before{border-radius:50%}.mdc-slider__thumb--focused .mat-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return n})();var uCe={provide:Na,useExisting:cr(()=>e0),multi:!0};var e0=(()=>{class n{_ngZone=y(et);_elementRef=y(He);_cdr=y(Yt);_slider=y(dH);_platform=y(Zt);_listenerCleanups;get value(){return Yi(this._hostElement.value,0)}set value(e){e=isNaN(e)?0:e;let i=e+"";if(!this._hasSetInitialValue){this._initialValue=i;return}this._isActive||this._setValue(i)}_setValue(e){this._hostElement.value=e,this._updateThumbUIByValue(),this._slider._onValueChange(this),this._cdr.detectChanges(),this._slider._cdr.markForCheck()}valueChange=new Le;dragStart=new Le;dragEnd=new Le;get translateX(){return this._slider.min>=this._slider.max?(this._translateX=this._tickMarkOffset,this._translateX):(this._translateX===void 0&&(this._translateX=this._calcTranslateXByValue()),this._translateX)}set translateX(e){this._translateX=e}_translateX;thumbPosition=Kt.END;get min(){return Yi(this._hostElement.min,0)}set min(e){this._hostElement.min=e+"",this._cdr.detectChanges()}get max(){return Yi(this._hostElement.max,0)}set max(e){this._hostElement.max=e+"",this._cdr.detectChanges()}get step(){return Yi(this._hostElement.step,0)}set step(e){this._hostElement.step=e+"",this._cdr.detectChanges()}get disabled(){return Ke(this._hostElement.disabled)}set disabled(e){this._hostElement.disabled=e,this._cdr.detectChanges(),this._slider.disabled!==this.disabled&&(this._slider.disabled=this.disabled)}get percentage(){return this._slider.min>=this._slider.max?this._slider._isRtl?1:0:(this.value-this._slider.min)/(this._slider.max-this._slider.min)}get fillPercentage(){return this._slider._cachedWidth?this._translateX===0?0:this.translateX/this._slider._cachedWidth:this._slider._isRtl?1:0}_hostElement=this._elementRef.nativeElement;_valuetext=Ue("");_knobRadius=8;_tickMarkOffset=3;_isActive=!1;_isFocused=!1;_setIsFocused(e){this._isFocused=e}_hasSetInitialValue=!1;_initialValue;_formControl;_destroyed=new Ee;_skipUIUpdate=!1;_onChangeFn;_onTouchedFn=()=>{};_isControlInitialized=!1;constructor(){let e=y(on);this._ngZone.runOutsideAngular(()=>{this._listenerCleanups=[e.listen(this._hostElement,"pointerdown",this._onPointerDown.bind(this)),e.listen(this._hostElement,"pointermove",this._onPointerMove.bind(this)),e.listen(this._hostElement,"pointerup",this._onPointerUp.bind(this))]})}ngOnDestroy(){this._listenerCleanups.forEach(e=>e()),this._destroyed.next(),this._destroyed.complete(),this.dragStart.complete(),this.dragEnd.complete()}initProps(){this._updateWidthInactive(),this.disabled!==this._slider.disabled&&(this._slider.disabled=!0),this.step=this._slider.step,this.min=this._slider.min,this.max=this._slider.max,this._initValue()}initUI(){this._updateThumbUIByValue()}_initValue(){this._hasSetInitialValue=!0,this._initialValue===void 0?this.value=this._getDefaultValue():(this._hostElement.value=this._initialValue,this._updateThumbUIByValue(),this._slider._onValueChange(this),this._cdr.detectChanges())}_getDefaultValue(){return this.min}_onBlur(){this._setIsFocused(!1),this._onTouchedFn()}_onFocus(){this._slider._setTransition(!1),this._slider._updateTrackUI(this),this._setIsFocused(!0)}_onChange(){this.valueChange.emit(this.value),this._isActive&&this._updateThumbUIByValue({withAnimation:!0})}_onInput(){this._onChangeFn?.(this.value),(this._slider.step||!this._isActive)&&this._updateThumbUIByValue({withAnimation:!0}),this._slider._onValueChange(this)}_onNgControlValueChange(){(!this._isActive||!this._isFocused)&&(this._slider._onValueChange(this),this._updateThumbUIByValue()),this._slider.disabled=this._formControl.disabled}_onPointerDown(e){if(!(this.disabled||e.button!==0)){if(this._platform.IOS){let i=this._slider._isCursorOnSliderThumb(e,this._slider._getThumb(this.thumbPosition)._hostElement.getBoundingClientRect());this._isActive=i,this._updateWidthActive(),this._slider._updateDimensions();return}this._isActive=!0,this._setIsFocused(!0),this._updateWidthActive(),this._slider._updateDimensions(),this._slider.step||this._updateThumbUIByPointerEvent(e,{withAnimation:!0}),this.disabled||(this._handleValueCorrection(e),this.dragStart.emit({source:this,parent:this._slider,value:this.value}))}}_handleValueCorrection(e){this._skipUIUpdate=!0,setTimeout(()=>{this._skipUIUpdate=!1,this._fixValue(e)},0)}_fixValue(e){let i=e.clientX-this._slider._cachedLeft,o=this._slider._cachedWidth,r=this._slider.step===0?1:this._slider.step,s=Math.floor((this._slider.max-this._slider.min)/r),a=this._slider._isRtl?1-i/o:i/o,c=Math.round(a*s)/s*(this._slider.max-this._slider.min)+this._slider.min,d=Math.round(c/r)*r,u=this.value;if(d===u){this._slider._onValueChange(this),this._slider.step>0?this._updateThumbUIByValue():this._updateThumbUIByPointerEvent(e,{withAnimation:this._slider._hasAnimation});return}this.value=d,this.valueChange.emit(this.value),this._onChangeFn?.(this.value),this._slider._onValueChange(this),this._slider.step>0?this._updateThumbUIByValue():this._updateThumbUIByPointerEvent(e,{withAnimation:this._slider._hasAnimation})}_onPointerMove(e){!this._slider.step&&this._isActive&&this._updateThumbUIByPointerEvent(e)}_onPointerUp(){this._isActive&&(this._isActive=!1,this._platform.SAFARI&&this._setIsFocused(!1),this.dragEnd.emit({source:this,parent:this._slider,value:this.value}),setTimeout(()=>this._updateWidthInactive(),this._platform.IOS?10:0))}_clamp(e){let i=this._tickMarkOffset,o=this._slider._cachedWidth-this._tickMarkOffset;return Math.max(Math.min(e,o),i)}_calcTranslateXByValue(){return this._slider._isRtl?(1-this.percentage)*(this._slider._cachedWidth-this._tickMarkOffset*2)+this._tickMarkOffset:this.percentage*(this._slider._cachedWidth-this._tickMarkOffset*2)+this._tickMarkOffset}_calcTranslateXByPointerEvent(e){return e.clientX-this._slider._cachedLeft}_updateWidthActive(){}_updateWidthInactive(){this._hostElement.style.padding=`0 ${this._slider._inputPadding}px`,this._hostElement.style.width=`calc(100% + ${this._slider._inputPadding-this._tickMarkOffset*2}px)`,this._hostElement.style.left=`-${this._slider._rippleRadius-this._tickMarkOffset}px`}_updateThumbUIByValue(e){this.translateX=this._clamp(this._calcTranslateXByValue()),this._updateThumbUI(e)}_updateThumbUIByPointerEvent(e,i){this.translateX=this._clamp(this._calcTranslateXByPointerEvent(e)),this._updateThumbUI(i)}_updateThumbUI(e){this._slider._setTransition(!!e?.withAnimation),this._slider._onTranslateXChange(this)}writeValue(e){(this._isControlInitialized||e!==null)&&(this.value=e)}registerOnChange(e){this._onChangeFn=e,this._isControlInitialized=!0}registerOnTouched(e){this._onTouchedFn=e}setDisabledState(e){this.disabled=e}focus(){this._hostElement.focus()}blur(){this._hostElement.blur()}static \u0275fac=function(i){return new(i||n)};static \u0275dir=ge({type:n,selectors:[["input","matSliderThumb",""]],hostAttrs:["type","range",1,"mdc-slider__input"],hostVars:1,hostBindings:function(i,o){i&1&&le("change",function(){return o._onChange()})("input",function(){return o._onInput()})("blur",function(){return o._onBlur()})("focus",function(){return o._onFocus()}),i&2&&Re("aria-valuetext",o._valuetext())},inputs:{value:[2,"value","value",Yi]},outputs:{valueChange:"valueChange",dragStart:"dragStart",dragEnd:"dragEnd"},exportAs:["matSliderThumb"],features:[At([uCe,{provide:M7,useExisting:n}]),Ut]})}return n})();var zg=class n{static MAX_LABEL_LENGTH=20;getSubmissionLabel(t,e,i=n.MAX_LABEL_LENGTH){let o=t.fileData.submitter;o=this.sanitizeLabel(o,i);let r=e[o];return r?(e[o]=r+1,`${o}_${e[o]}`):(e[o]=1,`${o}_1`)}sanitizeLabel(t,e){let i=t.split("_").filter(o=>o.match("[A-z]+")).join("_");return i.length>e&&(i=`${i.substring(0,e)}`),i}static \u0275fac=function(e){return new(e||n)};static \u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})};var ku=class n{constructor(t,e){this.submissionLabelingService=t;this.exportService=e}displayScoreType="SEMANTIC";documentsLimit=25;documentSeries=null;previousPage=null;duplicateCategories={};duplicateSeries={};displayedSubmissions=[];submissionsMap=new Map;pairsMap=new Map;setSubmissionsMap(t){this.submissionsMap=t,this.reset()}setPairsMap(t){this.pairsMap=t,this.reset()}initDocumentSeries(){if(this.documentSeries!==null)return!0;if(this.submissionsMap.size==0||this.pairsMap.size==0)return this.documentSeries=null,!1;let t=this.submissionsMap.values(),e=this.pairsMap;this.displayedSubmissions=Array.from(t).filter(o=>this.getTypedSimilarity(o,e)!=null).sort((o,r)=>o.fileData.submitter.localeCompare(r.fileData.submitter));let i=[];for(let o of this.displayedSubmissions)this.duplicateCategories={},i.push({name:this.getDataPointCategory(o,this.duplicateSeries),data:this.displayedSubmissions.map(r=>this.getDataPoint(o,r,e))});return this.documentSeries=i.reverse(),!0}getTypedSimilarity(t,e){return t.pairIds.map(i=>e.get(i)).filter(i=>i!==void 0).map(i=>this.displayScoreType==="SEM&JAC"?jt.getScoreByType(i,"SEMANTIC")||jt.getScoreByType(i,"JACCARD"):jt.getScoreByType(i,this.displayScoreType)).find(i=>i!==null)}getSubmissionPairIdByDatapoint(t,e){if(this.pairsMap.size==0)return null;let o=this.displayedSubmissions.length-1-(t+(this.previousPage?this.previousPage.y:0)),r=e+(this.previousPage?this.previousPage.x:0);if(o==r)return null;let s=this.displayedSubmissions.at(o),a=this.displayedSubmissions.at(r),l=this.pairsMap.has(`${s.id}_${a.id}`),c=this.pairsMap.get(`${a.id}_${s.id}`);return l||c?{firstId:l?s.id:a.id,secondId:l?a.id:s.id,isKnownPair:!0}:{firstId:s.id,secondId:a.id,isKnownPair:!1}}getDocumentSeriesPage(t,e){if(!this.initDocumentSeries())return{x:0,y:0,series:[],viewUpdate:!1};let i=this.getMaxPosition(),o=Math.min(i,Math.max(0,t)),r=Math.min(i,Math.max(0,e));if(this.previousPage&&this.previousPage.x==o&&this.previousPage.y==r)return Te(j({},this.previousPage),{viewUpdate:!1});let s=this.documentSeries.map(a=>Te(j({},a),{data:a.data.slice(o,o+this.documentsLimit)}));return this.previousPage={x:o,y:r,series:s.slice(r,r+this.documentsLimit),viewUpdate:!0},this.previousPage}getMaxPosition(){return this.initDocumentSeries()&&this.documentSeries?.length!=0?Math.max(0,this.documentSeries[0].data.length-this.documentsLimit):-1}getDataPoint(t,e,i){if(t.id===e.id)return{x:this.getDataPointCategory(e,this.duplicateCategories),y:jt.formatScore(1,1)};let o=`${t.id}_${e.id}`,r=`${e.id}_${t.id}`,s=i.get(o)||i.get(r),a=jt.formatScore(0,1);if(s)if(this.displayScoreType==="SEM&JAC"){let l=jt.getScoreByType(s,"SEMANTIC"),c=jt.getScoreByType(s,"JACCARD");l?a=jt.formatScore(l.score,1):c&&(a=jt.formatScore(c.score,1))}else{let l=jt.getScoreByType(s,this.displayScoreType);l&&(a=jt.formatScore(l.score,1))}return{x:this.getDataPointCategory(e,this.duplicateCategories),y:a}}getDataPointCategory(t,e){return this.submissionLabelingService.getSubmissionLabel(t,e,20)}getDisplayScoreType(){return this.displayScoreType}setDisplayScoreType(t){this.displayScoreType=t,this.reset()}reset(){this.documentSeries=null,this.previousPage=null,this.duplicateSeries={}}setDocumentsLimit(t){this.documentsLimit=t}export(){this.documentSeries!=null&&this.exportService.exportHeatmapToCsv(this.documentSeries.reverse(),Date.now().toFixed(0))}hasDataToDisplay(){return this.initDocumentSeries()&&this.documentSeries?.length!=0}static \u0275fac=function(e){return new(e||n)(ct(zg),ct(ta))};static \u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})};function hCe(n,t){n&1&&(x(0,"p"),P(1,"Po\u010Det porovnan\xED s t\xFDmto typom hodnotenia je pr\xEDli\u0161 mal\xFD na zobrazenie."),w())}function mCe(n,t){if(n&1){let e=Nt();x(0,"div",3)(1,"div",4)(2,"mat-slider",5)(3,"input",6,0),le("change",function(){Ze(e);let o=Y();return Qe(o.updateSeries())}),va("ngModelChange",function(o){Ze(e);let r=Y();return _a(r.x,o)||(r.x=o),Qe(o)}),w()()(),x(5,"div",7),X(6,"apx-chart",8),x(7,"div",9)(8,"mat-slider",10)(9,"input",6,0),le("change",function(){Ze(e);let o=Y();return Qe(o.updateSeries())}),va("ngModelChange",function(o){Ze(e);let r=Y();return _a(r.y,o)||(r.y=o),Qe(o)}),w()()()()()}if(n&2){let e=Y();I(2),z("min",0)("max",e.similarityHeatmapService.getMaxPosition())("step",1)("discrete",!1)("showTickMarks",!0),I(),ga("ngModel",e.x),I(3),z("series",e.chartOptions.series)("chart",e.chartOptions.chart)("dataLabels",e.chartOptions.dataLabels)("plotOptions",e.chartOptions.plotOptions)("title",e.chartOptions.title),I(2),z("min",0)("max",e.similarityHeatmapService.getMaxPosition())("step",1)("discrete",!1)("showTickMarks",!0),I(),ga("ngModel",e.y)}}var Mu=class n{constructor(t){this.similarityHeatmapService=t;this.chartOptions={series:[],chart:{toolbar:{show:!1},type:"heatmap",events:{dataPointSelection:(e,i,o)=>{let r=this.similarityHeatmapService.getSubmissionPairIdByDatapoint(o.seriesIndex,o.dataPointIndex);this.onPairSelection(r)}},zoom:{enabled:!1}},plotOptions:this.PLOT_OPTIONS,dataLabels:{enabled:!0},title:{text:""}},ln(()=>{this.similarityHeatmapService.setPairsMap(this.pairsMapSource()),this.similarityHeatmapService.setSubmissionsMap(this.submissionsMapSource())})}pairsMapSource=Ue(new Map);submissionsMapSource=Ue(new Map);selectedPairIdEmitter=new Le;unknownPairEmitter=new Le;chart;PLOT_OPTIONS={heatmap:{shadeIntensity:.5,colorScale:{ranges:[{from:0,to:25,name:"n\xEDzka",color:"#00A100"},{from:26,to:50,name:"stredn\xE1",color:"#128FD9"},{from:51,to:75,name:"vysok\xE1",color:"#FFB200"},{from:76,to:100,name:"extr\xE9mna",color:"#FF0000"}]}}};chartOptions;x=0;y=0;ngOnInit(){setTimeout(()=>{let t=this.similarityHeatmapService.getDocumentSeriesPage(this.x,this.y);this.chartOptions.series=t.series,this.x=t.x,this.y=t.y})}updateSeries(){let t=this.similarityHeatmapService.getDocumentSeriesPage(this.x,this.y);this.x=t.x,this.y=t.y,t.viewUpdate&&(this.chartOptions.series=t.series)}onPairSelection(t){t!=null&&(t.isKnownPair?this.selectedPairIdEmitter.emit(`${t.firstId}_${t.secondId}`):this.unknownPairEmitter.emit(`${t.firstId}_${t.secondId}`))}getPageX(){return this.x}getPageY(){return this.y}setPageX(t){this.x=t}setPageY(t){this.y=t}static \u0275fac=function(e){return new(e||n)(ie(ku))};static \u0275cmp=Q({type:n,selectors:[["app-similarity-heatmap"]],viewQuery:function(e,i){if(e&1&&rt(Ng,5),e&2){let o;me(o=pe())&&(i.chart=o.first)}},inputs:{pairsMapSource:"pairsMapSource",submissionsMapSource:"submissionsMapSource"},outputs:{selectedPairIdEmitter:"selectedPairIdEmitter",unknownPairEmitter:"unknownPairEmitter"},decls:2,vars:2,consts:[["slider",""],[4,"ngIf"],["class","container-vertical",4,"ngIf"],[1,"container-vertical"],[1,"horizontal-slider-wrapper"],[1,"horizontal-slider",3,"min","max","step","discrete","showTickMarks"],["matSliderThumb","",3,"change","ngModelChange","ngModel"],[1,"container-horizontal"],[1,"chart",3,"series","chart","dataLabels","plotOptions","title"],[1,"vertical-slider-wrapper"],[1,"vertical-slider",3,"min","max","step","discrete","showTickMarks"]],template:function(e,i){e&1&&te(0,hCe,2,0,"p",1)(1,mCe,11,17,"div",2),e&2&&(z("ngIf",!i.similarityHeatmapService.hasDataToDisplay()),I(),z("ngIf",i.similarityHeatmapService.hasDataToDisplay()))},dependencies:[Ng,Dk,Ek,e0,Xn,$r,Kr,bs,fo],styles:[".chart[_ngcontent-%COMP%]{width:75%}.container-vertical[_ngcontent-%COMP%]{display:flex;width:100%;flex-direction:column;gap:8px}.container-horizontal[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center;width:100%;gap:8px}.horizontal-slider-wrapper[_ngcontent-%COMP%]{display:flex;position:relative;width:100%;flex-direction:column;justify-content:center;align-items:center}.horizontal-slider[_ngcontent-%COMP%]{width:50%}.vertical-slider-wrapper[_ngcontent-%COMP%]{position:relative;width:24px;display:flex;flex-direction:row;justify-content:center;align-items:center}.vertical-slider[_ngcontent-%COMP%]{position:absolute;width:16rem;transform:rotate(-90deg);transform-origin:center}@media screen and (max-width: 1600px){.chart[_ngcontent-%COMP%]{width:100%}}p[_ngcontent-%COMP%]{font:var(--mat-sys-body-medium);color:var(--mat-sys-on-surface);text-align:center;margin:0}"]})};var kk=class n{constructor(t,e,i,o){this.analysisContextService=t;this.similarityHeatmapService=e;this.routeContextService=i;this.router=o}static CONTEXT_KEY="similarity-heatmap-page";heatMap;pairsMapSource=Ri(()=>{let t=this.analysisContextService.getReport()();return t?t.pairs:new Map});submissionsMapSource=Ri(()=>{let t=this.analysisContextService.getReport()();return t?t.submissions:new Map});loadDiff(t){let e=t.split("_");this.router.navigate(["/diff",e[0],e[1]])}loadPair(t){this.router.navigate(["/pairs",t])}ngAfterViewInit(){this.heatMap.selectedPairIdEmitter.subscribe(t=>this.loadPair(t)),this.heatMap.unknownPairEmitter.subscribe(t=>this.loadDiff(t)),setTimeout(()=>this.applyContext())}changeScoreType(t){this.similarityHeatmapService.setDisplayScoreType(t),this.heatMap.setPageY(0),this.heatMap.setPageX(0),this.heatMap.updateSeries()}ngOnDestroy(){this.routeContextService.putProperty(".x",this.heatMap.getPageX().toFixed(0),n.CONTEXT_KEY),this.routeContextService.putProperty(".y",this.heatMap.getPageY().toFixed(0),n.CONTEXT_KEY),this.routeContextService.putProperty(".score-type",this.similarityHeatmapService.getDisplayScoreType(),n.CONTEXT_KEY)}applyContext(){let t=this.routeContextService.popProperty(".x",n.CONTEXT_KEY),e=this.routeContextService.popProperty(".y",n.CONTEXT_KEY),i=this.routeContextService.popProperty(".score-type",n.CONTEXT_KEY);t&&e&&i&&(this.heatMap.setPageX(parseInt(t)),this.heatMap.setPageY(parseInt(e)),this.similarityHeatmapService.setDisplayScoreType(i),this.heatMap.updateSeries())}export(){this.similarityHeatmapService.export()}static \u0275fac=function(e){return new(e||n)(ie(Wt),ie(ku),ie(Sl),ie(xi))};static \u0275cmp=Q({type:n,selectors:[["app-similarity-heatmap-page"]],viewQuery:function(e,i){if(e&1&&rt(Mu,5),e&2){let o;me(o=pe())&&(i.heatMap=o.first)}},decls:22,vars:5,consts:[["select",""],["title","Teplotn\xE1 mapa podobnosti","subtitle","",3,"isTitleCentered","isContentCentered"],[3,"pairsMapSource","submissionsMapSource"],["appearance","outline"],[3,"selectionChange","value"],["value","META"],["value","JACCARD"],["value","SEMANTIC"],["value","SEM&JAC"],["mat-raised-button","",2,"max-width","250px",3,"click"]],template:function(e,i){if(e&1){let o=Nt();x(0,"app-content-container")(1,"app-surface",1),X(2,"app-similarity-heatmap",2),w(),x(3,"app-floating-toolbar")(4,"mat-form-field",3)(5,"mat-label"),P(6,"Mieru podobnosti"),w(),x(7,"mat-select",4,0),le("selectionChange",function(){Ze(o);let s=to(8);return Qe(i.changeScoreType(s.value))}),x(9,"mat-option",5),P(10," Podobnos\u0165 autorov (meta\xFAdaje) "),w(),x(11,"mat-option",6),P(12," Jaccardov koeficient (slovn\xE9 n-gramy) "),w(),x(13,"mat-option",7),P(14," Semantick\xE1 podobnos\u0165 "),w(),x(15,"mat-option",8),P(16," Semantick\xE1 podobnos\u0165 alebo Jaccardov koeficient "),w()()(),x(17,"button",9),le("click",function(){return Ze(o),Qe(i.export())}),x(18,"mat-icon"),P(19,"download"),w(),x(20,"p"),P(21," Stiahnu\u0165 ako csv "),w()()()()}e&2&&(I(),z("isTitleCentered",!0)("isContentCentered",!0),I(),z("pairsMapSource",i.pairsMapSource)("submissionsMapSource",i.submissionsMapSource),I(5),z("value",i.similarityHeatmapService.getDisplayScoreType()))},dependencies:[Dk,Rn,An,Ho,Xn,Ud,_r,Vo,Mn,Tn,ea,Mu],styles:["app-similarity-heatmap[_ngcontent-%COMP%]{display:flex;width:100%;flex-direction:column;gap:8px}app-floating-toolbar[_ngcontent-%COMP%]     .mat-mdc-form-field-subscript-wrapper{width:0;height:0}app-floating-toolbar[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:350px}"]})};var Mk=class n{constructor(t){this.analysisContext=t}supportiveText="V tejto \u010Dasti sa zobrazuj\xFA inform\xE1cie o anal\xFDze";analysis=Ri(()=>{let t=this.analysisContext.getReport()();return t?t.overview:null});extensionToCount=Ri(()=>{let t=this.analysisContext.getReport()();return t?Array.from(t.submissions.values()).map(e=>e.fileData.extension).reduce((e,i)=>(e.set(i,(e.get(i)||0)+1),e),new Map):new Map});comparisonsCount=Ri(()=>{let t=this.analysisContext.getReport()();return t?t.pairs.size:null});static \u0275fac=function(e){return new(e||n)(ie(Wt))};static \u0275cmp=Q({type:n,selectors:[["app-analysis-info-card"]],inputs:{supportiveText:"supportiveText"},decls:48,vars:12,consts:[[1,"info-card"],[1,"header"],[1,"text-frame"],["appTextOverflowScroll","","aria-label","N\xE1zov anal\xFDzy",1,"scrollable-text"],[2,"display","flex"],["aria-label","Viac informaci\xED",3,"matTooltip"],[1,"info-groups"],["matTooltipPosition","right","matTooltip","N\xE1zov analyzovan\xE9ho s\xFAboru","aria-label","N\xE1zov analyzovan\xE9ho s\xFAboru","svgIcon","file-search-outline","matListItemIcon",""],["appTextOverflowScroll","","matListItemTitle","",1,"scrollable-text"],["matTooltipPosition","right","matTooltip","D\xE1tum vykonania anal\xFDzy","aria-label","D\xE1tum vykonania anal\xFDzy","matListItemIcon",""],["matListItemTitle",""],["matTooltipPosition","right","matTooltip","Po\u010Det na\u010D\xEDtan\xFDch porovnan\xED","aria-label","Po\u010Det na\u010D\xEDtan\xFDch porovnan\xED","svgIcon","compare-horizontal","matListItemIcon",""],[1,"item-with-chip"],["matTooltipPosition","right","matTooltip","Po\u010Det s\xFAborov formatu docx","aria-label","Po\u010Det s\xFAborov formatu docx"],["matListItemTitle","",1,"item-with-chip"],["matTooltipPosition","right","matTooltip","Po\u010Det s\xFAborov formatu doc","aria-label","Po\u010Det s\xFAborov formatu doc"],["matTooltipPosition","right","matTooltip","Po\u010Det s\xFAborov formatu pdf","aria-label","Po\u010Det s\xFAborov formatu pdf"]],template:function(e,i){if(e&1&&(x(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),P(4),w(),x(5,"p"),P(6,"Inform\xE1cie o anal\xFDze"),w()(),x(7,"div",4)(8,"mat-icon",5),P(9,"info_outlined"),w()()(),x(10,"mat-list",6),X(11,"mat-divider"),x(12,"mat-list")(13,"mat-list-item"),X(14,"mat-icon",7),x(15,"p",8),P(16),w()(),x(17,"mat-list-item")(18,"mat-icon",9),P(19," date_range "),w(),x(20,"p",10),P(21),Li(22,"date"),w()(),x(23,"mat-list-item"),X(24,"mat-icon",11),x(25,"p",10),P(26),Li(27,"number"),w()()(),X(28,"mat-divider"),x(29,"mat-list")(30,"mat-list-item")(31,"div",12)(32,"mat-chip",13),P(33," DOCX "),w(),x(34,"p"),P(35),w()()(),x(36,"mat-list-item")(37,"div",14)(38,"mat-chip",15),P(39," DOC "),w(),x(40,"p"),P(41),w()()(),x(42,"mat-list-item")(43,"div",14)(44,"mat-chip",16),P(45," PDF "),w(),x(46,"p"),P(47),w()()()()()()),e&2){let o,r,s;I(4),be((o=i.analysis())==null?null:o.name),I(4),z("matTooltip",i.supportiveText),I(8),be((r=i.analysis())==null?null:r.analyzedFileName),I(5),be(Ni(22,8,(s=i.analysis())==null?null:s.dateAnalyzed)),I(5),be(Ni(27,10,i.comparisonsCount())),I(9),ni("",i.extensionToCount().get("docx")||0," s\xFAborov"),I(6),ni("",i.extensionToCount().get("doc")||0," s\xFAborov"),I(6),ni("",i.extensionToCount().get("pdf")||0," s\xFAborov")}},dependencies:[Tn,Hd,Cl,Nd,Nh,Zv,xx,WW,Qy,qd,Xr],styles:[".medium-card[_ngcontent-%COMP%]{max-width:350px;min-width:200px}.large-card[_ngcontent-%COMP%]{max-width:400px;min-width:200px}.extra-large-card[_ngcontent-%COMP%]{max-width:450px;min-width:200px}.base-card[_ngcontent-%COMP%]{margin:auto;padding:16px}p[_ngcontent-%COMP%]{font:var(--mat-sys-body-medium);color:var(--mat-sys-on-surface-variant);margin:0}h3[_ngcontent-%COMP%]{font:var(--mat-sys-title-small);color:var(--mat-sys-on-surface);margin:0}h1[_ngcontent-%COMP%]{font:var(--mat-sys-title-large);color:var(--mat-sys-on-surface);margin:0}.text-frame[_ngcontent-%COMP%]{width:100%;overflow-y:hidden;display:flex;flex-direction:column;justify-content:center;align-content:start}.text-center[_ngcontent-%COMP%]{align-items:center}.text-frame[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font:var(--mat-sys-title-large);color:var(--mat-sys-on-surface);margin:0}.text-frame[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font:var(--mat-sys-body-medium);color:var(--mat-sys-on-surface-variant);margin:0}.header-with-actions[_ngcontent-%COMP%]{display:flex;width:100%;flex-direction:row;align-items:center;justify-content:space-between}.header-with-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{justify-self:end}.header-with-actions[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{flex-grow:1;text-align:center;margin:0}.header-with-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:auto}.info-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:24px}.info-list[_ngcontent-%COMP%] > mat-list-item[_ngcontent-%COMP%]{padding-left:0;padding-right:0;gap:16px}.card-group[_ngcontent-%COMP%]{display:flex;max-width:700px;min-width:300px;flex-direction:column;padding:16px;gap:24px;border-radius:var(--mat-sys-corner-extra-large);background-color:var(--mat-sys-surface-container-high)}.card-flex-box[_ngcontent-%COMP%]{display:flex;max-width:700px;min-width:300px;flex-direction:row;justify-content:center;flex-wrap:wrap;gap:16px}.horizontal-card-group-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:fit-content;height:100%;padding:16px;gap:8px;border-radius:var(--mat-sys-corner-extra-large);background-color:var(--mat-sys-surface-container-high)}.horizontal-card-group[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:32px}@media (max-width: 1250px){.horizontal-card-group[_ngcontent-%COMP%]{flex-wrap:wrap}}",".info-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;width:350px;height:fit-content;padding:24px;gap:4px;border-radius:var(--mat-sys-corner-extra-large);background-color:var(--mat-sys-surface-container-high)}.header[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:100%;box-sizing:border-box;justify-content:space-between;align-items:center;padding:16px 12px 12px 24px;gap:8px}.info-groups[_ngcontent-%COMP%]{width:100%}.info-groups[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--mat-sys-on-surface);font:var(--mat-sys-body-large);margin:0}mat-list[_ngcontent-%COMP%]{--mdc-list-list-item-label-text-color: var(--mat-sys-on-surface-variant)}mat-list[_ngcontent-%COMP%]{--mdc-list-list-item-hover-leading-icon-color: var(--mat-sys-on-surface-variant)}mat-list[_ngcontent-%COMP%]{--mdc-list-list-item-hover-label-text-color: var(--mat-sys-on-surface-variant)}mat-list[_ngcontent-%COMP%]{--mat-divider-color: var(--mat-sys-outline-variant)}.item-with-chip[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:16px;justify-content:start;align-items:center}"]})};var pCe=["determinateSpinner"];function fCe(n,t){if(n&1&&(pi(),x(0,"svg",11),X(1,"circle",12),w()),n&2){let e=Y();Re("viewBox",e._viewBox()),I(),po("stroke-dasharray",e._strokeCircumference(),"px")("stroke-dashoffset",e._strokeCircumference()/2,"px")("stroke-width",e._circleStrokeWidth(),"%"),Re("r",e._circleRadius())}}var gCe=new ue("mat-progress-spinner-default-options",{providedIn:"root",factory:_Ce});function _Ce(){return{diameter:R7}}var R7=100,vCe=10,Tk=(()=>{class n{_elementRef=y(He);_noopAnimations;get color(){return this._color||this._defaultColor}set color(e){this._color=e}_color;_defaultColor="primary";_determinateCircle;constructor(){let e=y(Wi,{optional:!0}),i=y(gCe);this._noopAnimations=e==="NoopAnimations"&&!!i&&!i._forceAnimations,this.mode=this._elementRef.nativeElement.nodeName.toLowerCase()==="mat-spinner"?"indeterminate":"determinate",i&&(i.color&&(this.color=this._defaultColor=i.color),i.diameter&&(this.diameter=i.diameter),i.strokeWidth&&(this.strokeWidth=i.strokeWidth))}mode;get value(){return this.mode==="determinate"?this._value:0}set value(e){this._value=Math.max(0,Math.min(100,e||0))}_value=0;get diameter(){return this._diameter}set diameter(e){this._diameter=e||0}_diameter=R7;get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(e){this._strokeWidth=e||0}_strokeWidth;_circleRadius(){return(this.diameter-vCe)/2}_viewBox(){let e=this._circleRadius()*2+this.strokeWidth;return`0 0 ${e} ${e}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return this.mode==="determinate"?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Q({type:n,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(i,o){if(i&1&&rt(pCe,5),i&2){let r;me(r=pe())&&(o._determinateCircle=r.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:18,hostBindings:function(i,o){i&2&&(Re("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow",o.mode==="determinate"?o.value:null)("mode",o.mode),Lo("mat-"+o.color),po("width",o.diameter,"px")("height",o.diameter,"px")("--mdc-circular-progress-size",o.diameter+"px")("--mdc-circular-progress-active-indicator-width",o.diameter+"px"),ke("_mat-animation-noopable",o._noopAnimations)("mdc-circular-progress--indeterminate",o.mode==="indeterminate"))},inputs:{color:"color",mode:"mode",value:[2,"value","value",Yi],diameter:[2,"diameter","diameter",Yi],strokeWidth:[2,"strokeWidth","strokeWidth",Yi]},exportAs:["matProgressSpinner"],features:[Ut],decls:14,vars:11,consts:[["circle",""],["determinateSpinner",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(i,o){if(i&1&&(te(0,fCe,2,8,"ng-template",null,0,Qu),x(2,"div",2,1),pi(),x(4,"svg",3),X(5,"circle",4),w()(),S_(),x(6,"div",5)(7,"div",6)(8,"div",7),an(9,8),w(),x(10,"div",9),an(11,8),w(),x(12,"div",10),an(13,8),w()()()),i&2){let r=to(1);I(4),Re("viewBox",o._viewBox()),I(),po("stroke-dasharray",o._strokeCircumference(),"px")("stroke-dashoffset",o._strokeDashOffset(),"px")("stroke-width",o._circleStrokeWidth(),"%"),Re("r",o._circleRadius()),I(4),z("ngTemplateOutlet",r),I(2),z("ngTemplateOutlet",r),I(2),z("ngTemplateOutlet",r)}},dependencies:[Xm],styles:[".mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0;position:relative;direction:ltr;transition:opacity 250ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-progress-spinner circle{stroke-width:var(--mdc-circular-progress-active-indicator-width, 4px)}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}@media(forced-colors: active){.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1;animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mdc-circular-progress-active-indicator-color, var(--mat-sys-primary))}@media(forced-colors: active){.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}"],encapsulation:2,changeDetection:0})}return n})();function bCe(n,t){if(n&1&&(rn(0),x(1,"div",3),X(2,"apx-chart",4),w(),sn()),n&2){let e=Y();I(2),z("series",e.chartOptions.series)("chart",e.chartOptions.chart)("xaxis",e.chartOptions.xaxis)("yaxis",e.chartOptions.yaxis)("plotOptions",e.chartOptions.plotOptions)("colors",e.chartOptions.colors)("grid",e.chartOptions.grid)("legend",e.chartOptions.legend)("dataLabels",e.chartOptions.dataLabels)}}function yCe(n,t){n&1&&X(0,"mat-progress-spinner",2)}var Ak=class n{constructor(t,e){this.analysisContextService=t;this.router=e;this.chartOptions={chart:{type:"bar",events:{dataPointSelection:(i,o,r)=>{let s=this.categories[r.dataPointIndex];if(s!=null){let a=this.categorizedSubmissions[s];this.router.navigate(["/submissions"],{queryParams:{"filter-set":a.toString()}})}}}},xaxis:{categories:["0-10%","10-20%","20-30%","30-40%","40-50%","50-60%","60-70%","70-80%","80-90%","90-100%"],title:{text:"%podobnos\u0165",style:{fontSize:"14px",color:"#333"}}},yaxis:{title:{text:"#dokumenty",style:{fontSize:"14px",color:"#333"}}},plotOptions:{bar:{horizontal:!1,columnWidth:"50%",distributed:!0,dataLabels:{position:"top"}}},dataLabels:{enabled:!0,formatter:function(i){return i.toString()}},grid:{borderColor:"#e0e0e0",strokeDashArray:4,xaxis:{lines:{show:!0}},yaxis:{lines:{show:!0}}},colors:["#4285F4","#34A853","#9B51E0","#FABB05","#274C77","#66C2FF","#720E9E"],series:[{name:"Po\u010Det dokumentov",data:[]}],legend:{show:!1}}}chart;ready=!1;chartOptions;categories=[0,10,20,30,40,50,60,70,80,90];categorizedSubmissions={};ngAfterViewInit(){setTimeout(()=>this.computeDistribution(),500)}computeDistribution(){let t=this.analysisContextService.getReport()();if(t){let e=t.submissions,i=t.pairs;Array.from(e.values()).filter(o=>!o.indexed&&o.pairIds.length>0).map(o=>({id:o.id,maxScore:Math.max(0,...o.pairIds.map(r=>i.get(r)).map(r=>{let s=jt.getScoreByType(r,"SEMANTIC"),a=jt.getScoreByType(r,"JACCARD");return s||a}).map(r=>r?r.score:0))})).forEach(o=>{let r=Math.floor(o.maxScore*10)*10,s=this.categorizedSubmissions[r];s?s.push(o.id):this.categorizedSubmissions[r]=[o.id]}),this.chartOptions.series&&(this.chartOptions.series[0].data=this.categories.map(o=>{let r=this.categorizedSubmissions[o];return r?r.length:0})),this.ready=!0}}static \u0275fac=function(e){return new(e||n)(ie(Wt),ie(xi))};static \u0275cmp=Q({type:n,selectors:[["app-plagiarism-score-distribution"]],viewQuery:function(e,i){if(e&1&&rt(Ng,5),e&2){let o;me(o=pe())&&(i.chart=o.first)}},decls:6,vars:1,consts:[[1,"high-surface"],[1,"chart-wrapper","mat-elevation-z8"],["diameter","220","mode","indeterminate",1,"loader"],["id","chart"],[3,"series","chart","xaxis","yaxis","plotOptions","colors","grid","legend","dataLabels"]],template:function(e,i){e&1&&(x(0,"div",0)(1,"h3"),P(2," Rozdelenie podobnosti "),w(),x(3,"div",1),te(4,bCe,3,9,"ng-container")(5,yCe,1,0,"mat-progress-spinner",2),w()()),e&2&&(I(4),Ye(i.ready?4:5))},dependencies:[Ng,Tk],styles:[".chart-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center;padding:16px;border-radius:var(--mat-sys-corner-extra-large);background-color:#fff;box-shadow:var(--mat-app-elevation-shadow-level-8)}#chart[_ngcontent-%COMP%]{height:450px;width:700px}.loader[_ngcontent-%COMP%]{z-index:20}.high-surface[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:16px;gap:24px;border-radius:var(--mat-sys-corner-extra-large);background-color:var(--mat-sys-surface-container-high)}.high-surface[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font:var(--mat-sys-headline-small);color:var(--mat-sys-on-surface);margin:0}"]})};var Rk=class n{constructor(t){this.http=t}loadConfigurationDescription(){return this.http.get("./assets/configuration-descriptions.json")}static \u0275fac=function(e){return new(e||n)(ct(dv))};static \u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})};function wCe(n,t){n&1&&(x(0,"p"),P(1," Filtrovanie dokumentov\xFDch dvoj\xEDc, za prienikom ich \u0161inglov, "),x(2,"strong"),P(3,"nebolo pou\u017Eite"),w()())}function CCe(n,t){n&1&&(x(0,"p")(1,"strong"),P(2,"Bolo pou\u017Eite"),w(),P(3," filtrovanie dokumentov\xFDch dvoj\xEDc, za prienikom ich \u0161inglov. Niektor\xE9 dvojice nebud\xFA obsahova\u0165 vyzna\u010Denie zhodn\xFDch fragmentov "),w())}function SCe(n,t){if(n&1&&(x(0,"mat-card",13)(1,"mat-card-header")(2,"mat-card-title"),P(3,"Shingle porovn\xE1vanie"),w(),x(4,"mat-card-subtitle"),te(5,wCe,4,0,"p",7)(6,CCe,4,0,"p",7),w()(),X(7,"mat-divider"),x(8,"mat-card-content")(9,"mat-list",14)(10,"mat-list-item",15)(11,"h3",16),P(12),w(),x(13,"span"),P(14),w()(),x(15,"mat-list-item",15)(16,"h3",16),P(17),w(),x(18,"span"),P(19),w()(),x(20,"mat-list-item",15)(21,"h3",16),P(22),w(),x(23,"span"),P(24),w()(),x(25,"mat-list-item",15)(26,"h3",16),P(27),w(),x(28,"span"),P(29),w()()()()()),n&2){let e,i,o,r,s,a,l=Y();I(5),z("ngIf",(e=l.overview())==null?null:e.configuration.shingleOverlapComparisonFilterParameters.canBypassFiltering),I(),z("ngIf",!((i=l.overview())!=null&&i.configuration.shingleOverlapComparisonFilterParameters.canBypassFiltering)),I(4),z("lines",3),I(2),be((o=l.overview())==null?null:o.configuration.shingleOverlapComparisonFilterParameters.discardLevel),I(2),be(l.getDescription("discardLevel")),I(),z("lines",3),I(2),be((r=l.overview())==null?null:r.configuration.shingleOverlapComparisonFilterParameters.plagiarizedLevel),I(2),be(l.getDescription("plagiarizedLevel")),I(),z("lines",2),I(2),be((s=l.overview())==null?null:s.configuration.shingleOverlapComparisonFilterParameters.size),I(2),be(l.getDescription("size")),I(),z("lines",2),I(2),be((a=l.overview())==null?null:a.configuration.shingleOverlapComparisonFilterParameters.overlap),I(2),be(l.getDescription("overlap"))}}function ICe(n,t){n&1&&(x(0,"p"),P(1," Filtrovanie dokumentov\xFDch dvoj\xEDc "),x(2,"strong"),P(3,"nebolo pou\u017Eit\xE9"),w(),P(4,". Pomer ve\u013Ekost\xED dokumentov sa po\u010D\xEDta ako "),x(5,"strong",18),P(6,"min(|s\u2081| / |s\u2082|, |s\u2082| / |s\u2081|)"),w(),P(7,", kde s\u2081, s\u2082 s\xFA mno\u017Einy ich viet. Ak je tento pomer ni\u017E\u0161\xED ako hodnota uveden\xE1 v konfigur\xE1cii, porovnanie bude zastaven\xE9 "),w())}function DCe(n,t){n&1&&(x(0,"p")(1,"strong"),P(2,"Bolo pou\u017Eit\xE9"),w(),P(3," filtrovanie dokumentov\xFDch dvoj\xEDc. Pomer ve\u013Ekost\xED dokumentov sa po\u010D\xEDta ako "),x(4,"strong",18),P(5,"min(|s\u2081| / |s\u2082|, |s\u2082| / |s\u2081|)"),w(),P(6,", kde s\u2081, s\u2082 s\xFA mno\u017Einy ich viet. Ak je tento pomer ni\u017E\u0161\xED ako hodnota uveden\xE1 v konfigur\xE1cii, porovnanie bude zastaven\xE9 "),w())}function ECe(n,t){if(n&1&&(x(0,"mat-card",6)(1,"mat-card-header")(2,"mat-card-title"),P(3,"Filtrovanie pod\u013Ea pomeru ve\u013Ekost\xED"),w(),x(4,"mat-card-subtitle"),te(5,ICe,8,0,"p",7)(6,DCe,7,0,"p",7),w()(),X(7,"mat-divider"),x(8,"mat-card-content")(9,"mat-list",17)(10,"mat-list-item",15)(11,"h3",16),P(12),w(),x(13,"span"),P(14),w()()()()()),n&2){let e,i,o,r=Y();I(5),z("ngIf",(e=r.overview())==null?null:e.configuration.lengthComparisonFilterParameters.canBypassFiltering),I(),z("ngIf",!((i=r.overview())!=null&&i.configuration.lengthComparisonFilterParameters.canBypassFiltering)),I(4),z("lines",3),I(2),be((o=r.overview())==null?null:o.configuration.lengthComparisonFilterParameters.sentenceSizeRatioThreshold),I(2),be(r.getDescription("sentenceSizeRatioThreshold"))}}function kCe(n,t){n&1&&(x(0,"p"),P(1," Filtrovanie dokumentov\xFDch dvoj\xEDc, za ich autormi, "),x(2,"strong"),P(3,"nebolo pou\u017Eite"),w()())}function MCe(n,t){n&1&&(x(0,"p")(1,"strong"),P(2,"Bolo pou\u017Eite"),w(),P(3," filtrovanie dokumentov\xFDch dvoj\xEDc, za ich autormi. V pr\xEDpade dvoj\xEDc so spolo\u010Dn\xFDmi autormi sa \u010Fal\u0161ie porovnania nevykon\xE1vali. Tak\xE9to dvojice, nebud\xFA obsahova\u0165 vyzna\u010Denie zhodn\xFDch fragmentov "),w())}function TCe(n,t){if(n&1&&(x(0,"mat-card",6)(1,"mat-card-header")(2,"mat-card-title"),P(3,"Porovn\xE1vanie meta\xFAdajov"),w()(),X(4,"mat-divider"),x(5,"mat-card-content"),te(6,kCe,4,0,"p",7)(7,MCe,4,0,"p",7),w()()),n&2){let e,i,o=Y();I(6),z("ngIf",(e=o.overview())==null?null:e.configuration.metadataComparatorParameters.canBypassFiltering),I(),z("ngIf",!((i=o.overview())!=null&&i.configuration.metadataComparatorParameters.canBypassFiltering))}}function ACe(n,t){if(n&1&&(x(0,"mat-list-item",15)(1,"h3",16),P(2),w(),x(3,"span"),P(4),w()()),n&2){let e=t.$implicit,i=Y(2);z("lines",3),I(2),be(e.value),I(2),be(i.getDescription(e.key))}}function RCe(n,t){if(n&1&&(x(0,"mat-card",19)(1,"mat-card-header")(2,"mat-card-title"),P(3,"Roz\u0161\xEDrenie n\xE1jden\xFDch zh\xF4d"),w(),x(4,"mat-card-subtitle")(5,"p"),P(6," Po n\xE1jden\xED zhodn\xFDch viet sa vykon\xE1 f\xE1za roz\u0161\xEDrenia, v ktorej sa susedn\xE9 zhody zoskupia do dlh\xFDch fragmentov "),w()()(),X(7,"mat-divider"),x(8,"mat-card-content")(9,"mat-list",14),Vr(10,ACe,5,3,"mat-list-item",15,Os),Li(12,"keyvalue"),w()()()),n&2){let e=Y();I(10),Wr(Ni(12,0,e.getExtensionStrategyParams()))}}function OCe(n,t){if(n&1&&(x(0,"div",10)(1,"h3"),P(2),w(),X(3,"p",20),w()),n&2){let e=t.$implicit,i=Y(2);I(2),be(e.value),I(),z("innerHTML",i.getDescription(e.key),NT)}}function PCe(n,t){if(n&1&&(x(0,"mat-card",19)(1,"mat-card-header")(2,"mat-card-title"),P(3,"N\xE1jdenie jednotliv\xFDch zh\xF4d"),w(),x(4,"mat-card-subtitle")(5,"p"),P(6," Dan\xE9 parametre ovplyv\u0148uj\xFA n\xE1jdenie zhodn\xFDch viet medzi dvojicami pr\xE1ve odovzdan\xFDch dokumentov, ako aj dokumentov ulo\u017Een\xFDch v datab\xE1ze "),w()()(),X(7,"mat-divider"),x(8,"mat-card-content")(9,"mat-list",12),Vr(10,OCe,4,2,"div",10,Os),Li(12,"keyvalue"),w()()()),n&2){let e=Y();I(10),Wr(Ni(12,0,e.getSeedingStrategyParams()))}}function LCe(n,t){n&1&&(x(0,"p"),P(1," Filtrovanie v\xFDsledkov "),x(2,"strong"),P(3,"nebolo pou\u017Eite"),w()())}function NCe(n,t){n&1&&(x(0,"p")(1,"strong"),P(2,"Bolo pou\u017Eite"),w(),P(3," filtrovanie v\xFDsledkov, odovzdania bez v\xFDsledn\xFDch porovnan\xED s\xFA pova\u017Eovan\xE9 za bezplagiatorsk\xE9 "),w())}function FCe(n,t){if(n&1&&(x(0,"mat-card",6)(1,"mat-card-header")(2,"mat-card-title"),P(3,"Filtrovanie v\xFDsledkov"),w(),x(4,"mat-card-subtitle"),te(5,LCe,4,0,"p",7)(6,NCe,4,0,"p",7),w()(),X(7,"mat-divider"),x(8,"mat-card-content")(9,"mat-list",17)(10,"mat-list-item",15)(11,"h3",16),P(12),w(),x(13,"span"),P(14),w()(),x(15,"mat-list-item",15)(16,"h3",16),P(17),w(),x(18,"span"),P(19),w()()()()()),n&2){let e,i,o,r,s=Y();I(5),z("ngIf",(e=s.overview())==null?null:e.configuration.comparisonsStoreParameters.canBypassFiltering),I(),z("ngIf",!((i=s.overview())!=null&&i.configuration.comparisonsStoreParameters.canBypassFiltering)),I(4),z("lines",3),I(2),be((o=s.overview())==null?null:o.configuration.comparisonsStoreParameters.maxResultsPerDocument),I(2),be(s.getDescription("maxResultsPerDocument")),I(),z("lines",3),I(2),be((r=s.overview())==null?null:r.configuration.comparisonsStoreParameters.minSimilarityToRecord),I(2),be(s.getDescription("minSimilarityToRecord"))}}function zCe(n,t){n&1&&(x(0,"p"),P(1," Odstr\xE1nenie \u0161abl\xF3ny "),x(2,"strong"),P(3,"nebolo pou\u017Eite"),w(),P(4,". Ka\u017Ed\xFD s\xFAbor sa predbe\u017Ene porovn\xE1 s dan\xFDm s\xFAborom. V\u0161etky n\xE1jden\xE9 zhody sa bud\xFA ignorova\u0165 a zobrazia sa pri otvoren\xED obsahu dokumentu "),w())}function BCe(n,t){n&1&&(x(0,"p")(1,"strong"),P(2,"Bolo pou\u017Eite"),w(),P(3," odstr\xE1nenie \u0161abl\xF3ny. Ka\u017Ed\xFD s\xFAbor sa predbe\u017Ene porovn\xE1 s dan\xFDm s\xFAborom. V\u0161etky n\xE1jden\xE9 zhody sa bud\xFA ignorova\u0165 a zobrazia sa pri otvoren\xED obsahu dokumentu "),w())}function HCe(n,t){if(n&1&&(x(0,"mat-list",17)(1,"mat-list-item",15)(2,"h3",21),P(3),w(),x(4,"span"),P(5),w()()()),n&2){let e,i,o=Y();I(),z("lines",3),I(2),be((e=(e=o.overview())==null?null:e.configuration.templateDocumentPath)!==null&&e!==void 0?e:"IPC.pdf"),I(2),be((i=o.overview())!=null&&i.configuration.templateDocumentPath?o.getDescription("templateDocumentPath"):'Text zadania IPC bol pou\u017Eit\xFD, ako "\u0161abl\xF3na".')}}function VCe(n,t){if(n&1&&(x(0,"div",10)(1,"h3"),P(2),w(),X(3,"p",20),w()),n&2){let e=t.$implicit,i=Y();I(2),be(e.value),I(),z("innerHTML",i.getDescription(e.key),NT)}}var Ok=class n{constructor(t,e,i){this.analysisContext=t;this.assetsLoaderService=e;this.sanitizer=i;ln(()=>{let o=this.analysisContext.getReport()();o&&this.overview.set(o.overview)})}overview=Ue(void 0);configurationDescription=Ue([]);ngOnInit(){this.assetsLoaderService.loadConfigurationDescription().subscribe(t=>{this.configurationDescription.set(t)})}getDescription(t,e=""){return this.configurationDescription().find(i=>i.name===t+e)?.description}getFlag(t,e=""){return this.configurationDescription().find(i=>i.name===t+e)?.flag}getExtensionStrategyParams(){return this.overview()?.configuration.extensionStrategyParameters}getSeedingStrategyParams(){return this.overview()?.configuration.seedingStrategyParameters}getFilteringStrategyParams(){return this.overview()?.configuration.filteringStrategyParameters}static \u0275fac=function(e){return new(e||n)(ie(Wt),ie(Rk),ie(bh))};static \u0275cmp=Q({type:n,selectors:[["app-configuration-info-card"]],decls:55,vars:17,consts:[[1,"configuration-card-group"],[2,"display","flex","flex-direction","column","gap","32px"],["class","medium-card","style","gap: 16px;",4,"ngIf"],["class","medium-card",4,"ngIf"],[2,"display","flex","flex-direction","column","flex-wrap","wrap","gap","32px"],["class","large-card",4,"ngIf"],[1,"medium-card"],[4,"ngIf"],["class","info-list",4,"ngIf"],[1,"large-text-list","info-list"],[1,"large-text-configuration-item"],["appTextOverflowScroll","",1,"scrollable-text"],[1,"large-text-list","info-list",2,"gap","0"],[1,"medium-card",2,"gap","16px"],[1,"info-list",2,"gap","0"],[3,"lines"],["matListItemTitle",""],[1,"info-list"],[2,"white-space","nowrap"],[1,"large-card"],[3,"innerHTML"],["appTextOverflowScroll","","matListItemTitle","",1,"scrollable-text"]],template:function(e,i){if(e&1&&(x(0,"div",0)(1,"div",1),te(2,SCe,30,14,"mat-card",2)(3,ECe,15,5,"mat-card",3)(4,TCe,8,2,"mat-card",3),w(),x(5,"div",4),te(6,RCe,13,2,"mat-card",5)(7,PCe,13,2,"mat-card",5),w(),x(8,"div",1),te(9,FCe,20,8,"mat-card",3),x(10,"mat-card",6)(11,"mat-card-header")(12,"mat-card-title"),P(13," Porovn\xE1vanie so \u0161abl\xF3nou "),w(),x(14,"mat-card-subtitle"),te(15,zCe,5,0,"p",7)(16,BCe,4,0,"p",7),w()(),X(17,"mat-divider"),x(18,"mat-card-content"),te(19,HCe,6,3,"mat-list",8),w()(),x(20,"mat-card",6)(21,"mat-card-header")(22,"mat-card-title"),P(23," Indexovanie "),w()(),X(24,"mat-divider"),x(25,"mat-card-content")(26,"mat-list",9)(27,"div",10)(28,"h3",11),P(29),w(),x(30,"p"),P(31),w()(),x(32,"div",10)(33,"h3"),P(34),w(),x(35,"p"),P(36),w()(),x(37,"div",10)(38,"h3"),P(39),w(),x(40,"p"),P(41),w()()()()(),x(42,"mat-card",6)(43,"mat-card-header")(44,"mat-card-title"),P(45," Filtrovanie zhodn\xFDch fragmentov "),w(),x(46,"mat-card-subtitle")(47,"p"),P(48," Po roz\u0161\xEDren\xED zhody na dlh\u0161ie fragmenty, sa v\xFDkona ich filtrovanie pod\u013Ea d\u013A\u017Eky "),w()()(),X(49,"mat-divider"),x(50,"mat-card-content")(51,"mat-list",12),Vr(52,VCe,4,2,"div",10,Os),Li(54,"keyvalue"),w()()()()()),e&2){let o,r,s,a,l,c;I(2),z("ngIf",i.configurationDescription().length!==0),I(),z("ngIf",i.configurationDescription().length!==0),I(),z("ngIf",i.configurationDescription().length!==0),I(2),z("ngIf",i.configurationDescription().length!==0),I(),z("ngIf",i.configurationDescription().length!==0),I(2),z("ngIf",i.configurationDescription().length!==0),I(6),z("ngIf",(o=i.overview())==null?null:o.configuration.pipelineParameters.canBypassTemplateRemoval),I(),z("ngIf",!((r=i.overview())!=null&&r.configuration.pipelineParameters.canBypassTemplateRemoval)),I(3),z("ngIf",!((s=i.overview())!=null&&s.configuration.pipelineParameters.canBypassTemplateRemoval)),I(10),be(((a=i.overview())==null?null:a.configuration.luceneIndexDirectoryPath)||"Pr\xE1zdn\xE1"),I(2),be(i.getDescription("luceneIndexDirectoryPath")),I(3),be((l=i.overview())==null?null:l.configuration.luceneFileDataSourceParameters.similarDocumentsLimit),I(2),be(i.getDescription("similarDocumentsLimit")),I(3),be((c=i.overview())==null?null:c.configuration.luceneFileDataSourceParameters.maxMetadataSimilarDoc),I(2),be(i.getDescription("maxMetadataSimilarDoc")),I(11),Wr(Ni(54,15,i.getFilteringStrategyParams()))}},dependencies:[Js,Su,Ul,Hd,Cl,ql,hk,Cu,VW,fo,Nd,Nh,Xr],styles:[`.medium-card{max-width:350px;min-width:200px}.large-card{max-width:400px;min-width:200px}.extra-large-card{max-width:450px;min-width:200px}.base-card{margin:auto;padding:16px}p{font:var(--mat-sys-body-medium);color:var(--mat-sys-on-surface-variant);margin:0}h3{font:var(--mat-sys-title-small);color:var(--mat-sys-on-surface);margin:0}h1{font:var(--mat-sys-title-large);color:var(--mat-sys-on-surface);margin:0}.text-frame{width:100%;overflow-y:hidden;display:flex;flex-direction:column;justify-content:center;align-content:start}.text-center{align-items:center}.text-frame h1{font:var(--mat-sys-title-large);color:var(--mat-sys-on-surface);margin:0}.text-frame p{font:var(--mat-sys-body-medium);color:var(--mat-sys-on-surface-variant);margin:0}.header-with-actions{display:flex;width:100%;flex-direction:row;align-items:center;justify-content:space-between}.header-with-actions button{justify-self:end}.header-with-actions h1{flex-grow:1;text-align:center;margin:0}.header-with-actions button{margin-left:auto}.info-list{display:flex;flex-direction:column;gap:24px}.info-list>mat-list-item{padding-left:0;padding-right:0;gap:16px}.card-group{display:flex;max-width:700px;min-width:300px;flex-direction:column;padding:16px;gap:24px;border-radius:var(--mat-sys-corner-extra-large);background-color:var(--mat-sys-surface-container-high)}.card-flex-box{display:flex;max-width:700px;min-width:300px;flex-direction:row;justify-content:center;flex-wrap:wrap;gap:16px}.horizontal-card-group-wrapper{display:flex;flex-direction:column;width:fit-content;height:100%;padding:16px;gap:8px;border-radius:var(--mat-sys-corner-extra-large);background-color:var(--mat-sys-surface-container-high)}.horizontal-card-group{display:flex;flex-direction:row;gap:32px}@media (max-width: 1250px){.horizontal-card-group{flex-wrap:wrap}}
`,`.gap-8{gap:8px!important}.configuration-card-group{display:flex;flex-direction:row;flex-wrap:wrap;column-gap:32px;row-gap:32px;align-items:start;justify-content:center}.configuration-card-group mat-card{margin-top:auto;margin-bottom:auto;gap:16px}.large-text-list{display:flex;flex-direction:column;gap:24px!important}.large-text-configuration-item>h3{font:var(--mat-sys-body-large);color:var(--mat-sys-on-surface);margin:0}
`],encapsulation:2})};var Pk=class n{constructor(t,e){this.analysisContext=t;this.fileUtils=e}loadReport(){return this.analysisContext.getReport()()!=null?We(this.analysisContext.getReport()()):this.analysisContext.getAnalysisImported()?this.loadFromUploadedZip().pipe(Ji(t=>{t&&(this.assignComparisonsToIndexedSubmissions(t),this.calculateMaxSimilarities(t))})):We(null)}loadFromUploadedZip(){return this.fileUtils.readReportFromZip(this.analysisContext.getSubmittedFile()().file)}assignComparisonsToIndexedSubmissions(t){t&&Array.from(t.pairs.values()).forEach(i=>{let o=t.submissions.get(i.secondId);o&&o.indexed&&o.pairIds.push(i.id)})}calculateMaxSimilarities(t){if(t!=null){let e=Array.from(t.submissions.values()),i=t.pairs;e.forEach(o=>{o.maxSimilarity=Math.max(0,...o.pairIds.map(r=>i.get(r)).map(r=>{let s=jt.getScoreByType(r,"JACCARD"),a=jt.getScoreByType(r,"SEMANTIC");return Math.max(s?.score??0,a?.score??0)}))})}}static \u0275fac=function(e){return new(e||n)(ct(Wt),ct(wl))};static \u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})};function jCe(n,t){n&1&&(x(0,"app-content-container")(1,"app-surface",1),X(2,"mat-progress-bar",2),w()()),n&2&&(I(),z("isTitleCentered",!0)("isHorizontal",!0))}function UCe(n,t){n&1&&X(0,"app-configuration-info-card")}function qCe(n,t){if(n&1){let e=Nt();x(0,"app-content-container")(1,"app-surface",3),X(2,"app-analysis-info-card")(3,"app-plagiarism-score-distribution"),w(),x(4,"app-surface",4),te(5,UCe,1,0,"app-configuration-info-card",0),w(),x(6,"app-surface",5),X(7,"app-submissions-table"),x(8,"button",6),le("click",function(){Ze(e);let o=Y();return Qe(o.navigateSubmissionsPage())}),P(9,"Ostatn\xE9 Odovzdania "),w()()()}if(n&2){let e,i=Y();I(),z("isTitleCentered",!0)("isHorizontal",!0),I(3),z("isTitleCentered",!0)("isHorizontal",!0),I(),z("ngIf",(e=i.analysisContext.getReport()())==null||e.overview==null?null:e.overview.configuration),I(),z("isContentCentered",!1)}}var Lk=class n{constructor(t,e,i,o){this.analysisContext=t;this.navigationService=e;this.analysisService=i;this.router=o}loading=!0;ngOnInit(){this.loading=!0,this.analysisService.loadReport().subscribe({next:t=>{t?(this.analysisContext.setReport(t),this.loading=!1,this.navigationService.toggleNavigationLock(!1)):this.router.navigate(["/import"])},error:t=>{console.error("ZIP Load Error:",t)}})}navigateSubmissionsPage(){this.router.navigate(["/submissions"])}static \u0275fac=function(e){return new(e||n)(ie(Wt),ie(Xs),ie(Pk),ie(xi))};static \u0275cmp=Q({type:n,selectors:[["app-analysis-page"]],decls:2,vars:2,consts:[[4,"ngIf"],["title","Na\u010D\xEDtavanie anal\xFDzy","subtitle","",3,"isTitleCentered","isHorizontal"],["mode","indeterminate",1,"full-width"],["title","","subtitle","",3,"isTitleCentered","isHorizontal"],["title","Nastavenia analyzy","subtitle","",3,"isTitleCentered","isHorizontal"],["title","Odovzdania","subtitle","Tabu\u013Eka obsahuje top 10 pr\xE1c s najv\xE4\u010D\u0161ou podobnos\u0165ou",3,"isContentCentered"],["mat-flat-button","",2,"align-self","end",3,"click"]],template:function(e,i){e&1&&te(0,jCe,3,2,"app-content-container",0)(1,qCe,10,6,"app-content-container",0),e&2&&(z("ngIf",i.loading),I(),z("ngIf",!i.loading))},dependencies:[$6,Mn,Mk,fo,Vd,Eu,An,Rn,Ak,Ok],styles:[".histogram-container[_ngcontent-%COMP%]{display:flex;min-width:600px;max-width:650px;flex-direction:column;justify-content:center;align-items:center;padding:16px;gap:24px;flex:1 0 0;background-color:var(--mat-sys-surface-container-high);border-radius:var(--mat-sys-corner-extra-large)}.histogram-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font:var(--mat-sys-headline-small);color:var(--mat-sys-on-surface);margin:0}.stat-group[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;align-items:center;align-content:center;align-self:stretch;padding:16px;gap:32px}.full-width[_ngcontent-%COMP%]{width:100%}"]})};var Nk=class n{constructor(t,e){this.analysisContext=t;this.router=e}canActivate(){return this.analysisContext.getSubmittedFile()()!==null?!0:(this.analysisContext.clearContext(),this.router.navigate(["/import"]),!1)}static \u0275fac=function(e){return new(e||n)(ct(Wt),ct(xi))};static \u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})};var Fk="http://www.w3.org/1999/xhtml",hH={svg:"http://www.w3.org/2000/svg",xhtml:Fk,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Gc(n){var t=n+="",e=t.indexOf(":");return e>=0&&(t=n.slice(0,e))!=="xmlns"&&(n=n.slice(e+1)),hH.hasOwnProperty(t)?{space:hH[t],local:n}:n}function GCe(n){return function(){var t=this.ownerDocument,e=this.namespaceURI;return e===Fk&&t.documentElement.namespaceURI===Fk?t.createElement(n):t.createElementNS(e,n)}}function $Ce(n){return function(){return this.ownerDocument.createElementNS(n.space,n.local)}}function zk(n){var t=Gc(n);return(t.local?$Ce:GCe)(t)}function KCe(){}function Cm(n){return n==null?KCe:function(){return this.querySelector(n)}}function O7(n){typeof n!="function"&&(n=Cm(n));for(var t=this._groups,e=t.length,i=new Array(e),o=0;o<e;++o)for(var r=t[o],s=r.length,a=i[o]=new Array(s),l,c,d=0;d<s;++d)(l=r[d])&&(c=n.call(l,l.__data__,d,r))&&("__data__"in l&&(c.__data__=l.__data__),a[d]=c);return new Zn(i,this._parents)}function mH(n){return n==null?[]:Array.isArray(n)?n:Array.from(n)}function YCe(){return[]}function t0(n){return n==null?YCe:function(){return this.querySelectorAll(n)}}function XCe(n){return function(){return mH(n.apply(this,arguments))}}function P7(n){typeof n=="function"?n=XCe(n):n=t0(n);for(var t=this._groups,e=t.length,i=[],o=[],r=0;r<e;++r)for(var s=t[r],a=s.length,l,c=0;c<a;++c)(l=s[c])&&(i.push(n.call(l,l.__data__,c,s)),o.push(l));return new Zn(i,o)}function i0(n){return function(){return this.matches(n)}}function Bk(n){return function(t){return t.matches(n)}}var ZCe=Array.prototype.find;function QCe(n){return function(){return ZCe.call(this.children,n)}}function JCe(){return this.firstElementChild}function L7(n){return this.select(n==null?JCe:QCe(typeof n=="function"?n:Bk(n)))}var eSe=Array.prototype.filter;function tSe(){return Array.from(this.children)}function iSe(n){return function(){return eSe.call(this.children,n)}}function N7(n){return this.selectAll(n==null?tSe:iSe(typeof n=="function"?n:Bk(n)))}function F7(n){typeof n!="function"&&(n=i0(n));for(var t=this._groups,e=t.length,i=new Array(e),o=0;o<e;++o)for(var r=t[o],s=r.length,a=i[o]=[],l,c=0;c<s;++c)(l=r[c])&&n.call(l,l.__data__,c,r)&&a.push(l);return new Zn(i,this._parents)}function Hk(n){return new Array(n.length)}function z7(){return new Zn(this._enter||this._groups.map(Hk),this._parents)}function n0(n,t){this.ownerDocument=n.ownerDocument,this.namespaceURI=n.namespaceURI,this._next=null,this._parent=n,this.__data__=t}n0.prototype={constructor:n0,appendChild:function(n){return this._parent.insertBefore(n,this._next)},insertBefore:function(n,t){return this._parent.insertBefore(n,t)},querySelector:function(n){return this._parent.querySelector(n)},querySelectorAll:function(n){return this._parent.querySelectorAll(n)}};function B7(n){return function(){return n}}function nSe(n,t,e,i,o,r){for(var s=0,a,l=t.length,c=r.length;s<c;++s)(a=t[s])?(a.__data__=r[s],i[s]=a):e[s]=new n0(n,r[s]);for(;s<l;++s)(a=t[s])&&(o[s]=a)}function oSe(n,t,e,i,o,r,s){var a,l,c=new Map,d=t.length,u=r.length,h=new Array(d),m;for(a=0;a<d;++a)(l=t[a])&&(h[a]=m=s.call(l,l.__data__,a,t)+"",c.has(m)?o[a]=l:c.set(m,l));for(a=0;a<u;++a)m=s.call(n,r[a],a,r)+"",(l=c.get(m))?(i[a]=l,l.__data__=r[a],c.delete(m)):e[a]=new n0(n,r[a]);for(a=0;a<d;++a)(l=t[a])&&c.get(h[a])===l&&(o[a]=l)}function rSe(n){return n.__data__}function H7(n,t){if(!arguments.length)return Array.from(this,rSe);var e=t?oSe:nSe,i=this._parents,o=this._groups;typeof n!="function"&&(n=B7(n));for(var r=o.length,s=new Array(r),a=new Array(r),l=new Array(r),c=0;c<r;++c){var d=i[c],u=o[c],h=u.length,m=sSe(n.call(d,d&&d.__data__,c,i)),f=m.length,p=a[c]=new Array(f),g=s[c]=new Array(f),v=l[c]=new Array(h);e(d,u,p,g,v,m,t);for(var b=0,C=0,T,E;b<f;++b)if(T=p[b]){for(b>=C&&(C=b+1);!(E=g[C])&&++C<f;);T._next=E||null}}return s=new Zn(s,i),s._enter=a,s._exit=l,s}function sSe(n){return typeof n=="object"&&"length"in n?n:Array.from(n)}function V7(){return new Zn(this._exit||this._groups.map(Hk),this._parents)}function W7(n,t,e){var i=this.enter(),o=this,r=this.exit();return typeof n=="function"?(i=n(i),i&&(i=i.selection())):i=i.append(n+""),t!=null&&(o=t(o),o&&(o=o.selection())),e==null?r.remove():e(r),i&&o?i.merge(o).order():o}function j7(n){for(var t=n.selection?n.selection():n,e=this._groups,i=t._groups,o=e.length,r=i.length,s=Math.min(o,r),a=new Array(o),l=0;l<s;++l)for(var c=e[l],d=i[l],u=c.length,h=a[l]=new Array(u),m,f=0;f<u;++f)(m=c[f]||d[f])&&(h[f]=m);for(;l<o;++l)a[l]=e[l];return new Zn(a,this._parents)}function U7(){for(var n=this._groups,t=-1,e=n.length;++t<e;)for(var i=n[t],o=i.length-1,r=i[o],s;--o>=0;)(s=i[o])&&(r&&s.compareDocumentPosition(r)^4&&r.parentNode.insertBefore(s,r),r=s);return this}function q7(n){n||(n=aSe);function t(u,h){return u&&h?n(u.__data__,h.__data__):!u-!h}for(var e=this._groups,i=e.length,o=new Array(i),r=0;r<i;++r){for(var s=e[r],a=s.length,l=o[r]=new Array(a),c,d=0;d<a;++d)(c=s[d])&&(l[d]=c);l.sort(t)}return new Zn(o,this._parents).order()}function aSe(n,t){return n<t?-1:n>t?1:n>=t?0:NaN}function G7(){var n=arguments[0];return arguments[0]=this,n.apply(null,arguments),this}function $7(){return Array.from(this)}function K7(){for(var n=this._groups,t=0,e=n.length;t<e;++t)for(var i=n[t],o=0,r=i.length;o<r;++o){var s=i[o];if(s)return s}return null}function Y7(){let n=0;for(let t of this)++n;return n}function X7(){return!this.node()}function Z7(n){for(var t=this._groups,e=0,i=t.length;e<i;++e)for(var o=t[e],r=0,s=o.length,a;r<s;++r)(a=o[r])&&n.call(a,a.__data__,r,o);return this}function lSe(n){return function(){this.removeAttribute(n)}}function cSe(n){return function(){this.removeAttributeNS(n.space,n.local)}}function dSe(n,t){return function(){this.setAttribute(n,t)}}function uSe(n,t){return function(){this.setAttributeNS(n.space,n.local,t)}}function hSe(n,t){return function(){var e=t.apply(this,arguments);e==null?this.removeAttribute(n):this.setAttribute(n,e)}}function mSe(n,t){return function(){var e=t.apply(this,arguments);e==null?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,e)}}function Q7(n,t){var e=Gc(n);if(arguments.length<2){var i=this.node();return e.local?i.getAttributeNS(e.space,e.local):i.getAttribute(e)}return this.each((t==null?e.local?cSe:lSe:typeof t=="function"?e.local?mSe:hSe:e.local?uSe:dSe)(e,t))}function Vk(n){return n.ownerDocument&&n.ownerDocument.defaultView||n.document&&n||n.defaultView}function pSe(n){return function(){this.style.removeProperty(n)}}function fSe(n,t,e){return function(){this.style.setProperty(n,t,e)}}function gSe(n,t,e){return function(){var i=t.apply(this,arguments);i==null?this.style.removeProperty(n):this.style.setProperty(n,i,e)}}function J7(n,t,e){return arguments.length>1?this.each((t==null?pSe:typeof t=="function"?gSe:fSe)(n,t,e??"")):Tu(this.node(),n)}function Tu(n,t){return n.style.getPropertyValue(t)||Vk(n).getComputedStyle(n,null).getPropertyValue(t)}function _Se(n){return function(){delete this[n]}}function vSe(n,t){return function(){this[n]=t}}function bSe(n,t){return function(){var e=t.apply(this,arguments);e==null?delete this[n]:this[n]=e}}function eY(n,t){return arguments.length>1?this.each((t==null?_Se:typeof t=="function"?bSe:vSe)(n,t)):this.node()[n]}function tY(n){return n.trim().split(/^|\s+/)}function pH(n){return n.classList||new iY(n)}function iY(n){this._node=n,this._names=tY(n.getAttribute("class")||"")}iY.prototype={add:function(n){var t=this._names.indexOf(n);t<0&&(this._names.push(n),this._node.setAttribute("class",this._names.join(" ")))},remove:function(n){var t=this._names.indexOf(n);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(n){return this._names.indexOf(n)>=0}};function nY(n,t){for(var e=pH(n),i=-1,o=t.length;++i<o;)e.add(t[i])}function oY(n,t){for(var e=pH(n),i=-1,o=t.length;++i<o;)e.remove(t[i])}function ySe(n){return function(){nY(this,n)}}function xSe(n){return function(){oY(this,n)}}function wSe(n,t){return function(){(t.apply(this,arguments)?nY:oY)(this,n)}}function rY(n,t){var e=tY(n+"");if(arguments.length<2){for(var i=pH(this.node()),o=-1,r=e.length;++o<r;)if(!i.contains(e[o]))return!1;return!0}return this.each((typeof t=="function"?wSe:t?ySe:xSe)(e,t))}function CSe(){this.textContent=""}function SSe(n){return function(){this.textContent=n}}function ISe(n){return function(){var t=n.apply(this,arguments);this.textContent=t??""}}function sY(n){return arguments.length?this.each(n==null?CSe:(typeof n=="function"?ISe:SSe)(n)):this.node().textContent}function DSe(){this.innerHTML=""}function ESe(n){return function(){this.innerHTML=n}}function kSe(n){return function(){var t=n.apply(this,arguments);this.innerHTML=t??""}}function aY(n){return arguments.length?this.each(n==null?DSe:(typeof n=="function"?kSe:ESe)(n)):this.node().innerHTML}function MSe(){this.nextSibling&&this.parentNode.appendChild(this)}function lY(){return this.each(MSe)}function TSe(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function cY(){return this.each(TSe)}function dY(n){var t=typeof n=="function"?n:zk(n);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function ASe(){return null}function uY(n,t){var e=typeof n=="function"?n:zk(n),i=t==null?ASe:typeof t=="function"?t:Cm(t);return this.select(function(){return this.insertBefore(e.apply(this,arguments),i.apply(this,arguments)||null)})}function RSe(){var n=this.parentNode;n&&n.removeChild(this)}function hY(){return this.each(RSe)}function OSe(){var n=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(n,this.nextSibling):n}function PSe(){var n=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(n,this.nextSibling):n}function mY(n){return this.select(n?PSe:OSe)}function pY(n){return arguments.length?this.property("__data__",n):this.node().__data__}function LSe(n){return function(t){n.call(this,t,this.__data__)}}function NSe(n){return n.trim().split(/^|\s+/).map(function(t){var e="",i=t.indexOf(".");return i>=0&&(e=t.slice(i+1),t=t.slice(0,i)),{type:t,name:e}})}function FSe(n){return function(){var t=this.__on;if(t){for(var e=0,i=-1,o=t.length,r;e<o;++e)r=t[e],(!n.type||r.type===n.type)&&r.name===n.name?this.removeEventListener(r.type,r.listener,r.options):t[++i]=r;++i?t.length=i:delete this.__on}}}function zSe(n,t,e){return function(){var i=this.__on,o,r=LSe(t);if(i){for(var s=0,a=i.length;s<a;++s)if((o=i[s]).type===n.type&&o.name===n.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=r,o.options=e),o.value=t;return}}this.addEventListener(n.type,r,e),o={type:n.type,name:n.name,value:t,listener:r,options:e},i?i.push(o):this.__on=[o]}}function fY(n,t,e){var i=NSe(n+""),o,r=i.length,s;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,c=a.length,d;l<c;++l)for(o=0,d=a[l];o<r;++o)if((s=i[o]).type===d.type&&s.name===d.name)return d.value}return}for(a=t?zSe:FSe,o=0;o<r;++o)this.each(a(i[o],t,e));return this}function gY(n,t,e){var i=Vk(n),o=i.CustomEvent;typeof o=="function"?o=new o(t,e):(o=i.document.createEvent("Event"),e?(o.initEvent(t,e.bubbles,e.cancelable),o.detail=e.detail):o.initEvent(t,!1,!1)),n.dispatchEvent(o)}function BSe(n,t){return function(){return gY(this,n,t)}}function HSe(n,t){return function(){return gY(this,n,t.apply(this,arguments))}}function _Y(n,t){return this.each((typeof t=="function"?HSe:BSe)(n,t))}function*vY(){for(var n=this._groups,t=0,e=n.length;t<e;++t)for(var i=n[t],o=0,r=i.length,s;o<r;++o)(s=i[o])&&(yield s)}var fH=[null];function Zn(n,t){this._groups=n,this._parents=t}function bY(){return new Zn([[document.documentElement]],fH)}function VSe(){return this}Zn.prototype=bY.prototype={constructor:Zn,select:O7,selectAll:P7,selectChild:L7,selectChildren:N7,filter:F7,data:H7,enter:z7,exit:V7,join:W7,merge:j7,selection:VSe,order:U7,sort:q7,call:G7,nodes:$7,node:K7,size:Y7,empty:X7,each:Z7,attr:Q7,style:J7,property:eY,classed:rY,text:sY,html:aY,raise:lY,lower:cY,append:dY,insert:uY,remove:hY,clone:mY,datum:pY,on:fY,dispatch:_Y,[Symbol.iterator]:vY};var $c=bY;function Wk(n){return typeof n=="string"?new Zn([[document.querySelector(n)]],[document.documentElement]):new Zn([[n]],fH)}function Sm(n){return function(){return n}}var gH=Math.PI,_H=2*gH,Im=1e-6,WSe=_H-Im;function yY(n){this._+=n[0];for(let t=1,e=n.length;t<e;++t)this._+=arguments[t]+n[t]}function jSe(n){let t=Math.floor(n);if(!(t>=0))throw new Error(`invalid digits: ${n}`);if(t>15)return yY;let e=10**t;return function(i){this._+=i[0];for(let o=1,r=i.length;o<r;++o)this._+=Math.round(arguments[o]*e)/e+i[o]}}var Dm=class{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?yY:jSe(t)}moveTo(t,e){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,e){this._append`L${this._x1=+t},${this._y1=+e}`}quadraticCurveTo(t,e,i,o){this._append`Q${+t},${+e},${this._x1=+i},${this._y1=+o}`}bezierCurveTo(t,e,i,o,r,s){this._append`C${+t},${+e},${+i},${+o},${this._x1=+r},${this._y1=+s}`}arcTo(t,e,i,o,r){if(t=+t,e=+e,i=+i,o=+o,r=+r,r<0)throw new Error(`negative radius: ${r}`);let s=this._x1,a=this._y1,l=i-t,c=o-e,d=s-t,u=a-e,h=d*d+u*u;if(this._x1===null)this._append`M${this._x1=t},${this._y1=e}`;else if(h>Im)if(!(Math.abs(u*l-c*d)>Im)||!r)this._append`L${this._x1=t},${this._y1=e}`;else{let m=i-s,f=o-a,p=l*l+c*c,g=m*m+f*f,v=Math.sqrt(p),b=Math.sqrt(h),C=r*Math.tan((gH-Math.acos((p+h-g)/(2*v*b)))/2),T=C/b,E=C/v;Math.abs(T-1)>Im&&this._append`L${t+T*d},${e+T*u}`,this._append`A${r},${r},0,0,${+(u*m>d*f)},${this._x1=t+E*l},${this._y1=e+E*c}`}}arc(t,e,i,o,r,s){if(t=+t,e=+e,i=+i,s=!!s,i<0)throw new Error(`negative radius: ${i}`);let a=i*Math.cos(o),l=i*Math.sin(o),c=t+a,d=e+l,u=1^s,h=s?o-r:r-o;this._x1===null?this._append`M${c},${d}`:(Math.abs(this._x1-c)>Im||Math.abs(this._y1-d)>Im)&&this._append`L${c},${d}`,i&&(h<0&&(h=h%_H+_H),h>WSe?this._append`A${i},${i},0,1,${u},${t-a},${e-l}A${i},${i},0,1,${u},${this._x1=c},${this._y1=d}`:h>Im&&this._append`A${i},${i},0,${+(h>=gH)},${u},${this._x1=t+i*Math.cos(r)},${this._y1=e+i*Math.sin(r)}`)}rect(t,e,i,o){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}h${i=+i}v${+o}h${-i}Z`}toString(){return this._}};function xY(){return new Dm}xY.prototype=Dm.prototype;function wY(n){let t=3;return n.digits=function(e){if(!arguments.length)return t;if(e==null)t=null;else{let i=Math.floor(e);if(!(i>=0))throw new RangeError(`invalid digits: ${e}`);t=i}return n},()=>new Dm(t)}var rZt=Array.prototype.slice;function CY(n){return typeof n=="object"&&"length"in n?n:Array.from(n)}function SY(n){this._context=n}SY.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,t){switch(n=+n,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,t):this._context.moveTo(n,t);break;case 1:this._point=2;default:this._context.lineTo(n,t);break}}};function IY(n){return new SY(n)}function DY(n){return n[0]}function EY(n){return n[1]}function vH(n,t){var e=Sm(!0),i=null,o=IY,r=null,s=wY(a);n=typeof n=="function"?n:n===void 0?DY:Sm(n),t=typeof t=="function"?t:t===void 0?EY:Sm(t);function a(l){var c,d=(l=CY(l)).length,u,h=!1,m;for(i==null&&(r=o(m=s())),c=0;c<=d;++c)!(c<d&&e(u=l[c],c,l))===h&&((h=!h)?r.lineStart():r.lineEnd()),h&&r.point(+n(u,c,l),+t(u,c,l));if(m)return r=null,m+""||null}return a.x=function(l){return arguments.length?(n=typeof l=="function"?l:Sm(+l),a):n},a.y=function(l){return arguments.length?(t=typeof l=="function"?l:Sm(+l),a):t},a.defined=function(l){return arguments.length?(e=typeof l=="function"?l:Sm(!!l),a):e},a.curve=function(l){return arguments.length?(o=l,i!=null&&(r=o(i)),a):o},a.context=function(l){return arguments.length?(l==null?i=r=null:r=o(i=l),a):i},a}function kY(n,t,e){n._context.bezierCurveTo((2*n._x0+n._x1)/3,(2*n._y0+n._y1)/3,(n._x0+2*n._x1)/3,(n._y0+2*n._y1)/3,(n._x0+4*n._x1+t)/6,(n._y0+4*n._y1+e)/6)}function jk(n){this._context=n}jk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:kY(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,t){switch(n=+n,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,t):this._context.moveTo(n,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:kY(this,n,t);break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=t}};function MY(n,t){this._basis=new jk(n),this._beta=t}MY.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var n=this._x,t=this._y,e=n.length-1;if(e>0)for(var i=n[0],o=t[0],r=n[e]-i,s=t[e]-o,a=-1,l;++a<=e;)l=a/e,this._basis.point(this._beta*n[a]+(1-this._beta)*(i+l*r),this._beta*t[a]+(1-this._beta)*(o+l*s));this._x=this._y=null,this._basis.lineEnd()},point:function(n,t){this._x.push(+n),this._y.push(+t)}};var bH=function n(t){function e(i){return t===1?new jk(i):new MY(i,t)}return e.beta=function(i){return n(+i)},e}(.85);function Uk(n){return((n*=2)<=1?n*n*n:(n-=2)*n*n+2)/2}var TY=Math.PI,xZt=TY/2;function o0(n){return(1-Math.cos(TY*n))/2}var yH={};ST(yH,{dispatch:()=>Bg});var GSe={value:()=>{}};function RY(){for(var n=0,t=arguments.length,e={},i;n<t;++n){if(!(i=arguments[n]+"")||i in e||/[\s.]/.test(i))throw new Error("illegal type: "+i);e[i]=[]}return new qk(e)}function qk(n){this._=n}function $Se(n,t){return n.trim().split(/^|\s+/).map(function(e){var i="",o=e.indexOf(".");if(o>=0&&(i=e.slice(o+1),e=e.slice(0,o)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:i}})}qk.prototype=RY.prototype={constructor:qk,on:function(n,t){var e=this._,i=$Se(n+"",e),o,r=-1,s=i.length;if(arguments.length<2){for(;++r<s;)if((o=(n=i[r]).type)&&(o=KSe(e[o],n.name)))return o;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++r<s;)if(o=(n=i[r]).type)e[o]=AY(e[o],n.name,t);else if(t==null)for(o in e)e[o]=AY(e[o],n.name,null);return this},copy:function(){var n={},t=this._;for(var e in t)n[e]=t[e].slice();return new qk(n)},call:function(n,t){if((o=arguments.length-2)>0)for(var e=new Array(o),i=0,o,r;i<o;++i)e[i]=arguments[i+2];if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(r=this._[n],i=0,o=r.length;i<o;++i)r[i].value.apply(t,e)},apply:function(n,t,e){if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(var i=this._[n],o=0,r=i.length;o<r;++o)i[o].value.apply(t,e)}};function KSe(n,t){for(var e=0,i=n.length,o;e<i;++e)if((o=n[e]).name===t)return o.value}function AY(n,t,e){for(var i=0,o=n.length;i<o;++i)if(n[i].name===t){n[i]=GSe,n=n.slice(0,i).concat(n.slice(i+1));break}return e!=null&&n.push({name:t,value:e}),n}var Bg=RY;var CH={};ST(CH,{interval:()=>NY,now:()=>Au,timeout:()=>c0,timer:()=>Mm,timerFlush:()=>wH});var Hg=0,s0=0,r0=0,PY=1e3,Gk,a0,$k=0,Em=0,Kk=0,l0=typeof performance=="object"&&performance.now?performance:Date,LY=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(n){setTimeout(n,17)};function Au(){return Em||(LY(YSe),Em=l0.now()+Kk)}function YSe(){Em=0}function km(){this._call=this._time=this._next=null}km.prototype=Mm.prototype={constructor:km,restart:function(n,t,e){if(typeof n!="function")throw new TypeError("callback is not a function");e=(e==null?Au():+e)+(t==null?0:+t),!this._next&&a0!==this&&(a0?a0._next=this:Gk=this,a0=this),this._call=n,this._time=e,xH()},stop:function(){this._call&&(this._call=null,this._time=1/0,xH())}};function Mm(n,t,e){var i=new km;return i.restart(n,t,e),i}function wH(){Au(),++Hg;for(var n=Gk,t;n;)(t=Em-n._time)>=0&&n._call.call(void 0,t),n=n._next;--Hg}function OY(){Em=($k=l0.now())+Kk,Hg=s0=0;try{wH()}finally{Hg=0,ZSe(),Em=0}}function XSe(){var n=l0.now(),t=n-$k;t>PY&&(Kk-=t,$k=n)}function ZSe(){for(var n,t=Gk,e,i=1/0;t;)t._call?(i>t._time&&(i=t._time),n=t,t=t._next):(e=t._next,t._next=null,t=n?n._next=e:Gk=e);a0=n,xH(i)}function xH(n){if(!Hg){s0&&(s0=clearTimeout(s0));var t=n-Em;t>24?(n<1/0&&(s0=setTimeout(OY,n-l0.now()-Kk)),r0&&(r0=clearInterval(r0))):(r0||($k=l0.now(),r0=setInterval(XSe,PY)),Hg=1,LY(OY))}}function c0(n,t,e){var i=new km;return t=t==null?0:+t,i.restart(o=>{i.stop(),n(o+t)},t,e),i}function NY(n,t,e){var i=new km,o=t;return t==null?(i.restart(n,t,e),i):(i._restart=i.restart,i.restart=function(r,s,a){s=+s,a=a==null?Au():+a,i._restart(function l(c){c+=o,i._restart(l,o+=s,a),r(c)},s,a)},i.restart(n,t,e),i)}var QSe=Bg("start","end","cancel","interrupt"),JSe=[],BY=0,FY=1,Xk=2,Yk=3,zY=4,Zk=5,d0=6;function Ru(n,t,e,i,o,r){var s=n.__transition;if(!s)n.__transition={};else if(e in s)return;eIe(n,e,{name:t,index:i,group:o,on:QSe,tween:JSe,time:r.time,delay:r.delay,duration:r.duration,ease:r.ease,timer:null,state:BY})}function u0(n,t){var e=Oo(n,t);if(e.state>BY)throw new Error("too late; already scheduled");return e}function rr(n,t){var e=Oo(n,t);if(e.state>Yk)throw new Error("too late; already running");return e}function Oo(n,t){var e=n.__transition;if(!e||!(e=e[t]))throw new Error("transition not found");return e}function eIe(n,t,e){var i=n.__transition,o;i[t]=e,e.timer=Mm(r,0,e.time);function r(c){e.state=FY,e.timer.restart(s,e.delay,e.time),e.delay<=c&&s(c-e.delay)}function s(c){var d,u,h,m;if(e.state!==FY)return l();for(d in i)if(m=i[d],m.name===e.name){if(m.state===Yk)return c0(s);m.state===zY?(m.state=d0,m.timer.stop(),m.on.call("interrupt",n,n.__data__,m.index,m.group),delete i[d]):+d<t&&(m.state=d0,m.timer.stop(),m.on.call("cancel",n,n.__data__,m.index,m.group),delete i[d])}if(c0(function(){e.state===Yk&&(e.state=zY,e.timer.restart(a,e.delay,e.time),a(c))}),e.state=Xk,e.on.call("start",n,n.__data__,e.index,e.group),e.state===Xk){for(e.state=Yk,o=new Array(h=e.tween.length),d=0,u=-1;d<h;++d)(m=e.tween[d].value.call(n,n.__data__,e.index,e.group))&&(o[++u]=m);o.length=u+1}}function a(c){for(var d=c<e.duration?e.ease.call(null,c/e.duration):(e.timer.restart(l),e.state=Zk,1),u=-1,h=o.length;++u<h;)o[u].call(n,d);e.state===Zk&&(e.on.call("end",n,n.__data__,e.index,e.group),l())}function l(){e.state=d0,e.timer.stop(),delete i[t];for(var c in i)return;delete n.__transition}}function HY(n,t){var e=n.__transition,i,o,r=!0,s;if(e){t=t==null?null:t+"";for(s in e){if((i=e[s]).name!==t){r=!1;continue}o=i.state>Xk&&i.state<Zk,i.state=d0,i.timer.stop(),i.on.call(o?"interrupt":"cancel",n,n.__data__,i.index,i.group),delete e[s]}r&&delete n.__transition}}function VY(n){return this.each(function(){HY(this,n)})}function Qk(n,t,e){n.prototype=t.prototype=e,e.constructor=n}function SH(n,t){var e=Object.create(n.prototype);for(var i in t)e[i]=t[i];return e}function p0(){}var h0=.7,tM=1/h0,Vg="\\s*([+-]?\\d+)\\s*",m0="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",$l="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",tIe=/^#([0-9a-f]{3,8})$/,iIe=new RegExp(`^rgb\\(${Vg},${Vg},${Vg}\\)$`),nIe=new RegExp(`^rgb\\(${$l},${$l},${$l}\\)$`),oIe=new RegExp(`^rgba\\(${Vg},${Vg},${Vg},${m0}\\)$`),rIe=new RegExp(`^rgba\\(${$l},${$l},${$l},${m0}\\)$`),sIe=new RegExp(`^hsl\\(${m0},${$l},${$l}\\)$`),aIe=new RegExp(`^hsla\\(${m0},${$l},${$l},${m0}\\)$`),WY={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Qk(p0,Ou,{copy(n){return Object.assign(new this.constructor,this,n)},displayable(){return this.rgb().displayable()},hex:jY,formatHex:jY,formatHex8:lIe,formatHsl:cIe,formatRgb:UY,toString:UY});function jY(){return this.rgb().formatHex()}function lIe(){return this.rgb().formatHex8()}function cIe(){return XY(this).formatHsl()}function UY(){return this.rgb().formatRgb()}function Ou(n){var t,e;return n=(n+"").trim().toLowerCase(),(t=tIe.exec(n))?(e=t[1].length,t=parseInt(t[1],16),e===6?qY(t):e===3?new ns(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):e===8?Jk(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):e===4?Jk(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=iIe.exec(n))?new ns(t[1],t[2],t[3],1):(t=nIe.exec(n))?new ns(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=oIe.exec(n))?Jk(t[1],t[2],t[3],t[4]):(t=rIe.exec(n))?Jk(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=sIe.exec(n))?KY(t[1],t[2]/100,t[3]/100,1):(t=aIe.exec(n))?KY(t[1],t[2]/100,t[3]/100,t[4]):WY.hasOwnProperty(n)?qY(WY[n]):n==="transparent"?new ns(NaN,NaN,NaN,0):null}function qY(n){return new ns(n>>16&255,n>>8&255,n&255,1)}function Jk(n,t,e,i){return i<=0&&(n=t=e=NaN),new ns(n,t,e,i)}function dIe(n){return n instanceof p0||(n=Ou(n)),n?(n=n.rgb(),new ns(n.r,n.g,n.b,n.opacity)):new ns}function Wg(n,t,e,i){return arguments.length===1?dIe(n):new ns(n,t,e,i??1)}function ns(n,t,e,i){this.r=+n,this.g=+t,this.b=+e,this.opacity=+i}Qk(ns,Wg,SH(p0,{brighter(n){return n=n==null?tM:Math.pow(tM,n),new ns(this.r*n,this.g*n,this.b*n,this.opacity)},darker(n){return n=n==null?h0:Math.pow(h0,n),new ns(this.r*n,this.g*n,this.b*n,this.opacity)},rgb(){return this},clamp(){return new ns(Am(this.r),Am(this.g),Am(this.b),iM(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:GY,formatHex:GY,formatHex8:uIe,formatRgb:$Y,toString:$Y}));function GY(){return`#${Tm(this.r)}${Tm(this.g)}${Tm(this.b)}`}function uIe(){return`#${Tm(this.r)}${Tm(this.g)}${Tm(this.b)}${Tm((isNaN(this.opacity)?1:this.opacity)*255)}`}function $Y(){let n=iM(this.opacity);return`${n===1?"rgb(":"rgba("}${Am(this.r)}, ${Am(this.g)}, ${Am(this.b)}${n===1?")":`, ${n})`}`}function iM(n){return isNaN(n)?1:Math.max(0,Math.min(1,n))}function Am(n){return Math.max(0,Math.min(255,Math.round(n)||0))}function Tm(n){return n=Am(n),(n<16?"0":"")+n.toString(16)}function KY(n,t,e,i){return i<=0?n=t=e=NaN:e<=0||e>=1?n=t=NaN:t<=0&&(n=NaN),new Ka(n,t,e,i)}function XY(n){if(n instanceof Ka)return new Ka(n.h,n.s,n.l,n.opacity);if(n instanceof p0||(n=Ou(n)),!n)return new Ka;if(n instanceof Ka)return n;n=n.rgb();var t=n.r/255,e=n.g/255,i=n.b/255,o=Math.min(t,e,i),r=Math.max(t,e,i),s=NaN,a=r-o,l=(r+o)/2;return a?(t===r?s=(e-i)/a+(e<i)*6:e===r?s=(i-t)/a+2:s=(t-e)/a+4,a/=l<.5?r+o:2-r-o,s*=60):a=l>0&&l<1?0:s,new Ka(s,a,l,n.opacity)}function ZY(n,t,e,i){return arguments.length===1?XY(n):new Ka(n,t,e,i??1)}function Ka(n,t,e,i){this.h=+n,this.s=+t,this.l=+e,this.opacity=+i}Qk(Ka,ZY,SH(p0,{brighter(n){return n=n==null?tM:Math.pow(tM,n),new Ka(this.h,this.s,this.l*n,this.opacity)},darker(n){return n=n==null?h0:Math.pow(h0,n),new Ka(this.h,this.s,this.l*n,this.opacity)},rgb(){var n=this.h%360+(this.h<0)*360,t=isNaN(n)||isNaN(this.s)?0:this.s,e=this.l,i=e+(e<.5?e:1-e)*t,o=2*e-i;return new ns(IH(n>=240?n-240:n+120,o,i),IH(n,o,i),IH(n<120?n+240:n-120,o,i),this.opacity)},clamp(){return new Ka(YY(this.h),eM(this.s),eM(this.l),iM(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let n=iM(this.opacity);return`${n===1?"hsl(":"hsla("}${YY(this.h)}, ${eM(this.s)*100}%, ${eM(this.l)*100}%${n===1?")":`, ${n})`}`}}));function YY(n){return n=(n||0)%360,n<0?n+360:n}function eM(n){return Math.max(0,Math.min(1,n||0))}function IH(n,t,e){return(n<60?t+(e-t)*n/60:n<180?e:n<240?t+(e-t)*(240-n)/60:t)*255}function DH(n,t,e,i,o){var r=n*n,s=r*n;return((1-3*n+3*r-s)*t+(4-6*r+3*s)*e+(1+3*n+3*r-3*s)*i+s*o)/6}function QY(n){var t=n.length-1;return function(e){var i=e<=0?e=0:e>=1?(e=1,t-1):Math.floor(e*t),o=n[i],r=n[i+1],s=i>0?n[i-1]:2*o-r,a=i<t-1?n[i+2]:2*r-o;return DH((e-i/t)*t,s,o,r,a)}}function JY(n){var t=n.length;return function(e){var i=Math.floor(((e%=1)<0?++e:e)*t),o=n[(i+t-1)%t],r=n[i%t],s=n[(i+1)%t],a=n[(i+2)%t];return DH((e-i/t)*t,o,r,s,a)}}var EH=n=>()=>n;function hIe(n,t){return function(e){return n+e*t}}function mIe(n,t,e){return n=Math.pow(n,e),t=Math.pow(t,e)-n,e=1/e,function(i){return Math.pow(n+i*t,e)}}function eX(n){return(n=+n)==1?nM:function(t,e){return e-t?mIe(t,e,n):EH(isNaN(t)?e:t)}}function nM(n,t){var e=t-n;return e?hIe(n,e):EH(isNaN(n)?t:n)}var oM=function n(t){var e=eX(t);function i(o,r){var s=e((o=Wg(o)).r,(r=Wg(r)).r),a=e(o.g,r.g),l=e(o.b,r.b),c=nM(o.opacity,r.opacity);return function(d){return o.r=s(d),o.g=a(d),o.b=l(d),o.opacity=c(d),o+""}}return i.gamma=n,i}(1);function tX(n){return function(t){var e=t.length,i=new Array(e),o=new Array(e),r=new Array(e),s,a;for(s=0;s<e;++s)a=Wg(t[s]),i[s]=a.r||0,o[s]=a.g||0,r[s]=a.b||0;return i=n(i),o=n(o),r=n(r),a.opacity=1,function(l){return a.r=i(l),a.g=o(l),a.b=r(l),a+""}}}var pIe=tX(QY),fIe=tX(JY);function ia(n,t){return n=+n,t=+t,function(e){return n*(1-e)+t*e}}var MH=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,kH=new RegExp(MH.source,"g");function gIe(n){return function(){return n}}function _Ie(n){return function(t){return n(t)+""}}function TH(n,t){var e=MH.lastIndex=kH.lastIndex=0,i,o,r,s=-1,a=[],l=[];for(n=n+"",t=t+"";(i=MH.exec(n))&&(o=kH.exec(t));)(r=o.index)>e&&(r=t.slice(e,r),a[s]?a[s]+=r:a[++s]=r),(i=i[0])===(o=o[0])?a[s]?a[s]+=o:a[++s]=o:(a[++s]=null,l.push({i:s,x:ia(i,o)})),e=kH.lastIndex;return e<t.length&&(r=t.slice(e),a[s]?a[s]+=r:a[++s]=r),a.length<2?l[0]?_Ie(l[0].x):gIe(t):(t=l.length,function(c){for(var d=0,u;d<t;++d)a[(u=l[d]).i]=u.x(c);return a.join("")})}var iX=180/Math.PI,rM={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function AH(n,t,e,i,o,r){var s,a,l;return(s=Math.sqrt(n*n+t*t))&&(n/=s,t/=s),(l=n*e+t*i)&&(e-=n*l,i-=t*l),(a=Math.sqrt(e*e+i*i))&&(e/=a,i/=a,l/=a),n*i<t*e&&(n=-n,t=-t,l=-l,s=-s),{translateX:o,translateY:r,rotate:Math.atan2(t,n)*iX,skewX:Math.atan(l)*iX,scaleX:s,scaleY:a}}var sM;function nX(n){let t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(n+"");return t.isIdentity?rM:AH(t.a,t.b,t.c,t.d,t.e,t.f)}function oX(n){return n==null?rM:(sM||(sM=document.createElementNS("http://www.w3.org/2000/svg","g")),sM.setAttribute("transform",n),(n=sM.transform.baseVal.consolidate())?(n=n.matrix,AH(n.a,n.b,n.c,n.d,n.e,n.f)):rM)}function rX(n,t,e,i){function o(c){return c.length?c.pop()+" ":""}function r(c,d,u,h,m,f){if(c!==u||d!==h){var p=m.push("translate(",null,t,null,e);f.push({i:p-4,x:ia(c,u)},{i:p-2,x:ia(d,h)})}else(u||h)&&m.push("translate("+u+t+h+e)}function s(c,d,u,h){c!==d?(c-d>180?d+=360:d-c>180&&(c+=360),h.push({i:u.push(o(u)+"rotate(",null,i)-2,x:ia(c,d)})):d&&u.push(o(u)+"rotate("+d+i)}function a(c,d,u,h){c!==d?h.push({i:u.push(o(u)+"skewX(",null,i)-2,x:ia(c,d)}):d&&u.push(o(u)+"skewX("+d+i)}function l(c,d,u,h,m,f){if(c!==u||d!==h){var p=m.push(o(m)+"scale(",null,",",null,")");f.push({i:p-4,x:ia(c,u)},{i:p-2,x:ia(d,h)})}else(u!==1||h!==1)&&m.push(o(m)+"scale("+u+","+h+")")}return function(c,d){var u=[],h=[];return c=n(c),d=n(d),r(c.translateX,c.translateY,d.translateX,d.translateY,u,h),s(c.rotate,d.rotate,u,h),a(c.skewX,d.skewX,u,h),l(c.scaleX,c.scaleY,d.scaleX,d.scaleY,u,h),c=d=null,function(m){for(var f=-1,p=h.length,g;++f<p;)u[(g=h[f]).i]=g.x(m);return u.join("")}}}var RH=rX(nX,"px, ","px)","deg)"),OH=rX(oX,", ",")",")");function vIe(n,t){var e,i;return function(){var o=rr(this,n),r=o.tween;if(r!==e){i=e=r;for(var s=0,a=i.length;s<a;++s)if(i[s].name===t){i=i.slice(),i.splice(s,1);break}}o.tween=i}}function bIe(n,t,e){var i,o;if(typeof e!="function")throw new Error;return function(){var r=rr(this,n),s=r.tween;if(s!==i){o=(i=s).slice();for(var a={name:t,value:e},l=0,c=o.length;l<c;++l)if(o[l].name===t){o[l]=a;break}l===c&&o.push(a)}r.tween=o}}function sX(n,t){var e=this._id;if(n+="",arguments.length<2){for(var i=Oo(this.node(),e).tween,o=0,r=i.length,s;o<r;++o)if((s=i[o]).name===n)return s.value;return null}return this.each((t==null?vIe:bIe)(e,n,t))}function jg(n,t,e){var i=n._id;return n.each(function(){var o=rr(this,i);(o.value||(o.value={}))[t]=e.apply(this,arguments)}),function(o){return Oo(o,i).value[t]}}function aM(n,t){var e;return(typeof t=="number"?ia:t instanceof Ou?oM:(e=Ou(t))?(t=e,oM):TH)(n,t)}function yIe(n){return function(){this.removeAttribute(n)}}function xIe(n){return function(){this.removeAttributeNS(n.space,n.local)}}function wIe(n,t,e){var i,o=e+"",r;return function(){var s=this.getAttribute(n);return s===o?null:s===i?r:r=t(i=s,e)}}function CIe(n,t,e){var i,o=e+"",r;return function(){var s=this.getAttributeNS(n.space,n.local);return s===o?null:s===i?r:r=t(i=s,e)}}function SIe(n,t,e){var i,o,r;return function(){var s,a=e(this),l;return a==null?void this.removeAttribute(n):(s=this.getAttribute(n),l=a+"",s===l?null:s===i&&l===o?r:(o=l,r=t(i=s,a)))}}function IIe(n,t,e){var i,o,r;return function(){var s,a=e(this),l;return a==null?void this.removeAttributeNS(n.space,n.local):(s=this.getAttributeNS(n.space,n.local),l=a+"",s===l?null:s===i&&l===o?r:(o=l,r=t(i=s,a)))}}function aX(n,t){var e=Gc(n),i=e==="transform"?OH:aM;return this.attrTween(n,typeof t=="function"?(e.local?IIe:SIe)(e,i,jg(this,"attr."+n,t)):t==null?(e.local?xIe:yIe)(e):(e.local?CIe:wIe)(e,i,t))}function DIe(n,t){return function(e){this.setAttribute(n,t.call(this,e))}}function EIe(n,t){return function(e){this.setAttributeNS(n.space,n.local,t.call(this,e))}}function kIe(n,t){var e,i;function o(){var r=t.apply(this,arguments);return r!==i&&(e=(i=r)&&EIe(n,r)),e}return o._value=t,o}function MIe(n,t){var e,i;function o(){var r=t.apply(this,arguments);return r!==i&&(e=(i=r)&&DIe(n,r)),e}return o._value=t,o}function lX(n,t){var e="attr."+n;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;var i=Gc(n);return this.tween(e,(i.local?kIe:MIe)(i,t))}function TIe(n,t){return function(){u0(this,n).delay=+t.apply(this,arguments)}}function AIe(n,t){return t=+t,function(){u0(this,n).delay=t}}function cX(n){var t=this._id;return arguments.length?this.each((typeof n=="function"?TIe:AIe)(t,n)):Oo(this.node(),t).delay}function RIe(n,t){return function(){rr(this,n).duration=+t.apply(this,arguments)}}function OIe(n,t){return t=+t,function(){rr(this,n).duration=t}}function dX(n){var t=this._id;return arguments.length?this.each((typeof n=="function"?RIe:OIe)(t,n)):Oo(this.node(),t).duration}function PIe(n,t){if(typeof t!="function")throw new Error;return function(){rr(this,n).ease=t}}function uX(n){var t=this._id;return arguments.length?this.each(PIe(t,n)):Oo(this.node(),t).ease}function LIe(n,t){return function(){var e=t.apply(this,arguments);if(typeof e!="function")throw new Error;rr(this,n).ease=e}}function hX(n){if(typeof n!="function")throw new Error;return this.each(LIe(this._id,n))}function mX(n){typeof n!="function"&&(n=i0(n));for(var t=this._groups,e=t.length,i=new Array(e),o=0;o<e;++o)for(var r=t[o],s=r.length,a=i[o]=[],l,c=0;c<s;++c)(l=r[c])&&n.call(l,l.__data__,c,r)&&a.push(l);return new Fr(i,this._parents,this._name,this._id)}function pX(n){if(n._id!==this._id)throw new Error;for(var t=this._groups,e=n._groups,i=t.length,o=e.length,r=Math.min(i,o),s=new Array(i),a=0;a<r;++a)for(var l=t[a],c=e[a],d=l.length,u=s[a]=new Array(d),h,m=0;m<d;++m)(h=l[m]||c[m])&&(u[m]=h);for(;a<i;++a)s[a]=t[a];return new Fr(s,this._parents,this._name,this._id)}function NIe(n){return(n+"").trim().split(/^|\s+/).every(function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||t==="start"})}function FIe(n,t,e){var i,o,r=NIe(t)?u0:rr;return function(){var s=r(this,n),a=s.on;a!==i&&(o=(i=a).copy()).on(t,e),s.on=o}}function fX(n,t){var e=this._id;return arguments.length<2?Oo(this.node(),e).on.on(n):this.each(FIe(e,n,t))}function zIe(n){return function(){var t=this.parentNode;for(var e in this.__transition)if(+e!==n)return;t&&t.removeChild(this)}}function gX(){return this.on("end.remove",zIe(this._id))}function _X(n){var t=this._name,e=this._id;typeof n!="function"&&(n=Cm(n));for(var i=this._groups,o=i.length,r=new Array(o),s=0;s<o;++s)for(var a=i[s],l=a.length,c=r[s]=new Array(l),d,u,h=0;h<l;++h)(d=a[h])&&(u=n.call(d,d.__data__,h,a))&&("__data__"in d&&(u.__data__=d.__data__),c[h]=u,Ru(c[h],t,e,h,c,Oo(d,e)));return new Fr(r,this._parents,t,e)}function vX(n){var t=this._name,e=this._id;typeof n!="function"&&(n=t0(n));for(var i=this._groups,o=i.length,r=[],s=[],a=0;a<o;++a)for(var l=i[a],c=l.length,d,u=0;u<c;++u)if(d=l[u]){for(var h=n.call(d,d.__data__,u,l),m,f=Oo(d,e),p=0,g=h.length;p<g;++p)(m=h[p])&&Ru(m,t,e,p,h,f);r.push(h),s.push(d)}return new Fr(r,s,t,e)}var BIe=$c.prototype.constructor;function bX(){return new BIe(this._groups,this._parents)}function HIe(n,t){var e,i,o;return function(){var r=Tu(this,n),s=(this.style.removeProperty(n),Tu(this,n));return r===s?null:r===e&&s===i?o:o=t(e=r,i=s)}}function yX(n){return function(){this.style.removeProperty(n)}}function VIe(n,t,e){var i,o=e+"",r;return function(){var s=Tu(this,n);return s===o?null:s===i?r:r=t(i=s,e)}}function WIe(n,t,e){var i,o,r;return function(){var s=Tu(this,n),a=e(this),l=a+"";return a==null&&(l=a=(this.style.removeProperty(n),Tu(this,n))),s===l?null:s===i&&l===o?r:(o=l,r=t(i=s,a))}}function jIe(n,t){var e,i,o,r="style."+t,s="end."+r,a;return function(){var l=rr(this,n),c=l.on,d=l.value[r]==null?a||(a=yX(t)):void 0;(c!==e||o!==d)&&(i=(e=c).copy()).on(s,o=d),l.on=i}}function xX(n,t,e){var i=(n+="")=="transform"?RH:aM;return t==null?this.styleTween(n,HIe(n,i)).on("end.style."+n,yX(n)):typeof t=="function"?this.styleTween(n,WIe(n,i,jg(this,"style."+n,t))).each(jIe(this._id,n)):this.styleTween(n,VIe(n,i,t),e).on("end.style."+n,null)}function UIe(n,t,e){return function(i){this.style.setProperty(n,t.call(this,i),e)}}function qIe(n,t,e){var i,o;function r(){var s=t.apply(this,arguments);return s!==o&&(i=(o=s)&&UIe(n,s,e)),i}return r._value=t,r}function wX(n,t,e){var i="style."+(n+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(t==null)return this.tween(i,null);if(typeof t!="function")throw new Error;return this.tween(i,qIe(n,t,e??""))}function GIe(n){return function(){this.textContent=n}}function $Ie(n){return function(){var t=n(this);this.textContent=t??""}}function CX(n){return this.tween("text",typeof n=="function"?$Ie(jg(this,"text",n)):GIe(n==null?"":n+""))}function KIe(n){return function(t){this.textContent=n.call(this,t)}}function YIe(n){var t,e;function i(){var o=n.apply(this,arguments);return o!==e&&(t=(e=o)&&KIe(o)),t}return i._value=n,i}function SX(n){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(n==null)return this.tween(t,null);if(typeof n!="function")throw new Error;return this.tween(t,YIe(n))}function IX(){for(var n=this._name,t=this._id,e=lM(),i=this._groups,o=i.length,r=0;r<o;++r)for(var s=i[r],a=s.length,l,c=0;c<a;++c)if(l=s[c]){var d=Oo(l,t);Ru(l,n,e,c,s,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new Fr(i,this._parents,n,e)}function DX(){var n,t,e=this,i=e._id,o=e.size();return new Promise(function(r,s){var a={value:s},l={value:function(){--o===0&&r()}};e.each(function(){var c=rr(this,i),d=c.on;d!==n&&(t=(n=d).copy(),t._.cancel.push(a),t._.interrupt.push(a),t._.end.push(l)),c.on=t}),o===0&&r()})}var XIe=0;function Fr(n,t,e,i){this._groups=n,this._parents=t,this._name=e,this._id=i}function EX(n){return $c().transition(n)}function lM(){return++XIe}var Kc=$c.prototype;Fr.prototype=EX.prototype={constructor:Fr,select:_X,selectAll:vX,selectChild:Kc.selectChild,selectChildren:Kc.selectChildren,filter:mX,merge:pX,selection:bX,transition:IX,call:Kc.call,nodes:Kc.nodes,node:Kc.node,size:Kc.size,empty:Kc.empty,each:Kc.each,on:fX,attr:aX,attrTween:lX,style:xX,styleTween:wX,text:CX,textTween:SX,remove:gX,tween:sX,delay:cX,duration:dX,ease:uX,easeVarying:hX,end:DX,[Symbol.iterator]:Kc[Symbol.iterator]};var ZIe={time:null,delay:0,duration:250,ease:Uk};function QIe(n,t){for(var e;!(e=n.__transition)||!(e=e[t]);)if(!(n=n.parentNode))throw new Error(`transition ${t} not found`);return e}function kX(n){var t,e;n instanceof Fr?(t=n._id,n=n._name):(t=lM(),(e=ZIe).time=Au(),n=n==null?null:n+"");for(var i=this._groups,o=i.length,r=0;r<o;++r)for(var s=i[r],a=s.length,l,c=0;c<a;++c)(l=s[c])&&Ru(l,n,t,c,s,e||QIe(l,t));return new Fr(i,this._parents,n,t)}$c.prototype.interrupt=VY;$c.prototype.transition=kX;function MX(){return{a:1,c:0,e:0,b:0,d:1,f:0}}function f0(n){return typeof n>"u"}function Yc(n,t=0){return{a:1,c:0,e:n,b:0,d:1,f:t}}function Xc(...n){n=Array.isArray(n[0])?n[0]:n;let t=(e,i)=>({a:e.a*i.a+e.c*i.b,c:e.a*i.c+e.c*i.d,e:e.a*i.e+e.c*i.f+e.e,b:e.b*i.a+e.d*i.b,d:e.b*i.c+e.d*i.d,f:e.b*i.e+e.d*i.f+e.f});switch(n.length){case 0:throw new Error("no matrices provided");case 1:return n[0];case 2:return t(n[0],n[1]);default:{let[e,i,...o]=n,r=t(e,i);return Xc(r,...o)}}}var{cos:pei,sin:fei,PI:gei}=Math;function g0(n,t=void 0,e=void 0,i=void 0){f0(t)&&(t=n);let o={a:n,c:0,e:0,b:0,d:t,f:0};return f0(e)||f0(i)?o:Xc([Yc(e,i),o,Yc(-e,-i)])}var{tan:Cei}=Math;function TX(n){return JIe(n)}function JIe(n){return`matrix(${n.a},${n.b},${n.c},${n.d},${n.e},${n.f})`}function PH(n,t=1e10){return{a:Math.round(n.a*t)/t,b:Math.round(n.b*t)/t,c:Math.round(n.c*t)/t,d:Math.round(n.d*t)/t,e:Math.round(n.e*t)/t,f:Math.round(n.f*t)/t}}function eDe(n,t){function e(){this.constructor=n}e.prototype=t.prototype,n.prototype=new e}function cM(n,t,e,i){var o=Error.call(this,n);return Object.setPrototypeOf&&Object.setPrototypeOf(o,cM.prototype),o.expected=t,o.found=e,o.location=i,o.name="SyntaxError",o}eDe(cM,Error);function LH(n,t,e){return e=e||" ",n.length>t?n:(t-=n.length,e+=e.repeat(t),n+e.slice(0,t))}cM.prototype.format=function(n){var t="Error: "+this.message;if(this.location){var e=null,i;for(i=0;i<n.length;i++)if(n[i].source===this.location.source){e=n[i].text.split(/\r\n|\n|\r/g);break}var o=this.location.start,r=this.location.source&&typeof this.location.source.offset=="function"?this.location.source.offset(o):o,s=this.location.source+":"+r.line+":"+r.column;if(e){var a=this.location.end,l=LH("",r.line.toString().length," "),c=e[o.line-1],d=o.line===a.line?a.column:c.length+1,u=d-o.column||1;t+=`
 --> `+s+`
`+l+` |
`+r.line+" | "+c+`
`+l+" | "+LH("",o.column-1," ")+LH("",u,"^")}else t+=`
 at `+s}return t};cM.buildMessage=function(n,t){var e={literal:function(c){return'"'+o(c.text)+'"'},class:function(c){var d=c.parts.map(function(u){return Array.isArray(u)?r(u[0])+"-"+r(u[1]):r(u)});return"["+(c.inverted?"^":"")+d.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(c){return c.description}};function i(c){return c.charCodeAt(0).toString(16).toUpperCase()}function o(c){return c.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(d){return"\\x0"+i(d)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(d){return"\\x"+i(d)})}function r(c){return c.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(d){return"\\x0"+i(d)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(d){return"\\x"+i(d)})}function s(c){return e[c.type](c)}function a(c){var d=c.map(s),u,h;if(d.sort(),d.length>0){for(u=1,h=1;u<d.length;u++)d[u-1]!==d[u]&&(d[h]=d[u],h++);d.length=h}switch(d.length){case 1:return d[0];case 2:return d[0]+" or "+d[1];default:return d.slice(0,-1).join(", ")+", or "+d[d.length-1]}}function l(c){return c?'"'+o(c)+'"':"end of input"}return"Expected "+a(n)+" but "+l(t)+" found."};var Ug=class extends Map{constructor(t,e=oDe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),t!=null)for(let[i,o]of t)this.set(i,o)}get(t){return super.get(AX(this,t))}has(t){return super.has(AX(this,t))}set(t,e){return super.set(iDe(this,t),e)}delete(t){return super.delete(nDe(this,t))}};function AX({_intern:n,_key:t},e){let i=t(e);return n.has(i)?n.get(i):e}function iDe({_intern:n,_key:t},e){let i=t(e);return n.has(i)?n.get(i):(n.set(i,e),e)}function nDe({_intern:n,_key:t},e){let i=t(e);return n.has(i)&&(e=n.get(i),n.delete(i)),e}function oDe(n){return n!==null&&typeof n=="object"?n.valueOf():n}function RX(n,t){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(t).domain(n);break}return this}var NH=Symbol("implicit");function _0(){var n=new Ug,t=[],e=[],i=NH;function o(r){let s=n.get(r);if(s===void 0){if(i!==NH)return i;n.set(r,s=t.push(r)-1)}return e[s%e.length]}return o.domain=function(r){if(!arguments.length)return t.slice();t=[],n=new Ug;for(let s of r)n.has(s)||n.set(s,t.push(s)-1);return o},o.range=function(r){return arguments.length?(e=Array.from(r),o):e.slice()},o.unknown=function(r){return arguments.length?(i=r,o):i},o.copy=function(){return _0(t,e).unknown(i)},RX.apply(o,arguments),o}var Uu=jm(Mae(),1);var h3={};ST(h3,{forceCenter:()=>Tae,forceCollide:()=>o_,forceLink:()=>r_,forceManyBody:()=>a_,forceRadial:()=>Jae,forceSimulation:()=>s_,forceX:()=>ele,forceY:()=>tle});function Tae(n,t){var e,i=1;n==null&&(n=0),t==null&&(t=0);function o(){var r,s=e.length,a,l=0,c=0;for(r=0;r<s;++r)a=e[r],l+=a.x,c+=a.y;for(l=(l/s-n)*i,c=(c/s-t)*i,r=0;r<s;++r)a=e[r],a.x-=l,a.y-=c}return o.initialize=function(r){e=r},o.x=function(r){return arguments.length?(n=+r,o):n},o.y=function(r){return arguments.length?(t=+r,o):t},o.strength=function(r){return arguments.length?(i=+r,o):i},o}function Aae(n){let t=+this._x.call(null,n),e=+this._y.call(null,n);return Rae(this.cover(t,e),t,e,n)}function Rae(n,t,e,i){if(isNaN(t)||isNaN(e))return n;var o,r=n._root,s={data:i},a=n._x0,l=n._y0,c=n._x1,d=n._y1,u,h,m,f,p,g,v,b;if(!r)return n._root=s,n;for(;r.length;)if((p=t>=(u=(a+c)/2))?a=u:c=u,(g=e>=(h=(l+d)/2))?l=h:d=h,o=r,!(r=r[v=g<<1|p]))return o[v]=s,n;if(m=+n._x.call(null,r.data),f=+n._y.call(null,r.data),t===m&&e===f)return s.next=r,o?o[v]=s:n._root=s,n;do o=o?o[v]=new Array(4):n._root=new Array(4),(p=t>=(u=(a+c)/2))?a=u:c=u,(g=e>=(h=(l+d)/2))?l=h:d=h;while((v=g<<1|p)===(b=(f>=h)<<1|m>=u));return o[b]=r,o[v]=s,n}function Oae(n){var t,e,i=n.length,o,r,s=new Array(i),a=new Array(i),l=1/0,c=1/0,d=-1/0,u=-1/0;for(e=0;e<i;++e)isNaN(o=+this._x.call(null,t=n[e]))||isNaN(r=+this._y.call(null,t))||(s[e]=o,a[e]=r,o<l&&(l=o),o>d&&(d=o),r<c&&(c=r),r>u&&(u=r));if(l>d||c>u)return this;for(this.cover(l,c).cover(d,u),e=0;e<i;++e)Rae(this,s[e],a[e],n[e]);return this}function Pae(n,t){if(isNaN(n=+n)||isNaN(t=+t))return this;var e=this._x0,i=this._y0,o=this._x1,r=this._y1;if(isNaN(e))o=(e=Math.floor(n))+1,r=(i=Math.floor(t))+1;else{for(var s=o-e||1,a=this._root,l,c;e>n||n>=o||i>t||t>=r;)switch(c=(t<i)<<1|n<e,l=new Array(4),l[c]=a,a=l,s*=2,c){case 0:o=e+s,r=i+s;break;case 1:e=o-s,r=i+s;break;case 2:o=e+s,i=r-s;break;case 3:e=o-s,i=r-s;break}this._root&&this._root.length&&(this._root=a)}return this._x0=e,this._y0=i,this._x1=o,this._y1=r,this}function Lae(){var n=[];return this.visit(function(t){if(!t.length)do n.push(t.data);while(t=t.next)}),n}function Nae(n){return arguments.length?this.cover(+n[0][0],+n[0][1]).cover(+n[1][0],+n[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function Uo(n,t,e,i,o){this.node=n,this.x0=t,this.y0=e,this.x1=i,this.y1=o}function Fae(n,t,e){var i,o=this._x0,r=this._y0,s,a,l,c,d=this._x1,u=this._y1,h=[],m=this._root,f,p;for(m&&h.push(new Uo(m,o,r,d,u)),e==null?e=1/0:(o=n-e,r=t-e,d=n+e,u=t+e,e*=e);f=h.pop();)if(!(!(m=f.node)||(s=f.x0)>d||(a=f.y0)>u||(l=f.x1)<o||(c=f.y1)<r))if(m.length){var g=(s+l)/2,v=(a+c)/2;h.push(new Uo(m[3],g,v,l,c),new Uo(m[2],s,v,g,c),new Uo(m[1],g,a,l,v),new Uo(m[0],s,a,g,v)),(p=(t>=v)<<1|n>=g)&&(f=h[h.length-1],h[h.length-1]=h[h.length-1-p],h[h.length-1-p]=f)}else{var b=n-+this._x.call(null,m.data),C=t-+this._y.call(null,m.data),T=b*b+C*C;if(T<e){var E=Math.sqrt(e=T);o=n-E,r=t-E,d=n+E,u=t+E,i=m.data}}return i}function zae(n){if(isNaN(d=+this._x.call(null,n))||isNaN(u=+this._y.call(null,n)))return this;var t,e=this._root,i,o,r,s=this._x0,a=this._y0,l=this._x1,c=this._y1,d,u,h,m,f,p,g,v;if(!e)return this;if(e.length)for(;;){if((f=d>=(h=(s+l)/2))?s=h:l=h,(p=u>=(m=(a+c)/2))?a=m:c=m,t=e,!(e=e[g=p<<1|f]))return this;if(!e.length)break;(t[g+1&3]||t[g+2&3]||t[g+3&3])&&(i=t,v=g)}for(;e.data!==n;)if(o=e,!(e=e.next))return this;return(r=e.next)&&delete e.next,o?(r?o.next=r:delete o.next,this):t?(r?t[g]=r:delete t[g],(e=t[0]||t[1]||t[2]||t[3])&&e===(t[3]||t[2]||t[1]||t[0])&&!e.length&&(i?i[v]=e:this._root=e),this):(this._root=r,this)}function Bae(n){for(var t=0,e=n.length;t<e;++t)this.remove(n[t]);return this}function Hae(){return this._root}function Vae(){var n=0;return this.visit(function(t){if(!t.length)do++n;while(t=t.next)}),n}function Wae(n){var t=[],e,i=this._root,o,r,s,a,l;for(i&&t.push(new Uo(i,this._x0,this._y0,this._x1,this._y1));e=t.pop();)if(!n(i=e.node,r=e.x0,s=e.y0,a=e.x1,l=e.y1)&&i.length){var c=(r+a)/2,d=(s+l)/2;(o=i[3])&&t.push(new Uo(o,c,d,a,l)),(o=i[2])&&t.push(new Uo(o,r,d,c,l)),(o=i[1])&&t.push(new Uo(o,c,s,a,d)),(o=i[0])&&t.push(new Uo(o,r,s,c,d))}return this}function jae(n){var t=[],e=[],i;for(this._root&&t.push(new Uo(this._root,this._x0,this._y0,this._x1,this._y1));i=t.pop();){var o=i.node;if(o.length){var r,s=i.x0,a=i.y0,l=i.x1,c=i.y1,d=(s+l)/2,u=(a+c)/2;(r=o[0])&&t.push(new Uo(r,s,a,d,u)),(r=o[1])&&t.push(new Uo(r,d,a,l,u)),(r=o[2])&&t.push(new Uo(r,s,u,d,c)),(r=o[3])&&t.push(new Uo(r,d,u,l,c))}e.push(i)}for(;i=e.pop();)n(i.node,i.x0,i.y0,i.x1,i.y1);return this}function Uae(n){return n[0]}function qae(n){return arguments.length?(this._x=n,this):this._x}function Gae(n){return n[1]}function $ae(n){return arguments.length?(this._y=n,this):this._y}function Vm(n,t,e){var i=new u3(t??Uae,e??Gae,NaN,NaN,NaN,NaN);return n==null?i:i.addAll(n)}function u3(n,t,e,i,o,r){this._x=n,this._y=t,this._x0=e,this._y0=i,this._x1=o,this._y1=r,this._root=void 0}function Kae(n){for(var t={data:n.data},e=t;n=n.next;)e=e.next={data:n.data};return t}var Br=Vm.prototype=u3.prototype;Br.copy=function(){var n=new u3(this._x,this._y,this._x0,this._y0,this._x1,this._y1),t=this._root,e,i;if(!t)return n;if(!t.length)return n._root=Kae(t),n;for(e=[{source:t,target:n._root=new Array(4)}];t=e.pop();)for(var o=0;o<4;++o)(i=t.source[o])&&(i.length?e.push({source:i,target:t.target[o]=new Array(4)}):t.target[o]=Kae(i));return n};Br.add=Aae;Br.addAll=Oae;Br.cover=Pae;Br.data=Lae;Br.extent=Nae;Br.find=Fae;Br.remove=zae;Br.removeAll=Bae;Br.root=Hae;Br.size=Vae;Br.visit=Wae;Br.visitAfter=jae;Br.x=qae;Br.y=$ae;function Sn(n){return function(){return n}}function Xa(n){return(n()-.5)*1e-6}function vWe(n){return n.x+n.vx}function bWe(n){return n.y+n.vy}function o_(n){var t,e,i,o=1,r=1;typeof n!="function"&&(n=Sn(n==null?1:+n));function s(){for(var c,d=t.length,u,h,m,f,p,g,v=0;v<r;++v)for(u=Vm(t,vWe,bWe).visitAfter(a),c=0;c<d;++c)h=t[c],p=e[h.index],g=p*p,m=h.x+h.vx,f=h.y+h.vy,u.visit(b);function b(C,T,E,F,L){var H=C.data,re=C.r,R=p+re;if(H){if(H.index>h.index){var W=m-H.x-H.vx,D=f-H.y-H.vy,ne=W*W+D*D;ne<R*R&&(W===0&&(W=Xa(i),ne+=W*W),D===0&&(D=Xa(i),ne+=D*D),ne=(R-(ne=Math.sqrt(ne)))/ne*o,h.vx+=(W*=ne)*(R=(re*=re)/(g+re)),h.vy+=(D*=ne)*R,H.vx-=W*(R=1-R),H.vy-=D*R)}return}return T>m+R||F<m-R||E>f+R||L<f-R}}function a(c){if(c.data)return c.r=e[c.data.index];for(var d=c.r=0;d<4;++d)c[d]&&c[d].r>c.r&&(c.r=c[d].r)}function l(){if(t){var c,d=t.length,u;for(e=new Array(d),c=0;c<d;++c)u=t[c],e[u.index]=+n(u,c,t)}}return s.initialize=function(c,d){t=c,i=d,l()},s.iterations=function(c){return arguments.length?(r=+c,s):r},s.strength=function(c){return arguments.length?(o=+c,s):o},s.radius=function(c){return arguments.length?(n=typeof c=="function"?c:Sn(+c),l(),s):n},s}function yWe(n){return n.index}function Yae(n,t){var e=n.get(t);if(!e)throw new Error("node not found: "+t);return e}function r_(n){var t=yWe,e=u,i,o=Sn(30),r,s,a,l,c,d=1;n==null&&(n=[]);function u(g){return 1/Math.min(a[g.source.index],a[g.target.index])}function h(g){for(var v=0,b=n.length;v<d;++v)for(var C=0,T,E,F,L,H,re,R;C<b;++C)T=n[C],E=T.source,F=T.target,L=F.x+F.vx-E.x-E.vx||Xa(c),H=F.y+F.vy-E.y-E.vy||Xa(c),re=Math.sqrt(L*L+H*H),re=(re-r[C])/re*g*i[C],L*=re,H*=re,F.vx-=L*(R=l[C]),F.vy-=H*R,E.vx+=L*(R=1-R),E.vy+=H*R}function m(){if(s){var g,v=s.length,b=n.length,C=new Map(s.map((E,F)=>[t(E,F,s),E])),T;for(g=0,a=new Array(v);g<b;++g)T=n[g],T.index=g,typeof T.source!="object"&&(T.source=Yae(C,T.source)),typeof T.target!="object"&&(T.target=Yae(C,T.target)),a[T.source.index]=(a[T.source.index]||0)+1,a[T.target.index]=(a[T.target.index]||0)+1;for(g=0,l=new Array(b);g<b;++g)T=n[g],l[g]=a[T.source.index]/(a[T.source.index]+a[T.target.index]);i=new Array(b),f(),r=new Array(b),p()}}function f(){if(s)for(var g=0,v=n.length;g<v;++g)i[g]=+e(n[g],g,n)}function p(){if(s)for(var g=0,v=n.length;g<v;++g)r[g]=+o(n[g],g,n)}return h.initialize=function(g,v){s=g,c=v,m()},h.links=function(g){return arguments.length?(n=g,m(),h):n},h.id=function(g){return arguments.length?(t=g,h):t},h.iterations=function(g){return arguments.length?(d=+g,h):d},h.strength=function(g){return arguments.length?(e=typeof g=="function"?g:Sn(+g),f(),h):e},h.distance=function(g){return arguments.length?(o=typeof g=="function"?g:Sn(+g),p(),h):o},h}function Xae(){let n=1;return()=>(n=(1664525*n+1013904223)%4294967296)/4294967296}function Zae(n){return n.x}function Qae(n){return n.y}var xWe=10,wWe=Math.PI*(3-Math.sqrt(5));function s_(n){var t,e=1,i=.001,o=1-Math.pow(i,1/300),r=0,s=.6,a=new Map,l=Mm(u),c=Bg("tick","end"),d=Xae();n==null&&(n=[]);function u(){h(),c.call("tick",t),e<i&&(l.stop(),c.call("end",t))}function h(p){var g,v=n.length,b;p===void 0&&(p=1);for(var C=0;C<p;++C)for(e+=(r-e)*o,a.forEach(function(T){T(e)}),g=0;g<v;++g)b=n[g],b.fx==null?b.x+=b.vx*=s:(b.x=b.fx,b.vx=0),b.fy==null?b.y+=b.vy*=s:(b.y=b.fy,b.vy=0);return t}function m(){for(var p=0,g=n.length,v;p<g;++p){if(v=n[p],v.index=p,v.fx!=null&&(v.x=v.fx),v.fy!=null&&(v.y=v.fy),isNaN(v.x)||isNaN(v.y)){var b=xWe*Math.sqrt(.5+p),C=p*wWe;v.x=b*Math.cos(C),v.y=b*Math.sin(C)}(isNaN(v.vx)||isNaN(v.vy))&&(v.vx=v.vy=0)}}function f(p){return p.initialize&&p.initialize(n,d),p}return m(),t={tick:h,restart:function(){return l.restart(u),t},stop:function(){return l.stop(),t},nodes:function(p){return arguments.length?(n=p,m(),a.forEach(f),t):n},alpha:function(p){return arguments.length?(e=+p,t):e},alphaMin:function(p){return arguments.length?(i=+p,t):i},alphaDecay:function(p){return arguments.length?(o=+p,t):+o},alphaTarget:function(p){return arguments.length?(r=+p,t):r},velocityDecay:function(p){return arguments.length?(s=1-p,t):1-s},randomSource:function(p){return arguments.length?(d=p,a.forEach(f),t):d},force:function(p,g){return arguments.length>1?(g==null?a.delete(p):a.set(p,f(g)),t):a.get(p)},find:function(p,g,v){var b=0,C=n.length,T,E,F,L,H;for(v==null?v=1/0:v*=v,b=0;b<C;++b)L=n[b],T=p-L.x,E=g-L.y,F=T*T+E*E,F<v&&(H=L,v=F);return H},on:function(p,g){return arguments.length>1?(c.on(p,g),t):c.on(p)}}}function a_(){var n,t,e,i,o=Sn(-30),r,s=1,a=1/0,l=.81;function c(m){var f,p=n.length,g=Vm(n,Zae,Qae).visitAfter(u);for(i=m,f=0;f<p;++f)t=n[f],g.visit(h)}function d(){if(n){var m,f=n.length,p;for(r=new Array(f),m=0;m<f;++m)p=n[m],r[p.index]=+o(p,m,n)}}function u(m){var f=0,p,g,v=0,b,C,T;if(m.length){for(b=C=T=0;T<4;++T)(p=m[T])&&(g=Math.abs(p.value))&&(f+=p.value,v+=g,b+=g*p.x,C+=g*p.y);m.x=b/v,m.y=C/v}else{p=m,p.x=p.data.x,p.y=p.data.y;do f+=r[p.data.index];while(p=p.next)}m.value=f}function h(m,f,p,g){if(!m.value)return!0;var v=m.x-t.x,b=m.y-t.y,C=g-f,T=v*v+b*b;if(C*C/l<T)return T<a&&(v===0&&(v=Xa(e),T+=v*v),b===0&&(b=Xa(e),T+=b*b),T<s&&(T=Math.sqrt(s*T)),t.vx+=v*m.value*i/T,t.vy+=b*m.value*i/T),!0;if(m.length||T>=a)return;(m.data!==t||m.next)&&(v===0&&(v=Xa(e),T+=v*v),b===0&&(b=Xa(e),T+=b*b),T<s&&(T=Math.sqrt(s*T)));do m.data!==t&&(C=r[m.data.index]*i/T,t.vx+=v*C,t.vy+=b*C);while(m=m.next)}return c.initialize=function(m,f){n=m,e=f,d()},c.strength=function(m){return arguments.length?(o=typeof m=="function"?m:Sn(+m),d(),c):o},c.distanceMin=function(m){return arguments.length?(s=m*m,c):Math.sqrt(s)},c.distanceMax=function(m){return arguments.length?(a=m*m,c):Math.sqrt(a)},c.theta=function(m){return arguments.length?(l=m*m,c):Math.sqrt(l)},c}function Jae(n,t,e){var i,o=Sn(.1),r,s;typeof n!="function"&&(n=Sn(+n)),t==null&&(t=0),e==null&&(e=0);function a(c){for(var d=0,u=i.length;d<u;++d){var h=i[d],m=h.x-t||1e-6,f=h.y-e||1e-6,p=Math.sqrt(m*m+f*f),g=(s[d]-p)*r[d]*c/p;h.vx+=m*g,h.vy+=f*g}}function l(){if(i){var c,d=i.length;for(r=new Array(d),s=new Array(d),c=0;c<d;++c)s[c]=+n(i[c],c,i),r[c]=isNaN(s[c])?0:+o(i[c],c,i)}}return a.initialize=function(c){i=c,l()},a.strength=function(c){return arguments.length?(o=typeof c=="function"?c:Sn(+c),l(),a):o},a.radius=function(c){return arguments.length?(n=typeof c=="function"?c:Sn(+c),l(),a):n},a.x=function(c){return arguments.length?(t=+c,a):t},a.y=function(c){return arguments.length?(e=+c,a):e},a}function ele(n){var t=Sn(.1),e,i,o;typeof n!="function"&&(n=Sn(n==null?0:+n));function r(a){for(var l=0,c=e.length,d;l<c;++l)d=e[l],d.vx+=(o[l]-d.x)*i[l]*a}function s(){if(e){var a,l=e.length;for(i=new Array(l),o=new Array(l),a=0;a<l;++a)i[a]=isNaN(o[a]=+n(e[a],a,e))?0:+t(e[a],a,e)}}return r.initialize=function(a){e=a,s()},r.strength=function(a){return arguments.length?(t=typeof a=="function"?a:Sn(+a),s(),r):t},r.x=function(a){return arguments.length?(n=typeof a=="function"?a:Sn(+a),s(),r):n},r}function tle(n){var t=Sn(.1),e,i,o;typeof n!="function"&&(n=Sn(n==null?0:+n));function r(a){for(var l=0,c=e.length,d;l<c;++l)d=e[l],d.vy+=(o[l]-d.y)*i[l]*a}function s(){if(e){var a,l=e.length;for(i=new Array(l),o=new Array(l),a=0;a<l;++a)i[a]=isNaN(o[a]=+n(e[a],a,e))?0:+t(e[a],a,e)}}return r.initialize=function(a){e=a,s()},r.strength=function(a){return arguments.length?(t=typeof a=="function"?a:Sn(+a),s(),r):t},r.y=function(a){return arguments.length?(n=typeof a=="function"?a:Sn(+a),s(),r):n},r}var Yle=jm(Wle(),1);var Rje=["linkTemplate"],Oje=["nodeTemplate"],Pje=["clusterTemplate"],Lje=["defsTemplate"],Nje=["miniMapNodeTemplate"],Fje=["nodeElement"],zje=["linkElement"],Bje=["*"],g_=n=>({$implicit:n});function Hje(n,t){if(n&1&&(pi(),an(0,19)),n&2){let e=Y(2);z("ngTemplateOutlet",e.defsTemplate)}}function Vje(n,t){if(n&1&&(pi(),X(0,"path",20)),n&2){let e=t.$implicit;Re("d",e.textPath)("id",e.id)}}function Wje(n,t){if(n&1&&(pi(),an(0,24)),n&2){let e=Y().$implicit,i=Y(2);z("ngTemplateOutlet",i.clusterTemplate)("ngTemplateOutletContext",Zu(2,g_,e))}}function jje(n,t){if(n&1&&(pi(),x(0,"g",25),X(1,"rect"),x(2,"text",26),P(3),w()()),n&2){let e=Y().$implicit;I(),Re("width",e.dimension.width)("height",e.dimension.height)("fill",e.data==null?null:e.data.color),I(),Re("x",10)("y",e.dimension.height/2),I(),ni(" ",e.label," ")}}function Uje(n,t){if(n&1){let e=Nt();pi(),x(0,"g",21,1),le("click",function(){let o=Ze(e).$implicit,r=Y(2);return Qe(r.onClick(o))}),te(2,Wje,1,4,"ng-container",22)(3,jje,4,6,"g",23),w()}if(n&2){let e=t.$implicit,i=Y(2);ke("old-node",i.animate&&i.oldClusters.has(e.id)),z("id",e.id),Re("transform",e.transform),I(2),z("ngIf",i.clusterTemplate&&!e.hidden),I(),z("ngIf",!i.clusterTemplate)}}function qje(n,t){if(n&1&&(pi(),an(0,24)),n&2){let e=Y().$implicit,i=Y(2);z("ngTemplateOutlet",i.nodeTemplate)("ngTemplateOutletContext",Zu(2,g_,e))}}function Gje(n,t){if(n&1&&(pi(),x(0,"g",29),X(1,"rect"),x(2,"text",26),P(3),w()()),n&2){let e=Y().$implicit;I(),Re("width",e.dimension.width)("height",e.dimension.height)("fill",e.data==null?null:e.data.color),I(),Re("x",10)("y",e.dimension.height/2),I(),ni(" ",e.label," ")}}function $je(n,t){if(n&1){let e=Nt();pi(),x(0,"g",27,2),le("click",function(){let o=Ze(e).$implicit,r=Y(2);return Qe(r.onClick(o))})("mousedown",function(o){let r=Ze(e).$implicit,s=Y(2);return Qe(s.onNodeMouseDown(o,r))}),te(2,qje,1,4,"ng-container",22)(3,Gje,4,6,"g",28),w()}if(n&2){let e=t.$implicit,i=Y(2);ke("old-node",i.animate&&i.oldCompoundNodes.has(e.id)),z("id",e.id),Re("transform",e.transform),I(2),z("ngIf",i.nodeTemplate&&!e.hidden),I(),z("ngIf",!i.nodeTemplate)}}function Kje(n,t){if(n&1&&(pi(),an(0,24)),n&2){let e=Y().$implicit,i=Y(2);z("ngTemplateOutlet",i.linkTemplate)("ngTemplateOutletContext",Zu(2,g_,e))}}function Yje(n,t){if(n&1&&(pi(),X(0,"path",32)),n&2){let e=Y().$implicit;Re("d",e.line)}}function Xje(n,t){if(n&1&&(pi(),x(0,"g",30,3),te(2,Kje,1,4,"ng-container",22)(3,Yje,1,1,"path",31),w()),n&2){let e=t.$implicit,i=Y(2);z("id",e.id),I(2),z("ngIf",i.linkTemplate),I(),z("ngIf",!i.linkTemplate)}}function Zje(n,t){if(n&1&&(pi(),an(0,24)),n&2){let e=Y().$implicit,i=Y(2);z("ngTemplateOutlet",i.nodeTemplate)("ngTemplateOutletContext",Zu(2,g_,e))}}function Qje(n,t){if(n&1&&(pi(),X(0,"circle",34)),n&2){let e=Y().$implicit;Re("cx",e.dimension.width/2)("cy",e.dimension.height/2)("fill",e.data==null?null:e.data.color)}}function Jje(n,t){if(n&1){let e=Nt();pi(),x(0,"g",27,2),le("click",function(){let o=Ze(e).$implicit,r=Y(2);return Qe(r.onClick(o))})("mousedown",function(o){let r=Ze(e).$implicit,s=Y(2);return Qe(s.onNodeMouseDown(o,r))}),te(2,Zje,1,4,"ng-container",22)(3,Qje,1,3,"circle",33),w()}if(n&2){let e=t.$implicit,i=Y(2);ke("old-node",i.animate&&i.oldNodes.has(e.id)),z("id",e.id),Re("transform",e.transform),I(2),z("ngIf",i.nodeTemplate&&!e.hidden),I(),z("ngIf",!i.nodeTemplate)}}function e4e(n,t){if(n&1){let e=Nt();pi(),x(0,"g",8),le("touchstart",function(o){Ze(e);let r=Y();return Qe(r.onTouchStart(o))})("touchend",function(){Ze(e);let o=Y();return Qe(o.onTouchEnd())}),x(1,"defs"),te(2,Hje,1,1,"ng-container",9)(3,Vje,1,2,"path",10),w(),x(4,"rect",11),le("mousedown",function(){Ze(e);let o=Y();return Qe(o.isPanning=!0)}),w(),Fe(5),x(6,"g",12),te(7,Uje,4,6,"g",13),w(),x(8,"g",14),te(9,$je,4,6,"g",15),w(),x(10,"g",16),te(11,Xje,4,3,"g",17),w(),x(12,"g",18,0),te(14,Jje,4,6,"g",15),w()()}if(n&2){let e=Y();Re("transform",e.transform),I(2),z("ngIf",e.defsTemplate),I(),z("ngForOf",e.graph.edges),I(),Re("width",e.dims.width*100)("height",e.dims.height*100)("transform","translate("+(-e.dims.width||0)*50+","+(-e.dims.height||0)*50+")"),I(3),z("ngForOf",e.graph.clusters)("ngForTrackBy",e.trackNodeBy),I(2),z("ngForOf",e.graph.compoundNodes)("ngForTrackBy",e.trackNodeBy),I(2),z("ngForOf",e.graph.edges)("ngForTrackBy",e.trackLinkBy),I(3),z("ngForOf",e.graph.nodes)("ngForTrackBy",e.trackNodeBy)}}function t4e(n,t){if(n&1&&(pi(),an(0,24)),n&2){let e=Y().$implicit,i=Y(2);z("ngTemplateOutlet",i.miniMapNodeTemplate)("ngTemplateOutletContext",Zu(2,g_,e))}}function i4e(n,t){if(n&1&&(pi(),an(0,24)),n&2){let e=Y().$implicit,i=Y(2);z("ngTemplateOutlet",i.nodeTemplate)("ngTemplateOutletContext",Zu(2,g_,e))}}function n4e(n,t){if(n&1&&(pi(),X(0,"circle",34)),n&2){let e=Y().$implicit,i=Y(2);Re("cx",e.dimension.width/2/i.minimapScaleCoefficient)("cy",e.dimension.height/2/i.minimapScaleCoefficient)("fill",e.data==null?null:e.data.color)}}function o4e(n,t){if(n&1&&(pi(),x(0,"g",40,2),te(2,t4e,1,4,"ng-container",22)(3,i4e,1,4,"ng-container",22)(4,n4e,1,3,"circle",33),w()),n&2){let e=t.$implicit,i=Y(2);ke("old-node",i.animate&&i.oldNodes.has(e.id)),z("id",e.id),Re("transform",e.transform),I(2),z("ngIf",i.miniMapNodeTemplate),I(),z("ngIf",!i.miniMapNodeTemplate&&i.nodeTemplate),I(),z("ngIf",!i.nodeTemplate&&!i.miniMapNodeTemplate)}}function r4e(n,t){if(n&1){let e=Nt();pi(),x(0,"g",35)(1,"rect",36),le("mousedown",function(o){Ze(e);let r=Y();return Qe(r.onMinimapPanTo(o))}),w(),x(2,"g")(3,"g",37),te(4,o4e,5,7,"g",38),w(),x(5,"rect",39),le("mousedown",function(){Ze(e);let o=Y();return Qe(o.onMinimapDragMouseDown())}),w()()()}if(n&2){let e=Y();Re("transform",e.minimapTransform)("clip-path","url(#"+e.minimapClipPathId+")"),I(),Re("width",e.graphDims.width/e.minimapScaleCoefficient)("height",e.graphDims.height/e.minimapScaleCoefficient),I(),po("transform","translate("+-e.minimapOffsetX/e.minimapScaleCoefficient+"px,"+-e.minimapOffsetY/e.minimapScaleCoefficient+"px)"),I(),po("transform","scale("+1/e.minimapScaleCoefficient+")"),I(),z("ngForOf",e.graph.nodes)("ngForTrackBy",e.trackNodeBy),I(),ke("panning",e.isMinimapPanning),Re("transform","translate("+e.panOffsetX/e.zoomLevel/-e.minimapScaleCoefficient+","+e.panOffsetY/e.zoomLevel/-e.minimapScaleCoefficient+")")("width",e.width/e.minimapScaleCoefficient/e.zoomLevel)("height",e.height/e.minimapScaleCoefficient/e.zoomLevel)}}var jle={};function od(){let n=("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4);return n=`a${n}`,jle[n]?od():(jle[n]=!0,n)}var rT=function(n){return n.Both="both",n.Horizontal="horizontal",n.Vertical="vertical",n}(rT||{}),sT=function(n){return n.UpperLeft="UpperLeft",n.UpperRight="UpperRight",n}(sT||{});function s4e(n,t,e,i){i=i||{};let o,r,s=null,a=0;function l(){a=i.leading===!1?0:+new Date,s=null,r=t.apply(n,o)}return function(...c){let d=+new Date;!a&&i.leading===!1&&(a=d);let u=e-(d-a);return o=c,u<=0?(clearTimeout(s),s=null,a=d,r=t.apply(n,o)):!s&&i.trailing!==!1&&(s=setTimeout(l,u)),r}}function a4e(n,t){return function(i,o,r){return{configurable:!0,enumerable:r.enumerable,get:function(){return Object.defineProperty(this,o,{configurable:!0,enumerable:r.enumerable,value:s4e(this,r.value,n,t)}),this[o]}}}}var Ule=[{name:"vivid",selectable:!0,group:"Ordinal",domain:["#647c8a","#3f51b5","#2196f3","#00b862","#afdf0a","#a7b61a","#f3e562","#ff9800","#ff5722","#ff4514"]},{name:"natural",selectable:!0,group:"Ordinal",domain:["#bf9d76","#e99450","#d89f59","#f2dfa7","#a5d7c6","#7794b1","#afafaf","#707160","#ba9383","#d9d5c3"]},{name:"cool",selectable:!0,group:"Ordinal",domain:["#a8385d","#7aa3e5","#a27ea8","#aae3f5","#adcded","#a95963","#8796c0","#7ed3ed","#50abcc","#ad6886"]},{name:"fire",selectable:!0,group:"Ordinal",domain:["#ff3d00","#bf360c","#ff8f00","#ff6f00","#ff5722","#e65100","#ffca28","#ffab00"]},{name:"solar",selectable:!0,group:"Continuous",domain:["#fff8e1","#ffecb3","#ffe082","#ffd54f","#ffca28","#ffc107","#ffb300","#ffa000","#ff8f00","#ff6f00"]},{name:"air",selectable:!0,group:"Continuous",domain:["#e1f5fe","#b3e5fc","#81d4fa","#4fc3f7","#29b6f6","#03a9f4","#039be5","#0288d1","#0277bd","#01579b"]},{name:"aqua",selectable:!0,group:"Continuous",domain:["#e0f7fa","#b2ebf2","#80deea","#4dd0e1","#26c6da","#00bcd4","#00acc1","#0097a7","#00838f","#006064"]},{name:"flame",selectable:!1,group:"Ordinal",domain:["#A10A28","#D3342D","#EF6D49","#FAAD67","#FDDE90","#DBED91","#A9D770","#6CBA67","#2C9653","#146738"]},{name:"ocean",selectable:!1,group:"Ordinal",domain:["#1D68FB","#33C0FC","#4AFFFE","#AFFFFF","#FFFC63","#FDBD2D","#FC8A25","#FA4F1E","#FA141B","#BA38D1"]},{name:"forest",selectable:!1,group:"Ordinal",domain:["#55C22D","#C1F33D","#3CC099","#AFFFFF","#8CFC9D","#76CFFA","#BA60FB","#EE6490","#C42A1C","#FC9F32"]},{name:"horizon",selectable:!1,group:"Ordinal",domain:["#2597FB","#65EBFD","#99FDD0","#FCEE4B","#FEFCFA","#FDD6E3","#FCB1A8","#EF6F7B","#CB96E8","#EFDEE0"]},{name:"neons",selectable:!1,group:"Ordinal",domain:["#FF3333","#FF33FF","#CC33FF","#0000FF","#33CCFF","#33FFFF","#33FF66","#CCFF33","#FFCC00","#FF6600"]},{name:"picnic",selectable:!1,group:"Ordinal",domain:["#FAC51D","#66BD6D","#FAA026","#29BB9C","#E96B56","#55ACD2","#B7332F","#2C83C9","#9166B8","#92E7E8"]},{name:"night",selectable:!1,group:"Ordinal",domain:["#2B1B5A","#501356","#183356","#28203F","#391B3C","#1E2B3C","#120634","#2D0432","#051932","#453080","#75267D","#2C507D","#4B3880","#752F7D","#35547D"]},{name:"nightLights",selectable:!1,group:"Ordinal",domain:["#4e31a5","#9c25a7","#3065ab","#57468b","#904497","#46648b","#32118d","#a00fb3","#1052a2","#6e51bd","#b63cc3","#6c97cb","#8671c1","#b455be","#7496c3"]}],z3=class{scale;colorDomain;domain;customColors;constructor(t,e,i){typeof t=="string"&&(t=Ule.find(o=>o.name===t)),this.colorDomain=t.domain,this.domain=e,this.customColors=i,this.scale=this.generateColorScheme(t,this.domain)}generateColorScheme(t,e){return typeof t=="string"&&(t=Ule.find(i=>i.name===t)),_0().range(t.domain).domain(e)}getColor(t){if(t==null)throw new Error("Value can not be null");if(typeof this.customColors=="function")return this.customColors(t);let e=t.toString(),i;return this.customColors&&this.customColors.length>0&&(i=this.customColors.find(o=>o.name.toLowerCase()===e.toLowerCase())),i?i.value:this.scale(t)}};function qle({width:n,height:t}){let e=n,i=t;return e=Math.max(0,e),i=Math.max(0,i),{width:Math.floor(e),height:Math.floor(i)}}var l4e=(()=>{class n{element;zone;visible=new Le;timeout;isVisible=!1;constructor(e,i){this.element=e,this.zone=i,this.runCheck()}destroy(){clearTimeout(this.timeout)}onVisibilityChange(){this.zone.run(()=>{this.isVisible=!0,this.visible.emit(!0)})}runCheck(){let e=()=>{if(!this.element)return;let{offsetHeight:i,offsetWidth:o}=this.element.nativeElement;i&&o?(clearTimeout(this.timeout),this.onVisibilityChange()):(clearTimeout(this.timeout),this.zone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>e(),100)}))};this.zone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>e())})}static \u0275fac=function(i){return new(i||n)(ie(He),ie(et))};static \u0275dir=ge({type:n,selectors:[["visibility-observer"]],outputs:{visible:"visible"},standalone:!1})}return n})(),aT=function(n){return n.LEFT_TO_RIGHT="LR",n.RIGHT_TO_LEFT="RL",n.TOP_TO_BOTTOM="TB",n.BOTTOM_TO_TOM="BT",n}(aT||{});var B3=class{defaultSettings={orientation:aT.LEFT_TO_RIGHT,marginX:20,marginY:20,edgePadding:100,rankPadding:100,nodePadding:50,multigraph:!0,compound:!0};settings={};dagreGraph;dagreNodes;dagreEdges;run(t){this.createDagreGraph(t),Uu.layout(this.dagreGraph),t.edgeLabels=this.dagreGraph._edgeLabels;for(let e in this.dagreGraph._nodes){let i=this.dagreGraph._nodes[e],o=t.nodes.find(r=>r.id===i.id);o.position={x:i.x,y:i.y},o.dimension={width:i.width,height:i.height}}return t}updateEdge(t,e){let i=t.nodes.find(l=>l.id===e.source),o=t.nodes.find(l=>l.id===e.target),r=i.position.y<=o.position.y?-1:1,s={x:i.position.x,y:i.position.y-r*(i.dimension.height/2)},a={x:o.position.x,y:o.position.y+r*(o.dimension.height/2)};return e.points=[s,a],t}createDagreGraph(t){let e=Object.assign({},this.defaultSettings,this.settings);this.dagreGraph=new Uu.graphlib.Graph({compound:e.compound,multigraph:e.multigraph}),this.dagreGraph.setGraph({rankdir:e.orientation,marginx:e.marginX,marginy:e.marginY,edgesep:e.edgePadding,ranksep:e.rankPadding,nodesep:e.nodePadding,align:e.align,acyclicer:e.acyclicer,ranker:e.ranker,multigraph:e.multigraph,compound:e.compound}),this.dagreGraph.setDefaultEdgeLabel(()=>({})),this.dagreNodes=t.nodes.map(i=>{let o=Object.assign({},i);return o.width=i.dimension.width,o.height=i.dimension.height,o.x=i.position.x,o.y=i.position.y,o}),this.dagreEdges=t.edges.map(i=>{let o=Object.assign({},i);return o.id||(o.id=od()),o});for(let i of this.dagreNodes)i.width||(i.width=20),i.height||(i.height=30),this.dagreGraph.setNode(i.id,i);for(let i of this.dagreEdges)e.multigraph?this.dagreGraph.setEdge(i.source,i.target,i,i.id):this.dagreGraph.setEdge(i.source,i.target);return this.dagreGraph}},H3=class{defaultSettings={orientation:aT.LEFT_TO_RIGHT,marginX:20,marginY:20,edgePadding:100,rankPadding:100,nodePadding:50,multigraph:!0,compound:!0};settings={};dagreGraph;dagreNodes;dagreClusters;dagreEdges;run(t){this.createDagreGraph(t),Uu.layout(this.dagreGraph),t.edgeLabels=this.dagreGraph._edgeLabels;let e=i=>{let o=this.dagreGraph._nodes[i.id];return Te(j({},i),{position:{x:o.x,y:o.y},dimension:{width:o.width,height:o.height}})};return t.clusters=(t.clusters||[]).map(e),t.nodes=t.nodes.map(e),t}updateEdge(t,e){let i=t.nodes.find(l=>l.id===e.source),o=t.nodes.find(l=>l.id===e.target),r=i.position.y<=o.position.y?-1:1,s={x:i.position.x,y:i.position.y-r*(i.dimension.height/2)},a={x:o.position.x,y:o.position.y+r*(o.dimension.height/2)};return e.points=[s,a],t}createDagreGraph(t){let e=Object.assign({},this.defaultSettings,this.settings);this.dagreGraph=new Uu.graphlib.Graph({compound:e.compound,multigraph:e.multigraph}),this.dagreGraph.setGraph({rankdir:e.orientation,marginx:e.marginX,marginy:e.marginY,edgesep:e.edgePadding,ranksep:e.rankPadding,nodesep:e.nodePadding,align:e.align,acyclicer:e.acyclicer,ranker:e.ranker,multigraph:e.multigraph,compound:e.compound}),this.dagreGraph.setDefaultEdgeLabel(()=>({})),this.dagreNodes=t.nodes.map(i=>{let o=Object.assign({},i);return o.width=i.dimension.width,o.height=i.dimension.height,o.x=i.position.x,o.y=i.position.y,o}),this.dagreClusters=t.clusters||[],this.dagreEdges=t.edges.map(i=>{let o=Object.assign({},i);return o.id||(o.id=od()),o});for(let i of this.dagreNodes)this.dagreGraph.setNode(i.id,i);for(let i of this.dagreClusters)this.dagreGraph.setNode(i.id,i),i.childNodeIds.forEach(o=>{this.dagreGraph.setParent(o,i.id)});for(let i of this.dagreEdges)e.multigraph?this.dagreGraph.setEdge(i.source,i.target,i,i.id):this.dagreGraph.setEdge(i.source,i.target);return this.dagreGraph}},c4e="\0";var Gle="",V3=class{defaultSettings={orientation:aT.LEFT_TO_RIGHT,marginX:20,marginY:20,edgePadding:100,rankPadding:100,nodePadding:50,curveDistance:20,multigraph:!0,compound:!0};settings={};dagreGraph;dagreNodes;dagreEdges;run(t){this.createDagreGraph(t),Uu.layout(this.dagreGraph),t.edgeLabels=this.dagreGraph._edgeLabels;for(let e in this.dagreGraph._nodes){let i=this.dagreGraph._nodes[e],o=t.nodes.find(r=>r.id===i.id);o.position={x:i.x,y:i.y},o.dimension={width:i.width,height:i.height}}for(let e of t.edges)this.updateEdge(t,e);return t}updateEdge(t,e){let i=t.nodes.find(f=>f.id===e.source),o=t.nodes.find(f=>f.id===e.target),r=this.settings.orientation==="BT"||this.settings.orientation==="TB"?"y":"x",s=r==="y"?"x":"y",a=r==="y"?"height":"width",l=i.position[r]<=o.position[r]?-1:1,c={[s]:i.position[s],[r]:i.position[r]-l*(i.dimension[a]/2)},d={[s]:o.position[s],[r]:o.position[r]+l*(o.dimension[a]/2)},u=this.settings.curveDistance||this.defaultSettings.curveDistance;e.points=[c,{[s]:c[s],[r]:c[r]-l*u},{[s]:d[s],[r]:d[r]+l*u},d];let h=`${e.source}${Gle}${e.target}${Gle}${c4e}`,m=t.edgeLabels[h];return m&&(m.points=e.points),t}createDagreGraph(t){let e=Object.assign({},this.defaultSettings,this.settings);this.dagreGraph=new Uu.graphlib.Graph({compound:e.compound,multigraph:e.multigraph}),this.dagreGraph.setGraph({rankdir:e.orientation,marginx:e.marginX,marginy:e.marginY,edgesep:e.edgePadding,ranksep:e.rankPadding,nodesep:e.nodePadding,align:e.align,acyclicer:e.acyclicer,ranker:e.ranker,multigraph:e.multigraph,compound:e.compound}),this.dagreGraph.setDefaultEdgeLabel(()=>({})),this.dagreNodes=t.nodes.map(i=>{let o=Object.assign({},i);return o.width=i.dimension.width,o.height=i.dimension.height,o.x=i.position.x,o.y=i.position.y,o}),this.dagreEdges=t.edges.map(i=>{let o=Object.assign({},i);return o.id||(o.id=od()),o});for(let i of this.dagreNodes)i.width||(i.width=20),i.height||(i.height=30),this.dagreGraph.setNode(i.id,i);for(let i of this.dagreEdges)e.multigraph?this.dagreGraph.setEdge(i.source,i.target,i,i.id):this.dagreGraph.setEdge(i.source,i.target);return this.dagreGraph}};function f_(n){return typeof n=="string"?{id:n,x:0,y:0}:n}var nx=class{defaultSettings={force:s_().force("charge",a_().strength(-150)).force("collide",o_(5)),forceLink:r_().id(t=>t.id).distance(()=>100)};settings={};inputGraph;outputGraph;d3Graph;outputGraph$=new Ee;draggingStart;run(t){return this.inputGraph=t,this.d3Graph={nodes:[...this.inputGraph.nodes.map(e=>j({},e))],edges:[...this.inputGraph.edges.map(e=>j({},e))]},this.outputGraph={nodes:[],edges:[],edgeLabels:[]},this.outputGraph$.next(this.outputGraph),this.settings=Object.assign({},this.defaultSettings,this.settings),this.settings.force&&this.settings.force.nodes(this.d3Graph.nodes).force("link",this.settings.forceLink.links(this.d3Graph.edges)).alpha(.5).restart().on("tick",()=>{this.outputGraph$.next(this.d3GraphToOutputGraph(this.d3Graph))}),this.outputGraph$.asObservable()}updateEdge(t,e){let i=Object.assign({},this.defaultSettings,this.settings);return i.force&&i.force.nodes(this.d3Graph.nodes).force("link",i.forceLink.links(this.d3Graph.edges)).alpha(.5).restart().on("tick",()=>{this.outputGraph$.next(this.d3GraphToOutputGraph(this.d3Graph))}),this.outputGraph$.asObservable()}d3GraphToOutputGraph(t){return this.outputGraph.nodes=this.d3Graph.nodes.map(e=>Te(j({},e),{id:e.id||od(),position:{x:e.x,y:e.y},dimension:{width:e.dimension&&e.dimension.width||20,height:e.dimension&&e.dimension.height||20},transform:`translate(${e.x-(e.dimension&&e.dimension.width||20)/2||0}, ${e.y-(e.dimension&&e.dimension.height||20)/2||0})`})),this.outputGraph.edges=this.d3Graph.edges.map(e=>Te(j({},e),{source:f_(e.source).id,target:f_(e.target).id,points:[{x:f_(e.source).x,y:f_(e.source).y},{x:f_(e.target).x,y:f_(e.target).y}]})),this.outputGraph.edgeLabels=this.outputGraph.edges,this.outputGraph}onDragStart(t,e){this.settings.force.alphaTarget(.3).restart();let i=this.d3Graph.nodes.find(o=>o.id===t.id);i&&(this.draggingStart={x:e.x-i.x,y:e.y-i.y},i.fx=e.x-this.draggingStart.x,i.fy=e.y-this.draggingStart.y)}onDrag(t,e){if(!t)return;let i=this.d3Graph.nodes.find(o=>o.id===t.id);i&&(i.fx=e.x-this.draggingStart.x,i.fy=e.y-this.draggingStart.y)}onDragEnd(t,e){if(!t)return;let i=this.d3Graph.nodes.find(o=>o.id===t.id);i&&(this.settings.force.alphaTarget(0),i.fx=void 0,i.fy=void 0)}};function $le(n,t){return typeof t=="number"?n[t]:t}var W3=class{defaultSettings={force:(0,Yle.d3adaptor)(j(j(j({},yH),h3),CH)).linkDistance(150).avoidOverlaps(!0),viewDimensions:{width:600,height:600}};settings={};inputGraph;outputGraph;internalGraph;outputGraph$=new Ee;draggingStart;run(t){return this.inputGraph=t,this.inputGraph.clusters||(this.inputGraph.clusters=[]),this.internalGraph={nodes:[...this.inputGraph.nodes.map(e=>Te(j({},e),{width:e.dimension?e.dimension.width:20,height:e.dimension?e.dimension.height:20}))],groups:[...this.inputGraph.clusters.map(e=>({padding:5,groups:e.childNodeIds.map(i=>this.inputGraph.clusters.findIndex(o=>o.id===i)).filter(i=>i>=0),leaves:e.childNodeIds.map(i=>this.inputGraph.nodes.findIndex(o=>o.id===i)).filter(i=>i>=0)}))],links:[...this.inputGraph.edges.map(e=>{let i=this.inputGraph.nodes.findIndex(r=>e.source===r.id),o=this.inputGraph.nodes.findIndex(r=>e.target===r.id);if(!(i===-1||o===-1))return Te(j({},e),{source:i,target:o})}).filter(e=>!!e)],groupLinks:[...this.inputGraph.edges.map(e=>{let i=this.inputGraph.nodes.findIndex(r=>e.source===r.id),o=this.inputGraph.nodes.findIndex(r=>e.target===r.id);if(!(i>=0&&o>=0))return e}).filter(e=>!!e)]},this.outputGraph={nodes:[],clusters:[],edges:[],edgeLabels:[]},this.outputGraph$.next(this.outputGraph),this.settings=Object.assign({},this.defaultSettings,this.settings),this.settings.force&&(this.settings.force=this.settings.force.nodes(this.internalGraph.nodes).groups(this.internalGraph.groups).links(this.internalGraph.links).alpha(.5).on("tick",()=>{this.settings.onTickListener&&this.settings.onTickListener(this.internalGraph),this.outputGraph$.next(this.internalGraphToOutputGraph(this.internalGraph))}),this.settings.viewDimensions&&(this.settings.force=this.settings.force.size([this.settings.viewDimensions.width,this.settings.viewDimensions.height])),this.settings.forceModifierFn&&(this.settings.force=this.settings.forceModifierFn(this.settings.force)),this.settings.force.start()),this.outputGraph$.asObservable()}updateEdge(t,e){let i=Object.assign({},this.defaultSettings,this.settings);return i.force&&i.force.start(),this.outputGraph$.asObservable()}internalGraphToOutputGraph(t){return this.outputGraph.nodes=t.nodes.map(e=>Te(j({},e),{id:e.id||od(),position:{x:e.x,y:e.y},dimension:{width:e.dimension&&e.dimension.width||20,height:e.dimension&&e.dimension.height||20},transform:`translate(${e.x-(e.dimension&&e.dimension.width||20)/2||0}, ${e.y-(e.dimension&&e.dimension.height||20)/2||0})`})),this.outputGraph.edges=t.links.map(e=>{let i=$le(t.nodes,e.source),o=$le(t.nodes,e.target);return Te(j({},e),{source:i.id,target:o.id,points:[i.bounds.rayIntersection(o.bounds.cx(),o.bounds.cy()),o.bounds.rayIntersection(i.bounds.cx(),i.bounds.cy())]})}).concat(t.groupLinks.map(e=>{let i=t.nodes.find(a=>a.id===e.source),o=t.nodes.find(a=>a.id===e.target),r=i||t.groups.find(a=>a.id===e.source),s=o||t.groups.find(a=>a.id===e.target);return Te(j({},e),{source:r.id,target:s.id,points:[r.bounds.rayIntersection(s.bounds.cx(),s.bounds.cy()),s.bounds.rayIntersection(r.bounds.cx(),r.bounds.cy())]})})),this.outputGraph.clusters=t.groups.map((e,i)=>{let o=this.inputGraph.clusters[i];return Te(j({},o),{dimension:{width:e.bounds?e.bounds.width():20,height:e.bounds?e.bounds.height():20},position:{x:e.bounds?e.bounds.x+e.bounds.width()/2:0,y:e.bounds?e.bounds.y+e.bounds.height()/2:0}})}),this.outputGraph.edgeLabels=this.outputGraph.edges,this.outputGraph}onDragStart(t,e){let i=this.outputGraph.nodes.findIndex(r=>r.id===t.id),o=this.internalGraph.nodes[i];o&&(this.draggingStart={x:o.x-e.x,y:o.y-e.y},o.fixed=1,this.settings.force.start())}onDrag(t,e){if(!t)return;let i=this.outputGraph.nodes.findIndex(r=>r.id===t.id),o=this.internalGraph.nodes[i];o&&(o.x=this.draggingStart.x+e.x,o.y=this.draggingStart.y+e.y)}onDragEnd(t,e){if(!t)return;let i=this.outputGraph.nodes.findIndex(r=>r.id===t.id),o=this.internalGraph.nodes[i];o&&(o.fixed=0)}},Kle={dagre:B3,dagreCluster:H3,dagreNodesOnly:V3,d3ForceDirected:nx,colaForceDirected:W3},Xle=(()=>{class n{getLayout(e){if(Kle[e])return new Kle[e];throw new Error(`Unknown layout type '${e}'`)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=de({token:n,factory:n.\u0275fac})}return n})(),d4e=(()=>{class n{mouseWheelUp=new Le;mouseWheelDown=new Le;onMouseWheelChrome(e){this.mouseWheelFunc(e)}onMouseWheelFirefox(e){this.mouseWheelFunc(e)}onWheel(e){this.mouseWheelFunc(e)}onMouseWheelIE(e){this.mouseWheelFunc(e)}mouseWheelFunc(e){window.event&&(e=window.event);let i=Math.max(-1,Math.min(1,e.wheelDelta||-e.detail||e.deltaY||e.deltaX)),o=e.wheelDelta?i>0:i<0,r=e.wheelDelta?i<0:i>0;o?this.mouseWheelUp.emit(e):r&&this.mouseWheelDown.emit(e),e.returnValue=!1,e.preventDefault&&e.preventDefault()}static \u0275fac=function(i){return new(i||n)};static \u0275dir=ge({type:n,selectors:[["","mouseWheel",""]],hostBindings:function(i,o){i&1&&le("mousewheel",function(s){return o.onMouseWheelChrome(s)})("DOMMouseScroll",function(s){return o.onMouseWheelFirefox(s)})("wheel",function(s){return o.onWheel(s)})("onmousewheel",function(s){return o.onMouseWheelIE(s)})},outputs:{mouseWheelUp:"mouseWheelUp",mouseWheelDown:"mouseWheelDown"},standalone:!1})}return n})(),ix=function(n){return n.Init="init",n.Subscribe="subscribe",n.Transform="transform",n.Output="output",n}(ix||{}),lT=(()=>{class n{el;zone;cd;layoutService;nodes=[];clusters=[];compoundNodes=[];links=[];activeEntries=[];curve;draggingEnabled=!0;nodeHeight;nodeMaxHeight;nodeMinHeight;nodeWidth;nodeMinWidth;nodeMaxWidth;panningEnabled=!0;panningAxis=rT.Both;enableZoom=!0;zoomSpeed=.1;minZoomLevel=.1;maxZoomLevel=4;autoZoom=!1;panOnZoom=!0;animate=!1;autoCenter=!1;update$;center$;zoomToFit$;panToNode$;layout;layoutSettings;enableTrackpadSupport=!1;showMiniMap=!1;miniMapMaxWidth=100;miniMapMaxHeight;miniMapPosition=sT.UpperRight;view;scheme="cool";customColors;deferDisplayUntilPosition=!1;centerNodesOnPositionChange=!0;enablePreUpdateTransform=!0;select=new Le;activate=new Le;deactivate=new Le;zoomChange=new Le;clickHandler=new Le;stateChange=new Le;linkTemplate;nodeTemplate;clusterTemplate;defsTemplate;miniMapNodeTemplate;nodeElements;linkElements;chartWidth;isMouseMoveCalled=!1;graphSubscription=new fn;colors;dims;seriesDomain;transform;isPanning=!1;isDragging=!1;draggingNode;initialized=!1;graph;graphDims={width:0,height:0};_oldLinks=[];oldNodes=new Set;oldClusters=new Set;oldCompoundNodes=new Set;transformationMatrix=MX();_touchLastX=null;_touchLastY=null;minimapScaleCoefficient=3;minimapTransform;minimapOffsetX=0;minimapOffsetY=0;isMinimapPanning=!1;minimapClipPathId;width;height;resizeSubscription;visibilityObserver;destroy$=new Ee;constructor(e,i,o,r){this.el=e,this.zone=i,this.cd=o,this.layoutService=r}groupResultsBy=e=>e.label;get zoomLevel(){return this.transformationMatrix.a}set zoomLevel(e){this.zoomTo(Number(e))}get panOffsetX(){return this.transformationMatrix.e}set panOffsetX(e){this.panTo(Number(e),null)}get panOffsetY(){return this.transformationMatrix.f}set panOffsetY(e){this.panTo(null,Number(e))}ngOnInit(){this.update$&&this.update$.pipe(vt(this.destroy$)).subscribe(()=>{this.update()}),this.center$&&this.center$.pipe(vt(this.destroy$)).subscribe(()=>{this.center()}),this.zoomToFit$&&this.zoomToFit$.pipe(vt(this.destroy$)).subscribe(e=>{this.zoomToFit(e||{})}),this.panToNode$&&this.panToNode$.pipe(vt(this.destroy$)).subscribe(e=>{this.panToNodeId(e)}),this.minimapClipPathId=`minimapClip${od()}`,this.stateChange.emit({state:ix.Subscribe})}ngOnChanges(e){this.basicUpdate();let{layoutSettings:i}=e;this.setLayout(this.layout),i&&this.setLayoutSettings(this.layoutSettings),this.layout&&this.nodes.length&&this.links.length&&this.update()}setLayout(e){this.initialized=!1,e||(e="dagre"),typeof e=="string"&&(this.layout=this.layoutService.getLayout(e),this.setLayoutSettings(this.layoutSettings))}setLayoutSettings(e){this.layout&&typeof this.layout!="string"&&(this.layout.settings=e)}ngOnDestroy(){this.unbindEvents(),this.visibilityObserver&&(this.visibilityObserver.visible.unsubscribe(),this.visibilityObserver.destroy()),this.destroy$.next(),this.destroy$.complete()}ngAfterViewInit(){this.bindWindowResizeEvent(),this.visibilityObserver=new l4e(this.el,this.zone),this.visibilityObserver.visible.subscribe(this.update.bind(this)),setTimeout(()=>this.update())}update(){this.basicUpdate(),this.curve||(this.curve=bH.beta(1)),this.zone.run(()=>{this.dims=qle({width:this.width,height:this.height}),this.seriesDomain=this.getSeriesDomain(),this.setColors(),this.createGraph(),this.updateTransform(),this.initialized||this.stateChange.emit({state:ix.Init}),this.initialized=!0})}createGraph(){this.graphSubscription.unsubscribe(),this.graphSubscription=new fn;let e=o=>(o.meta||(o.meta={}),o.id||(o.id=od()),o.dimension?o.meta.forceDimensions=o.meta.forceDimensions===void 0?!0:o.meta.forceDimensions:(o.dimension={width:this.nodeWidth?this.nodeWidth:30,height:this.nodeHeight?this.nodeHeight:30},o.meta.forceDimensions=!1),o.position||(o.position={x:0,y:0},this.deferDisplayUntilPosition&&(o.hidden=!0)),o.data=o.data?o.data:{},o),i=o=>(o.id||(o.id=od()),o);this.graph={nodes:this.nodes.map(o=>e(o)),clusters:this.clusters.map(o=>e(o)),compoundNodes:this.compoundNodes.map(o=>e(o)),edges:this.links.map(o=>i(o))},requestAnimationFrame(()=>this.draw())}draw(){let e=this.layout.run(this.graph),i=e instanceof ar?e:We(e);this.graphSubscription.add(i.subscribe(o=>{this.graph=o,this.tick()}))}tick(){let e=new Set,i=new Set,o=new Set;this.graph.nodes.forEach(s=>{s.transform=`translate(${s.position.x-(this.centerNodesOnPositionChange?s.dimension.width/2:0)||0}, ${s.position.y-(this.centerNodesOnPositionChange?s.dimension.height/2:0)||0})`,s.data||(s.data={}),s.data.color=this.colors.getColor(this.groupResultsBy(s)),this.deferDisplayUntilPosition&&(s.hidden=!1),e.add(s.id)}),(this.graph.clusters||[]).forEach(s=>{s.transform=`translate(${s.position.x-(this.centerNodesOnPositionChange?s.dimension.width/2:0)||0}, ${s.position.y-(this.centerNodesOnPositionChange?s.dimension.height/2:0)||0})`,s.data||(s.data={}),s.data.color=this.colors.getColor(this.groupResultsBy(s)),this.deferDisplayUntilPosition&&(s.hidden=!1),i.add(s.id)}),(this.graph.compoundNodes||[]).forEach(s=>{s.transform=`translate(${s.position.x-(this.centerNodesOnPositionChange?s.dimension.width/2:0)||0}, ${s.position.y-(this.centerNodesOnPositionChange?s.dimension.height/2:0)||0})`,s.data||(s.data={}),s.data.color=this.colors.getColor(this.groupResultsBy(s)),this.deferDisplayUntilPosition&&(s.hidden=!1),o.add(s.id)}),setTimeout(()=>{this.oldNodes=e,this.oldClusters=i,this.oldCompoundNodes=o},500);let r=[];for(let s in this.graph.edgeLabels){let a=this.graph.edgeLabels[s],l=s.replace(/[^\w-]*/g,""),c=this.layout&&typeof this.layout!="string"&&this.layout.settings&&this.layout.settings.multigraph,d=c?this._oldLinks.find(g=>`${g.source}${g.target}${g.id}`===l):this._oldLinks.find(g=>`${g.source}${g.target}`===l),u=c?this.graph.edges.find(g=>`${g.source}${g.target}${g.id}`===l):this.graph.edges.find(g=>`${g.source}${g.target}`===l);d?d.data&&u&&u.data&&JSON.stringify(d.data)!==JSON.stringify(u.data)&&(d.data=u.data):d=u||a,d.oldLine=d.line;let h=a.points,m=this.generateLine(h),f=Object.assign({},d);f.line=m,f.points=h,this.updateMidpointOnEdge(f,h);let p=h[Math.floor(h.length/2)];p&&(f.textTransform=`translate(${p.x||0},${p.y||0})`),f.textAngle=0,f.oldLine||(f.oldLine=f.line),this.calcDominantBaseline(f),r.push(f)}this.graph.edges=r,this.graph.edges&&(this._oldLinks=this.graph.edges.map(s=>{let a=Object.assign({},s);return a.oldLine=s.line,a})),this.applyNodeDimensions(),this.redrawLines(),this.updateMinimap(),requestAnimationFrame(()=>{this.applyNodeDimensions(),this.redrawLines(),this.updateMinimap(),this.autoZoom?this.zoomToFit({autoCenter:this.autoCenter?this.autoCenter:!1}):this.autoCenter&&this.center(),this.stateChange.emit({state:ix.Output})}),this.cd.markForCheck()}getMinimapTransform(){switch(this.miniMapPosition){case sT.UpperLeft:return"";case sT.UpperRight:return"translate("+(this.dims.width-this.graphDims.width/this.minimapScaleCoefficient)+",0)";default:return""}}updateGraphDims(){let e=1/0,i=-1/0,o=1/0,r=-1/0;for(let s=0;s<this.graph.nodes.length;s++){let a=this.graph.nodes[s];e=a.position.x<e?a.position.x:e,o=a.position.y<o?a.position.y:o,i=a.position.x+a.dimension.width>i?a.position.x+a.dimension.width:i,r=a.position.y+a.dimension.height>r?a.position.y+a.dimension.height:r}e-=100,o-=100,i+=100,r+=100,this.graphDims.width=i-e,this.graphDims.height=r-o,this.minimapOffsetX=e,this.minimapOffsetY=o}updateMinimap(){this.graph.nodes&&this.graph.nodes.length&&(this.updateGraphDims(),this.miniMapMaxWidth&&(this.minimapScaleCoefficient=this.graphDims.width/this.miniMapMaxWidth),this.miniMapMaxHeight&&(this.minimapScaleCoefficient=Math.max(this.minimapScaleCoefficient,this.graphDims.height/this.miniMapMaxHeight)),this.minimapTransform=this.getMinimapTransform())}applyNodeDimensions(){this.nodeElements&&this.nodeElements.length&&this.nodeElements.forEach(e=>{let i=e.nativeElement,o=this.graph.nodes.find(s=>s.id===i.id);if(!o)return;let r;try{if(r=i.getBBox(),!r.width||!r.height)return}catch{return}if(this.nodeHeight?o.dimension.height=o.dimension.height&&o.meta.forceDimensions?o.dimension.height:this.nodeHeight:o.dimension.height=o.dimension.height&&o.meta.forceDimensions?o.dimension.height:r.height,this.nodeMaxHeight&&(o.dimension.height=Math.max(o.dimension.height,this.nodeMaxHeight)),this.nodeMinHeight&&(o.dimension.height=Math.min(o.dimension.height,this.nodeMinHeight)),this.nodeWidth)o.dimension.width=o.dimension.width&&o.meta.forceDimensions?o.dimension.width:this.nodeWidth;else if(i.getElementsByTagName("text").length){let s;try{for(let a of i.getElementsByTagName("text")){let l=a.getBBox();s?(l.width>s.width&&(s.width=l.width),l.height>s.height&&(s.height=l.height)):s=l}}catch{return}o.dimension.width=o.dimension.width&&o.meta.forceDimensions?o.dimension.width:s.width+20}else o.dimension.width=o.dimension.width&&o.meta.forceDimensions?o.dimension.width:r.width;this.nodeMaxWidth&&(o.dimension.width=Math.max(o.dimension.width,this.nodeMaxWidth)),this.nodeMinWidth&&(o.dimension.width=Math.min(o.dimension.width,this.nodeMinWidth))})}redrawLines(e=this.animate){this.linkElements.forEach(i=>{let o=this.graph.edges.find(r=>r.id===i.nativeElement.id);o&&(Wk(i.nativeElement).select(".line").attr("d",o.oldLine).transition().ease(o0).duration(e?500:0).attr("d",o.line),Wk(this.el.nativeElement).select(`#${o.id}`).attr("d",o.oldTextPath).transition().ease(o0).duration(e?500:0).attr("d",o.textPath),this.updateMidpointOnEdge(o,o.points))})}calcDominantBaseline(e){let i=e.points[0],o=e.points[e.points.length-1];e.oldTextPath=e.textPath,o.x<i.x?(e.dominantBaseline="text-before-edge",e.textPath=this.generateLine([...e.points].reverse())):(e.dominantBaseline="text-after-edge",e.textPath=e.line)}generateLine(e){return vH().x(o=>o.x).y(o=>o.y).curve(this.curve)(e)}onZoom(e,i){if(this.enableTrackpadSupport&&!e.ctrlKey){this.pan(e.deltaX*-1,e.deltaY*-1);return}let o=1+(i==="in"?this.zoomSpeed:-this.zoomSpeed),r=this.zoomLevel*o;if(!(r<=this.minZoomLevel||r>=this.maxZoomLevel)&&this.enableZoom)if(this.panOnZoom===!0&&e){let s=e.clientX,a=e.clientY,l=this.el.nativeElement.querySelector("svg"),c=l.querySelector("g.chart"),d=l.createSVGPoint();d.x=s,d.y=a;let u=d.matrixTransform(c.getScreenCTM().inverse());this.pan(u.x,u.y,!0),this.zoom(o),this.pan(-u.x,-u.y,!0)}else this.zoom(o)}pan(e,i,o=!1){let r=o?1:this.zoomLevel;this.transformationMatrix=Xc(this.transformationMatrix,Yc(e/r,i/r)),this.updateTransform()}panTo(e,i){if(e==null||isNaN(e)||i===null||i===void 0||isNaN(i))return;let o=-this.panOffsetX-e*this.zoomLevel+this.dims.width/2,r=-this.panOffsetY-i*this.zoomLevel+this.dims.height/2;this.transformationMatrix=Xc(this.transformationMatrix,Yc(o/this.zoomLevel,r/this.zoomLevel)),this.updateTransform()}zoom(e){this.transformationMatrix=Xc(this.transformationMatrix,g0(e,e)),this.zoomChange.emit(this.zoomLevel),this.updateTransform()}zoomTo(e){this.transformationMatrix.a=isNaN(e)?this.transformationMatrix.a:Number(e),this.transformationMatrix.d=isNaN(e)?this.transformationMatrix.d:Number(e),this.zoomChange.emit(this.zoomLevel),this.enablePreUpdateTransform&&this.updateTransform(),this.update()}onDrag(e){if(!this.draggingEnabled)return;let i=this.draggingNode;this.layout&&typeof this.layout!="string"&&this.layout.onDrag&&this.layout.onDrag(i,e),i.position.x+=e.movementX/this.zoomLevel,i.position.y+=e.movementY/this.zoomLevel;let o=i.position.x-(this.centerNodesOnPositionChange?i.dimension.width/2:0),r=i.position.y-(this.centerNodesOnPositionChange?i.dimension.height/2:0);i.transform=`translate(${o}, ${r})`;for(let s of this.graph.edges)if((s.target===i.id||s.source===i.id||s.target.id===i.id||s.source.id===i.id)&&this.layout&&typeof this.layout!="string"){let a=this.layout.updateEdge(this.graph,s),l=a instanceof ar?a:We(a);this.graphSubscription.add(l.subscribe(c=>{this.graph=c,this.redrawEdge(s)}))}this.redrawLines(!1),this.updateMinimap()}redrawEdge(e){let i=this.generateLine(e.points);this.calcDominantBaseline(e),e.oldLine=e.line,e.line=i}updateTransform(){this.transform=TX(PH(this.transformationMatrix,100)),this.stateChange.emit({state:ix.Transform})}onClick(e){this.select.emit(e)}onActivate(e){this.activeEntries.indexOf(e)>-1||(this.activeEntries=[e,...this.activeEntries],this.activate.emit({value:e,entries:this.activeEntries}))}onDeactivate(e){let i=this.activeEntries.indexOf(e);this.activeEntries.splice(i,1),this.activeEntries=[...this.activeEntries],this.deactivate.emit({value:e,entries:this.activeEntries})}getSeriesDomain(){return this.nodes.map(e=>this.groupResultsBy(e)).reduce((e,i)=>e.indexOf(i)!==-1?e:e.concat([i]),[]).sort()}trackLinkBy(e,i){return i.id}trackNodeBy(e,i){return i.id}setColors(){this.colors=new z3(this.scheme,this.seriesDomain,this.customColors)}onMouseMove(e){this.isMouseMoveCalled=!0,(this.isPanning||this.isMinimapPanning)&&this.panningEnabled?this.panWithConstraints(this.panningAxis,e):this.isDragging&&this.draggingEnabled&&this.onDrag(e)}onMouseDown(e){this.isMouseMoveCalled=!1}graphClick(e){this.isMouseMoveCalled||this.clickHandler.emit(e)}onTouchStart(e){this._touchLastX=e.changedTouches[0].clientX,this._touchLastY=e.changedTouches[0].clientY,this.isPanning=!0}onTouchMove(e){if(this.isPanning&&this.panningEnabled){let i=e.changedTouches[0].clientX,o=e.changedTouches[0].clientY,r=i-this._touchLastX,s=o-this._touchLastY;this._touchLastX=i,this._touchLastY=o,this.pan(r,s)}}onTouchEnd(){this.isPanning=!1}onMouseUp(e){this.isDragging=!1,this.isPanning=!1,this.isMinimapPanning=!1,this.layout&&typeof this.layout!="string"&&this.layout.onDragEnd&&this.layout.onDragEnd(this.draggingNode,e)}onNodeMouseDown(e,i){this.draggingEnabled&&(this.isDragging=!0,this.draggingNode=i,this.layout&&typeof this.layout!="string"&&this.layout.onDragStart&&this.layout.onDragStart(i,e))}onMinimapDragMouseDown(){this.isMinimapPanning=!0}onMinimapPanTo(e){let i=e.offsetX-(this.dims.width-(this.graphDims.width+this.minimapOffsetX)/this.minimapScaleCoefficient),o=e.offsetY+this.minimapOffsetY/this.minimapScaleCoefficient;this.panTo(i*this.minimapScaleCoefficient,o*this.minimapScaleCoefficient),this.isMinimapPanning=!0}center(){this.panTo(this.graphDims.width/2,this.graphDims.height/2)}zoomToFit(e){this.dims=qle({width:this.width,height:this.height}),this.updateGraphDims();let i=this.dims.height/this.graphDims.height,o=this.dims.width/this.graphDims.width,r=Math.min(i,o,1);r<this.minZoomLevel&&(r=this.minZoomLevel),r>this.maxZoomLevel&&(r=this.maxZoomLevel),(e?.force===!0||r!==this.zoomLevel)&&(this.zoomLevel=r,e?.autoCenter!==!0&&this.updateTransform(),e?.autoCenter===!0&&this.center(),this.zoomChange.emit(this.zoomLevel))}panToNodeId(e){let i=this.graph.nodes.find(o=>o.id===e);i&&this.panTo(i.position.x,i.position.y)}getCompoundNodeChildren(e){return this.nodes.filter(i=>e.includes(i.id))}panWithConstraints(e,i){let o=i.movementX,r=i.movementY;switch(this.isMinimapPanning&&(o=-this.minimapScaleCoefficient*o*this.zoomLevel,r=-this.minimapScaleCoefficient*r*this.zoomLevel),e){case rT.Horizontal:this.pan(o,0);break;case rT.Vertical:this.pan(0,r);break;default:this.pan(o,r);break}}updateMidpointOnEdge(e,i){if(!(!e||!i))if(i.length%2===1)e.midPoint=i[Math.floor(i.length/2)];else if(this.layout?.settings?.properties?.["elk.direction"])this._calcMidPointElk(e,i);else{let o=i[i.length/2],r=i[i.length/2-1];e.midPoint={x:(o.x+r.x)/2,y:(o.y+r.y)/2}}}_calcMidPointElk(e,i){let o=null,r=null,s=null,a=null,l=this.layout.settings?.properties["elk.direction"];(l==="RIGHT"?i.some(d=>d.y!==i[0].y):i.some(d=>d.x!==i[0].x))?(o=i[i.length-1],r=i[i.length-2],s=i[i.length-1],a=i[i.length-2]):l==="RIGHT"?(o=i[0],r=i[i.length-1],s=i[i.length/2],a=i[i.length/2-1]):(o=i[i.length/2],r=i[i.length/2-1],s=i[0],a=i[i.length-1]),e.midPoint={x:(o.x+r.x)/2,y:(s.y+a.y)/2}}basicUpdate(){if(this.view)this.width=this.view[0],this.height=this.view[1];else{let e=this.getContainerDims();e&&(this.width=e.width,this.height=e.height)}this.width||(this.width=600),this.height||(this.height=400),this.width=Math.floor(this.width),this.height=Math.floor(this.height),this.cd&&this.cd.markForCheck()}getContainerDims(){let e,i,o=this.el.nativeElement;if(o.parentNode!==null){let r=o.parentNode.getBoundingClientRect();e=r.width,i=r.height}return e&&i?{width:e,height:i}:null}hasGraphDims(){return this.graphDims.width>0&&this.graphDims.height>0}hasNodeDims(){return this.graph.nodes?.every(e=>e.dimension.width>0&&e.dimension.height>0)}hasCompoundNodeDims(){return this.graph.compoundNodes?.every(e=>e.dimension.width>0&&e.dimension.height>0)}hasClusterDims(){return this.graph.clusters?.every(e=>e.dimension.width>0&&e.dimension.height>0)}hasDims(){return this.hasGraphDims()&&this.hasNodeDims()&&((this.compoundNodes?.length?this.hasCompoundNodeDims():!0)||(this.clusters?.length?this.hasClusterDims():!0))}unbindEvents(){this.resizeSubscription&&this.resizeSubscription.unsubscribe()}bindWindowResizeEvent(){let i=Gu(window,"resize").pipe(el(200)).subscribe(o=>{this.update(),this.cd&&this.cd.markForCheck()});this.resizeSubscription=i}static \u0275fac=function(i){return new(i||n)(ie(He),ie(et),ie(Yt),ie(Xle))};static \u0275cmp=Q({type:n,selectors:[["ngx-graph"]],contentQueries:function(i,o,r){if(i&1&&(bt(r,Rje,5),bt(r,Oje,5),bt(r,Pje,5),bt(r,Lje,5),bt(r,Nje,5)),i&2){let s;me(s=pe())&&(o.linkTemplate=s.first),me(s=pe())&&(o.nodeTemplate=s.first),me(s=pe())&&(o.clusterTemplate=s.first),me(s=pe())&&(o.defsTemplate=s.first),me(s=pe())&&(o.miniMapNodeTemplate=s.first)}},viewQuery:function(i,o){if(i&1&&(rt(Fje,5),rt(zje,5)),i&2){let r;me(r=pe())&&(o.nodeElements=r),me(r=pe())&&(o.linkElements=r)}},hostBindings:function(i,o){i&1&&le("mousemove",function(s){return o.onMouseMove(s)},!1,$m)("mousedown",function(s){return o.onMouseDown(s)},!1,$m)("click",function(s){return o.graphClick(s)},!1,$m)("touchmove",function(s){return o.onTouchMove(s)},!1,$m)("mouseup",function(s){return o.onMouseUp(s)},!1,$m)},inputs:{nodes:"nodes",clusters:"clusters",compoundNodes:"compoundNodes",links:"links",activeEntries:"activeEntries",curve:"curve",draggingEnabled:"draggingEnabled",nodeHeight:"nodeHeight",nodeMaxHeight:"nodeMaxHeight",nodeMinHeight:"nodeMinHeight",nodeWidth:"nodeWidth",nodeMinWidth:"nodeMinWidth",nodeMaxWidth:"nodeMaxWidth",panningEnabled:"panningEnabled",panningAxis:"panningAxis",enableZoom:"enableZoom",zoomSpeed:"zoomSpeed",minZoomLevel:"minZoomLevel",maxZoomLevel:"maxZoomLevel",autoZoom:"autoZoom",panOnZoom:"panOnZoom",animate:"animate",autoCenter:"autoCenter",update$:"update$",center$:"center$",zoomToFit$:"zoomToFit$",panToNode$:"panToNode$",layout:"layout",layoutSettings:"layoutSettings",enableTrackpadSupport:"enableTrackpadSupport",showMiniMap:"showMiniMap",miniMapMaxWidth:"miniMapMaxWidth",miniMapMaxHeight:"miniMapMaxHeight",miniMapPosition:"miniMapPosition",view:"view",scheme:"scheme",customColors:"customColors",deferDisplayUntilPosition:"deferDisplayUntilPosition",centerNodesOnPositionChange:"centerNodesOnPositionChange",enablePreUpdateTransform:"enablePreUpdateTransform",groupResultsBy:"groupResultsBy",zoomLevel:"zoomLevel",panOffsetX:"panOffsetX",panOffsetY:"panOffsetY"},outputs:{select:"select",activate:"activate",deactivate:"deactivate",zoomChange:"zoomChange",clickHandler:"clickHandler",stateChange:"stateChange"},standalone:!1,features:[Di],ngContentSelectors:Bje,decls:6,vars:11,consts:[["nodeGroup",""],["clusterElement",""],["nodeElement",""],["linkElement",""],["mouseWheel","",1,"ngx-graph-outer",3,"mouseWheelUp","mouseWheelDown"],[1,"ngx-graph"],["class","graph chart",3,"touchstart","touchend",4,"ngIf"],["class","minimap",4,"ngIf"],[1,"graph","chart",3,"touchstart","touchend"],[3,"ngTemplateOutlet",4,"ngIf"],["class","text-path",4,"ngFor","ngForOf"],[1,"panning-rect",3,"mousedown"],[1,"clusters"],["class","node-group",3,"old-node","id","click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"compound-nodes"],["class","node-group",3,"old-node","id","click","mousedown",4,"ngFor","ngForOf","ngForTrackBy"],[1,"links"],["class","link-group",3,"id",4,"ngFor","ngForOf","ngForTrackBy"],[1,"nodes"],[3,"ngTemplateOutlet"],[1,"text-path"],[1,"node-group",3,"click","id"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf"],["class","node cluster",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"node","cluster"],["alignment-baseline","central"],[1,"node-group",3,"click","mousedown","id"],["class","node compound-node",4,"ngIf"],[1,"node","compound-node"],[1,"link-group",3,"id"],["class","edge",4,"ngIf"],[1,"edge"],["r","10",4,"ngIf"],["r","10"],[1,"minimap"],[1,"minimap-background",3,"mousedown"],[1,"minimap-nodes"],["class","node-group",3,"old-node","id",4,"ngFor","ngForOf","ngForTrackBy"],[1,"minimap-drag",3,"mousedown"],[1,"node-group",3,"id"]],template:function(i,o){i&1&&(wt(),x(0,"div",4),le("mouseWheelUp",function(s){return o.onZoom(s,"in")})("mouseWheelDown",function(s){return o.onZoom(s,"out")}),pi(),x(1,"svg",5),te(2,e4e,15,14,"g",6),x(3,"clipPath"),X(4,"rect"),w(),te(5,r4e,6,15,"g",7),w()()),i&2&&(po("width",o.width,"px"),z("@animationState","active")("@.disabled",!o.animate),I(),Re("width",o.width)("height",o.height),I(),z("ngIf",o.initialized&&o.graph),I(),Re("id",o.minimapClipPathId),I(),Re("width",o.graphDims.width/o.minimapScaleCoefficient)("height",o.graphDims.height/o.minimapScaleCoefficient),I(),z("ngIf",o.showMiniMap))},dependencies:[yx,fo,Xm,d4e],styles:[`.minimap .minimap-background{fill:#0000001a}.minimap .minimap-drag{fill:#0003;stroke:#fff;stroke-width:1px;stroke-dasharray:2px;stroke-dashoffset:2px;cursor:pointer}.minimap .minimap-drag.panning{fill:#0000004d}.minimap .minimap-nodes{opacity:.5;pointer-events:none}.graph{-webkit-user-select:none;user-select:none}.graph .edge{stroke:#666;fill:none}.graph .edge .edge-label{stroke:none;font-size:12px;fill:#251e1e}.graph .panning-rect{fill:#0000;cursor:move}.graph .node-group.old-node{transition:transform .5s ease-in-out}.graph .node-group .node:focus{outline:none}.graph .compound-node rect{opacity:.5}.graph .cluster rect{opacity:.2}
`],encapsulation:2,data:{animation:[ic("animationState",[xa(":enter",[Cr({opacity:0}),ya("500ms 100ms",Cr({opacity:1}))])])]},changeDetection:0})}return iW([a4e(500)],n.prototype,"updateMinimap",null),n})(),u4e=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=xt({type:n});static \u0275inj=yt({providers:[Xle],imports:[wx]})}return n})(),Zle=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=xt({type:n});static \u0275inj=yt({imports:[wx,u4e]})}return n})();var __=class n{constructor(t,e){this.analysisContextService=t;this.submissionLabelingService=e}displayScoreType=Ue("SEMANTIC");minSimilarityToInclude=Ue(.6);clusters=Ri(()=>this.analysisContextService.getReport()()?this.computeConnectedComponents():[]);submissionClusterMap=Ri(()=>{let t={};return this.clusters().forEach(e=>{e.submissions.forEach(i=>{t[i.id]=e.id})}),t});setMinPercentageSimilarityToInclude(t){this.minSimilarityToInclude.set(t/100)}getClusterForSubmission(t){let e=t.submission,i=this.submissionClusterMap()[e.id];return this.clusters().find(o=>o.id===i)}computeConnectedComponents(){let t=this.analysisContextService.getReport()();if(t){let e=Array.from(t.submissions.values()),i=this.applyPairsFiltering(t.pairs,this.minSimilarityToInclude()),o={},r=new Set;e.forEach(a=>{o[a.id]=new Set}),i.forEach(a=>{o[a.firstId].add(a.secondId),o[a.secondId].add(a.firstId)});let s=[];for(let a of e){let l=this.findComponentWithDfs(a.id,o,r);l.length>0&&s.push({id:this.getUniqueId(2),submissions:l.map(c=>t.submissions.get(c))})}return s}return[]}findComponentWithDfs(t,e,i){let o=[],r=[t];for(;r.length>0;){let s=r.pop();if(s){if(i.has(s))continue;i.add(s),o.push(s),e[s].forEach(a=>r.push(a))}}return o}createLinks(){let t=this.analysisContextService.getReport()();if(t){let e=t.pairs;return this.applyPairsFiltering(e,this.minSimilarityToInclude()).map(i=>({id:this.getLinkId(i.id),source:this.getNodeIdFromSubmission(i.firstId),target:this.getNodeIdFromSubmission(i.secondId)}))}return[]}applyPairsFiltering(t,e){return Array.from(t.values()).filter(i=>{let o=this.displayScoreType(),r=null;if(o==="SEM&JAC"){let s=jt.getScoreByType(i,"SEMANTIC"),a=jt.getScoreByType(i,"JACCARD");r=s??a}else r=jt.getScoreByType(i,o);return this.displayScoreType()==="META"?r&&r.score===1:r&&r.score>=e})}createNodes(){let t=this.analysisContextService.getReport()();if(t){let e=t.submissions,i={};return Array.from(e.values()).sort((o,r)=>o.fileData.submitter.localeCompare(r.fileData.submitter)).map(o=>({id:this.getNodeIdFromSubmission(o.id),label:this.submissionLabelingService.getSubmissionLabel(o,i),submission:o}))}return[]}getLinkId(t){return`link_${t}`}getNodeIdFromSubmission(t){return`node_${t.toFixed(0)}`}getUniqueId(t){let e=[];for(let i=0;i<t;i++){let o=((1+Math.random())*65536|0).toString(16).substring(1);e.push(o)}return e.join("-")}getDisplayScoreType(){return this.displayScoreType()}setDisplayScoreType(t){this.displayScoreType.set(t)}static \u0275fac=function(e){return new(e||n)(ct(Wt),ct(zg))};static \u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})};function m4e(n,t){if(n&1&&(pi(),x(0,"svg")(1,"g",16),X(2,"circle",17),w()()),n&2){let e=t.$implicit;I(),z("matTooltip",e.label),I(),Re("fill",e.data.color)}}function p4e(n,t){if(n&1){let e=Nt();x(0,"div",14)(1,"mat-slider",18)(2,"input",19,2),le("change",function(){Ze(e);let o=Y();return Qe(o.updateLinks())}),va("ngModelChange",function(o){Ze(e);let r=Y();return _a(r.minPercentageSimilarityToInclude,o)||(r.minPercentageSimilarityToInclude=o),Qe(o)}),w()(),x(4,"p"),P(5," Minim\xE1lna po\u017Eadovan\xE1 podobnos\u0165 na pridanie spojenia uzlov "),w()()}if(n&2){let e=Y();I(),z("min",0)("max",100)("step",1)("discrete",!0)("showTickMarks",!1),I(),ga("ngModel",e.minPercentageSimilarityToInclude)}}function f4e(n,t){n&1&&(x(0,"p",15),P(1,"Pri vybranej miere podobnosti, nie je mo\u017En\xE9 voli\u0165 stupe\u0148 podobnosti."),w())}var cT=class n{constructor(t,e){this.submissionGraphService=t;this.router=e}graphComponent;zoomToFitSubject=new Ee;dialog=y(Ld);graphSimulation=s_().force("charge",a_().strength(-550)).force("collide",o_(5)).force("link",r_().id(t=>t.id).distance(()=>150).strength(.75)).alphaDecay(.03);d3Settings={force:this.graphSimulation,forceLink:this.graphSimulation.force("link")};minPercentageSimilarityToInclude=60;onNodeSelect(t){this.openNavigationDialog(t)}openNavigationDialog(t){this.dialog.open(Pg,{data:{title:"Zvo\u013Ete akciu nad "+t.label,options:[{label:"Otvori\u0165 inform\xE1cie o odovzdan\xED",value:0},{label:"Otvori\u0165 inform\xE1cie o zhluku",value:1}]}}).afterClosed().pipe(ma(i=>i!==void 0?We(i):ua(()=>new Error("Cancel graph node action")))).subscribe({next:i=>{if(i==0&&this.router.navigate(["/submissions",t.submission.id]),i==1){let o=this.submissionGraphService.getClusterForSubmission(t).id;this.router.navigate(["/clusters",o])}},error:()=>{}})}zoomToFit(){this.zoomToFitSubject.next({autoCenter:!1})}ngAfterViewInit(){this.graphComponent.nodes=this.submissionGraphService.createNodes(),this.graphComponent.links=this.submissionGraphService.createLinks();let t=new nx;t.settings=this.d3Settings,this.graphComponent.layout=t,this.graphComponent.showMiniMap=!0,this.graphComponent.draggingEnabled=!1,setTimeout(()=>{this.graphSimulation.nodes().forEach(e=>{e.fx=e.x,e.fy=e.y}),this.graphSimulation.alpha(0).stop(),this.graphSimulation.stop()},5e3)}updateLinks(){this.submissionGraphService.setMinPercentageSimilarityToInclude(this.minPercentageSimilarityToInclude),this.graphComponent.links=this.submissionGraphService.createLinks(),this.graphComponent.nodes=this.submissionGraphService.createNodes(),this.graphComponent.update()}changeScoreType(t){this.submissionGraphService.setDisplayScoreType(t),this.graphComponent.links=this.submissionGraphService.createLinks(),this.graphComponent.nodes=this.submissionGraphService.createNodes(),this.graphComponent.update()}static \u0275fac=function(e){return new(e||n)(ie(__),ie(xi))};static \u0275cmp=Q({type:n,selectors:[["app-submission-graph-page"]],viewQuery:function(e,i){if(e&1&&rt(lT,5),e&2){let o;me(o=pe())&&(i.graphComponent=o.first)}},decls:25,vars:4,consts:[["nodeTemplate",""],["select",""],["slider",""],["title","Graf","subtitle","",3,"isTitleCentered"],[1,"chart-container",3,"select","zoomToFit$"],[1,"toolbar-horizontal"],[1,"picker-container"],["appearance","outline"],[3,"selectionChange","value"],["value","META"],["value","JACCARD"],["value","SEMANTIC"],["value","SEM&JAC"],["mat-raised-button","",3,"click"],[1,"slider-container"],[2,"width","200px"],[1,"node",3,"matTooltip"],["r","15","cx","15","cy","15"],[3,"min","max","step","discrete","showTickMarks"],["matSliderThumb","",3,"change","ngModelChange","ngModel"]],template:function(e,i){if(e&1){let o=Nt();x(0,"app-content-container")(1,"app-surface",3)(2,"ngx-graph",4),le("select",function(s){return Ze(o),Qe(i.onNodeSelect(s))}),te(3,m4e,3,2,"ng-template",null,0,Qu),w()(),x(5,"app-floating-toolbar")(6,"div",5)(7,"div",6)(8,"mat-form-field",7)(9,"mat-label"),P(10,"Mieru podobnosti"),w(),x(11,"mat-select",8,1),le("selectionChange",function(){Ze(o);let s=to(12);return Qe(i.changeScoreType(s.value))}),x(13,"mat-option",9),P(14," Podobnos\u0165 autorov (meta\xFAdaje) "),w(),x(15,"mat-option",10),P(16," Jaccardov koeficient (slovn\xE9 n-gramy) "),w(),x(17,"mat-option",11),P(18," Semantick\xE1 podobnos\u0165 "),w(),x(19,"mat-option",12),P(20," Semantick\xE1 podobnos\u0165 alebo Jaccardov koeficient "),w()()(),x(21,"button",13),le("click",function(){return Ze(o),Qe(i.zoomToFit())}),P(22," Pribl\xED\u017Ei\u0165 a vycentrova\u0165 "),w()(),te(23,p4e,6,6,"div",14)(24,f4e,2,0,"p",15),w()()()}e&2&&(I(),z("isTitleCentered",!0),I(),z("zoomToFit$",i.zoomToFitSubject),I(9),z("value",i.submissionGraphService.getDisplayScoreType()),I(12),Ye(i.submissionGraphService.getDisplayScoreType()!=="META"?23:24))},dependencies:[Zle,lT,Rn,An,ea,Mn,qd,Ek,e0,Xn,$r,Kr,bs,Ho,Vo,Ud,_r],styles:[".chart-container[_ngcontent-%COMP%]{box-shadow:0 2px 4px -1px #0003,0 4px 5px #00000024,0 1px 10px #0000001f;min-height:80vh;border-radius:var(--mat-sys-corner-medium)}.toolbar-horizontal[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:2.5rem;flex-wrap:wrap;padding:1rem}.picker-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem;min-width:320px}.slider-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem;width:300px}p[_ngcontent-%COMP%]{font:var(--mat-sys-body-medium);color:var(--mat-sys-on-surface-variant);margin:0}"]})};var dT=class n{constructor(t,e,i,o,r){this.similarityHeatmapService=t;this.analysisContextService=e;this.submissionsGraphService=i;this.router=o;this.route=r;ln(()=>{let s=this.submissionsGraphService.clusters().find(a=>a.id===this.clusterId());s==null?this.router.navigate(["/graph"]):this.clusterSubmissions=s.submissions})}heatMap;clusterId=Ue(null);clusterSubmissions=[];submissionsMapSource=Ri(()=>{let t=new Map;return this.clusterSubmissions.forEach(e=>{t.set(e.id,e)}),t});pairsMapSource=Ri(()=>{let t=this.analysisContextService.getReport()(),e=new Map;if(t){let i=this.clusterSubmissions.filter(r=>!r.indexed&&r.pairIds.length>0).flatMap(r=>r.pairIds),o=new Set(this.clusterSubmissions.map(r=>r.id));for(let r of i){let[s,a]=r.split("_");o.has(Number(s))&&o.has(Number(a))&&e.set(r,t.pairs.get(r))}}return e});pairsSource=Ri(()=>Array.from(this.pairsMapSource().values()));ngAfterViewInit(){this.heatMap.selectedPairIdEmitter.subscribe(t=>this.loadPair(t)),this.heatMap.unknownPairEmitter.subscribe(t=>this.loadDiff(t))}ngOnInit(){this.route.paramMap.subscribe(t=>{this.clusterId.set(t.get("id"))})}getNotIndexedSubmissionsFilterSet(){return new Set(this.clusterSubmissions.filter(t=>!t.indexed).map(t=>t.id))}getIndexedSubmissionsFilterSet(){return new Set(this.clusterSubmissions.filter(t=>t.indexed).map(t=>t.id))}loadPair(t){this.router.navigate(["/pairs",t])}loadDiff(t){let e=t.split("_");this.router.navigate(["/diff",e[0],e[1]])}changeScoreType(t){this.similarityHeatmapService.setDisplayScoreType(t),this.heatMap.setPageY(0),this.heatMap.setPageX(0),this.heatMap.updateSeries()}export(){this.similarityHeatmapService.export()}static \u0275fac=function(e){return new(e||n)(ie(ku),ie(Wt),ie(__),ie(xi),ie(er))};static \u0275cmp=Q({type:n,selectors:[["app-cluster-view-page"]],viewQuery:function(e,i){if(e&1&&rt(Mu,5),e&2){let o;me(o=pe())&&(i.heatMap=o.first)}},decls:28,vars:18,consts:[["select",""],["title","Dvojice odovzdan\xED","subtitle","",3,"isTitleCentered","isContentCentered"],[3,"pairsSource","contextPrefix"],["title","Teplotn\xE1 mapa podobnosti","subtitle","",3,"isTitleCentered","isContentCentered"],[3,"pairsMapSource","submissionsMapSource"],["title","Odovzdania patriace do zhluku","subtitle","Tabu\u013Eka obsahuje prav\xE9 analyzovan\xE9 odovzdania",3,"isContentCentered"],[3,"limit","submissionsFilterSet","enablePagination"],["title","Odovzdania patriace do zhluku","subtitle","Tabu\u013Eka obsahuje star\xE9 odovzdania",3,"isContentCentered"],[3,"limit","showNotIndexedOnly","submissionsFilterSet","enablePagination"],["appearance","outline",2,"width","320px"],[3,"selectionChange","value"],["value","META"],["value","JACCARD"],["value","SEMANTIC"],["value","SEM&JAC"],["mat-raised-button","",2,"max-width","250px",3,"click"]],template:function(e,i){if(e&1){let o=Nt();x(0,"app-content-container")(1,"app-surface",1),X(2,"app-pairs-table",2),w(),x(3,"app-surface",3),X(4,"app-similarity-heatmap",4),w(),x(5,"app-surface",5),X(6,"app-submissions-table",6),w(),x(7,"app-surface",7),X(8,"app-submissions-table",8),w(),x(9,"app-floating-toolbar")(10,"mat-form-field",9)(11,"mat-label"),P(12,"Miera podobnosti pre zobrazenie na teplotnej mape"),w(),x(13,"mat-select",10,0),le("selectionChange",function(){Ze(o);let s=to(14);return Qe(i.changeScoreType(s.value))}),x(15,"mat-option",11),P(16," Podobnos\u0165 autorov (meta\xFAdaje) "),w(),x(17,"mat-option",12),P(18," Jaccardov koeficient (slovn\xE9 n-gramy) "),w(),x(19,"mat-option",13),P(20," Semantick\xE1 podobnos\u0165 "),w(),x(21,"mat-option",14),P(22," Semantick\xE1 podobnos\u0165 alebo Jaccardov koeficient "),w()()(),x(23,"button",15),le("click",function(){return Ze(o),Qe(i.export())}),x(24,"mat-icon"),P(25,"download"),w(),x(26,"p"),P(27," Stiahnu\u0165 ako csv "),w()()()()}e&2&&(I(),z("isTitleCentered",!0)("isContentCentered",!1),I(),z("pairsSource",i.pairsSource)("contextPrefix","cluster-view-page-"+i.clusterId()||"none"),I(),z("isTitleCentered",!0)("isContentCentered",!0),I(),z("pairsMapSource",i.pairsMapSource)("submissionsMapSource",i.submissionsMapSource),I(),z("isContentCentered",!1),I(),z("limit",null)("submissionsFilterSet",i.getNotIndexedSubmissionsFilterSet())("enablePagination",!0),I(),z("isContentCentered",!1),I(),z("limit",null)("showNotIndexedOnly",!1)("submissionsFilterSet",i.getIndexedSubmissionsFilterSet())("enablePagination",!0),I(5),z("value",i.similarityHeatmapService.getDisplayScoreType()))},dependencies:[Rn,An,Eu,Mu,Gd,_r,Ud,Ho,Vo,ea,Mn,Tn],styles:["app-similarity-heatmap[_ngcontent-%COMP%]{display:flex;width:100%;flex-direction:column;gap:8px}"]})};var uT=class n{header="";static \u0275fac=function(e){return new(e||n)};static \u0275cmp=Q({type:n,selectors:[["app-infinite-load-card"]],inputs:{header:"header"},decls:8,vars:1,consts:[[1,"always-on-top-card","medium-card","base-card"],[1,"spinner-container"]],template:function(e,i){e&1&&(x(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title")(3,"h1"),P(4),w()()(),x(5,"mat-card-content")(6,"div",1),X(7,"mat-spinner"),w()()()),e&2&&(I(4),be(i.header))},dependencies:[Js,Su,Ul,Tk,Cu],styles:[".always-on-top-card[_ngcontent-%COMP%]{align-self:center;justify-self:center;position:absolute;z-index:10;top:50%;left:50%;transform:translate(-50%,-50%)}.spinner-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}",".medium-card[_ngcontent-%COMP%]{max-width:350px;min-width:200px}.large-card[_ngcontent-%COMP%]{max-width:400px;min-width:200px}.extra-large-card[_ngcontent-%COMP%]{max-width:450px;min-width:200px}.base-card[_ngcontent-%COMP%]{margin:auto;padding:16px}p[_ngcontent-%COMP%]{font:var(--mat-sys-body-medium);color:var(--mat-sys-on-surface-variant);margin:0}h3[_ngcontent-%COMP%]{font:var(--mat-sys-title-small);color:var(--mat-sys-on-surface);margin:0}h1[_ngcontent-%COMP%]{font:var(--mat-sys-title-large);color:var(--mat-sys-on-surface);margin:0}.text-frame[_ngcontent-%COMP%]{width:100%;overflow-y:hidden;display:flex;flex-direction:column;justify-content:center;align-content:start}.text-center[_ngcontent-%COMP%]{align-items:center}.text-frame[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font:var(--mat-sys-title-large);color:var(--mat-sys-on-surface);margin:0}.text-frame[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font:var(--mat-sys-body-medium);color:var(--mat-sys-on-surface-variant);margin:0}.header-with-actions[_ngcontent-%COMP%]{display:flex;width:100%;flex-direction:row;align-items:center;justify-content:space-between}.header-with-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{justify-self:end}.header-with-actions[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{flex-grow:1;text-align:center;margin:0}.header-with-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:auto}.info-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:24px}.info-list[_ngcontent-%COMP%] > mat-list-item[_ngcontent-%COMP%]{padding-left:0;padding-right:0;gap:16px}.card-group[_ngcontent-%COMP%]{display:flex;max-width:700px;min-width:300px;flex-direction:column;padding:16px;gap:24px;border-radius:var(--mat-sys-corner-extra-large);background-color:var(--mat-sys-surface-container-high)}.card-flex-box[_ngcontent-%COMP%]{display:flex;max-width:700px;min-width:300px;flex-direction:row;justify-content:center;flex-wrap:wrap;gap:16px}.horizontal-card-group-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:fit-content;height:100%;padding:16px;gap:8px;border-radius:var(--mat-sys-corner-extra-large);background-color:var(--mat-sys-surface-container-high)}.horizontal-card-group[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:32px}@media (max-width: 1250px){.horizontal-card-group[_ngcontent-%COMP%]{flex-wrap:wrap}}"]})};function g4e(n,t){if(n&1){let e=Nt();x(0,"ngx-monaco-diff-editor",3),le("onInit",function(o){Ze(e);let r=Y();return Qe(r.initEditor(o))}),w()}if(n&2){let e=Y();z("options",e.editorOptions)("originalModel",e.firstModel())("modifiedModel",e.secondModel())}}function _4e(n,t){n&1&&X(0,"app-infinite-load-card",4)}var hT=class n{editorOptions={theme:"vs-white",language:"plaintext",readOnly:!0,wordWrap:"on",wrappingIndent:"same",wordWrapBreakBeforeCharacters:"{([",wordWrapBreakAfterCharacters:" 	})",originalEditable:!1,modifiedEditable:!1};first;second;editor=Ue(null);isLoading=Ue(!1);firstModel=Ue(void 0);secondModel=Ue(void 0);initEditor(t){this.editor()||(this.editor.set(t),t.onDidUpdateDiff(()=>{this.isLoading.set(!1)}))}ngOnDestroy(){let t=this.editor();t&&t.dispose()}ngOnChanges(){this.first?.content&&this.second?.content&&(this.isLoading.set(!0),this.firstModel.set({code:this.first.content,language:"plaintext"}),this.secondModel.set({code:this.second.content,language:"plaintext"}))}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=Q({type:n,selectors:[["app-submission-diff-editor"]],inputs:{first:"first",second:"second"},features:[Di],decls:3,vars:2,consts:[[1,"editor"],[3,"options","originalModel","modifiedModel"],["header","Dokumenty sa porovn\xE1vaj\xFA",4,"ngIf"],[3,"onInit","options","originalModel","modifiedModel"],["header","Dokumenty sa porovn\xE1vaj\xFA"]],template:function(e,i){e&1&&(x(0,"div",0),te(1,g4e,1,3,"ngx-monaco-diff-editor",1)(2,_4e,1,0,"app-infinite-load-card",2),w()),e&2&&(I(),Ye(i.firstModel()&&i.secondModel()?1:-1),I(),z("ngIf",i.isLoading()))},dependencies:[nG,uT,fo],styles:[".editor[_ngcontent-%COMP%]{min-height:50vh;height:100%;width:100%;min-width:50%}ngx-monaco-diff-editor[_ngcontent-%COMP%]{width:100%;height:100%}"]})};var v4e=["panel"],b4e=["*"];function y4e(n,t){if(n&1){let e=Nt();x(0,"div",1,0),le("@panelAnimation.done",function(o){Ze(e);let r=Y();return Qe(r._animationDone.next(o))}),Fe(2),w()}if(n&2){let e=t.id,i=Y();Lo(i._classList),ke("mat-mdc-autocomplete-visible",i.showPanel)("mat-mdc-autocomplete-hidden",!i.showPanel)("mat-primary",i._color==="primary")("mat-accent",i._color==="accent")("mat-warn",i._color==="warn"),z("id",i.id)("@panelAnimation",i.isOpen?"visible":"hidden"),Re("aria-label",i.ariaLabel||null)("aria-labelledby",i._getPanelAriaLabelledby(e))}}var x4e=ic("panelAnimation",[Zm("void, hidden",Cr({opacity:0,transform:"scaleY(0.8)"})),xa(":enter, hidden => visible",[UW([ya("0.03s linear",Cr({opacity:1})),ya("0.12s cubic-bezier(0, 0, 0.2, 1)",Cr({transform:"scaleY(1)"}))])]),xa(":leave, visible => hidden",[ya("0.075s linear",Cr({opacity:0}))])]),j3=class{source;option;constructor(t,e){this.source=t,this.option=e}},Jle=new ue("mat-autocomplete-default-options",{providedIn:"root",factory:w4e});function w4e(){return{autoActiveFirstOption:!1,autoSelectActiveOption:!1,hideSingleSelectionIndicator:!1,requireSelection:!1}}var ece=(()=>{class n{_changeDetectorRef=y(Yt);_elementRef=y(He);_defaults=y(Jle);_activeOptionChanges=fn.EMPTY;_animationDone=new Le;_keyManager;showPanel=!1;get isOpen(){return this._isOpen&&this.showPanel}_isOpen=!1;_latestOpeningTrigger;_setColor(e){this._color=e,this._changeDetectorRef.markForCheck()}_color;template;panel;options;optionGroups;ariaLabel;ariaLabelledby;displayWith=null;autoActiveFirstOption;autoSelectActiveOption;requireSelection;panelWidth;disableRipple;optionSelected=new Le;opened=new Le;closed=new Le;optionActivated=new Le;set classList(e){this._classList=e,this._elementRef.nativeElement.className=""}_classList;get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(e){this._hideSingleSelectionIndicator=e,this._syncParentProperties()}_hideSingleSelectionIndicator;_syncParentProperties(){if(this.options)for(let e of this.options)e._changeDetectorRef.markForCheck()}id=y(Yn).getId("mat-autocomplete-");inertGroups;constructor(){let e=y(Zt);this.inertGroups=e?.SAFARI||!1,this.autoActiveFirstOption=!!this._defaults.autoActiveFirstOption,this.autoSelectActiveOption=!!this._defaults.autoSelectActiveOption,this.requireSelection=!!this._defaults.requireSelection,this._hideSingleSelectionIndicator=this._defaults.hideSingleSelectionIndicator??!1}ngAfterContentInit(){this._keyManager=new Kp(this.options).withWrap().skipPredicate(this._skipPredicate),this._activeOptionChanges=this._keyManager.change.subscribe(e=>{this.isOpen&&this.optionActivated.emit({source:this,option:this.options.toArray()[e]||null})}),this._setVisibility()}ngOnDestroy(){this._keyManager?.destroy(),this._activeOptionChanges.unsubscribe(),this._animationDone.complete()}_setScrollTop(e){this.panel&&(this.panel.nativeElement.scrollTop=e)}_getScrollTop(){return this.panel?this.panel.nativeElement.scrollTop:0}_setVisibility(){this.showPanel=!!this.options.length,this._changeDetectorRef.markForCheck()}_emitSelectEvent(e){let i=new j3(this,e);this.optionSelected.emit(i)}_getPanelAriaLabelledby(e){if(this.ariaLabel)return null;let i=e?e+" ":"";return this.ariaLabelledby?i+this.ariaLabelledby:e}_skipPredicate(){return!1}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Q({type:n,selectors:[["mat-autocomplete"]],contentQueries:function(i,o,r){if(i&1&&(bt(r,_r,5),bt(r,Nv,5)),i&2){let s;me(s=pe())&&(o.options=s),me(s=pe())&&(o.optionGroups=s)}},viewQuery:function(i,o){if(i&1&&(rt(qo,7),rt(v4e,5)),i&2){let r;me(r=pe())&&(o.template=r.first),me(r=pe())&&(o.panel=r.first)}},hostAttrs:[1,"mat-mdc-autocomplete"],inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],displayWith:"displayWith",autoActiveFirstOption:[2,"autoActiveFirstOption","autoActiveFirstOption",Ke],autoSelectActiveOption:[2,"autoSelectActiveOption","autoSelectActiveOption",Ke],requireSelection:[2,"requireSelection","requireSelection",Ke],panelWidth:"panelWidth",disableRipple:[2,"disableRipple","disableRipple",Ke],classList:[0,"class","classList"],hideSingleSelectionIndicator:[2,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",Ke]},outputs:{optionSelected:"optionSelected",opened:"opened",closed:"closed",optionActivated:"optionActivated"},exportAs:["matAutocomplete"],features:[At([{provide:Lv,useExisting:n}]),Ut],ngContentSelectors:b4e,decls:1,vars:0,consts:[["panel",""],["role","listbox",1,"mat-mdc-autocomplete-panel","mdc-menu-surface","mdc-menu-surface--open",3,"id"]],template:function(i,o){i&1&&(wt(),te(0,y4e,3,16,"ng-template"))},styles:["div.mat-mdc-autocomplete-panel{width:100%;max-height:256px;visibility:hidden;transform-origin:center top;overflow:auto;padding:8px 0;box-sizing:border-box;position:static;border-radius:var(--mat-autocomplete-container-shape, var(--mat-sys-corner-extra-small));box-shadow:var(--mat-autocomplete-container-elevation-shadow, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12));background-color:var(--mat-autocomplete-background-color, var(--mat-sys-surface-container))}@media(forced-colors: active){div.mat-mdc-autocomplete-panel{outline:solid 1px}}.cdk-overlay-pane:not(.mat-mdc-autocomplete-panel-above) div.mat-mdc-autocomplete-panel{border-top-left-radius:0;border-top-right-radius:0}.mat-mdc-autocomplete-panel-above div.mat-mdc-autocomplete-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:center bottom}div.mat-mdc-autocomplete-panel.mat-mdc-autocomplete-visible{visibility:visible}div.mat-mdc-autocomplete-panel.mat-mdc-autocomplete-hidden{visibility:hidden;pointer-events:none}mat-autocomplete{display:none}"],encapsulation:2,data:{animation:[x4e]},changeDetection:0})}return n})();var C4e={provide:Na,useExisting:cr(()=>U3),multi:!0};var S4e=new ue("mat-autocomplete-scroll-strategy",{providedIn:"root",factory:()=>{let n=y(vr);return()=>n.scrollStrategies.reposition()}});var U3=(()=>{class n{_environmentInjector=y(Rs);_element=y(He);_overlay=y(vr);_viewContainerRef=y(Go);_zone=y(et);_changeDetectorRef=y(Yt);_dir=y(mn,{optional:!0});_formField=y(Fh,{optional:!0,host:!0});_document=y(kt);_viewportRuler=y($s);_scrollStrategy=y(S4e);_renderer=y(on);_defaults=y(Jle,{optional:!0});_overlayRef;_portal;_componentDestroyed=!1;_initialized=new Ee;_keydownSubscription;_outsideClickSubscription;_cleanupWindowBlur;_previousValue;_valueOnAttach;_valueOnLastKeydown;_positionStrategy;_manuallyFloatingLabel=!1;_closingActionsSubscription;_viewportSubscription=fn.EMPTY;_breakpointObserver=y(EC);_handsetLandscapeSubscription=fn.EMPTY;_canOpenOnNextFocus=!0;_valueBeforeAutoSelection;_pendingAutoselectedOption;_closeKeyEventStream=new Ee;_windowBlurHandler=()=>{this._canOpenOnNextFocus=this._document.activeElement!==this._element.nativeElement||this.panelOpen};_onChange=()=>{};_onTouched=()=>{};autocomplete;position="auto";connectedTo;autocompleteAttribute="off";autocompleteDisabled;constructor(){}_aboveClass="mat-mdc-autocomplete-panel-above";ngAfterViewInit(){this._initialized.next(),this._initialized.complete(),this._cleanupWindowBlur=this._renderer.listen("window","blur",this._windowBlurHandler)}ngOnChanges(e){e.position&&this._positionStrategy&&(this._setStrategyPositions(this._positionStrategy),this.panelOpen&&this._overlayRef.updatePosition())}ngOnDestroy(){this._cleanupWindowBlur?.(),this._handsetLandscapeSubscription.unsubscribe(),this._viewportSubscription.unsubscribe(),this._componentDestroyed=!0,this._destroyPanel(),this._closeKeyEventStream.complete(),this._clearFromModal()}get panelOpen(){return this._overlayAttached&&this.autocomplete.showPanel}_overlayAttached=!1;openPanel(){this._openPanelInternal()}closePanel(){this._resetLabel(),this._overlayAttached&&(this.panelOpen&&this._zone.run(()=>{this.autocomplete.closed.emit()}),this.autocomplete._latestOpeningTrigger===this&&(this.autocomplete._isOpen=!1,this.autocomplete._latestOpeningTrigger=null),this._overlayAttached=!1,this._pendingAutoselectedOption=null,this._overlayRef&&this._overlayRef.hasAttached()&&(this._overlayRef.detach(),this._closingActionsSubscription.unsubscribe()),this._updatePanelState(),this._componentDestroyed||this._changeDetectorRef.detectChanges(),this._trackedModal&&Md(this._trackedModal,"aria-owns",this.autocomplete.id))}updatePosition(){this._overlayAttached&&this._overlayRef.updatePosition()}get panelClosingActions(){return tn(this.optionSelections,this.autocomplete._keyManager.tabOut.pipe(ri(()=>this._overlayAttached)),this._closeKeyEventStream,this._getOutsideClickStream(),this._overlayRef?this._overlayRef.detachments().pipe(ri(()=>this._overlayAttached)):We()).pipe(nt(e=>e instanceof Ov?e:null))}optionSelections=ha(()=>{let e=this.autocomplete?this.autocomplete.options:null;return e?e.changes.pipe(Qi(e),In(()=>tn(...e.map(i=>i.onSelectionChange)))):this._initialized.pipe(In(()=>this.optionSelections))});get activeOption(){return this.autocomplete&&this.autocomplete._keyManager?this.autocomplete._keyManager.activeItem:null}_getOutsideClickStream(){return new ar(e=>{let i=r=>{let s=Or(r),a=this._formField?this._formField.getConnectedOverlayOrigin().nativeElement:null,l=this.connectedTo?this.connectedTo.elementRef.nativeElement:null;this._overlayAttached&&s!==this._element.nativeElement&&this._document.activeElement!==this._element.nativeElement&&(!a||!a.contains(s))&&(!l||!l.contains(s))&&this._overlayRef&&!this._overlayRef.overlayElement.contains(s)&&e.next(r)},o=[this._renderer.listen("document","click",i),this._renderer.listen("document","auxclick",i),this._renderer.listen("document","touchend",i)];return()=>{o.forEach(r=>r())}})}writeValue(e){Promise.resolve(null).then(()=>this._assignOptionValue(e))}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this._element.nativeElement.disabled=e}_handleKeydown(e){let i=e.keyCode,o=ao(e);if(i===27&&!o&&e.preventDefault(),this._valueOnLastKeydown=this._element.nativeElement.value,this.activeOption&&i===13&&this.panelOpen&&!o)this.activeOption._selectViaInteraction(),this._resetActiveItem(),e.preventDefault();else if(this.autocomplete){let r=this.autocomplete._keyManager.activeItem,s=i===38||i===40;i===9||s&&!o&&this.panelOpen?this.autocomplete._keyManager.onKeydown(e):s&&this._canOpen()&&this._openPanelInternal(this._valueOnLastKeydown),(s||this.autocomplete._keyManager.activeItem!==r)&&(this._scrollToOption(this.autocomplete._keyManager.activeItemIndex||0),this.autocomplete.autoSelectActiveOption&&this.activeOption&&(this._pendingAutoselectedOption||(this._valueBeforeAutoSelection=this._valueOnLastKeydown),this._pendingAutoselectedOption=this.activeOption,this._assignOptionValue(this.activeOption.value)))}}_handleInput(e){let i=e.target,o=i.value;if(i.type==="number"&&(o=o==""?null:parseFloat(o)),this._previousValue!==o){if(this._previousValue=o,this._pendingAutoselectedOption=null,(!this.autocomplete||!this.autocomplete.requireSelection)&&this._onChange(o),!o)this._clearPreviousSelectedOption(null,!1);else if(this.panelOpen&&!this.autocomplete.requireSelection){let r=this.autocomplete.options?.find(s=>s.selected);if(r){let s=this._getDisplayValue(r.value);o!==s&&r.deselect(!1)}}if(this._canOpen()&&this._document.activeElement===e.target){let r=this._valueOnLastKeydown??this._element.nativeElement.value;this._valueOnLastKeydown=null,this._openPanelInternal(r)}}}_handleFocus(){this._canOpenOnNextFocus?this._canOpen()&&(this._previousValue=this._element.nativeElement.value,this._attachOverlay(this._previousValue),this._floatLabel(!0)):this._canOpenOnNextFocus=!0}_handleClick(){this._canOpen()&&!this.panelOpen&&this._openPanelInternal()}_floatLabel(e=!1){this._formField&&this._formField.floatLabel==="auto"&&(e?this._formField._animateAndLockLabel():this._formField.floatLabel="always",this._manuallyFloatingLabel=!0)}_resetLabel(){this._manuallyFloatingLabel&&(this._formField&&(this._formField.floatLabel="auto"),this._manuallyFloatingLabel=!1)}_subscribeToClosingActions(){let e=new ar(o=>{So(()=>{o.next()},{injector:this._environmentInjector})}),i=this.autocomplete.options.changes.pipe(Ji(()=>this._positionStrategy.reapplyLastPosition()),rW(0));return tn(e,i).pipe(In(()=>this._zone.run(()=>{let o=this.panelOpen;return this._resetActiveItem(),this._updatePanelState(),this._changeDetectorRef.detectChanges(),this.panelOpen&&this._overlayRef.updatePosition(),o!==this.panelOpen&&(this.panelOpen?this._emitOpened():this.autocomplete.closed.emit()),this.panelClosingActions})),Hn(1)).subscribe(o=>this._setValueAndClose(o))}_emitOpened(){this.autocomplete.opened.emit()}_destroyPanel(){this._overlayRef&&(this.closePanel(),this._overlayRef.dispose(),this._overlayRef=null)}_getDisplayValue(e){let i=this.autocomplete;return i&&i.displayWith?i.displayWith(e):e}_assignOptionValue(e){let i=this._getDisplayValue(e);e==null&&this._clearPreviousSelectedOption(null,!1),this._updateNativeInputValue(i??"")}_updateNativeInputValue(e){this._formField?this._formField._control.value=e:this._element.nativeElement.value=e,this._previousValue=e}_setValueAndClose(e){let i=this.autocomplete,o=e?e.source:this._pendingAutoselectedOption;o?(this._clearPreviousSelectedOption(o),this._assignOptionValue(o.value),this._onChange(o.value),i._emitSelectEvent(o),this._element.nativeElement.focus()):i.requireSelection&&this._element.nativeElement.value!==this._valueOnAttach&&(this._clearPreviousSelectedOption(null),this._assignOptionValue(null),i._animationDone?i._animationDone.pipe(Hn(1)).subscribe(()=>this._onChange(null)):this._onChange(null)),this.closePanel()}_clearPreviousSelectedOption(e,i){this.autocomplete?.options?.forEach(o=>{o!==e&&o.selected&&o.deselect(i)})}_openPanelInternal(e=this._element.nativeElement.value){if(this._attachOverlay(e),this._floatLabel(),this._trackedModal){let i=this.autocomplete.id;Xp(this._trackedModal,"aria-owns",i)}}_attachOverlay(e){this.autocomplete;let i=this._overlayRef;i?(this._positionStrategy.setOrigin(this._getConnectedElement()),i.updateSize({width:this._getPanelWidth()})):(this._portal=new Mc(this.autocomplete.template,this._viewContainerRef,{id:this._formField?.getLabelId()}),i=this._overlay.create(this._getOverlayConfig()),this._overlayRef=i,this._viewportSubscription=this._viewportRuler.change().subscribe(()=>{this.panelOpen&&i&&i.updateSize({width:this._getPanelWidth()})}),this._handsetLandscapeSubscription=this._breakpointObserver.observe(t8.HandsetLandscape).subscribe(r=>{r.matches?this._positionStrategy.withFlexibleDimensions(!0).withGrowAfterOpen(!0).withViewportMargin(8):this._positionStrategy.withFlexibleDimensions(!1).withGrowAfterOpen(!1).withViewportMargin(0)})),i&&!i.hasAttached()&&(i.attach(this._portal),this._valueOnAttach=e,this._valueOnLastKeydown=null,this._closingActionsSubscription=this._subscribeToClosingActions());let o=this.panelOpen;this.autocomplete._isOpen=this._overlayAttached=!0,this.autocomplete._latestOpeningTrigger=this,this.autocomplete._setColor(this._formField?.color),this._updatePanelState(),this._applyModalPanelOwnership(),this.panelOpen&&o!==this.panelOpen&&this._emitOpened()}_handlePanelKeydown=e=>{(e.keyCode===27&&!ao(e)||e.keyCode===38&&ao(e,"altKey"))&&(this._pendingAutoselectedOption&&(this._updateNativeInputValue(this._valueBeforeAutoSelection??""),this._pendingAutoselectedOption=null),this._closeKeyEventStream.next(),this._resetActiveItem(),e.stopPropagation(),e.preventDefault())};_updatePanelState(){if(this.autocomplete._setVisibility(),this.panelOpen){let e=this._overlayRef;this._keydownSubscription||(this._keydownSubscription=e.keydownEvents().subscribe(this._handlePanelKeydown)),this._outsideClickSubscription||(this._outsideClickSubscription=e.outsidePointerEvents().subscribe())}else this._keydownSubscription?.unsubscribe(),this._outsideClickSubscription?.unsubscribe(),this._keydownSubscription=this._outsideClickSubscription=null}_getOverlayConfig(){return new Od({positionStrategy:this._getOverlayPosition(),scrollStrategy:this._scrollStrategy(),width:this._getPanelWidth(),direction:this._dir??void 0,panelClass:this._defaults?.overlayPanelClass})}_getOverlayPosition(){let e=this._overlay.position().flexibleConnectedTo(this._getConnectedElement()).withFlexibleDimensions(!1).withPush(!1);return this._setStrategyPositions(e),this._positionStrategy=e,e}_setStrategyPositions(e){let i=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],o=this._aboveClass,r=[{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:o},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:o}],s;this.position==="above"?s=r:this.position==="below"?s=i:s=[...i,...r],e.withPositions(s)}_getConnectedElement(){return this.connectedTo?this.connectedTo.elementRef:this._formField?this._formField.getConnectedOverlayOrigin():this._element}_getPanelWidth(){return this.autocomplete.panelWidth||this._getHostWidth()}_getHostWidth(){return this._getConnectedElement().nativeElement.getBoundingClientRect().width}_resetActiveItem(){let e=this.autocomplete;if(e.autoActiveFirstOption){let i=-1;for(let o=0;o<e.options.length;o++)if(!e.options.get(o).disabled){i=o;break}e._keyManager.setActiveItem(i)}else e._keyManager.setActiveItem(-1)}_canOpen(){let e=this._element.nativeElement;return!e.readOnly&&!e.disabled&&!this.autocompleteDisabled}_scrollToOption(e){let i=this.autocomplete,o=BC(e,i.options,i.optionGroups);if(e===0&&o===1)i._setScrollTop(0);else if(i.panel){let r=i.options.toArray()[e];if(r){let s=r._getHostElement(),a=HC(s.offsetTop,s.offsetHeight,i._getScrollTop(),i.panel.nativeElement.offsetHeight);i._setScrollTop(a)}}}_trackedModal=null;_applyModalPanelOwnership(){let e=this._element.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!e)return;let i=this.autocomplete.id;this._trackedModal&&Md(this._trackedModal,"aria-owns",i),Xp(e,"aria-owns",i),this._trackedModal=e}_clearFromModal(){if(this._trackedModal){let e=this.autocomplete.id;Md(this._trackedModal,"aria-owns",e),this._trackedModal=null}}static \u0275fac=function(i){return new(i||n)};static \u0275dir=ge({type:n,selectors:[["input","matAutocomplete",""],["textarea","matAutocomplete",""]],hostAttrs:[1,"mat-mdc-autocomplete-trigger"],hostVars:7,hostBindings:function(i,o){i&1&&le("focusin",function(){return o._handleFocus()})("blur",function(){return o._onTouched()})("input",function(s){return o._handleInput(s)})("keydown",function(s){return o._handleKeydown(s)})("click",function(){return o._handleClick()}),i&2&&Re("autocomplete",o.autocompleteAttribute)("role",o.autocompleteDisabled?null:"combobox")("aria-autocomplete",o.autocompleteDisabled?null:"list")("aria-activedescendant",o.panelOpen&&o.activeOption?o.activeOption.id:null)("aria-expanded",o.autocompleteDisabled?null:o.panelOpen.toString())("aria-controls",o.autocompleteDisabled||!o.panelOpen||o.autocomplete==null?null:o.autocomplete.id)("aria-haspopup",o.autocompleteDisabled?null:"listbox")},inputs:{autocomplete:[0,"matAutocomplete","autocomplete"],position:[0,"matAutocompletePosition","position"],connectedTo:[0,"matAutocompleteConnectedTo","connectedTo"],autocompleteAttribute:[0,"autocomplete","autocompleteAttribute"],autocompleteDisabled:[2,"matAutocompleteDisabled","autocompleteDisabled",Ke]},exportAs:["matAutocompleteTrigger"],features:[At([C4e]),Ut,Di]})}return n})();function I4e(n,t){if(n&1&&(x(0,"div",3),X(1,"app-submission-diff-editor",10),w()),n&2){let e=Y();I(),z("first",e.first())("second",e.second())}}function D4e(n,t){n&1&&(x(0,"p"),P(1,"Vyberte dva dokumenty, ktor\xE9 by ste chceli porovna\u0165"),w())}function E4e(n,t){if(n&1&&(x(0,"mat-option",8),P(1),w()),n&2){let e=t.$implicit;z("value",e),I(),M_(" ",e.fileData.submitter," [",e.fileData.filename,"] ")}}function k4e(n,t){if(n&1&&(x(0,"mat-option",8),P(1),w()),n&2){let e=t.$implicit;z("value",e),I(),M_(" ",e.fileData.submitter," [",e.fileData.filename,"] ")}}var ox=class n{constructor(t,e,i){this.changeDetector=t;this.analysisContextService=e;this.route=i;this.analysisContextService=e,ln(()=>{this.firstId()===null||this.secondId()===null||(this.isOldEditor=!0,this.changeDetector.detectChanges(),setTimeout(()=>{this.isOldEditor=!1;let o=this.analysisContextService.getReport()();if(!o)return;let r=o.submissions.get(this.firstId()),s=o.submissions.get(this.secondId());!r||!s||(this.first.set(r),this.second.set(s),this.updateFormControl&&(this.updateFormControl=!1,this.firstDocumentFormControl.setValue(r),this.secondDocumentFormControl.setValue(s)))},500))})}firstId=Ue(null);secondId=Ue(null);first=Ue(null);second=Ue(null);firstDocumentFormControl=new Xv(null);secondDocumentFormControl=new Xv(null);firstFilteredOptions;secondFilteredOptions;submissionOptions=Ri(()=>{let t=this.analysisContextService.getReport()();return t?Array.from(t.submissions.values()):[]});updateFormControl=!1;isOldEditor=!1;ngOnInit(){this.route.paramMap.subscribe(t=>{this.firstId.set(Number.parseInt(t.get("firstId"))),this.secondId.set(Number.parseInt(t.get("secondId"))),this.updateFormControl=!0}),this.firstDocumentFormControl.valueChanges.subscribe(t=>this.firstId.set(t!==null?t.id:null)),this.secondDocumentFormControl.valueChanges.subscribe(t=>this.secondId.set(t!==null?t.id:null)),this.firstFilteredOptions=this.firstDocumentFormControl.valueChanges.pipe(Qi(""),nt(t=>this.filter(t||""))),this.secondFilteredOptions=this.secondDocumentFormControl.valueChanges.pipe(Qi(""),nt(t=>this.filter(t||"")))}filter(t){if(typeof t!="string")return this.submissionOptions();let e=t.toLowerCase();return this.submissionOptions().filter(i=>{let o=i.fileData.submitter.toLowerCase().includes(e),r=i.fileData.filename.toLowerCase().includes(e);return o||r})}displaySubmission(t){return t?`${t?.fileData.submitter} [${t?.fileData.filename}]`:""}static \u0275fac=function(e){return new(e||n)(ie(Yt),ie(Wt),ie(er))};static \u0275cmp=Q({type:n,selectors:[["app-submissions-diff-view-page"]],decls:24,vars:13,consts:[["auto1","matAutocomplete"],["auto2","matAutocomplete"],["title","Rozdiel obsahu","subtitle","",3,"isContentCentered","isTitleCentered"],[1,"editor-container"],[1,"documents-form"],["appearance","outline"],["type","text","placeholder","Pick one","aria-label","Odovzdanie 1","matInput","",3,"formControl","matAutocomplete"],["autoActiveFirstOption","",3,"displayWith"],[3,"value"],["type","text","placeholder","Pick one","aria-label","Odovzdanie 2","matInput","",3,"formControl","matAutocomplete"],[3,"first","second"]],template:function(e,i){if(e&1&&(x(0,"app-content-container")(1,"app-surface",2),te(2,I4e,2,2,"div",3)(3,D4e,2,0,"p"),w(),x(4,"app-floating-toolbar")(5,"form",4)(6,"mat-form-field",5)(7,"mat-label"),P(8,"Odovzdanie 1"),w(),X(9,"input",6),x(10,"mat-autocomplete",7,0),Vr(12,E4e,2,3,"mat-option",8,Os),Li(14,"async"),w()(),x(15,"mat-form-field",5)(16,"mat-label"),P(17,"Odovzdanie 2"),w(),X(18,"input",9),x(19,"mat-autocomplete",7,1),Vr(21,k4e,2,3,"mat-option",8,Os),Li(23,"async"),w()()()()()),e&2){let o=to(11),r=to(20);I(),z("isContentCentered",!1)("isTitleCentered",!0),I(),Ye(i.first()&&i.second()&&!i.isOldEditor?2:3),I(7),z("formControl",i.firstDocumentFormControl)("matAutocomplete",o),I(),z("displayWith",i.displaySubmission),I(2),Wr(Ni(14,9,i.firstFilteredOptions)),I(6),z("formControl",i.secondDocumentFormControl)("matAutocomplete",r),I(),z("displayWith",i.displaySubmission),I(2),Wr(Ni(23,11,i.secondFilteredOptions))}},dependencies:[An,hT,Rn,ea,Vo,Wd,U3,v6,f6,$r,Kr,a6,PO,ece,HW,_r,Ho],styles:["app-submission-diff-editor[_ngcontent-%COMP%]{width:100%;height:100%}.editor-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;height:80vh;gap:1rem}p[_ngcontent-%COMP%]{font:var(--mat-sys-body-medium);color:var(--mat-sys-on-surface);text-align:center;margin:0}mat-form-field[_ngcontent-%COMP%]{min-width:400px}.documents-form[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:32px}"]})};var tce=[{path:"/import".substring(1),component:CS},{path:"/analysis".substring(1),component:Lk,canActivate:[Nk]},{path:"/pairs".substring(1),component:PS,canActivate:[Ss]},{path:`${"/pairs".substring(1)}/:id`,component:vk,canActivate:[Ss]},{path:"/metadata".substring(1),component:yk,canActivate:[Ss]},{path:"/submissions".substring(1),component:xk,canActivate:[Ss]},{path:"/heatmap".substring(1),component:kk,canActivate:[Ss]},{path:`${"/submissions".substring(1)}/:id`,component:Ik,canActivate:[Ss]},{path:"/graph".substring(1),component:cT,canActivate:[Ss]},{path:`${"/clusters".substring(1)}/:id`,component:dT,canActivate:[Ss]},{path:`${"/diff".substring(1)}`,component:ox,canActivate:[Ss]},{path:`${"/diff".substring(1)}/:firstId/:secondId`,component:ox,canActivate:[Ss]},{path:"**",redirectTo:"/import".substring(1)}];var M4e="@",T4e=(()=>{class n{doc;delegate;zone;animationType;moduleImpl;_rendererFactoryPromise=null;scheduler=null;injector=y(Si);loadingSchedulerFn=y(A4e,{optional:!0});_engine;constructor(e,i,o,r,s){this.doc=e,this.delegate=i,this.zone=o,this.animationType=r,this.moduleImpl=s}ngOnDestroy(){this._engine?.flush()}loadImpl(){let e=()=>this.moduleImpl??import("./chunk-DOVU3SJ2.js").then(o=>o),i;return this.loadingSchedulerFn?i=this.loadingSchedulerFn(e):i=e(),i.catch(o=>{throw new Ai(5300,!1)}).then(({\u0275createEngine:o,\u0275AnimationRendererFactory:r})=>{this._engine=o(this.animationType,this.doc);let s=new r(this.delegate,this._engine,this.zone);return this.delegate=s,s})}createRenderer(e,i){let o=this.delegate.createRenderer(e,i);if(o.\u0275type===0)return o;typeof o.throwOnSyntheticProps=="boolean"&&(o.throwOnSyntheticProps=!1);let r=new q3(o);return i?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(s=>{let a=s.createRenderer(e,i);r.use(a),this.scheduler??=this.injector.get(mW,null,{optional:!0}),this.scheduler?.notify(11)}).catch(s=>{r.use(o)}),r}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}componentReplaced(e){this._engine?.flush(),this.delegate.componentReplaced?.(e)}static \u0275fac=function(i){FT()};static \u0275prov=de({token:n,factory:n.\u0275fac})}return n})(),q3=class{delegate;replay=[];\u0275type=1;constructor(t){this.delegate=t}use(t){if(this.delegate=t,this.replay!==null){for(let e of this.replay)e(t);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}get destroyNode(){return this.delegate.destroyNode}appendChild(t,e){this.delegate.appendChild(t,e)}insertBefore(t,e,i,o){this.delegate.insertBefore(t,e,i,o)}removeChild(t,e,i){this.delegate.removeChild(t,e,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,o){this.delegate.setAttribute(t,e,i,o)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,o){this.delegate.setStyle(t,e,i,o)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){this.shouldReplay(e)&&this.replay.push(o=>o.setProperty(t,e,i)),this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i,o){return this.shouldReplay(e)&&this.replay.push(r=>r.listen(t,e,i,o)),this.delegate.listen(t,e,i,o)}shouldReplay(t){return this.replay!==null&&t.startsWith(M4e)}},A4e=new ue("");function G3(n="animations"){return LT("NgAsyncAnimations"),tc([{provide:il,useFactory:(t,e,i)=>new T4e(t,e,i,n),deps:[kt,nC,et]},{provide:Wi,useValue:n==="noop"?"NoopAnimations":"BrowserAnimations"}])}var mT=class n extends ib{constructor(){super(),this.getAndInitTranslations()}getAndInitTranslations(){this.itemsPerPageLabel="Polo\u017Eiek na str\xE1nku:",this.nextPageLabel="\u010Eal\u0161ia str\xE1nka",this.previousPageLabel="Predch\xE1dzaj\xFAca str\xE1nka",this.firstPageLabel="Prv\xE1 str\xE1nka",this.lastPageLabel="Posledn\xE1 str\xE1nka",this.changes.next()}getRangeLabel=(t,e,i)=>{if(i===0||e===0)return`0 / ${i}`;i=Math.max(i,0);let o=t*e,r=o<i?Math.min(o+e,i):o+e;return`${o+1} - ${r} / ${i}`};static \u0275fac=function(e){return new(e||n)};static \u0275prov=de({token:n,factory:n.\u0275fac})};var pT=class{storedRouteHandles=new Map;allowRetrieveCache=new Map([["graph",!0],["pairs",!0]]);getBasePath(t){return t.split("/").pop()}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}retrieve(t){let e=t.routeConfig?.path;if(e&&this.allowRetrieveCache.get(this.getBasePath(e))){let i=this.storedRouteHandles.get(e);return i||null}return null}shouldAttach(t){let e=t.routeConfig?.path;return e&&this.allowRetrieveCache.get(this.getBasePath(e))?this.storedRouteHandles.has(e):!1}shouldDetach(t){let e=t.routeConfig?.path;if(e){let i=this.getBasePath(e);if(i==="/import".substring(1))return this.storedRouteHandles.clear(),!1;if(i){let o=this.allowRetrieveCache.get(i);return o!=null&&o}}return!1}store(t,e){let i=t.routeConfig?.path;i&&this.allowRetrieveCache.get(this.getBasePath(i))&&this.storedRouteHandles.set(i,e)}};var ice={providers:[NW({eventCoalescing:!0}),Yq(tce),G3(),eq(tq()),{provide:ib,useClass:mT},{provide:qR,useClass:pT},oG(),G3()]};var v_=class n{constructor(t,e){this.iconRegistry=t;this.domSanitizer=e}static DEFAULT_ICONS=["file-document-multiple-outline","rename-box-outline","file-search-outline","compare-horizontal","ballot-outline","book-multiple-outline","file-document-outline","list","badge-account-horizontal-outline","apache-kafka","email-outline","frequently-asked-questions","import","upload-outline","file-document-check-outline"];registerIcons(t){for(let e of t)this.iconRegistry.addSvgIcon(e,this.domSanitizer.bypassSecurityTrustResourceUrl(`./assets/${e}.svg`))}static \u0275fac=function(e){return new(e||n)(ct(NO),ct(bh))};static \u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"})};var _T=["*"],O4e=["content"],P4e=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],L4e=["mat-drawer","mat-drawer-content","*"];function N4e(n,t){if(n&1){let e=Nt();x(0,"div",1),le("click",function(){Ze(e);let o=Y();return Qe(o._onBackdropClicked())}),w()}if(n&2){let e=Y();ke("mat-drawer-shown",e._isShowingBackdrop())}}function F4e(n,t){n&1&&(x(0,"mat-drawer-content"),Fe(1,2),w())}var z4e=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],B4e=["mat-sidenav","mat-sidenav-content","*"];function H4e(n,t){if(n&1){let e=Nt();x(0,"div",1),le("click",function(){Ze(e);let o=Y();return Qe(o._onBackdropClicked())}),w()}if(n&2){let e=Y();ke("mat-drawer-shown",e._isShowingBackdrop())}}function V4e(n,t){n&1&&(x(0,"mat-sidenav-content"),Fe(1,2),w())}var W4e=".mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color, var(--mat-sys-on-background));background-color:var(--mat-sidenav-content-background-color, var(--mat-sys-background));box-sizing:border-box;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color, color-mix(in srgb, var(--mat-sys-neutral-variant20) 40%, transparent))}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}@media(forced-colors: active){.mat-drawer-backdrop{opacity:.5}}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-content.mat-drawer-content-hidden{opacity:0}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;color:var(--mat-sidenav-container-text-color, var(--mat-sys-on-surface-variant));box-shadow:var(--mat-sidenav-container-elevation-shadow, none);background-color:var(--mat-sidenav-container-background-color, var(--mat-sys-surface));border-top-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));width:var(--mat-sidenav-container-width, 360px);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}@media(forced-colors: active){.mat-drawer,[dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}}@media(forced-colors: active){[dir=rtl] .mat-drawer,.mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer-transition .mat-drawer{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-drawer:not(.mat-drawer-opened):not(.mat-drawer-animating){visibility:hidden;box-shadow:none}.mat-drawer:not(.mat-drawer-opened):not(.mat-drawer-animating) .mat-drawer-inner-container{display:none}.mat-drawer.mat-drawer-opened{transform:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color, transparent);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color, transparent);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color, transparent);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color, transparent);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto}.mat-sidenav-fixed{position:fixed}";var j4e=new ue("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:U4e}),Y3=new ue("MAT_DRAWER_CONTAINER");function U4e(){return!1}var fT=(()=>{class n extends kc{_platform=y(Zt);_changeDetectorRef=y(Yt);_container=y(K3);constructor(){let e=y(He),i=y(Ad),o=y(et);super(e,i,o)}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}_shouldBeHidden(){if(this._platform.isBrowser)return!1;let{start:e,end:i}=this._container;return e!=null&&e.mode!=="over"&&e.opened||i!=null&&i.mode!=="over"&&i.opened}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Q({type:n,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:6,hostBindings:function(i,o){i&2&&(po("margin-left",o._container._contentMargins.left,"px")("margin-right",o._container._contentMargins.right,"px"),ke("mat-drawer-content-hidden",o._shouldBeHidden()))},features:[At([{provide:kc,useExisting:n}]),dt],ngContentSelectors:_T,decls:1,vars:0,template:function(i,o){i&1&&(wt(),Fe(0))},encapsulation:2,changeDetection:0})}return n})(),$3=(()=>{class n{_elementRef=y(He);_focusTrapFactory=y(NC);_focusMonitor=y(Us);_platform=y(Zt);_ngZone=y(et);_renderer=y(on);_interactivityChecker=y(Rv);_doc=y(kt,{optional:!0});_container=y(Y3,{optional:!0});_focusTrap=null;_elementFocusedBeforeDrawerWasOpened=null;_eventCleanups;_isAttached;_anchor;get position(){return this._position}set position(e){e=e==="end"?"end":"start",e!==this._position&&(this._isAttached&&this._updatePositionInParent(e),this._position=e,this.onPositionChanged.emit())}_position="start";get mode(){return this._mode}set mode(e){this._mode=e,this._updateFocusTrapState(),this._modeChanged.next()}_mode="over";get disableClose(){return this._disableClose}set disableClose(e){this._disableClose=yn(e)}_disableClose=!1;get autoFocus(){let e=this._autoFocus;return e??(this.mode==="side"?"dialog":"first-tabbable")}set autoFocus(e){(e==="true"||e==="false"||e==null)&&(e=yn(e)),this._autoFocus=e}_autoFocus;get opened(){return this._opened}set opened(e){this.toggle(yn(e))}_opened=!1;_openedVia;_animationStarted=new Ee;_animationEnd=new Ee;openedChange=new Le(!0);_openedStream=this.openedChange.pipe(ri(e=>e),nt(()=>{}));openedStart=this._animationStarted.pipe(ri(()=>this.opened),TT(void 0));_closedStream=this.openedChange.pipe(ri(e=>!e),nt(()=>{}));closedStart=this._animationStarted.pipe(ri(()=>!this.opened),TT(void 0));_destroyed=new Ee;onPositionChanged=new Le;_content;_modeChanged=new Ee;_injector=y(Si);_changeDetectorRef=y(Yt);constructor(){this.openedChange.pipe(vt(this._destroyed)).subscribe(e=>{e?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{let e=this._elementRef.nativeElement;Gu(e,"keydown").pipe(ri(i=>i.keyCode===27&&!this.disableClose&&!ao(i)),vt(this._destroyed)).subscribe(i=>this._ngZone.run(()=>{this.close(),i.stopPropagation(),i.preventDefault()})),this._eventCleanups=[this._renderer.listen(e,"transitionrun",this._handleTransitionEvent),this._renderer.listen(e,"transitionend",this._handleTransitionEvent),this._renderer.listen(e,"transitioncancel",this._handleTransitionEvent)]}),this._animationEnd.subscribe(()=>{this.openedChange.emit(this._opened)})}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let o=()=>{r(),s(),e.removeAttribute("tabindex")},r=this._renderer.listen(e,"blur",o),s=this._renderer.listen(e,"mousedown",o)})),e.focus(i)}_focusByCssSelector(e,i){let o=this._elementRef.nativeElement.querySelector(e);o&&this._forceFocus(o,i)}_takeFocus(){if(!this._focusTrap)return;let e=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":So(()=>{!this._focusTrap.focusInitialElement()&&typeof e.focus=="function"&&e.focus()},{injector:this._injector});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus);break}}_restoreFocus(e){this.autoFocus!=="dialog"&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,e):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){let e=this._doc.activeElement;return!!e&&this._elementRef.nativeElement.contains(e)}ngAfterViewInit(){this._isAttached=!0,this._position==="end"&&this._updatePositionInParent("end"),this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState())}ngOnDestroy(){this._eventCleanups.forEach(e=>e()),this._focusTrap?.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(e){return this.toggle(!0,e)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(e=!this.opened,i){e&&i&&(this._openedVia=i);let o=this._setOpen(e,!e&&this._isFocusWithinDrawer(),this._openedVia||"program");return e||(this._openedVia=null),o}_setOpen(e,i,o){return e===this._opened?Promise.resolve(e?"open":"close"):(this._opened=e,this._container?._transitionsEnabled?this._setIsAnimating(!0):setTimeout(()=>{this._animationStarted.next(),this._animationEnd.next()}),this._elementRef.nativeElement.classList.toggle("mat-drawer-opened",e),!e&&i&&this._restoreFocus(o),this._changeDetectorRef.markForCheck(),this._updateFocusTrapState(),new Promise(r=>{this.openedChange.pipe(Hn(1)).subscribe(s=>r(s?"open":"close"))}))}_setIsAnimating(e){this._elementRef.nativeElement.classList.toggle("mat-drawer-animating",e)}_getWidth(){return this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=!!this._container?.hasBackdrop&&this.opened)}_updatePositionInParent(e){if(!this._platform.isBrowser)return;let i=this._elementRef.nativeElement,o=i.parentNode;e==="end"?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),o.insertBefore(this._anchor,i)),o.appendChild(i)):this._anchor&&this._anchor.parentNode.insertBefore(i,this._anchor)}_handleTransitionEvent=e=>{let i=this._elementRef.nativeElement;e.target===i&&this._ngZone.run(()=>{e.type==="transitionrun"?this._animationStarted.next(e):(e.type==="transitionend"&&this._setIsAnimating(!1),this._animationEnd.next(e))})};static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Q({type:n,selectors:[["mat-drawer"]],viewQuery:function(i,o){if(i&1&&rt(O4e,5),i&2){let r;me(r=pe())&&(o._content=r.first)}},hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:11,hostBindings:function(i,o){i&2&&(Re("align",null),po("visibility",!o._container&&!o.opened?"hidden":null),ke("mat-drawer-end",o.position==="end")("mat-drawer-over",o.mode==="over")("mat-drawer-push",o.mode==="push")("mat-drawer-side",o.mode==="side"))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:_T,decls:3,vars:0,consts:[["content",""],["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(i,o){i&1&&(wt(),x(0,"div",1,0),Fe(2),w())},dependencies:[kc],encapsulation:2,changeDetection:0})}return n})(),K3=(()=>{class n{_dir=y(mn,{optional:!0});_element=y(He);_ngZone=y(et);_changeDetectorRef=y(Yt);_animationMode=y(Wi,{optional:!0});_transitionsEnabled=!1;_allDrawers;_drawers=new Xu;_content;_userContent;get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(e){this._autosize=yn(e)}_autosize=y(j4e);get hasBackdrop(){return this._drawerHasBackdrop(this._start)||this._drawerHasBackdrop(this._end)}set hasBackdrop(e){this._backdropOverride=e==null?null:yn(e)}_backdropOverride;backdropClick=new Le;_start;_end;_left;_right;_destroyed=new Ee;_doCheckSubject=new Ee;_contentMargins={left:null,right:null};_contentMarginChanges=new Ee;get scrollable(){return this._userContent||this._content}_injector=y(Si);constructor(){let e=y(Zt),i=y($s);this._dir?.change.pipe(vt(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),i.change().pipe(vt(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._animationMode!=="NoopAnimations"&&e.isBrowser&&this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{this._element.nativeElement.classList.add("mat-drawer-transition"),this._transitionsEnabled=!0},200)})}ngAfterContentInit(){this._allDrawers.changes.pipe(Qi(this._allDrawers),vt(this._destroyed)).subscribe(e=>{this._drawers.reset(e.filter(i=>!i._container||i._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(Qi(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(e=>{this._watchDrawerToggle(e),this._watchDrawerPosition(e),this._watchDrawerMode(e)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(el(10),vt(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(e=>e.open())}close(){this._drawers.forEach(e=>e.close())}updateContentMargins(){let e=0,i=0;if(this._left&&this._left.opened){if(this._left.mode=="side")e+=this._left._getWidth();else if(this._left.mode=="push"){let o=this._left._getWidth();e+=o,i-=o}}if(this._right&&this._right.opened){if(this._right.mode=="side")i+=this._right._getWidth();else if(this._right.mode=="push"){let o=this._right._getWidth();i+=o,e-=o}}e=e||null,i=i||null,(e!==this._contentMargins.left||i!==this._contentMargins.right)&&(this._contentMargins={left:e,right:i},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(e){e._animationStarted.pipe(vt(this._drawers.changes)).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),e.mode!=="side"&&e.openedChange.pipe(vt(this._drawers.changes)).subscribe(()=>this._setContainerClass(e.opened))}_watchDrawerPosition(e){e.onPositionChanged.pipe(vt(this._drawers.changes)).subscribe(()=>{So({read:()=>this._validateDrawers()},{injector:this._injector})})}_watchDrawerMode(e){e._modeChanged.pipe(vt(tn(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(e){let i=this._element.nativeElement.classList,o="mat-drawer-container-has-open";e?i.add(o):i.remove(o)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(e=>{e.position=="end"?(this._end!=null,this._end=e):(this._start!=null,this._start=e)}),this._right=this._left=null,this._dir&&this._dir.value==="rtl"?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&this._start.mode!="over"||this._isDrawerOpen(this._end)&&this._end.mode!="over"}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(e=>e&&!e.disableClose&&this._drawerHasBackdrop(e)).forEach(e=>e._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._drawerHasBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._drawerHasBackdrop(this._end)}_isDrawerOpen(e){return e!=null&&e.opened}_drawerHasBackdrop(e){return this._backdropOverride==null?!!e&&e.mode!=="side":this._backdropOverride}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Q({type:n,selectors:[["mat-drawer-container"]],contentQueries:function(i,o,r){if(i&1&&(bt(r,fT,5),bt(r,$3,5)),i&2){let s;me(s=pe())&&(o._content=s.first),me(s=pe())&&(o._allDrawers=s)}},viewQuery:function(i,o){if(i&1&&rt(fT,5),i&2){let r;me(r=pe())&&(o._userContent=r.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(i,o){i&2&&ke("mat-drawer-container-explicit-backdrop",o._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[At([{provide:Y3,useExisting:n}])],ngContentSelectors:L4e,decls:4,vars:2,consts:[[1,"mat-drawer-backdrop",3,"mat-drawer-shown"],[1,"mat-drawer-backdrop",3,"click"]],template:function(i,o){i&1&&(wt(P4e),te(0,N4e,1,2,"div",0),Fe(1),Fe(2,1),te(3,F4e,2,0,"mat-drawer-content")),i&2&&(Ye(o.hasBackdrop?0:-1),I(3),Ye(o._content?-1:3))},dependencies:[fT],styles:[".mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color, var(--mat-sys-on-background));background-color:var(--mat-sidenav-content-background-color, var(--mat-sys-background));box-sizing:border-box;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color, color-mix(in srgb, var(--mat-sys-neutral-variant20) 40%, transparent))}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}@media(forced-colors: active){.mat-drawer-backdrop{opacity:.5}}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-content.mat-drawer-content-hidden{opacity:0}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;color:var(--mat-sidenav-container-text-color, var(--mat-sys-on-surface-variant));box-shadow:var(--mat-sidenav-container-elevation-shadow, none);background-color:var(--mat-sidenav-container-background-color, var(--mat-sys-surface));border-top-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));width:var(--mat-sidenav-container-width, 360px);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}@media(forced-colors: active){.mat-drawer,[dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}}@media(forced-colors: active){[dir=rtl] .mat-drawer,.mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer-transition .mat-drawer{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-drawer:not(.mat-drawer-opened):not(.mat-drawer-animating){visibility:hidden;box-shadow:none}.mat-drawer:not(.mat-drawer-opened):not(.mat-drawer-animating) .mat-drawer-inner-container{display:none}.mat-drawer.mat-drawer-opened{transform:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color, transparent);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color, transparent);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color, transparent);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color, transparent);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto}.mat-sidenav-fixed{position:fixed}"],encapsulation:2,changeDetection:0})}return n})(),gT=(()=>{class n extends fT{static \u0275fac=(()=>{let e;return function(o){return(e||(e=ti(n)))(o||n)}})();static \u0275cmp=Q({type:n,selectors:[["mat-sidenav-content"]],hostAttrs:[1,"mat-drawer-content","mat-sidenav-content"],features:[At([{provide:kc,useExisting:n}]),dt],ngContentSelectors:_T,decls:1,vars:0,template:function(i,o){i&1&&(wt(),Fe(0))},encapsulation:2,changeDetection:0})}return n})(),X3=(()=>{class n extends $3{get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(e){this._fixedInViewport=yn(e)}_fixedInViewport=!1;get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(e){this._fixedTopGap=Mo(e)}_fixedTopGap=0;get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(e){this._fixedBottomGap=Mo(e)}_fixedBottomGap=0;static \u0275fac=(()=>{let e;return function(o){return(e||(e=ti(n)))(o||n)}})();static \u0275cmp=Q({type:n,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1",1,"mat-drawer","mat-sidenav"],hostVars:15,hostBindings:function(i,o){i&2&&(Re("align",null),po("top",o.fixedInViewport?o.fixedTopGap:null,"px")("bottom",o.fixedInViewport?o.fixedBottomGap:null,"px"),ke("mat-drawer-end",o.position==="end")("mat-drawer-over",o.mode==="over")("mat-drawer-push",o.mode==="push")("mat-drawer-side",o.mode==="side")("mat-sidenav-fixed",o.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[At([{provide:$3,useExisting:n}]),dt],ngContentSelectors:_T,decls:3,vars:0,consts:[["content",""],["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(i,o){i&1&&(wt(),x(0,"div",1,0),Fe(2),w())},dependencies:[kc],encapsulation:2,changeDetection:0})}return n})(),nce=(()=>{class n extends K3{_allDrawers=void 0;_content=void 0;static \u0275fac=(()=>{let e;return function(o){return(e||(e=ti(n)))(o||n)}})();static \u0275cmp=Q({type:n,selectors:[["mat-sidenav-container"]],contentQueries:function(i,o,r){if(i&1&&(bt(r,gT,5),bt(r,X3,5)),i&2){let s;me(s=pe())&&(o._content=s.first),me(s=pe())&&(o._allDrawers=s)}},hostAttrs:[1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(i,o){i&2&&ke("mat-drawer-container-explicit-backdrop",o._backdropOverride)},exportAs:["matSidenavContainer"],features:[At([{provide:Y3,useExisting:n},{provide:K3,useExisting:n}]),dt],ngContentSelectors:B4e,decls:4,vars:2,consts:[[1,"mat-drawer-backdrop",3,"mat-drawer-shown"],[1,"mat-drawer-backdrop",3,"click"]],template:function(i,o){i&1&&(wt(z4e),te(0,H4e,1,2,"div",0),Fe(1),Fe(2,1),te(3,V4e,2,0,"mat-sidenav-content")),i&2&&(Ye(o.hasBackdrop?0:-1),I(3),Ye(o._content?-1:3))},dependencies:[gT],styles:[W4e],encapsulation:2,changeDetection:0})}return n})();var q4e=()=>({enterDuration:200,exitDuration:200}),G4e=()=>["nav-item-active"],$4e=()=>({exact:!0});function K4e(n,t){if(n&1&&X(0,"mat-icon",2),n&2){let e,i=Y();z("svgIcon",(e=i.navItem.iconPath)!==null&&e!==void 0?e:""),Re("aria-labelledby",i.isFullWidth()?i.fullWidthNameId(i.navItem):null)("aria-label",i.isFullWidth()?null:i.navItem.fullWidthName)}}function Y4e(n,t){if(n&1&&(x(0,"mat-icon"),P(1),w()),n&2){let e=Y();I(),be(e.navItem.iconPath)}}function X4e(n,t){if(n&1&&(x(0,"div",3),P(1),w()),n&2){let e=Y();I(),ni(" ",e.navItem.fullWidthName," ")}}function Z4e(n,t){if(n&1&&(x(0,"div",3),P(1),w()),n&2){let e=Y();I(),ni(" ",e.navItem.fullWidthName," ")}}var vT=class n{constructor(t){this.navigationService=t}isActivated=!1;isFullWidth=Ue(!0);navItem={};isActive=Ri(()=>this.navItem.route===this.navigationService.getActive()());fullWidthNameId(t){return`full-width-name-${t.fullWidthName}`}static \u0275fac=function(e){return new(e||n)(ie(Xs))};static \u0275cmp=Q({type:n,selectors:[["app-nav-item-view"]],inputs:{isActivated:"isActivated",isFullWidth:"isFullWidth",navItem:"navItem",isActive:"isActive"},decls:6,vars:14,consts:[["mat-list-item","","matRipple","",1,"nav-item",3,"matRippleCentered","matRippleRadius","matRippleAnimation","routerLink","routerLinkActive","routerLinkActiveOptions"],[1,"state-container"],[3,"svgIcon"],[1,"label","center"]],template:function(e,i){e&1&&(x(0,"div",0)(1,"div",1),te(2,K4e,1,3,"mat-icon",2)(3,Y4e,2,1,"mat-icon")(4,X4e,2,1,"div",3),w(),te(5,Z4e,2,1,"div",3),w()),e&2&&(ke("nav-item-expanded",i.isFullWidth()),z("matRippleCentered",!0)("matRippleRadius",50)("matRippleAnimation",Ps(11,q4e))("routerLink",i.navItem.route)("routerLinkActive",Ps(12,G4e))("routerLinkActiveOptions",Ps(13,$4e)),I(2),Ye(i.navItem.isIconSvg?2:3),I(2),Ye(i.isFullWidth()?4:-1),I(),Ye(i.isFullWidth()?-1:5))},dependencies:[Tn,xC,Jp,Kq],styles:[".nav-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;cursor:pointer;-webkit-user-select:none;user-select:none;box-sizing:border-box;padding:5px 0;gap:4px}.nav-item[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font:var(--mat-sys-label-medium-pixel);color:var(--mat-sys-on-surface-variant);margin:0}.nav-item[_ngcontent-%COMP%]   .state-container[_ngcontent-%COMP%]{display:flex;max-width:fit-content;padding:4px 16px;border-radius:100px;justify-content:center;align-items:center;transition:background-color .3s linear}.nav-item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{cursor:pointer;color:var(--mat-sys-on-surface-variant)}.nav-item-active[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font:var(--mat-sys-label-medium-pixel);color:var(--mat-sys-on-surface);margin:0}.nav-item-active[_ngcontent-%COMP%]   .state-container[_ngcontent-%COMP%]{background-color:var(--mat-sys-secondary-container);transition:background-color .3s linear}.nav-item-active[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:var(--mat-sys-on-surface);transition:color 1s}.center[_ngcontent-%COMP%]{text-align:center;line-height:1}.nav-item-expanded[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:left;gap:1rem}.nav-item-expanded[_ngcontent-%COMP%]   .state-container[_ngcontent-%COMP%]{width:100%;max-width:100%;justify-content:start;padding:16px;gap:8px}.nav-item-expanded[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font:var(--mat-sys-label-large)}"]})};var Q4e=()=>({});function J4e(n,t){if(n&1&&X(0,"app-nav-item-view",2)(1,"mat-divider"),n&2){let e,i=Y();z("navItem",(e=i.homeNavItem)!==null&&e!==void 0?e:Ps(2,Q4e))("isFullWidth",i.isFullWidth)}}function e5e(n,t){if(n&1&&X(0,"app-nav-item-view",3),n&2){let e=Y().$implicit,i=Y();z("navItem",e)("isActivated",e.fullWidthName===(i.activatedNavItem==null?null:i.activatedNavItem.fullWidthName))("isFullWidth",i.isFullWidth)}}function t5e(n,t){if(n&1&&te(0,e5e,1,3,"app-nav-item-view",3),n&2){let e=t.$implicit;Ye(e.isFullWidthOnly?-1:0)}}function i5e(n,t){if(n&1&&X(0,"app-nav-item-view",4),n&2){let e=Y().$implicit;z("navItem",e)("isActivated",!1)}}function n5e(n,t){if(n&1&&te(0,i5e,1,2,"app-nav-item-view",4),n&2){let e=t.$implicit;Ye(e.isFullWidthOnly?0:-1)}}function o5e(n,t){if(n&1&&(x(0,"mat-nav-list"),Vr(1,n5e,1,1,null,null,Os),w()),n&2){let e=Y();I(),Wr(e.navItems)}}var bT=class n{constructor(t,e){this.router=t;this.navigationService=e}isFullWidth=Ue(!1);displayHomeNav=!1;navItems=[];activatedNavItem=void 0;homeNavItem=void 0;ngOnInit(){this.router.events.pipe(ri(t=>t instanceof vs)).subscribe(()=>{this.navItems=this.navigationService.getRoutes(),this.homeNavItem=this.navigationService.getHome(),this.displayHomeNav=!this.navItems.some(t=>t.route===this.homeNavItem?.route),this.navigationService.updateActive()})}static \u0275fac=function(e){return new(e||n)(ie(xi),ie(Xs))};static \u0275cmp=Q({type:n,selectors:[["app-nav-list"]],inputs:{isFullWidth:"isFullWidth",displayHomeNav:"displayHomeNav"},decls:6,vars:4,consts:[[1,"nav-group"],["aria-label","Navigation sidebar"],[3,"navItem","isFullWidth"],[3,"navItem","isActivated","isFullWidth"],[3,"navItem","isActivated"]],template:function(e,i){e&1&&(x(0,"div",0)(1,"mat-nav-list",1),te(2,J4e,2,3),Vr(3,t5e,1,1,null,null,Os),w(),te(5,o5e,3,0,"mat-nav-list"),w()),e&2&&(ke("centered-nav-list",!i.isFullWidth()),I(2),Ye(i.isFullWidth()&&i.displayHomeNav?2:-1),I(),Wr(i.navItems),I(2),Ye(i.isFullWidth()?5:-1))},dependencies:[w6,vT,Nd],styles:[".nav-group[_ngcontent-%COMP%]{display:flex;height:100%;flex-direction:column;justify-content:space-between}mat-nav-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}mat-divider[_ngcontent-%COMP%]{opacity:.5}.centered-nav-list[_ngcontent-%COMP%]{justify-content:center}"]})};var r5e=["*",[["mat-toolbar-row"]]],s5e=["*","mat-toolbar-row"],a5e=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275dir=ge({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]})}return n})(),oce=(()=>{class n{_elementRef=y(He);_platform=y(Zt);_document=y(kt);color;_toolbarRows;constructor(){}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){this._toolbarRows.length}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Q({type:n,selectors:[["mat-toolbar"]],contentQueries:function(i,o,r){if(i&1&&bt(r,a5e,5),i&2){let s;me(s=pe())&&(o._toolbarRows=s)}},hostAttrs:[1,"mat-toolbar"],hostVars:6,hostBindings:function(i,o){i&2&&(Lo(o.color?"mat-"+o.color:""),ke("mat-toolbar-multiple-rows",o._toolbarRows.length>0)("mat-toolbar-single-row",o._toolbarRows.length===0))},inputs:{color:"color"},exportAs:["matToolbar"],ngContentSelectors:s5e,decls:2,vars:0,template:function(i,o){i&1&&(wt(r5e),Fe(0),Fe(1,1))},styles:[".mat-toolbar{background:var(--mat-toolbar-container-background-color, var(--mat-sys-surface));color:var(--mat-toolbar-container-text-color, var(--mat-sys-on-surface))}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font, var(--mat-sys-title-large-font));font-size:var(--mat-toolbar-title-text-size, var(--mat-sys-title-large-size));line-height:var(--mat-toolbar-title-text-line-height, var(--mat-sys-title-large-line-height));font-weight:var(--mat-toolbar-title-text-weight, var(--mat-sys-title-large-weight));letter-spacing:var(--mat-toolbar-title-text-tracking, var(--mat-sys-title-large-tracking));margin:0}@media(forced-colors: active){.mat-toolbar{outline:solid 1px}}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color:var(--mat-toolbar-container-text-color, var(--mat-sys-on-surface));--mdc-outlined-button-label-text-color:var(--mat-toolbar-container-text-color, var(--mat-sys-on-surface))}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height, 64px)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height, 56px)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height, 64px)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height, 56px)}}"],encapsulation:2,changeDetection:0})}return n})();function l5e(n,t){if(n&1){let e=Nt();x(0,"button",2),le("click",function(){Ze(e);let o=Y();return Qe(o.onMenuToggle())}),x(1,"mat-icon"),P(2,"menu"),w()()}}function c5e(n,t){n&1&&X(0,"span")}var yT=class n{title="Plagdet";isToggleButtonVisible=!0;menuToggle=new Le;onMenuToggle(){this.menuToggle.emit()}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=Q({type:n,selectors:[["app-header"]],inputs:{title:"title",isToggleButtonVisible:"isToggleButtonVisible"},outputs:{menuToggle:"menuToggle"},decls:6,vars:2,consts:[[1,"app-bar"],["mat-icon-button","","aria-label","Menu icon"],["mat-icon-button","","aria-label","Menu icon",3,"click"]],template:function(e,i){e&1&&(x(0,"mat-toolbar",0),te(1,l5e,3,0,"button",1)(2,c5e,1,0,"span"),x(3,"h1"),P(4),w(),X(5,"span"),w()),e&2&&(I(),Ye(i.isToggleButtonVisible?1:2),I(3),be(i.title))},dependencies:[oce,Tn,Gs],styles:[".app-bar[_ngcontent-%COMP%]{position:fixed;z-index:2;height:64px;display:flex;flex-direction:row;justify-content:space-between;background-color:var(--mat-sys-surface-container)}"]})};var xT=class n{constructor(t,e){this.navigationService=t;this.router=e;this.router.events.pipe(ri(i=>i instanceof vs)).subscribe(()=>{this.isSidenavOpen.set(!1)})}isSidenavOpen=Ue(!1);toggleSideNav(){this.isSidenavOpen.update(t=>!t)}showNavigation(){return!this.navigationService.getNavigationLock()()}static \u0275fac=function(e){return new(e||n)(ie(Xs),ie(xi))};static \u0275cmp=Q({type:n,selectors:[["app-layout"]],decls:8,vars:9,consts:[[1,"app-layout"],[3,"menuToggle","isToggleButtonVisible"],["autosize","true"],["mode","side",1,"sidenav-colored",3,"disableClose","opened"],[3,"hidden","isFullWidth"]],template:function(e,i){e&1&&(x(0,"div",0)(1,"app-header",1),le("menuToggle",function(){return i.toggleSideNav()}),w(),x(2,"main")(3,"mat-sidenav-container",2)(4,"mat-sidenav",3),X(5,"app-nav-list",4),w(),x(6,"mat-sidenav-content"),X(7,"router-outlet"),w()()()()),e&2&&(I(),z("isToggleButtonVisible",i.navigationService.rawRoutes().length!==0),I(3),ke("rail",!i.isSidenavOpen())("expanded",i.isSidenavOpen()),z("disableClose",!0)("opened",!0),I(),z("hidden",!i.showNavigation())("isFullWidth",i.isSidenavOpen))},dependencies:[nce,gT,bT,X3,BR,yT],styles:[".app-layout[_ngcontent-%COMP%]{display:flex;height:100vh;width:100vw;flex-direction:column}main[_ngcontent-%COMP%]{height:100%}mat-sidenav-container[_ngcontent-%COMP%]{height:100%}.sidenav-colored[_ngcontent-%COMP%]{position:fixed;height:100%;padding:64px .25rem .25rem;border-radius:0;background-color:var(--mat-sys-surface-container)}.rail[_ngcontent-%COMP%]{width:80px}.expanded[_ngcontent-%COMP%]{width:320px}"]})};var wT=class n{constructor(t){this.iconsRegistrationService=t}ngOnInit(){this.iconsRegistrationService.registerIcons(v_.DEFAULT_ICONS)}static \u0275fac=function(e){return new(e||n)(ie(v_))};static \u0275cmp=Q({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(e,i){e&1&&X(0,"app-layout")},dependencies:[xT],encapsulation:2})};uq(wT,ice).catch(n=>console.error(n));
