<app-content-container>
  <!--  <app-surface>-->
  <!--    <div style="display: flex; flex-direction: column; align-items: center">-->
  <!--      <button mat-icon-button (click)="this.updatePosition(0, 1)">-->
  <!--        <mat-icon>arrow_upward</mat-icon>-->
  <!--      </button>-->
  <!--      <div-->
  <!--        style="gap: 32px; display: flex; flex-direction: row; justify-content: space-between; align-items: center">-->
  <!--        <button mat-icon-button (click)="this.updatePosition(-1, 0)">-->
  <!--          <mat-icon>arrow_back</mat-icon>-->
  <!--        </button>-->
  <!--        <button mat-icon-button (click)="this.updatePosition(1, 0)">-->
  <!--          <mat-icon>arrow_forward</mat-icon>-->
  <!--        </button>-->
  <!--      </div>-->
  <!--      <button mat-icon-button (click)="this.updatePosition(0, -1)">-->
  <!--        <mat-icon>arrow_downward</mat-icon>-->
  <!--      </button>-->
  <!--    </div>-->
  <!--  </app-surface>-->
  <app-surface title="Teplotná mapa podobnosti"
               subtitle=""
               [isTitleCentered]="true"
               [isContentCentered]="true">
    <p *ngIf="!this.similarityHeatmapService.hasDataToDisplay()">Počet porovnaní s týmto typom
      hodnotenia je príliš malý na zobrazenie.</p>

    <div class="container-vertical" *ngIf="this.similarityHeatmapService.hasDataToDisplay()">

      <div class="horizontal-slider-wrapper">
        <mat-slider
          [min]="0"
          [max]="this.similarityHeatmapService.getMaxPosition()"
          [step]="1"
          [discrete]="false"
          [showTickMarks]="true"
          class="horizontal-slider"
        >
          <input matSliderThumb (change)="this.updateSeries()" [(ngModel)]="this.x" #slider>
        </mat-slider>

      </div>
      <div class="container-horizontal">
        <apx-chart class="chart"
                   [series]="chartOptions.series!"
                   [chart]="chartOptions.chart!"
                   [dataLabels]="chartOptions.dataLabels!"
                   [plotOptions]="chartOptions.plotOptions!"
                   [title]="chartOptions.title!"
        ></apx-chart>
        <div class="vertical-slider-wrapper">
          <mat-slider
            [min]="0"
            [max]="this.similarityHeatmapService.getMaxPosition()"
            [step]="1"
            [discrete]="false"
            [showTickMarks]="true"
            class="vertical-slider">
            <input matSliderThumb (change)="this.updateSeries()" [(ngModel)]="this.y" #slider>
          </mat-slider>
        </div>
      </div>

    </div>

  </app-surface>

  <app-floating-toolbar>
    <mat-form-field appearance="outline">
      <mat-label>Mieru podobnosti</mat-label>
      <mat-select #select [value]="this.similarityHeatmapService.getDisplayScoreType()"
                  (selectionChange)="this.changeScoreType(select.value)">
        <mat-option value="META">
          Podobnosť autorov (metaúdaje)
        </mat-option>
        <mat-option value="JACCARD">
          Jaccardov koeficient (bi-gramy)
        </mat-option>
        <mat-option value="SEMANTIC">
          Semantická podobnosť
        </mat-option>
      </mat-select>
    </mat-form-field>

    <button mat-raised-button
            (click)="this.export()"
            style="max-width: 250px;">
      <mat-icon>download</mat-icon>
      <p>
        Stiahnuť ako csv
      </p>
    </button>
  </app-floating-toolbar>
</app-content-container>
