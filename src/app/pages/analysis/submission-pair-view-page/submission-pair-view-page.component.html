<app-content-container *ngIf="this.submissionPair() === null">
  <app-surface title="Načitanie odovzdania">
    <mat-progress-bar mode="indeterminate"></mat-progress-bar>
  </app-surface>
</app-content-container>

<app-content-container *ngIf="this.submissionPair() !== null">
  <app-surface title="Vysledky"
               subtitle=""
               [isTitleCentered]="true"
               [wrapBreakpoint]="1300"
               [isContentCentered]="false"
               [isHorizontal]="true">
    <app-metadata-diff-card [first]="this.first()!"
                            [second]="this.second()!"
                            [submissionPair]="this.submissionPair()!">

    </app-metadata-diff-card>

    <div class="stat-flex-column">

      <app-stat-card name="Jaccardov koeficient (bi-gramy)"
                     [value]="this.getFormattedScore('JACCARD')">
      </app-stat-card>

      <app-stat-card name="Podobnosť autorov (metaúdaje)"
                     [value]="this.getFormattedScore('META')">
      </app-stat-card>

      <app-stat-card name="Semantická podobnosť"
                     [value]="this.getFormattedScore('SEMANTIC')">
      </app-stat-card>

    </div>
  </app-surface>

  <app-surface title="Porovnanie obsahu"
               subtitle=""
               [isContentCentered]="false"
               [isTitleCentered]="true">

    <div class="editor-container">
      <div class="editor-wrapper">
        <div class="editor-header">
          <div class="header-text-frame">
            <h3>{{ this.first()?.submitter }}</h3>
            <p>{{ this.first()?.filename }}</p>
          </div>
          <mat-icon *ngIf="this.first()?.indexed"
                    svgIcon="file-document-check-outline"
                    matTooltip="Tento dokument bol získaný z indexu dokumentov."
          ></mat-icon>
        </div>

        <app-text-editor [submission]="this.first()!"
                         [plagCases]="this.plagCases()!"
                         [markingSide]="0"
        ></app-text-editor>

      </div>
      <div class="editor-wrapper">
        <div class="editor-header">
          <div class="header-text-frame">
            <h3>{{ this.second()?.submitter }}</h3>
            <p>{{ this.second()?.filename }}</p>
          </div>
          <mat-icon *ngIf="this.second()?.indexed"
                    svgIcon="file-document-check-outline"
                    matTooltip="Tento dokument bol získaný z indexu dokumentov."
          ></mat-icon>
        </div>

        <app-text-editor [submission]="this.second()!"
                         [plagCases]="this.plagCases()!"
                         [markingSide]="1"
        ></app-text-editor>
      </div>

    </div>

  </app-surface>

</app-content-container>
